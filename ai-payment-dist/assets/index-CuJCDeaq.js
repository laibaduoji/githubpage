const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./secp256k1-cTDP0q_r.js","./sha256-lS6OKHLT.js","./embedded-wallet-BCYwXMdF.js","./if-defined-BGIr1FyQ.js","./index-55SsEPC3.js","./index-NWPTFFjg.js","./index-B_KWVbzS.js","./index-Dm3WAqCi.js","./index-BBobMXDU.js","./index-cjuWf_qX.js","./index-BqPBbBEv.js","./index-orxfNOqI.js","./email-DE_fBnkK.js","./index-CAHpOQki.js","./socials-BWpGSGeZ.js","./index-DEZUqmEa.js","./index-Ci3qQPAu.js","./index-TM6IBQqB.js","./index-Ic-wO_wz.js","./swaps-frO9tuPm.js","./index-CCKzdXoq.js","./index-BEZ1RLOz.js","./index-DlzXDZfM.js","./send-XSd5cZWT.js","./index-CxPhEjlU.js","./receive-aiqEI3H0.js","./index-PCwpJ-so.js","./onramp-BLiWwxnF.js","./index-DCVNZZrV.js","./index-Btqdbmvy.js","./transactions-DpHQpax3.js","./index-_hqdqd5d.js","./index-Bcg5qp_H.js","./index-CIZItS-3.js","./w3m-modal-F3odkX5C.js","./index-BQ0xP8w-.js","./HomeView-BRh5tu-R.js","./Input-DT45qaCG.js","./el-input-Df9nb35I.js","./el-input-BCtgWP8V.css","./Input-BtmYRukq.css","./HomeView-4YRxAyhC.css","./ChatView--92kzqKz.js","./lodash-UDUmCz0B.js","./lodash-qUI4VT-y.css","./ChatView-C-7iitNZ.css","./ReplayView-Sx1sWLSP.js","./ReplayView-BGmMJVeD.css"])))=>i.map(i=>d[i]);
var JD=Object.defineProperty;var RC=t=>{throw TypeError(t)};var YD=(t,e,r)=>e in t?JD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ne=(t,e,r)=>YD(t,typeof e!="symbol"?e+"":e,r),N1=(t,e,r)=>e.has(t)||RC("Cannot "+r);var M=(t,e,r)=>(N1(t,e,"read from private field"),r?r.call(t):e.get(t)),ae=(t,e,r)=>e.has(t)?RC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),W=(t,e,r,n)=>(N1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(N1(t,e,"access private method"),r);var Wh=(t,e,r,n)=>({set _(s){W(t,e,s,r)},get _(){return M(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function o3(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const fr={},td=[],wn=()=>{},QD=()=>!1,Wb=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),a3=t=>t.startsWith("onUpdate:"),vn=Object.assign,c3=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},ZD=Object.prototype.hasOwnProperty,Lt=(t,e)=>ZD.call(t,e),nt=Array.isArray,rd=t=>Kb(t)==="[object Map]",vT=t=>Kb(t)==="[object Set]",et=t=>typeof t=="function",Jt=t=>typeof t=="string",Va=t=>typeof t=="symbol",er=t=>t!==null&&typeof t=="object",ET=t=>(er(t)||et(t))&&et(t.then)&&et(t.catch),AT=Object.prototype.toString,Kb=t=>AT.call(t),XD=t=>Kb(t).slice(8,-1),_T=t=>Kb(t)==="[object Object]",l3=t=>Jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$p=o3(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gb=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},eM=/-(\w)/g,Ys=Gb(t=>t.replace(eM,(e,r)=>r?r.toUpperCase():"")),tM=/\B([A-Z])/g,ol=Gb(t=>t.replace(tM,"-$1").toLowerCase()),Jb=Gb(t=>t.charAt(0).toUpperCase()+t.slice(1)),P1=Gb(t=>t?`on${Jb(t)}`:""),Wc=(t,e)=>!Object.is(t,e),O1=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},CT=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},rM=t=>{const e=parseFloat(t);return isNaN(e)?t:e},nM=t=>{const e=Jt(t)?Number(t):NaN;return isNaN(e)?t:e};let kC;const Yb=()=>kC||(kC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function La(t){if(nt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=Jt(n)?aM(n):La(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(Jt(t)||er(t))return t}const sM=/;(?![^(]*\))/g,iM=/:([^]+)/,oM=/\/\*[^]*?\*\//g;function aM(t){const e={};return t.replace(oM,"").split(sM).forEach(r=>{if(r){const n=r.split(iM);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function kt(t){let e="";if(Jt(t))e=t;else if(nt(t))for(let r=0;r<t.length;r++){const n=kt(t[r]);n&&(e+=n+" ")}else if(er(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function w1e(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Jt(e)&&(t.class=kt(e)),r&&(t.style=La(r)),t}const cM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lM=o3(cM);function ST(t){return!!t||t===""}const xT=t=>!!(t&&t.__v_isRef===!0),Ss=t=>Jt(t)?t:t==null?"":nt(t)||er(t)&&(t.toString===AT||!et(t.toString))?xT(t)?Ss(t.value):JSON.stringify(t,IT,2):String(t),IT=(t,e)=>xT(e)?IT(t,e.value):rd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[R1(n,i)+" =>"]=s,r),{})}:vT(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>R1(r))}:Va(e)?R1(e):er(e)&&!nt(e)&&!_T(e)?String(e):e,R1=(t,e="")=>{var r;return Va(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ts;class TT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ts,!e&&ts&&(this.index=(ts.scopes||(ts.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=ts;try{return ts=this,e()}finally{ts=r}}}on(){ts=this}off(){ts=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function NT(t){return new TT(t)}function u3(){return ts}function f3(t,e=!1){ts&&ts.cleanups.push(t)}let mr;const k1=new WeakSet;class PT{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ts&&ts.active&&ts.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,k1.has(this)&&(k1.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||RT(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,DC(this),kT(this);const e=mr,r=Gi;mr=this,Gi=!0;try{return this.fn()}finally{DT(this),mr=e,Gi=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)p3(e);this.deps=this.depsTail=void 0,DC(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?k1.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Y2(this)&&this.run()}get dirty(){return Y2(this)}}let OT=0,Lp,Fp;function RT(t,e=!1){if(t.flags|=8,e){t.next=Fp,Fp=t;return}t.next=Lp,Lp=t}function d3(){OT++}function h3(){if(--OT>0)return;if(Fp){let e=Fp;for(Fp=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Lp;){let e=Lp;for(Lp=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function kT(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function DT(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),p3(n),uM(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function Y2(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(MT(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function MT(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===l0))return;t.globalVersion=l0;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Y2(t)){t.flags&=-3;return}const r=mr,n=Gi;mr=t,Gi=!0;try{kT(t);const s=t.fn(t._value);(e.version===0||Wc(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{mr=r,Gi=n,DT(t),t.flags&=-3}}function p3(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)p3(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function uM(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Gi=!0;const BT=[];function al(){BT.push(Gi),Gi=!1}function cl(){const t=BT.pop();Gi=t===void 0?!0:t}function DC(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=mr;mr=void 0;try{e()}finally{mr=r}}}let l0=0;class fM{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class g3{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!mr||!Gi||mr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==mr)r=this.activeLink=new fM(mr,this),mr.deps?(r.prevDep=mr.depsTail,mr.depsTail.nextDep=r,mr.depsTail=r):mr.deps=mr.depsTail=r,UT(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=mr.depsTail,r.nextDep=void 0,mr.depsTail.nextDep=r,mr.depsTail=r,mr.deps===r&&(mr.deps=n)}return r}trigger(e){this.version++,l0++,this.notify(e)}notify(e){d3();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{h3()}}}function UT(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)UT(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const $y=new WeakMap,wu=Symbol(""),Q2=Symbol(""),u0=Symbol("");function Fn(t,e,r){if(Gi&&mr){let n=$y.get(t);n||$y.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new g3),s.map=n,s.key=r),s.track()}}function Ia(t,e,r,n,s,i){const o=$y.get(t);if(!o){l0++;return}const a=c=>{c&&c.trigger()};if(d3(),e==="clear")o.forEach(a);else{const c=nt(t),l=c&&l3(r);if(c&&r==="length"){const u=Number(n);o.forEach((f,d)=>{(d==="length"||d===u0||!Va(d)&&d>=u)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),l&&a(o.get(u0)),e){case"add":c?l&&a(o.get("length")):(a(o.get(wu)),rd(t)&&a(o.get(Q2)));break;case"delete":c||(a(o.get(wu)),rd(t)&&a(o.get(Q2)));break;case"set":rd(t)&&a(o.get(wu));break}}h3()}function dM(t,e){const r=$y.get(t);return r&&r.get(e)}function ff(t){const e=Pt(t);return e===t?e:(Fn(e,"iterate",u0),bi(t)?e:e.map(jn))}function Qb(t){return Fn(t=Pt(t),"iterate",u0),t}const hM={__proto__:null,[Symbol.iterator](){return D1(this,Symbol.iterator,jn)},concat(...t){return ff(this).concat(...t.map(e=>nt(e)?ff(e):e))},entries(){return D1(this,"entries",t=>(t[1]=jn(t[1]),t))},every(t,e){return Wo(this,"every",t,e,void 0,arguments)},filter(t,e){return Wo(this,"filter",t,e,r=>r.map(jn),arguments)},find(t,e){return Wo(this,"find",t,e,jn,arguments)},findIndex(t,e){return Wo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Wo(this,"findLast",t,e,jn,arguments)},findLastIndex(t,e){return Wo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Wo(this,"forEach",t,e,void 0,arguments)},includes(...t){return M1(this,"includes",t)},indexOf(...t){return M1(this,"indexOf",t)},join(t){return ff(this).join(t)},lastIndexOf(...t){return M1(this,"lastIndexOf",t)},map(t,e){return Wo(this,"map",t,e,void 0,arguments)},pop(){return Kh(this,"pop")},push(...t){return Kh(this,"push",t)},reduce(t,...e){return MC(this,"reduce",t,e)},reduceRight(t,...e){return MC(this,"reduceRight",t,e)},shift(){return Kh(this,"shift")},some(t,e){return Wo(this,"some",t,e,void 0,arguments)},splice(...t){return Kh(this,"splice",t)},toReversed(){return ff(this).toReversed()},toSorted(t){return ff(this).toSorted(t)},toSpliced(...t){return ff(this).toSpliced(...t)},unshift(...t){return Kh(this,"unshift",t)},values(){return D1(this,"values",jn)}};function D1(t,e,r){const n=Qb(t),s=n[e]();return n!==t&&!bi(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const pM=Array.prototype;function Wo(t,e,r,n,s,i){const o=Qb(t),a=o!==t&&!bi(t),c=o[e];if(c!==pM[e]){const f=c.apply(t,i);return a?jn(f):f}let l=r;o!==t&&(a?l=function(f,d){return r.call(this,jn(f),d,t)}:r.length>2&&(l=function(f,d){return r.call(this,f,d,t)}));const u=c.call(o,l,n);return a&&s?s(u):u}function MC(t,e,r,n){const s=Qb(t);let i=r;return s!==t&&(bi(t)?r.length>3&&(i=function(o,a,c){return r.call(this,o,a,c,t)}):i=function(o,a,c){return r.call(this,o,jn(a),c,t)}),s[e](i,...n)}function M1(t,e,r){const n=Pt(t);Fn(n,"iterate",u0);const s=n[e](...r);return(s===-1||s===!1)&&b3(r[0])?(r[0]=Pt(r[0]),n[e](...r)):s}function Kh(t,e,r=[]){al(),d3();const n=Pt(t)[e].apply(t,r);return h3(),cl(),n}const gM=o3("__proto__,__v_isRef,__isVue"),$T=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Va));function mM(t){Va(t)||(t=String(t));const e=Pt(this);return Fn(e,"has",t),e.hasOwnProperty(t)}class LT{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?xM:zT:i?HT:jT).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=nt(e);if(!s){let c;if(o&&(c=hM[r]))return c;if(r==="hasOwnProperty")return mM}const a=Reflect.get(e,r,ir(e)?e:n);return(Va(r)?$T.has(r):gM(r))||(s||Fn(e,"get",r),i)?a:ir(a)?o&&l3(r)?a:a.value:er(a)?s?Rg(a):ll(a):a}}class FT extends LT{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const c=Nu(i);if(!bi(n)&&!Nu(n)&&(i=Pt(i),n=Pt(n)),!nt(e)&&ir(i)&&!ir(n))return c?!1:(i.value=n,!0)}const o=nt(e)&&l3(r)?Number(r)<e.length:Lt(e,r),a=Reflect.set(e,r,n,ir(e)?e:s);return e===Pt(s)&&(o?Wc(n,i)&&Ia(e,"set",r,n):Ia(e,"add",r,n)),a}deleteProperty(e,r){const n=Lt(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&Ia(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!Va(r)||!$T.has(r))&&Fn(e,"has",r),n}ownKeys(e){return Fn(e,"iterate",nt(e)?"length":wu),Reflect.ownKeys(e)}}class yM extends LT{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const bM=new FT,wM=new yM,vM=new FT(!0);const Z2=t=>t,um=t=>Reflect.getPrototypeOf(t);function EM(t,e,r){return function(...n){const s=this.__v_raw,i=Pt(s),o=rd(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...n),u=r?Z2:e?X2:jn;return!e&&Fn(i,"iterate",c?Q2:wu),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function fm(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function AM(t,e){const r={get(s){const i=this.__v_raw,o=Pt(i),a=Pt(s);t||(Wc(s,a)&&Fn(o,"get",s),Fn(o,"get",a));const{has:c}=um(o),l=e?Z2:t?X2:jn;if(c.call(o,s))return l(i.get(s));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Fn(Pt(s),"iterate",wu),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Pt(i),a=Pt(s);return t||(Wc(s,a)&&Fn(o,"has",s),Fn(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=Pt(a),l=e?Z2:t?X2:jn;return!t&&Fn(c,"iterate",wu),a.forEach((u,f)=>s.call(i,l(u),l(f),o))}};return vn(r,t?{add:fm("add"),set:fm("set"),delete:fm("delete"),clear:fm("clear")}:{add(s){!e&&!bi(s)&&!Nu(s)&&(s=Pt(s));const i=Pt(this);return um(i).has.call(i,s)||(i.add(s),Ia(i,"add",s,s)),this},set(s,i){!e&&!bi(i)&&!Nu(i)&&(i=Pt(i));const o=Pt(this),{has:a,get:c}=um(o);let l=a.call(o,s);l||(s=Pt(s),l=a.call(o,s));const u=c.call(o,s);return o.set(s,i),l?Wc(i,u)&&Ia(o,"set",s,i):Ia(o,"add",s,i),this},delete(s){const i=Pt(this),{has:o,get:a}=um(i);let c=o.call(i,s);c||(s=Pt(s),c=o.call(i,s)),a&&a.call(i,s);const l=i.delete(s);return c&&Ia(i,"delete",s,void 0),l},clear(){const s=Pt(this),i=s.size!==0,o=s.clear();return i&&Ia(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=EM(s,t,e)}),r}function m3(t,e){const r=AM(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(Lt(r,s)&&s in n?r:n,s,i)}const _M={get:m3(!1,!1)},CM={get:m3(!1,!0)},SM={get:m3(!0,!1)};const jT=new WeakMap,HT=new WeakMap,zT=new WeakMap,xM=new WeakMap;function IM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TM(t){return t.__v_skip||!Object.isExtensible(t)?0:IM(XD(t))}function ll(t){return Nu(t)?t:y3(t,!1,bM,_M,jT)}function qT(t){return y3(t,!1,vM,CM,HT)}function Rg(t){return y3(t,!0,wM,SM,zT)}function y3(t,e,r,n,s){if(!er(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=TM(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function ka(t){return Nu(t)?ka(t.__v_raw):!!(t&&t.__v_isReactive)}function Nu(t){return!!(t&&t.__v_isReadonly)}function bi(t){return!!(t&&t.__v_isShallow)}function b3(t){return t?!!t.__v_raw:!1}function Pt(t){const e=t&&t.__v_raw;return e?Pt(e):t}function w3(t){return!Lt(t,"__v_skip")&&Object.isExtensible(t)&&CT(t,"__v_skip",!0),t}const jn=t=>er(t)?ll(t):t,X2=t=>er(t)?Rg(t):t;function ir(t){return t?t.__v_isRef===!0:!1}function Be(t){return VT(t,!1)}function v3(t){return VT(t,!0)}function VT(t,e){return ir(t)?t:new NM(t,e)}class NM{constructor(e,r){this.dep=new g3,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Pt(e),this._value=r?e:jn(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||bi(e)||Nu(e);e=n?e:Pt(e),Wc(e,r)&&(this._rawValue=e,this._value=n?e:jn(e),this.dep.trigger())}}function G(t){return ir(t)?t.value:t}const PM={get:(t,e,r)=>e==="__v_raw"?t:G(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return ir(s)&&!ir(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function WT(t){return ka(t)?t:new Proxy(t,PM)}function OM(t){const e=nt(t)?new Array(t.length):{};for(const r in t)e[r]=KT(t,r);return e}class RM{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return dM(Pt(this._object),this._key)}}class kM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Pa(t,e,r){return ir(t)?t:et(t)?new kM(t):er(t)&&arguments.length>1?KT(t,e,r):Be(t)}function KT(t,e,r){const n=t[e];return ir(n)?n:new RM(t,e,r)}class DM{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new g3(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=l0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&mr!==this)return RT(this,!0),!0}get value(){const e=this.dep.track();return MT(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function MM(t,e,r=!1){let n,s;return et(t)?n=t:(n=t.get,s=t.set),new DM(n,s,r)}const dm={},Ly=new WeakMap;let Il;function BM(t,e=!1,r=Il){if(r){let n=Ly.get(r);n||Ly.set(r,n=[]),n.push(t)}}function UM(t,e,r=fr){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=r,l=T=>s?T:bi(T)||s===!1||s===0?Ta(T,1):Ta(T);let u,f,d,h,p=!1,g=!1;if(ir(t)?(f=()=>t.value,p=bi(t)):ka(t)?(f=()=>l(t),p=!0):nt(t)?(g=!0,p=t.some(T=>ka(T)||bi(T)),f=()=>t.map(T=>{if(ir(T))return T.value;if(ka(T))return l(T);if(et(T))return c?c(T,2):T()})):et(t)?e?f=c?()=>c(t,2):t:f=()=>{if(d){al();try{d()}finally{cl()}}const T=Il;Il=u;try{return c?c(t,3,[h]):t(h)}finally{Il=T}}:f=wn,e&&s){const T=f,N=s===!0?1/0:s;f=()=>Ta(T(),N)}const y=u3(),E=()=>{u.stop(),y&&y.active&&c3(y.effects,u)};if(i&&e){const T=e;e=(...N)=>{T(...N),E()}}let C=g?new Array(t.length).fill(dm):dm;const I=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const N=u.run();if(s||p||(g?N.some((k,B)=>Wc(k,C[B])):Wc(N,C))){d&&d();const k=Il;Il=u;try{const B=[N,C===dm?void 0:g&&C[0]===dm?[]:C,h];c?c(e,3,B):e(...B),C=N}finally{Il=k}}}else u.run()};return a&&a(I),u=new PT(f),u.scheduler=o?()=>o(I,!1):I,h=T=>BM(T,!1,u),d=u.onStop=()=>{const T=Ly.get(u);if(T){if(c)c(T,4);else for(const N of T)N();Ly.delete(u)}},e?n?I(!0):C=u.run():o?o(I.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Ta(t,e=1/0,r){if(e<=0||!er(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,ir(t))Ta(t.value,e,r);else if(nt(t))for(let n=0;n<t.length;n++)Ta(t[n],e,r);else if(vT(t)||rd(t))t.forEach(n=>{Ta(n,e,r)});else if(_T(t)){for(const n in t)Ta(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ta(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kg(t,e,r,n){try{return n?t(...n):t()}catch(s){Zb(s,e,r)}}function Qi(t,e,r,n){if(et(t)){const s=kg(t,e,r,n);return s&&ET(s)&&s.catch(i=>{Zb(i,e,r)}),s}if(nt(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Qi(t[i],e,r,n));return s}}function Zb(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||fr;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,l)===!1)return}a=a.parent}if(i){al(),kg(i,null,10,[t,c,l]),cl();return}}$M(t,r,s,n,o)}function $M(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const ns=[];let yo=-1;const nd=[];let fc=null,Uf=0;const GT=Promise.resolve();let Fy=null;function Pu(t){const e=Fy||GT;return t?e.then(this?t.bind(this):t):e}function LM(t){let e=yo+1,r=ns.length;for(;e<r;){const n=e+r>>>1,s=ns[n],i=f0(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function E3(t){if(!(t.flags&1)){const e=f0(t),r=ns[ns.length-1];!r||!(t.flags&2)&&e>=f0(r)?ns.push(t):ns.splice(LM(e),0,t),t.flags|=1,JT()}}function JT(){Fy||(Fy=GT.then(QT))}function FM(t){nt(t)?nd.push(...t):fc&&t.id===-1?fc.splice(Uf+1,0,t):t.flags&1||(nd.push(t),t.flags|=1),JT()}function BC(t,e,r=yo+1){for(;r<ns.length;r++){const n=ns[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ns.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function YT(t){if(nd.length){const e=[...new Set(nd)].sort((r,n)=>f0(r)-f0(n));if(nd.length=0,fc){fc.push(...e);return}for(fc=e,Uf=0;Uf<fc.length;Uf++){const r=fc[Uf];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}fc=null,Uf=0}}const f0=t=>t.id==null?t.flags&2?-1:1/0:t.id;function QT(t){try{for(yo=0;yo<ns.length;yo++){const e=ns[yo];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kg(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;yo<ns.length;yo++){const e=ns[yo];e&&(e.flags&=-2)}yo=-1,ns.length=0,YT(),Fy=null,(ns.length||nd.length)&&QT()}}let on=null,ZT=null;function jy(t){const e=on;return on=t,ZT=t&&t.type.__scopeId||null,e}function lt(t,e=on,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&QC(-1);const i=jy(e);let o;try{o=t(...s)}finally{jy(i),n._d&&QC(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function nh(t,e){if(on===null)return t;const r=sw(on),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=fr]=e[s];i&&(et(i)&&(i={mounted:i,updated:i}),i.deep&&Ta(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function gl(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(al(),Qi(c,r,8,[t.el,a,t,e]),cl())}}const XT=Symbol("_vte"),eN=t=>t.__isTeleport,jp=t=>t&&(t.disabled||t.disabled===""),UC=t=>t&&(t.defer||t.defer===""),$C=t=>typeof SVGElement<"u"&&t instanceof SVGElement,LC=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,eE=(t,e)=>{const r=t&&t.to;return Jt(r)?e?e(r):null:r},tN={name:"Teleport",__isTeleport:!0,process(t,e,r,n,s,i,o,a,c,l){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:g,createComment:y}}=l,E=jp(e.props);let{shapeFlag:C,children:I,dynamicChildren:T}=e;if(t==null){const N=e.el=g(""),k=e.anchor=g("");h(N,r,n),h(k,r,n);const B=($,j)=>{C&16&&(s&&s.isCE&&(s.ce._teleportTarget=$),u(I,$,j,s,i,o,a,c))},L=()=>{const $=e.target=eE(e.props,p),j=rN($,e,g,h);$&&(o!=="svg"&&$C($)?o="svg":o!=="mathml"&&LC($)&&(o="mathml"),E||(B($,j),ty(e,!1)))};E&&(B(r,k),ty(e,!0)),UC(e.props)?Xn(()=>{L(),e.el.__isMounted=!0},i):L()}else{if(UC(e.props)&&!t.el.__isMounted){Xn(()=>{tN.process(t,e,r,n,s,i,o,a,c,l),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const N=e.anchor=t.anchor,k=e.target=t.target,B=e.targetAnchor=t.targetAnchor,L=jp(t.props),$=L?r:k,j=L?N:B;if(o==="svg"||$C(k)?o="svg":(o==="mathml"||LC(k))&&(o="mathml"),T?(d(t.dynamicChildren,T,$,s,i,o,a),C3(t,e,!0)):c||f(t,e,$,j,s,i,o,a,!1),E)L?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):hm(e,r,N,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const O=e.target=eE(e.props,p);O&&hm(e,O,null,l,0)}else L&&hm(e,k,B,l,1);ty(e,E)}},remove(t,e,r,{um:n,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:f,props:d}=t;if(f&&(s(l),s(u)),i&&s(c),o&16){const h=i||!jp(d);for(let p=0;p<a.length;p++){const g=a[p];n(g,e,r,h,!!g.dynamicChildren)}}},move:hm,hydrate:jM};function hm(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,f=i===2;if(f&&n(o,e,r),(!f||jp(u))&&c&16)for(let d=0;d<l.length;d++)s(l[d],e,r,2);f&&n(a,e,r)}function jM(t,e,r,n,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},f){const d=e.target=eE(e.props,c);if(d){const h=jp(e.props),p=d._lpa||d.firstChild;if(e.shapeFlag&16)if(h)e.anchor=f(o(t),e,a(t),r,n,s,i),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||rN(d,e,u,l),f(p&&o(p),e,d,r,n,s,i)}ty(e,h)}return e.anchor&&o(e.anchor)}const HM=tN;function ty(t,e){const r=t.ctx;if(r&&r.ut){let n,s;for(e?(n=t.el,s=t.anchor):(n=t.targetStart,s=t.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function rN(t,e,r,n){const s=e.targetStart=r(""),i=e.targetAnchor=r("");return s[XT]=i,t&&(n(s,t),n(i,t)),i}const dc=Symbol("_leaveCb"),pm=Symbol("_enterCb");function zM(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hs(()=>{t.isMounted=!0}),_i(()=>{t.isUnmounting=!0}),t}const Xs=[Function,Array],nN={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xs,onEnter:Xs,onAfterEnter:Xs,onEnterCancelled:Xs,onBeforeLeave:Xs,onLeave:Xs,onAfterLeave:Xs,onLeaveCancelled:Xs,onBeforeAppear:Xs,onAppear:Xs,onAfterAppear:Xs,onAppearCancelled:Xs},sN=t=>{const e=t.subTree;return e.component?sN(e.component):e},qM={name:"BaseTransition",props:nN,setup(t,{slots:e}){const r=vi(),n=zM();return()=>{const s=e.default&&aN(e.default(),!0);if(!s||!s.length)return;const i=iN(s),o=Pt(t),{mode:a}=o;if(n.isLeaving)return B1(i);const c=FC(i);if(!c)return B1(i);let l=tE(c,o,n,r,f=>l=f);c.type!==Hn&&d0(c,l);let u=r.subTree&&FC(r.subTree);if(u&&u.type!==Hn&&!Rl(c,u)&&sN(r).type!==Hn){let f=tE(u,o,n,r);if(d0(u,f),a==="out-in"&&c.type!==Hn)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,u=void 0},B1(i);a==="in-out"&&c.type!==Hn?f.delayLeave=(d,h,p)=>{const g=oN(n,u);g[String(u.key)]=u,d[dc]=()=>{h(),d[dc]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function iN(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Hn){e=r;break}}return e}const VM=qM;function oN(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function tE(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:y,onAppear:E,onAfterAppear:C,onAppearCancelled:I}=e,T=String(t.key),N=oN(r,t),k=($,j)=>{$&&Qi($,n,9,j)},B=($,j)=>{const O=j[1];k($,j),nt($)?$.every(m=>m.length<=1)&&O():$.length<=1&&O()},L={mode:o,persisted:a,beforeEnter($){let j=c;if(!r.isMounted)if(i)j=y||c;else return;$[dc]&&$[dc](!0);const O=N[T];O&&Rl(t,O)&&O.el[dc]&&O.el[dc](),k(j,[$])},enter($){let j=l,O=u,m=f;if(!r.isMounted)if(i)j=E||l,O=C||u,m=I||f;else return;let A=!1;const S=$[pm]=b=>{A||(A=!0,b?k(m,[$]):k(O,[$]),L.delayedLeave&&L.delayedLeave(),$[pm]=void 0)};j?B(j,[$,S]):S()},leave($,j){const O=String(t.key);if($[pm]&&$[pm](!0),r.isUnmounting)return j();k(d,[$]);let m=!1;const A=$[dc]=S=>{m||(m=!0,j(),S?k(g,[$]):k(p,[$]),$[dc]=void 0,N[O]===t&&delete N[O])};N[O]=t,h?B(h,[$,A]):A()},clone($){const j=tE($,e,r,n,s);return s&&s(j),j}};return L}function B1(t){if(Xb(t))return t=Fa(t),t.children=null,t}function FC(t){if(!Xb(t))return eN(t.type)&&t.children?iN(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&et(r.default))return r.default()}}function d0(t,e){t.shapeFlag&6&&t.component?(t.transition=e,d0(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function aN(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Xr?(o.patchFlag&128&&s++,n=n.concat(aN(o.children,e,a))):(e||o.type!==Hn)&&n.push(a!=null?Fa(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ge(t,e){return et(t)?vn({name:t.name},e,{setup:t}):t}function cN(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Hy(t,e,r,n,s=!1){if(nt(t)){t.forEach((p,g)=>Hy(p,e&&(nt(e)?e[g]:e),r,n,s));return}if(sd(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Hy(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?sw(n.component):n.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===fr?a.refs={}:a.refs,f=a.setupState,d=Pt(f),h=f===fr?()=>!1:p=>Lt(d,p);if(l!=null&&l!==c&&(Jt(l)?(u[l]=null,h(l)&&(f[l]=null)):ir(l)&&(l.value=null)),et(c))kg(c,a,12,[o,u]);else{const p=Jt(c),g=ir(c);if(p||g){const y=()=>{if(t.f){const E=p?h(c)?f[c]:u[c]:c.value;s?nt(E)&&c3(E,i):nt(E)?E.includes(i)||E.push(i):p?(u[c]=[i],h(c)&&(f[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else p?(u[c]=o,h(c)&&(f[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,Xn(y,r)):y()}}}Yb().requestIdleCallback;Yb().cancelIdleCallback;const sd=t=>!!t.type.__asyncLoader,Xb=t=>t.type.__isKeepAlive;function WM(t,e){uN(t,"a",e)}function lN(t,e){uN(t,"da",e)}function uN(t,e,r=mn){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(ew(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Xb(s.parent.vnode)&&KM(n,e,r,s),s=s.parent}}function KM(t,e,r,n){const s=ew(e,t,n,!0);tw(()=>{c3(n[e],s)},r)}function ew(t,e,r=mn,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{al();const a=Dg(r),c=Qi(e,r,t,o);return a(),cl(),c});return n?s.unshift(i):s.push(i),i}}const Wa=t=>(e,r=mn)=>{(!p0||t==="sp")&&ew(t,(...n)=>e(...n),r)},fN=Wa("bm"),hs=Wa("m"),GM=Wa("bu"),JM=Wa("u"),_i=Wa("bum"),tw=Wa("um"),YM=Wa("sp"),QM=Wa("rtg"),ZM=Wa("rtc");function XM(t,e=mn){ew("ec",t,e)}const dN="components";function eB(t,e){return pN(dN,t,!0,e)||t}const hN=Symbol.for("v-ndc");function Hp(t){return Jt(t)?pN(dN,t,!1)||t:t||hN}function pN(t,e,r=!0,n=!1){const s=on||mn;if(s){const i=s.type;{const a=FB(i,!1);if(a&&(a===e||a===Ys(e)||a===Jb(Ys(e))))return i}const o=jC(s[t]||i[t],e)||jC(s.appContext[t],e);return!o&&n?i:o}}function jC(t,e){return t&&(t[e]||t[Ys(e)]||t[Jb(Ys(e))])}function HC(t,e,r,n){let s;const i=r,o=nt(t);if(o||Jt(t)){const a=o&&ka(t);let c=!1;a&&(c=!bi(t),t=Qb(t)),s=new Array(t.length);for(let l=0,u=t.length;l<u;l++)s[l]=e(c?jn(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(er(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];s[c]=e(t[u],u,c,i)}}else s=[];return s}function tB(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(nt(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return t}function Dt(t,e,r={},n,s){if(on.ce||on.parent&&sd(on.parent)&&on.parent.ce)return e!=="default"&&(r.name=e),De(),sr(Xr,null,[ut("slot",r,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),De();const o=i&&gN(i(r)),a=r.key||o&&o.key,c=sr(Xr,{key:(a&&!Va(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function gN(t){return t.some(e=>Zc(e)?!(e.type===Hn||e.type===Xr&&!gN(e.children)):!0)?t:null}const rE=t=>t?MN(t)?sw(t):rE(t.parent):null,zp=vn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rE(t.parent),$root:t=>rE(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>bN(t),$forceUpdate:t=>t.f||(t.f=()=>{E3(t.update)}),$nextTick:t=>t.n||(t.n=Pu.bind(t.proxy)),$watch:t=>_B.bind(t)}),U1=(t,e)=>t!==fr&&!t.__isScriptSetup&&Lt(t,e),rB={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(U1(n,e))return o[e]=1,n[e];if(s!==fr&&Lt(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Lt(l,e))return o[e]=3,i[e];if(r!==fr&&Lt(r,e))return o[e]=4,r[e];nE&&(o[e]=0)}}const u=zp[e];let f,d;if(u)return e==="$attrs"&&Fn(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==fr&&Lt(r,e))return o[e]=4,r[e];if(d=c.config.globalProperties,Lt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return U1(s,e)?(s[e]=r,!0):n!==fr&&Lt(n,e)?(n[e]=r,!0):Lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||t!==fr&&Lt(t,o)||U1(e,o)||(a=i[0])&&Lt(a,o)||Lt(n,o)||Lt(zp,o)||Lt(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Lt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function A3(){return mN().slots}function v1e(){return mN().attrs}function mN(){const t=vi();return t.setupContext||(t.setupContext=UN(t))}function zC(t){return nt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let nE=!0;function nB(t){const e=bN(t),r=t.proxy,n=t.ctx;nE=!1,e.beforeCreate&&qC(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:g,deactivated:y,beforeDestroy:E,beforeUnmount:C,destroyed:I,unmounted:T,render:N,renderTracked:k,renderTriggered:B,errorCaptured:L,serverPrefetch:$,expose:j,inheritAttrs:O,components:m,directives:A,filters:S}=e;if(l&&sB(l,n,null),o)for(const x in o){const D=o[x];et(D)&&(n[x]=D.bind(r))}if(s){const x=s.call(r,r);er(x)&&(t.data=ll(x))}if(nE=!0,i)for(const x in i){const D=i[x],R=et(D)?D.bind(r,r):et(D.get)?D.get.bind(r,r):wn,v=!et(D)&&et(D.set)?D.set.bind(r):wn,U=ye({get:R,set:v});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>U.value,set:K=>U.value=K})}if(a)for(const x in a)yN(a[x],n,r,x);if(c){const x=et(c)?c.call(r):c;Reflect.ownKeys(x).forEach(D=>{ls(D,x[D])})}u&&qC(u,t,"c");function w(x,D){nt(D)?D.forEach(R=>x(R.bind(r))):D&&x(D.bind(r))}if(w(fN,f),w(hs,d),w(GM,h),w(JM,p),w(WM,g),w(lN,y),w(XM,L),w(ZM,k),w(QM,B),w(_i,C),w(tw,T),w(YM,$),nt(j))if(j.length){const x=t.exposed||(t.exposed={});j.forEach(D=>{Object.defineProperty(x,D,{get:()=>r[D],set:R=>r[D]=R})})}else t.exposed||(t.exposed={});N&&t.render===wn&&(t.render=N),O!=null&&(t.inheritAttrs=O),m&&(t.components=m),A&&(t.directives=A),$&&cN(t)}function sB(t,e,r=wn){nt(t)&&(t=sE(t));for(const n in t){const s=t[n];let i;er(s)?"default"in s?i=St(s.from||n,s.default,!0):i=St(s.from||n):i=St(s),ir(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function qC(t,e,r){Qi(nt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function yN(t,e,r,n){let s=n.includes(".")?PN(r,n):()=>r[n];if(Jt(t)){const i=e[t];et(i)&&jt(s,i)}else if(et(t))jt(s,t.bind(r));else if(er(t))if(nt(t))t.forEach(i=>yN(i,e,r,n));else{const i=et(t.handler)?t.handler.bind(r):e[t.handler];et(i)&&jt(s,i,t)}}function bN(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!r&&!n?c=e:(c={},s.length&&s.forEach(l=>zy(c,l,o,!0)),zy(c,e,o)),er(e)&&i.set(e,c),c}function zy(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&zy(t,i,r,!0),s&&s.forEach(o=>zy(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=iB[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const iB={data:VC,props:WC,emits:WC,methods:_p,computed:_p,beforeCreate:Yn,created:Yn,beforeMount:Yn,mounted:Yn,beforeUpdate:Yn,updated:Yn,beforeDestroy:Yn,beforeUnmount:Yn,destroyed:Yn,unmounted:Yn,activated:Yn,deactivated:Yn,errorCaptured:Yn,serverPrefetch:Yn,components:_p,directives:_p,watch:aB,provide:VC,inject:oB};function VC(t,e){return e?t?function(){return vn(et(t)?t.call(this,this):t,et(e)?e.call(this,this):e)}:e:t}function oB(t,e){return _p(sE(t),sE(e))}function sE(t){if(nt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Yn(t,e){return t?[...new Set([].concat(t,e))]:e}function _p(t,e){return t?vn(Object.create(null),t,e):e}function WC(t,e){return t?nt(t)&&nt(e)?[...new Set([...t,...e])]:vn(Object.create(null),zC(t),zC(e??{})):e}function aB(t,e){if(!t)return e;if(!e)return t;const r=vn(Object.create(null),t);for(const n in e)r[n]=Yn(t[n],e[n]);return r}function wN(){return{app:null,config:{isNativeTag:QD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cB=0;function lB(t,e){return function(n,s=null){et(n)||(n=vn({},n)),s!=null&&!er(s)&&(s=null);const i=wN(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:cB++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:HB,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&et(u.install)?(o.add(u),u.install(l,...f)):et(u)&&(o.add(u),u(l,...f))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,f){return f?(i.components[u]=f,l):i.components[u]},directive(u,f){return f?(i.directives[u]=f,l):i.directives[u]},mount(u,f,d){if(!c){const h=l._ceVNode||ut(n,s);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(h,u,d),c=!0,l._container=u,u.__vue_app__=l,sw(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Qi(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return i.provides[u]=f,l},runWithContext(u){const f=vu;vu=l;try{return u()}finally{vu=f}}};return l}}let vu=null;function ls(t,e){if(mn){let r=mn.provides;const n=mn.parent&&mn.parent.provides;n===r&&(r=mn.provides=Object.create(n)),r[t]=e}}function St(t,e,r=!1){const n=mn||on;if(n||vu){const s=vu?vu._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&et(e)?e.call(n&&n.proxy):e}}function uB(){return!!(mn||on||vu)}const vN={},EN=()=>Object.create(vN),AN=t=>Object.getPrototypeOf(t)===vN;function fB(t,e,r,n=!1){const s={},i=EN();t.propsDefaults=Object.create(null),_N(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:qT(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function dB(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Pt(s),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(nw(t.emitsOptions,d))continue;const h=e[d];if(c)if(Lt(i,d))h!==i[d]&&(i[d]=h,l=!0);else{const p=Ys(d);s[p]=iE(c,a,p,h,t,!1)}else h!==i[d]&&(i[d]=h,l=!0)}}}else{_N(t,e,s,i)&&(l=!0);let u;for(const f in a)(!e||!Lt(e,f)&&((u=ol(f))===f||!Lt(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(s[f]=iE(c,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Lt(e,f))&&(delete i[f],l=!0)}l&&Ia(t.attrs,"set","")}function _N(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if($p(c))continue;const l=e[c];let u;s&&Lt(s,u=Ys(c))?!i||!i.includes(u)?r[u]=l:(a||(a={}))[u]=l:nw(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(i){const c=Pt(r),l=a||fr;for(let u=0;u<i.length;u++){const f=i[u];r[f]=iE(s,c,f,l[f],t,!Lt(l,f))}}return o}function iE(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=Lt(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&et(c)){const{propsDefaults:l}=s;if(r in l)n=l[r];else{const u=Dg(s);n=l[r]=c.call(null,e),u()}}else n=c;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===ol(r))&&(n=!0))}return n}const hB=new WeakMap;function CN(t,e,r=!1){const n=r?hB:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!et(t)){const u=f=>{c=!0;const[d,h]=CN(f,e,!0);vn(o,d),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return er(t)&&n.set(t,td),td;if(nt(i))for(let u=0;u<i.length;u++){const f=Ys(i[u]);KC(f)&&(o[f]=fr)}else if(i)for(const u in i){const f=Ys(u);if(KC(f)){const d=i[u],h=o[f]=nt(d)||et(d)?{type:d}:vn({},d),p=h.type;let g=!1,y=!0;if(nt(p))for(let E=0;E<p.length;++E){const C=p[E],I=et(C)&&C.name;if(I==="Boolean"){g=!0;break}else I==="String"&&(y=!1)}else g=et(p)&&p.name==="Boolean";h[0]=g,h[1]=y,(g||Lt(h,"default"))&&a.push(f)}}const l=[o,a];return er(t)&&n.set(t,l),l}function KC(t){return t[0]!=="$"&&!$p(t)}const SN=t=>t[0]==="_"||t==="$stable",_3=t=>nt(t)?t.map(No):[No(t)],pB=(t,e,r)=>{if(e._n)return e;const n=lt((...s)=>_3(e(...s)),r);return n._c=!1,n},xN=(t,e,r)=>{const n=t._ctx;for(const s in t){if(SN(s))continue;const i=t[s];if(et(i))e[s]=pB(s,i,n);else if(i!=null){const o=_3(i);e[s]=()=>o}}},IN=(t,e)=>{const r=_3(e);t.slots.default=()=>r},TN=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},gB=(t,e,r)=>{const n=t.slots=EN();if(t.vnode.shapeFlag&32){const s=e._;s?(TN(n,e,r),r&&CT(n,"_",s,!0)):xN(e,n)}else e&&IN(t,e)},mB=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=fr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:TN(s,e,r):(i=!e.$stable,xN(e,s)),o=e}else e&&(IN(t,e),o={default:1});if(i)for(const a in s)!SN(a)&&o[a]==null&&delete s[a]},Xn=PB;function yB(t){return bB(t)}function bB(t,e){const r=Yb();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=wn,insertStaticContent:p}=t,g=(q,V,ee,ce=null,ue=null,me=null,ve=void 0,we=null,Ee=!!V.dynamicChildren)=>{if(q===V)return;q&&!Rl(q,V)&&(ce=Y(q),K(q,ue,me,!0),q=null),V.patchFlag===-2&&(Ee=!1,V.dynamicChildren=null);const{type:pe,ref:Ce,shapeFlag:Ne}=V;switch(pe){case kh:y(q,V,ee,ce);break;case Hn:E(q,V,ee,ce);break;case L1:q==null&&C(V,ee,ce,ve);break;case Xr:m(q,V,ee,ce,ue,me,ve,we,Ee);break;default:Ne&1?N(q,V,ee,ce,ue,me,ve,we,Ee):Ne&6?A(q,V,ee,ce,ue,me,ve,we,Ee):(Ne&64||Ne&128)&&pe.process(q,V,ee,ce,ue,me,ve,we,Ee,ge)}Ce!=null&&ue&&Hy(Ce,q&&q.ref,me,V||q,!V)},y=(q,V,ee,ce)=>{if(q==null)n(V.el=a(V.children),ee,ce);else{const ue=V.el=q.el;V.children!==q.children&&l(ue,V.children)}},E=(q,V,ee,ce)=>{q==null?n(V.el=c(V.children||""),ee,ce):V.el=q.el},C=(q,V,ee,ce)=>{[q.el,q.anchor]=p(q.children,V,ee,ce,q.el,q.anchor)},I=({el:q,anchor:V},ee,ce)=>{let ue;for(;q&&q!==V;)ue=d(q),n(q,ee,ce),q=ue;n(V,ee,ce)},T=({el:q,anchor:V})=>{let ee;for(;q&&q!==V;)ee=d(q),s(q),q=ee;s(V)},N=(q,V,ee,ce,ue,me,ve,we,Ee)=>{V.type==="svg"?ve="svg":V.type==="math"&&(ve="mathml"),q==null?k(V,ee,ce,ue,me,ve,we,Ee):$(q,V,ue,me,ve,we,Ee)},k=(q,V,ee,ce,ue,me,ve,we)=>{let Ee,pe;const{props:Ce,shapeFlag:Ne,transition:Se,dirs:Ie}=q;if(Ee=q.el=o(q.type,me,Ce&&Ce.is,Ce),Ne&8?u(Ee,q.children):Ne&16&&L(q.children,Ee,null,ce,ue,$1(q,me),ve,we),Ie&&gl(q,null,ce,"created"),B(Ee,q,q.scopeId,ve,ce),Ce){for(const F in Ce)F!=="value"&&!$p(F)&&i(Ee,F,null,Ce[F],me,ce);"value"in Ce&&i(Ee,"value",null,Ce.value,me),(pe=Ce.onVnodeBeforeMount)&&oo(pe,ce,q)}Ie&&gl(q,null,ce,"beforeMount");const it=wB(ue,Se);it&&Se.beforeEnter(Ee),n(Ee,V,ee),((pe=Ce&&Ce.onVnodeMounted)||it||Ie)&&Xn(()=>{pe&&oo(pe,ce,q),it&&Se.enter(Ee),Ie&&gl(q,null,ce,"mounted")},ue)},B=(q,V,ee,ce,ue)=>{if(ee&&h(q,ee),ce)for(let me=0;me<ce.length;me++)h(q,ce[me]);if(ue){let me=ue.subTree;if(V===me||RN(me.type)&&(me.ssContent===V||me.ssFallback===V)){const ve=ue.vnode;B(q,ve,ve.scopeId,ve.slotScopeIds,ue.parent)}}},L=(q,V,ee,ce,ue,me,ve,we,Ee=0)=>{for(let pe=Ee;pe<q.length;pe++){const Ce=q[pe]=we?hc(q[pe]):No(q[pe]);g(null,Ce,V,ee,ce,ue,me,ve,we)}},$=(q,V,ee,ce,ue,me,ve)=>{const we=V.el=q.el;let{patchFlag:Ee,dynamicChildren:pe,dirs:Ce}=V;Ee|=q.patchFlag&16;const Ne=q.props||fr,Se=V.props||fr;let Ie;if(ee&&ml(ee,!1),(Ie=Se.onVnodeBeforeUpdate)&&oo(Ie,ee,V,q),Ce&&gl(V,q,ee,"beforeUpdate"),ee&&ml(ee,!0),(Ne.innerHTML&&Se.innerHTML==null||Ne.textContent&&Se.textContent==null)&&u(we,""),pe?j(q.dynamicChildren,pe,we,ee,ce,$1(V,ue),me):ve||D(q,V,we,null,ee,ce,$1(V,ue),me,!1),Ee>0){if(Ee&16)O(we,Ne,Se,ee,ue);else if(Ee&2&&Ne.class!==Se.class&&i(we,"class",null,Se.class,ue),Ee&4&&i(we,"style",Ne.style,Se.style,ue),Ee&8){const it=V.dynamicProps;for(let F=0;F<it.length;F++){const _=it[F],P=Ne[_],z=Se[_];(z!==P||_==="value")&&i(we,_,P,z,ue,ee)}}Ee&1&&q.children!==V.children&&u(we,V.children)}else!ve&&pe==null&&O(we,Ne,Se,ee,ue);((Ie=Se.onVnodeUpdated)||Ce)&&Xn(()=>{Ie&&oo(Ie,ee,V,q),Ce&&gl(V,q,ee,"updated")},ce)},j=(q,V,ee,ce,ue,me,ve)=>{for(let we=0;we<V.length;we++){const Ee=q[we],pe=V[we],Ce=Ee.el&&(Ee.type===Xr||!Rl(Ee,pe)||Ee.shapeFlag&70)?f(Ee.el):ee;g(Ee,pe,Ce,null,ce,ue,me,ve,!0)}},O=(q,V,ee,ce,ue)=>{if(V!==ee){if(V!==fr)for(const me in V)!$p(me)&&!(me in ee)&&i(q,me,V[me],null,ue,ce);for(const me in ee){if($p(me))continue;const ve=ee[me],we=V[me];ve!==we&&me!=="value"&&i(q,me,we,ve,ue,ce)}"value"in ee&&i(q,"value",V.value,ee.value,ue)}},m=(q,V,ee,ce,ue,me,ve,we,Ee)=>{const pe=V.el=q?q.el:a(""),Ce=V.anchor=q?q.anchor:a("");let{patchFlag:Ne,dynamicChildren:Se,slotScopeIds:Ie}=V;Ie&&(we=we?we.concat(Ie):Ie),q==null?(n(pe,ee,ce),n(Ce,ee,ce),L(V.children||[],ee,Ce,ue,me,ve,we,Ee)):Ne>0&&Ne&64&&Se&&q.dynamicChildren?(j(q.dynamicChildren,Se,ee,ue,me,ve,we),(V.key!=null||ue&&V===ue.subTree)&&C3(q,V,!0)):D(q,V,ee,Ce,ue,me,ve,we,Ee)},A=(q,V,ee,ce,ue,me,ve,we,Ee)=>{V.slotScopeIds=we,q==null?V.shapeFlag&512?ue.ctx.activate(V,ee,ce,ve,Ee):S(V,ee,ce,ue,me,ve,Ee):b(q,V,Ee)},S=(q,V,ee,ce,ue,me,ve)=>{const we=q.component=BB(q,ce,ue);if(Xb(q)&&(we.ctx.renderer=ge),UB(we,!1,ve),we.asyncDep){if(ue&&ue.registerDep(we,w,ve),!q.el){const Ee=we.subTree=ut(Hn);E(null,Ee,V,ee)}}else w(we,q,V,ee,ue,me,ve)},b=(q,V,ee)=>{const ce=V.component=q.component;if(TB(q,V,ee))if(ce.asyncDep&&!ce.asyncResolved){x(ce,V,ee);return}else ce.next=V,ce.update();else V.el=q.el,ce.vnode=V},w=(q,V,ee,ce,ue,me,ve)=>{const we=()=>{if(q.isMounted){let{next:Ne,bu:Se,u:Ie,parent:it,vnode:F}=q;{const ie=NN(q);if(ie){Ne&&(Ne.el=F.el,x(q,Ne,ve)),ie.asyncDep.then(()=>{q.isUnmounted||we()});return}}let _=Ne,P;ml(q,!1),Ne?(Ne.el=F.el,x(q,Ne,ve)):Ne=F,Se&&O1(Se),(P=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&oo(P,it,Ne,F),ml(q,!0);const z=JC(q),Z=q.subTree;q.subTree=z,g(Z,z,f(Z.el),Y(Z),q,ue,me),Ne.el=z.el,_===null&&NB(q,z.el),Ie&&Xn(Ie,ue),(P=Ne.props&&Ne.props.onVnodeUpdated)&&Xn(()=>oo(P,it,Ne,F),ue)}else{let Ne;const{el:Se,props:Ie}=V,{bm:it,m:F,parent:_,root:P,type:z}=q,Z=sd(V);ml(q,!1),it&&O1(it),!Z&&(Ne=Ie&&Ie.onVnodeBeforeMount)&&oo(Ne,_,V),ml(q,!0);{P.ce&&P.ce._injectChildStyle(z);const ie=q.subTree=JC(q);g(null,ie,ee,ce,q,ue,me),V.el=ie.el}if(F&&Xn(F,ue),!Z&&(Ne=Ie&&Ie.onVnodeMounted)){const ie=V;Xn(()=>oo(Ne,_,ie),ue)}(V.shapeFlag&256||_&&sd(_.vnode)&&_.vnode.shapeFlag&256)&&q.a&&Xn(q.a,ue),q.isMounted=!0,V=ee=ce=null}};q.scope.on();const Ee=q.effect=new PT(we);q.scope.off();const pe=q.update=Ee.run.bind(Ee),Ce=q.job=Ee.runIfDirty.bind(Ee);Ce.i=q,Ce.id=q.uid,Ee.scheduler=()=>E3(Ce),ml(q,!0),pe()},x=(q,V,ee)=>{V.component=q;const ce=q.vnode.props;q.vnode=V,q.next=null,dB(q,V.props,ce,ee),mB(q,V.children,ee),al(),BC(q),cl()},D=(q,V,ee,ce,ue,me,ve,we,Ee=!1)=>{const pe=q&&q.children,Ce=q?q.shapeFlag:0,Ne=V.children,{patchFlag:Se,shapeFlag:Ie}=V;if(Se>0){if(Se&128){v(pe,Ne,ee,ce,ue,me,ve,we,Ee);return}else if(Se&256){R(pe,Ne,ee,ce,ue,me,ve,we,Ee);return}}Ie&8?(Ce&16&&le(pe,ue,me),Ne!==pe&&u(ee,Ne)):Ce&16?Ie&16?v(pe,Ne,ee,ce,ue,me,ve,we,Ee):le(pe,ue,me,!0):(Ce&8&&u(ee,""),Ie&16&&L(Ne,ee,ce,ue,me,ve,we,Ee))},R=(q,V,ee,ce,ue,me,ve,we,Ee)=>{q=q||td,V=V||td;const pe=q.length,Ce=V.length,Ne=Math.min(pe,Ce);let Se;for(Se=0;Se<Ne;Se++){const Ie=V[Se]=Ee?hc(V[Se]):No(V[Se]);g(q[Se],Ie,ee,null,ue,me,ve,we,Ee)}pe>Ce?le(q,ue,me,!0,!1,Ne):L(V,ee,ce,ue,me,ve,we,Ee,Ne)},v=(q,V,ee,ce,ue,me,ve,we,Ee)=>{let pe=0;const Ce=V.length;let Ne=q.length-1,Se=Ce-1;for(;pe<=Ne&&pe<=Se;){const Ie=q[pe],it=V[pe]=Ee?hc(V[pe]):No(V[pe]);if(Rl(Ie,it))g(Ie,it,ee,null,ue,me,ve,we,Ee);else break;pe++}for(;pe<=Ne&&pe<=Se;){const Ie=q[Ne],it=V[Se]=Ee?hc(V[Se]):No(V[Se]);if(Rl(Ie,it))g(Ie,it,ee,null,ue,me,ve,we,Ee);else break;Ne--,Se--}if(pe>Ne){if(pe<=Se){const Ie=Se+1,it=Ie<Ce?V[Ie].el:ce;for(;pe<=Se;)g(null,V[pe]=Ee?hc(V[pe]):No(V[pe]),ee,it,ue,me,ve,we,Ee),pe++}}else if(pe>Se)for(;pe<=Ne;)K(q[pe],ue,me,!0),pe++;else{const Ie=pe,it=pe,F=new Map;for(pe=it;pe<=Se;pe++){const vt=V[pe]=Ee?hc(V[pe]):No(V[pe]);vt.key!=null&&F.set(vt.key,pe)}let _,P=0;const z=Se-it+1;let Z=!1,ie=0;const fe=new Array(z);for(pe=0;pe<z;pe++)fe[pe]=0;for(pe=Ie;pe<=Ne;pe++){const vt=q[pe];if(P>=z){K(vt,ue,me,!0);continue}let Qe;if(vt.key!=null)Qe=F.get(vt.key);else for(_=it;_<=Se;_++)if(fe[_-it]===0&&Rl(vt,V[_])){Qe=_;break}Qe===void 0?K(vt,ue,me,!0):(fe[Qe-it]=pe+1,Qe>=ie?ie=Qe:Z=!0,g(vt,V[Qe],ee,null,ue,me,ve,we,Ee),P++)}const Je=Z?vB(fe):td;for(_=Je.length-1,pe=z-1;pe>=0;pe--){const vt=it+pe,Qe=V[vt],ot=vt+1<Ce?V[vt+1].el:ce;fe[pe]===0?g(null,Qe,ee,ot,ue,me,ve,we,Ee):Z&&(_<0||pe!==Je[_]?U(Qe,ee,ot,2):_--)}}},U=(q,V,ee,ce,ue=null)=>{const{el:me,type:ve,transition:we,children:Ee,shapeFlag:pe}=q;if(pe&6){U(q.component.subTree,V,ee,ce);return}if(pe&128){q.suspense.move(V,ee,ce);return}if(pe&64){ve.move(q,V,ee,ge);return}if(ve===Xr){n(me,V,ee);for(let Ne=0;Ne<Ee.length;Ne++)U(Ee[Ne],V,ee,ce);n(q.anchor,V,ee);return}if(ve===L1){I(q,V,ee);return}if(ce!==2&&pe&1&&we)if(ce===0)we.beforeEnter(me),n(me,V,ee),Xn(()=>we.enter(me),ue);else{const{leave:Ne,delayLeave:Se,afterLeave:Ie}=we,it=()=>n(me,V,ee),F=()=>{Ne(me,()=>{it(),Ie&&Ie()})};Se?Se(me,it,F):F()}else n(me,V,ee)},K=(q,V,ee,ce=!1,ue=!1)=>{const{type:me,props:ve,ref:we,children:Ee,dynamicChildren:pe,shapeFlag:Ce,patchFlag:Ne,dirs:Se,cacheIndex:Ie}=q;if(Ne===-2&&(ue=!1),we!=null&&Hy(we,null,ee,q,!0),Ie!=null&&(V.renderCache[Ie]=void 0),Ce&256){V.ctx.deactivate(q);return}const it=Ce&1&&Se,F=!sd(q);let _;if(F&&(_=ve&&ve.onVnodeBeforeUnmount)&&oo(_,V,q),Ce&6)re(q.component,ee,ce);else{if(Ce&128){q.suspense.unmount(ee,ce);return}it&&gl(q,null,V,"beforeUnmount"),Ce&64?q.type.remove(q,V,ee,ge,ce):pe&&!pe.hasOnce&&(me!==Xr||Ne>0&&Ne&64)?le(pe,V,ee,!1,!0):(me===Xr&&Ne&384||!ue&&Ce&16)&&le(Ee,V,ee),ce&&Q(q)}(F&&(_=ve&&ve.onVnodeUnmounted)||it)&&Xn(()=>{_&&oo(_,V,q),it&&gl(q,null,V,"unmounted")},ee)},Q=q=>{const{type:V,el:ee,anchor:ce,transition:ue}=q;if(V===Xr){J(ee,ce);return}if(V===L1){T(q);return}const me=()=>{s(ee),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(q.shapeFlag&1&&ue&&!ue.persisted){const{leave:ve,delayLeave:we}=ue,Ee=()=>ve(ee,me);we?we(q.el,me,Ee):Ee()}else me()},J=(q,V)=>{let ee;for(;q!==V;)ee=d(q),s(q),q=ee;s(V)},re=(q,V,ee)=>{const{bum:ce,scope:ue,job:me,subTree:ve,um:we,m:Ee,a:pe}=q;GC(Ee),GC(pe),ce&&O1(ce),ue.stop(),me&&(me.flags|=8,K(ve,q,V,ee)),we&&Xn(we,V),Xn(()=>{q.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},le=(q,V,ee,ce=!1,ue=!1,me=0)=>{for(let ve=me;ve<q.length;ve++)K(q[ve],V,ee,ce,ue)},Y=q=>{if(q.shapeFlag&6)return Y(q.component.subTree);if(q.shapeFlag&128)return q.suspense.next();const V=d(q.anchor||q.el),ee=V&&V[XT];return ee?d(ee):V};let de=!1;const se=(q,V,ee)=>{q==null?V._vnode&&K(V._vnode,null,null,!0):g(V._vnode||null,q,V,null,null,null,ee),V._vnode=q,de||(de=!0,BC(),YT(),de=!1)},ge={p:g,um:K,m:U,r:Q,mt:S,mc:L,pc:D,pbc:j,n:Y,o:t};return{render:se,hydrate:void 0,createApp:lB(se)}}function $1({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ml({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function wB(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function C3(t,e,r=!1){const n=t.children,s=e.children;if(nt(n)&&nt(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=hc(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&C3(o,a)),a.type===kh&&(a.el=o.el)}}function vB(t){const e=t.slice(),r=[0];let n,s,i,o,a;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(s=r[r.length-1],t[s]<l){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<l?i=a+1:o=a;l<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function NN(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:NN(e)}function GC(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const EB=Symbol.for("v-scx"),AB=()=>St(EB);function rw(t,e){return S3(t,null,e)}function jt(t,e,r){return S3(t,e,r)}function S3(t,e,r=fr){const{immediate:n,deep:s,flush:i,once:o}=r,a=vn({},r),c=e&&n||!e&&i!=="post";let l;if(p0){if(i==="sync"){const h=AB();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=wn,h.resume=wn,h.pause=wn,h}}const u=mn;a.call=(h,p,g)=>Qi(h,u,p,g);let f=!1;i==="post"?a.scheduler=h=>{Xn(h,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(h,p)=>{p?h():E3(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=UM(t,e,a);return p0&&(l?l.push(d):c&&d()),d}function _B(t,e,r){const n=this.proxy,s=Jt(t)?t.includes(".")?PN(n,t):()=>n[t]:t.bind(n,n);let i;et(e)?i=e:(i=e.handler,r=e);const o=Dg(this),a=S3(s,i.bind(n),r);return o(),a}function PN(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const CB=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ys(e)}Modifiers`]||t[`${ol(e)}Modifiers`];function SB(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||fr;let s=r;const i=e.startsWith("update:"),o=i&&CB(n,e.slice(7));o&&(o.trim&&(s=r.map(u=>Jt(u)?u.trim():u)),o.number&&(s=r.map(rM)));let a,c=n[a=P1(e)]||n[a=P1(Ys(e))];!c&&i&&(c=n[a=P1(ol(e))]),c&&Qi(c,t,6,s);const l=n[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Qi(l,t,6,s)}}function ON(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!et(t)){const c=l=>{const u=ON(l,e,!0);u&&(a=!0,vn(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(er(t)&&n.set(t,null),null):(nt(i)?i.forEach(c=>o[c]=null):vn(o,i),er(t)&&n.set(t,o),o)}function nw(t,e){return!t||!Wb(e)?!1:(e=e.slice(2).replace(/Once$/,""),Lt(t,e[0].toLowerCase()+e.slice(1))||Lt(t,ol(e))||Lt(t,e))}function JC(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:d,setupState:h,ctx:p,inheritAttrs:g}=t,y=jy(t);let E,C;try{if(r.shapeFlag&4){const T=s||n,N=T;E=No(l.call(N,T,u,f,h,d,p)),C=a}else{const T=e;E=No(T.length>1?T(f,{attrs:a,slots:o,emit:c}):T(f,null)),C=e.props?a:xB(a)}}catch(T){qp.length=0,Zb(T,t,1),E=ut(Hn)}let I=E;if(C&&g!==!1){const T=Object.keys(C),{shapeFlag:N}=I;T.length&&N&7&&(i&&T.some(a3)&&(C=IB(C,i)),I=Fa(I,C,!1,!0))}return r.dirs&&(I=Fa(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(r.dirs):r.dirs),r.transition&&d0(I,r.transition),E=I,jy(y),E}const xB=t=>{let e;for(const r in t)(r==="class"||r==="style"||Wb(r))&&((e||(e={}))[r]=t[r]);return e},IB=(t,e)=>{const r={};for(const n in t)(!a3(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function TB(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?YC(n,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!nw(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?YC(n,o,l):!0:!!o;return!1}function YC(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!nw(r,i))return!0}return!1}function NB({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const RN=t=>t.__isSuspense;function PB(t,e){e&&e.pendingBranch?nt(t)?e.effects.push(...t):e.effects.push(t):FM(t)}const Xr=Symbol.for("v-fgt"),kh=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),L1=Symbol.for("v-stc"),qp=[];let Ks=null;function De(t=!1){qp.push(Ks=t?null:[])}function OB(){qp.pop(),Ks=qp[qp.length-1]||null}let h0=1;function QC(t,e=!1){h0+=t,t<0&&Ks&&e&&(Ks.hasOnce=!0)}function kN(t){return t.dynamicChildren=h0>0?Ks||td:null,OB(),h0>0&&Ks&&Ks.push(t),t}function tt(t,e,r,n,s,i){return kN(Te(t,e,r,n,s,i,!0))}function sr(t,e,r,n,s){return kN(ut(t,e,r,n,s,!0))}function Zc(t){return t?t.__v_isVNode===!0:!1}function Rl(t,e){return t.type===e.type&&t.key===e.key}const DN=({key:t})=>t??null,ry=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Jt(t)||ir(t)||et(t)?{i:on,r:t,k:e,f:!!r}:t:null);function Te(t,e=null,r=null,n=0,s=null,i=t===Xr?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&DN(e),ref:e&&ry(e),scopeId:ZT,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:on};return a?(x3(c,r),i&128&&t.normalize(c)):r&&(c.shapeFlag|=Jt(r)?8:16),h0>0&&!o&&Ks&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ks.push(c),c}const ut=RB;function RB(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===hN)&&(t=Hn),Zc(t)){const a=Fa(t,e,!0);return r&&x3(a,r),h0>0&&!i&&Ks&&(a.shapeFlag&6?Ks[Ks.indexOf(t)]=a:Ks.push(a)),a.patchFlag=-2,a}if(jB(t)&&(t=t.__vccOpts),e){e=kB(e);let{class:a,style:c}=e;a&&!Jt(a)&&(e.class=kt(a)),er(c)&&(b3(c)&&!nt(c)&&(c=vn({},c)),e.style=La(c))}const o=Jt(t)?1:RN(t)?128:eN(t)?64:er(t)?4:et(t)?2:0;return Te(t,e,r,n,s,o,i,!0)}function kB(t){return t?b3(t)||AN(t)?vn({},t):t:null}function Fa(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,l=e?Ka(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&DN(l),ref:e&&e.ref?r&&i?nt(i)?i.concat(ry(e)):[i,ry(e)]:ry(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xr?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fa(t.ssContent),ssFallback:t.ssFallback&&Fa(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&d0(u,c.clone(u)),u}function qy(t=" ",e=0){return ut(kh,null,t,e)}function Ir(t="",e=!1){return e?(De(),sr(Hn,null,t)):ut(Hn,null,t)}function No(t){return t==null||typeof t=="boolean"?ut(Hn):nt(t)?ut(Xr,null,t.slice()):Zc(t)?hc(t):ut(kh,null,String(t))}function hc(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fa(t)}function x3(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(nt(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),x3(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!AN(e)?e._ctx=on:s===3&&on&&(on.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else et(e)?(e={default:e,_ctx:on},r=32):(e=String(e),n&64?(r=16,e=[qy(e)]):r=8);t.children=e,t.shapeFlag|=r}function Ka(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=kt([e.class,n.class]));else if(s==="style")e.style=La([e.style,n.style]);else if(Wb(s)){const i=e[s],o=n[s];o&&i!==o&&!(nt(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function oo(t,e,r,n=null){Qi(t,e,7,[r,n])}const DB=wN();let MB=0;function BB(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||DB,i={uid:MB++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new TT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:CN(n,s),emitsOptions:ON(n,s),emit:null,emitted:null,propsDefaults:fr,inheritAttrs:n.inheritAttrs,ctx:fr,data:fr,props:fr,attrs:fr,slots:fr,refs:fr,setupState:fr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=SB.bind(null,i),t.ce&&t.ce(i),i}let mn=null;const vi=()=>mn||on;let Vy,oE;{const t=Yb(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Vy=e("__VUE_INSTANCE_SETTERS__",r=>mn=r),oE=e("__VUE_SSR_SETTERS__",r=>p0=r)}const Dg=t=>{const e=mn;return Vy(t),t.scope.on(),()=>{t.scope.off(),Vy(e)}},ZC=()=>{mn&&mn.scope.off(),Vy(null)};function MN(t){return t.vnode.shapeFlag&4}let p0=!1;function UB(t,e=!1,r=!1){e&&oE(e);const{props:n,children:s}=t.vnode,i=MN(t);fB(t,n,i,e),gB(t,s,r);const o=i?$B(t,e):void 0;return e&&oE(!1),o}function $B(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,rB);const{setup:n}=r;if(n){al();const s=t.setupContext=n.length>1?UN(t):null,i=Dg(t),o=kg(n,t,0,[t.props,s]),a=ET(o);if(cl(),i(),(a||t.sp)&&!sd(t)&&cN(t),a){if(o.then(ZC,ZC),e)return o.then(c=>{XC(t,c)}).catch(c=>{Zb(c,t,0)});t.asyncDep=o}else XC(t,o)}else BN(t)}function XC(t,e,r){et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:er(e)&&(t.setupState=WT(e)),BN(t)}function BN(t,e,r){const n=t.type;t.render||(t.render=n.render||wn);{const s=Dg(t);al();try{nB(t)}finally{cl(),s()}}}const LB={get(t,e){return Fn(t,"get",""),t[e]}};function UN(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,LB),slots:t.slots,emit:t.emit,expose:e}}function sw(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(WT(w3(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in zp)return zp[r](t)},has(e,r){return r in e||r in zp}})):t.proxy}function FB(t,e=!0){return et(t)?t.displayName||t.name:t.name||e&&t.__name}function jB(t){return et(t)&&"__vccOpts"in t}const ye=(t,e)=>MM(t,e,p0);function iw(t,e,r){const n=arguments.length;return n===2?er(e)&&!nt(e)?Zc(e)?ut(t,null,[e]):ut(t,e):ut(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Zc(r)&&(r=[r]),ut(t,e,r))}const HB="3.5.13",zB=wn;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let aE;const eS=typeof window<"u"&&window.trustedTypes;if(eS)try{aE=eS.createPolicy("vue",{createHTML:t=>t})}catch{}const $N=aE?t=>aE.createHTML(t):t=>t,qB="http://www.w3.org/2000/svg",VB="http://www.w3.org/1998/Math/MathML",ca=typeof document<"u"?document:null,tS=ca&&ca.createElement("template"),WB={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?ca.createElementNS(qB,t):e==="mathml"?ca.createElementNS(VB,t):r?ca.createElement(t,{is:r}):ca.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>ca.createTextNode(t),createComment:t=>ca.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ca.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{tS.innerHTML=$N(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=tS.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Ya="transition",Gh="animation",g0=Symbol("_vtc"),LN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},KB=vn({},nN,LN),GB=t=>(t.displayName="Transition",t.props=KB,t),ow=GB((t,{slots:e})=>iw(VM,JB(t),e)),yl=(t,e=[])=>{nt(t)?t.forEach(r=>r(...e)):t&&t(...e)},rS=t=>t?nt(t)?t.some(e=>e.length>1):t.length>1:!1;function JB(t){const e={};for(const m in t)m in LN||(e[m]=t[m]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,p=YB(s),g=p&&p[0],y=p&&p[1],{onBeforeEnter:E,onEnter:C,onEnterCancelled:I,onLeave:T,onLeaveCancelled:N,onBeforeAppear:k=E,onAppear:B=C,onAppearCancelled:L=I}=e,$=(m,A,S,b)=>{m._enterCancelled=b,bl(m,A?u:a),bl(m,A?l:o),S&&S()},j=(m,A)=>{m._isLeaving=!1,bl(m,f),bl(m,h),bl(m,d),A&&A()},O=m=>(A,S)=>{const b=m?B:C,w=()=>$(A,m,S);yl(b,[A,w]),nS(()=>{bl(A,m?c:i),Ko(A,m?u:a),rS(b)||sS(A,n,g,w)})};return vn(e,{onBeforeEnter(m){yl(E,[m]),Ko(m,i),Ko(m,o)},onBeforeAppear(m){yl(k,[m]),Ko(m,c),Ko(m,l)},onEnter:O(!1),onAppear:O(!0),onLeave(m,A){m._isLeaving=!0;const S=()=>j(m,A);Ko(m,f),m._enterCancelled?(Ko(m,d),aS()):(aS(),Ko(m,d)),nS(()=>{m._isLeaving&&(bl(m,f),Ko(m,h),rS(T)||sS(m,n,y,S))}),yl(T,[m,S])},onEnterCancelled(m){$(m,!1,void 0,!0),yl(I,[m])},onAppearCancelled(m){$(m,!0,void 0,!0),yl(L,[m])},onLeaveCancelled(m){j(m),yl(N,[m])}})}function YB(t){if(t==null)return null;if(er(t))return[F1(t.enter),F1(t.leave)];{const e=F1(t);return[e,e]}}function F1(t){return nM(t)}function Ko(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[g0]||(t[g0]=new Set)).add(e)}function bl(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[g0];r&&(r.delete(e),r.size||(t[g0]=void 0))}function nS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let QB=0;function sS(t,e,r,n){const s=t._endId=++QB,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:c}=ZB(t,e);if(!o)return n();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,d),i()},d=h=>{h.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,d)}function ZB(t,e){const r=window.getComputedStyle(t),n=p=>(r[p]||"").split(", "),s=n(`${Ya}Delay`),i=n(`${Ya}Duration`),o=iS(s,i),a=n(`${Gh}Delay`),c=n(`${Gh}Duration`),l=iS(a,c);let u=null,f=0,d=0;e===Ya?o>0&&(u=Ya,f=o,d=i.length):e===Gh?l>0&&(u=Gh,f=l,d=c.length):(f=Math.max(o,l),u=f>0?o>l?Ya:Gh:null,d=u?u===Ya?i.length:c.length:0);const h=u===Ya&&/\b(transform|all)(,|$)/.test(n(`${Ya}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function iS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>oS(r)+oS(t[n])))}function oS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function aS(){return document.body.offsetHeight}function XB(t,e,r){const n=t[g0];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Wy=Symbol("_vod"),FN=Symbol("_vsh"),m0={beforeMount(t,{value:e},{transition:r}){t[Wy]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Jh(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Jh(t,!0),n.enter(t)):n.leave(t,()=>{Jh(t,!1)}):Jh(t,e))},beforeUnmount(t,{value:e}){Jh(t,e)}};function Jh(t,e){t.style.display=e?t[Wy]:"none",t[FN]=!e}const eU=Symbol(""),tU=/(^|;)\s*display\s*:/;function rU(t,e,r){const n=t.style,s=Jt(r);let i=!1;if(r&&!s){if(e)if(Jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&ny(n,a,"")}else for(const o in e)r[o]==null&&ny(n,o,"");for(const o in r)o==="display"&&(i=!0),ny(n,o,r[o])}else if(s){if(e!==r){const o=n[eU];o&&(r+=";"+o),n.cssText=r,i=tU.test(r)}}else e&&t.removeAttribute("style");Wy in t&&(t[Wy]=i?n.display:"",t[FN]&&(n.display="none"))}const cS=/\s*!important$/;function ny(t,e,r){if(nt(r))r.forEach(n=>ny(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=nU(t,e);cS.test(r)?t.setProperty(ol(n),r.replace(cS,""),"important"):t[n]=r}}const lS=["Webkit","Moz","ms"],j1={};function nU(t,e){const r=j1[e];if(r)return r;let n=Ys(e);if(n!=="filter"&&n in t)return j1[e]=n;n=Jb(n);for(let s=0;s<lS.length;s++){const i=lS[s]+n;if(i in t)return j1[e]=i}return e}const uS="http://www.w3.org/1999/xlink";function fS(t,e,r,n,s,i=lM(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(uS,e.slice(6,e.length)):t.setAttributeNS(uS,e,r):r==null||i&&!ST(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Va(r)?String(r):r)}function dS(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?$N(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=ST(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function sU(t,e,r,n){t.addEventListener(e,r,n)}function iU(t,e,r,n){t.removeEventListener(e,r,n)}const hS=Symbol("_vei");function oU(t,e,r,n,s=null){const i=t[hS]||(t[hS]={}),o=i[e];if(n&&o)o.value=n;else{const[a,c]=aU(e);if(n){const l=i[e]=uU(n,s);sU(t,a,l,c)}else o&&(iU(t,a,o,c),i[e]=void 0)}}const pS=/(?:Once|Passive|Capture)$/;function aU(t){let e;if(pS.test(t)){e={};let n;for(;n=t.match(pS);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ol(t.slice(2)),e]}let H1=0;const cU=Promise.resolve(),lU=()=>H1||(cU.then(()=>H1=0),H1=Date.now());function uU(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Qi(fU(n,r.value),e,5,[n])};return r.value=t,r.attached=lU(),r}function fU(t,e){if(nt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const gS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dU=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?XB(t,n,o):e==="style"?rU(t,r,n):Wb(e)?a3(e)||oU(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hU(t,e,n,o))?(dS(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&fS(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Jt(n))?dS(t,Ys(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),fS(t,e,n,o))};function hU(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&gS(e)&&et(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return gS(e)&&Jt(r)?!1:e in t}const pU=["ctrl","shift","alt","meta"],gU={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>pU.some(r=>t[`${r}Key`]&&!e.includes(r))},jN=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=gU[e[o]];if(a&&a(s,e))return}return t(s,...i)})},mU={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},E1e=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const i=ol(s.key);if(e.some(o=>o===i||mU[o]===i))return t(s)})},yU=vn({patchProp:dU},WB);let mS;function HN(){return mS||(mS=yB(yU))}const yS=(...t)=>{HN().render(...t)},bU=(...t)=>{const e=HN().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=vU(n);if(!s)return;const i=e._component;!et(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,wU(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function wU(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function vU(t){return Jt(t)?document.querySelector(t):t}var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function I3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var z1={},Yh={},bS;function EU(){if(bS)return Yh;bS=1,Yh.byteLength=a,Yh.toByteArray=l,Yh.fromByteArray=d;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=h.indexOf("=");g===-1&&(g=p);var y=g===p?0:4-g%4;return[g,y]}function a(h){var p=o(h),g=p[0],y=p[1];return(g+y)*3/4-y}function c(h,p,g){return(p+g)*3/4-g}function l(h){var p,g=o(h),y=g[0],E=g[1],C=new r(c(h,y,E)),I=0,T=E>0?y-4:y,N;for(N=0;N<T;N+=4)p=e[h.charCodeAt(N)]<<18|e[h.charCodeAt(N+1)]<<12|e[h.charCodeAt(N+2)]<<6|e[h.charCodeAt(N+3)],C[I++]=p>>16&255,C[I++]=p>>8&255,C[I++]=p&255;return E===2&&(p=e[h.charCodeAt(N)]<<2|e[h.charCodeAt(N+1)]>>4,C[I++]=p&255),E===1&&(p=e[h.charCodeAt(N)]<<10|e[h.charCodeAt(N+1)]<<4|e[h.charCodeAt(N+2)]>>2,C[I++]=p>>8&255,C[I++]=p&255),C}function u(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,p,g){for(var y,E=[],C=p;C<g;C+=3)y=(h[C]<<16&16711680)+(h[C+1]<<8&65280)+(h[C+2]&255),E.push(u(y));return E.join("")}function d(h){for(var p,g=h.length,y=g%3,E=[],C=16383,I=0,T=g-y;I<T;I+=C)E.push(f(h,I,I+C>T?T:I+C));return y===1?(p=h[g-1],E.push(t[p>>2]+t[p<<4&63]+"==")):y===2&&(p=(h[g-2]<<8)+h[g-1],E.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),E.join("")}return Yh}var gm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var wS;function AU(){return wS||(wS=1,gm.read=function(t,e,r,n,s){var i,o,a=s*8-n-1,c=(1<<a)-1,l=c>>1,u=-7,f=r?s-1:0,d=r?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-u)-1,h>>=-u,u+=a;u>0;i=i*256+t[e+f],f+=d,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=o*256+t[e+f],f+=d,u-=8);if(i===0)i=1-l;else{if(i===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-l}return(h?-1:1)*o*Math.pow(2,i-n)},gm.write=function(t,e,r,n,s,i){var o,a,c,l=i*8-s-1,u=(1<<l)-1,f=u>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=d/c:e+=d*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=u?(a=0,o=u):o+f>=1?(a=(e*c-1)*Math.pow(2,s),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,s),o=0));s>=8;t[r+h]=a&255,h+=p,a/=256,s-=8);for(o=o<<s|a,l+=s;l>0;t[r+h]=o&255,h+=p,o/=256,l-=8);t[r+h-p]|=g*128}),gm}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var vS;function _U(){return vS||(vS=1,function(t){const e=EU(),r=AU(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const F=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(F,_),F.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(F){if(F>s)throw new RangeError('The value "'+F+'" is invalid for option "size"');const _=new Uint8Array(F);return Object.setPrototypeOf(_,a.prototype),_}function a(F,_,P){if(typeof F=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(F)}return c(F,_,P)}a.poolSize=8192;function c(F,_,P){if(typeof F=="string")return d(F,_);if(ArrayBuffer.isView(F))return p(F);if(F==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ce(F,ArrayBuffer)||F&&Ce(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(F,SharedArrayBuffer)||F&&Ce(F.buffer,SharedArrayBuffer)))return g(F,_,P);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=F.valueOf&&F.valueOf();if(z!=null&&z!==F)return a.from(z,_,P);const Z=y(F);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return a.from(F[Symbol.toPrimitive]("string"),_,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}a.from=function(F,_,P){return c(F,_,P)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function u(F,_,P){return l(F),F<=0?o(F):_!==void 0?typeof P=="string"?o(F).fill(_,P):o(F).fill(_):o(F)}a.alloc=function(F,_,P){return u(F,_,P)};function f(F){return l(F),o(F<0?0:E(F)|0)}a.allocUnsafe=function(F){return f(F)},a.allocUnsafeSlow=function(F){return f(F)};function d(F,_){if((typeof _!="string"||_==="")&&(_="utf8"),!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const P=I(F,_)|0;let z=o(P);const Z=z.write(F,_);return Z!==P&&(z=z.slice(0,Z)),z}function h(F){const _=F.length<0?0:E(F.length)|0,P=o(_);for(let z=0;z<_;z+=1)P[z]=F[z]&255;return P}function p(F){if(Ce(F,Uint8Array)){const _=new Uint8Array(F);return g(_.buffer,_.byteOffset,_.byteLength)}return h(F)}function g(F,_,P){if(_<0||F.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<_+(P||0))throw new RangeError('"length" is outside of buffer bounds');let z;return _===void 0&&P===void 0?z=new Uint8Array(F):P===void 0?z=new Uint8Array(F,_):z=new Uint8Array(F,_,P),Object.setPrototypeOf(z,a.prototype),z}function y(F){if(a.isBuffer(F)){const _=E(F.length)|0,P=o(_);return P.length===0||F.copy(P,0,0,_),P}if(F.length!==void 0)return typeof F.length!="number"||Ne(F.length)?o(0):h(F);if(F.type==="Buffer"&&Array.isArray(F.data))return h(F.data)}function E(F){if(F>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return F|0}function C(F){return+F!=F&&(F=0),a.alloc(+F)}a.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==a.prototype},a.compare=function(_,P){if(Ce(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),Ce(P,Uint8Array)&&(P=a.from(P,P.offset,P.byteLength)),!a.isBuffer(_)||!a.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===P)return 0;let z=_.length,Z=P.length;for(let ie=0,fe=Math.min(z,Z);ie<fe;++ie)if(_[ie]!==P[ie]){z=_[ie],Z=P[ie];break}return z<Z?-1:Z<z?1:0},a.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(_,P){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return a.alloc(0);let z;if(P===void 0)for(P=0,z=0;z<_.length;++z)P+=_[z].length;const Z=a.allocUnsafe(P);let ie=0;for(z=0;z<_.length;++z){let fe=_[z];if(Ce(fe,Uint8Array))ie+fe.length>Z.length?(a.isBuffer(fe)||(fe=a.from(fe)),fe.copy(Z,ie)):Uint8Array.prototype.set.call(Z,fe,ie);else if(a.isBuffer(fe))fe.copy(Z,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=fe.length}return Z};function I(F,_){if(a.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ce(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const P=F.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&P===0)return 0;let Z=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return me(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return Ee(F).length;default:if(Z)return z?-1:me(F).length;_=(""+_).toLowerCase(),Z=!0}}a.byteLength=I;function T(F,_,P){let z=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,_>>>=0,P<=_))return"";for(F||(F="utf8");;)switch(F){case"hex":return R(this,_,P);case"utf8":case"utf-8":return S(this,_,P);case"ascii":return x(this,_,P);case"latin1":case"binary":return D(this,_,P);case"base64":return A(this,_,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,_,P);default:if(z)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),z=!0}}a.prototype._isBuffer=!0;function N(F,_,P){const z=F[_];F[_]=F[P],F[P]=z}a.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<_;P+=2)N(this,P,P+1);return this},a.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<_;P+=4)N(this,P,P+3),N(this,P+1,P+2);return this},a.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<_;P+=8)N(this,P,P+7),N(this,P+1,P+6),N(this,P+2,P+5),N(this,P+3,P+4);return this},a.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?S(this,0,_):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(_){if(!a.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:a.compare(this,_)===0},a.prototype.inspect=function(){let _="";const P=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(_+=" ... "),"<Buffer "+_+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(_,P,z,Z,ie){if(Ce(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(P===void 0&&(P=0),z===void 0&&(z=_?_.length:0),Z===void 0&&(Z=0),ie===void 0&&(ie=this.length),P<0||z>_.length||Z<0||ie>this.length)throw new RangeError("out of range index");if(Z>=ie&&P>=z)return 0;if(Z>=ie)return-1;if(P>=z)return 1;if(P>>>=0,z>>>=0,Z>>>=0,ie>>>=0,this===_)return 0;let fe=ie-Z,Je=z-P;const vt=Math.min(fe,Je),Qe=this.slice(Z,ie),ot=_.slice(P,z);for(let qt=0;qt<vt;++qt)if(Qe[qt]!==ot[qt]){fe=Qe[qt],Je=ot[qt];break}return fe<Je?-1:Je<fe?1:0};function k(F,_,P,z,Z){if(F.length===0)return-1;if(typeof P=="string"?(z=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,Ne(P)&&(P=Z?0:F.length-1),P<0&&(P=F.length+P),P>=F.length){if(Z)return-1;P=F.length-1}else if(P<0)if(Z)P=0;else return-1;if(typeof _=="string"&&(_=a.from(_,z)),a.isBuffer(_))return _.length===0?-1:B(F,_,P,z,Z);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(F,_,P):Uint8Array.prototype.lastIndexOf.call(F,_,P):B(F,[_],P,z,Z);throw new TypeError("val must be string, number or Buffer")}function B(F,_,P,z,Z){let ie=1,fe=F.length,Je=_.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(F.length<2||_.length<2)return-1;ie=2,fe/=2,Je/=2,P/=2}function vt(ot,qt){return ie===1?ot[qt]:ot.readUInt16BE(qt*ie)}let Qe;if(Z){let ot=-1;for(Qe=P;Qe<fe;Qe++)if(vt(F,Qe)===vt(_,ot===-1?0:Qe-ot)){if(ot===-1&&(ot=Qe),Qe-ot+1===Je)return ot*ie}else ot!==-1&&(Qe-=Qe-ot),ot=-1}else for(P+Je>fe&&(P=fe-Je),Qe=P;Qe>=0;Qe--){let ot=!0;for(let qt=0;qt<Je;qt++)if(vt(F,Qe+qt)!==vt(_,qt)){ot=!1;break}if(ot)return Qe}return-1}a.prototype.includes=function(_,P,z){return this.indexOf(_,P,z)!==-1},a.prototype.indexOf=function(_,P,z){return k(this,_,P,z,!0)},a.prototype.lastIndexOf=function(_,P,z){return k(this,_,P,z,!1)};function L(F,_,P,z){P=Number(P)||0;const Z=F.length-P;z?(z=Number(z),z>Z&&(z=Z)):z=Z;const ie=_.length;z>ie/2&&(z=ie/2);let fe;for(fe=0;fe<z;++fe){const Je=parseInt(_.substr(fe*2,2),16);if(Ne(Je))return fe;F[P+fe]=Je}return fe}function $(F,_,P,z){return pe(me(_,F.length-P),F,P,z)}function j(F,_,P,z){return pe(ve(_),F,P,z)}function O(F,_,P,z){return pe(Ee(_),F,P,z)}function m(F,_,P,z){return pe(we(_,F.length-P),F,P,z)}a.prototype.write=function(_,P,z,Z){if(P===void 0)Z="utf8",z=this.length,P=0;else if(z===void 0&&typeof P=="string")Z=P,z=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(z)?(z=z>>>0,Z===void 0&&(Z="utf8")):(Z=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ie=this.length-P;if((z===void 0||z>ie)&&(z=ie),_.length>0&&(z<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let fe=!1;for(;;)switch(Z){case"hex":return L(this,_,P,z);case"utf8":case"utf-8":return $(this,_,P,z);case"ascii":case"latin1":case"binary":return j(this,_,P,z);case"base64":return O(this,_,P,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,_,P,z);default:if(fe)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),fe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(F,_,P){return _===0&&P===F.length?e.fromByteArray(F):e.fromByteArray(F.slice(_,P))}function S(F,_,P){P=Math.min(F.length,P);const z=[];let Z=_;for(;Z<P;){const ie=F[Z];let fe=null,Je=ie>239?4:ie>223?3:ie>191?2:1;if(Z+Je<=P){let vt,Qe,ot,qt;switch(Je){case 1:ie<128&&(fe=ie);break;case 2:vt=F[Z+1],(vt&192)===128&&(qt=(ie&31)<<6|vt&63,qt>127&&(fe=qt));break;case 3:vt=F[Z+1],Qe=F[Z+2],(vt&192)===128&&(Qe&192)===128&&(qt=(ie&15)<<12|(vt&63)<<6|Qe&63,qt>2047&&(qt<55296||qt>57343)&&(fe=qt));break;case 4:vt=F[Z+1],Qe=F[Z+2],ot=F[Z+3],(vt&192)===128&&(Qe&192)===128&&(ot&192)===128&&(qt=(ie&15)<<18|(vt&63)<<12|(Qe&63)<<6|ot&63,qt>65535&&qt<1114112&&(fe=qt))}}fe===null?(fe=65533,Je=1):fe>65535&&(fe-=65536,z.push(fe>>>10&1023|55296),fe=56320|fe&1023),z.push(fe),Z+=Je}return w(z)}const b=4096;function w(F){const _=F.length;if(_<=b)return String.fromCharCode.apply(String,F);let P="",z=0;for(;z<_;)P+=String.fromCharCode.apply(String,F.slice(z,z+=b));return P}function x(F,_,P){let z="";P=Math.min(F.length,P);for(let Z=_;Z<P;++Z)z+=String.fromCharCode(F[Z]&127);return z}function D(F,_,P){let z="";P=Math.min(F.length,P);for(let Z=_;Z<P;++Z)z+=String.fromCharCode(F[Z]);return z}function R(F,_,P){const z=F.length;(!_||_<0)&&(_=0),(!P||P<0||P>z)&&(P=z);let Z="";for(let ie=_;ie<P;++ie)Z+=Se[F[ie]];return Z}function v(F,_,P){const z=F.slice(_,P);let Z="";for(let ie=0;ie<z.length-1;ie+=2)Z+=String.fromCharCode(z[ie]+z[ie+1]*256);return Z}a.prototype.slice=function(_,P){const z=this.length;_=~~_,P=P===void 0?z:~~P,_<0?(_+=z,_<0&&(_=0)):_>z&&(_=z),P<0?(P+=z,P<0&&(P=0)):P>z&&(P=z),P<_&&(P=_);const Z=this.subarray(_,P);return Object.setPrototypeOf(Z,a.prototype),Z};function U(F,_,P){if(F%1!==0||F<0)throw new RangeError("offset is not uint");if(F+_>P)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(_,P,z){_=_>>>0,P=P>>>0,z||U(_,P,this.length);let Z=this[_],ie=1,fe=0;for(;++fe<P&&(ie*=256);)Z+=this[_+fe]*ie;return Z},a.prototype.readUintBE=a.prototype.readUIntBE=function(_,P,z){_=_>>>0,P=P>>>0,z||U(_,P,this.length);let Z=this[_+--P],ie=1;for(;P>0&&(ie*=256);)Z+=this[_+--P]*ie;return Z},a.prototype.readUint8=a.prototype.readUInt8=function(_,P){return _=_>>>0,P||U(_,1,this.length),this[_]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(_,P){return _=_>>>0,P||U(_,2,this.length),this[_]|this[_+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(_,P){return _=_>>>0,P||U(_,2,this.length),this[_]<<8|this[_+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(_,P){return _=_>>>0,P||U(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(_,P){return _=_>>>0,P||U(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},a.prototype.readBigUInt64LE=Ie(function(_){_=_>>>0,V(_,"offset");const P=this[_],z=this[_+7];(P===void 0||z===void 0)&&ee(_,this.length-8);const Z=P+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ie=this[++_]+this[++_]*2**8+this[++_]*2**16+z*2**24;return BigInt(Z)+(BigInt(ie)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ie(function(_){_=_>>>0,V(_,"offset");const P=this[_],z=this[_+7];(P===void 0||z===void 0)&&ee(_,this.length-8);const Z=P*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ie=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+z;return(BigInt(Z)<<BigInt(32))+BigInt(ie)}),a.prototype.readIntLE=function(_,P,z){_=_>>>0,P=P>>>0,z||U(_,P,this.length);let Z=this[_],ie=1,fe=0;for(;++fe<P&&(ie*=256);)Z+=this[_+fe]*ie;return ie*=128,Z>=ie&&(Z-=Math.pow(2,8*P)),Z},a.prototype.readIntBE=function(_,P,z){_=_>>>0,P=P>>>0,z||U(_,P,this.length);let Z=P,ie=1,fe=this[_+--Z];for(;Z>0&&(ie*=256);)fe+=this[_+--Z]*ie;return ie*=128,fe>=ie&&(fe-=Math.pow(2,8*P)),fe},a.prototype.readInt8=function(_,P){return _=_>>>0,P||U(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},a.prototype.readInt16LE=function(_,P){_=_>>>0,P||U(_,2,this.length);const z=this[_]|this[_+1]<<8;return z&32768?z|4294901760:z},a.prototype.readInt16BE=function(_,P){_=_>>>0,P||U(_,2,this.length);const z=this[_+1]|this[_]<<8;return z&32768?z|4294901760:z},a.prototype.readInt32LE=function(_,P){return _=_>>>0,P||U(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},a.prototype.readInt32BE=function(_,P){return _=_>>>0,P||U(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},a.prototype.readBigInt64LE=Ie(function(_){_=_>>>0,V(_,"offset");const P=this[_],z=this[_+7];(P===void 0||z===void 0)&&ee(_,this.length-8);const Z=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(z<<24);return(BigInt(Z)<<BigInt(32))+BigInt(P+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),a.prototype.readBigInt64BE=Ie(function(_){_=_>>>0,V(_,"offset");const P=this[_],z=this[_+7];(P===void 0||z===void 0)&&ee(_,this.length-8);const Z=(P<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(Z)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+z)}),a.prototype.readFloatLE=function(_,P){return _=_>>>0,P||U(_,4,this.length),r.read(this,_,!0,23,4)},a.prototype.readFloatBE=function(_,P){return _=_>>>0,P||U(_,4,this.length),r.read(this,_,!1,23,4)},a.prototype.readDoubleLE=function(_,P){return _=_>>>0,P||U(_,8,this.length),r.read(this,_,!0,52,8)},a.prototype.readDoubleBE=function(_,P){return _=_>>>0,P||U(_,8,this.length),r.read(this,_,!1,52,8)};function K(F,_,P,z,Z,ie){if(!a.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>Z||_<ie)throw new RangeError('"value" argument is out of bounds');if(P+z>F.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(_,P,z,Z){if(_=+_,P=P>>>0,z=z>>>0,!Z){const Je=Math.pow(2,8*z)-1;K(this,_,P,z,Je,0)}let ie=1,fe=0;for(this[P]=_&255;++fe<z&&(ie*=256);)this[P+fe]=_/ie&255;return P+z},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(_,P,z,Z){if(_=+_,P=P>>>0,z=z>>>0,!Z){const Je=Math.pow(2,8*z)-1;K(this,_,P,z,Je,0)}let ie=z-1,fe=1;for(this[P+ie]=_&255;--ie>=0&&(fe*=256);)this[P+ie]=_/fe&255;return P+z},a.prototype.writeUint8=a.prototype.writeUInt8=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,1,255,0),this[P]=_&255,P+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,2,65535,0),this[P]=_&255,this[P+1]=_>>>8,P+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,2,65535,0),this[P]=_>>>8,this[P+1]=_&255,P+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,4,4294967295,0),this[P+3]=_>>>24,this[P+2]=_>>>16,this[P+1]=_>>>8,this[P]=_&255,P+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,4,4294967295,0),this[P]=_>>>24,this[P+1]=_>>>16,this[P+2]=_>>>8,this[P+3]=_&255,P+4};function Q(F,_,P,z,Z){q(_,z,Z,F,P,7);let ie=Number(_&BigInt(4294967295));F[P++]=ie,ie=ie>>8,F[P++]=ie,ie=ie>>8,F[P++]=ie,ie=ie>>8,F[P++]=ie;let fe=Number(_>>BigInt(32)&BigInt(4294967295));return F[P++]=fe,fe=fe>>8,F[P++]=fe,fe=fe>>8,F[P++]=fe,fe=fe>>8,F[P++]=fe,P}function J(F,_,P,z,Z){q(_,z,Z,F,P,7);let ie=Number(_&BigInt(4294967295));F[P+7]=ie,ie=ie>>8,F[P+6]=ie,ie=ie>>8,F[P+5]=ie,ie=ie>>8,F[P+4]=ie;let fe=Number(_>>BigInt(32)&BigInt(4294967295));return F[P+3]=fe,fe=fe>>8,F[P+2]=fe,fe=fe>>8,F[P+1]=fe,fe=fe>>8,F[P]=fe,P+8}a.prototype.writeBigUInt64LE=Ie(function(_,P=0){return Q(this,_,P,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ie(function(_,P=0){return J(this,_,P,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(_,P,z,Z){if(_=+_,P=P>>>0,!Z){const vt=Math.pow(2,8*z-1);K(this,_,P,z,vt-1,-vt)}let ie=0,fe=1,Je=0;for(this[P]=_&255;++ie<z&&(fe*=256);)_<0&&Je===0&&this[P+ie-1]!==0&&(Je=1),this[P+ie]=(_/fe>>0)-Je&255;return P+z},a.prototype.writeIntBE=function(_,P,z,Z){if(_=+_,P=P>>>0,!Z){const vt=Math.pow(2,8*z-1);K(this,_,P,z,vt-1,-vt)}let ie=z-1,fe=1,Je=0;for(this[P+ie]=_&255;--ie>=0&&(fe*=256);)_<0&&Je===0&&this[P+ie+1]!==0&&(Je=1),this[P+ie]=(_/fe>>0)-Je&255;return P+z},a.prototype.writeInt8=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,1,127,-128),_<0&&(_=255+_+1),this[P]=_&255,P+1},a.prototype.writeInt16LE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,2,32767,-32768),this[P]=_&255,this[P+1]=_>>>8,P+2},a.prototype.writeInt16BE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,2,32767,-32768),this[P]=_>>>8,this[P+1]=_&255,P+2},a.prototype.writeInt32LE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,4,2147483647,-2147483648),this[P]=_&255,this[P+1]=_>>>8,this[P+2]=_>>>16,this[P+3]=_>>>24,P+4},a.prototype.writeInt32BE=function(_,P,z){return _=+_,P=P>>>0,z||K(this,_,P,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[P]=_>>>24,this[P+1]=_>>>16,this[P+2]=_>>>8,this[P+3]=_&255,P+4},a.prototype.writeBigInt64LE=Ie(function(_,P=0){return Q(this,_,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ie(function(_,P=0){return J(this,_,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function re(F,_,P,z,Z,ie){if(P+z>F.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function le(F,_,P,z,Z){return _=+_,P=P>>>0,Z||re(F,_,P,4),r.write(F,_,P,z,23,4),P+4}a.prototype.writeFloatLE=function(_,P,z){return le(this,_,P,!0,z)},a.prototype.writeFloatBE=function(_,P,z){return le(this,_,P,!1,z)};function Y(F,_,P,z,Z){return _=+_,P=P>>>0,Z||re(F,_,P,8),r.write(F,_,P,z,52,8),P+8}a.prototype.writeDoubleLE=function(_,P,z){return Y(this,_,P,!0,z)},a.prototype.writeDoubleBE=function(_,P,z){return Y(this,_,P,!1,z)},a.prototype.copy=function(_,P,z,Z){if(!a.isBuffer(_))throw new TypeError("argument should be a Buffer");if(z||(z=0),!Z&&Z!==0&&(Z=this.length),P>=_.length&&(P=_.length),P||(P=0),Z>0&&Z<z&&(Z=z),Z===z||_.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),_.length-P<Z-z&&(Z=_.length-P+z);const ie=Z-z;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,z,Z):Uint8Array.prototype.set.call(_,this.subarray(z,Z),P),ie},a.prototype.fill=function(_,P,z,Z){if(typeof _=="string"){if(typeof P=="string"?(Z=P,P=0,z=this.length):typeof z=="string"&&(Z=z,z=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(_.length===1){const fe=_.charCodeAt(0);(Z==="utf8"&&fe<128||Z==="latin1")&&(_=fe)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(P<0||this.length<P||this.length<z)throw new RangeError("Out of range index");if(z<=P)return this;P=P>>>0,z=z===void 0?this.length:z>>>0,_||(_=0);let ie;if(typeof _=="number")for(ie=P;ie<z;++ie)this[ie]=_;else{const fe=a.isBuffer(_)?_:a.from(_,Z),Je=fe.length;if(Je===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ie=0;ie<z-P;++ie)this[ie+P]=fe[ie%Je]}return this};const de={};function se(F,_,P){de[F]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,this.stack,delete this.name}get code(){return F}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(F,_){return`The "${F}" argument must be of type number. Received type ${typeof _}`},TypeError),se("ERR_OUT_OF_RANGE",function(F,_,P){let z=`The value of "${F}" is out of range.`,Z=P;return Number.isInteger(P)&&Math.abs(P)>2**32?Z=ge(String(P)):typeof P=="bigint"&&(Z=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(Z=ge(Z)),Z+="n"),z+=` It must be ${_}. Received ${Z}`,z},RangeError);function ge(F){let _="",P=F.length;const z=F[0]==="-"?1:0;for(;P>=z+4;P-=3)_=`_${F.slice(P-3,P)}${_}`;return`${F.slice(0,P)}${_}`}function ze(F,_,P){V(_,"offset"),(F[_]===void 0||F[_+P]===void 0)&&ee(_,F.length-(P+1))}function q(F,_,P,z,Z,ie){if(F>P||F<_){const fe=typeof _=="bigint"?"n":"";let Je;throw _===0||_===BigInt(0)?Je=`>= 0${fe} and < 2${fe} ** ${(ie+1)*8}${fe}`:Je=`>= -(2${fe} ** ${(ie+1)*8-1}${fe}) and < 2 ** ${(ie+1)*8-1}${fe}`,new de.ERR_OUT_OF_RANGE("value",Je,F)}ze(z,Z,ie)}function V(F,_){if(typeof F!="number")throw new de.ERR_INVALID_ARG_TYPE(_,"number",F)}function ee(F,_,P){throw Math.floor(F)!==F?(V(F,P),new de.ERR_OUT_OF_RANGE("offset","an integer",F)):_<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,F)}const ce=/[^+/0-9A-Za-z-_]/g;function ue(F){if(F=F.split("=")[0],F=F.trim().replace(ce,""),F.length<2)return"";for(;F.length%4!==0;)F=F+"=";return F}function me(F,_){_=_||1/0;let P;const z=F.length;let Z=null;const ie=[];for(let fe=0;fe<z;++fe){if(P=F.charCodeAt(fe),P>55295&&P<57344){if(!Z){if(P>56319){(_-=3)>-1&&ie.push(239,191,189);continue}else if(fe+1===z){(_-=3)>-1&&ie.push(239,191,189);continue}Z=P;continue}if(P<56320){(_-=3)>-1&&ie.push(239,191,189),Z=P;continue}P=(Z-55296<<10|P-56320)+65536}else Z&&(_-=3)>-1&&ie.push(239,191,189);if(Z=null,P<128){if((_-=1)<0)break;ie.push(P)}else if(P<2048){if((_-=2)<0)break;ie.push(P>>6|192,P&63|128)}else if(P<65536){if((_-=3)<0)break;ie.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((_-=4)<0)break;ie.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return ie}function ve(F){const _=[];for(let P=0;P<F.length;++P)_.push(F.charCodeAt(P)&255);return _}function we(F,_){let P,z,Z;const ie=[];for(let fe=0;fe<F.length&&!((_-=2)<0);++fe)P=F.charCodeAt(fe),z=P>>8,Z=P%256,ie.push(Z),ie.push(z);return ie}function Ee(F){return e.toByteArray(ue(F))}function pe(F,_,P,z){let Z;for(Z=0;Z<z&&!(Z+P>=_.length||Z>=F.length);++Z)_[Z+P]=F[Z];return Z}function Ce(F,_){return F instanceof _||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===_.name}function Ne(F){return F!==F}const Se=function(){const F="0123456789abcdef",_=new Array(256);for(let P=0;P<16;++P){const z=P*16;for(let Z=0;Z<16;++Z)_[z+Z]=F[P]+F[Z]}return _}();function Ie(F){return typeof BigInt>"u"?it:F}function it(){throw new Error("BigInt not supported")}}(z1)),z1}var CU=_U();const zN=""+new URL("logo-CwAGNRlz.svg",import.meta.url).href,qN="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.5%208C2.5%205.79086%204.29086%204%206.5%204H17.5C19.7091%204%2021.5%205.79086%2021.5%208V16C21.5%2018.2091%2019.7091%2020%2017.5%2020H6.5C4.29086%2020%202.5%2018.2091%202.5%2016V8Z'%20stroke='%23737A86'%20stroke-width='2'/%3e%3cpath%20d='M10.5%204V20'%20stroke='%23737A86'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%208L6%208'%20stroke='%23737A86'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%2012L6%2012'%20stroke='%23737A86'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",VN=Symbol(),Vp="el",SU="is-",wl=(t,e,r,n,s)=>{let i=`${t}-${e}`;return r&&(i+=`-${r}`),n&&(i+=`__${n}`),s&&(i+=`--${s}`),i},WN=Symbol("namespaceContextKey"),T3=t=>{const e=t||(vi()?St(WN,Be(Vp)):Be(Vp));return ye(()=>G(e)||Vp)},ps=(t,e)=>{const r=T3(e);return{namespace:r,b:(g="")=>wl(r.value,t,g,"",""),e:g=>g?wl(r.value,t,"",g,""):"",m:g=>g?wl(r.value,t,"","",g):"",be:(g,y)=>g&&y?wl(r.value,t,g,y,""):"",em:(g,y)=>g&&y?wl(r.value,t,"",g,y):"",bm:(g,y)=>g&&y?wl(r.value,t,g,"",y):"",bem:(g,y,E)=>g&&y&&E?wl(r.value,t,g,y,E):"",is:(g,...y)=>{const E=y.length>=1?y[0]:!0;return g&&E?`${SU}${g}`:""},cssVar:g=>{const y={};for(const E in g)g[E]&&(y[`--${r.value}-${E}`]=g[E]);return y},cssVarName:g=>`--${r.value}-${g}`,cssVarBlock:g=>{const y={};for(const E in g)g[E]&&(y[`--${r.value}-${t}-${E}`]=g[E]);return y},cssVarBlockName:g=>`--${r.value}-${t}-${g}`}};var xU=typeof global=="object"&&global&&global.Object===Object&&global,IU=typeof self=="object"&&self&&self.Object===Object&&self,N3=xU||IU||Function("return this")(),Xc=N3.Symbol,KN=Object.prototype,TU=KN.hasOwnProperty,NU=KN.toString,Qh=Xc?Xc.toStringTag:void 0;function PU(t){var e=TU.call(t,Qh),r=t[Qh];try{t[Qh]=void 0;var n=!0}catch{}var s=NU.call(t);return n&&(e?t[Qh]=r:delete t[Qh]),s}var OU=Object.prototype,RU=OU.toString;function kU(t){return RU.call(t)}var DU="[object Null]",MU="[object Undefined]",ES=Xc?Xc.toStringTag:void 0;function P3(t){return t==null?t===void 0?MU:DU:ES&&ES in Object(t)?PU(t):kU(t)}function O3(t){return t!=null&&typeof t=="object"}var BU="[object Symbol]";function R3(t){return typeof t=="symbol"||O3(t)&&P3(t)==BU}function UU(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var Mg=Array.isArray,AS=Xc?Xc.prototype:void 0,_S=AS?AS.toString:void 0;function GN(t){if(typeof t=="string")return t;if(Mg(t))return UU(t,GN)+"";if(R3(t))return _S?_S.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ky(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function $U(t){return t}var LU="[object AsyncFunction]",FU="[object Function]",jU="[object GeneratorFunction]",HU="[object Proxy]";function zU(t){if(!Ky(t))return!1;var e=P3(t);return e==FU||e==jU||e==LU||e==HU}var q1=N3["__core-js_shared__"],CS=function(){var t=/[^.]+$/.exec(q1&&q1.keys&&q1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qU(t){return!!CS&&CS in t}var VU=Function.prototype,WU=VU.toString;function KU(t){if(t!=null){try{return WU.call(t)}catch{}try{return t+""}catch{}}return""}var GU=/[\\^$.*+?()[\]{}|]/g,JU=/^\[object .+?Constructor\]$/,YU=Function.prototype,QU=Object.prototype,ZU=YU.toString,XU=QU.hasOwnProperty,e$=RegExp("^"+ZU.call(XU).replace(GU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t$(t){if(!Ky(t)||qU(t))return!1;var e=zU(t)?e$:JU;return e.test(KU(t))}function r$(t,e){return t==null?void 0:t[e]}function k3(t,e){var r=r$(t,e);return t$(r)?r:void 0}function n$(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var s$=800,i$=16,o$=Date.now;function a$(t){var e=0,r=0;return function(){var n=o$(),s=i$-(n-r);if(r=n,s>0){if(++e>=s$)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function c$(t){return function(){return t}}var Gy=function(){try{var t=k3(Object,"defineProperty");return t({},"",{}),t}catch{}}(),l$=Gy?function(t,e){return Gy(t,"toString",{configurable:!0,enumerable:!1,value:c$(e),writable:!0})}:$U,u$=a$(l$),f$=9007199254740991,d$=/^(?:0|[1-9]\d*)$/;function JN(t,e){var r=typeof t;return e=e??f$,!!e&&(r=="number"||r!="symbol"&&d$.test(t))&&t>-1&&t%1==0&&t<e}function h$(t,e,r){e=="__proto__"&&Gy?Gy(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function YN(t,e){return t===e||t!==t&&e!==e}var p$=Object.prototype,g$=p$.hasOwnProperty;function m$(t,e,r){var n=t[e];(!(g$.call(t,e)&&YN(n,r))||r===void 0&&!(e in t))&&h$(t,e,r)}var SS=Math.max;function y$(t,e,r){return e=SS(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,i=SS(n.length-e,0),o=Array(i);++s<i;)o[s]=n[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=n[s];return a[e]=r(o),n$(t,this,a)}}var b$=9007199254740991;function w$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=b$}var v$="[object Arguments]";function xS(t){return O3(t)&&P3(t)==v$}var QN=Object.prototype,E$=QN.hasOwnProperty,A$=QN.propertyIsEnumerable,ZN=xS(function(){return arguments}())?xS:function(t){return O3(t)&&E$.call(t,"callee")&&!A$.call(t,"callee")},_$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C$=/^\w*$/;function S$(t,e){if(Mg(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||R3(t)?!0:C$.test(t)||!_$.test(t)||e!=null&&t in Object(e)}var y0=k3(Object,"create");function x$(){this.__data__=y0?y0(null):{},this.size=0}function I$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var T$="__lodash_hash_undefined__",N$=Object.prototype,P$=N$.hasOwnProperty;function O$(t){var e=this.__data__;if(y0){var r=e[t];return r===T$?void 0:r}return P$.call(e,t)?e[t]:void 0}var R$=Object.prototype,k$=R$.hasOwnProperty;function D$(t){var e=this.__data__;return y0?e[t]!==void 0:k$.call(e,t)}var M$="__lodash_hash_undefined__";function B$(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=y0&&e===void 0?M$:e,this}function Ou(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ou.prototype.clear=x$;Ou.prototype.delete=I$;Ou.prototype.get=O$;Ou.prototype.has=D$;Ou.prototype.set=B$;function U$(){this.__data__=[],this.size=0}function aw(t,e){for(var r=t.length;r--;)if(YN(t[r][0],e))return r;return-1}var $$=Array.prototype,L$=$$.splice;function F$(t){var e=this.__data__,r=aw(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():L$.call(e,r,1),--this.size,!0}function j$(t){var e=this.__data__,r=aw(e,t);return r<0?void 0:e[r][1]}function H$(t){return aw(this.__data__,t)>-1}function z$(t,e){var r=this.__data__,n=aw(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Dh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Dh.prototype.clear=U$;Dh.prototype.delete=F$;Dh.prototype.get=j$;Dh.prototype.has=H$;Dh.prototype.set=z$;var q$=k3(N3,"Map");function V$(){this.size=0,this.__data__={hash:new Ou,map:new(q$||Dh),string:new Ou}}function W$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function cw(t,e){var r=t.__data__;return W$(e)?r[typeof e=="string"?"string":"hash"]:r.map}function K$(t){var e=cw(this,t).delete(t);return this.size-=e?1:0,e}function G$(t){return cw(this,t).get(t)}function J$(t){return cw(this,t).has(t)}function Y$(t,e){var r=cw(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Zu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zu.prototype.clear=V$;Zu.prototype.delete=K$;Zu.prototype.get=G$;Zu.prototype.has=J$;Zu.prototype.set=Y$;var Q$="Expected a function";function D3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Q$);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(D3.Cache||Zu),r}D3.Cache=Zu;var Z$=500;function X$(t){var e=D3(t,function(n){return r.size===Z$&&r.clear(),n}),r=e.cache;return e}var eL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tL=/\\(\\)?/g,rL=X$(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(eL,function(r,n,s,i){e.push(s?i.replace(tL,"$1"):n||r)}),e});function nL(t){return t==null?"":GN(t)}function lw(t,e){return Mg(t)?t:S$(t,e)?[t]:rL(nL(t))}function M3(t){if(typeof t=="string"||R3(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function XN(t,e){e=lw(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[M3(e[r++])];return r&&r==n?t:void 0}function sL(t,e,r){var n=t==null?void 0:XN(t,e);return n===void 0?r:n}function iL(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var IS=Xc?Xc.isConcatSpreadable:void 0;function oL(t){return Mg(t)||ZN(t)||!!(IS&&t&&t[IS])}function aL(t,e,r,n,s){var i=-1,o=t.length;for(r||(r=oL),s||(s=[]);++i<o;){var a=t[i];r(a)?iL(s,a):s[s.length]=a}return s}function cL(t){var e=t==null?0:t.length;return e?aL(t):[]}function lL(t){return u$(y$(t,void 0,cL),t+"")}function uL(t,e){return t!=null&&e in Object(t)}function fL(t,e,r){e=lw(e,t);for(var n=-1,s=e.length,i=!1;++n<s;){var o=M3(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=s?i:(s=t==null?0:t.length,!!s&&w$(s)&&JN(o,s)&&(Mg(t)||ZN(t)))}function dL(t,e){return t!=null&&fL(t,e,uL)}function cE(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var s=t[e];n[s[0]]=s[1]}return n}function B3(t){return t==null}function eP(t){return t===void 0}function hL(t,e,r,n){if(!Ky(t))return t;e=lw(e,t);for(var s=-1,i=e.length,o=i-1,a=t;a!=null&&++s<i;){var c=M3(e[s]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=o){var u=a[c];l=void 0,l===void 0&&(l=Ky(u)?u:JN(e[s+1])?[]:{})}m$(a,c,l),a=a[c]}return t}function pL(t,e,r){for(var n=-1,s=e.length,i={};++n<s;){var o=e[n],a=XN(t,o);r(a,o)&&hL(i,lw(o,t),a)}return i}function gL(t,e){return pL(t,e,function(r,n){return dL(t,n)})}var mL=lL(function(t,e){return t==null?{}:gL(t,e)});const tP=t=>t===void 0,uw=t=>typeof t=="boolean",b0=t=>typeof t=="number",Da=t=>typeof Element>"u"?!1:t instanceof Element,yL=t=>Jt(t)?!Number.isNaN(Number(t)):!1;var bL=Object.defineProperty,wL=Object.defineProperties,vL=Object.getOwnPropertyDescriptors,TS=Object.getOwnPropertySymbols,EL=Object.prototype.hasOwnProperty,AL=Object.prototype.propertyIsEnumerable,NS=(t,e,r)=>e in t?bL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_L=(t,e)=>{for(var r in e||(e={}))EL.call(e,r)&&NS(t,r,e[r]);if(TS)for(var r of TS(e))AL.call(e,r)&&NS(t,r,e[r]);return t},CL=(t,e)=>wL(t,vL(e));function SL(t,e){var r;const n=v3();return rw(()=>{n.value=t()},CL(_L({},e),{flush:(r=void 0)!=null?r:"sync"})),Rg(n)}var PS;const qn=typeof window<"u",xL=t=>typeof t=="string",rP=()=>{},IL=qn&&((PS=window==null?void 0:window.navigator)==null?void 0:PS.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function U3(t){return typeof t=="function"?t():G(t)}function TL(t){return t}function fw(t){return u3()?(f3(t),!0):!1}function NL(t,e=!0){vi()?hs(t):e?t():Pu(t)}function lE(t,e,r={}){const{immediate:n=!0}=r,s=Be(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){s.value=!1,o()}function c(...l){o(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,t(...l)},U3(e))}return n&&(s.value=!0,qn&&c()),fw(a),{isPending:Rg(s),start:c,stop:a}}function Fc(t){var e;const r=U3(t);return(e=r==null?void 0:r.$el)!=null?e:r}const $3=qn?window:void 0;function sy(...t){let e,r,n,s;if(xL(t[0])||Array.isArray(t[0])?([r,n,s]=t,e=$3):[e,r,n,s]=t,!e)return rP;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(u=>u()),i.length=0},a=(u,f,d,h)=>(u.addEventListener(f,d,h),()=>u.removeEventListener(f,d,h)),c=jt(()=>[Fc(e),U3(s)],([u,f])=>{o(),u&&i.push(...r.flatMap(d=>n.map(h=>a(u,d,h,f))))},{immediate:!0,flush:"post"}),l=()=>{c(),o()};return fw(l),l}let OS=!1;function PL(t,e,r={}){const{window:n=$3,ignore:s=[],capture:i=!0,detectIframe:o=!1}=r;if(!n)return;IL&&!OS&&(OS=!0,Array.from(n.document.body.children).forEach(d=>d.addEventListener("click",rP)));let a=!0;const c=d=>s.some(h=>{if(typeof h=="string")return Array.from(n.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Fc(h);return p&&(d.target===p||d.composedPath().includes(p))}}),u=[sy(n,"click",d=>{const h=Fc(t);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(a=!c(d)),!a){a=!0;return}e(d)}},{passive:!0,capture:i}),sy(n,"pointerdown",d=>{const h=Fc(t);h&&(a=!d.composedPath().includes(h)&&!c(d))},{passive:!0}),o&&sy(n,"blur",d=>{var h;const p=Fc(t);((h=n.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(n.document.activeElement))&&e(d)})].filter(Boolean);return()=>u.forEach(d=>d())}function OL(t,e=!1){const r=Be(),n=()=>r.value=!!t();return n(),NL(n,e),r}const RS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kS="__vueuse_ssr_handlers__";RS[kS]=RS[kS]||{};var DS=Object.getOwnPropertySymbols,RL=Object.prototype.hasOwnProperty,kL=Object.prototype.propertyIsEnumerable,DL=(t,e)=>{var r={};for(var n in t)RL.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&DS)for(var n of DS(t))e.indexOf(n)<0&&kL.call(t,n)&&(r[n]=t[n]);return r};function _1e(t,e,r={}){const n=r,{window:s=$3}=n,i=DL(n,["window"]);let o;const a=OL(()=>s&&"ResizeObserver"in s),c=()=>{o&&(o.disconnect(),o=void 0)},l=jt(()=>Fc(t),f=>{c(),a.value&&s&&f&&(o=new ResizeObserver(e),o.observe(f,i))},{immediate:!0,flush:"post"}),u=()=>{c(),l()};return fw(u),{isSupported:a,stop:u}}var MS;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(MS||(MS={}));var ML=Object.defineProperty,BS=Object.getOwnPropertySymbols,BL=Object.prototype.hasOwnProperty,UL=Object.prototype.propertyIsEnumerable,US=(t,e,r)=>e in t?ML(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$L=(t,e)=>{for(var r in e||(e={}))BL.call(e,r)&&US(t,r,e[r]);if(BS)for(var r of BS(e))UL.call(e,r)&&US(t,r,e[r]);return t};const LL={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};$L({linear:TL},LL);class FL extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function jL(t,e){throw new FL(`[${t}] ${e}`)}function C1e(t,e){}const $S={current:0},LS=Be(0),nP=2e3,FS=Symbol("elZIndexContextKey"),sP=Symbol("zIndexContextKey"),L3=t=>{const e=vi()?St(FS,$S):$S,r=t||(vi()?St(sP,void 0):void 0),n=ye(()=>{const o=G(r);return b0(o)?o:nP}),s=ye(()=>n.value+LS.value),i=()=>(e.current++,LS.value=e.current,s.value);return!qn&&St(FS),{initialZIndex:n,currentZIndex:s,nextZIndex:i}};var HL={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const zL=t=>(e,r)=>qL(e,r,G(t)),qL=(t,e,r)=>sL(r,t,t).replace(/\{(\w+)\}/g,(n,s)=>{var i;return`${(i=e==null?void 0:e[s])!=null?i:`{${s}}`}`}),VL=t=>{const e=ye(()=>G(t).name),r=ir(t)?t:Be(t);return{lang:e,locale:r,t:zL(t)}},iP=Symbol("localeContextKey"),F3=t=>{const e=t||St(iP,Be());return VL(ye(()=>e.value||HL))},oP="__epPropKey",ht=t=>t,WL=t=>er(t)&&!!t[oP],dw=(t,e)=>{if(!er(t)||WL(t))return t;const{values:r,required:n,default:s,type:i,validator:o}=t,c={type:i,required:!!n,validator:r||o?l=>{let u=!1,f=[];if(r&&(f=Array.from(r),Lt(t,"default")&&f.push(s),u||(u=f.includes(l))),o&&(u||(u=o(l))),!u&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");zB(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${d}], got value ${JSON.stringify(l)}.`)}return u}:void 0,[oP]:!0};return Lt(t,"default")&&(c.default=s),c},Cr=t=>cE(Object.entries(t).map(([e,r])=>[e,dw(r,e)])),KL=["","default","small","large"],GL=dw({type:String,values:KL,required:!1}),aP=Symbol("size"),JL=()=>{const t=St(aP,{});return ye(()=>G(t.size)||"")},YL=Symbol("emptyValuesContextKey");Cr({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>et(t)?!t():!t}});const jS=t=>Object.keys(t),Jy=Be();function hw(t,e=void 0){const r=vi()?St(VN,Jy):Jy;return t?ye(()=>{var n,s;return(s=(n=r.value)==null?void 0:n[t])!=null?s:e}):r}function QL(t,e){const r=hw(),n=ps(t,ye(()=>{var a;return((a=r.value)==null?void 0:a.namespace)||Vp})),s=F3(ye(()=>{var a;return(a=r.value)==null?void 0:a.locale})),i=L3(ye(()=>{var a;return((a=r.value)==null?void 0:a.zIndex)||nP})),o=ye(()=>{var a;return G(e)||((a=r.value)==null?void 0:a.size)||""});return ZL(ye(()=>G(r)||{})),{ns:n,locale:s,zIndex:i,size:o}}const ZL=(t,e,r=!1)=>{var n;const s=!!vi(),i=s?hw():void 0,o=(n=void 0)!=null?n:s?ls:void 0;if(!o)return;const a=ye(()=>{const c=G(t);return i!=null&&i.value?XL(i.value,c):c});return o(VN,a),o(iP,ye(()=>a.value.locale)),o(WN,ye(()=>a.value.namespace)),o(sP,ye(()=>a.value.zIndex)),o(aP,{size:ye(()=>a.value.size||"")}),o(YL,ye(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(r||!Jy.value)&&(Jy.value=a.value),a},XL=(t,e)=>{const r=[...new Set([...jS(t),...jS(e)])],n={};for(const s of r)n[s]=e[s]!==void 0?e[s]:t[s];return n},cP="update:modelValue",S1e="change",x1e="input";var cn=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r};const lP=(t="")=>t.split(" ").filter(e=>!!e.trim()),HS=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},eF=(t,e)=>{!t||!e.trim()||t.classList.add(...lP(e))},tF=(t,e)=>{!t||!e.trim()||t.classList.remove(...lP(e))},rF=(t,e)=>{var r;if(!qn||!t||!e)return"";let n=Ys(e);n==="float"&&(n="cssFloat");try{const s=t.style[n];if(s)return s;const i=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return i?i[n]:""}catch{return t.style[n]}};function sh(t,e="px"){if(!t)return"";if(b0(t)||yL(t))return`${t}${e}`;if(Jt(t))return t}let mm;const nF=t=>{var e;if(!qn)return 0;if(mm!==void 0)return mm;const r=document.createElement("div");r.className=`${t}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const n=r.offsetWidth;r.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",r.appendChild(s);const i=s.offsetWidth;return(e=r.parentNode)==null||e.removeChild(r),mm=n-i,mm},ul=(t,e)=>{if(t.install=r=>{for(const n of[t,...Object.values(e??{})])r.component(n.name,n)},e)for(const[r,n]of Object.entries(e))t[r]=n;return t},sF=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),iF=(t,e)=>(t.install=r=>{r.directive(e,t)},t),oF=t=>(t.install=wn,t),aF=Cr({size:{type:ht([Number,String])},color:{type:String}}),cF=Ge({name:"ElIcon",inheritAttrs:!1}),lF=Ge({...cF,props:aF,setup(t){const e=t,r=ps("icon"),n=ye(()=>{const{size:s,color:i}=e;return!s&&!i?{}:{fontSize:tP(s)?void 0:sh(s),"--color":i}});return(s,i)=>(De(),tt("i",Ka({class:G(r).b(),style:G(n)},s.$attrs),[Dt(s.$slots,"default")],16))}});var uF=cn(lF,[["__file","icon.vue"]]);const ih=ul(uF);/*! Element Plus Icons Vue v2.3.1 */var fF=Ge({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),I1e=fF,dF=Ge({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),T1e=dF,hF=Ge({name:"CircleCheck",__name:"circle-check",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Te("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),pF=hF,gF=Ge({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),mF=gF,yF=Ge({name:"CircleClose",__name:"circle-close",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),bF=yF,wF=Ge({name:"Close",__name:"close",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),uP=wF,vF=Ge({name:"Hide",__name:"hide",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Te("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),N1e=vF,EF=Ge({name:"InfoFilled",__name:"info-filled",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),AF=EF,_F=Ge({name:"Loading",__name:"loading",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),fP=_F,CF=Ge({name:"Minus",__name:"minus",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),P1e=CF,SF=Ge({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),O1e=SF,xF=Ge({name:"Plus",__name:"plus",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),R1e=xF,IF=Ge({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),TF=IF,NF=Ge({name:"View",__name:"view",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),k1e=NF,PF=Ge({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,r)=>(De(),tt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),OF=PF;const w0=ht([String,Object,Function]),dP={Close:uP},zS={success:TF,warning:OF,error:mF,info:AF},D1e={validating:fP,success:pF,error:bF},RF=Cr({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),hP=t=>mL(RF,t),j3=Symbol("formContextKey"),Yy=Symbol("formItemContextKey"),qS={prefix:Math.floor(Math.random()*1e4),current:0},kF=Symbol("elIdInjection"),pP=()=>vi()?St(kF,qS):qS,Qy=t=>{const e=pP(),r=T3();return SL(()=>G(t)||`${r.value}-id-${e.prefix}-${e.current++}`)},DF=()=>{const t=St(j3,void 0),e=St(Yy,void 0);return{form:t,formItem:e}},M1e=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=Be(!1)),n||(n=Be(!1));const s=Be();let i;const o=ye(()=>{var a;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((a=e.inputIds)==null?void 0:a.length)<=1)});return hs(()=>{i=jt([Pa(t,"id"),r],([a,c])=>{const l=a??(c?void 0:Qy().value);l!==s.value&&(e!=null&&e.removeInputId&&(s.value&&e.removeInputId(s.value),!(n!=null&&n.value)&&!c&&l&&e.addInputId(l)),s.value=l)},{immediate:!0})}),tw(()=>{i&&i(),e!=null&&e.removeInputId&&s.value&&e.removeInputId(s.value)}),{isLabeledByFormItem:o,inputId:s}},gP=t=>{const e=vi();return ye(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})},MF=(t,e={})=>{const r=Be(void 0),n=e.prop?r:gP("size"),s=e.global?r:JL(),i=e.form?{size:void 0}:St(j3,void 0),o=e.formItem?{size:void 0}:St(Yy,void 0);return ye(()=>n.value||G(t)||(o==null?void 0:o.size)||(i==null?void 0:i.size)||s.value||"")},mP=t=>{const e=gP("disabled"),r=St(j3,void 0);return ye(()=>e.value||G(t)||(r==null?void 0:r.disabled)||!1)},H3=Symbol("popper"),yP=Symbol("popperContent"),bP=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],wP=Cr({role:{type:String,values:bP,default:"tooltip"}}),BF=Ge({name:"ElPopper",inheritAttrs:!1}),UF=Ge({...BF,props:wP,setup(t,{expose:e}){const r=t,n=Be(),s=Be(),i=Be(),o=Be(),a=ye(()=>r.role),c={triggerRef:n,popperInstanceRef:s,contentRef:i,referenceRef:o,role:a};return e(c),ls(H3,c),(l,u)=>Dt(l.$slots,"default")}});var $F=cn(UF,[["__file","popper.vue"]]);const vP=Cr({arrowOffset:{type:Number,default:5}}),LF=Ge({name:"ElPopperArrow",inheritAttrs:!1}),FF=Ge({...LF,props:vP,setup(t,{expose:e}){const r=t,n=ps("popper"),{arrowOffset:s,arrowRef:i,arrowStyle:o}=St(yP,void 0);return jt(()=>r.arrowOffset,a=>{s.value=a}),_i(()=>{i.value=void 0}),e({arrowRef:i}),(a,c)=>(De(),tt("span",{ref_key:"arrowRef",ref:i,class:kt(G(n).e("arrow")),style:La(G(o)),"data-popper-arrow":""},null,6))}});var jF=cn(FF,[["__file","arrow.vue"]]);const EP=Cr({virtualRef:{type:ht(Object)},virtualTriggering:Boolean,onMouseenter:{type:ht(Function)},onMouseleave:{type:ht(Function)},onClick:{type:ht(Function)},onKeydown:{type:ht(Function)},onFocus:{type:ht(Function)},onBlur:{type:ht(Function)},onContextmenu:{type:ht(Function)},id:String,open:Boolean}),AP=Symbol("elForwardRef"),HF=t=>{ls(AP,{setForwardRef:r=>{t.value=r}})},zF=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),uE=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},qF="ElOnlyChild",VF=Ge({name:qF,setup(t,{slots:e,attrs:r}){var n;const s=St(AP),i=zF((n=s==null?void 0:s.setForwardRef)!=null?n:wn);return()=>{var o;const a=(o=e.default)==null?void 0:o.call(e,r);if(!a||a.length>1)return null;const c=_P(a);return c?nh(Fa(c,r),[[i]]):null}}});function _P(t){if(!t)return null;const e=t;for(const r of e){if(er(r))switch(r.type){case Hn:continue;case kh:case"svg":return VS(r);case Xr:return _P(r.children);default:return r}return VS(r)}return null}function VS(t){const e=ps("only-child");return ut("span",{class:e.e("content")},[t])}const WF=Ge({name:"ElPopperTrigger",inheritAttrs:!1}),KF=Ge({...WF,props:EP,setup(t,{expose:e}){const r=t,{role:n,triggerRef:s}=St(H3,void 0);HF(s);const i=ye(()=>a.value?r.id:void 0),o=ye(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),a=ye(()=>{if(n&&n.value!=="tooltip")return n.value}),c=ye(()=>a.value?`${r.open}`:void 0);let l;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return hs(()=>{jt(()=>r.virtualRef,f=>{f&&(s.value=Fc(f))},{immediate:!0}),jt(s,(f,d)=>{l==null||l(),l=void 0,Da(f)&&(u.forEach(h=>{var p;const g=r[h];g&&(f.addEventListener(h.slice(2).toLowerCase(),g),(p=d==null?void 0:d.removeEventListener)==null||p.call(d,h.slice(2).toLowerCase(),g))}),uE(f)&&(l=jt([i,o,a,c],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,g)=>{B3(h[g])?f.removeAttribute(p):f.setAttribute(p,h[g])})},{immediate:!0}))),Da(d)&&uE(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),_i(()=>{if(l==null||l(),l=void 0,s.value&&Da(s.value)){const f=s.value;u.forEach(d=>{const h=r[d];h&&f.removeEventListener(d.slice(2).toLowerCase(),h)}),s.value=void 0}}),e({triggerRef:s}),(f,d)=>f.virtualTriggering?Ir("v-if",!0):(De(),sr(G(VF),Ka({key:0},f.$attrs,{"aria-controls":G(i),"aria-describedby":G(o),"aria-expanded":G(c),"aria-haspopup":G(a)}),{default:lt(()=>[Dt(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var GF=cn(KF,[["__file","trigger.vue"]]);const V1="focus-trap.focus-after-trapped",W1="focus-trap.focus-after-released",JF="focus-trap.focusout-prevented",WS={cancelable:!0,bubbles:!1},YF={cancelable:!0,bubbles:!1},KS="focusAfterTrapped",GS="focusAfterReleased",CP=Symbol("elFocusTrap"),z3=Be(),pw=Be(0),q3=Be(0);let ym=0;const SP=t=>{const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e},JS=(t,e)=>{for(const r of t)if(!QF(r,e))return r},QF=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},ZF=t=>{const e=SP(t),r=JS(e,t),n=JS(e.reverse(),t);return[r,n]},XF=t=>t instanceof HTMLInputElement&&"select"in t,la=(t,e)=>{if(t&&t.focus){const r=document.activeElement;let n=!1;Da(t)&&!uE(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),n=!0),t.focus({preventScroll:!0}),q3.value=window.performance.now(),t!==r&&XF(t)&&e&&t.select(),Da(t)&&n&&t.removeAttribute("tabindex")}};function YS(t,e){const r=[...t],n=t.indexOf(e);return n!==-1&&r.splice(n,1),r}const ej=()=>{let t=[];return{push:n=>{const s=t[0];s&&n!==s&&s.pause(),t=YS(t,n),t.unshift(n)},remove:n=>{var s,i;t=YS(t,n),(i=(s=t[0])==null?void 0:s.resume)==null||i.call(s)}}},tj=(t,e=!1)=>{const r=document.activeElement;for(const n of t)if(la(n,e),document.activeElement!==r)return},QS=ej(),rj=()=>pw.value>q3.value,bm=()=>{z3.value="pointer",pw.value=window.performance.now()},ZS=()=>{z3.value="keyboard",pw.value=window.performance.now()},nj=()=>(hs(()=>{ym===0&&(document.addEventListener("mousedown",bm),document.addEventListener("touchstart",bm),document.addEventListener("keydown",ZS)),ym++}),_i(()=>{ym--,ym<=0&&(document.removeEventListener("mousedown",bm),document.removeEventListener("touchstart",bm),document.removeEventListener("keydown",ZS))}),{focusReason:z3,lastUserFocusTimestamp:pw,lastAutomatedFocusTimestamp:q3}),wm=t=>new CustomEvent(JF,{...YF,detail:t}),mi={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let $f=[];const XS=t=>{t.code===mi.esc&&$f.forEach(e=>e(t))},sj=t=>{hs(()=>{$f.length===0&&document.addEventListener("keydown",XS),qn&&$f.push(t)}),_i(()=>{$f=$f.filter(e=>e!==t),$f.length===0&&qn&&document.removeEventListener("keydown",XS)})},ij=Ge({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[KS,GS,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const r=Be();let n,s;const{focusReason:i}=nj();sj(p=>{t.trapped&&!o.paused&&e("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=p=>{if(!t.loop&&!t.trapped||o.paused)return;const{code:g,altKey:y,ctrlKey:E,metaKey:C,currentTarget:I,shiftKey:T}=p,{loop:N}=t,k=g===mi.tab&&!y&&!E&&!C,B=document.activeElement;if(k&&B){const L=I,[$,j]=ZF(L);if($&&j){if(!T&&B===j){const m=wm({focusReason:i.value});e("focusout-prevented",m),m.defaultPrevented||(p.preventDefault(),N&&la($,!0))}else if(T&&[$,L].includes(B)){const m=wm({focusReason:i.value});e("focusout-prevented",m),m.defaultPrevented||(p.preventDefault(),N&&la(j,!0))}}else if(B===L){const m=wm({focusReason:i.value});e("focusout-prevented",m),m.defaultPrevented||p.preventDefault()}}};ls(CP,{focusTrapRef:r,onKeydown:a}),jt(()=>t.focusTrapEl,p=>{p&&(r.value=p)},{immediate:!0}),jt([r],([p],[g])=>{p&&(p.addEventListener("keydown",a),p.addEventListener("focusin",u),p.addEventListener("focusout",f)),g&&(g.removeEventListener("keydown",a),g.removeEventListener("focusin",u),g.removeEventListener("focusout",f))});const c=p=>{e(KS,p)},l=p=>e(GS,p),u=p=>{const g=G(r);if(!g)return;const y=p.target,E=p.relatedTarget,C=y&&g.contains(y);t.trapped||E&&g.contains(E)||(n=E),C&&e("focusin",p),!o.paused&&t.trapped&&(C?s=y:la(s,!0))},f=p=>{const g=G(r);if(!(o.paused||!g))if(t.trapped){const y=p.relatedTarget;!B3(y)&&!g.contains(y)&&setTimeout(()=>{if(!o.paused&&t.trapped){const E=wm({focusReason:i.value});e("focusout-prevented",E),E.defaultPrevented||la(s,!0)}},0)}else{const y=p.target;y&&g.contains(y)||e("focusout",p)}};async function d(){await Pu();const p=G(r);if(p){QS.push(o);const g=p.contains(document.activeElement)?n:document.activeElement;if(n=g,!p.contains(g)){const E=new Event(V1,WS);p.addEventListener(V1,c),p.dispatchEvent(E),E.defaultPrevented||Pu(()=>{let C=t.focusStartEl;Jt(C)||(la(C),document.activeElement!==C&&(C="first")),C==="first"&&tj(SP(p),!0),(document.activeElement===g||C==="container")&&la(p)})}}}function h(){const p=G(r);if(p){p.removeEventListener(V1,c);const g=new CustomEvent(W1,{...WS,detail:{focusReason:i.value}});p.addEventListener(W1,l),p.dispatchEvent(g),!g.defaultPrevented&&(i.value=="keyboard"||!rj()||p.contains(document.activeElement))&&la(n??document.body),p.removeEventListener(W1,l),QS.remove(o)}}return hs(()=>{t.trapped&&d(),jt(()=>t.trapped,p=>{p?d():h()})}),_i(()=>{t.trapped&&h(),r.value&&(r.value.removeEventListener("keydown",a),r.value.removeEventListener("focusin",u),r.value.removeEventListener("focusout",f),r.value=void 0)}),{onKeydown:a}}});function oj(t,e,r,n,s,i){return Dt(t.$slots,"default",{handleKeydown:t.onKeydown})}var V3=cn(ij,[["render",oj],["__file","focus-trap.vue"]]),xs="top",Ei="bottom",Ai="right",Is="left",W3="auto",Bg=[xs,Ei,Ai,Is],oh="start",v0="end",aj="clippingParents",xP="viewport",Zh="popper",cj="reference",e6=Bg.reduce(function(t,e){return t.concat([e+"-"+oh,e+"-"+v0])},[]),K3=[].concat(Bg,[W3]).reduce(function(t,e){return t.concat([e,e+"-"+oh,e+"-"+v0])},[]),lj="beforeRead",uj="read",fj="afterRead",dj="beforeMain",hj="main",pj="afterMain",gj="beforeWrite",mj="write",yj="afterWrite",bj=[lj,uj,fj,dj,hj,pj,gj,mj,yj];function Lo(t){return t?(t.nodeName||"").toLowerCase():null}function ro(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ah(t){var e=ro(t).Element;return t instanceof e||t instanceof Element}function wi(t){var e=ro(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function G3(t){if(typeof ShadowRoot>"u")return!1;var e=ro(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function wj(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},s=e.attributes[r]||{},i=e.elements[r];!wi(i)||!Lo(i)||(Object.assign(i.style,n),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function vj(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],i=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(c,l){return c[l]="",c},{});!wi(s)||!Lo(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}var IP={name:"applyStyles",enabled:!0,phase:"write",fn:wj,effect:vj,requires:["computeStyles"]};function Mo(t){return t.split("-")[0]}var Eu=Math.max,Zy=Math.min,ch=Math.round;function lh(t,e){e===void 0&&(e=!1);var r=t.getBoundingClientRect(),n=1,s=1;if(wi(t)&&e){var i=t.offsetHeight,o=t.offsetWidth;o>0&&(n=ch(r.width)/o||1),i>0&&(s=ch(r.height)/i||1)}return{width:r.width/n,height:r.height/s,top:r.top/s,right:r.right/n,bottom:r.bottom/s,left:r.left/n,x:r.left/n,y:r.top/s}}function J3(t){var e=lh(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function TP(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&G3(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ja(t){return ro(t).getComputedStyle(t)}function Ej(t){return["table","td","th"].indexOf(Lo(t))>=0}function fl(t){return((ah(t)?t.ownerDocument:t.document)||window.document).documentElement}function gw(t){return Lo(t)==="html"?t:t.assignedSlot||t.parentNode||(G3(t)?t.host:null)||fl(t)}function t6(t){return!wi(t)||ja(t).position==="fixed"?null:t.offsetParent}function Aj(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&wi(t)){var n=ja(t);if(n.position==="fixed")return null}var s=gw(t);for(G3(s)&&(s=s.host);wi(s)&&["html","body"].indexOf(Lo(s))<0;){var i=ja(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Ug(t){for(var e=ro(t),r=t6(t);r&&Ej(r)&&ja(r).position==="static";)r=t6(r);return r&&(Lo(r)==="html"||Lo(r)==="body"&&ja(r).position==="static")?e:r||Aj(t)||e}function Y3(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Wp(t,e,r){return Eu(t,Zy(e,r))}function _j(t,e,r){var n=Wp(t,e,r);return n>r?r:n}function NP(){return{top:0,right:0,bottom:0,left:0}}function PP(t){return Object.assign({},NP(),t)}function OP(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Cj=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,PP(typeof t!="number"?t:OP(t,Bg))};function Sj(t){var e,r=t.state,n=t.name,s=t.options,i=r.elements.arrow,o=r.modifiersData.popperOffsets,a=Mo(r.placement),c=Y3(a),l=[Is,Ai].indexOf(a)>=0,u=l?"height":"width";if(!(!i||!o)){var f=Cj(s.padding,r),d=J3(i),h=c==="y"?xs:Is,p=c==="y"?Ei:Ai,g=r.rects.reference[u]+r.rects.reference[c]-o[c]-r.rects.popper[u],y=o[c]-r.rects.reference[c],E=Ug(i),C=E?c==="y"?E.clientHeight||0:E.clientWidth||0:0,I=g/2-y/2,T=f[h],N=C-d[u]-f[p],k=C/2-d[u]/2+I,B=Wp(T,k,N),L=c;r.modifiersData[n]=(e={},e[L]=B,e.centerOffset=B-k,e)}}function xj(t){var e=t.state,r=t.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||!TP(e.elements.popper,s)||(e.elements.arrow=s))}var Ij={name:"arrow",enabled:!0,phase:"main",fn:Sj,effect:xj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function uh(t){return t.split("-")[1]}var Tj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nj(t){var e=t.x,r=t.y,n=window,s=n.devicePixelRatio||1;return{x:ch(e*s)/s||0,y:ch(r*s)/s||0}}function r6(t){var e,r=t.popper,n=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,f=t.isFixed,d=o.x,h=d===void 0?0:d,p=o.y,g=p===void 0?0:p,y=typeof u=="function"?u({x:h,y:g}):{x:h,y:g};h=y.x,g=y.y;var E=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),I=Is,T=xs,N=window;if(l){var k=Ug(r),B="clientHeight",L="clientWidth";if(k===ro(r)&&(k=fl(r),ja(k).position!=="static"&&a==="absolute"&&(B="scrollHeight",L="scrollWidth")),k=k,s===xs||(s===Is||s===Ai)&&i===v0){T=Ei;var $=f&&k===N&&N.visualViewport?N.visualViewport.height:k[B];g-=$-n.height,g*=c?1:-1}if(s===Is||(s===xs||s===Ei)&&i===v0){I=Ai;var j=f&&k===N&&N.visualViewport?N.visualViewport.width:k[L];h-=j-n.width,h*=c?1:-1}}var O=Object.assign({position:a},l&&Tj),m=u===!0?Nj({x:h,y:g}):{x:h,y:g};if(h=m.x,g=m.y,c){var A;return Object.assign({},O,(A={},A[T]=C?"0":"",A[I]=E?"0":"",A.transform=(N.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",A))}return Object.assign({},O,(e={},e[T]=C?g+"px":"",e[I]=E?h+"px":"",e.transform="",e))}function Pj(t){var e=t.state,r=t.options,n=r.gpuAcceleration,s=n===void 0?!0:n,i=r.adaptive,o=i===void 0?!0:i,a=r.roundOffsets,c=a===void 0?!0:a,l={placement:Mo(e.placement),variation:uh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,r6(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,r6(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var RP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Pj,data:{}},vm={passive:!0};function Oj(t){var e=t.state,r=t.instance,n=t.options,s=n.scroll,i=s===void 0?!0:s,o=n.resize,a=o===void 0?!0:o,c=ro(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(u){u.addEventListener("scroll",r.update,vm)}),a&&c.addEventListener("resize",r.update,vm),function(){i&&l.forEach(function(u){u.removeEventListener("scroll",r.update,vm)}),a&&c.removeEventListener("resize",r.update,vm)}}var kP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Oj,data:{}},Rj={left:"right",right:"left",bottom:"top",top:"bottom"};function iy(t){return t.replace(/left|right|bottom|top/g,function(e){return Rj[e]})}var kj={start:"end",end:"start"};function n6(t){return t.replace(/start|end/g,function(e){return kj[e]})}function Q3(t){var e=ro(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Z3(t){return lh(fl(t)).left+Q3(t).scrollLeft}function Dj(t){var e=ro(t),r=fl(t),n=e.visualViewport,s=r.clientWidth,i=r.clientHeight,o=0,a=0;return n&&(s=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,a=n.offsetTop)),{width:s,height:i,x:o+Z3(t),y:a}}function Mj(t){var e,r=fl(t),n=Q3(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Eu(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Eu(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+Z3(t),c=-n.scrollTop;return ja(s||r).direction==="rtl"&&(a+=Eu(r.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function X3(t){var e=ja(t),r=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function DP(t){return["html","body","#document"].indexOf(Lo(t))>=0?t.ownerDocument.body:wi(t)&&X3(t)?t:DP(gw(t))}function Kp(t,e){var r;e===void 0&&(e=[]);var n=DP(t),s=n===((r=t.ownerDocument)==null?void 0:r.body),i=ro(n),o=s?[i].concat(i.visualViewport||[],X3(n)?n:[]):n,a=e.concat(o);return s?a:a.concat(Kp(gw(o)))}function fE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Bj(t){var e=lh(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function s6(t,e){return e===xP?fE(Dj(t)):ah(e)?Bj(e):fE(Mj(fl(t)))}function Uj(t){var e=Kp(gw(t)),r=["absolute","fixed"].indexOf(ja(t).position)>=0,n=r&&wi(t)?Ug(t):t;return ah(n)?e.filter(function(s){return ah(s)&&TP(s,n)&&Lo(s)!=="body"}):[]}function $j(t,e,r){var n=e==="clippingParents"?Uj(t):[].concat(e),s=[].concat(n,[r]),i=s[0],o=s.reduce(function(a,c){var l=s6(t,c);return a.top=Eu(l.top,a.top),a.right=Zy(l.right,a.right),a.bottom=Zy(l.bottom,a.bottom),a.left=Eu(l.left,a.left),a},s6(t,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function MP(t){var e=t.reference,r=t.element,n=t.placement,s=n?Mo(n):null,i=n?uh(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,c;switch(s){case xs:c={x:o,y:e.y-r.height};break;case Ei:c={x:o,y:e.y+e.height};break;case Ai:c={x:e.x+e.width,y:a};break;case Is:c={x:e.x-r.width,y:a};break;default:c={x:e.x,y:e.y}}var l=s?Y3(s):null;if(l!=null){var u=l==="y"?"height":"width";switch(i){case oh:c[l]=c[l]-(e[u]/2-r[u]/2);break;case v0:c[l]=c[l]+(e[u]/2-r[u]/2);break}}return c}function E0(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=n===void 0?t.placement:n,i=r.boundary,o=i===void 0?aj:i,a=r.rootBoundary,c=a===void 0?xP:a,l=r.elementContext,u=l===void 0?Zh:l,f=r.altBoundary,d=f===void 0?!1:f,h=r.padding,p=h===void 0?0:h,g=PP(typeof p!="number"?p:OP(p,Bg)),y=u===Zh?cj:Zh,E=t.rects.popper,C=t.elements[d?y:u],I=$j(ah(C)?C:C.contextElement||fl(t.elements.popper),o,c),T=lh(t.elements.reference),N=MP({reference:T,element:E,placement:s}),k=fE(Object.assign({},E,N)),B=u===Zh?k:T,L={top:I.top-B.top+g.top,bottom:B.bottom-I.bottom+g.bottom,left:I.left-B.left+g.left,right:B.right-I.right+g.right},$=t.modifiersData.offset;if(u===Zh&&$){var j=$[s];Object.keys(L).forEach(function(O){var m=[Ai,Ei].indexOf(O)>=0?1:-1,A=[xs,Ei].indexOf(O)>=0?"y":"x";L[O]+=j[A]*m})}return L}function Lj(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=r.boundary,i=r.rootBoundary,o=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,l=c===void 0?K3:c,u=uh(n),f=u?a?e6:e6.filter(function(p){return uh(p)===u}):Bg,d=f.filter(function(p){return l.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,g){return p[g]=E0(t,{placement:g,boundary:s,rootBoundary:i,padding:o})[Mo(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function Fj(t){if(Mo(t)===W3)return[];var e=iy(t);return[n6(t),e,n6(e)]}function jj(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!0:o,c=r.fallbackPlacements,l=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,p=h===void 0?!0:h,g=r.allowedAutoPlacements,y=e.options.placement,E=Mo(y),C=E===y,I=c||(C||!p?[iy(y)]:Fj(y)),T=[y].concat(I).reduce(function(J,re){return J.concat(Mo(re)===W3?Lj(e,{placement:re,boundary:u,rootBoundary:f,padding:l,flipVariations:p,allowedAutoPlacements:g}):re)},[]),N=e.rects.reference,k=e.rects.popper,B=new Map,L=!0,$=T[0],j=0;j<T.length;j++){var O=T[j],m=Mo(O),A=uh(O)===oh,S=[xs,Ei].indexOf(m)>=0,b=S?"width":"height",w=E0(e,{placement:O,boundary:u,rootBoundary:f,altBoundary:d,padding:l}),x=S?A?Ai:Is:A?Ei:xs;N[b]>k[b]&&(x=iy(x));var D=iy(x),R=[];if(i&&R.push(w[m]<=0),a&&R.push(w[x]<=0,w[D]<=0),R.every(function(J){return J})){$=O,L=!1;break}B.set(O,R)}if(L)for(var v=p?3:1,U=function(J){var re=T.find(function(le){var Y=B.get(le);if(Y)return Y.slice(0,J).every(function(de){return de})});if(re)return $=re,"break"},K=v;K>0;K--){var Q=U(K);if(Q==="break")break}e.placement!==$&&(e.modifiersData[n]._skip=!0,e.placement=$,e.reset=!0)}}var Hj={name:"flip",enabled:!0,phase:"main",fn:jj,requiresIfExists:["offset"],data:{_skip:!1}};function i6(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function o6(t){return[xs,Ai,Ei,Is].some(function(e){return t[e]>=0})}function zj(t){var e=t.state,r=t.name,n=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=E0(e,{elementContext:"reference"}),a=E0(e,{altBoundary:!0}),c=i6(o,n),l=i6(a,s,i),u=o6(c),f=o6(l);e.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}var qj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zj};function Vj(t,e,r){var n=Mo(t),s=[Is,xs].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[Is,Ai].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function Wj(t){var e=t.state,r=t.options,n=t.name,s=r.offset,i=s===void 0?[0,0]:s,o=K3.reduce(function(u,f){return u[f]=Vj(f,e.rects,i),u},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}var Kj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Wj};function Gj(t){var e=t.state,r=t.name;e.modifiersData[r]=MP({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var BP={name:"popperOffsets",enabled:!0,phase:"read",fn:Gj,data:{}};function Jj(t){return t==="x"?"y":"x"}function Yj(t){var e=t.state,r=t.options,n=t.name,s=r.mainAxis,i=s===void 0?!0:s,o=r.altAxis,a=o===void 0?!1:o,c=r.boundary,l=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,p=r.tetherOffset,g=p===void 0?0:p,y=E0(e,{boundary:c,rootBoundary:l,padding:f,altBoundary:u}),E=Mo(e.placement),C=uh(e.placement),I=!C,T=Y3(E),N=Jj(T),k=e.modifiersData.popperOffsets,B=e.rects.reference,L=e.rects.popper,$=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,j=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,m={x:0,y:0};if(k){if(i){var A,S=T==="y"?xs:Is,b=T==="y"?Ei:Ai,w=T==="y"?"height":"width",x=k[T],D=x+y[S],R=x-y[b],v=h?-L[w]/2:0,U=C===oh?B[w]:L[w],K=C===oh?-L[w]:-B[w],Q=e.elements.arrow,J=h&&Q?J3(Q):{width:0,height:0},re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:NP(),le=re[S],Y=re[b],de=Wp(0,B[w],J[w]),se=I?B[w]/2-v-de-le-j.mainAxis:U-de-le-j.mainAxis,ge=I?-B[w]/2+v+de+Y+j.mainAxis:K+de+Y+j.mainAxis,ze=e.elements.arrow&&Ug(e.elements.arrow),q=ze?T==="y"?ze.clientTop||0:ze.clientLeft||0:0,V=(A=O==null?void 0:O[T])!=null?A:0,ee=x+se-V-q,ce=x+ge-V,ue=Wp(h?Zy(D,ee):D,x,h?Eu(R,ce):R);k[T]=ue,m[T]=ue-x}if(a){var me,ve=T==="x"?xs:Is,we=T==="x"?Ei:Ai,Ee=k[N],pe=N==="y"?"height":"width",Ce=Ee+y[ve],Ne=Ee-y[we],Se=[xs,Is].indexOf(E)!==-1,Ie=(me=O==null?void 0:O[N])!=null?me:0,it=Se?Ce:Ee-B[pe]-L[pe]-Ie+j.altAxis,F=Se?Ee+B[pe]+L[pe]-Ie-j.altAxis:Ne,_=h&&Se?_j(it,Ee,F):Wp(h?it:Ce,Ee,h?F:Ne);k[N]=_,m[N]=_-Ee}e.modifiersData[n]=m}}var Qj={name:"preventOverflow",enabled:!0,phase:"main",fn:Yj,requiresIfExists:["offset"]};function Zj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Xj(t){return t===ro(t)||!wi(t)?Q3(t):Zj(t)}function eH(t){var e=t.getBoundingClientRect(),r=ch(e.width)/t.offsetWidth||1,n=ch(e.height)/t.offsetHeight||1;return r!==1||n!==1}function tH(t,e,r){r===void 0&&(r=!1);var n=wi(e),s=wi(e)&&eH(e),i=fl(e),o=lh(t,s),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Lo(e)!=="body"||X3(i))&&(a=Xj(e)),wi(e)?(c=lh(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=Z3(i))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function rH(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function s(i){r.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var c=e.get(a);c&&s(c)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||s(i)}),n}function nH(t){var e=rH(t);return bj.reduce(function(r,n){return r.concat(e.filter(function(s){return s.phase===n}))},[])}function sH(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function iH(t){var e=t.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var a6={placement:"bottom",modifiers:[],strategy:"absolute"};function c6(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function e_(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,s=e.defaultOptions,i=s===void 0?a6:s;return function(o,a,c){c===void 0&&(c=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},a6,i),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},u=[],f=!1,d={state:l,setOptions:function(g){var y=typeof g=="function"?g(l.options):g;p(),l.options=Object.assign({},i,l.options,y),l.scrollParents={reference:ah(o)?Kp(o):o.contextElement?Kp(o.contextElement):[],popper:Kp(a)};var E=nH(iH([].concat(n,l.options.modifiers)));return l.orderedModifiers=E.filter(function(C){return C.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var g=l.elements,y=g.reference,E=g.popper;if(c6(y,E)){l.rects={reference:tH(y,Ug(E),l.options.strategy==="fixed"),popper:J3(E)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(L){return l.modifiersData[L.name]=Object.assign({},L.data)});for(var C=0;C<l.orderedModifiers.length;C++){if(l.reset===!0){l.reset=!1,C=-1;continue}var I=l.orderedModifiers[C],T=I.fn,N=I.options,k=N===void 0?{}:N,B=I.name;typeof T=="function"&&(l=T({state:l,options:k,name:B,instance:d})||l)}}}},update:sH(function(){return new Promise(function(g){d.forceUpdate(),g(l)})}),destroy:function(){p(),f=!0}};if(!c6(o,a))return d;d.setOptions(c).then(function(g){!f&&c.onFirstUpdate&&c.onFirstUpdate(g)});function h(){l.orderedModifiers.forEach(function(g){var y=g.name,E=g.options,C=E===void 0?{}:E,I=g.effect;if(typeof I=="function"){var T=I({state:l,name:y,instance:d,options:C}),N=function(){};u.push(T||N)}})}function p(){u.forEach(function(g){return g()}),u=[]}return d}}e_();var oH=[kP,BP,RP,IP];e_({defaultModifiers:oH});var aH=[kP,BP,RP,IP,Kj,Hj,Qj,Ij,qj],cH=e_({defaultModifiers:aH});const lH=["fixed","absolute"],uH=Cr({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ht(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:K3,default:"bottom"},popperOptions:{type:ht(Object),default:()=>({})},strategy:{type:String,values:lH,default:"absolute"}}),UP=Cr({...uH,id:String,style:{type:ht([String,Array,Object])},className:{type:ht([String,Array,Object])},effect:{type:ht(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ht([String,Array,Object])},popperStyle:{type:ht([String,Array,Object])},referenceEl:{type:ht(Object)},triggerTargetEl:{type:ht(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...hP(["ariaLabel"])}),fH={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},dH=(t,e)=>{const r=Be(!1),n=Be();return{focusStartRef:n,trapped:r,onFocusAfterReleased:l=>{var u;((u=l.detail)==null?void 0:u.focusReason)!=="pointer"&&(n.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:l=>{t.visible&&!r.value&&(l.target&&(n.value=l.target),r.value=!0)},onFocusoutPrevented:l=>{t.trapping||(l.detail.focusReason==="pointer"&&l.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,e("close")}}},hH=(t,e=[])=>{const{placement:r,strategy:n,popperOptions:s}=t,i={placement:r,strategy:n,...s,modifiers:[...gH(t),...e]};return mH(i,s==null?void 0:s.modifiers),i},pH=t=>{if(qn)return Fc(t)};function gH(t){const{offset:e,gpuAcceleration:r,fallbackPlacements:n}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function mH(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const yH=(t,e,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:c})=>{const l=bH(c);Object.assign(o.value,l)},requires:["computeStyles"]},s=ye(()=>{const{onFirstUpdate:c,placement:l,strategy:u,modifiers:f}=G(r);return{onFirstUpdate:c,placement:l||"bottom",strategy:u||"absolute",modifiers:[...f||[],n,{name:"applyStyles",enabled:!1}]}}),i=v3(),o=Be({styles:{popper:{position:G(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{i.value&&(i.value.destroy(),i.value=void 0)};return jt(s,c=>{const l=G(i);l&&l.setOptions(c)},{deep:!0}),jt([t,e],([c,l])=>{a(),!(!c||!l)&&(i.value=cH(c,l,G(s)))}),_i(()=>{a()}),{state:ye(()=>{var c;return{...((c=G(i))==null?void 0:c.state)||{}}}),styles:ye(()=>G(o).styles),attributes:ye(()=>G(o).attributes),update:()=>{var c;return(c=G(i))==null?void 0:c.update()},forceUpdate:()=>{var c;return(c=G(i))==null?void 0:c.forceUpdate()},instanceRef:ye(()=>G(i))}};function bH(t){const e=Object.keys(t.elements),r=cE(e.map(s=>[s,t.styles[s]||{}])),n=cE(e.map(s=>[s,t.attributes[s]]));return{styles:r,attributes:n}}const wH=0,vH=t=>{const{popperInstanceRef:e,contentRef:r,triggerRef:n,role:s}=St(H3,void 0),i=Be(),o=Be(),a=ye(()=>({name:"eventListeners",enabled:!!t.visible})),c=ye(()=>{var E;const C=G(i),I=(E=G(o))!=null?E:wH;return{name:"arrow",enabled:!eP(C),options:{element:C,padding:I}}}),l=ye(()=>({onFirstUpdate:()=>{p()},...hH(t,[G(c),G(a)])})),u=ye(()=>pH(t.referenceEl)||G(n)),{attributes:f,state:d,styles:h,update:p,forceUpdate:g,instanceRef:y}=yH(u,r,l);return jt(y,E=>e.value=E),hs(()=>{jt(()=>{var E;return(E=G(u))==null?void 0:E.getBoundingClientRect()},()=>{p()})}),{attributes:f,arrowRef:i,contentRef:r,instanceRef:y,state:d,styles:h,role:s,forceUpdate:g,update:p}},EH=(t,{attributes:e,styles:r,role:n})=>{const{nextZIndex:s}=L3(),i=ps("popper"),o=ye(()=>G(e).popper),a=Be(b0(t.zIndex)?t.zIndex:s()),c=ye(()=>[i.b(),i.is("pure",t.pure),i.is(t.effect),t.popperClass]),l=ye(()=>[{zIndex:G(a)},G(r).popper,t.popperStyle||{}]),u=ye(()=>n.value==="dialog"?"false":void 0),f=ye(()=>G(r).arrow||{});return{ariaModal:u,arrowStyle:f,contentAttrs:o,contentClass:c,contentStyle:l,contentZIndex:a,updateZIndex:()=>{a.value=b0(t.zIndex)?t.zIndex:s()}}},AH=Ge({name:"ElPopperContent"}),_H=Ge({...AH,props:UP,emits:fH,setup(t,{expose:e,emit:r}){const n=t,{focusStartRef:s,trapped:i,onFocusAfterReleased:o,onFocusAfterTrapped:a,onFocusInTrap:c,onFocusoutPrevented:l,onReleaseRequested:u}=dH(n,r),{attributes:f,arrowRef:d,contentRef:h,styles:p,instanceRef:g,role:y,update:E}=vH(n),{ariaModal:C,arrowStyle:I,contentAttrs:T,contentClass:N,contentStyle:k,updateZIndex:B}=EH(n,{styles:p,attributes:f,role:y}),L=St(Yy,void 0),$=Be();ls(yP,{arrowStyle:I,arrowRef:d,arrowOffset:$}),L&&ls(Yy,{...L,addInputId:wn,removeInputId:wn});let j;const O=(A=!0)=>{E(),A&&B()},m=()=>{O(!1),n.visible&&n.focusOnShow?i.value=!0:n.visible===!1&&(i.value=!1)};return hs(()=>{jt(()=>n.triggerTargetEl,(A,S)=>{j==null||j(),j=void 0;const b=G(A||h.value),w=G(S||h.value);Da(b)&&(j=jt([y,()=>n.ariaLabel,C,()=>n.id],x=>{["role","aria-label","aria-modal","id"].forEach((D,R)=>{B3(x[R])?b.removeAttribute(D):b.setAttribute(D,x[R])})},{immediate:!0})),w!==b&&Da(w)&&["role","aria-label","aria-modal","id"].forEach(x=>{w.removeAttribute(x)})},{immediate:!0}),jt(()=>n.visible,m,{immediate:!0})}),_i(()=>{j==null||j(),j=void 0}),e({popperContentRef:h,popperInstanceRef:g,updatePopper:O,contentStyle:k}),(A,S)=>(De(),tt("div",Ka({ref_key:"contentRef",ref:h},G(T),{style:G(k),class:G(N),tabindex:"-1",onMouseenter:b=>A.$emit("mouseenter",b),onMouseleave:b=>A.$emit("mouseleave",b)}),[ut(G(V3),{trapped:G(i),"trap-on-focus-in":!0,"focus-trap-el":G(h),"focus-start-el":G(s),onFocusAfterTrapped:G(a),onFocusAfterReleased:G(o),onFocusin:G(c),onFocusoutPrevented:G(l),onReleaseRequested:G(u)},{default:lt(()=>[Dt(A.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var CH=cn(_H,[["__file","content.vue"]]);const SH=ul($F),t_=Symbol("elTooltip");function l6(){let t;const e=(n,s)=>{r(),t=window.setTimeout(n,s)},r=()=>window.clearTimeout(t);return fw(()=>r()),{registerTimeout:e,cancelTimeout:r}}const xH=Cr({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),IH=({showAfter:t,hideAfter:e,autoClose:r,open:n,close:s})=>{const{registerTimeout:i}=l6(),{registerTimeout:o,cancelTimeout:a}=l6();return{onOpen:u=>{i(()=>{n(u);const f=G(r);b0(f)&&f>0&&o(()=>{s(u)},f)},G(t))},onClose:u=>{a(),i(()=>{s(u)},G(e))}}},hi=Cr({...xH,...UP,appendTo:{type:ht([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:ht(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...hP(["ariaLabel"])}),A0=Cr({...EP,disabled:Boolean,trigger:{type:ht([String,Array]),default:"hover"},triggerKeys:{type:ht(Array),default:()=>[mi.enter,mi.numpadEnter,mi.space]}}),TH=dw({type:ht(Boolean),default:null}),NH=dw({type:ht(Function)}),PH=t=>{const e=`update:${t}`,r=`onUpdate:${t}`,n=[e],s={[t]:TH,[r]:NH};return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:c,shouldProceed:l,onShow:u,onHide:f})=>{const d=vi(),{emit:h}=d,p=d.props,g=ye(()=>et(p[r])),y=ye(()=>p[t]===null),E=B=>{o.value!==!0&&(o.value=!0,a&&(a.value=B),et(u)&&u(B))},C=B=>{o.value!==!1&&(o.value=!1,a&&(a.value=B),et(f)&&f(B))},I=B=>{if(p.disabled===!0||et(l)&&!l())return;const L=g.value&&qn;L&&h(e,!0),(y.value||!L)&&E(B)},T=B=>{if(p.disabled===!0||!qn)return;const L=g.value&&qn;L&&h(e,!1),(y.value||!L)&&C(B)},N=B=>{uw(B)&&(p.disabled&&B?g.value&&h(e,!1):o.value!==B&&(B?E():C()))},k=()=>{o.value?T():I()};return jt(()=>p[t],N),c&&d.appContext.config.globalProperties.$route!==void 0&&jt(()=>({...d.proxy.$route}),()=>{c.value&&o.value&&T()}),hs(()=>{N(p[t])}),{hide:T,show:I,toggle:k,hasUpdateHandler:g}},useModelToggleProps:s,useModelToggleEmits:n}},{useModelToggleProps:OH,useModelToggleEmits:RH,useModelToggle:kH}=PH("visible"),DH=Cr({...wP,...OH,...hi,...A0,...vP,showArrow:{type:Boolean,default:!0}}),MH=[...RH,"before-show","before-hide","show","hide","open","close"],BH=(t,e)=>nt(t)?t.includes(e):t===e,df=(t,e,r)=>n=>{BH(G(t),e)&&r(n)},ua=(t,e,{checkForDefaultPrevented:r=!0}={})=>s=>{const i=t==null?void 0:t(s);if(r===!1||!i)return e==null?void 0:e(s)},UH=Ge({name:"ElTooltipTrigger"}),$H=Ge({...UH,props:A0,setup(t,{expose:e}){const r=t,n=ps("tooltip"),{controlled:s,id:i,open:o,onOpen:a,onClose:c,onToggle:l}=St(t_,void 0),u=Be(null),f=()=>{if(G(s)||r.disabled)return!0},d=Pa(r,"trigger"),h=ua(f,df(d,"hover",a)),p=ua(f,df(d,"hover",c)),g=ua(f,df(d,"click",T=>{T.button===0&&l(T)})),y=ua(f,df(d,"focus",a)),E=ua(f,df(d,"focus",c)),C=ua(f,df(d,"contextmenu",T=>{T.preventDefault(),l(T)})),I=ua(f,T=>{const{code:N}=T;r.triggerKeys.includes(N)&&(T.preventDefault(),l(T))});return e({triggerRef:u}),(T,N)=>(De(),sr(G(GF),{id:G(i),"virtual-ref":T.virtualRef,open:G(o),"virtual-triggering":T.virtualTriggering,class:kt(G(n).e("trigger")),onBlur:G(E),onClick:G(g),onContextmenu:G(C),onFocus:G(y),onMouseenter:G(h),onMouseleave:G(p),onKeydown:G(I)},{default:lt(()=>[Dt(T.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var LH=cn($H,[["__file","trigger.vue"]]);const FH=Cr({to:{type:ht([String,Object]),required:!0},disabled:Boolean}),jH=Ge({__name:"teleport",props:FH,setup(t){return(e,r)=>e.disabled?Dt(e.$slots,"default",{key:0}):(De(),sr(HM,{key:1,to:e.to},[Dt(e.$slots,"default")],8,["to"]))}});var HH=cn(jH,[["__file","teleport.vue"]]);const r_=ul(HH),$P=()=>{const t=T3(),e=pP(),r=ye(()=>`${t.value}-popper-container-${e.prefix}`),n=ye(()=>`#${r.value}`);return{id:r,selector:n}},zH=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},qH=()=>{const{id:t,selector:e}=$P();return fN(()=>{qn&&(document.body.querySelector(e.value)||zH(t.value))}),{id:t,selector:e}},VH=Ge({name:"ElTooltipContent",inheritAttrs:!1}),WH=Ge({...VH,props:hi,setup(t,{expose:e}){const r=t,{selector:n}=$P(),s=ps("tooltip"),i=Be();let o;const{controlled:a,id:c,open:l,trigger:u,onClose:f,onOpen:d,onShow:h,onHide:p,onBeforeShow:g,onBeforeHide:y}=St(t_,void 0),E=ye(()=>r.transition||`${s.namespace.value}-fade-in-linear`),C=ye(()=>r.persistent);_i(()=>{o==null||o()});const I=ye(()=>G(C)?!0:G(l)),T=ye(()=>r.disabled?!1:G(l)),N=ye(()=>r.appendTo||n.value),k=ye(()=>{var x;return(x=r.style)!=null?x:{}}),B=Be(!0),L=()=>{p(),w()&&la(document.body),B.value=!0},$=()=>{if(G(a))return!0},j=ua($,()=>{r.enterable&&G(u)==="hover"&&d()}),O=ua($,()=>{G(u)==="hover"&&f()}),m=()=>{var x,D;(D=(x=i.value)==null?void 0:x.updatePopper)==null||D.call(x),g==null||g()},A=()=>{y==null||y()},S=()=>{h(),o=PL(ye(()=>{var x;return(x=i.value)==null?void 0:x.popperContentRef}),()=>{if(G(a))return;G(u)!=="hover"&&f()})},b=()=>{r.virtualTriggering||f()},w=x=>{var D;const R=(D=i.value)==null?void 0:D.popperContentRef,v=(x==null?void 0:x.relatedTarget)||document.activeElement;return R==null?void 0:R.contains(v)};return jt(()=>G(l),x=>{x?B.value=!1:o==null||o()},{flush:"post"}),jt(()=>r.content,()=>{var x,D;(D=(x=i.value)==null?void 0:x.updatePopper)==null||D.call(x)}),e({contentRef:i,isFocusInsideContent:w}),(x,D)=>(De(),sr(G(r_),{disabled:!x.teleported,to:G(N)},{default:lt(()=>[ut(ow,{name:G(E),onAfterLeave:L,onBeforeEnter:m,onAfterEnter:S,onBeforeLeave:A},{default:lt(()=>[G(I)?nh((De(),sr(G(CH),Ka({key:0,id:G(c),ref_key:"contentRef",ref:i},x.$attrs,{"aria-label":x.ariaLabel,"aria-hidden":B.value,"boundaries-padding":x.boundariesPadding,"fallback-placements":x.fallbackPlacements,"gpu-acceleration":x.gpuAcceleration,offset:x.offset,placement:x.placement,"popper-options":x.popperOptions,strategy:x.strategy,effect:x.effect,enterable:x.enterable,pure:x.pure,"popper-class":x.popperClass,"popper-style":[x.popperStyle,G(k)],"reference-el":x.referenceEl,"trigger-target-el":x.triggerTargetEl,visible:G(T),"z-index":x.zIndex,onMouseenter:G(j),onMouseleave:G(O),onBlur:b,onClose:G(f)}),{default:lt(()=>[Dt(x.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[m0,G(T)]]):Ir("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var KH=cn(WH,[["__file","content.vue"]]);const GH=Ge({name:"ElTooltip"}),JH=Ge({...GH,props:DH,emits:MH,setup(t,{expose:e,emit:r}){const n=t;qH();const s=Qy(),i=Be(),o=Be(),a=()=>{var E;const C=G(i);C&&((E=C.popperInstanceRef)==null||E.update())},c=Be(!1),l=Be(),{show:u,hide:f,hasUpdateHandler:d}=kH({indicator:c,toggleReason:l}),{onOpen:h,onClose:p}=IH({showAfter:Pa(n,"showAfter"),hideAfter:Pa(n,"hideAfter"),autoClose:Pa(n,"autoClose"),open:u,close:f}),g=ye(()=>uw(n.visible)&&!d.value);ls(t_,{controlled:g,id:s,open:Rg(c),trigger:Pa(n,"trigger"),onOpen:E=>{h(E)},onClose:E=>{p(E)},onToggle:E=>{G(c)?p(E):h(E)},onShow:()=>{r("show",l.value)},onHide:()=>{r("hide",l.value)},onBeforeShow:()=>{r("before-show",l.value)},onBeforeHide:()=>{r("before-hide",l.value)},updatePopper:a}),jt(()=>n.disabled,E=>{E&&c.value&&(c.value=!1)});const y=E=>{var C;return(C=o.value)==null?void 0:C.isFocusInsideContent(E)};return lN(()=>c.value&&f()),e({popperRef:i,contentRef:o,isFocusInsideContent:y,updatePopper:a,onOpen:h,onClose:p,hide:f}),(E,C)=>(De(),sr(G(SH),{ref_key:"popperRef",ref:i,role:E.role},{default:lt(()=>[ut(LH,{disabled:E.disabled,trigger:E.trigger,"trigger-keys":E.triggerKeys,"virtual-ref":E.virtualRef,"virtual-triggering":E.virtualTriggering},{default:lt(()=>[E.$slots.default?Dt(E.$slots,"default",{key:0}):Ir("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ut(KH,{ref_key:"contentRef",ref:o,"aria-label":E.ariaLabel,"boundaries-padding":E.boundariesPadding,content:E.content,disabled:E.disabled,effect:E.effect,enterable:E.enterable,"fallback-placements":E.fallbackPlacements,"hide-after":E.hideAfter,"gpu-acceleration":E.gpuAcceleration,offset:E.offset,persistent:E.persistent,"popper-class":E.popperClass,"popper-style":E.popperStyle,placement:E.placement,"popper-options":E.popperOptions,pure:E.pure,"raw-content":E.rawContent,"reference-el":E.referenceEl,"trigger-target-el":E.triggerTargetEl,"show-after":E.showAfter,strategy:E.strategy,teleported:E.teleported,transition:E.transition,"virtual-triggering":E.virtualTriggering,"z-index":E.zIndex,"append-to":E.appendTo},{default:lt(()=>[Dt(E.$slots,"content",{},()=>[E.rawContent?(De(),tt("span",{key:0,innerHTML:E.content},null,8,["innerHTML"])):(De(),tt("span",{key:1},Ss(E.content),1))]),E.showArrow?(De(),sr(G(jF),{key:0,"arrow-offset":E.arrowOffset},null,8,["arrow-offset"])):Ir("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var YH=cn(JH,[["__file","tooltip.vue"]]);const QH=ul(YH),LP=Symbol("buttonGroupContextKey"),n_=({from:t,replacement:e,scope:r,version:n,ref:s,type:i="API"},o)=>{jt(()=>G(o),a=>{},{immediate:!0})},ZH=(t,e)=>{n_({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ye(()=>t.type==="text"));const r=St(LP,void 0),n=hw("button"),{form:s}=DF(),i=MF(ye(()=>r==null?void 0:r.size)),o=mP(),a=Be(),c=A3(),l=ye(()=>t.type||(r==null?void 0:r.type)||""),u=ye(()=>{var p,g,y;return(y=(g=t.autoInsertSpace)!=null?g:(p=n.value)==null?void 0:p.autoInsertSpace)!=null?y:!1}),f=ye(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),d=ye(()=>{var p;const g=(p=c.default)==null?void 0:p.call(c);if(u.value&&(g==null?void 0:g.length)===1){const y=g[0];if((y==null?void 0:y.type)===kh){const E=y.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(E.trim())}}return!1});return{_disabled:o,_size:i,_type:l,_ref:a,_props:f,shouldAddSpace:d,handleClick:p=>{if(o.value||t.loading){p.stopPropagation();return}t.nativeType==="reset"&&(s==null||s.resetFields()),e("click",p)}}},XH=["default","primary","success","warning","info","danger","text",""],ez=["button","submit","reset"],dE=Cr({size:GL,disabled:Boolean,type:{type:String,values:XH,default:""},icon:{type:w0},nativeType:{type:String,values:ez,default:"button"},loading:Boolean,loadingIcon:{type:w0,default:()=>fP},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ht([String,Object]),default:"button"}}),tz={click:t=>t instanceof MouseEvent};function Nn(t,e){rz(t)&&(t="100%");var r=nz(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Em(t){return Math.min(1,Math.max(0,t))}function rz(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function nz(t){return typeof t=="string"&&t.indexOf("%")!==-1}function FP(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Am(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Fl(t){return t.length===1?"0"+t:String(t)}function sz(t,e,r){return{r:Nn(t,255)*255,g:Nn(e,255)*255,b:Nn(r,255)*255}}function u6(t,e,r){t=Nn(t,255),e=Nn(e,255),r=Nn(r,255);var n=Math.max(t,e,r),s=Math.min(t,e,r),i=0,o=0,a=(n+s)/2;if(n===s)o=0,i=0;else{var c=n-s;switch(o=a>.5?c/(2-n-s):c/(n+s),n){case t:i=(e-r)/c+(e<r?6:0);break;case e:i=(r-t)/c+2;break;case r:i=(t-e)/c+4;break}i/=6}return{h:i,s:o,l:a}}function K1(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function iz(t,e,r){var n,s,i;if(t=Nn(t,360),e=Nn(e,100),r=Nn(r,100),e===0)s=r,i=r,n=r;else{var o=r<.5?r*(1+e):r+e-r*e,a=2*r-o;n=K1(a,o,t+1/3),s=K1(a,o,t),i=K1(a,o,t-1/3)}return{r:n*255,g:s*255,b:i*255}}function f6(t,e,r){t=Nn(t,255),e=Nn(e,255),r=Nn(r,255);var n=Math.max(t,e,r),s=Math.min(t,e,r),i=0,o=n,a=n-s,c=n===0?0:a/n;if(n===s)i=0;else{switch(n){case t:i=(e-r)/a+(e<r?6:0);break;case e:i=(r-t)/a+2;break;case r:i=(t-e)/a+4;break}i/=6}return{h:i,s:c,v:o}}function oz(t,e,r){t=Nn(t,360)*6,e=Nn(e,100),r=Nn(r,100);var n=Math.floor(t),s=t-n,i=r*(1-e),o=r*(1-s*e),a=r*(1-(1-s)*e),c=n%6,l=[r,o,i,i,a,r][c],u=[a,r,r,o,i,i][c],f=[i,i,a,r,r,o][c];return{r:l*255,g:u*255,b:f*255}}function d6(t,e,r,n){var s=[Fl(Math.round(t).toString(16)),Fl(Math.round(e).toString(16)),Fl(Math.round(r).toString(16))];return n&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function az(t,e,r,n,s){var i=[Fl(Math.round(t).toString(16)),Fl(Math.round(e).toString(16)),Fl(Math.round(r).toString(16)),Fl(cz(n))];return s&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function cz(t){return Math.round(parseFloat(t)*255).toString(16)}function h6(t){return Bs(t)/255}function Bs(t){return parseInt(t,16)}function lz(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var hE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function uz(t){var e={r:0,g:0,b:0},r=1,n=null,s=null,i=null,o=!1,a=!1;return typeof t=="string"&&(t=hz(t)),typeof t=="object"&&(Go(t.r)&&Go(t.g)&&Go(t.b)?(e=sz(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Go(t.h)&&Go(t.s)&&Go(t.v)?(n=Am(t.s),s=Am(t.v),e=oz(t.h,n,s),o=!0,a="hsv"):Go(t.h)&&Go(t.s)&&Go(t.l)&&(n=Am(t.s),i=Am(t.l),e=iz(t.h,n,i),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=FP(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var fz="[-\\+]?\\d+%?",dz="[-\\+]?\\d*\\.\\d+%?",jc="(?:".concat(dz,")|(?:").concat(fz,")"),G1="[\\s|\\(]+(".concat(jc,")[,|\\s]+(").concat(jc,")[,|\\s]+(").concat(jc,")\\s*\\)?"),J1="[\\s|\\(]+(".concat(jc,")[,|\\s]+(").concat(jc,")[,|\\s]+(").concat(jc,")[,|\\s]+(").concat(jc,")\\s*\\)?"),ki={CSS_UNIT:new RegExp(jc),rgb:new RegExp("rgb"+G1),rgba:new RegExp("rgba"+J1),hsl:new RegExp("hsl"+G1),hsla:new RegExp("hsla"+J1),hsv:new RegExp("hsv"+G1),hsva:new RegExp("hsva"+J1),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function hz(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(hE[t])t=hE[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=ki.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=ki.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=ki.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=ki.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=ki.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=ki.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=ki.hex8.exec(t),r?{r:Bs(r[1]),g:Bs(r[2]),b:Bs(r[3]),a:h6(r[4]),format:e?"name":"hex8"}:(r=ki.hex6.exec(t),r?{r:Bs(r[1]),g:Bs(r[2]),b:Bs(r[3]),format:e?"name":"hex"}:(r=ki.hex4.exec(t),r?{r:Bs(r[1]+r[1]),g:Bs(r[2]+r[2]),b:Bs(r[3]+r[3]),a:h6(r[4]+r[4]),format:e?"name":"hex8"}:(r=ki.hex3.exec(t),r?{r:Bs(r[1]+r[1]),g:Bs(r[2]+r[2]),b:Bs(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Go(t){return!!ki.CSS_UNIT.exec(String(t))}var pz=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var n;if(e instanceof t)return e;typeof e=="number"&&(e=lz(e)),this.originalInput=e;var s=uz(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:s.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,n,s,i=e.r/255,o=e.g/255,a=e.b/255;return i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*n+.0722*s},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=FP(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=f6(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=f6(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(s,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=u6(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=u6(this.r,this.g,this.b),r=Math.round(e.h*360),n=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(s,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),d6(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),az(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(n,")"):"rgba(".concat(e,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(Nn(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(Nn(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+d6(this.r,this.g,this.b,!1),r=0,n=Object.entries(hE);r<n.length;r++){var s=n[r],i=s[0],o=s[1];if(e===o)return i}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var n=!1,s=this.a<1&&this.a>=0,i=!r&&s&&(e.startsWith("hex")||e==="name");return i?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=Em(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=Em(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=Em(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=Em(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var n=this.toRgb(),s=new t(e).toRgb(),i=r/100,o={r:(s.r-n.r)*i+n.r,g:(s.g-n.g)*i+n.g,b:(s.b-n.b)*i+n.b,a:(s.a-n.a)*i+n.a};return new t(o)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var n=this.toHsl(),s=360/r,i=[this];for(n.h=(n.h-(s*e>>1)+720)%360;--e;)n.h=(n.h+s)%360,i.push(new t(n));return i},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),n=r.h,s=r.s,i=r.v,o=[],a=1/e;e--;)o.push(new t({h:n,s,v:i})),i=(i+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),n=new t(e).toRgb(),s=r.a+n.a*(1-r.a);return new t({r:(r.r*r.a+n.r*n.a*(1-r.a))/s,g:(r.g*r.a+n.g*n.a*(1-r.a))/s,b:(r.b*r.a+n.b*n.a*(1-r.a))/s,a:s})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),n=r.h,s=[this],i=360/e,o=1;o<e;o++)s.push(new t({h:(n+o*i)%360,s:r.s,l:r.l}));return s},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Qa(t,e=20){return t.mix("#141414",e).toString()}function gz(t){const e=mP(),r=ps("button");return ye(()=>{let n={},s=t.color;if(s){const i=s.match(/var\((.*?)\)/);i&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(i[1]));const o=new pz(s),a=t.dark?o.tint(20).toString():Qa(o,20);if(t.plain)n=r.cssVarBlock({"bg-color":t.dark?Qa(o,90):o.tint(90).toString(),"text-color":s,"border-color":t.dark?Qa(o,50):o.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":a,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":a}),e.value&&(n[r.cssVarBlockName("disabled-bg-color")]=t.dark?Qa(o,90):o.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=t.dark?Qa(o,50):o.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=t.dark?Qa(o,80):o.tint(80).toString());else{const c=t.dark?Qa(o,30):o.tint(30).toString(),l=o.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":s,"text-color":l,"border-color":s,"hover-bg-color":c,"hover-text-color":l,"hover-border-color":c,"active-bg-color":a,"active-border-color":a}),e.value){const u=t.dark?Qa(o,50):o.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=u,n[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=u}}}return n})}const mz=Ge({name:"ElButton"}),yz=Ge({...mz,props:dE,emits:tz,setup(t,{expose:e,emit:r}){const n=t,s=gz(n),i=ps("button"),{_ref:o,_size:a,_type:c,_disabled:l,_props:u,shouldAddSpace:f,handleClick:d}=ZH(n,r),h=ye(()=>[i.b(),i.m(c.value),i.m(a.value),i.is("disabled",l.value),i.is("loading",n.loading),i.is("plain",n.plain),i.is("round",n.round),i.is("circle",n.circle),i.is("text",n.text),i.is("link",n.link),i.is("has-bg",n.bg)]);return e({ref:o,size:a,type:c,disabled:l,shouldAddSpace:f}),(p,g)=>(De(),sr(Hp(p.tag),Ka({ref_key:"_ref",ref:o},G(u),{class:G(h),style:G(s),onClick:G(d)}),{default:lt(()=>[p.loading?(De(),tt(Xr,{key:0},[p.$slots.loading?Dt(p.$slots,"loading",{key:0}):(De(),sr(G(ih),{key:1,class:kt(G(i).is("loading"))},{default:lt(()=>[(De(),sr(Hp(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(De(),sr(G(ih),{key:1},{default:lt(()=>[p.icon?(De(),sr(Hp(p.icon),{key:0})):Dt(p.$slots,"icon",{key:1})]),_:3})):Ir("v-if",!0),p.$slots.default?(De(),tt("span",{key:2,class:kt({[G(i).em("text","expand")]:G(f)})},[Dt(p.$slots,"default")],2)):Ir("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var bz=cn(yz,[["__file","button.vue"]]);const wz={size:dE.size,type:dE.type},vz=Ge({name:"ElButtonGroup"}),Ez=Ge({...vz,props:wz,setup(t){const e=t;ls(LP,ll({size:Pa(e,"size"),type:Pa(e,"type")}));const r=ps("button");return(n,s)=>(De(),tt("div",{class:kt(G(r).b("group"))},[Dt(n.$slots,"default")],2))}});var jP=cn(Ez,[["__file","button-group.vue"]]);const s_=ul(bz,{ButtonGroup:jP});oF(jP);var oy={exports:{}},Az=oy.exports,p6;function _z(){return p6||(p6=1,function(t,e){(function(r,n){t.exports=n()})(Az,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",a="minute",c="hour",l="day",u="week",f="month",d="quarter",h="year",p="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var b=["th","st","nd","rd"],w=S%100;return"["+S+(b[(w-20)%10]||b[w]||b[0])+"]"}},I=function(S,b,w){var x=String(S);return!x||x.length>=b?S:""+Array(b+1-x.length).join(w)+S},T={s:I,z:function(S){var b=-S.utcOffset(),w=Math.abs(b),x=Math.floor(w/60),D=w%60;return(b<=0?"+":"-")+I(x,2,"0")+":"+I(D,2,"0")},m:function S(b,w){if(b.date()<w.date())return-S(w,b);var x=12*(w.year()-b.year())+(w.month()-b.month()),D=b.clone().add(x,f),R=w-D<0,v=b.clone().add(x+(R?-1:1),f);return+(-(x+(w-D)/(R?D-v:v-D))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:f,y:h,w:u,d:l,D:p,h:c,m:a,s:o,ms:i,Q:d}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},N="en",k={};k[N]=C;var B="$isDayjsObject",L=function(S){return S instanceof m||!(!S||!S[B])},$=function S(b,w,x){var D;if(!b)return N;if(typeof b=="string"){var R=b.toLowerCase();k[R]&&(D=R),w&&(k[R]=w,D=R);var v=b.split("-");if(!D&&v.length>1)return S(v[0])}else{var U=b.name;k[U]=b,D=U}return!x&&D&&(N=D),D||!x&&N},j=function(S,b){if(L(S))return S.clone();var w=typeof b=="object"?b:{};return w.date=S,w.args=arguments,new m(w)},O=T;O.l=$,O.i=L,O.w=function(S,b){return j(S,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var m=function(){function S(w){this.$L=$(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[B]=!0}var b=S.prototype;return b.parse=function(w){this.$d=function(x){var D=x.date,R=x.utc;if(D===null)return new Date(NaN);if(O.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var v=D.match(y);if(v){var U=v[2]-1||0,K=(v[7]||"0").substring(0,3);return R?new Date(Date.UTC(v[1],U,v[3]||1,v[4]||0,v[5]||0,v[6]||0,K)):new Date(v[1],U,v[3]||1,v[4]||0,v[5]||0,v[6]||0,K)}}return new Date(D)}(w),this.init()},b.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},b.$utils=function(){return O},b.isValid=function(){return this.$d.toString()!==g},b.isSame=function(w,x){var D=j(w);return this.startOf(x)<=D&&D<=this.endOf(x)},b.isAfter=function(w,x){return j(w)<this.startOf(x)},b.isBefore=function(w,x){return this.endOf(x)<j(w)},b.$g=function(w,x,D){return O.u(w)?this[x]:this.set(D,w)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(w,x){var D=this,R=!!O.u(x)||x,v=O.p(w),U=function(se,ge){var ze=O.w(D.$u?Date.UTC(D.$y,ge,se):new Date(D.$y,ge,se),D);return R?ze:ze.endOf(l)},K=function(se,ge){return O.w(D.toDate()[se].apply(D.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(ge)),D)},Q=this.$W,J=this.$M,re=this.$D,le="set"+(this.$u?"UTC":"");switch(v){case h:return R?U(1,0):U(31,11);case f:return R?U(1,J):U(0,J+1);case u:var Y=this.$locale().weekStart||0,de=(Q<Y?Q+7:Q)-Y;return U(R?re-de:re+(6-de),J);case l:case p:return K(le+"Hours",0);case c:return K(le+"Minutes",1);case a:return K(le+"Seconds",2);case o:return K(le+"Milliseconds",3);default:return this.clone()}},b.endOf=function(w){return this.startOf(w,!1)},b.$set=function(w,x){var D,R=O.p(w),v="set"+(this.$u?"UTC":""),U=(D={},D[l]=v+"Date",D[p]=v+"Date",D[f]=v+"Month",D[h]=v+"FullYear",D[c]=v+"Hours",D[a]=v+"Minutes",D[o]=v+"Seconds",D[i]=v+"Milliseconds",D)[R],K=R===l?this.$D+(x-this.$W):x;if(R===f||R===h){var Q=this.clone().set(p,1);Q.$d[U](K),Q.init(),this.$d=Q.set(p,Math.min(this.$D,Q.daysInMonth())).$d}else U&&this.$d[U](K);return this.init(),this},b.set=function(w,x){return this.clone().$set(w,x)},b.get=function(w){return this[O.p(w)]()},b.add=function(w,x){var D,R=this;w=Number(w);var v=O.p(x),U=function(J){var re=j(R);return O.w(re.date(re.date()+Math.round(J*w)),R)};if(v===f)return this.set(f,this.$M+w);if(v===h)return this.set(h,this.$y+w);if(v===l)return U(1);if(v===u)return U(7);var K=(D={},D[a]=n,D[c]=s,D[o]=r,D)[v]||1,Q=this.$d.getTime()+w*K;return O.w(Q,this)},b.subtract=function(w,x){return this.add(-1*w,x)},b.format=function(w){var x=this,D=this.$locale();if(!this.isValid())return D.invalidDate||g;var R=w||"YYYY-MM-DDTHH:mm:ssZ",v=O.z(this),U=this.$H,K=this.$m,Q=this.$M,J=D.weekdays,re=D.months,le=D.meridiem,Y=function(ge,ze,q,V){return ge&&(ge[ze]||ge(x,R))||q[ze].slice(0,V)},de=function(ge){return O.s(U%12||12,ge,"0")},se=le||function(ge,ze,q){var V=ge<12?"AM":"PM";return q?V.toLowerCase():V};return R.replace(E,function(ge,ze){return ze||function(q){switch(q){case"YY":return String(x.$y).slice(-2);case"YYYY":return O.s(x.$y,4,"0");case"M":return Q+1;case"MM":return O.s(Q+1,2,"0");case"MMM":return Y(D.monthsShort,Q,re,3);case"MMMM":return Y(re,Q);case"D":return x.$D;case"DD":return O.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return Y(D.weekdaysMin,x.$W,J,2);case"ddd":return Y(D.weekdaysShort,x.$W,J,3);case"dddd":return J[x.$W];case"H":return String(U);case"HH":return O.s(U,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return se(U,K,!0);case"A":return se(U,K,!1);case"m":return String(K);case"mm":return O.s(K,2,"0");case"s":return String(x.$s);case"ss":return O.s(x.$s,2,"0");case"SSS":return O.s(x.$ms,3,"0");case"Z":return v}return null}(ge)||v.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(w,x,D){var R,v=this,U=O.p(x),K=j(w),Q=(K.utcOffset()-this.utcOffset())*n,J=this-K,re=function(){return O.m(v,K)};switch(U){case h:R=re()/12;break;case f:R=re();break;case d:R=re()/3;break;case u:R=(J-Q)/6048e5;break;case l:R=(J-Q)/864e5;break;case c:R=J/s;break;case a:R=J/n;break;case o:R=J/r;break;default:R=J}return D?R:O.a(R)},b.daysInMonth=function(){return this.endOf(f).$D},b.$locale=function(){return k[this.$L]},b.locale=function(w,x){if(!w)return this.$L;var D=this.clone(),R=$(w,x,!0);return R&&(D.$L=R),D},b.clone=function(){return O.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},S}(),A=m.prototype;return j.prototype=A,[["$ms",i],["$s",o],["$m",a],["$H",c],["$W",l],["$M",f],["$y",h],["$D",p]].forEach(function(S){A[S[1]]=function(b){return this.$g(b,S[0],S[1])}}),j.extend=function(S,b){return S.$i||(S(b,m,j),S.$i=!0),j},j.locale=$,j.isDayjs=L,j.unix=function(S){return j(1e3*S)},j.en=k[N],j.Ls=k,j.p={},j})}(oy)),oy.exports}var Cz=_z();const HP=Qu(Cz);var ay=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(ay||{});const zP=t=>{if(!t)return{onClick:wn,onMousedown:wn,onMouseup:wn};let e=!1,r=!1;return{onClick:o=>{e&&r&&t(o),e=r=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{r=o.target===o.currentTarget}}},Sz=Cr({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:ht([String,Array,Object])},zIndex:{type:ht([String,Number])}}),xz={click:t=>t instanceof MouseEvent},Iz="overlay";var Tz=Ge({name:"ElOverlay",props:Sz,emits:xz,setup(t,{slots:e,emit:r}){const n=ps(Iz),s=c=>{r("click",c)},{onClick:i,onMousedown:o,onMouseup:a}=zP(t.customMaskEvent?void 0:s);return()=>t.mask?ut("div",{class:[n.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:i,onMousedown:o,onMouseup:a},[Dt(e,"default")],ay.STYLE|ay.CLASS|ay.PROPS,["onClick","onMouseup","onMousedown"]):iw("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Dt(e,"default")])}});const qP=Tz,VP=Symbol("dialogInjectionKey"),WP=Cr({center:Boolean,alignCenter:Boolean,closeIcon:{type:w0},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Nz={close:()=>!0},Pz=(t,e,r,n)=>{let s={offsetX:0,offsetY:0};const i=l=>{const u=l.clientX,f=l.clientY,{offsetX:d,offsetY:h}=s,p=t.value.getBoundingClientRect(),g=p.left,y=p.top,E=p.width,C=p.height,I=document.documentElement.clientWidth,T=document.documentElement.clientHeight,N=-g+d,k=-y+h,B=I-g-E+d,L=T-y-C+h,$=O=>{let m=d+O.clientX-u,A=h+O.clientY-f;n!=null&&n.value||(m=Math.min(Math.max(m,N),B),A=Math.min(Math.max(A,k),L)),s={offsetX:m,offsetY:A},t.value&&(t.value.style.transform=`translate(${sh(m)}, ${sh(A)})`)},j=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",$),document.addEventListener("mouseup",j)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",i)},a=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",i)},c=()=>{s={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return hs(()=>{rw(()=>{r.value?o():a()})}),_i(()=>{a()}),{resetPosition:c}},Oz=(...t)=>e=>{t.forEach(r=>{et(r)?r(e):r.value=e})},Rz=Ge({name:"ElDialogContent"}),kz=Ge({...Rz,props:WP,emits:Nz,setup(t,{expose:e}){const r=t,{t:n}=F3(),{Close:s}=dP,{dialogRef:i,headerRef:o,bodyId:a,ns:c,style:l}=St(VP),{focusTrapRef:u}=St(CP),f=ye(()=>[c.b(),c.is("fullscreen",r.fullscreen),c.is("draggable",r.draggable),c.is("align-center",r.alignCenter),{[c.m("center")]:r.center}]),d=Oz(u,i),h=ye(()=>r.draggable),p=ye(()=>r.overflow),{resetPosition:g}=Pz(i,o,h,p);return e({resetPosition:g}),(y,E)=>(De(),tt("div",{ref:G(d),class:kt(G(f)),style:La(G(l)),tabindex:"-1"},[Te("header",{ref_key:"headerRef",ref:o,class:kt([G(c).e("header"),y.headerClass,{"show-close":y.showClose}])},[Dt(y.$slots,"header",{},()=>[Te("span",{role:"heading","aria-level":y.ariaLevel,class:kt(G(c).e("title"))},Ss(y.title),11,["aria-level"])]),y.showClose?(De(),tt("button",{key:0,"aria-label":G(n)("el.dialog.close"),class:kt(G(c).e("headerbtn")),type:"button",onClick:C=>y.$emit("close")},[ut(G(ih),{class:kt(G(c).e("close"))},{default:lt(()=>[(De(),sr(Hp(y.closeIcon||G(s))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ir("v-if",!0)],2),Te("div",{id:G(a),class:kt([G(c).e("body"),y.bodyClass])},[Dt(y.$slots,"default")],10,["id"]),y.$slots.footer?(De(),tt("footer",{key:0,class:kt([G(c).e("footer"),y.footerClass])},[Dt(y.$slots,"footer")],2)):Ir("v-if",!0)],6))}});var Dz=cn(kz,[["__file","dialog-content.vue"]]);const KP=Cr({...WP,appendToBody:Boolean,appendTo:{type:ht([String,Object]),default:"body"},beforeClose:{type:ht(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),GP={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[cP]:t=>uw(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Mz=(t,e={})=>{ir(t)||jL("[useLockscreen]","You need to pass a ref param to this function");const r=e.ns||ps("popup"),n=ye(()=>r.bm("parent","hidden"));if(!qn||HS(document.body,n.value))return;let s=0,i=!1,o="0";const a=()=>{setTimeout(()=>{typeof document>"u"||i&&document&&(document.body.style.width=o,tF(document.body,n.value))},200)};jt(t,c=>{if(!c){a();return}i=!HS(document.body,n.value),i&&(o=document.body.style.width,eF(document.body,n.value)),s=nF(r.namespace.value);const l=document.documentElement.clientHeight<document.body.scrollHeight,u=rF(document.body,"overflowY");s>0&&(l||u==="scroll")&&i&&(document.body.style.width=`calc(100% - ${s}px)`)}),f3(()=>a())},JP=(t,e)=>{var r;const s=vi().emit,{nextZIndex:i}=L3();let o="";const a=Qy(),c=Qy(),l=Be(!1),u=Be(!1),f=Be(!1),d=Be((r=t.zIndex)!=null?r:i());let h,p;const g=hw("namespace",Vp),y=ye(()=>{const b={},w=`--${g.value}-dialog`;return t.fullscreen||(t.top&&(b[`${w}-margin-top`]=t.top),t.width&&(b[`${w}-width`]=sh(t.width))),b}),E=ye(()=>t.alignCenter?{display:"flex"}:{});function C(){s("opened")}function I(){s("closed"),s(cP,!1),t.destroyOnClose&&(f.value=!1)}function T(){s("close")}function N(){p==null||p(),h==null||h(),t.openDelay&&t.openDelay>0?{stop:h}=lE(()=>$(),t.openDelay):$()}function k(){h==null||h(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=lE(()=>j(),t.closeDelay):j()}function B(){function b(w){w||(u.value=!0,l.value=!1)}t.beforeClose?t.beforeClose(b):k()}function L(){t.closeOnClickModal&&B()}function $(){qn&&(l.value=!0)}function j(){l.value=!1}function O(){s("openAutoFocus")}function m(){s("closeAutoFocus")}function A(b){var w;((w=b.detail)==null?void 0:w.focusReason)==="pointer"&&b.preventDefault()}t.lockScroll&&Mz(l);function S(){t.closeOnPressEscape&&B()}return jt(()=>t.modelValue,b=>{b?(u.value=!1,N(),f.value=!0,d.value=eP(t.zIndex)?i():d.value++,Pu(()=>{s("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)})):l.value&&k()}),jt(()=>t.fullscreen,b=>{e.value&&(b?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),hs(()=>{t.modelValue&&(l.value=!0,f.value=!0,N())}),{afterEnter:C,afterLeave:I,beforeLeave:T,handleClose:B,onModalClick:L,close:k,doClose:j,onOpenAutoFocus:O,onCloseAutoFocus:m,onCloseRequested:S,onFocusoutPrevented:A,titleId:a,bodyId:c,closed:u,style:y,overlayDialogStyle:E,rendered:f,visible:l,zIndex:d}},Bz=Ge({name:"ElDialog",inheritAttrs:!1}),Uz=Ge({...Bz,props:KP,emits:GP,setup(t,{expose:e}){const r=t,n=A3();n_({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},ye(()=>!!n.title));const s=ps("dialog"),i=Be(),o=Be(),a=Be(),{visible:c,titleId:l,bodyId:u,style:f,overlayDialogStyle:d,rendered:h,zIndex:p,afterEnter:g,afterLeave:y,beforeLeave:E,handleClose:C,onModalClick:I,onOpenAutoFocus:T,onCloseAutoFocus:N,onCloseRequested:k,onFocusoutPrevented:B}=JP(r,i);ls(VP,{dialogRef:i,headerRef:o,bodyId:u,ns:s,rendered:h,style:f});const L=zP(I),$=ye(()=>r.draggable&&!r.fullscreen);return e({visible:c,dialogContentRef:a,resetPosition:()=>{var O;(O=a.value)==null||O.resetPosition()}}),(O,m)=>(De(),sr(G(r_),{to:O.appendTo,disabled:O.appendTo!=="body"?!1:!O.appendToBody},{default:lt(()=>[ut(ow,{name:"dialog-fade",onAfterEnter:G(g),onAfterLeave:G(y),onBeforeLeave:G(E),persisted:""},{default:lt(()=>[nh(ut(G(qP),{"custom-mask-event":"",mask:O.modal,"overlay-class":O.modalClass,"z-index":G(p)},{default:lt(()=>[Te("div",{role:"dialog","aria-modal":"true","aria-label":O.title||void 0,"aria-labelledby":O.title?void 0:G(l),"aria-describedby":G(u),class:kt(`${G(s).namespace.value}-overlay-dialog`),style:La(G(d)),onClick:G(L).onClick,onMousedown:G(L).onMousedown,onMouseup:G(L).onMouseup},[ut(G(V3),{loop:"",trapped:G(c),"focus-start-el":"container",onFocusAfterTrapped:G(T),onFocusAfterReleased:G(N),onFocusoutPrevented:G(B),onReleaseRequested:G(k)},{default:lt(()=>[G(h)?(De(),sr(Dz,Ka({key:0,ref_key:"dialogContentRef",ref:a},O.$attrs,{center:O.center,"align-center":O.alignCenter,"close-icon":O.closeIcon,draggable:G($),overflow:O.overflow,fullscreen:O.fullscreen,"header-class":O.headerClass,"body-class":O.bodyClass,"footer-class":O.footerClass,"show-close":O.showClose,title:O.title,"aria-level":O.headerAriaLevel,onClose:G(C)}),tB({header:lt(()=>[O.$slots.title?Dt(O.$slots,"title",{key:1}):Dt(O.$slots,"header",{key:0,close:G(C),titleId:G(l),titleClass:G(s).e("title")})]),default:lt(()=>[Dt(O.$slots,"default")]),_:2},[O.$slots.footer?{name:"footer",fn:lt(()=>[Dt(O.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):Ir("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[m0,G(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var $z=cn(Uz,[["__file","dialog.vue"]]);const Lz=ul($z),Fz=Cr({...KP,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),jz=GP,Hz=Ge({name:"ElDrawer",inheritAttrs:!1}),zz=Ge({...Hz,props:Fz,emits:jz,setup(t,{expose:e}){const r=t,n=A3();n_({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},ye(()=>!!n.title));const s=Be(),i=Be(),o=ps("drawer"),{t:a}=F3(),{afterEnter:c,afterLeave:l,beforeLeave:u,visible:f,rendered:d,titleId:h,bodyId:p,zIndex:g,onModalClick:y,onOpenAutoFocus:E,onCloseAutoFocus:C,onFocusoutPrevented:I,onCloseRequested:T,handleClose:N}=JP(r,s),k=ye(()=>r.direction==="rtl"||r.direction==="ltr"),B=ye(()=>sh(r.size));return e({handleClose:N,afterEnter:c,afterLeave:l}),(L,$)=>(De(),sr(G(r_),{to:L.appendTo,disabled:L.appendTo!=="body"?!1:!L.appendToBody},{default:lt(()=>[ut(ow,{name:G(o).b("fade"),onAfterEnter:G(c),onAfterLeave:G(l),onBeforeLeave:G(u),persisted:""},{default:lt(()=>[nh(ut(G(qP),{mask:L.modal,"overlay-class":L.modalClass,"z-index":G(g),onClick:G(y)},{default:lt(()=>[ut(G(V3),{loop:"",trapped:G(f),"focus-trap-el":s.value,"focus-start-el":i.value,onFocusAfterTrapped:G(E),onFocusAfterReleased:G(C),onFocusoutPrevented:G(I),onReleaseRequested:G(T)},{default:lt(()=>[Te("div",Ka({ref_key:"drawerRef",ref:s,"aria-modal":"true","aria-label":L.title||void 0,"aria-labelledby":L.title?void 0:G(h),"aria-describedby":G(p)},L.$attrs,{class:[G(o).b(),L.direction,G(f)&&"open"],style:G(k)?"width: "+G(B):"height: "+G(B),role:"dialog",onClick:jN(()=>{},["stop"])}),[Te("span",{ref_key:"focusStartRef",ref:i,class:kt(G(o).e("sr-focus")),tabindex:"-1"},null,2),L.withHeader?(De(),tt("header",{key:0,class:kt([G(o).e("header"),L.headerClass])},[L.$slots.title?Dt(L.$slots,"title",{key:1},()=>[Ir(" DEPRECATED SLOT ")]):Dt(L.$slots,"header",{key:0,close:G(N),titleId:G(h),titleClass:G(o).e("title")},()=>[L.$slots.title?Ir("v-if",!0):(De(),tt("span",{key:0,id:G(h),role:"heading","aria-level":L.headerAriaLevel,class:kt(G(o).e("title"))},Ss(L.title),11,["id","aria-level"]))]),L.showClose?(De(),tt("button",{key:2,"aria-label":G(a)("el.drawer.close"),class:kt(G(o).e("close-btn")),type:"button",onClick:G(N)},[ut(G(ih),{class:kt(G(o).e("close"))},{default:lt(()=>[ut(G(uP))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ir("v-if",!0)],2)):Ir("v-if",!0),G(d)?(De(),tt("div",{key:1,id:G(p),class:kt([G(o).e("body"),L.bodyClass])},[Dt(L.$slots,"default")],10,["id"])):Ir("v-if",!0),L.$slots.footer?(De(),tt("div",{key:2,class:kt([G(o).e("footer"),L.footerClass])},[Dt(L.$slots,"footer")],2)):Ir("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[m0,G(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var qz=cn(zz,[["__file","drawer.vue"]]);const Vz=ul(qz),Wz=Ge({inheritAttrs:!1});function Kz(t,e,r,n,s,i){return Dt(t.$slots,"default")}var Gz=cn(Wz,[["render",Kz],["__file","collection.vue"]]);const Jz=Ge({name:"ElCollectionItem",inheritAttrs:!1});function Yz(t,e,r,n,s,i){return Dt(t.$slots,"default")}var Qz=cn(Jz,[["render",Yz],["__file","collection-item.vue"]]);const Zz="data-el-collection-item",Xz=t=>{const e=`El${t}Collection`,r=`${e}Item`,n=Symbol(e),s=Symbol(r),i={...Gz,name:e,setup(){const a=Be(),c=new Map;ls(n,{itemMap:c,getItems:()=>{const u=G(a);if(!u)return[];const f=Array.from(u.querySelectorAll(`[${Zz}]`));return[...c.values()].sort((h,p)=>f.indexOf(h.ref)-f.indexOf(p.ref))},collectionRef:a})}},o={...Qz,name:r,setup(a,{attrs:c}){const l=Be(),u=St(n,void 0);ls(s,{collectionItemRef:l}),hs(()=>{const f=G(l);f&&u.itemMap.set(f,{ref:f,...c})}),_i(()=>{const f=G(l);u.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:i,ElCollectionItem:o}},Y1=Cr({trigger:A0.trigger,triggerKeys:{type:ht(Array),default:()=>[mi.enter,mi.numpadEnter,mi.space,mi.down]},effect:{...hi.effect,default:"light"},type:{type:ht(String)},placement:{type:ht(String),default:"bottom"},popperOptions:{type:ht(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ht([Number,String]),default:0},maxHeight:{type:ht([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:bP,default:"menu"},buttonProps:{type:ht(Object)},teleported:hi.teleported,persistent:{type:Boolean,default:!0}});Cr({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:w0}});Cr({onKeydown:{type:ht(Function)}});Xz("Dropdown");const eq=Cr({trigger:A0.trigger,placement:Y1.placement,disabled:A0.disabled,visible:hi.visible,transition:hi.transition,popperOptions:Y1.popperOptions,tabindex:Y1.tabindex,content:hi.content,popperStyle:hi.popperStyle,popperClass:hi.popperClass,enterable:{...hi.enterable,default:!0},effect:{...hi.effect,default:"light"},teleported:hi.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),tq={"update:visible":t=>uw(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},rq="onUpdate:visible",nq=Ge({name:"ElPopover"}),sq=Ge({...nq,props:eq,emits:tq,setup(t,{expose:e,emit:r}){const n=t,s=ye(()=>n[rq]),i=ps("popover"),o=Be(),a=ye(()=>{var y;return(y=G(o))==null?void 0:y.popperRef}),c=ye(()=>[{width:sh(n.width)},n.popperStyle]),l=ye(()=>[i.b(),n.popperClass,{[i.m("plain")]:!!n.content}]),u=ye(()=>n.transition===`${i.namespace.value}-fade-in-linear`),f=()=>{var y;(y=o.value)==null||y.hide()},d=()=>{r("before-enter")},h=()=>{r("before-leave")},p=()=>{r("after-enter")},g=()=>{r("update:visible",!1),r("after-leave")};return e({popperRef:a,hide:f}),(y,E)=>(De(),sr(G(QH),Ka({ref_key:"tooltipRef",ref:o},y.$attrs,{trigger:y.trigger,placement:y.placement,disabled:y.disabled,visible:y.visible,transition:y.transition,"popper-options":y.popperOptions,tabindex:y.tabindex,content:y.content,offset:y.offset,"show-after":y.showAfter,"hide-after":y.hideAfter,"auto-close":y.autoClose,"show-arrow":y.showArrow,"aria-label":y.title,effect:y.effect,enterable:y.enterable,"popper-class":G(l),"popper-style":G(c),teleported:y.teleported,persistent:y.persistent,"gpu-acceleration":G(u),"onUpdate:visible":G(s),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:g}),{content:lt(()=>[y.title?(De(),tt("div",{key:0,class:kt(G(i).e("title")),role:"title"},Ss(y.title),3)):Ir("v-if",!0),Dt(y.$slots,"default",{},()=>[qy(Ss(y.content),1)])]),default:lt(()=>[y.$slots.reference?Dt(y.$slots,"reference",{key:0}):Ir("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var iq=cn(sq,[["__file","popover.vue"]]);const g6=(t,e)=>{const r=e.arg||e.value,n=r==null?void 0:r.popperRef;n&&(n.triggerRef=t)};var oq={mounted(t,e){g6(t,e)},updated(t,e){g6(t,e)}};const aq="popover",cq=iF(oq,aq),YP=ul(iq,{directive:cq}),QP=["success","info","warning","error"],lq=Cr({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:w0},id:{type:String,default:""},message:{type:ht([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:ht(Function),default:()=>{}},onClose:{type:ht(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...QP,""],default:""},zIndex:Number}),uq={destroy:()=>!0},fq=Ge({name:"ElNotification"}),dq=Ge({...fq,props:lq,emits:uq,setup(t,{expose:e}){const r=t,{ns:n,zIndex:s}=QL("notification"),{nextZIndex:i,currentZIndex:o}=s,{Close:a}=dP,c=Be(!1);let l;const u=ye(()=>{const I=r.type;return I&&zS[r.type]?n.m(I):""}),f=ye(()=>r.type&&zS[r.type]||r.icon),d=ye(()=>r.position.endsWith("right")?"right":"left"),h=ye(()=>r.position.startsWith("top")?"top":"bottom"),p=ye(()=>{var I;return{[h.value]:`${r.offset}px`,zIndex:(I=r.zIndex)!=null?I:o.value}});function g(){r.duration>0&&({stop:l}=lE(()=>{c.value&&E()},r.duration))}function y(){l==null||l()}function E(){c.value=!1}function C({code:I}){I===mi.delete||I===mi.backspace?y():I===mi.esc?c.value&&E():g()}return hs(()=>{g(),i(),c.value=!0}),sy(document,"keydown",C),e({visible:c,close:E}),(I,T)=>(De(),sr(ow,{name:G(n).b("fade"),onBeforeLeave:I.onClose,onAfterLeave:N=>I.$emit("destroy"),persisted:""},{default:lt(()=>[nh(Te("div",{id:I.id,class:kt([G(n).b(),I.customClass,G(d)]),style:La(G(p)),role:"alert",onMouseenter:y,onMouseleave:g,onClick:I.onClick},[G(f)?(De(),sr(G(ih),{key:0,class:kt([G(n).e("icon"),G(u)])},{default:lt(()=>[(De(),sr(Hp(G(f))))]),_:1},8,["class"])):Ir("v-if",!0),Te("div",{class:kt(G(n).e("group"))},[Te("h2",{class:kt(G(n).e("title")),textContent:Ss(I.title)},null,10,["textContent"]),nh(Te("div",{class:kt(G(n).e("content")),style:La(I.title?void 0:{margin:0})},[Dt(I.$slots,"default",{},()=>[I.dangerouslyUseHTMLString?(De(),tt(Xr,{key:1},[Ir(" Caution here, message could've been compromised, never use user's input as message "),Te("p",{innerHTML:I.message},null,8,["innerHTML"])],2112)):(De(),tt("p",{key:0},Ss(I.message),1))])],6),[[m0,I.message]]),I.showClose?(De(),sr(G(ih),{key:0,class:kt(G(n).e("closeBtn")),onClick:jN(E,["stop"])},{default:lt(()=>[ut(G(a))]),_:1},8,["class","onClick"])):Ir("v-if",!0)],2)],46,["id","onClick"]),[[m0,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var hq=cn(dq,[["__file","notification.vue"]]);const Xy={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},pE=16;let pq=1;const fh=function(t={},e){if(!qn)return{close:()=>{}};(Jt(t)||Zc(t))&&(t={message:t});const r=t.position||"top-right";let n=t.offset||0;Xy[r].forEach(({vm:u})=>{var f;n+=(((f=u.el)==null?void 0:f.offsetHeight)||0)+pE}),n+=pE;const s=`notification_${pq++}`,i=t.onClose,o={...t,offset:n,id:s,onClose:()=>{gq(s,r,i)}};let a=document.body;Da(t.appendTo)?a=t.appendTo:Jt(t.appendTo)&&(a=document.querySelector(t.appendTo)),Da(a)||(a=document.body);const c=document.createElement("div"),l=ut(hq,o,et(o.message)?o.message:Zc(o.message)?()=>o.message:null);return l.appContext=tP(e)?fh._context:e,l.props.onDestroy=()=>{yS(null,c)},yS(l,c),Xy[r].push({vm:l}),a.appendChild(c.firstElementChild),{close:()=>{l.component.exposed.visible.value=!1}}};QP.forEach(t=>{fh[t]=(e={},r)=>((Jt(e)||Zc(e))&&(e={message:e}),fh({...e,type:t},r))});function gq(t,e,r){const n=Xy[e],s=n.findIndex(({vm:l})=>{var u;return((u=l.component)==null?void 0:u.props.id)===t});if(s===-1)return;const{vm:i}=n[s];if(!i)return;r==null||r(i);const o=i.el.offsetHeight,a=e.split("-")[0];n.splice(s,1);const c=n.length;if(!(c<1))for(let l=s;l<c;l++){const{el:u,component:f}=n[l].vm,d=Number.parseInt(u.style[a],10)-o-pE;f.props.offset=d}}function mq(){for(const t of Object.values(Xy))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}fh.closeAll=mq;fh._context=null;const m6=sF(fh,"$notify"),ZP="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI3BhaW50MF9hbmd1bGFyXzM3ODEwXzMzNDRfY2xpcF9wYXRoKSIgZGF0YS1maWdtYS1za2lwLXBhcnNlPSJ0cnVlIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjAwODEyNSAwIDAgMC4wMDgxMjUgMTAgMTAuNSkiPjxmb3JlaWduT2JqZWN0IHg9Ii0xMDQ2LjE1IiB5PSItMTA0Ni4xNSIgd2lkdGg9IjIwOTIuMzEiIGhlaWdodD0iMjA5Mi4zMSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImJhY2tncm91bmQ6Y29uaWMtZ3JhZGllbnQoZnJvbSA5MGRlZyxyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDAwMSkgMGRlZyxyZ2JhKDEzMiwgMTM5LCAxNTAsIDEpIDM2MGRlZyk7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtvcGFjaXR5OjEiPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi4yNSAxMC41QzIuMjUgNi4yMTk3OSA1LjcxOTc5IDIuNzUgMTAgMi43NUMxNC4yODAyIDIuNzUgMTcuNzUgNi4yMTk3OSAxNy43NSAxMC41QzE3Ljc1IDE0Ljc4MDIgMTQuMjgwMiAxOC4yNSAxMCAxOC4yNUM1LjcxOTc5IDE4LjI1IDIuMjUgMTQuNzgwMiAyLjI1IDEwLjVaTTEwIDQuNUM2LjY4NjI5IDQuNSA0IDcuMTg2MjkgNCAxMC41QzQgMTMuODEzNyA2LjY4NjI5IDE2LjUgMTAgMTYuNUMxMy4zMTM3IDE2LjUgMTYgMTMuODEzNyAxNiAxMC41QzE2IDcuMTg2MjkgMTMuMzEzNyA0LjUgMTAgNC41WiIgZGF0YS1maWdtYS1ncmFkaWVudC1maWxsPSJ7JiMzNDt0eXBlJiMzNDs6JiMzNDtHUkFESUVOVF9BTkdVTEFSJiMzNDssJiMzNDtzdG9wcyYjMzQ7Olt7JiMzNDtjb2xvciYjMzQ7OnsmIzM0O3ImIzM0OzoxLjAsJiMzNDtnJiMzNDs6MS4wLCYjMzQ7YiYjMzQ7OjEuMCwmIzM0O2EmIzM0Ozo5Ljk5OTk5OTc0NzM3ODc1MTZlLTA1fSwmIzM0O3Bvc2l0aW9uJiMzNDs6MC4wfSx7JiMzNDtjb2xvciYjMzQ7OnsmIzM0O3ImIzM0OzowLjUxNzY0NzA4NzU3NDAwNTEzLCYjMzQ7ZyYjMzQ7OjAuNTQ1MDk4MDY2MzI5OTU2MDUsJiMzNDtiJiMzNDs6MC41ODgyMzUzMTg2NjA3MzYwOCwmIzM0O2EmIzM0OzoxLjB9LCYjMzQ7cG9zaXRpb24mIzM0OzoxLjB9XSwmIzM0O3N0b3BzVmFyJiMzNDs6W10sJiMzNDt0cmFuc2Zvcm0mIzM0Ozp7JiMzNDttMDAmIzM0OzoxNi4yNTAsJiMzNDttMDEmIzM0OzowLjAsJiMzNDttMDImIzM0OzoxLjg3NTAsJiMzNDttMTAmIzM0OzowLjAsJiMzNDttMTEmIzM0OzoxNi4yNTAsJiMzNDttMTImIzM0OzoyLjM3NTB9LCYjMzQ7b3BhY2l0eSYjMzQ7OjEuMCwmIzM0O2JsZW5kTW9kZSYjMzQ7OiYjMzQ7Tk9STUFMJiMzNDssJiMzNDt2aXNpYmxlJiMzNDs6dHJ1ZX0iLz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0icGFpbnQwX2FuZ3VsYXJfMzc4MTBfMzM0NF9jbGlwX3BhdGgiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi4yNSAxMC41QzIuMjUgNi4yMTk3OSA1LjcxOTc5IDIuNzUgMTAgMi43NUMxNC4yODAyIDIuNzUgMTcuNzUgNi4yMTk3OSAxNy43NSAxMC41QzE3Ljc1IDE0Ljc4MDIgMTQuMjgwMiAxOC4yNSAxMCAxOC4yNUM1LjcxOTc5IDE4LjI1IDIuMjUgMTQuNzgwMiAyLjI1IDEwLjVaTTEwIDQuNUM2LjY4NjI5IDQuNSA0IDcuMTg2MjkgNCAxMC41QzQgMTMuODEzNyA2LjY4NjI5IDE2LjUgMTAgMTYuNUMxMy4zMTM3IDE2LjUgMTYgMTMuODEzNyAxNiAxMC41QzE2IDcuMTg2MjkgMTMuMzEzNyA0LjUgMTAgNC41WiIvPjwvY2xpcFBhdGg+PC9kZWZzPgo8L3N2Zz4K",yq=Symbol(),y6=Object.getPrototypeOf,gE=new WeakMap,bq=t=>t&&(gE.has(t)?gE.get(t):y6(t)===Object.prototype||y6(t)===Array.prototype),wq=t=>bq(t)&&t[yq]||null,b6=(t,e=!0)=>{gE.set(t,e)},eb={},Q1=t=>typeof t=="object"&&t!==null,pc=new WeakMap,Cp=new WeakSet,vq=(t=Object.is,e=(l,u)=>new Proxy(l,u),r=l=>Q1(l)&&!Cp.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,f=n)=>{const d=s.get(l);if((d==null?void 0:d[0])===u)return d[1];const h=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return b6(h,!0),s.set(l,[u,h]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(h,p))return;const g=Reflect.get(l,p),{enumerable:y}=Reflect.getOwnPropertyDescriptor(l,p),E={value:g,enumerable:y,configurable:!0};if(Cp.has(g))b6(g,!1);else if(g instanceof Promise)delete E.value,E.get=()=>f(g);else if(pc.has(g)){const[C,I]=pc.get(g);E.value=i(C,I(),f)}Object.defineProperty(h,p,E)}),Object.preventExtensions(h)},o=new WeakMap,a=[1,1],c=l=>{if(!Q1(l))throw new Error("object required");const u=o.get(l);if(u)return u;let f=a[0];const d=new Set,h=($,j=++a[0])=>{f!==j&&(f=j,d.forEach(O=>O($,j)))};let p=a[1];const g=($=++a[1])=>(p!==$&&!d.size&&(p=$,E.forEach(([j])=>{const O=j[1]($);O>f&&(f=O)})),f),y=$=>(j,O)=>{const m=[...j];m[1]=[$,...m[1]],h(m,O)},E=new Map,C=($,j)=>{if((eb?"production":void 0)!=="production"&&E.has($))throw new Error("prop listener already exists");if(d.size){const O=j[3](y($));E.set($,[j,O])}else E.set($,[j])},I=$=>{var j;const O=E.get($);O&&(E.delete($),(j=O[1])==null||j.call(O))},T=$=>(d.add($),d.size===1&&E.forEach(([O,m],A)=>{if((eb?"production":void 0)!=="production"&&m)throw new Error("remove already exists");const S=O[3](y(A));E.set(A,[O,S])}),()=>{d.delete($),d.size===0&&E.forEach(([O,m],A)=>{m&&(m(),E.set(A,[O]))})}),N=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),B=e(N,{deleteProperty($,j){const O=Reflect.get($,j);I(j);const m=Reflect.deleteProperty($,j);return m&&h(["delete",[j],O]),m},set($,j,O,m){const A=Reflect.has($,j),S=Reflect.get($,j,m);if(A&&(t(S,O)||o.has(O)&&t(S,o.get(O))))return!0;I(j),Q1(O)&&(O=wq(O)||O);let b=O;if(O instanceof Promise)O.then(w=>{O.status="fulfilled",O.value=w,h(["resolve",[j],w])}).catch(w=>{O.status="rejected",O.reason=w,h(["reject",[j],w])});else{!pc.has(O)&&r(O)&&(b=c(O));const w=!Cp.has(b)&&pc.get(b);w&&C(j,w)}return Reflect.set($,j,b,m),h(["set",[j],O,S]),!0}});o.set(l,B);const L=[N,g,i,T];return pc.set(B,L),Reflect.ownKeys(l).forEach($=>{const j=Object.getOwnPropertyDescriptor(l,$);"value"in j&&(B[$]=l[$],delete j.value,delete j.writable),Object.defineProperty(N,$,j)}),B})=>[c,pc,Cp,t,e,r,n,s,i,o,a],[Eq]=vq();function Er(t={}){return Eq(t)}function fs(t,e,r){const n=pc.get(t);(eb?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let s;const i=[],o=n[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function _0(t,e){const r=pc.get(t);(eb?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,s,i]=r;return i(n,s(),e)}function Ru(t){return Cp.add(t),t}function Ps(t,e,r,n){let s=t[e];return fs(t,()=>{const i=t[e];Object.is(s,i)||r(s=i)})}function Aq(t){const e=Er({data:Array.from([]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const s=this.data.find(i=>i[0]===r);return s?s[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(s=>s[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(s=>s[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var cy={exports:{}},_q=cy.exports,w6;function Cq(){return w6||(w6=1,function(t,e){(function(r,n){t.exports=n()})(_q,function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,u,f,d){return i.fromToBase(l,u,f,d)}s.en.relativeTime=o,i.fromToBase=function(l,u,f,d,h){for(var p,g,y,E=f.$locale().relativeTime||o,C=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],I=C.length,T=0;T<I;T+=1){var N=C[T];N.d&&(p=d?s(l).diff(f,N.d,!0):f.diff(l,N.d,!0));var k=(r.rounding||Math.round)(Math.abs(p));if(y=p>0,k<=N.r||!N.r){k<=1&&T>0&&(N=C[T-1]);var B=E[N.l];h&&(k=h(""+k)),g=typeof B=="string"?B.replace("%d",k):B(k,u,N.l,y);break}}if(u)return g;var L=y?E.future:E.past;return typeof L=="function"?L(g):L.replace("%s",g)},i.to=function(l,u){return a(l,u,this,!0)},i.from=function(l,u){return a(l,u,this)};var c=function(l){return l.$u?s.utc():s()};i.toNow=function(l){return this.to(c(this),l)},i.fromNow=function(l){return this.from(c(this),l)}}})}(cy)),cy.exports}var Sq=Cq();const xq=Qu(Sq),XP={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var Iq=20,Tq=1,Mh=1e6,Nq=1e6,Pq=-7,Oq=21,Rq=!1,$g="[big.js] ",Xu=$g+"Invalid ",mw=Xu+"decimal places",kq=Xu+"rounding mode",eO=$g+"Division by zero",Xt={},Bo=void 0,Dq=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function tO(){function t(e){var r=this;if(!(r instanceof t))return e===Bo?tO():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Xu+"value");e=e===0&&1/e<0?"-0":String(e)}Mq(r,e)}r.constructor=t}return t.prototype=Xt,t.DP=Iq,t.RM=Tq,t.NE=Pq,t.PE=Oq,t.strict=Rq,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Mq(t,e){var r,n,s;if(!Dq.test(e))throw Error(Xu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),s=e.length,n=0;n<s&&e.charAt(n)=="0";)++n;if(n==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=s;)t.c[r++]=+e.charAt(n++)}return t}function ef(t,e,r,n){var s=t.c;if(r===Bo&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(kq);if(e<1)n=r===3&&(n||!!s[0])||e===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(n||s[1]!==Bo))),s.length=1,n?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(n=r===1&&s[e]>=5||r===2&&(s[e]>5||s[e]===5&&(n||s[e+1]!==Bo||s[e-1]&1))||r===3&&(n||!!s[0]),s.length=e,n){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function tf(t,e,r){var n=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>i)for(n-=i;n--;)s+="0";else n<i&&(s=s.slice(0,n)+"."+s.slice(n));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&r?"-"+s:s}Xt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Xt.cmp=function(t){var e,r=this,n=r.c,s=(t=new r.constructor(t)).c,i=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!s[0])return n[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=s.length)?a:c,i=-1;++i<o;)if(n[i]!=s[i])return n[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};Xt.div=function(t){var e=this,r=e.constructor,n=e.c,s=(t=new r(t)).c,i=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Mh)throw Error(mw);if(!s[0])throw Error(eO);if(!n[0])return t.s=i,t.c=[t.e=0],t;var a,c,l,u,f,d=s.slice(),h=a=s.length,p=n.length,g=n.slice(0,a),y=g.length,E=t,C=E.c=[],I=0,T=o+(E.e=e.e-t.e)+1;for(E.s=i,i=T<0?0:T,d.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(f=-1,u=0;++f<a;)if(s[f]!=g[f]){u=s[f]>g[f]?1:-1;break}if(u<0){for(c=y==a?s:d;y;){if(g[--y]<c[y]){for(f=y;f&&!g[--f];)g[f]=9;--g[f],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}C[I++]=u?l:++l,g[0]&&u?g[y]=n[h]||0:g=[n[h]]}while((h++<p||g[0]!==Bo)&&i--);return!C[0]&&I!=1&&(C.shift(),E.e--,T--),I>T&&ef(E,T,r.RM,g[0]!==Bo),E};Xt.eq=function(t){return this.cmp(t)===0};Xt.gt=function(t){return this.cmp(t)>0};Xt.gte=function(t){return this.cmp(t)>-1};Xt.lt=function(t){return this.cmp(t)<0};Xt.lte=function(t){return this.cmp(t)<1};Xt.minus=Xt.sub=function(t){var e,r,n,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),u=i.e,f=t.c,d=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new o(i):t.s=1,t;if(a=u-d){for((s=a<0)?(a=-a,n=l):(d=u,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((s=l.length<f.length)?l:f).length,a=c=0;c<r;c++)if(l[c]!=f[c]){s=l[c]<f[c];break}if(s&&(n=l,l=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(t.s=1,l=[d=0]),t.c=l,t.e=d,t};Xt.mod=function(t){var e,r=this,n=r.constructor,s=r.s,i=(t=new n(t)).s;if(!t.c[0])throw Error(eO);return r.s=t.s=1,e=t.cmp(r)==1,r.s=s,t.s=i,e?new n(r):(s=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=s,n.RM=i,this.minus(r.times(t)))};Xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Xt.plus=Xt.add=function(t){var e,r,n,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Xt.pow=function(t){var e=this,r=new e.constructor("1"),n=r,s=t<0;if(t!==~~t||t<-1e6||t>Nq)throw Error(Xu+"exponent");for(s&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return s?r.div(n):n};Xt.prec=function(t,e){if(t!==~~t||t<1||t>Mh)throw Error(Xu+"precision");return ef(new this.constructor(this),t,e)};Xt.round=function(t,e){if(t===Bo)t=0;else if(t!==~~t||t<-1e6||t>Mh)throw Error(mw);return ef(new this.constructor(this),t+this.e+1,e)};Xt.sqrt=function(){var t,e,r,n=this,s=n.constructor,i=n.s,o=n.e,a=new s("0.5");if(!n.c[0])return new s(n);if(i<0)throw Error($g+"No square root");i=Math.sqrt(+tf(n,!0,!0)),i===0||i===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return ef(t,(s.DP-=4)+t.e+1,s.RM)};Xt.times=Xt.mul=function(t){var e,r=this,n=r.constructor,s=r.c,i=(t=new n(t)).c,o=s.length,a=i.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=s,s=i,i=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+i[c]*s[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Xt.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Bo){if(t!==~~t||t<0||t>Mh)throw Error(mw);for(r=ef(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return tf(r,!0,!!n)};Xt.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Bo){if(t!==~~t||t<0||t>Mh)throw Error(mw);for(r=ef(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return tf(r,!1,!!n)};Xt[Symbol.for("nodejs.util.inspect.custom")]=Xt.toJSON=Xt.toString=function(){var t=this,e=t.constructor;return tf(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Xt.toNumber=function(){var t=+tf(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error($g+"Imprecise conversion");return t};Xt.toPrecision=function(t,e){var r=this,n=r.constructor,s=r.c[0];if(t!==Bo){if(t!==~~t||t<1||t>Mh)throw Error(Xu+"precision");for(r=ef(new n(r),t,e);r.c.length<t;)r.c.push(0)}return tf(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)};Xt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error($g+"valueOf disallowed");return tf(t,t.e<=e.NE||t.e>=e.PE,!0)};var Xh=tO();const Yt={bigNumber(t){return t?new Xh(t):new Xh(0)},multiply(t,e){if(t===void 0||e===void 0)return new Xh(0);const r=new Xh(t),n=new Xh(e);return r.times(n)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Bq=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Uq=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$q=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ke={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},Lq={getERC20Abi:t=>ke.USDT_CONTRACT_ADDRESSES.includes(t)?$q:Bq,getSwapAbi:()=>Uq},sa={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,s]=e;if(!r||!n||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},Et={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function Z1(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const gt={setItem(t,e){Sp()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Sp())return localStorage.getItem(t)||void 0},removeItem(t){Sp()&&localStorage.removeItem(t)},clear(){Sp()&&localStorage.clear()}};function Sp(){return typeof window<"u"&&typeof localStorage<"u"}function Oa(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function Fq(t){return(t==null?void 0:t.endsWith(ke.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(ke.WC_NAME_SUFFIX))}var v6={};const X1=(typeof process<"u"&&typeof v6<"u"?v6.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",B1e=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],U1e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",an={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:X1,SECURE_SITE_DASHBOARD:`${X1}/dashboard`,SECURE_SITE_FAVICON:`${X1}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},We={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=We.getActiveNamespace(),e=We.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{gt.setItem(Et.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=gt.getItem(Et.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{gt.removeItem(Et.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{gt.setItem(Et.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{gt.setItem(Et.ACTIVE_CAIP_NETWORK_ID,t),We.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return gt.getItem(Et.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{gt.removeItem(Et.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=Z1(t);gt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=We.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),gt.setItem(Et.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=gt.getItem(Et.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=Z1(t);gt.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return gt.getItem(Et.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=Z1(t);return gt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{gt.setItem(Et.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return gt.getItem(Et.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{gt.removeItem(Et.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return gt.getItem(Et.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=gt.getItem(Et.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{gt.setItem(Et.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return gt.getItem(Et.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=gt.getItem(Et.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));gt.setItem(Et.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=We.getConnectedNamespaces();e.includes(t)||(e.push(t),We.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=We.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),We.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return gt.getItem(Et.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{gt.setItem(Et.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{gt.removeItem(Et.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=gt.getItem(Et.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=We.getBalanceCache();gt.setItem(Et.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=We.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;We.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=We.getBalanceCache();e[t.caipAddress]=t,gt.setItem(Et.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=gt.getItem(Et.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=We.getBalanceCache();gt.setItem(Et.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=We.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),We.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=We.getNativeBalanceCache();e[t.caipAddress]=t,gt.setItem(Et.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=gt.getItem(Et.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=We.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;We.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=We.getEnsCache();e[t.address]=t,gt.setItem(Et.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=We.getEnsCache();gt.setItem(Et.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=gt.getItem(Et.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=We.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;We.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=We.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},gt.setItem(Et.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=We.getIdentityCache();gt.setItem(Et.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{gt.removeItem(Et.PORTFOLIO_CACHE),gt.removeItem(Et.NATIVE_BALANCE_CACHE),gt.removeItem(Et.ENS_CACHE),gt.removeItem(Et.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}},rt={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return rt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=an.TEN_SEC_MS:!0},isAllowedRetry(t,e=an.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+an.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function s(){t(...n)}r&&clearTimeout(r),r=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(rt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},formatUniversalUrl(t,e){if(!rt.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?We.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,n)=>{const s=new Image;s.onload=r,s.onerror=n,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,rt.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const n=Number(t);if(n){const s=Math.floor(n*1e3)/1e3;s&&(r=s.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var n;let r;if(t==="0")r="0";else if(typeof t=="string"){const s=Number(t);s&&(r=(n=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:n[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return ke.W3M_API_URL},getBlockchainApiUrl(){return ke.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ke.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,s)=>{r[n]=s}),e.sort((n,s)=>{const i=r[n.id],o=r[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const s=n[e];return r.has(s)?!1:(r.add(s),!0)})},generateSdkVersion(t,e,r){const s=t.length===0?an.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${r}`},createAccount(t,e,r,n,s){return{namespace:t,address:e,type:r,publicKey:n,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in ke.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),r,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",n),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,n+i),c=t.substring(n+i,o),l=t.substring(s),u=c+r;return a+u+l}},ks=Er({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),qi={state:ks,subscribeNetworkImages(t){return fs(ks.networkImages,()=>t(ks.networkImages))},subscribeKey(t,e){return Ps(ks,t,e)},subscribe(t){return fs(ks,()=>t(ks))},setWalletImage(t,e){ks.walletImages[t]=e},setNetworkImage(t,e){ks.networkImages[t]=e},setChainImage(t,e){ks.chainImages[t]=e},setConnectorImage(t,e){ks.connectorImages={...ks.connectorImages,[t]:e}},setTokenImage(t,e){ks.tokenImages[t]=e},setCurrencyImage(t,e){ks.currencyImages[t]=e}},jq={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:""},ev=Er({networkImagePromises:{}}),rO={async fetchWalletImage(t){if(t)return await Tt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(ev.networkImagePromises[t]||(ev.networkImagePromises[t]=Tt._fetchNetworkImage(t)),await ev.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return qi.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return qi.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return qi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return qi.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return qi.state.connectorImages[t.imageId]},getChainImage(t){return qi.state.networkImages[jq[t]]}};async function ep(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class yw{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...s}){const i=this.createUrl(s);return(await ep(i,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const s=this.createUrl(n);return(await ep(s,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await ep(i,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await ep(i,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await ep(i,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([s,i])=>{i&&n.searchParams.append(s,i)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}var _m={exports:{}},E6;function Hq(){if(E6)return _m.exports;E6=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(N,k,B){return Function.prototype.apply.call(N,k,B)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:r=function(N){return Object.getOwnPropertyNames(N)};function n(T){console&&console.warn&&console.warn(T)}var s=Number.isNaN||function(N){return N!==N};function i(){i.init.call(this)}_m.exports=i,_m.exports.once=E,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(T){if(typeof T!="number"||T<0||s(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");o=T}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function c(T){return T._maxListeners===void 0?i.defaultMaxListeners:T._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(N){for(var k=[],B=1;B<arguments.length;B++)k.push(arguments[B]);var L=N==="error",$=this._events;if($!==void 0)L=L&&$.error===void 0;else if(!L)return!1;if(L){var j;if(k.length>0&&(j=k[0]),j instanceof Error)throw j;var O=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw O.context=j,O}var m=$[N];if(m===void 0)return!1;if(typeof m=="function")e(m,this,k);else for(var A=m.length,S=p(m,A),B=0;B<A;++B)e(S[B],this,k);return!0};function l(T,N,k,B){var L,$,j;if(a(k),$=T._events,$===void 0?($=T._events=Object.create(null),T._eventsCount=0):($.newListener!==void 0&&(T.emit("newListener",N,k.listener?k.listener:k),$=T._events),j=$[N]),j===void 0)j=$[N]=k,++T._eventsCount;else if(typeof j=="function"?j=$[N]=B?[k,j]:[j,k]:B?j.unshift(k):j.push(k),L=c(T),L>0&&j.length>L&&!j.warned){j.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=T,O.type=N,O.count=j.length,n(O)}return T}i.prototype.addListener=function(N,k){return l(this,N,k,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(N,k){return l(this,N,k,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(T,N,k){var B={fired:!1,wrapFn:void 0,target:T,type:N,listener:k},L=u.bind(B);return L.listener=k,B.wrapFn=L,L}i.prototype.once=function(N,k){return a(k),this.on(N,f(this,N,k)),this},i.prototype.prependOnceListener=function(N,k){return a(k),this.prependListener(N,f(this,N,k)),this},i.prototype.removeListener=function(N,k){var B,L,$,j,O;if(a(k),L=this._events,L===void 0)return this;if(B=L[N],B===void 0)return this;if(B===k||B.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete L[N],L.removeListener&&this.emit("removeListener",N,B.listener||k));else if(typeof B!="function"){for($=-1,j=B.length-1;j>=0;j--)if(B[j]===k||B[j].listener===k){O=B[j].listener,$=j;break}if($<0)return this;$===0?B.shift():g(B,$),B.length===1&&(L[N]=B[0]),L.removeListener!==void 0&&this.emit("removeListener",N,O||k)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(N){var k,B,L;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[N]),this;if(arguments.length===0){var $=Object.keys(B),j;for(L=0;L<$.length;++L)j=$[L],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=B[N],typeof k=="function")this.removeListener(N,k);else if(k!==void 0)for(L=k.length-1;L>=0;L--)this.removeListener(N,k[L]);return this};function d(T,N,k){var B=T._events;if(B===void 0)return[];var L=B[N];return L===void 0?[]:typeof L=="function"?k?[L.listener||L]:[L]:k?y(L):p(L,L.length)}i.prototype.listeners=function(N){return d(this,N,!0)},i.prototype.rawListeners=function(N){return d(this,N,!1)},i.listenerCount=function(T,N){return typeof T.listenerCount=="function"?T.listenerCount(N):h.call(T,N)},i.prototype.listenerCount=h;function h(T){var N=this._events;if(N!==void 0){var k=N[T];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function p(T,N){for(var k=new Array(N),B=0;B<N;++B)k[B]=T[B];return k}function g(T,N){for(;N+1<T.length;N++)T[N]=T[N+1];T.pop()}function y(T){for(var N=new Array(T.length),k=0;k<N.length;++k)N[k]=T[k].listener||T[k];return N}function E(T,N){return new Promise(function(k,B){function L(j){T.removeListener(N,$),B(j)}function $(){typeof T.removeListener=="function"&&T.removeListener("error",L),k([].slice.call(arguments))}I(T,N,$,{once:!0}),N!=="error"&&C(T,L,{once:!0})})}function C(T,N,k){typeof T.on=="function"&&I(T,"error",N,k)}function I(T,N,k,B){if(typeof T.on=="function")B.once?T.once(N,k):T.on(N,k);else if(typeof T.addEventListener=="function")T.addEventListener(N,function L($){B.once&&T.removeEventListener(N,L),k($)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return _m.exports}var Ci=Hq();const i_=Qu(Ci);var tv={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mE=function(t,e){return mE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},mE(t,e)};function zq(t,e){mE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var yE=function(){return yE=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yE.apply(this,arguments)};function qq(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Vq(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Wq(t,e){return function(r,n){e(r,n,t)}}function Kq(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Gq(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Jq(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Yq(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Qq(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function bE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nO(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Zq(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nO(arguments[e]));return t}function Xq(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function C0(t){return this instanceof C0?(this.v=t,this):new C0(t)}function eV(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){n[d]&&(s[d]=function(h){return new Promise(function(p,g){i.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(p){f(i[0][3],p)}}function c(d){d.value instanceof C0?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function tV(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:C0(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function rV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof bE=="function"?bE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function nV(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function sV(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function iV(t){return t&&t.__esModule?t:{default:t}}function oV(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function aV(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const cV=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return yE},__asyncDelegator:tV,__asyncGenerator:eV,__asyncValues:rV,__await:C0,__awaiter:Gq,__classPrivateFieldGet:oV,__classPrivateFieldSet:aV,__createBinding:Yq,__decorate:Vq,__exportStar:Qq,__extends:zq,__generator:Jq,__importDefault:iV,__importStar:sV,__makeTemplateObject:nV,__metadata:Kq,__param:Wq,__read:nO,__rest:qq,__spread:Zq,__spreadArrays:Xq,__values:bE},Symbol.toStringTag,{value:"Module"})),bw=I3(cV);var rv={},tp={},A6;function lV(){if(A6)return tp;A6=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return tp.delay=t,tp}var vl={},nv={},El={},_6;function uV(){return _6||(_6=1,Object.defineProperty(El,"__esModule",{value:!0}),El.ONE_THOUSAND=El.ONE_HUNDRED=void 0,El.ONE_HUNDRED=100,El.ONE_THOUSAND=1e3),El}var sv={},C6;function fV(){return C6||(C6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(sv)),sv}var S6;function sO(){return S6||(S6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=bw;e.__exportStar(uV(),t),e.__exportStar(fV(),t)}(nv)),nv}var x6;function dV(){if(x6)return vl;x6=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.fromMiliseconds=vl.toMiliseconds=void 0;const t=sO();function e(n){return n*t.ONE_THOUSAND}vl.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return vl.fromMiliseconds=r,vl}var I6;function hV(){return I6||(I6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=bw;e.__exportStar(lV(),t),e.__exportStar(dV(),t)}(rv)),rv}var hf={},T6;function pV(){if(T6)return hf;T6=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return hf.Watch=t,hf.default=t,hf}var iv={},rp={},N6;function gV(){if(N6)return rp;N6=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.IWatch=void 0;class t{}return rp.IWatch=t,rp}var P6;function mV(){return P6||(P6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),bw.__exportStar(gV(),t)}(iv)),iv}var O6;function yV(){return O6||(O6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=bw;e.__exportStar(hV(),t),e.__exportStar(pV(),t),e.__exportStar(mV(),t),e.__exportStar(sO(),t)}(tv)),tv}var Pe=yV();class rf{}let bV=class extends rf{constructor(e){super()}};const R6=Pe.FIVE_SECONDS,Bh={pulse:"heartbeat_pulse"};let wV=class iO extends bV{constructor(e){super(e),this.events=new Ci.EventEmitter,this.interval=R6,this.interval=(e==null?void 0:e.interval)||R6}static async init(e){const r=new iO(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Pe.toMiliseconds(this.interval))}pulse(){this.events.emit(Bh.pulse)}};const vV=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,EV=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,AV=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function _V(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){CV(t);return}return e}function CV(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function xp(t,e={}){if(typeof t!="string")return t;const r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!AV.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(vV.test(t)||EV.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,_V)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function SV(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function fn(t,...e){try{return SV(t(...e))}catch(r){return Promise.reject(r)}}function xV(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function IV(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function ly(t){if(xV(t))return String(t);if(IV(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return ly(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const wE="base64:";function TV(t){return typeof t=="string"?t:wE+OV(t)}function NV(t){return typeof t!="string"||!t.startsWith(wE)?t:PV(t.slice(wE.length))}function PV(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function OV(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function ws(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function RV(...t){return ws(t.join(":"))}function Cm(t){return t=ws(t),t?t+":":""}function kV(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function DV(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const MV="memory",BV=()=>{const t=new Map;return{name:MV,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function UV(t={}){const e={mounts:{"":t.driver||BV()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),s=(l,u)=>{if(e.watching){u=ws(u);for(const f of e.watchListeners)f(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await k6(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const d=new Map,h=p=>{let g=d.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},d.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",y=ws(g?p:p.key),E=g?void 0:p.value,C=g||!p.options?u:{...u,...p.options},I=r(y);h(I).items.push({key:y,value:E,relativeKey:I.relativeKey,options:C})}return Promise.all([...d.values()].map(p=>f(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=ws(l);const{relativeKey:f,driver:d}=r(l);return fn(d.hasItem,f,u)},getItem(l,u={}){l=ws(l);const{relativeKey:f,driver:d}=r(l);return fn(d.getItem,f,u).then(h=>xp(h))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?fn(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(h=>({key:RV(f.base,h.key),value:xp(h.value)}))):Promise.all(f.items.map(d=>fn(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:xp(h)})))))},getItemRaw(l,u={}){l=ws(l);const{relativeKey:f,driver:d}=r(l);return d.getItemRaw?fn(d.getItemRaw,f,u):fn(d.getItem,f,u).then(h=>NV(h))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=ws(l);const{relativeKey:d,driver:h}=r(l);h.setItem&&(await fn(h.setItem,d,ly(u),f),h.watch||s("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return fn(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:ly(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>fn(f.driver.setItem,d.relativeKey,ly(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=ws(l);const{relativeKey:d,driver:h}=r(l);if(h.setItemRaw)await fn(h.setItemRaw,d,u,f);else if(h.setItem)await fn(h.setItem,d,TV(u),f);else return;h.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=ws(l);const{relativeKey:f,driver:d}=r(l);d.removeItem&&(await fn(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await fn(d.removeItem,f+"$",u),d.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=ws(l);const{relativeKey:f,driver:d}=r(l),h=Object.create(null);if(d.getMeta&&Object.assign(h,await fn(d.getMeta,f,u)),!u.nativeOnly){const p=await fn(d.getItem,f+"$",u).then(g=>xp(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=Cm(l);const f=n(l,!0);let d=[];const h=[];let p=!0;for(const E of f){(y=E.driver.flags)!=null&&y.maxDepth||(p=!1);const C=await fn(E.driver.getKeys,E.relativeBase,u);for(const I of C){const T=E.mountpoint+ws(I);d.some(N=>T.startsWith(N))||h.push(T)}d=[E.mountpoint,...d.filter(I=>!I.startsWith(E.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return h.filter(E=>(!g||kV(E,u.maxDepth))&&DV(E,l))},async clear(l,u={}){l=Cm(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return fn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(h=>f.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>D6(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Cm(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(k6(u,s,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){var f,d;l=Cm(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((d=(f=e.unwatch)[l])==null||d.call(f),delete e.unwatch[l]),u&&await D6(e.mounts[l]),e.mountpoints=e.mountpoints.filter(h=>h!==l),delete e.mounts[l])},getMount(l=""){l=ws(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=ws(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function k6(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function D6(t){typeof t.dispose=="function"&&await fn(t.dispose)}function nf(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function oO(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=nf(r);return(s,i)=>n.then(o=>i(o.transaction(e,s).objectStore(e)))}let ov;function Lg(){return ov||(ov=oO("keyval-store","keyval")),ov}function M6(t,e=Lg()){return e("readonly",r=>nf(r.get(t)))}function $V(t,e,r=Lg()){return r("readwrite",n=>(n.put(e,t),nf(n.transaction)))}function LV(t,e=Lg()){return e("readwrite",r=>(r.delete(t),nf(r.transaction)))}function FV(t=Lg()){return t("readwrite",e=>(e.clear(),nf(e.transaction)))}function jV(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},nf(t.transaction)}function HV(t=Lg()){return t("readonly",e=>{if(e.getAllKeys)return nf(e.getAllKeys());const r=[];return jV(e,n=>r.push(n.key)).then(()=>r)})}const zV=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),qV=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function ku(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return qV(t)}catch{return t}}function Ha(t){return typeof t=="string"?t:zV(t)||""}const VV="idb-keyval";var WV=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=oO(t.dbName,t.storeName)),{name:VV,options:t,async hasItem(s){return!(typeof await M6(r(s),n)>"u")},async getItem(s){return await M6(r(s),n)??null},setItem(s,i){return $V(r(s),i,n)},removeItem(s){return LV(r(s),n)},getKeys(){return HV(n)},clear(){return FV(n)}}};const KV="WALLET_CONNECT_V2_INDEXED_DB",GV="keyvaluestorage";let JV=class{constructor(){this.indexedDb=UV({driver:WV({dbName:KV,storeName:GV})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ha(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uy={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof av<"u"&&av.localStorage?uy.exports=av.localStorage:typeof window<"u"&&window.localStorage?uy.exports=window.localStorage:uy.exports=new e})();function YV(t){var e;return[t[0],ku((e=t[1])!=null?e:"")]}let QV=class{constructor(){this.localStorage=uy.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(YV)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return ku(r)}async setItem(e,r){this.localStorage.setItem(e,Ha(r))}async removeItem(e){this.localStorage.removeItem(e)}};const ZV="wc_storage_version",B6=1,XV=async(t,e,r)=>{const n=ZV,s=await e.getItem(n);if(s&&s>=B6){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,B6),r(e),eW(t,o)},eW=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let tW=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new QV;this.storage=e;try{const r=new JV;XV(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var cv,U6;function rW(){if(U6)return cv;U6=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}cv=e;function e(r,n,s){var i=s&&s.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=i(r);for(var l=1;l<a;l++)c[l]=i(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var f="",d=1-o,h=-1,p=r&&r.length||0,g=0;g<p;){if(r.charCodeAt(g)===37&&g+1<p){switch(h=h>-1?h:0,r.charCodeAt(g+1)){case 100:case 102:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Number(n[d]),h=g+2,g++;break;case 105:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Math.floor(Number(n[d])),h=g+2,g++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;h<g&&(f+=r.slice(h,g));var y=typeof n[d];if(y==="string"){f+="'"+n[d]+"'",h=g+2,g++;break}if(y==="function"){f+=n[d].name||"<anonymous>",h=g+2,g++;break}f+=i(n[d]),h=g+2,g++;break;case 115:if(d>=u)break;h<g&&(f+=r.slice(h,g)),f+=String(n[d]),h=g+2,g++;break;case 37:h<g&&(f+=r.slice(h,g)),f+="%",h=g+2,g++,d--;break}++d}++g}return h===-1?r:(h<p&&(f+=r.slice(h)),f)}return cv}var lv,$6;function nW(){if($6)return lv;$6=1;const t=rW();lv=s;const e=N().console||{},r={mapHttpRequest:p,mapHttpResponse:p,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:p,res:p,err:d};function n(k,B){return Array.isArray(k)?k.filter(function($){return $!=="!stdSerializers.err"}):k===!0?Object.keys(B):!1}function s(k){k=k||{},k.browser=k.browser||{};const B=k.browser.transmit;if(B&&typeof B.send!="function")throw Error("pino: transmit option must have a send function");const L=k.browser.write||e;k.browser.write&&(k.browser.asObject=!0);const $=k.serializers||{},j=n(k.browser.serialize,$);let O=k.browser.serialize;Array.isArray(k.browser.serialize)&&k.browser.serialize.indexOf("!stdSerializers.err")>-1&&(O=!1);const m=["error","fatal","warn","info","debug","trace"];typeof L=="function"&&(L.error=L.fatal=L.warn=L.info=L.debug=L.trace=L),k.enabled===!1&&(k.level="silent");const A=k.level||"info",S=Object.create(L);S.log||(S.log=y),Object.defineProperty(S,"levelVal",{get:w}),Object.defineProperty(S,"level",{get:x,set:D});const b={transmit:B,serialize:j,asObject:k.browser.asObject,levels:m,timestamp:h(k)};S.levels=s.levels,S.level=A,S.setMaxListeners=S.getMaxListeners=S.emit=S.addListener=S.on=S.prependListener=S.once=S.prependOnceListener=S.removeListener=S.removeAllListeners=S.listeners=S.listenerCount=S.eventNames=S.write=S.flush=y,S.serializers=$,S._serialize=j,S._stdErrSerialize=O,S.child=R,B&&(S._logEvent=f());function w(){return this.level==="silent"?1/0:this.levels.values[this.level]}function x(){return this._level}function D(v){if(v!=="silent"&&!this.levels.values[v])throw Error("unknown level "+v);this._level=v,i(b,S,"error","log"),i(b,S,"fatal","error"),i(b,S,"warn","error"),i(b,S,"info","log"),i(b,S,"debug","log"),i(b,S,"trace","log")}function R(v,U){if(!v)throw new Error("missing bindings for child Pino");U=U||{},j&&v.serializers&&(U.serializers=v.serializers);const K=U.serializers;if(j&&K){var Q=Object.assign({},$,K),J=k.browser.serialize===!0?Object.keys(Q):j;delete v.serializers,c([v],J,Q,this._stdErrSerialize)}function re(le){this._childLevel=(le._childLevel|0)+1,this.error=l(le,v,"error"),this.fatal=l(le,v,"fatal"),this.warn=l(le,v,"warn"),this.info=l(le,v,"info"),this.debug=l(le,v,"debug"),this.trace=l(le,v,"trace"),Q&&(this.serializers=Q,this._serialize=J),B&&(this._logEvent=f([].concat(le._logEvent.bindings,v)))}return re.prototype=this,new re(this)}return S}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=r,s.stdTimeFunctions=Object.assign({},{nullTime:E,epochTime:C,unixTime:I,isoTime:T});function i(k,B,L,$){const j=Object.getPrototypeOf(B);B[L]=B.levelVal>B.levels.values[L]?y:j[L]?j[L]:e[L]||e[$]||y,o(k,B,L)}function o(k,B,L){!k.transmit&&B[L]===y||(B[L]=function($){return function(){const O=k.timestamp(),m=new Array(arguments.length),A=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var S=0;S<m.length;S++)m[S]=arguments[S];if(k.serialize&&!k.asObject&&c(m,this._serialize,this.serializers,this._stdErrSerialize),k.asObject?$.call(A,a(this,L,m,O)):$.apply(A,m),k.transmit){const b=k.transmit.level||B.level,w=s.levels.values[b],x=s.levels.values[L];if(x<w)return;u(this,{ts:O,methodLevel:L,methodValue:x,transmitValue:s.levels.values[k.transmit.level||B.level],send:k.transmit.send,val:B.levelVal},m)}}}(B[L]))}function a(k,B,L,$){k._serialize&&c(L,k._serialize,k.serializers,k._stdErrSerialize);const j=L.slice();let O=j[0];const m={};$&&(m.time=$),m.level=s.levels.values[B];let A=(k._childLevel|0)+1;if(A<1&&(A=1),O!==null&&typeof O=="object"){for(;A--&&typeof j[0]=="object";)Object.assign(m,j.shift());O=j.length?t(j.shift(),j):void 0}else typeof O=="string"&&(O=t(j.shift(),j));return O!==void 0&&(m.msg=O),m}function c(k,B,L,$){for(const j in k)if($&&k[j]instanceof Error)k[j]=s.stdSerializers.err(k[j]);else if(typeof k[j]=="object"&&!Array.isArray(k[j]))for(const O in k[j])B&&B.indexOf(O)>-1&&O in L&&(k[j][O]=L[O](k[j][O]))}function l(k,B,L){return function(){const $=new Array(1+arguments.length);$[0]=B;for(var j=1;j<$.length;j++)$[j]=arguments[j-1];return k[L].apply(this,$)}}function u(k,B,L){const $=B.send,j=B.ts,O=B.methodLevel,m=B.methodValue,A=B.val,S=k._logEvent.bindings;c(L,k._serialize||Object.keys(k.serializers),k.serializers,k._stdErrSerialize===void 0?!0:k._stdErrSerialize),k._logEvent.ts=j,k._logEvent.messages=L.filter(function(b){return S.indexOf(b)===-1}),k._logEvent.level.label=O,k._logEvent.level.value=m,$(O,k._logEvent,A),k._logEvent=f(S)}function f(k){return{ts:0,messages:[],bindings:k||[],level:{label:"",value:0}}}function d(k){const B={type:k.constructor.name,msg:k.message,stack:k.stack};for(const L in k)B[L]===void 0&&(B[L]=k[L]);return B}function h(k){return typeof k.timestamp=="function"?k.timestamp:k.timestamp===!1?E:C}function p(){return{}}function g(k){return k}function y(){}function E(){return!1}function C(){return Date.now()}function I(){return Math.round(Date.now()/1e3)}function T(){return new Date(Date.now()).toISOString()}function N(){function k(B){return typeof B<"u"&&B}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return k(self)||k(window)||k(this)||{}}}return lv}var Lf=nW();const Fg=Qu(Lf),sW={level:"info"},jg="custom_context",o_=1e3*1024;let iW=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},L6=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new iW(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},aO=class{constructor(e,r=o_){this.level=e??"error",this.levelValue=Lf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new L6(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Lf.levels.values.error?console.error(e):r===Lf.levels.values.warn?console.warn(e):r===Lf.levels.values.debug?console.debug(e):r===Lf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ha({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new L6(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Ha({extraMetadata:e})),new Blob(r,{type:"application/json"})}},oW=class{constructor(e,r=o_){this.baseChunkLogger=new aO(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},aW=class{constructor(e,r=o_){this.baseChunkLogger=new aO(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var cW=Object.defineProperty,lW=Object.defineProperties,uW=Object.getOwnPropertyDescriptors,F6=Object.getOwnPropertySymbols,fW=Object.prototype.hasOwnProperty,dW=Object.prototype.propertyIsEnumerable,j6=(t,e,r)=>e in t?cW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tb=(t,e)=>{for(var r in e||(e={}))fW.call(e,r)&&j6(t,r,e[r]);if(F6)for(var r of F6(e))dW.call(e,r)&&j6(t,r,e[r]);return t},rb=(t,e)=>lW(t,uW(e));function Uh(t){return rb(tb({},t),{level:(t==null?void 0:t.level)||sW.level})}function hW(t,e=jg){return t[e]||""}function pW(t,e,r=jg){return t[r]=e,t}function Os(t,e=jg){let r="";return typeof t.bindings>"u"?r=hW(t,e):r=t.bindings().context||"",r}function gW(t,e,r=jg){const n=Os(t,r);return n.trim()?`${n}/${e}`:e}function Gn(t,e,r=jg){const n=gW(t,e,r),s=t.child({context:n});return pW(s,n,r)}function mW(t){var e,r;const n=new oW((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Fg(rb(tb({},t.opts),{level:"trace",browser:rb(tb({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function yW(t){var e;const r=new aW((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Fg(rb(tb({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function a_(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?mW(t):yW(t)}var bW=Object.defineProperty,wW=(t,e,r)=>e in t?bW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,H6=(t,e,r)=>wW(t,typeof e!="symbol"?e+"":e,r);let vW=class extends rf{constructor(e){super(),this.opts=e,H6(this,"protocol","wc"),H6(this,"version",2)}};var EW=Object.defineProperty,AW=(t,e,r)=>e in t?EW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_W=(t,e,r)=>AW(t,e+"",r);let CW=class extends rf{constructor(e,r){super(),this.core=e,this.logger=r,_W(this,"records",new Map)}},SW=class{constructor(e,r){this.logger=e,this.core=r}},xW=class extends rf{constructor(e,r){super(),this.relayer=e,this.logger=r}},IW=class extends rf{constructor(e){super()}},TW=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},NW=class extends rf{constructor(e,r){super(),this.relayer=e,this.logger=r}},PW=class extends rf{constructor(e,r){super(),this.core=e,this.logger=r}},OW=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},RW=class{constructor(e,r){this.projectId=e,this.logger=r}},kW=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var DW=Object.defineProperty,MW=(t,e,r)=>e in t?DW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,z6=(t,e,r)=>MW(t,typeof e!="symbol"?e+"":e,r);let BW=class{constructor(e){this.opts=e,z6(this,"protocol","wc"),z6(this,"version",2)}},UW=class{constructor(e){this.client=e}};function $W(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function cO(t,...e){if(!$W(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function q6(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LW(t,e){cO(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const pf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function FW(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function lO(t){return typeof t=="string"&&(t=FW(t)),cO(t),t}let jW=class{clone(){return this._cloneInto()}};function HW(t){const e=n=>t().update(lO(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function uO(t=32){if(pf&&typeof pf.getRandomValues=="function")return pf.getRandomValues(new Uint8Array(t));if(pf&&typeof pf.randomBytes=="function")return pf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function zW(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}let qW=class extends jW{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=uv(this.buffer)}update(e){q6(this);const{view:r,buffer:n,blockLen:s}=this;e=lO(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=uv(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){q6(this),LW(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;zW(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=uv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};const Sm=BigInt(2**32-1),vE=BigInt(32);function fO(t,e=!1){return e?{h:Number(t&Sm),l:Number(t>>vE&Sm)}:{h:Number(t>>vE&Sm)|0,l:Number(t&Sm)|0}}function VW(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=fO(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const WW=(t,e)=>BigInt(t>>>0)<<vE|BigInt(e>>>0),KW=(t,e,r)=>t>>>r,GW=(t,e,r)=>t<<32-r|e>>>r,JW=(t,e,r)=>t>>>r|e<<32-r,YW=(t,e,r)=>t<<32-r|e>>>r,QW=(t,e,r)=>t<<64-r|e>>>r-32,ZW=(t,e,r)=>t>>>r-32|e<<64-r,XW=(t,e)=>e,eK=(t,e)=>t,tK=(t,e,r)=>t<<r|e>>>32-r,rK=(t,e,r)=>e<<r|t>>>32-r,nK=(t,e,r)=>e<<r-32|t>>>64-r,sK=(t,e,r)=>t<<r-32|e>>>64-r;function iK(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const oK=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),aK=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,cK=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),lK=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,uK=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),fK=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,yt={fromBig:fO,split:VW,toBig:WW,shrSH:KW,shrSL:GW,rotrSH:JW,rotrSL:YW,rotrBH:QW,rotrBL:ZW,rotr32H:XW,rotr32L:eK,rotlSH:tK,rotlSL:rK,rotlBH:nK,rotlBL:sK,add:iK,add3L:oK,add3H:aK,add4L:cK,add4H:lK,add5H:fK,add5L:uK},[dK,hK]=yt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Za=new Uint32Array(80),Xa=new Uint32Array(80);let pK=class extends qW{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:y}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(e,r,n,s,i,o,a,c,l,u,f,d,h,p,g,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,r){for(let I=0;I<16;I++,r+=4)Za[I]=e.getUint32(r),Xa[I]=e.getUint32(r+=4);for(let I=16;I<80;I++){const T=Za[I-15]|0,N=Xa[I-15]|0,k=yt.rotrSH(T,N,1)^yt.rotrSH(T,N,8)^yt.shrSH(T,N,7),B=yt.rotrSL(T,N,1)^yt.rotrSL(T,N,8)^yt.shrSL(T,N,7),L=Za[I-2]|0,$=Xa[I-2]|0,j=yt.rotrSH(L,$,19)^yt.rotrBH(L,$,61)^yt.shrSH(L,$,6),O=yt.rotrSL(L,$,19)^yt.rotrBL(L,$,61)^yt.shrSL(L,$,6),m=yt.add4L(B,O,Xa[I-7],Xa[I-16]),A=yt.add4H(m,k,j,Za[I-7],Za[I-16]);Za[I]=A|0,Xa[I]=m|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:y,Hh:E,Hl:C}=this;for(let I=0;I<80;I++){const T=yt.rotrSH(f,d,14)^yt.rotrSH(f,d,18)^yt.rotrBH(f,d,41),N=yt.rotrSL(f,d,14)^yt.rotrSL(f,d,18)^yt.rotrBL(f,d,41),k=f&h^~f&g,B=d&p^~d&y,L=yt.add5L(C,N,B,hK[I],Xa[I]),$=yt.add5H(L,E,T,k,dK[I],Za[I]),j=L|0,O=yt.rotrSH(n,s,28)^yt.rotrBH(n,s,34)^yt.rotrBH(n,s,39),m=yt.rotrSL(n,s,28)^yt.rotrBL(n,s,34)^yt.rotrBL(n,s,39),A=n&i^n&a^i&a,S=s&o^s&c^o&c;E=g|0,C=y|0,g=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=yt.add(l|0,u|0,$|0,j|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const b=yt.add3L(j,m,S);n=yt.add3H(b,$,O,A),s=b|0}({h:n,l:s}=yt.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=yt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=yt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=yt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=yt.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=yt.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:y}=yt.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:E,l:C}=yt.add(this.Hh|0,this.Hl|0,E|0,C|0),this.set(n,s,i,o,a,c,l,u,f,d,h,p,g,y,E,C)}roundClean(){Za.fill(0),Xa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const gK=HW(()=>new pK);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const c_=BigInt(0),dO=BigInt(1),mK=BigInt(2);function l_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function u_(t){if(!l_(t))throw new Error("Uint8Array expected")}function fv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const yK=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function f_(t){u_(t);let e="";for(let r=0;r<t.length;r++)e+=yK[t[r]];return e}function hO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?c_:BigInt("0x"+t)}const Jo={_0:48,_9:57,A:65,F:70,a:97,f:102};function V6(t){if(t>=Jo._0&&t<=Jo._9)return t-Jo._0;if(t>=Jo.A&&t<=Jo.F)return t-(Jo.A-10);if(t>=Jo.a&&t<=Jo.f)return t-(Jo.a-10)}function pO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=V6(t.charCodeAt(i)),a=V6(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function bK(t){return hO(f_(t))}function fy(t){return u_(t),hO(f_(Uint8Array.from(t).reverse()))}function gO(t,e){return pO(t.toString(16).padStart(e*2,"0"))}function EE(t,e){return gO(t,e).reverse()}function Yo(t,e,r){let n;if(typeof e=="string")try{n=pO(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(l_(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function W6(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];u_(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const dv=t=>typeof t=="bigint"&&c_<=t;function wK(t,e,r){return dv(t)&&dv(e)&&dv(r)&&e<=t&&t<r}function np(t,e,r,n){if(!wK(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function vK(t){let e;for(e=0;t>c_;t>>=dO,e+=1);return e}const EK=t=>(mK<<BigInt(t-1))-dO,AK={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||l_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function d_(t,e,r={}){const n=(s,i,o)=>{const a=AK[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function K6(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const yn=BigInt(0),Or=BigInt(1),kl=BigInt(2),_K=BigInt(3),AE=BigInt(4),G6=BigInt(5),J6=BigInt(8);function sn(t,e){const r=t%e;return r>=yn?r:e+r}function CK(t,e,r){if(e<yn)throw new Error("invalid exponent, negatives unsupported");if(r<=yn)throw new Error("invalid modulus");if(r===Or)return yn;let n=Or;for(;e>yn;)e&Or&&(n=n*t%r),t=t*t%r,e>>=Or;return n}function ao(t,e,r){let n=t;for(;e-- >yn;)n*=n,n%=r;return n}function Y6(t,e){if(t===yn)throw new Error("invert: expected non-zero number");if(e<=yn)throw new Error("invert: expected positive modulus, got "+e);let r=sn(t,e),n=e,s=yn,i=Or;for(;r!==yn;){const o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==Or)throw new Error("invert: does not exist");return sn(s,e)}function SK(t){const e=(t-Or)/kl;let r,n,s;for(r=t-Or,n=0;r%kl===yn;r/=kl,n++);for(s=kl;s<t&&CK(s,e,t)!==t-Or;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+Or)/AE;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(r+Or)/kl;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,s),r),u=o.pow(a,i),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let p=o.sqr(f);d<c&&!o.eql(p,o.ONE);d++)p=o.sqr(p);const h=o.pow(l,Or<<BigInt(c-d-1));l=o.sqr(h),u=o.mul(u,h),f=o.mul(f,l),c=d}return u}}function xK(t){if(t%AE===_K){const e=(t+Or)/AE;return function(r,n){const s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%J6===G6){const e=(t-G6)/J6;return function(r,n){const s=r.mul(n,kl),i=r.pow(s,e),o=r.mul(n,i),a=r.mul(r.mul(o,kl),i),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return SK(t)}const IK=(t,e)=>(sn(t,e)&Or)===Or,TK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function NK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=TK.reduce((n,s)=>(n[s]="function",n),e);return d_(t,r)}function PK(t,e,r){if(r<yn)throw new Error("invalid exponent, negatives unsupported");if(r===yn)return t.ONE;if(r===Or)return e;let n=t.ONE,s=e;for(;r>yn;)r&Or&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Or;return n}function OK(t,e){const r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function mO(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function yO(t,e,r=!1,n={}){if(t<=yn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=mO(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:EK(s),ZERO:yn,ONE:Or,create:c=>sn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return yn<=c&&c<t},is0:c=>c===yn,isOdd:c=>(c&Or)===Or,neg:c=>sn(-c,t),eql:(c,l)=>c===l,sqr:c=>sn(c*c,t),add:(c,l)=>sn(c+l,t),sub:(c,l)=>sn(c-l,t),mul:(c,l)=>sn(c*l,t),pow:(c,l)=>PK(a,c,l),div:(c,l)=>sn(c*Y6(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Y6(c,t),sqrt:n.sqrt||(c=>(o||(o=xK(t)),o(a,c))),invertBatch:c=>OK(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?EE(c,i):gO(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?fy(c):bK(c)}});return Object.freeze(a)}const Q6=BigInt(0),xm=BigInt(1);function hv(t,e){const r=e.negate();return t?r:e}function bO(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function pv(t,e){bO(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function RK(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function kK(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const gv=new WeakMap,wO=new WeakMap;function mv(t){return wO.get(t)||1}function DK(t,e){return{constTimeNegate:hv,hasPrecomputes(r){return mv(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>Q6;)n&xm&&(s=s.add(i)),i=i.double(),n>>=xm;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=pv(n,e),o=[];let a=r,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){const{windows:i,windowSize:o}=pv(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<i;d++){const h=d*o;let p=Number(s&l);s>>=f,p>o&&(p-=u,s+=xm);const g=h,y=h+Math.abs(p)-1,E=d%2!==0,C=p<0;p===0?c=c.add(hv(E,n[g])):a=a.add(hv(C,n[y]))}return{p:a,f:c}},wNAFUnsafe(r,n,s,i=t.ZERO){const{windows:o,windowSize:a}=pv(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(s===Q6)break;let h=Number(s&c);if(s>>=u,h>a&&(h-=l,s+=xm),h===0)continue;let p=n[d+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(r,n,s){let i=gv.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&gv.set(n,s(i))),i},wNAFCached(r,n,s){const i=mv(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=mv(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){bO(n,e),wO.set(r,n),gv.delete(r)}}}function MK(t,e,r,n){if(RK(r,t),kK(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=vK(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let f=l;f>=0;f-=o){c.fill(s);for(let h=0;h<n.length;h++){const p=n[h],g=Number(p>>BigInt(f)&BigInt(a));c[g]=c[g].add(r[h])}let d=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),d=d.add(p);if(u=u.add(d),f!==0)for(let h=0;h<o;h++)u=u.double()}return u}function BK(t){return NK(t.Fp),d_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mO(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ni=BigInt(0),gs=BigInt(1),Im=BigInt(2),UK=BigInt(8),$K={zip215:!0};function LK(t){const e=BK(t);return d_(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function FK(t){const e=LK(t),{Fp:r,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=Im<<BigInt(a*8)-gs,u=r.create,f=yO(e.n,e.nBitLength),d=e.uvRatio||((b,w)=>{try{return{isValid:!0,value:r.sqrt(b*r.inv(w))}}catch{return{isValid:!1,value:Ni}}}),h=e.adjustScalarBytes||(b=>b),p=e.domain||((b,w,x)=>{if(fv("phflag",x),w.length||x)throw new Error("Contexts/pre-hash are not supported");return b});function g(b,w){np("coordinate "+b,w,Ni,l)}function y(b){if(!(b instanceof I))throw new Error("ExtendedPoint expected")}const E=K6((b,w)=>{const{ex:x,ey:D,ez:R}=b,v=b.is0();w==null&&(w=v?UK:r.inv(R));const U=u(x*w),K=u(D*w),Q=u(R*w);if(v)return{x:Ni,y:gs};if(Q!==gs)throw new Error("invZ was invalid");return{x:U,y:K}}),C=K6(b=>{const{a:w,d:x}=e;if(b.is0())throw new Error("bad point: ZERO");const{ex:D,ey:R,ez:v,et:U}=b,K=u(D*D),Q=u(R*R),J=u(v*v),re=u(J*J),le=u(K*w),Y=u(J*u(le+Q)),de=u(re+u(x*u(K*Q)));if(Y!==de)throw new Error("bad point: equation left != right (1)");const se=u(D*R),ge=u(v*U);if(se!==ge)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(w,x,D,R){this.ex=w,this.ey=x,this.ez=D,this.et=R,g("x",w),g("y",x),g("z",D),g("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof I)throw new Error("extended point not allowed");const{x,y:D}=w||{};return g("x",x),g("y",D),new I(x,D,gs,u(x*D))}static normalizeZ(w){const x=r.invertBatch(w.map(D=>D.ez));return w.map((D,R)=>D.toAffine(x[R])).map(I.fromAffine)}static msm(w,x){return MK(I,f,w,x)}_setWindowSize(w){k.setWindowSize(this,w)}assertValidity(){C(this)}equals(w){y(w);const{ex:x,ey:D,ez:R}=this,{ex:v,ey:U,ez:K}=w,Q=u(x*K),J=u(v*R),re=u(D*K),le=u(U*R);return Q===J&&re===le}is0(){return this.equals(I.ZERO)}negate(){return new I(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:w}=e,{ex:x,ey:D,ez:R}=this,v=u(x*x),U=u(D*D),K=u(Im*u(R*R)),Q=u(w*v),J=x+D,re=u(u(J*J)-v-U),le=Q+U,Y=le-K,de=Q-U,se=u(re*Y),ge=u(le*de),ze=u(re*de),q=u(Y*le);return new I(se,ge,q,ze)}add(w){y(w);const{a:x,d:D}=e,{ex:R,ey:v,ez:U,et:K}=this,{ex:Q,ey:J,ez:re,et:le}=w;if(x===BigInt(-1)){const we=u((v-R)*(J+Q)),Ee=u((v+R)*(J-Q)),pe=u(Ee-we);if(pe===Ni)return this.double();const Ce=u(U*Im*le),Ne=u(K*Im*re),Se=Ne+Ce,Ie=Ee+we,it=Ne-Ce,F=u(Se*pe),_=u(Ie*it),P=u(Se*it),z=u(pe*Ie);return new I(F,_,z,P)}const Y=u(R*Q),de=u(v*J),se=u(K*D*le),ge=u(U*re),ze=u((R+v)*(Q+J)-Y-de),q=ge-se,V=ge+se,ee=u(de-x*Y),ce=u(ze*q),ue=u(V*ee),me=u(ze*ee),ve=u(q*V);return new I(ce,ue,ve,me)}subtract(w){return this.add(w.negate())}wNAF(w){return k.wNAFCached(this,w,I.normalizeZ)}multiply(w){const x=w;np("scalar",x,gs,n);const{p:D,f:R}=this.wNAF(x);return I.normalizeZ([D,R])[0]}multiplyUnsafe(w,x=I.ZERO){const D=w;return np("scalar",D,Ni,n),D===Ni?N:this.is0()||D===gs?this:k.wNAFCachedUnsafe(this,D,I.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(w){return E(this,w)}clearCofactor(){const{h:w}=e;return w===gs?this:this.multiplyUnsafe(w)}static fromHex(w,x=!1){const{d:D,a:R}=e,v=r.BYTES;w=Yo("pointHex",w,v),fv("zip215",x);const U=w.slice(),K=w[v-1];U[v-1]=K&-129;const Q=fy(U),J=x?l:r.ORDER;np("pointHex.y",Q,Ni,J);const re=u(Q*Q),le=u(re-gs),Y=u(D*re-R);let{isValid:de,value:se}=d(le,Y);if(!de)throw new Error("Point.fromHex: invalid y coordinate");const ge=(se&gs)===gs,ze=(K&128)!==0;if(!x&&se===Ni&&ze)throw new Error("Point.fromHex: x=0 and x_0=1");return ze!==ge&&(se=u(-se)),I.fromAffine({x:se,y:Q})}static fromPrivateKey(w){return $(w).point}toRawBytes(){const{x:w,y:x}=this.toAffine(),D=EE(x,r.BYTES);return D[D.length-1]|=w&gs?128:0,D}toHex(){return f_(this.toRawBytes())}}I.BASE=new I(e.Gx,e.Gy,gs,u(e.Gx*e.Gy)),I.ZERO=new I(Ni,gs,gs,Ni);const{BASE:T,ZERO:N}=I,k=DK(I,a*8);function B(b){return sn(b,n)}function L(b){return B(fy(b))}function $(b){const w=r.BYTES;b=Yo("private key",b,w);const x=Yo("hashed private key",i(b),2*w),D=h(x.slice(0,w)),R=x.slice(w,2*w),v=L(D),U=T.multiply(v),K=U.toRawBytes();return{head:D,prefix:R,scalar:v,point:U,pointBytes:K}}function j(b){return $(b).pointBytes}function O(b=new Uint8Array,...w){const x=W6(...w);return L(i(p(x,Yo("context",b),!!s)))}function m(b,w,x={}){b=Yo("message",b),s&&(b=s(b));const{prefix:D,scalar:R,pointBytes:v}=$(w),U=O(x.context,D,b),K=T.multiply(U).toRawBytes(),Q=O(x.context,K,v,b),J=B(U+Q*R);np("signature.s",J,Ni,n);const re=W6(K,EE(J,r.BYTES));return Yo("result",re,r.BYTES*2)}const A=$K;function S(b,w,x,D=A){const{context:R,zip215:v}=D,U=r.BYTES;b=Yo("signature",b,2*U),w=Yo("message",w),x=Yo("publicKey",x,U),v!==void 0&&fv("zip215",v),s&&(w=s(w));const K=fy(b.slice(U,2*U));let Q,J,re;try{Q=I.fromHex(x,v),J=I.fromHex(b.slice(0,U),v),re=T.multiplyUnsafe(K)}catch{return!1}if(!v&&Q.isSmallOrder())return!1;const le=O(R,J.toRawBytes(),Q.toRawBytes(),w);return J.add(Q.multiplyUnsafe(le)).subtract(re).clearCofactor().equals(I.ZERO)}return T._setWindowSize(8),{CURVE:e,getPublicKey:j,sign:m,verify:S,ExtendedPoint:I,utils:{getExtendedPublicKey:$,randomPrivateKey:()=>o(r.BYTES),precompute(b=8,w=I.BASE){return w._setWindowSize(b),w.multiply(BigInt(3)),w}}}}BigInt(0),BigInt(1);const h_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Z6=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const jK=BigInt(1),X6=BigInt(2);BigInt(3);const HK=BigInt(5),zK=BigInt(8);function qK(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=h_,o=t*t%i*t%i,a=ao(o,X6,i)*o%i,c=ao(a,jK,i)*t%i,l=ao(c,HK,i)*c%i,u=ao(l,e,i)*l%i,f=ao(u,r,i)*u%i,d=ao(f,n,i)*f%i,h=ao(d,s,i)*d%i,p=ao(h,s,i)*d%i,g=ao(p,e,i)*l%i;return{pow_p_5_8:ao(g,X6,i)*t%i,b2:o}}function VK(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function WK(t,e){const r=h_,n=sn(e*e*e,r),s=sn(n*n*e,r),i=qK(t*s).pow_p_5_8;let o=sn(t*n*i,r);const a=sn(e*o*o,r),c=o,l=sn(o*Z6,r),u=a===t,f=a===sn(-t,r),d=a===sn(-t*Z6,r);return u&&(o=c),(f||d)&&(o=l),IK(o,r)&&(o=sn(-o,r)),{isValid:u||f,value:o}}const KK=yO(h_,void 0,!0),GK={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:KK,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:zK,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gK,randomBytes:uO,adjustScalarBytes:VK,uvRatio:WK},vO=FK(GK),JK="EdDSA",YK="JWT",nb=".",ww="base64url",EO="utf8",AO="utf8",QK=":",ZK="did",XK="key",e4="base58btc",eG="z",tG="K36",rG=32;function p_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _O(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?p_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function CO(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=_O(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return p_(r)}function nG(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,E=0,C=p.length;E!==C&&p[E]===0;)E++,g++;for(var I=(C-E)*u+1>>>0,T=new Uint8Array(I);E!==C;){for(var N=p[E],k=0,B=I-1;(N!==0||k<y)&&B!==-1;B--,k++)N+=256*T[B]>>>0,T[B]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");y=k,E++}for(var L=I-y;L!==I&&T[L]===0;)L++;for(var $=c.repeat(g);L<I;++L)$+=t.charAt(T[L]);return $}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,E=0;p[g]===c;)y++,g++;for(var C=(p.length-g)*l+1>>>0,I=new Uint8Array(C);p[g];){var T=r[p.charCodeAt(g)];if(T===255)return;for(var N=0,k=C-1;(T!==0||N<E)&&k!==-1;k--,N++)T+=a*I[k]>>>0,I[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=N,g++}if(p[g]!==" "){for(var B=C-E;B!==C&&I[B]===0;)B++;for(var L=new Uint8Array(y+(C-B)),$=y;B!==C;)L[$++]=I[B++];return L}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var sG=nG,iG=sG;const SO=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oG=t=>new TextEncoder().encode(t),aG=t=>new TextDecoder().decode(t);let cG=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},lG=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return xO(this,e)}},uG=class{constructor(e){this.decoders=e}or(e){return xO(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const xO=(t,e)=>new uG({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let fG=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new cG(e,r,n),this.decoder=new lG(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const vw=({name:t,prefix:e,encode:r,decode:n})=>new fG(t,e,r,n),Hg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=iG(r,e);return vw({prefix:t,name:e,encode:n,decode:i=>SO(s(i))})},dG=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},hG=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},On=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>vw({prefix:e,name:t,encode(s){return hG(s,n,r)},decode(s){return dG(s,n,r,t)}}),pG=vw({prefix:"\0",name:"identity",encode:t=>aG(t),decode:t=>oG(t)});var gG=Object.freeze({__proto__:null,identity:pG});const mG=On({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var yG=Object.freeze({__proto__:null,base2:mG});const bG=On({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wG=Object.freeze({__proto__:null,base8:bG});const vG=Hg({prefix:"9",name:"base10",alphabet:"0123456789"});var EG=Object.freeze({__proto__:null,base10:vG});const AG=On({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_G=On({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var CG=Object.freeze({__proto__:null,base16:AG,base16upper:_G});const SG=On({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xG=On({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),IG=On({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TG=On({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),NG=On({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),PG=On({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),OG=On({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),RG=On({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kG=On({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var DG=Object.freeze({__proto__:null,base32:SG,base32upper:xG,base32pad:IG,base32padupper:TG,base32hex:NG,base32hexupper:PG,base32hexpad:OG,base32hexpadupper:RG,base32z:kG});const MG=Hg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BG=Hg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var UG=Object.freeze({__proto__:null,base36:MG,base36upper:BG});const $G=Hg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),LG=Hg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var FG=Object.freeze({__proto__:null,base58btc:$G,base58flickr:LG});const jG=On({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),HG=On({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),zG=On({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qG=On({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var VG=Object.freeze({__proto__:null,base64:jG,base64pad:HG,base64url:zG,base64urlpad:qG});const IO=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),WG=IO.reduce((t,e,r)=>(t[r]=e,t),[]),KG=IO.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function GG(t){return t.reduce((e,r)=>(e+=WG[r],e),"")}function JG(t){const e=[];for(const r of t){const n=KG[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const YG=vw({prefix:"🚀",name:"base256emoji",encode:GG,decode:JG});var QG=Object.freeze({__proto__:null,base256emoji:YG}),ZG=TO,t4=128,XG=-128,eJ=Math.pow(2,31);function TO(t,e,r){e=e||[],r=r||0;for(var n=r;t>=eJ;)e[r++]=t&255|t4,t/=128;for(;t&XG;)e[r++]=t&255|t4,t>>>=7;return e[r]=t|0,TO.bytes=r-n+1,e}var tJ=_E,rJ=128,r4=127;function _E(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw _E.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&r4)<<s:(o&r4)*Math.pow(2,s),s+=7}while(o>=rJ);return _E.bytes=i-n,r}var nJ=Math.pow(2,7),sJ=Math.pow(2,14),iJ=Math.pow(2,21),oJ=Math.pow(2,28),aJ=Math.pow(2,35),cJ=Math.pow(2,42),lJ=Math.pow(2,49),uJ=Math.pow(2,56),fJ=Math.pow(2,63),dJ=function(t){return t<nJ?1:t<sJ?2:t<iJ?3:t<oJ?4:t<aJ?5:t<cJ?6:t<lJ?7:t<uJ?8:t<fJ?9:10},hJ={encode:ZG,decode:tJ,encodingLength:dJ},NO=hJ;const n4=(t,e,r=0)=>(NO.encode(t,e,r),e),s4=t=>NO.encodingLength(t),CE=(t,e)=>{const r=e.byteLength,n=s4(t),s=n+s4(r),i=new Uint8Array(s+r);return n4(t,i,0),n4(r,i,n),i.set(e,s),new pJ(t,r,e,i)};let pJ=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const PO=({name:t,code:e,encode:r})=>new gJ(t,e,r);let gJ=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?CE(this.code,r):r.then(n=>CE(this.code,n))}else throw Error("Unknown type, must be binary type")}};const OO=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),mJ=PO({name:"sha2-256",code:18,encode:OO("SHA-256")}),yJ=PO({name:"sha2-512",code:19,encode:OO("SHA-512")});var bJ=Object.freeze({__proto__:null,sha256:mJ,sha512:yJ});const RO=0,wJ="identity",kO=SO,vJ=t=>CE(RO,kO(t)),EJ={code:RO,name:wJ,encode:kO,digest:vJ};var AJ=Object.freeze({__proto__:null,identity:EJ});new TextEncoder,new TextDecoder;const i4={...gG,...yG,...wG,...EG,...CG,...DG,...UG,...FG,...VG,...QG};({...bJ,...AJ});function DO(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const o4=DO("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),yv=DO("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=_O(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),MO={utf8:o4,"utf-8":o4,hex:i4.base16,latin1:yv,ascii:yv,binary:yv,...i4};function Ew(t,e="utf8"){const r=MO[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function $h(t,e="utf8"){const r=MO[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?p_(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function a4(t){return ku(Ew($h(t,ww),EO))}function sb(t){return Ew($h(Ha(t),EO),ww)}function BO(t){const e=$h(tG,e4),r=eG+Ew(CO([e,t]),e4);return[ZK,XK,r].join(QK)}function _J(t){return Ew(t,ww)}function CJ(t){return $h(t,ww)}function SJ(t){return $h([sb(t.header),sb(t.payload)].join(nb),AO)}function xJ(t){return[sb(t.header),sb(t.payload),_J(t.signature)].join(nb)}function SE(t){const e=t.split(nb),r=a4(e[0]),n=a4(e[1]),s=CJ(e[2]),i=$h(e.slice(0,2).join(nb),AO);return{header:r,payload:n,signature:s,data:i}}function c4(t=uO(rG)){const e=vO.getPublicKey(t);return{secretKey:CO([t,e]),publicKey:e}}async function IJ(t,e,r,n,s=Pe.fromMiliseconds(Date.now())){const i={alg:JK,typ:YK},o=BO(n.publicKey),a=s+r,c={iss:o,sub:t,aud:e,iat:s,exp:a},l=SJ({header:i,payload:c}),u=vO.sign(l,n.secretKey.slice(0,32));return xJ({header:i,payload:c,signature:u})}var l4=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},TJ=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),NJ=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),PJ=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),OJ=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),RJ=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),kJ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,DJ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,u4=3,MJ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",kJ]],f4=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function BJ(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new RJ:typeof navigator<"u"?$J(navigator.userAgent):FJ()}function UJ(t){return t!==""&&MJ.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function $J(t){var e=UJ(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new OJ;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<u4&&(s=l4(l4([],s,!0),jJ(u4-s.length),!0)):s=[];var i=s.join("."),o=LJ(t),a=DJ.exec(t);return a&&a[1]?new PJ(r,i,o,a[1]):new TJ(r,i,o)}function LJ(t){for(var e=0,r=f4.length;e<r;e++){var n=f4[e],s=n[0],i=n[1],o=i.exec(t);if(o)return s}return null}function FJ(){var t=typeof process<"u"&&process.version;return t?new NJ(process.version.slice(1)):null}function jJ(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var ar={},d4;function UO(){if(d4)return ar;d4=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.getLocalStorage=ar.getLocalStorageOrThrow=ar.getCrypto=ar.getCryptoOrThrow=ar.getLocation=ar.getLocationOrThrow=ar.getNavigator=ar.getNavigatorOrThrow=ar.getDocument=ar.getDocumentOrThrow=ar.getFromWindowOrThrow=ar.getFromWindow=void 0;function t(d){let h;return typeof window<"u"&&typeof window[d]<"u"&&(h=window[d]),h}ar.getFromWindow=t;function e(d){const h=t(d);if(!h)throw new Error(`${d} is not defined in Window`);return h}ar.getFromWindowOrThrow=e;function r(){return e("document")}ar.getDocumentOrThrow=r;function n(){return t("document")}ar.getDocument=n;function s(){return e("navigator")}ar.getNavigatorOrThrow=s;function i(){return t("navigator")}ar.getNavigator=i;function o(){return e("location")}ar.getLocationOrThrow=o;function a(){return t("location")}ar.getLocation=a;function c(){return e("crypto")}ar.getCryptoOrThrow=c;function l(){return t("crypto")}ar.getCrypto=l;function u(){return e("localStorage")}ar.getLocalStorageOrThrow=u;function f(){return t("localStorage")}return ar.getLocalStorage=f,ar}var Du=UO(),sp={},h4;function HJ(){if(h4)return sp;h4=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.getWindowMetadata=void 0;const t=UO();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function s(){const h=r.getElementsByTagName("link"),p=[];for(let g=0;g<h.length;g++){const y=h[g],E=y.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const C=y.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let I=n.protocol+"//"+n.host;if(C.indexOf("/")===0)I+=C;else{const T=n.pathname.split("/");T.pop();const N=T.join("/");I+=N+"/"+C}p.push(I)}else if(C.indexOf("//")===0){const I=n.protocol+C;p.push(I)}else p.push(C)}}return p}function i(...h){const p=r.getElementsByTagName("meta");for(let g=0;g<p.length;g++){const y=p[g],E=["itemprop","property","name"].map(C=>y.getAttribute(C)).filter(C=>C?h.includes(C):!1);if(E.length&&E){const C=y.getAttribute("content");if(C)return C}}return""}function o(){let h=i("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,f=s();return{description:l,url:u,icons:f,name:c}}return sp.getWindowMetadata=e,sp}var zJ=HJ();function S0(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function p4(t){return S0(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const $O="2.23.2";let ip={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${$O}`},Aw=class xE extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof xE?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof xE&&r.cause.docsPath||r.docsPath,i=(a=ip.getDocsUrl)==null?void 0:a.call(ip,{...r,docsPath:s}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...ip.version?[`Version: ${ip.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=$O}walk(e){return LO(this,e)}};function LO(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?LO(t.cause,e):e?null:t}let FO=class extends Aw{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function Lh(t,{dir:e,size:r=32}={}){return typeof t=="string"?qJ(t,{dir:e,size:r}):VJ(t,{dir:e,size:r})}function qJ(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new FO({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function VJ(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new FO({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i=e==="right";n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}let WJ=class extends Aw{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},KJ=class extends Aw{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Fh(t,{size:e}){if(p4(t)>e)throw new KJ({givenSize:p4(t),maxSize:e})}function IE(t,e={}){const{signed:r}=e;e.size&&Fh(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function GJ(t,e={}){return Number(IE(t,e))}const JJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function TE(t,e={}){return typeof t=="number"||typeof t=="bigint"?HO(t,e):typeof t=="string"?ZJ(t,e):typeof t=="boolean"?YJ(t,e):jO(t,e)}function YJ(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Fh(r,{size:e.size}),Lh(r,{size:e.size})):r}function jO(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=JJ[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(Fh(n,{size:e.size}),Lh(n,{dir:"right",size:e.size})):n}function HO(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new WJ({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?Lh(a,{size:n}):a}const QJ=new TextEncoder;function ZJ(t,e={}){const r=QJ.encode(t);return jO(r,e)}const XJ=new TextEncoder;function eY(t,e={}){return typeof t=="number"||typeof t=="bigint"?rY(t,e):typeof t=="boolean"?tY(t,e):S0(t)?zO(t,e):qO(t,e)}function tY(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Fh(r,{size:e.size}),Lh(r,{size:e.size})):r}const Qo={zero:48,nine:57,A:65,F:70,a:97,f:102};function g4(t){if(t>=Qo.zero&&t<=Qo.nine)return t-Qo.zero;if(t>=Qo.A&&t<=Qo.F)return t-(Qo.A-10);if(t>=Qo.a&&t<=Qo.f)return t-(Qo.a-10)}function zO(t,e={}){let r=t;e.size&&(Fh(r,{size:e.size}),r=Lh(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=n.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=g4(n.charCodeAt(a++)),l=g4(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Aw(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);i[o]=c*16+l}return i}function rY(t,e){const r=HO(t,e);return zO(r)}function qO(t,e={}){const r=XJ.encode(t);return typeof e.size=="number"?(Fh(r,{size:e.size}),Lh(r,{dir:"right",size:e.size})):r}function ib(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function nY(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zg(t,...e){if(!nY(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function bve(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ib(t.outputLen),ib(t.blockLen)}function m4(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sY(t,e){zg(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Tm=BigInt(2**32-1),y4=BigInt(32);function iY(t,e=!1){return e?{h:Number(t&Tm),l:Number(t>>y4&Tm)}:{h:Number(t>>y4&Tm)|0,l:Number(t&Tm)|0}}function oY(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=iY(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const aY=(t,e,r)=>t<<r|e>>>32-r,cY=(t,e,r)=>e<<r|t>>>32-r,lY=(t,e,r)=>e<<r-32|t>>>64-r,uY=(t,e,r)=>t<<r-32|e>>>64-r,gf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fY(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function wve(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vve(t,e){return t<<32-e|t>>>e}const b4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function dY(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function w4(t){for(let e=0;e<t.length;e++)t[e]=dY(t[e])}const hY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Eve(t){zg(t);let e="";for(let r=0;r<t.length;r++)e+=hY[t[r]];return e}function pY(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function VO(t){return typeof t=="string"&&(t=pY(t)),zg(t),t}function Ave(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];zg(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}let gY=class{clone(){return this._cloneInto()}};function mY(t){const e=n=>t().update(VO(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Cve(t=32){if(gf&&typeof gf.getRandomValues=="function")return gf.getRandomValues(new Uint8Array(t));if(gf&&typeof gf.randomBytes=="function")return gf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const WO=[],KO=[],GO=[],yY=BigInt(0),op=BigInt(1),bY=BigInt(2),wY=BigInt(7),vY=BigInt(256),EY=BigInt(113);for(let t=0,e=op,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],WO.push(2*(5*n+r)),KO.push((t+1)*(t+2)/2%64);let s=yY;for(let i=0;i<7;i++)e=(e<<op^(e>>wY)*EY)%vY,e&bY&&(s^=op<<(op<<BigInt(i))-op);GO.push(s)}const[AY,_Y]=oY(GO,!0),v4=(t,e,r)=>r>32?lY(t,e,r):aY(t,e,r),E4=(t,e,r)=>r>32?uY(t,e,r):cY(t,e,r);function CY(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=v4(l,u,1)^r[a],d=E4(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=KO[o],c=v4(s,i,a),l=E4(s,i,a),u=WO[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=AY[n],t[1]^=_Y[n]}r.fill(0)}let SY=class JO extends gY{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ib(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fY(this.state)}keccak(){b4||w4(this.state32),CY(this.state32,this.rounds),b4||w4(this.state32),this.posOut=0,this.pos=0}update(e){m4(this);const{blockLen:r,state:n}=this;e=VO(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){m4(this,!1),zg(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ib(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(sY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new JO(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const xY=(t,e,r)=>mY(()=>new SY(e,t,r)),IY=xY(1,136,256/8);function YO(t,e){const r=e||"hex",n=IY(S0(t,{strict:!1})?eY(t):t);return r==="bytes"?n:TE(n)}let TY=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const bv=new TY(8192);function NY(t,e){if(bv.has(`${t}.${e}`))return bv.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=YO(qO(r),"bytes"),s=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return bv.set(`${t}.${e}`,i),i}function PY(t){const e=YO(`0x${t.substring(4)}`).substring(26);return NY(`0x${e}`)}const OY="modulepreload",RY=function(t,e){return new URL(t,e).href},A4={},es=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=RY(l,n),l in A4)return;A4[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!n)for(let p=o.length-1;p>=0;p--){const g=o[p];if(g.href===l&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":OY,u||(h.as="script"),h.crossOrigin="",h.href=l,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function kY({hash:t,signature:e}){const r=S0(t)?t:TE(t),{secp256k1:n}=await es(async()=>{const{secp256k1:o}=await import("./secp256k1-cTDP0q_r.js");return{secp256k1:o}},__vite__mapDeps([0,1]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:f,yParity:d}=e,h=Number(d??f),p=_4(h);return new n.Signature(IE(l),IE(u)).addRecoveryBit(p)}const o=S0(e)?e:TE(e),a=GJ(`0x${o.slice(130)}`),c=_4(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function _4(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function DY({hash:t,signature:e}){return PY(await kY({hash:t,signature:e}))}function MY(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const p=(h-d)*i+1>>>0,g=new Uint8Array(p);for(;d!==h;){let C=l[d],I=0;for(let T=p-1;(C!==0||I<f)&&T!==-1;T--,I++)C+=256*g[T]>>>0,g[T]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");f=I,d++}let y=p-f;for(;y!==p&&g[y]===0;)y++;let E=n.repeat(u);for(;y<p;++y)E+=t.charAt(g[y]);return E}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===n;)f++,u++;const h=(l.length-u)*s+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const C=l.charCodeAt(u);if(C>255)return;let I=e[C];if(I===255)return;let T=0;for(let N=h-1;(I!==0||T<d)&&N!==-1;N--,T++)I+=r*p[N]>>>0,p[N]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");d=T,u++}let g=h-d;for(;g!==h&&p[g]===0;)g++;const y=new Uint8Array(f+(h-g));let E=f;for(;g!==h;)y[E++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var BY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const UY=MY(BY);function QO(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function wv(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=QO(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function $Y(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,E=0,C=p.length;E!==C&&p[E]===0;)E++,g++;for(var I=(C-E)*u+1>>>0,T=new Uint8Array(I);E!==C;){for(var N=p[E],k=0,B=I-1;(N!==0||k<y)&&B!==-1;B--,k++)N+=256*T[B]>>>0,T[B]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");y=k,E++}for(var L=I-y;L!==I&&T[L]===0;)L++;for(var $=c.repeat(g);L<I;++L)$+=t.charAt(T[L]);return $}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,E=0;p[g]===c;)y++,g++;for(var C=(p.length-g)*l+1>>>0,I=new Uint8Array(C);p[g];){var T=r[p.charCodeAt(g)];if(T===255)return;for(var N=0,k=C-1;(T!==0||N<E)&&k!==-1;k--,N++)T+=a*I[k]>>>0,I[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=N,g++}if(p[g]!==" "){for(var B=C-E;B!==C&&I[B]===0;)B++;for(var L=new Uint8Array(y+(C-B)),$=y;B!==C;)L[$++]=I[B++];return L}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var LY=$Y,FY=LY;const jY=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},HY=t=>new TextEncoder().encode(t),zY=t=>new TextDecoder().decode(t);class qY{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class VY{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ZO(this,e)}}class WY{constructor(e){this.decoders=e}or(e){return ZO(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ZO=(t,e)=>new WY({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class KY{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new qY(e,r,n),this.decoder=new VY(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _w=({name:t,prefix:e,encode:r,decode:n})=>new KY(t,e,r,n),qg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=FY(r,e);return _w({prefix:t,name:e,encode:n,decode:i=>jY(s(i))})},GY=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},JY=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Rn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>_w({prefix:e,name:t,encode(s){return JY(s,n,r)},decode(s){return GY(s,n,r,t)}}),YY=_w({prefix:"\0",name:"identity",encode:t=>zY(t),decode:t=>HY(t)}),QY=Object.freeze(Object.defineProperty({__proto__:null,identity:YY},Symbol.toStringTag,{value:"Module"})),ZY=Rn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),XY=Object.freeze(Object.defineProperty({__proto__:null,base2:ZY},Symbol.toStringTag,{value:"Module"})),eQ=Rn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),tQ=Object.freeze(Object.defineProperty({__proto__:null,base8:eQ},Symbol.toStringTag,{value:"Module"})),rQ=qg({prefix:"9",name:"base10",alphabet:"0123456789"}),nQ=Object.freeze(Object.defineProperty({__proto__:null,base10:rQ},Symbol.toStringTag,{value:"Module"})),sQ=Rn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iQ=Rn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),oQ=Object.freeze(Object.defineProperty({__proto__:null,base16:sQ,base16upper:iQ},Symbol.toStringTag,{value:"Module"})),aQ=Rn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cQ=Rn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lQ=Rn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uQ=Rn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fQ=Rn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dQ=Rn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hQ=Rn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pQ=Rn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gQ=Rn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mQ=Object.freeze(Object.defineProperty({__proto__:null,base32:aQ,base32hex:fQ,base32hexpad:hQ,base32hexpadupper:pQ,base32hexupper:dQ,base32pad:lQ,base32padupper:uQ,base32upper:cQ,base32z:gQ},Symbol.toStringTag,{value:"Module"})),yQ=qg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),bQ=qg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),wQ=Object.freeze(Object.defineProperty({__proto__:null,base36:yQ,base36upper:bQ},Symbol.toStringTag,{value:"Module"})),vQ=qg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),EQ=qg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),AQ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:vQ,base58flickr:EQ},Symbol.toStringTag,{value:"Module"})),_Q=Rn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),CQ=Rn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),SQ=Rn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xQ=Rn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),IQ=Object.freeze(Object.defineProperty({__proto__:null,base64:_Q,base64pad:CQ,base64url:SQ,base64urlpad:xQ},Symbol.toStringTag,{value:"Module"})),XO=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),TQ=XO.reduce((t,e,r)=>(t[r]=e,t),[]),NQ=XO.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function PQ(t){return t.reduce((e,r)=>(e+=TQ[r],e),"")}function OQ(t){const e=[];for(const r of t){const n=NQ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const RQ=_w({prefix:"🚀",name:"base256emoji",encode:PQ,decode:OQ}),kQ=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:RQ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const C4={...QY,...XY,...tQ,...nQ,...oQ,...mQ,...wQ,...AQ,...IQ,...kQ};function eR(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const S4=eR("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),vv=eR("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=QO(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),tR={utf8:S4,"utf-8":S4,hex:C4.base16,latin1:vv,ascii:vv,binary:vv,...C4};function yi(t,e="utf8"){const r=tR[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function us(t,e="utf8"){const r=tR[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var Ev={};const DQ="6.6.1",MQ={version:DQ};var Av={},dy={exports:{}};const BQ={},UQ=Object.freeze(Object.defineProperty({__proto__:null,default:BQ},Symbol.toStringTag,{value:"Module"})),rR=I3(UQ);var $Q=dy.exports,x4;function Ga(){return x4||(x4=1,function(t){(function(e,r){function n(O,m){if(!O)throw new Error(m||"Assertion failed")}function s(O,m){O.super_=m;var A=function(){};A.prototype=m.prototype,O.prototype=new A,O.prototype.constructor=O}function i(O,m,A){if(i.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((m==="le"||m==="be")&&(A=m,m=10),this._init(O||0,m||10,A||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=rR.Buffer}catch{}i.isBN=function(m){return m instanceof i?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===i.wordSize&&Array.isArray(m.words)},i.max=function(m,A){return m.cmp(A)>0?m:A},i.min=function(m,A){return m.cmp(A)<0?m:A},i.prototype._init=function(m,A,S){if(typeof m=="number")return this._initNumber(m,A,S);if(typeof m=="object")return this._initArray(m,A,S);A==="hex"&&(A=16),n(A===(A|0)&&A>=2&&A<=36),m=m.toString().replace(/\s+/g,"");var b=0;m[0]==="-"&&(b++,this.negative=1),b<m.length&&(A===16?this._parseHex(m,b,S):(this._parseBase(m,A,b),S==="le"&&this._initArray(this.toArray(),A,S)))},i.prototype._initNumber=function(m,A,S){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(n(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),A,S)},i.prototype._initArray=function(m,A,S){if(n(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w,x,D=0;if(S==="be")for(b=m.length-1,w=0;b>=0;b-=3)x=m[b]|m[b-1]<<8|m[b-2]<<16,this.words[w]|=x<<D&67108863,this.words[w+1]=x>>>26-D&67108863,D+=24,D>=26&&(D-=26,w++);else if(S==="le")for(b=0,w=0;b<m.length;b+=3)x=m[b]|m[b+1]<<8|m[b+2]<<16,this.words[w]|=x<<D&67108863,this.words[w+1]=x>>>26-D&67108863,D+=24,D>=26&&(D-=26,w++);return this.strip()};function a(O,m){var A=O.charCodeAt(m);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function c(O,m,A){var S=a(O,A);return A-1>=m&&(S|=a(O,A-1)<<4),S}i.prototype._parseHex=function(m,A,S){this.length=Math.ceil((m.length-A)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w=0,x=0,D;if(S==="be")for(b=m.length-1;b>=A;b-=2)D=c(m,A,b)<<w,this.words[x]|=D&67108863,w>=18?(w-=18,x+=1,this.words[x]|=D>>>26):w+=8;else{var R=m.length-A;for(b=R%2===0?A+1:A;b<m.length;b+=2)D=c(m,A,b)<<w,this.words[x]|=D&67108863,w>=18?(w-=18,x+=1,this.words[x]|=D>>>26):w+=8}this.strip()};function l(O,m,A,S){for(var b=0,w=Math.min(O.length,A),x=m;x<w;x++){var D=O.charCodeAt(x)-48;b*=S,D>=49?b+=D-49+10:D>=17?b+=D-17+10:b+=D}return b}i.prototype._parseBase=function(m,A,S){this.words=[0],this.length=1;for(var b=0,w=1;w<=67108863;w*=A)b++;b--,w=w/A|0;for(var x=m.length-S,D=x%b,R=Math.min(x,x-D)+S,v=0,U=S;U<R;U+=b)v=l(m,U,U+b,A),this.imuln(w),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(D!==0){var K=1;for(v=l(m,U,m.length,A),U=0;U<D;U++)K*=A;this.imuln(K),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}this.strip()},i.prototype.copy=function(m){m.words=new Array(this.length);for(var A=0;A<this.length;A++)m.words[A]=this.words[A];m.length=this.length,m.negative=this.negative,m.red=this.red},i.prototype.clone=function(){var m=new i(null);return this.copy(m),m},i.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(m,A){m=m||10,A=A|0||1;var S;if(m===16||m==="hex"){S="";for(var b=0,w=0,x=0;x<this.length;x++){var D=this.words[x],R=((D<<b|w)&16777215).toString(16);w=D>>>24-b&16777215,b+=2,b>=26&&(b-=26,x--),w!==0||x!==this.length-1?S=u[6-R.length]+R+S:S=R+S}for(w!==0&&(S=w.toString(16)+S);S.length%A!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(m===(m|0)&&m>=2&&m<=36){var v=f[m],U=d[m];S="";var K=this.clone();for(K.negative=0;!K.isZero();){var Q=K.modn(U).toString(m);K=K.idivn(U),K.isZero()?S=Q+S:S=u[v-Q.length]+Q+S}for(this.isZero()&&(S="0"+S);S.length%A!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(m,A){return n(typeof o<"u"),this.toArrayLike(o,m,A)},i.prototype.toArray=function(m,A){return this.toArrayLike(Array,m,A)},i.prototype.toArrayLike=function(m,A,S){var b=this.byteLength(),w=S||Math.max(1,b);n(b<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var x=A==="le",D=new m(w),R,v,U=this.clone();if(x){for(v=0;!U.isZero();v++)R=U.andln(255),U.iushrn(8),D[v]=R;for(;v<w;v++)D[v]=0}else{for(v=0;v<w-b;v++)D[v]=0;for(v=0;!U.isZero();v++)R=U.andln(255),U.iushrn(8),D[w-v-1]=R}return D},Math.clz32?i.prototype._countBits=function(m){return 32-Math.clz32(m)}:i.prototype._countBits=function(m){var A=m,S=0;return A>=4096&&(S+=13,A>>>=13),A>=64&&(S+=7,A>>>=7),A>=8&&(S+=4,A>>>=4),A>=2&&(S+=2,A>>>=2),S+A},i.prototype._zeroBits=function(m){if(m===0)return 26;var A=m,S=0;return(A&8191)===0&&(S+=13,A>>>=13),(A&127)===0&&(S+=7,A>>>=7),(A&15)===0&&(S+=4,A>>>=4),(A&3)===0&&(S+=2,A>>>=2),(A&1)===0&&S++,S},i.prototype.bitLength=function(){var m=this.words[this.length-1],A=this._countBits(m);return(this.length-1)*26+A};function h(O){for(var m=new Array(O.bitLength()),A=0;A<m.length;A++){var S=A/26|0,b=A%26;m[A]=(O.words[S]&1<<b)>>>b}return m}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,A=0;A<this.length;A++){var S=this._zeroBits(this.words[A]);if(m+=S,S!==26)break}return m},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},i.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var A=0;A<m.length;A++)this.words[A]=this.words[A]|m.words[A];return this.strip()},i.prototype.ior=function(m){return n((this.negative|m.negative)===0),this.iuor(m)},i.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},i.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},i.prototype.iuand=function(m){var A;this.length>m.length?A=m:A=this;for(var S=0;S<A.length;S++)this.words[S]=this.words[S]&m.words[S];return this.length=A.length,this.strip()},i.prototype.iand=function(m){return n((this.negative|m.negative)===0),this.iuand(m)},i.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},i.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},i.prototype.iuxor=function(m){var A,S;this.length>m.length?(A=this,S=m):(A=m,S=this);for(var b=0;b<S.length;b++)this.words[b]=A.words[b]^S.words[b];if(this!==A)for(;b<A.length;b++)this.words[b]=A.words[b];return this.length=A.length,this.strip()},i.prototype.ixor=function(m){return n((this.negative|m.negative)===0),this.iuxor(m)},i.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},i.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},i.prototype.inotn=function(m){n(typeof m=="number"&&m>=0);var A=Math.ceil(m/26)|0,S=m%26;this._expand(A),S>0&&A--;for(var b=0;b<A;b++)this.words[b]=~this.words[b]&67108863;return S>0&&(this.words[b]=~this.words[b]&67108863>>26-S),this.strip()},i.prototype.notn=function(m){return this.clone().inotn(m)},i.prototype.setn=function(m,A){n(typeof m=="number"&&m>=0);var S=m/26|0,b=m%26;return this._expand(S+1),A?this.words[S]=this.words[S]|1<<b:this.words[S]=this.words[S]&~(1<<b),this.strip()},i.prototype.iadd=function(m){var A;if(this.negative!==0&&m.negative===0)return this.negative=0,A=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,A=this.isub(m),m.negative=1,A._normSign();var S,b;this.length>m.length?(S=this,b=m):(S=m,b=this);for(var w=0,x=0;x<b.length;x++)A=(S.words[x]|0)+(b.words[x]|0)+w,this.words[x]=A&67108863,w=A>>>26;for(;w!==0&&x<S.length;x++)A=(S.words[x]|0)+w,this.words[x]=A&67108863,w=A>>>26;if(this.length=S.length,w!==0)this.words[this.length]=w,this.length++;else if(S!==this)for(;x<S.length;x++)this.words[x]=S.words[x];return this},i.prototype.add=function(m){var A;return m.negative!==0&&this.negative===0?(m.negative=0,A=this.sub(m),m.negative^=1,A):m.negative===0&&this.negative!==0?(this.negative=0,A=m.sub(this),this.negative=1,A):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},i.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var A=this.iadd(m);return m.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var S=this.cmp(m);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,w;S>0?(b=this,w=m):(b=m,w=this);for(var x=0,D=0;D<w.length;D++)A=(b.words[D]|0)-(w.words[D]|0)+x,x=A>>26,this.words[D]=A&67108863;for(;x!==0&&D<b.length;D++)A=(b.words[D]|0)+x,x=A>>26,this.words[D]=A&67108863;if(x===0&&D<b.length&&b!==this)for(;D<b.length;D++)this.words[D]=b.words[D];return this.length=Math.max(this.length,D),b!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(m){return this.clone().isub(m)};function p(O,m,A){A.negative=m.negative^O.negative;var S=O.length+m.length|0;A.length=S,S=S-1|0;var b=O.words[0]|0,w=m.words[0]|0,x=b*w,D=x&67108863,R=x/67108864|0;A.words[0]=D;for(var v=1;v<S;v++){for(var U=R>>>26,K=R&67108863,Q=Math.min(v,m.length-1),J=Math.max(0,v-O.length+1);J<=Q;J++){var re=v-J|0;b=O.words[re]|0,w=m.words[J]|0,x=b*w+K,U+=x/67108864|0,K=x&67108863}A.words[v]=K|0,R=U|0}return R!==0?A.words[v]=R|0:A.length--,A.strip()}var g=function(m,A,S){var b=m.words,w=A.words,x=S.words,D=0,R,v,U,K=b[0]|0,Q=K&8191,J=K>>>13,re=b[1]|0,le=re&8191,Y=re>>>13,de=b[2]|0,se=de&8191,ge=de>>>13,ze=b[3]|0,q=ze&8191,V=ze>>>13,ee=b[4]|0,ce=ee&8191,ue=ee>>>13,me=b[5]|0,ve=me&8191,we=me>>>13,Ee=b[6]|0,pe=Ee&8191,Ce=Ee>>>13,Ne=b[7]|0,Se=Ne&8191,Ie=Ne>>>13,it=b[8]|0,F=it&8191,_=it>>>13,P=b[9]|0,z=P&8191,Z=P>>>13,ie=w[0]|0,fe=ie&8191,Je=ie>>>13,vt=w[1]|0,Qe=vt&8191,ot=vt>>>13,qt=w[2]|0,Mr=qt&8191,Br=qt>>>13,SC=w[3]|0,Ur=SC&8191,$r=SC>>>13,xC=w[4]|0,Lr=xC&8191,Fr=xC>>>13,IC=w[5]|0,jr=IC&8191,Hr=IC>>>13,TC=w[6]|0,zr=TC&8191,qr=TC>>>13,NC=w[7]|0,Vr=NC&8191,Wr=NC>>>13,PC=w[8]|0,Kr=PC&8191,Gr=PC>>>13,OC=w[9]|0,Jr=OC&8191,Yr=OC>>>13;S.negative=m.negative^A.negative,S.length=19,R=Math.imul(Q,fe),v=Math.imul(Q,Je),v=v+Math.imul(J,fe)|0,U=Math.imul(J,Je);var u1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(u1>>>26)|0,u1&=67108863,R=Math.imul(le,fe),v=Math.imul(le,Je),v=v+Math.imul(Y,fe)|0,U=Math.imul(Y,Je),R=R+Math.imul(Q,Qe)|0,v=v+Math.imul(Q,ot)|0,v=v+Math.imul(J,Qe)|0,U=U+Math.imul(J,ot)|0;var f1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(f1>>>26)|0,f1&=67108863,R=Math.imul(se,fe),v=Math.imul(se,Je),v=v+Math.imul(ge,fe)|0,U=Math.imul(ge,Je),R=R+Math.imul(le,Qe)|0,v=v+Math.imul(le,ot)|0,v=v+Math.imul(Y,Qe)|0,U=U+Math.imul(Y,ot)|0,R=R+Math.imul(Q,Mr)|0,v=v+Math.imul(Q,Br)|0,v=v+Math.imul(J,Mr)|0,U=U+Math.imul(J,Br)|0;var d1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(d1>>>26)|0,d1&=67108863,R=Math.imul(q,fe),v=Math.imul(q,Je),v=v+Math.imul(V,fe)|0,U=Math.imul(V,Je),R=R+Math.imul(se,Qe)|0,v=v+Math.imul(se,ot)|0,v=v+Math.imul(ge,Qe)|0,U=U+Math.imul(ge,ot)|0,R=R+Math.imul(le,Mr)|0,v=v+Math.imul(le,Br)|0,v=v+Math.imul(Y,Mr)|0,U=U+Math.imul(Y,Br)|0,R=R+Math.imul(Q,Ur)|0,v=v+Math.imul(Q,$r)|0,v=v+Math.imul(J,Ur)|0,U=U+Math.imul(J,$r)|0;var h1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(h1>>>26)|0,h1&=67108863,R=Math.imul(ce,fe),v=Math.imul(ce,Je),v=v+Math.imul(ue,fe)|0,U=Math.imul(ue,Je),R=R+Math.imul(q,Qe)|0,v=v+Math.imul(q,ot)|0,v=v+Math.imul(V,Qe)|0,U=U+Math.imul(V,ot)|0,R=R+Math.imul(se,Mr)|0,v=v+Math.imul(se,Br)|0,v=v+Math.imul(ge,Mr)|0,U=U+Math.imul(ge,Br)|0,R=R+Math.imul(le,Ur)|0,v=v+Math.imul(le,$r)|0,v=v+Math.imul(Y,Ur)|0,U=U+Math.imul(Y,$r)|0,R=R+Math.imul(Q,Lr)|0,v=v+Math.imul(Q,Fr)|0,v=v+Math.imul(J,Lr)|0,U=U+Math.imul(J,Fr)|0;var p1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(p1>>>26)|0,p1&=67108863,R=Math.imul(ve,fe),v=Math.imul(ve,Je),v=v+Math.imul(we,fe)|0,U=Math.imul(we,Je),R=R+Math.imul(ce,Qe)|0,v=v+Math.imul(ce,ot)|0,v=v+Math.imul(ue,Qe)|0,U=U+Math.imul(ue,ot)|0,R=R+Math.imul(q,Mr)|0,v=v+Math.imul(q,Br)|0,v=v+Math.imul(V,Mr)|0,U=U+Math.imul(V,Br)|0,R=R+Math.imul(se,Ur)|0,v=v+Math.imul(se,$r)|0,v=v+Math.imul(ge,Ur)|0,U=U+Math.imul(ge,$r)|0,R=R+Math.imul(le,Lr)|0,v=v+Math.imul(le,Fr)|0,v=v+Math.imul(Y,Lr)|0,U=U+Math.imul(Y,Fr)|0,R=R+Math.imul(Q,jr)|0,v=v+Math.imul(Q,Hr)|0,v=v+Math.imul(J,jr)|0,U=U+Math.imul(J,Hr)|0;var g1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(g1>>>26)|0,g1&=67108863,R=Math.imul(pe,fe),v=Math.imul(pe,Je),v=v+Math.imul(Ce,fe)|0,U=Math.imul(Ce,Je),R=R+Math.imul(ve,Qe)|0,v=v+Math.imul(ve,ot)|0,v=v+Math.imul(we,Qe)|0,U=U+Math.imul(we,ot)|0,R=R+Math.imul(ce,Mr)|0,v=v+Math.imul(ce,Br)|0,v=v+Math.imul(ue,Mr)|0,U=U+Math.imul(ue,Br)|0,R=R+Math.imul(q,Ur)|0,v=v+Math.imul(q,$r)|0,v=v+Math.imul(V,Ur)|0,U=U+Math.imul(V,$r)|0,R=R+Math.imul(se,Lr)|0,v=v+Math.imul(se,Fr)|0,v=v+Math.imul(ge,Lr)|0,U=U+Math.imul(ge,Fr)|0,R=R+Math.imul(le,jr)|0,v=v+Math.imul(le,Hr)|0,v=v+Math.imul(Y,jr)|0,U=U+Math.imul(Y,Hr)|0,R=R+Math.imul(Q,zr)|0,v=v+Math.imul(Q,qr)|0,v=v+Math.imul(J,zr)|0,U=U+Math.imul(J,qr)|0;var m1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(m1>>>26)|0,m1&=67108863,R=Math.imul(Se,fe),v=Math.imul(Se,Je),v=v+Math.imul(Ie,fe)|0,U=Math.imul(Ie,Je),R=R+Math.imul(pe,Qe)|0,v=v+Math.imul(pe,ot)|0,v=v+Math.imul(Ce,Qe)|0,U=U+Math.imul(Ce,ot)|0,R=R+Math.imul(ve,Mr)|0,v=v+Math.imul(ve,Br)|0,v=v+Math.imul(we,Mr)|0,U=U+Math.imul(we,Br)|0,R=R+Math.imul(ce,Ur)|0,v=v+Math.imul(ce,$r)|0,v=v+Math.imul(ue,Ur)|0,U=U+Math.imul(ue,$r)|0,R=R+Math.imul(q,Lr)|0,v=v+Math.imul(q,Fr)|0,v=v+Math.imul(V,Lr)|0,U=U+Math.imul(V,Fr)|0,R=R+Math.imul(se,jr)|0,v=v+Math.imul(se,Hr)|0,v=v+Math.imul(ge,jr)|0,U=U+Math.imul(ge,Hr)|0,R=R+Math.imul(le,zr)|0,v=v+Math.imul(le,qr)|0,v=v+Math.imul(Y,zr)|0,U=U+Math.imul(Y,qr)|0,R=R+Math.imul(Q,Vr)|0,v=v+Math.imul(Q,Wr)|0,v=v+Math.imul(J,Vr)|0,U=U+Math.imul(J,Wr)|0;var y1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(y1>>>26)|0,y1&=67108863,R=Math.imul(F,fe),v=Math.imul(F,Je),v=v+Math.imul(_,fe)|0,U=Math.imul(_,Je),R=R+Math.imul(Se,Qe)|0,v=v+Math.imul(Se,ot)|0,v=v+Math.imul(Ie,Qe)|0,U=U+Math.imul(Ie,ot)|0,R=R+Math.imul(pe,Mr)|0,v=v+Math.imul(pe,Br)|0,v=v+Math.imul(Ce,Mr)|0,U=U+Math.imul(Ce,Br)|0,R=R+Math.imul(ve,Ur)|0,v=v+Math.imul(ve,$r)|0,v=v+Math.imul(we,Ur)|0,U=U+Math.imul(we,$r)|0,R=R+Math.imul(ce,Lr)|0,v=v+Math.imul(ce,Fr)|0,v=v+Math.imul(ue,Lr)|0,U=U+Math.imul(ue,Fr)|0,R=R+Math.imul(q,jr)|0,v=v+Math.imul(q,Hr)|0,v=v+Math.imul(V,jr)|0,U=U+Math.imul(V,Hr)|0,R=R+Math.imul(se,zr)|0,v=v+Math.imul(se,qr)|0,v=v+Math.imul(ge,zr)|0,U=U+Math.imul(ge,qr)|0,R=R+Math.imul(le,Vr)|0,v=v+Math.imul(le,Wr)|0,v=v+Math.imul(Y,Vr)|0,U=U+Math.imul(Y,Wr)|0,R=R+Math.imul(Q,Kr)|0,v=v+Math.imul(Q,Gr)|0,v=v+Math.imul(J,Kr)|0,U=U+Math.imul(J,Gr)|0;var b1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(b1>>>26)|0,b1&=67108863,R=Math.imul(z,fe),v=Math.imul(z,Je),v=v+Math.imul(Z,fe)|0,U=Math.imul(Z,Je),R=R+Math.imul(F,Qe)|0,v=v+Math.imul(F,ot)|0,v=v+Math.imul(_,Qe)|0,U=U+Math.imul(_,ot)|0,R=R+Math.imul(Se,Mr)|0,v=v+Math.imul(Se,Br)|0,v=v+Math.imul(Ie,Mr)|0,U=U+Math.imul(Ie,Br)|0,R=R+Math.imul(pe,Ur)|0,v=v+Math.imul(pe,$r)|0,v=v+Math.imul(Ce,Ur)|0,U=U+Math.imul(Ce,$r)|0,R=R+Math.imul(ve,Lr)|0,v=v+Math.imul(ve,Fr)|0,v=v+Math.imul(we,Lr)|0,U=U+Math.imul(we,Fr)|0,R=R+Math.imul(ce,jr)|0,v=v+Math.imul(ce,Hr)|0,v=v+Math.imul(ue,jr)|0,U=U+Math.imul(ue,Hr)|0,R=R+Math.imul(q,zr)|0,v=v+Math.imul(q,qr)|0,v=v+Math.imul(V,zr)|0,U=U+Math.imul(V,qr)|0,R=R+Math.imul(se,Vr)|0,v=v+Math.imul(se,Wr)|0,v=v+Math.imul(ge,Vr)|0,U=U+Math.imul(ge,Wr)|0,R=R+Math.imul(le,Kr)|0,v=v+Math.imul(le,Gr)|0,v=v+Math.imul(Y,Kr)|0,U=U+Math.imul(Y,Gr)|0,R=R+Math.imul(Q,Jr)|0,v=v+Math.imul(Q,Yr)|0,v=v+Math.imul(J,Jr)|0,U=U+Math.imul(J,Yr)|0;var w1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(w1>>>26)|0,w1&=67108863,R=Math.imul(z,Qe),v=Math.imul(z,ot),v=v+Math.imul(Z,Qe)|0,U=Math.imul(Z,ot),R=R+Math.imul(F,Mr)|0,v=v+Math.imul(F,Br)|0,v=v+Math.imul(_,Mr)|0,U=U+Math.imul(_,Br)|0,R=R+Math.imul(Se,Ur)|0,v=v+Math.imul(Se,$r)|0,v=v+Math.imul(Ie,Ur)|0,U=U+Math.imul(Ie,$r)|0,R=R+Math.imul(pe,Lr)|0,v=v+Math.imul(pe,Fr)|0,v=v+Math.imul(Ce,Lr)|0,U=U+Math.imul(Ce,Fr)|0,R=R+Math.imul(ve,jr)|0,v=v+Math.imul(ve,Hr)|0,v=v+Math.imul(we,jr)|0,U=U+Math.imul(we,Hr)|0,R=R+Math.imul(ce,zr)|0,v=v+Math.imul(ce,qr)|0,v=v+Math.imul(ue,zr)|0,U=U+Math.imul(ue,qr)|0,R=R+Math.imul(q,Vr)|0,v=v+Math.imul(q,Wr)|0,v=v+Math.imul(V,Vr)|0,U=U+Math.imul(V,Wr)|0,R=R+Math.imul(se,Kr)|0,v=v+Math.imul(se,Gr)|0,v=v+Math.imul(ge,Kr)|0,U=U+Math.imul(ge,Gr)|0,R=R+Math.imul(le,Jr)|0,v=v+Math.imul(le,Yr)|0,v=v+Math.imul(Y,Jr)|0,U=U+Math.imul(Y,Yr)|0;var v1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(v1>>>26)|0,v1&=67108863,R=Math.imul(z,Mr),v=Math.imul(z,Br),v=v+Math.imul(Z,Mr)|0,U=Math.imul(Z,Br),R=R+Math.imul(F,Ur)|0,v=v+Math.imul(F,$r)|0,v=v+Math.imul(_,Ur)|0,U=U+Math.imul(_,$r)|0,R=R+Math.imul(Se,Lr)|0,v=v+Math.imul(Se,Fr)|0,v=v+Math.imul(Ie,Lr)|0,U=U+Math.imul(Ie,Fr)|0,R=R+Math.imul(pe,jr)|0,v=v+Math.imul(pe,Hr)|0,v=v+Math.imul(Ce,jr)|0,U=U+Math.imul(Ce,Hr)|0,R=R+Math.imul(ve,zr)|0,v=v+Math.imul(ve,qr)|0,v=v+Math.imul(we,zr)|0,U=U+Math.imul(we,qr)|0,R=R+Math.imul(ce,Vr)|0,v=v+Math.imul(ce,Wr)|0,v=v+Math.imul(ue,Vr)|0,U=U+Math.imul(ue,Wr)|0,R=R+Math.imul(q,Kr)|0,v=v+Math.imul(q,Gr)|0,v=v+Math.imul(V,Kr)|0,U=U+Math.imul(V,Gr)|0,R=R+Math.imul(se,Jr)|0,v=v+Math.imul(se,Yr)|0,v=v+Math.imul(ge,Jr)|0,U=U+Math.imul(ge,Yr)|0;var E1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(E1>>>26)|0,E1&=67108863,R=Math.imul(z,Ur),v=Math.imul(z,$r),v=v+Math.imul(Z,Ur)|0,U=Math.imul(Z,$r),R=R+Math.imul(F,Lr)|0,v=v+Math.imul(F,Fr)|0,v=v+Math.imul(_,Lr)|0,U=U+Math.imul(_,Fr)|0,R=R+Math.imul(Se,jr)|0,v=v+Math.imul(Se,Hr)|0,v=v+Math.imul(Ie,jr)|0,U=U+Math.imul(Ie,Hr)|0,R=R+Math.imul(pe,zr)|0,v=v+Math.imul(pe,qr)|0,v=v+Math.imul(Ce,zr)|0,U=U+Math.imul(Ce,qr)|0,R=R+Math.imul(ve,Vr)|0,v=v+Math.imul(ve,Wr)|0,v=v+Math.imul(we,Vr)|0,U=U+Math.imul(we,Wr)|0,R=R+Math.imul(ce,Kr)|0,v=v+Math.imul(ce,Gr)|0,v=v+Math.imul(ue,Kr)|0,U=U+Math.imul(ue,Gr)|0,R=R+Math.imul(q,Jr)|0,v=v+Math.imul(q,Yr)|0,v=v+Math.imul(V,Jr)|0,U=U+Math.imul(V,Yr)|0;var A1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(A1>>>26)|0,A1&=67108863,R=Math.imul(z,Lr),v=Math.imul(z,Fr),v=v+Math.imul(Z,Lr)|0,U=Math.imul(Z,Fr),R=R+Math.imul(F,jr)|0,v=v+Math.imul(F,Hr)|0,v=v+Math.imul(_,jr)|0,U=U+Math.imul(_,Hr)|0,R=R+Math.imul(Se,zr)|0,v=v+Math.imul(Se,qr)|0,v=v+Math.imul(Ie,zr)|0,U=U+Math.imul(Ie,qr)|0,R=R+Math.imul(pe,Vr)|0,v=v+Math.imul(pe,Wr)|0,v=v+Math.imul(Ce,Vr)|0,U=U+Math.imul(Ce,Wr)|0,R=R+Math.imul(ve,Kr)|0,v=v+Math.imul(ve,Gr)|0,v=v+Math.imul(we,Kr)|0,U=U+Math.imul(we,Gr)|0,R=R+Math.imul(ce,Jr)|0,v=v+Math.imul(ce,Yr)|0,v=v+Math.imul(ue,Jr)|0,U=U+Math.imul(ue,Yr)|0;var _1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(_1>>>26)|0,_1&=67108863,R=Math.imul(z,jr),v=Math.imul(z,Hr),v=v+Math.imul(Z,jr)|0,U=Math.imul(Z,Hr),R=R+Math.imul(F,zr)|0,v=v+Math.imul(F,qr)|0,v=v+Math.imul(_,zr)|0,U=U+Math.imul(_,qr)|0,R=R+Math.imul(Se,Vr)|0,v=v+Math.imul(Se,Wr)|0,v=v+Math.imul(Ie,Vr)|0,U=U+Math.imul(Ie,Wr)|0,R=R+Math.imul(pe,Kr)|0,v=v+Math.imul(pe,Gr)|0,v=v+Math.imul(Ce,Kr)|0,U=U+Math.imul(Ce,Gr)|0,R=R+Math.imul(ve,Jr)|0,v=v+Math.imul(ve,Yr)|0,v=v+Math.imul(we,Jr)|0,U=U+Math.imul(we,Yr)|0;var C1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(C1>>>26)|0,C1&=67108863,R=Math.imul(z,zr),v=Math.imul(z,qr),v=v+Math.imul(Z,zr)|0,U=Math.imul(Z,qr),R=R+Math.imul(F,Vr)|0,v=v+Math.imul(F,Wr)|0,v=v+Math.imul(_,Vr)|0,U=U+Math.imul(_,Wr)|0,R=R+Math.imul(Se,Kr)|0,v=v+Math.imul(Se,Gr)|0,v=v+Math.imul(Ie,Kr)|0,U=U+Math.imul(Ie,Gr)|0,R=R+Math.imul(pe,Jr)|0,v=v+Math.imul(pe,Yr)|0,v=v+Math.imul(Ce,Jr)|0,U=U+Math.imul(Ce,Yr)|0;var S1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(S1>>>26)|0,S1&=67108863,R=Math.imul(z,Vr),v=Math.imul(z,Wr),v=v+Math.imul(Z,Vr)|0,U=Math.imul(Z,Wr),R=R+Math.imul(F,Kr)|0,v=v+Math.imul(F,Gr)|0,v=v+Math.imul(_,Kr)|0,U=U+Math.imul(_,Gr)|0,R=R+Math.imul(Se,Jr)|0,v=v+Math.imul(Se,Yr)|0,v=v+Math.imul(Ie,Jr)|0,U=U+Math.imul(Ie,Yr)|0;var x1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(x1>>>26)|0,x1&=67108863,R=Math.imul(z,Kr),v=Math.imul(z,Gr),v=v+Math.imul(Z,Kr)|0,U=Math.imul(Z,Gr),R=R+Math.imul(F,Jr)|0,v=v+Math.imul(F,Yr)|0,v=v+Math.imul(_,Jr)|0,U=U+Math.imul(_,Yr)|0;var I1=(D+R|0)+((v&8191)<<13)|0;D=(U+(v>>>13)|0)+(I1>>>26)|0,I1&=67108863,R=Math.imul(z,Jr),v=Math.imul(z,Yr),v=v+Math.imul(Z,Jr)|0,U=Math.imul(Z,Yr);var T1=(D+R|0)+((v&8191)<<13)|0;return D=(U+(v>>>13)|0)+(T1>>>26)|0,T1&=67108863,x[0]=u1,x[1]=f1,x[2]=d1,x[3]=h1,x[4]=p1,x[5]=g1,x[6]=m1,x[7]=y1,x[8]=b1,x[9]=w1,x[10]=v1,x[11]=E1,x[12]=A1,x[13]=_1,x[14]=C1,x[15]=S1,x[16]=x1,x[17]=I1,x[18]=T1,D!==0&&(x[19]=D,S.length++),S};Math.imul||(g=p);function y(O,m,A){A.negative=m.negative^O.negative,A.length=O.length+m.length;for(var S=0,b=0,w=0;w<A.length-1;w++){var x=b;b=0;for(var D=S&67108863,R=Math.min(w,m.length-1),v=Math.max(0,w-O.length+1);v<=R;v++){var U=w-v,K=O.words[U]|0,Q=m.words[v]|0,J=K*Q,re=J&67108863;x=x+(J/67108864|0)|0,re=re+D|0,D=re&67108863,x=x+(re>>>26)|0,b+=x>>>26,x&=67108863}A.words[w]=D,S=x,x=b}return S!==0?A.words[w]=S:A.length--,A.strip()}function E(O,m,A){var S=new C;return S.mulp(O,m,A)}i.prototype.mulTo=function(m,A){var S,b=this.length+m.length;return this.length===10&&m.length===10?S=g(this,m,A):b<63?S=p(this,m,A):b<1024?S=y(this,m,A):S=E(this,m,A),S};function C(O,m){this.x=O,this.y=m}C.prototype.makeRBT=function(m){for(var A=new Array(m),S=i.prototype._countBits(m)-1,b=0;b<m;b++)A[b]=this.revBin(b,S,m);return A},C.prototype.revBin=function(m,A,S){if(m===0||m===S-1)return m;for(var b=0,w=0;w<A;w++)b|=(m&1)<<A-w-1,m>>=1;return b},C.prototype.permute=function(m,A,S,b,w,x){for(var D=0;D<x;D++)b[D]=A[m[D]],w[D]=S[m[D]]},C.prototype.transform=function(m,A,S,b,w,x){this.permute(x,m,A,S,b,w);for(var D=1;D<w;D<<=1)for(var R=D<<1,v=Math.cos(2*Math.PI/R),U=Math.sin(2*Math.PI/R),K=0;K<w;K+=R)for(var Q=v,J=U,re=0;re<D;re++){var le=S[K+re],Y=b[K+re],de=S[K+re+D],se=b[K+re+D],ge=Q*de-J*se;se=Q*se+J*de,de=ge,S[K+re]=le+de,b[K+re]=Y+se,S[K+re+D]=le-de,b[K+re+D]=Y-se,re!==R&&(ge=v*Q-U*J,J=v*J+U*Q,Q=ge)}},C.prototype.guessLen13b=function(m,A){var S=Math.max(A,m)|1,b=S&1,w=0;for(S=S/2|0;S;S=S>>>1)w++;return 1<<w+1+b},C.prototype.conjugate=function(m,A,S){if(!(S<=1))for(var b=0;b<S/2;b++){var w=m[b];m[b]=m[S-b-1],m[S-b-1]=w,w=A[b],A[b]=-A[S-b-1],A[S-b-1]=-w}},C.prototype.normalize13b=function(m,A){for(var S=0,b=0;b<A/2;b++){var w=Math.round(m[2*b+1]/A)*8192+Math.round(m[2*b]/A)+S;m[b]=w&67108863,w<67108864?S=0:S=w/67108864|0}return m},C.prototype.convert13b=function(m,A,S,b){for(var w=0,x=0;x<A;x++)w=w+(m[x]|0),S[2*x]=w&8191,w=w>>>13,S[2*x+1]=w&8191,w=w>>>13;for(x=2*A;x<b;++x)S[x]=0;n(w===0),n((w&-8192)===0)},C.prototype.stub=function(m){for(var A=new Array(m),S=0;S<m;S++)A[S]=0;return A},C.prototype.mulp=function(m,A,S){var b=2*this.guessLen13b(m.length,A.length),w=this.makeRBT(b),x=this.stub(b),D=new Array(b),R=new Array(b),v=new Array(b),U=new Array(b),K=new Array(b),Q=new Array(b),J=S.words;J.length=b,this.convert13b(m.words,m.length,D,b),this.convert13b(A.words,A.length,U,b),this.transform(D,x,R,v,b,w),this.transform(U,x,K,Q,b,w);for(var re=0;re<b;re++){var le=R[re]*K[re]-v[re]*Q[re];v[re]=R[re]*Q[re]+v[re]*K[re],R[re]=le}return this.conjugate(R,v,b),this.transform(R,v,J,x,b,w),this.conjugate(J,x,b),this.normalize13b(J,b),S.negative=m.negative^A.negative,S.length=m.length+A.length,S.strip()},i.prototype.mul=function(m){var A=new i(null);return A.words=new Array(this.length+m.length),this.mulTo(m,A)},i.prototype.mulf=function(m){var A=new i(null);return A.words=new Array(this.length+m.length),E(this,m,A)},i.prototype.imul=function(m){return this.clone().mulTo(m,this)},i.prototype.imuln=function(m){n(typeof m=="number"),n(m<67108864);for(var A=0,S=0;S<this.length;S++){var b=(this.words[S]|0)*m,w=(b&67108863)+(A&67108863);A>>=26,A+=b/67108864|0,A+=w>>>26,this.words[S]=w&67108863}return A!==0&&(this.words[S]=A,this.length++),this},i.prototype.muln=function(m){return this.clone().imuln(m)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(m){var A=h(m);if(A.length===0)return new i(1);for(var S=this,b=0;b<A.length&&A[b]===0;b++,S=S.sqr());if(++b<A.length)for(var w=S.sqr();b<A.length;b++,w=w.sqr())A[b]!==0&&(S=S.mul(w));return S},i.prototype.iushln=function(m){n(typeof m=="number"&&m>=0);var A=m%26,S=(m-A)/26,b=67108863>>>26-A<<26-A,w;if(A!==0){var x=0;for(w=0;w<this.length;w++){var D=this.words[w]&b,R=(this.words[w]|0)-D<<A;this.words[w]=R|x,x=D>>>26-A}x&&(this.words[w]=x,this.length++)}if(S!==0){for(w=this.length-1;w>=0;w--)this.words[w+S]=this.words[w];for(w=0;w<S;w++)this.words[w]=0;this.length+=S}return this.strip()},i.prototype.ishln=function(m){return n(this.negative===0),this.iushln(m)},i.prototype.iushrn=function(m,A,S){n(typeof m=="number"&&m>=0);var b;A?b=(A-A%26)/26:b=0;var w=m%26,x=Math.min((m-w)/26,this.length),D=67108863^67108863>>>w<<w,R=S;if(b-=x,b=Math.max(0,b),R){for(var v=0;v<x;v++)R.words[v]=this.words[v];R.length=x}if(x!==0)if(this.length>x)for(this.length-=x,v=0;v<this.length;v++)this.words[v]=this.words[v+x];else this.words[0]=0,this.length=1;var U=0;for(v=this.length-1;v>=0&&(U!==0||v>=b);v--){var K=this.words[v]|0;this.words[v]=U<<26-w|K>>>w,U=K&D}return R&&U!==0&&(R.words[R.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(m,A,S){return n(this.negative===0),this.iushrn(m,A,S)},i.prototype.shln=function(m){return this.clone().ishln(m)},i.prototype.ushln=function(m){return this.clone().iushln(m)},i.prototype.shrn=function(m){return this.clone().ishrn(m)},i.prototype.ushrn=function(m){return this.clone().iushrn(m)},i.prototype.testn=function(m){n(typeof m=="number"&&m>=0);var A=m%26,S=(m-A)/26,b=1<<A;if(this.length<=S)return!1;var w=this.words[S];return!!(w&b)},i.prototype.imaskn=function(m){n(typeof m=="number"&&m>=0);var A=m%26,S=(m-A)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(A!==0&&S++,this.length=Math.min(S,this.length),A!==0){var b=67108863^67108863>>>A<<A;this.words[this.length-1]&=b}return this.strip()},i.prototype.maskn=function(m){return this.clone().imaskn(m)},i.prototype.iaddn=function(m){return n(typeof m=="number"),n(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},i.prototype._iaddn=function(m){this.words[0]+=m;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},i.prototype.isubn=function(m){if(n(typeof m=="number"),n(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this.strip()},i.prototype.addn=function(m){return this.clone().iaddn(m)},i.prototype.subn=function(m){return this.clone().isubn(m)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(m,A,S){var b=m.length+S,w;this._expand(b);var x,D=0;for(w=0;w<m.length;w++){x=(this.words[w+S]|0)+D;var R=(m.words[w]|0)*A;x-=R&67108863,D=(x>>26)-(R/67108864|0),this.words[w+S]=x&67108863}for(;w<this.length-S;w++)x=(this.words[w+S]|0)+D,D=x>>26,this.words[w+S]=x&67108863;if(D===0)return this.strip();for(n(D===-1),D=0,w=0;w<this.length;w++)x=-(this.words[w]|0)+D,D=x>>26,this.words[w]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(m,A){var S=this.length-m.length,b=this.clone(),w=m,x=w.words[w.length-1]|0,D=this._countBits(x);S=26-D,S!==0&&(w=w.ushln(S),b.iushln(S),x=w.words[w.length-1]|0);var R=b.length-w.length,v;if(A!=="mod"){v=new i(null),v.length=R+1,v.words=new Array(v.length);for(var U=0;U<v.length;U++)v.words[U]=0}var K=b.clone()._ishlnsubmul(w,1,R);K.negative===0&&(b=K,v&&(v.words[R]=1));for(var Q=R-1;Q>=0;Q--){var J=(b.words[w.length+Q]|0)*67108864+(b.words[w.length+Q-1]|0);for(J=Math.min(J/x|0,67108863),b._ishlnsubmul(w,J,Q);b.negative!==0;)J--,b.negative=0,b._ishlnsubmul(w,1,Q),b.isZero()||(b.negative^=1);v&&(v.words[Q]=J)}return v&&v.strip(),b.strip(),A!=="div"&&S!==0&&b.iushrn(S),{div:v||null,mod:b}},i.prototype.divmod=function(m,A,S){if(n(!m.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var b,w,x;return this.negative!==0&&m.negative===0?(x=this.neg().divmod(m,A),A!=="mod"&&(b=x.div.neg()),A!=="div"&&(w=x.mod.neg(),S&&w.negative!==0&&w.iadd(m)),{div:b,mod:w}):this.negative===0&&m.negative!==0?(x=this.divmod(m.neg(),A),A!=="mod"&&(b=x.div.neg()),{div:b,mod:x.mod}):(this.negative&m.negative)!==0?(x=this.neg().divmod(m.neg(),A),A!=="div"&&(w=x.mod.neg(),S&&w.negative!==0&&w.isub(m)),{div:x.div,mod:w}):m.length>this.length||this.cmp(m)<0?{div:new i(0),mod:this}:m.length===1?A==="div"?{div:this.divn(m.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new i(this.modn(m.words[0]))}:this._wordDiv(m,A)},i.prototype.div=function(m){return this.divmod(m,"div",!1).div},i.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},i.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},i.prototype.divRound=function(m){var A=this.divmod(m);if(A.mod.isZero())return A.div;var S=A.div.negative!==0?A.mod.isub(m):A.mod,b=m.ushrn(1),w=m.andln(1),x=S.cmp(b);return x<0||w===1&&x===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},i.prototype.modn=function(m){n(m<=67108863);for(var A=(1<<26)%m,S=0,b=this.length-1;b>=0;b--)S=(A*S+(this.words[b]|0))%m;return S},i.prototype.idivn=function(m){n(m<=67108863);for(var A=0,S=this.length-1;S>=0;S--){var b=(this.words[S]|0)+A*67108864;this.words[S]=b/m|0,A=b%m}return this.strip()},i.prototype.divn=function(m){return this.clone().idivn(m)},i.prototype.egcd=function(m){n(m.negative===0),n(!m.isZero());var A=this,S=m.clone();A.negative!==0?A=A.umod(m):A=A.clone();for(var b=new i(1),w=new i(0),x=new i(0),D=new i(1),R=0;A.isEven()&&S.isEven();)A.iushrn(1),S.iushrn(1),++R;for(var v=S.clone(),U=A.clone();!A.isZero();){for(var K=0,Q=1;(A.words[0]&Q)===0&&K<26;++K,Q<<=1);if(K>0)for(A.iushrn(K);K-- >0;)(b.isOdd()||w.isOdd())&&(b.iadd(v),w.isub(U)),b.iushrn(1),w.iushrn(1);for(var J=0,re=1;(S.words[0]&re)===0&&J<26;++J,re<<=1);if(J>0)for(S.iushrn(J);J-- >0;)(x.isOdd()||D.isOdd())&&(x.iadd(v),D.isub(U)),x.iushrn(1),D.iushrn(1);A.cmp(S)>=0?(A.isub(S),b.isub(x),w.isub(D)):(S.isub(A),x.isub(b),D.isub(w))}return{a:x,b:D,gcd:S.iushln(R)}},i.prototype._invmp=function(m){n(m.negative===0),n(!m.isZero());var A=this,S=m.clone();A.negative!==0?A=A.umod(m):A=A.clone();for(var b=new i(1),w=new i(0),x=S.clone();A.cmpn(1)>0&&S.cmpn(1)>0;){for(var D=0,R=1;(A.words[0]&R)===0&&D<26;++D,R<<=1);if(D>0)for(A.iushrn(D);D-- >0;)b.isOdd()&&b.iadd(x),b.iushrn(1);for(var v=0,U=1;(S.words[0]&U)===0&&v<26;++v,U<<=1);if(v>0)for(S.iushrn(v);v-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);A.cmp(S)>=0?(A.isub(S),b.isub(w)):(S.isub(A),w.isub(b))}var K;return A.cmpn(1)===0?K=b:K=w,K.cmpn(0)<0&&K.iadd(m),K},i.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var A=this.clone(),S=m.clone();A.negative=0,S.negative=0;for(var b=0;A.isEven()&&S.isEven();b++)A.iushrn(1),S.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;S.isEven();)S.iushrn(1);var w=A.cmp(S);if(w<0){var x=A;A=S,S=x}else if(w===0||S.cmpn(1)===0)break;A.isub(S)}while(!0);return S.iushln(b)},i.prototype.invm=function(m){return this.egcd(m).a.umod(m)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(m){return this.words[0]&m},i.prototype.bincn=function(m){n(typeof m=="number");var A=m%26,S=(m-A)/26,b=1<<A;if(this.length<=S)return this._expand(S+1),this.words[S]|=b,this;for(var w=b,x=S;w!==0&&x<this.length;x++){var D=this.words[x]|0;D+=w,w=D>>>26,D&=67108863,this.words[x]=D}return w!==0&&(this.words[x]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(m){var A=m<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this.strip();var S;if(this.length>1)S=1;else{A&&(m=-m),n(m<=67108863,"Number is too big");var b=this.words[0]|0;S=b===m?0:b<m?-1:1}return this.negative!==0?-S|0:S},i.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var A=this.ucmp(m);return this.negative!==0?-A|0:A},i.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var A=0,S=this.length-1;S>=0;S--){var b=this.words[S]|0,w=m.words[S]|0;if(b!==w){b<w?A=-1:b>w&&(A=1);break}}return A},i.prototype.gtn=function(m){return this.cmpn(m)===1},i.prototype.gt=function(m){return this.cmp(m)===1},i.prototype.gten=function(m){return this.cmpn(m)>=0},i.prototype.gte=function(m){return this.cmp(m)>=0},i.prototype.ltn=function(m){return this.cmpn(m)===-1},i.prototype.lt=function(m){return this.cmp(m)===-1},i.prototype.lten=function(m){return this.cmpn(m)<=0},i.prototype.lte=function(m){return this.cmp(m)<=0},i.prototype.eqn=function(m){return this.cmpn(m)===0},i.prototype.eq=function(m){return this.cmp(m)===0},i.red=function(m){return new $(m)},i.prototype.toRed=function(m){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(m){return this.red=m,this},i.prototype.forceRed=function(m){return n(!this.red,"Already a number in reduction context"),this._forceRed(m)},i.prototype.redAdd=function(m){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},i.prototype.redIAdd=function(m){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},i.prototype.redSub=function(m){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},i.prototype.redISub=function(m){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},i.prototype.redShl=function(m){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},i.prototype.redMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},i.prototype.redIMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(m){return n(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var I={k256:null,p224:null,p192:null,p25519:null};function T(O,m){this.name=O,this.p=new i(m,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var m=new i(null);return m.words=new Array(Math.ceil(this.n/13)),m},T.prototype.ireduce=function(m){var A=m,S;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),S=A.bitLength();while(S>this.n);var b=S<this.n?-1:A.ucmp(this.p);return b===0?(A.words[0]=0,A.length=1):b>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},T.prototype.split=function(m,A){m.iushrn(this.n,0,A)},T.prototype.imulK=function(m){return m.imul(this.k)};function N(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,T),N.prototype.split=function(m,A){for(var S=4194303,b=Math.min(m.length,9),w=0;w<b;w++)A.words[w]=m.words[w];if(A.length=b,m.length<=9){m.words[0]=0,m.length=1;return}var x=m.words[9];for(A.words[A.length++]=x&S,w=10;w<m.length;w++){var D=m.words[w]|0;m.words[w-10]=(D&S)<<4|x>>>22,x=D}x>>>=22,m.words[w-10]=x,x===0&&m.length>10?m.length-=10:m.length-=9},N.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var A=0,S=0;S<m.length;S++){var b=m.words[S]|0;A+=b*977,m.words[S]=A&67108863,A=b*64+(A/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function k(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(k,T);function B(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(B,T);function L(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(L,T),L.prototype.imulK=function(m){for(var A=0,S=0;S<m.length;S++){var b=(m.words[S]|0)*19+A,w=b&67108863;b>>>=26,m.words[S]=w,A=b}return A!==0&&(m.words[m.length++]=A),m},i._prime=function(m){if(I[m])return I[m];var A;if(m==="k256")A=new N;else if(m==="p224")A=new k;else if(m==="p192")A=new B;else if(m==="p25519")A=new L;else throw new Error("Unknown prime "+m);return I[m]=A,A};function $(O){if(typeof O=="string"){var m=i._prime(O);this.m=m.p,this.prime=m}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}$.prototype._verify1=function(m){n(m.negative===0,"red works only with positives"),n(m.red,"red works only with red numbers")},$.prototype._verify2=function(m,A){n((m.negative|A.negative)===0,"red works only with positives"),n(m.red&&m.red===A.red,"red works only with red numbers")},$.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},$.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},$.prototype.add=function(m,A){this._verify2(m,A);var S=m.add(A);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},$.prototype.iadd=function(m,A){this._verify2(m,A);var S=m.iadd(A);return S.cmp(this.m)>=0&&S.isub(this.m),S},$.prototype.sub=function(m,A){this._verify2(m,A);var S=m.sub(A);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},$.prototype.isub=function(m,A){this._verify2(m,A);var S=m.isub(A);return S.cmpn(0)<0&&S.iadd(this.m),S},$.prototype.shl=function(m,A){return this._verify1(m),this.imod(m.ushln(A))},$.prototype.imul=function(m,A){return this._verify2(m,A),this.imod(m.imul(A))},$.prototype.mul=function(m,A){return this._verify2(m,A),this.imod(m.mul(A))},$.prototype.isqr=function(m){return this.imul(m,m.clone())},$.prototype.sqr=function(m){return this.mul(m,m)},$.prototype.sqrt=function(m){if(m.isZero())return m.clone();var A=this.m.andln(3);if(n(A%2===1),A===3){var S=this.m.add(new i(1)).iushrn(2);return this.pow(m,S)}for(var b=this.m.subn(1),w=0;!b.isZero()&&b.andln(1)===0;)w++,b.iushrn(1);n(!b.isZero());var x=new i(1).toRed(this),D=x.redNeg(),R=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,R).cmp(D)!==0;)v.redIAdd(D);for(var U=this.pow(v,b),K=this.pow(m,b.addn(1).iushrn(1)),Q=this.pow(m,b),J=w;Q.cmp(x)!==0;){for(var re=Q,le=0;re.cmp(x)!==0;le++)re=re.redSqr();n(le<J);var Y=this.pow(U,new i(1).iushln(J-le-1));K=K.redMul(Y),U=Y.redSqr(),Q=Q.redMul(U),J=le}return K},$.prototype.invm=function(m){var A=m._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},$.prototype.pow=function(m,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return m.clone();var S=4,b=new Array(1<<S);b[0]=new i(1).toRed(this),b[1]=m;for(var w=2;w<b.length;w++)b[w]=this.mul(b[w-1],m);var x=b[0],D=0,R=0,v=A.bitLength()%26;for(v===0&&(v=26),w=A.length-1;w>=0;w--){for(var U=A.words[w],K=v-1;K>=0;K--){var Q=U>>K&1;if(x!==b[0]&&(x=this.sqr(x)),Q===0&&D===0){R=0;continue}D<<=1,D|=Q,R++,!(R!==S&&(w!==0||K!==0))&&(x=this.mul(x,b[D]),R=0,D=0)}v=26}return x},$.prototype.convertTo=function(m){var A=m.umod(this.m);return A===m?A.clone():A},$.prototype.convertFrom=function(m){var A=m.clone();return A.red=null,A},i.mont=function(m){return new j(m)};function j(O){$.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(j,$),j.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},j.prototype.convertFrom=function(m){var A=this.imod(m.mul(this.rinv));return A.red=null,A},j.prototype.imul=function(m,A){if(m.isZero()||A.isZero())return m.words[0]=0,m.length=1,m;var S=m.imul(A),b=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=S.isub(b).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},j.prototype.mul=function(m,A){if(m.isZero()||A.isZero())return new i(0)._forceRed(this);var S=m.mul(A),b=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=S.isub(b).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},j.prototype.invm=function(m){var A=this.imod(m._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(t,$Q)}(dy)),dy.exports}var _v,I4;function sf(){if(I4)return _v;I4=1,_v=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,s){if(r!=n)throw new Error(s||"Assertion failed: "+r+" != "+n)},_v}var Cv={},T4;function nR(){return T4||(T4=1,function(t){var e=t;function r(i,o){if(Array.isArray(i))return i.slice();if(!i)return[];var a=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)a[c]=i[c]|0;return a}if(o==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var c=0;c<i.length;c+=2)a.push(parseInt(i[c]+i[c+1],16))}else for(var c=0;c<i.length;c++){var l=i.charCodeAt(c),u=l>>8,f=l&255;u?a.push(u,f):a.push(f)}return a}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function s(i){for(var o="",a=0;a<i.length;a++)o+=n(i[a].toString(16));return o}e.toHex=s,e.encode=function(o,a){return a==="hex"?s(o):o}}(Cv)),Cv}var N4;function Si(){return N4||(N4=1,function(t){var e=t,r=Ga(),n=sf(),s=nR();e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(u,f,d){var h=new Array(Math.max(u.bitLength(),d)+1),p;for(p=0;p<h.length;p+=1)h[p]=0;var g=1<<f+1,y=u.clone();for(p=0;p<h.length;p++){var E,C=y.andln(g-1);y.isOdd()?(C>(g>>1)-1?E=(g>>1)-C:E=C,y.isubn(E)):E=0,h[p]=E,y.iushrn(1)}return h}e.getNAF=i;function o(u,f){var d=[[],[]];u=u.clone(),f=f.clone();for(var h=0,p=0,g;u.cmpn(-h)>0||f.cmpn(-p)>0;){var y=u.andln(3)+h&3,E=f.andln(3)+p&3;y===3&&(y=-1),E===3&&(E=-1);var C;(y&1)===0?C=0:(g=u.andln(7)+h&7,(g===3||g===5)&&E===2?C=-y:C=y),d[0].push(C);var I;(E&1)===0?I=0:(g=f.andln(7)+p&7,(g===3||g===5)&&y===2?I=-E:I=E),d[1].push(I),2*h===C+1&&(h=1-h),2*p===I+1&&(p=1-p),u.iushrn(1),f.iushrn(1)}return d}e.getJSF=o;function a(u,f,d){var h="_"+f;u.prototype[f]=function(){return this[h]!==void 0?this[h]:this[h]=d.call(this)}}e.cachedProperty=a;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new r(u,"hex","le")}e.intFromLE=l}(Av)),Av}var Nm={exports:{}},P4;function sR(){if(P4)return Nm.exports;P4=1;var t;Nm.exports=function(s){return t||(t=new e(null)),t.generate(s)};function e(n){this.rand=n}if(Nm.exports.Rand=e,e.prototype.generate=function(s){return this._rand(s)},e.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var i=new Uint8Array(s),o=0;o<i.length;o++)i[o]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=rR;if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(s){return r.randomBytes(s)}}catch{}return Nm.exports}var Sv={},xv,O4;function Cw(){if(O4)return xv;O4=1;var t=Ga(),e=Si(),r=e.getNAF,n=e.getJSF,s=e.assert;function i(a,c){this.type=a,this.p=new t(c.p,16),this.red=c.prime?t.red(c.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=c.n&&new t(c.n,16),this.g=c.g&&this.pointFromJSON(c.g,c.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}xv=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(c,l){s(c.precomputed);var u=c._getDoubles(),f=r(l,1,this._bitLength),d=(1<<u.step+1)-(u.step%2===0?2:1);d/=3;var h=[],p,g;for(p=0;p<f.length;p+=u.step){g=0;for(var y=p+u.step-1;y>=p;y--)g=(g<<1)+f[y];h.push(g)}for(var E=this.jpoint(null,null,null),C=this.jpoint(null,null,null),I=d;I>0;I--){for(p=0;p<h.length;p++)g=h[p],g===I?C=C.mixedAdd(u.points[p]):g===-I&&(C=C.mixedAdd(u.points[p].neg()));E=E.add(C)}return E.toP()},i.prototype._wnafMul=function(c,l){var u=4,f=c._getNAFPoints(u);u=f.wnd;for(var d=f.points,h=r(l,u,this._bitLength),p=this.jpoint(null,null,null),g=h.length-1;g>=0;g--){for(var y=0;g>=0&&h[g]===0;g--)y++;if(g>=0&&y++,p=p.dblp(y),g<0)break;var E=h[g];s(E!==0),c.type==="affine"?E>0?p=p.mixedAdd(d[E-1>>1]):p=p.mixedAdd(d[-E-1>>1].neg()):E>0?p=p.add(d[E-1>>1]):p=p.add(d[-E-1>>1].neg())}return c.type==="affine"?p.toP():p},i.prototype._wnafMulAdd=function(c,l,u,f,d){var h=this._wnafT1,p=this._wnafT2,g=this._wnafT3,y=0,E,C,I;for(E=0;E<f;E++){I=l[E];var T=I._getNAFPoints(c);h[E]=T.wnd,p[E]=T.points}for(E=f-1;E>=1;E-=2){var N=E-1,k=E;if(h[N]!==1||h[k]!==1){g[N]=r(u[N],h[N],this._bitLength),g[k]=r(u[k],h[k],this._bitLength),y=Math.max(g[N].length,y),y=Math.max(g[k].length,y);continue}var B=[l[N],null,null,l[k]];l[N].y.cmp(l[k].y)===0?(B[1]=l[N].add(l[k]),B[2]=l[N].toJ().mixedAdd(l[k].neg())):l[N].y.cmp(l[k].y.redNeg())===0?(B[1]=l[N].toJ().mixedAdd(l[k]),B[2]=l[N].add(l[k].neg())):(B[1]=l[N].toJ().mixedAdd(l[k]),B[2]=l[N].toJ().mixedAdd(l[k].neg()));var L=[-3,-1,-5,-7,0,7,5,1,3],$=n(u[N],u[k]);for(y=Math.max($[0].length,y),g[N]=new Array(y),g[k]=new Array(y),C=0;C<y;C++){var j=$[0][C]|0,O=$[1][C]|0;g[N][C]=L[(j+1)*3+(O+1)],g[k][C]=0,p[N]=B}}var m=this.jpoint(null,null,null),A=this._wnafT4;for(E=y;E>=0;E--){for(var S=0;E>=0;){var b=!0;for(C=0;C<f;C++)A[C]=g[C][E]|0,A[C]!==0&&(b=!1);if(!b)break;S++,E--}if(E>=0&&S++,m=m.dblp(S),E<0)break;for(C=0;C<f;C++){var w=A[C];w!==0&&(w>0?I=p[C][w-1>>1]:w<0&&(I=p[C][-w-1>>1].neg()),I.type==="affine"?m=m.mixedAdd(I):m=m.add(I))}}for(E=0;E<f;E++)p[E]=null;return d?m:m.toP()};function o(a,c){this.curve=a,this.type=c,this.precomputed=null}return i.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(c,l){c=e.toArray(c,l);var u=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*u){c[0]===6?s(c[c.length-1]%2===0):c[0]===7&&s(c[c.length-1]%2===1);var f=this.point(c.slice(1,1+u),c.slice(1+u,1+2*u));return f}else if((c[0]===2||c[0]===3)&&c.length-1===u)return this.pointFromX(c.slice(1,1+u),c[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(c){return this.encode(c,!0)},o.prototype._encode=function(c){var l=this.curve.p.byteLength(),u=this.getX().toArray("be",l);return c?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",l))},o.prototype.encode=function(c,l){return e.encode(this._encode(l),c)},o.prototype.precompute=function(c){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,c),l.beta=this._getBeta(),this.precomputed=l,this},o.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((c.bitLength()+1)/l.step):!1},o.prototype._getDoubles=function(c,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],f=this,d=0;d<l;d+=c){for(var h=0;h<c;h++)f=f.dbl();u.push(f)}return{step:c,points:u}},o.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],u=(1<<c)-1,f=u===1?null:this.dbl(),d=1;d<u;d++)l[d]=l[d-1].add(f);return{wnd:c,points:l}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(c){for(var l=this,u=0;u<c;u++)l=l.dbl();return l},xv}var Pm={exports:{}},R4;function Sw(){return R4||(R4=1,typeof Object.create=="function"?Pm.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Pm.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Pm.exports}var Iv,k4;function LQ(){if(k4)return Iv;k4=1;var t=Si(),e=Ga(),r=Sw(),n=Cw(),s=t.assert;function i(c){n.call(this,"short",c),this.a=new e(c.a,16).toRed(this.red),this.b=new e(c.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(c),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(i,n),Iv=i,i.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,f;if(l.beta)u=new e(l.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);u=d[0].cmp(d[1])<0?d[0]:d[1],u=u.toRed(this.red)}if(l.lambda)f=new e(l.lambda,16);else{var h=this._getEndoRoots(this.n);this.g.mul(h[0]).x.cmp(this.g.x.redMul(u))===0?f=h[0]:(f=h[1],s(this.g.mul(f).x.cmp(this.g.x.redMul(u))===0))}var p;return l.basis?p=l.basis.map(function(g){return{a:new e(g.a,16),b:new e(g.b,16)}}):p=this._getEndoBasis(f),{beta:u,lambda:f,basis:p}}},i.prototype._getEndoRoots=function(l){var u=l===this.p?this.red:e.mont(l),f=new e(2).toRed(u).redInvm(),d=f.redNeg(),h=new e(3).toRed(u).redNeg().redSqrt().redMul(f),p=d.redAdd(h).fromRed(),g=d.redSub(h).fromRed();return[p,g]},i.prototype._getEndoBasis=function(l){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=l,d=this.n.clone(),h=new e(1),p=new e(0),g=new e(0),y=new e(1),E,C,I,T,N,k,B,L=0,$,j;f.cmpn(0)!==0;){var O=d.div(f);$=d.sub(O.mul(f)),j=g.sub(O.mul(h));var m=y.sub(O.mul(p));if(!I&&$.cmp(u)<0)E=B.neg(),C=h,I=$.neg(),T=j;else if(I&&++L===2)break;B=$,d=f,f=$,g=h,h=j,y=p,p=m}N=$.neg(),k=j;var A=I.sqr().add(T.sqr()),S=N.sqr().add(k.sqr());return S.cmp(A)>=0&&(N=E,k=C),I.negative&&(I=I.neg(),T=T.neg()),N.negative&&(N=N.neg(),k=k.neg()),[{a:I,b:T},{a:N,b:k}]},i.prototype._endoSplit=function(l){var u=this.endo.basis,f=u[0],d=u[1],h=d.b.mul(l).divRound(this.n),p=f.b.neg().mul(l).divRound(this.n),g=h.mul(f.a),y=p.mul(d.a),E=h.mul(f.b),C=p.mul(d.b),I=l.sub(g).sub(y),T=E.add(C).neg();return{k1:I,k2:T}},i.prototype.pointFromX=function(l,u){l=new e(l,16),l.red||(l=l.toRed(this.red));var f=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),d=f.redSqrt();if(d.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var h=d.fromRed().isOdd();return(u&&!h||!u&&h)&&(d=d.redNeg()),this.point(l,d)},i.prototype.validate=function(l){if(l.inf)return!0;var u=l.x,f=l.y,d=this.a.redMul(u),h=u.redSqr().redMul(u).redIAdd(d).redIAdd(this.b);return f.redSqr().redISub(h).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(l,u,f){for(var d=this._endoWnafT1,h=this._endoWnafT2,p=0;p<l.length;p++){var g=this._endoSplit(u[p]),y=l[p],E=y._getBeta();g.k1.negative&&(g.k1.ineg(),y=y.neg(!0)),g.k2.negative&&(g.k2.ineg(),E=E.neg(!0)),d[p*2]=y,d[p*2+1]=E,h[p*2]=g.k1,h[p*2+1]=g.k2}for(var C=this._wnafMulAdd(1,d,h,p*2,f),I=0;I<p*2;I++)d[I]=null,h[I]=null;return C};function o(c,l,u,f){n.BasePoint.call(this,c,"affine"),l===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(l,16),this.y=new e(u,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(o,n.BasePoint),i.prototype.point=function(l,u,f){return new o(this,l,u,f)},i.prototype.pointFromJSON=function(l,u){return o.fromJSON(this,l,u)},o.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var f=this.curve,d=function(h){return f.point(h.x.redMul(f.endo.beta),h.y)};l.beta=u,u.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(d)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(d)}}}return u}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(l,u,f){typeof u=="string"&&(u=JSON.parse(u));var d=l.point(u[0],u[1],f);if(!u[2])return d;function h(g){return l.point(g[0],g[1],f)}var p=u[2];return d.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[d].concat(p.doubles.points.map(h))},naf:p.naf&&{wnd:p.naf.wnd,points:[d].concat(p.naf.points.map(h))}},d},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var u=this.y.redSub(l.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(l.x).redInvm()));var f=u.redSqr().redISub(this.x).redISub(l.x),d=u.redMul(this.x.redSub(f)).redISub(this.y);return this.curve.point(f,d)},o.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,f=this.x.redSqr(),d=l.redInvm(),h=f.redAdd(f).redIAdd(f).redIAdd(u).redMul(d),p=h.redSqr().redISub(this.x.redAdd(this.x)),g=h.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,g)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(l){return l=new e(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},o.prototype.mulAdd=function(l,u,f){var d=[this,u],h=[l,f];return this.curve.endo?this.curve._endoWnafMulAdd(d,h):this.curve._wnafMulAdd(1,d,h,2)},o.prototype.jmulAdd=function(l,u,f){var d=[this,u],h=[l,f];return this.curve.endo?this.curve._endoWnafMulAdd(d,h,!0):this.curve._wnafMulAdd(1,d,h,2,!0)},o.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},o.prototype.neg=function(l){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var f=this.precomputed,d=function(h){return h.neg()};u.precomputed={naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(d)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(d)}}}return u},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function a(c,l,u,f){n.BasePoint.call(this,c,"jacobian"),l===null&&u===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(l,16),this.y=new e(u,16),this.z=new e(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(a,n.BasePoint),i.prototype.jpoint=function(l,u,f){return new a(this,l,u,f)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),u=l.redSqr(),f=this.x.redMul(u),d=this.y.redMul(u).redMul(l);return this.curve.point(f,d)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var u=l.z.redSqr(),f=this.z.redSqr(),d=this.x.redMul(u),h=l.x.redMul(f),p=this.y.redMul(u.redMul(l.z)),g=l.y.redMul(f.redMul(this.z)),y=d.redSub(h),E=p.redSub(g);if(y.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var C=y.redSqr(),I=C.redMul(y),T=d.redMul(C),N=E.redSqr().redIAdd(I).redISub(T).redISub(T),k=E.redMul(T.redISub(N)).redISub(p.redMul(I)),B=this.z.redMul(l.z).redMul(y);return this.curve.jpoint(N,k,B)},a.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var u=this.z.redSqr(),f=this.x,d=l.x.redMul(u),h=this.y,p=l.y.redMul(u).redMul(this.z),g=f.redSub(d),y=h.redSub(p);if(g.cmpn(0)===0)return y.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=g.redSqr(),C=E.redMul(g),I=f.redMul(E),T=y.redSqr().redIAdd(C).redISub(I).redISub(I),N=y.redMul(I.redISub(T)).redISub(h.redMul(C)),k=this.z.redMul(g);return this.curve.jpoint(T,N,k)},a.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var f=this;for(u=0;u<l;u++)f=f.dbl();return f}var d=this.curve.a,h=this.curve.tinv,p=this.x,g=this.y,y=this.z,E=y.redSqr().redSqr(),C=g.redAdd(g);for(u=0;u<l;u++){var I=p.redSqr(),T=C.redSqr(),N=T.redSqr(),k=I.redAdd(I).redIAdd(I).redIAdd(d.redMul(E)),B=p.redMul(T),L=k.redSqr().redISub(B.redAdd(B)),$=B.redISub(L),j=k.redMul($);j=j.redIAdd(j).redISub(N);var O=C.redMul(y);u+1<l&&(E=E.redMul(N)),p=L,y=O,C=j}return this.curve.jpoint(p,C.redMul(h),y)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var l,u,f;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),p=h.redSqr(),g=this.x.redAdd(h).redSqr().redISub(d).redISub(p);g=g.redIAdd(g);var y=d.redAdd(d).redIAdd(d),E=y.redSqr().redISub(g).redISub(g),C=p.redIAdd(p);C=C.redIAdd(C),C=C.redIAdd(C),l=E,u=y.redMul(g.redISub(E)).redISub(C),f=this.y.redAdd(this.y)}else{var I=this.x.redSqr(),T=this.y.redSqr(),N=T.redSqr(),k=this.x.redAdd(T).redSqr().redISub(I).redISub(N);k=k.redIAdd(k);var B=I.redAdd(I).redIAdd(I),L=B.redSqr(),$=N.redIAdd(N);$=$.redIAdd($),$=$.redIAdd($),l=L.redISub(k).redISub(k),u=B.redMul(k.redISub(l)).redISub($),f=this.y.redMul(this.z),f=f.redIAdd(f)}return this.curve.jpoint(l,u,f)},a.prototype._threeDbl=function(){var l,u,f;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),p=h.redSqr(),g=this.x.redAdd(h).redSqr().redISub(d).redISub(p);g=g.redIAdd(g);var y=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),E=y.redSqr().redISub(g).redISub(g);l=E;var C=p.redIAdd(p);C=C.redIAdd(C),C=C.redIAdd(C),u=y.redMul(g.redISub(E)).redISub(C),f=this.y.redAdd(this.y)}else{var I=this.z.redSqr(),T=this.y.redSqr(),N=this.x.redMul(T),k=this.x.redSub(I).redMul(this.x.redAdd(I));k=k.redAdd(k).redIAdd(k);var B=N.redIAdd(N);B=B.redIAdd(B);var L=B.redAdd(B);l=k.redSqr().redISub(L),f=this.y.redAdd(this.z).redSqr().redISub(T).redISub(I);var $=T.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($),u=k.redMul(B.redISub(l)).redISub($)}return this.curve.jpoint(l,u,f)},a.prototype._dbl=function(){var l=this.curve.a,u=this.x,f=this.y,d=this.z,h=d.redSqr().redSqr(),p=u.redSqr(),g=f.redSqr(),y=p.redAdd(p).redIAdd(p).redIAdd(l.redMul(h)),E=u.redAdd(u);E=E.redIAdd(E);var C=E.redMul(g),I=y.redSqr().redISub(C.redAdd(C)),T=C.redISub(I),N=g.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var k=y.redMul(T).redISub(N),B=f.redAdd(f).redMul(d);return this.curve.jpoint(I,k,B)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),u=this.y.redSqr(),f=this.z.redSqr(),d=u.redSqr(),h=l.redAdd(l).redIAdd(l),p=h.redSqr(),g=this.x.redAdd(u).redSqr().redISub(l).redISub(d);g=g.redIAdd(g),g=g.redAdd(g).redIAdd(g),g=g.redISub(p);var y=g.redSqr(),E=d.redIAdd(d);E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var C=h.redIAdd(g).redSqr().redISub(p).redISub(y).redISub(E),I=u.redMul(C);I=I.redIAdd(I),I=I.redIAdd(I);var T=this.x.redMul(y).redISub(I);T=T.redIAdd(T),T=T.redIAdd(T);var N=this.y.redMul(C.redMul(E.redISub(C)).redISub(g.redMul(y)));N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var k=this.z.redAdd(g).redSqr().redISub(f).redISub(y);return this.curve.jpoint(T,N,k)},a.prototype.mul=function(l,u){return l=new e(l,u),this.curve._wnafMul(this,l)},a.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var u=this.z.redSqr(),f=l.z.redSqr();if(this.x.redMul(f).redISub(l.x.redMul(u)).cmpn(0)!==0)return!1;var d=u.redMul(this.z),h=f.redMul(l.z);return this.y.redMul(h).redISub(l.y.redMul(d)).cmpn(0)===0},a.prototype.eqXToP=function(l){var u=this.z.redSqr(),f=l.toRed(this.curve.red).redMul(u);if(this.x.cmp(f)===0)return!0;for(var d=l.clone(),h=this.curve.redN.redMul(u);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(h),this.x.cmp(f)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Iv}var Tv,D4;function FQ(){if(D4)return Tv;D4=1;var t=Ga(),e=Sw(),r=Cw(),n=Si();function s(o){r.call(this,"mont",o),this.a=new t(o.a,16).toRed(this.red),this.b=new t(o.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(s,r),Tv=s,s.prototype.validate=function(a){var c=a.normalize().x,l=c.redSqr(),u=l.redMul(c).redAdd(l.redMul(this.a)).redAdd(c),f=u.redSqrt();return f.redSqr().cmp(u)===0};function i(o,a,c){r.BasePoint.call(this,o,"projective"),a===null&&c===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(a,16),this.z=new t(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(i,r.BasePoint),s.prototype.decodePoint=function(a,c){return this.point(n.toArray(a,c),1)},s.prototype.point=function(a,c){return new i(this,a,c)},s.prototype.pointFromJSON=function(a){return i.fromJSON(this,a)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(a,c){return new i(a,c[0],c[1]||a.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var a=this.x.redAdd(this.z),c=a.redSqr(),l=this.x.redSub(this.z),u=l.redSqr(),f=c.redSub(u),d=c.redMul(u),h=f.redMul(u.redAdd(this.curve.a24.redMul(f)));return this.curve.point(d,h)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(a,c){var l=this.x.redAdd(this.z),u=this.x.redSub(this.z),f=a.x.redAdd(a.z),d=a.x.redSub(a.z),h=d.redMul(l),p=f.redMul(u),g=c.z.redMul(h.redAdd(p).redSqr()),y=c.x.redMul(h.redISub(p).redSqr());return this.curve.point(g,y)},i.prototype.mul=function(a){for(var c=a.clone(),l=this,u=this.curve.point(null,null),f=this,d=[];c.cmpn(0)!==0;c.iushrn(1))d.push(c.andln(1));for(var h=d.length-1;h>=0;h--)d[h]===0?(l=l.diffAdd(u,f),u=u.dbl()):(u=l.diffAdd(u,f),l=l.dbl());return u},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Tv}var Nv,M4;function jQ(){if(M4)return Nv;M4=1;var t=Si(),e=Ga(),r=Sw(),n=Cw(),s=t.assert;function i(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",a),this.a=new e(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}r(i,n),Nv=i,i.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},i.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},i.prototype.jpoint=function(c,l,u,f){return this.point(c,l,u,f)},i.prototype.pointFromX=function(c,l){c=new e(c,16),c.red||(c=c.toRed(this.red));var u=c.redSqr(),f=this.c2.redSub(this.a.redMul(u)),d=this.one.redSub(this.c2.redMul(this.d).redMul(u)),h=f.redMul(d.redInvm()),p=h.redSqrt();if(p.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");var g=p.fromRed().isOdd();return(l&&!g||!l&&g)&&(p=p.redNeg()),this.point(c,p)},i.prototype.pointFromY=function(c,l){c=new e(c,16),c.red||(c=c.toRed(this.red));var u=c.redSqr(),f=u.redSub(this.c2),d=u.redMul(this.d).redMul(this.c2).redSub(this.a),h=f.redMul(d.redInvm());if(h.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,c)}var p=h.redSqrt();if(p.redSqr().redSub(h).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==l&&(p=p.redNeg()),this.point(p,c)},i.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var l=c.x.redSqr(),u=c.y.redSqr(),f=l.redMul(this.a).redAdd(u),d=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(u)));return f.cmp(d)===0};function o(a,c,l,u,f){n.BasePoint.call(this,a,"projective"),c===null&&l===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(c,16),this.y=new e(l,16),this.z=u?new e(u,16):this.curve.one,this.t=f&&new e(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(o,n.BasePoint),i.prototype.pointFromJSON=function(c){return o.fromJSON(this,c)},i.prototype.point=function(c,l,u,f){return new o(this,c,l,u,f)},o.fromJSON=function(c,l){return new o(c,l[0],l[1],l[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var c=this.x.redSqr(),l=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var f=this.curve._mulA(c),d=this.x.redAdd(this.y).redSqr().redISub(c).redISub(l),h=f.redAdd(l),p=h.redSub(u),g=f.redSub(l),y=d.redMul(p),E=h.redMul(g),C=d.redMul(g),I=p.redMul(h);return this.curve.point(y,E,I,C)},o.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),u=this.y.redSqr(),f,d,h,p,g,y;if(this.curve.twisted){p=this.curve._mulA(l);var E=p.redAdd(u);this.zOne?(f=c.redSub(l).redSub(u).redMul(E.redSub(this.curve.two)),d=E.redMul(p.redSub(u)),h=E.redSqr().redSub(E).redSub(E)):(g=this.z.redSqr(),y=E.redSub(g).redISub(g),f=c.redSub(l).redISub(u).redMul(y),d=E.redMul(p.redSub(u)),h=E.redMul(y))}else p=l.redAdd(u),g=this.curve._mulC(this.z).redSqr(),y=p.redSub(g).redSub(g),f=this.curve._mulC(c.redISub(p)).redMul(y),d=this.curve._mulC(p).redMul(l.redISub(u)),h=p.redMul(y);return this.curve.point(f,d,h)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(c){var l=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),u=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),f=this.t.redMul(this.curve.dd).redMul(c.t),d=this.z.redMul(c.z.redAdd(c.z)),h=u.redSub(l),p=d.redSub(f),g=d.redAdd(f),y=u.redAdd(l),E=h.redMul(p),C=g.redMul(y),I=h.redMul(y),T=p.redMul(g);return this.curve.point(E,C,T,I)},o.prototype._projAdd=function(c){var l=this.z.redMul(c.z),u=l.redSqr(),f=this.x.redMul(c.x),d=this.y.redMul(c.y),h=this.curve.d.redMul(f).redMul(d),p=u.redSub(h),g=u.redAdd(h),y=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(f).redISub(d),E=l.redMul(p).redMul(y),C,I;return this.curve.twisted?(C=l.redMul(g).redMul(d.redSub(this.curve._mulA(f))),I=p.redMul(g)):(C=l.redMul(g).redMul(d.redSub(f)),I=this.curve._mulC(p).redMul(g)),this.curve.point(E,C,I)},o.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},o.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},o.prototype.mulAdd=function(c,l,u){return this.curve._wnafMulAdd(1,[this,l],[c,u],2,!1)},o.prototype.jmulAdd=function(c,l,u){return this.curve._wnafMulAdd(1,[this,l],[c,u],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},o.prototype.eqXToP=function(c){var l=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var u=c.clone(),f=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(f),this.x.cmp(l)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,Nv}var B4;function iR(){return B4||(B4=1,function(t){var e=t;e.base=Cw(),e.short=LQ(),e.mont=FQ(),e.edwards=jQ()}(Sv)),Sv}var Pv={},Ov={},tr={},U4;function qo(){if(U4)return tr;U4=1;var t=sf(),e=Sw();tr.inherits=e;function r(m,A){return(m.charCodeAt(A)&64512)!==55296||A<0||A+1>=m.length?!1:(m.charCodeAt(A+1)&64512)===56320}function n(m,A){if(Array.isArray(m))return m.slice();if(!m)return[];var S=[];if(typeof m=="string")if(A){if(A==="hex")for(m=m.replace(/[^a-z0-9]+/ig,""),m.length%2!==0&&(m="0"+m),w=0;w<m.length;w+=2)S.push(parseInt(m[w]+m[w+1],16))}else for(var b=0,w=0;w<m.length;w++){var x=m.charCodeAt(w);x<128?S[b++]=x:x<2048?(S[b++]=x>>6|192,S[b++]=x&63|128):r(m,w)?(x=65536+((x&1023)<<10)+(m.charCodeAt(++w)&1023),S[b++]=x>>18|240,S[b++]=x>>12&63|128,S[b++]=x>>6&63|128,S[b++]=x&63|128):(S[b++]=x>>12|224,S[b++]=x>>6&63|128,S[b++]=x&63|128)}else for(w=0;w<m.length;w++)S[w]=m[w]|0;return S}tr.toArray=n;function s(m){for(var A="",S=0;S<m.length;S++)A+=a(m[S].toString(16));return A}tr.toHex=s;function i(m){var A=m>>>24|m>>>8&65280|m<<8&16711680|(m&255)<<24;return A>>>0}tr.htonl=i;function o(m,A){for(var S="",b=0;b<m.length;b++){var w=m[b];A==="little"&&(w=i(w)),S+=c(w.toString(16))}return S}tr.toHex32=o;function a(m){return m.length===1?"0"+m:m}tr.zero2=a;function c(m){return m.length===7?"0"+m:m.length===6?"00"+m:m.length===5?"000"+m:m.length===4?"0000"+m:m.length===3?"00000"+m:m.length===2?"000000"+m:m.length===1?"0000000"+m:m}tr.zero8=c;function l(m,A,S,b){var w=S-A;t(w%4===0);for(var x=new Array(w/4),D=0,R=A;D<x.length;D++,R+=4){var v;b==="big"?v=m[R]<<24|m[R+1]<<16|m[R+2]<<8|m[R+3]:v=m[R+3]<<24|m[R+2]<<16|m[R+1]<<8|m[R],x[D]=v>>>0}return x}tr.join32=l;function u(m,A){for(var S=new Array(m.length*4),b=0,w=0;b<m.length;b++,w+=4){var x=m[b];A==="big"?(S[w]=x>>>24,S[w+1]=x>>>16&255,S[w+2]=x>>>8&255,S[w+3]=x&255):(S[w+3]=x>>>24,S[w+2]=x>>>16&255,S[w+1]=x>>>8&255,S[w]=x&255)}return S}tr.split32=u;function f(m,A){return m>>>A|m<<32-A}tr.rotr32=f;function d(m,A){return m<<A|m>>>32-A}tr.rotl32=d;function h(m,A){return m+A>>>0}tr.sum32=h;function p(m,A,S){return m+A+S>>>0}tr.sum32_3=p;function g(m,A,S,b){return m+A+S+b>>>0}tr.sum32_4=g;function y(m,A,S,b,w){return m+A+S+b+w>>>0}tr.sum32_5=y;function E(m,A,S,b){var w=m[A],x=m[A+1],D=b+x>>>0,R=(D<b?1:0)+S+w;m[A]=R>>>0,m[A+1]=D}tr.sum64=E;function C(m,A,S,b){var w=A+b>>>0,x=(w<A?1:0)+m+S;return x>>>0}tr.sum64_hi=C;function I(m,A,S,b){var w=A+b;return w>>>0}tr.sum64_lo=I;function T(m,A,S,b,w,x,D,R){var v=0,U=A;U=U+b>>>0,v+=U<A?1:0,U=U+x>>>0,v+=U<x?1:0,U=U+R>>>0,v+=U<R?1:0;var K=m+S+w+D+v;return K>>>0}tr.sum64_4_hi=T;function N(m,A,S,b,w,x,D,R){var v=A+b+x+R;return v>>>0}tr.sum64_4_lo=N;function k(m,A,S,b,w,x,D,R,v,U){var K=0,Q=A;Q=Q+b>>>0,K+=Q<A?1:0,Q=Q+x>>>0,K+=Q<x?1:0,Q=Q+R>>>0,K+=Q<R?1:0,Q=Q+U>>>0,K+=Q<U?1:0;var J=m+S+w+D+v+K;return J>>>0}tr.sum64_5_hi=k;function B(m,A,S,b,w,x,D,R,v,U){var K=A+b+x+R+U;return K>>>0}tr.sum64_5_lo=B;function L(m,A,S){var b=A<<32-S|m>>>S;return b>>>0}tr.rotr64_hi=L;function $(m,A,S){var b=m<<32-S|A>>>S;return b>>>0}tr.rotr64_lo=$;function j(m,A,S){return m>>>S}tr.shr64_hi=j;function O(m,A,S){var b=m<<32-S|A>>>S;return b>>>0}return tr.shr64_lo=O,tr}var Rv={},$4;function Vg(){if($4)return Rv;$4=1;var t=qo(),e=sf();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Rv.BlockHash=r,r.prototype.update=function(s,i){if(s=t.toArray(s,i),this.pending?this.pending=this.pending.concat(s):this.pending=s,this.pendingTotal+=s.length,this.pending.length>=this._delta8){s=this.pending;var o=s.length%this._delta8;this.pending=s.slice(s.length-o,s.length),this.pending.length===0&&(this.pending=null),s=t.join32(s,0,s.length-o,this.endian);for(var a=0;a<s.length;a+=this._delta32)this._update(s,a,a+this._delta32)}return this},r.prototype.digest=function(s){return this.update(this._pad()),e(this.pending===null),this._digest(s)},r.prototype._pad=function(){var s=this.pendingTotal,i=this._delta8,o=i-(s+this.padLength)%i,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(s<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=s>>>24&255,a[c++]=s>>>16&255,a[c++]=s>>>8&255,a[c++]=s&255}else for(a[c++]=s&255,a[c++]=s>>>8&255,a[c++]=s>>>16&255,a[c++]=s>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},Rv}var Al={},co={},L4;function oR(){if(L4)return co;L4=1;var t=qo(),e=t.rotr32;function r(u,f,d,h){if(u===0)return n(f,d,h);if(u===1||u===3)return i(f,d,h);if(u===2)return s(f,d,h)}co.ft_1=r;function n(u,f,d){return u&f^~u&d}co.ch32=n;function s(u,f,d){return u&f^u&d^f&d}co.maj32=s;function i(u,f,d){return u^f^d}co.p32=i;function o(u){return e(u,2)^e(u,13)^e(u,22)}co.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}co.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}co.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return co.g1_256=l,co}var kv,F4;function HQ(){if(F4)return kv;F4=1;var t=qo(),e=Vg(),r=oR(),n=t.rotl32,s=t.sum32,i=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),kv=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,d){for(var h=this.W,p=0;p<16;p++)h[p]=f[d+p];for(;p<h.length;p++)h[p]=n(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);var g=this.h[0],y=this.h[1],E=this.h[2],C=this.h[3],I=this.h[4];for(p=0;p<h.length;p++){var T=~~(p/20),N=i(n(g,5),o(T,y,E,C),I,h[p],c[T]);I=C,C=E,E=n(y,30),y=g,g=N}this.h[0]=s(this.h[0],g),this.h[1]=s(this.h[1],y),this.h[2]=s(this.h[2],E),this.h[3]=s(this.h[3],C),this.h[4]=s(this.h[4],I)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},kv}var Dv,j4;function aR(){if(j4)return Dv;j4=1;var t=qo(),e=Vg(),r=oR(),n=sf(),s=t.sum32,i=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,l=r.s0_256,u=r.s1_256,f=r.g0_256,d=r.g1_256,h=e.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return t.inherits(g,h),Dv=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(E,C){for(var I=this.W,T=0;T<16;T++)I[T]=E[C+T];for(;T<I.length;T++)I[T]=i(d(I[T-2]),I[T-7],f(I[T-15]),I[T-16]);var N=this.h[0],k=this.h[1],B=this.h[2],L=this.h[3],$=this.h[4],j=this.h[5],O=this.h[6],m=this.h[7];for(n(this.k.length===I.length),T=0;T<I.length;T++){var A=o(m,u($),a($,j,O),this.k[T],I[T]),S=s(l(N),c(N,k,B));m=O,O=j,j=$,$=s(L,A),L=B,B=k,k=N,N=s(A,S)}this.h[0]=s(this.h[0],N),this.h[1]=s(this.h[1],k),this.h[2]=s(this.h[2],B),this.h[3]=s(this.h[3],L),this.h[4]=s(this.h[4],$),this.h[5]=s(this.h[5],j),this.h[6]=s(this.h[6],O),this.h[7]=s(this.h[7],m)},g.prototype._digest=function(E){return E==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Dv}var Mv,H4;function zQ(){if(H4)return Mv;H4=1;var t=qo(),e=aR();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),Mv=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Mv}var Bv,z4;function cR(){if(z4)return Bv;z4=1;var t=qo(),e=Vg(),r=sf(),n=t.rotr64_hi,s=t.rotr64_lo,i=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,l=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,d=t.sum64_5_hi,h=t.sum64_5_lo,p=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(y,p),Bv=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(S,b){for(var w=this.W,x=0;x<32;x++)w[x]=S[b+x];for(;x<w.length;x+=2){var D=O(w[x-4],w[x-3]),R=m(w[x-4],w[x-3]),v=w[x-14],U=w[x-13],K=$(w[x-30],w[x-29]),Q=j(w[x-30],w[x-29]),J=w[x-32],re=w[x-31];w[x]=u(D,R,v,U,K,Q,J,re),w[x+1]=f(D,R,v,U,K,Q,J,re)}},y.prototype._update=function(S,b){this._prepareBlock(S,b);var w=this.W,x=this.h[0],D=this.h[1],R=this.h[2],v=this.h[3],U=this.h[4],K=this.h[5],Q=this.h[6],J=this.h[7],re=this.h[8],le=this.h[9],Y=this.h[10],de=this.h[11],se=this.h[12],ge=this.h[13],ze=this.h[14],q=this.h[15];r(this.k.length===w.length);for(var V=0;V<w.length;V+=2){var ee=ze,ce=q,ue=B(re,le),me=L(re,le),ve=E(re,le,Y,de,se),we=C(re,le,Y,de,se,ge),Ee=this.k[V],pe=this.k[V+1],Ce=w[V],Ne=w[V+1],Se=d(ee,ce,ue,me,ve,we,Ee,pe,Ce,Ne),Ie=h(ee,ce,ue,me,ve,we,Ee,pe,Ce,Ne);ee=N(x,D),ce=k(x,D),ue=I(x,D,R,v,U),me=T(x,D,R,v,U,K);var it=c(ee,ce,ue,me),F=l(ee,ce,ue,me);ze=se,q=ge,se=Y,ge=de,Y=re,de=le,re=c(Q,J,Se,Ie),le=l(J,J,Se,Ie),Q=U,J=K,U=R,K=v,R=x,v=D,x=c(Se,Ie,it,F),D=l(Se,Ie,it,F)}a(this.h,0,x,D),a(this.h,2,R,v),a(this.h,4,U,K),a(this.h,6,Q,J),a(this.h,8,re,le),a(this.h,10,Y,de),a(this.h,12,se,ge),a(this.h,14,ze,q)},y.prototype._digest=function(S){return S==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function E(A,S,b,w,x){var D=A&b^~A&x;return D<0&&(D+=4294967296),D}function C(A,S,b,w,x,D){var R=S&w^~S&D;return R<0&&(R+=4294967296),R}function I(A,S,b,w,x){var D=A&b^A&x^b&x;return D<0&&(D+=4294967296),D}function T(A,S,b,w,x,D){var R=S&w^S&D^w&D;return R<0&&(R+=4294967296),R}function N(A,S){var b=n(A,S,28),w=n(S,A,2),x=n(S,A,7),D=b^w^x;return D<0&&(D+=4294967296),D}function k(A,S){var b=s(A,S,28),w=s(S,A,2),x=s(S,A,7),D=b^w^x;return D<0&&(D+=4294967296),D}function B(A,S){var b=n(A,S,14),w=n(A,S,18),x=n(S,A,9),D=b^w^x;return D<0&&(D+=4294967296),D}function L(A,S){var b=s(A,S,14),w=s(A,S,18),x=s(S,A,9),D=b^w^x;return D<0&&(D+=4294967296),D}function $(A,S){var b=n(A,S,1),w=n(A,S,8),x=i(A,S,7),D=b^w^x;return D<0&&(D+=4294967296),D}function j(A,S){var b=s(A,S,1),w=s(A,S,8),x=o(A,S,7),D=b^w^x;return D<0&&(D+=4294967296),D}function O(A,S){var b=n(A,S,19),w=n(S,A,29),x=i(A,S,6),D=b^w^x;return D<0&&(D+=4294967296),D}function m(A,S){var b=s(A,S,19),w=s(S,A,29),x=o(A,S,6),D=b^w^x;return D<0&&(D+=4294967296),D}return Bv}var Uv,q4;function qQ(){if(q4)return Uv;q4=1;var t=qo(),e=cR();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Uv=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(s){return s==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Uv}var V4;function VQ(){return V4||(V4=1,Al.sha1=HQ(),Al.sha224=zQ(),Al.sha256=aR(),Al.sha384=qQ(),Al.sha512=cR()),Al}var $v={},W4;function WQ(){if(W4)return $v;W4=1;var t=qo(),e=Vg(),r=t.rotl32,n=t.sum32,s=t.sum32_3,i=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),$v.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(y,E){for(var C=this.h[0],I=this.h[1],T=this.h[2],N=this.h[3],k=this.h[4],B=C,L=I,$=T,j=N,O=k,m=0;m<80;m++){var A=n(r(i(C,c(m,I,T,N),y[f[m]+E],l(m)),h[m]),k);C=k,k=N,N=r(T,10),T=I,I=A,A=n(r(i(B,c(79-m,L,$,j),y[d[m]+E],u(m)),p[m]),O),B=O,O=j,j=r($,10),$=L,L=A}A=s(this.h[1],T,j),this.h[1]=s(this.h[2],N,O),this.h[2]=s(this.h[3],k,B),this.h[3]=s(this.h[4],C,L),this.h[4]=s(this.h[0],I,$),this.h[0]=A},a.prototype._digest=function(y){return y==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(g,y,E,C){return g<=15?y^E^C:g<=31?y&E|~y&C:g<=47?(y|~E)^C:g<=63?y&C|E&~C:y^(E|~C)}function l(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return $v}var Lv,K4;function KQ(){if(K4)return Lv;K4=1;var t=qo(),e=sf();function r(n,s,i){if(!(this instanceof r))return new r(n,s,i);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,i))}return Lv=r,r.prototype._init=function(s){s.length>this.blockSize&&(s=new this.Hash().update(s).digest()),e(s.length<=this.blockSize);for(var i=s.length;i<this.blockSize;i++)s.push(0);for(i=0;i<s.length;i++)s[i]^=54;for(this.inner=new this.Hash().update(s),i=0;i<s.length;i++)s[i]^=106;this.outer=new this.Hash().update(s)},r.prototype.update=function(s,i){return this.inner.update(s,i),this},r.prototype.digest=function(s){return this.outer.update(this.inner.digest()),this.outer.digest(s)},Lv}var G4;function g_(){return G4||(G4=1,function(t){var e=t;e.utils=qo(),e.common=Vg(),e.sha=VQ(),e.ripemd=WQ(),e.hmac=KQ(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Ov)),Ov}var Fv,J4;function GQ(){return J4||(J4=1,Fv={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Fv}var Y4;function m_(){return Y4||(Y4=1,function(t){var e=t,r=g_(),n=iR(),s=Si(),i=s.assert;function o(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var f=new o(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:f}),f}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=GQ()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})}(Pv)),Pv}var jv,Q4;function JQ(){if(Q4)return jv;Q4=1;var t=g_(),e=nR(),r=sf();function n(s){if(!(this instanceof n))return new n(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=e.toArray(s.entropy,s.entropyEnc||"hex"),o=e.toArray(s.nonce,s.nonceEnc||"hex"),a=e.toArray(s.pers,s.persEnc||"hex");r(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,o,a)}return jv=n,n.prototype._init=function(i,o,a){var c=i.concat(o).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},n.prototype._update=function(i){var o=this._hmac().update(this.V).update([0]);i&&(o=o.update(i)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(i,o,a,c){typeof o!="string"&&(c=a,a=o,o=null),i=e.toArray(i,o),a=e.toArray(a,c),r(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(a||[])),this._reseed=1},n.prototype.generate=function(i,o,a,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(c=a,a=o,o=null),a&&(a=e.toArray(a,c||"hex"),this._update(a));for(var l=[];l.length<i;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var u=l.slice(0,i);return this._update(a),this._reseed++,e.encode(u,o)},jv}var Hv,Z4;function YQ(){if(Z4)return Hv;Z4=1;var t=Ga(),e=Si(),r=e.assert;function n(s,i){this.ec=s,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}return Hv=n,n.fromPublic=function(i,o,a){return o instanceof n?o:new n(i,{pub:o,pubEnc:a})},n.fromPrivate=function(i,o,a){return o instanceof n?o:new n(i,{priv:o,privEnc:a})},n.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(i,o){return typeof i=="string"&&(o=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,i):this.pub},n.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(i,o){this.priv=new t(i,o||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(i,o){if(i.x||i.y){this.ec.curve.type==="mont"?r(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,o)},n.prototype.derive=function(i){return i.validate()||r(i.validate(),"public point not validated"),i.mul(this.priv).getX()},n.prototype.sign=function(i,o,a){return this.ec.sign(i,this,o,a)},n.prototype.verify=function(i,o,a){return this.ec.verify(i,o,this,void 0,a)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Hv}var zv,X4;function QQ(){if(X4)return zv;X4=1;var t=Ga(),e=Si(),r=e.assert;function n(c,l){if(c instanceof n)return c;this._importDER(c,l)||(r(c.r&&c.s,"Signature without r or s"),this.r=new t(c.r,16),this.s=new t(c.s,16),c.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=c.recoveryParam)}zv=n;function s(){this.place=0}function i(c,l){var u=c[l.place++];if(!(u&128))return u;var f=u&15;if(f===0||f>4||c[l.place]===0)return!1;for(var d=0,h=0,p=l.place;h<f;h++,p++)d<<=8,d|=c[p],d>>>=0;return d<=127?!1:(l.place=p,d)}function o(c){for(var l=0,u=c.length-1;!c[l]&&!(c[l+1]&128)&&l<u;)l++;return l===0?c:c.slice(l)}n.prototype._importDER=function(l,u){l=e.toArray(l,u);var f=new s;if(l[f.place++]!==48)return!1;var d=i(l,f);if(d===!1||d+f.place!==l.length||l[f.place++]!==2)return!1;var h=i(l,f);if(h===!1||(l[f.place]&128)!==0)return!1;var p=l.slice(f.place,h+f.place);if(f.place+=h,l[f.place++]!==2)return!1;var g=i(l,f);if(g===!1||l.length!==g+f.place||(l[f.place]&128)!==0)return!1;var y=l.slice(f.place,g+f.place);if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;if(y[0]===0)if(y[1]&128)y=y.slice(1);else return!1;return this.r=new t(p),this.s=new t(y),this.recoveryParam=null,!0};function a(c,l){if(l<128){c.push(l);return}var u=1+(Math.log(l)/Math.LN2>>>3);for(c.push(u|128);--u;)c.push(l>>>(u<<3)&255);c.push(l)}return n.prototype.toDER=function(l){var u=this.r.toArray(),f=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),f[0]&128&&(f=[0].concat(f)),u=o(u),f=o(f);!f[0]&&!(f[1]&128);)f=f.slice(1);var d=[2];a(d,u.length),d=d.concat(u),d.push(2),a(d,f.length);var h=d.concat(f),p=[48];return a(p,h.length),p=p.concat(h),e.encode(p,l)},zv}var qv,e8;function ZQ(){if(e8)return qv;e8=1;var t=Ga(),e=JQ(),r=Si(),n=m_(),s=sR(),i=r.assert,o=YQ(),a=QQ();function c(l){if(!(this instanceof c))return new c(l);typeof l=="string"&&(i(Object.prototype.hasOwnProperty.call(n,l),"Unknown curve "+l),l=n[l]),l instanceof n.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}return qv=c,c.prototype.keyPair=function(u){return new o(this,u)},c.prototype.keyFromPrivate=function(u,f){return o.fromPrivate(this,u,f)},c.prototype.keyFromPublic=function(u,f){return o.fromPublic(this,u,f)},c.prototype.genKeyPair=function(u){u||(u={});for(var f=new e({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||s(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),h=this.n.sub(new t(2));;){var p=new t(f.generate(d));if(!(p.cmp(h)>0))return p.iaddn(1),this.keyFromPrivate(p)}},c.prototype._truncateToN=function(u,f,d){var h;if(t.isBN(u)||typeof u=="number")u=new t(u,16),h=u.byteLength();else if(typeof u=="object")h=u.length,u=new t(u,16);else{var p=u.toString();h=p.length+1>>>1,u=new t(p,16)}typeof d!="number"&&(d=h*8);var g=d-this.n.bitLength();return g>0&&(u=u.ushrn(g)),!f&&u.cmp(this.n)>=0?u.sub(this.n):u},c.prototype.sign=function(u,f,d,h){if(typeof d=="object"&&(h=d,d=null),h||(h={}),typeof u!="string"&&typeof u!="number"&&!t.isBN(u)){i(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),i(u.length>>>0===u.length);for(var p=0;p<u.length;p++)i((u[p]&255)===u[p])}f=this.keyFromPrivate(f,d),u=this._truncateToN(u,!1,h.msgBitLength),i(!u.isNeg(),"Can not sign a negative message");var g=this.n.byteLength(),y=f.getPrivate().toArray("be",g),E=u.toArray("be",g);i(new t(E).eq(u),"Can not sign message");for(var C=new e({hash:this.hash,entropy:y,nonce:E,pers:h.pers,persEnc:h.persEnc||"utf8"}),I=this.n.sub(new t(1)),T=0;;T++){var N=h.k?h.k(T):new t(C.generate(this.n.byteLength()));if(N=this._truncateToN(N,!0),!(N.cmpn(1)<=0||N.cmp(I)>=0)){var k=this.g.mul(N);if(!k.isInfinity()){var B=k.getX(),L=B.umod(this.n);if(L.cmpn(0)!==0){var $=N.invm(this.n).mul(L.mul(f.getPrivate()).iadd(u));if($=$.umod(this.n),$.cmpn(0)!==0){var j=(k.getY().isOdd()?1:0)|(B.cmp(L)!==0?2:0);return h.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),j^=1),new a({r:L,s:$,recoveryParam:j})}}}}}},c.prototype.verify=function(u,f,d,h,p){p||(p={}),u=this._truncateToN(u,!1,p.msgBitLength),d=this.keyFromPublic(d,h),f=new a(f,"hex");var g=f.r,y=f.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||y.cmpn(1)<0||y.cmp(this.n)>=0)return!1;var E=y.invm(this.n),C=E.mul(u).umod(this.n),I=E.mul(g).umod(this.n),T;return this.curve._maxwellTrick?(T=this.g.jmulAdd(C,d.getPublic(),I),T.isInfinity()?!1:T.eqXToP(g)):(T=this.g.mulAdd(C,d.getPublic(),I),T.isInfinity()?!1:T.getX().umod(this.n).cmp(g)===0)},c.prototype.recoverPubKey=function(l,u,f,d){i((3&f)===f,"The recovery param is more than two bits"),u=new a(u,d);var h=this.n,p=new t(l),g=u.r,y=u.s,E=f&1,C=f>>1;if(g.cmp(this.curve.p.umod(this.curve.n))>=0&&C)throw new Error("Unable to find sencond key candinate");C?g=this.curve.pointFromX(g.add(this.curve.n),E):g=this.curve.pointFromX(g,E);var I=u.r.invm(h),T=h.sub(p).mul(I).umod(h),N=y.mul(I).umod(h);return this.g.mulAdd(T,g,N)},c.prototype.getKeyRecoveryParam=function(l,u,f,d){if(u=new a(u,d),u.recoveryParam!==null)return u.recoveryParam;for(var h=0;h<4;h++){var p;try{p=this.recoverPubKey(l,u,h)}catch{continue}if(p.eq(f))return h}throw new Error("Unable to find valid recovery factor")},qv}var Vv,t8;function XQ(){if(t8)return Vv;t8=1;var t=Si(),e=t.assert,r=t.parseBytes,n=t.cachedProperty;function s(i,o){this.eddsa=i,this._secret=r(o.secret),i.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=r(o.pub)}return s.fromPublic=function(o,a){return a instanceof s?a:new s(o,{pub:a})},s.fromSecret=function(o,a){return a instanceof s?a:new s(o,{secret:a})},s.prototype.secret=function(){return this._secret},n(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(s,"privBytes",function(){var o=this.eddsa,a=this.hash(),c=o.encodingLength-1,l=a.slice(0,o.encodingLength);return l[0]&=248,l[c]&=127,l[c]|=64,l}),n(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},s.prototype.verify=function(o,a){return this.eddsa.verify(o,a,this)},s.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),o)},s.prototype.getPublic=function(o){return t.encode(this.pubBytes(),o)},Vv=s,Vv}var Wv,r8;function eZ(){if(r8)return Wv;r8=1;var t=Ga(),e=Si(),r=e.assert,n=e.cachedProperty,s=e.parseBytes;function i(o,a){this.eddsa=o,typeof a!="object"&&(a=s(a)),Array.isArray(a)&&(r(a.length===o.encodingLength*2,"Signature has invalid size"),a={R:a.slice(0,o.encodingLength),S:a.slice(o.encodingLength)}),r(a.R&&a.S,"Signature without R or S"),o.isPoint(a.R)&&(this._R=a.R),a.S instanceof t&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}return n(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},Wv=i,Wv}var Kv,n8;function tZ(){if(n8)return Kv;n8=1;var t=g_(),e=m_(),r=Si(),n=r.assert,s=r.parseBytes,i=XQ(),o=eZ();function a(c){if(n(c==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(c);c=e[c].curve,this.curve=c,this.g=c.g,this.g.precompute(c.n.bitLength()+1),this.pointClass=c.point().constructor,this.encodingLength=Math.ceil(c.n.bitLength()/8),this.hash=t.sha512}return Kv=a,a.prototype.sign=function(l,u){l=s(l);var f=this.keyFromSecret(u),d=this.hashInt(f.messagePrefix(),l),h=this.g.mul(d),p=this.encodePoint(h),g=this.hashInt(p,f.pubBytes(),l).mul(f.priv()),y=d.add(g).umod(this.curve.n);return this.makeSignature({R:h,S:y,Rencoded:p})},a.prototype.verify=function(l,u,f){if(l=s(l),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var d=this.keyFromPublic(f),h=this.hashInt(u.Rencoded(),d.pubBytes(),l),p=this.g.mul(u.S()),g=u.R().add(d.pub().mul(h));return g.eq(p)},a.prototype.hashInt=function(){for(var l=this.hash(),u=0;u<arguments.length;u++)l.update(arguments[u]);return r.intFromLE(l.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(l){return i.fromPublic(this,l)},a.prototype.keyFromSecret=function(l){return i.fromSecret(this,l)},a.prototype.makeSignature=function(l){return l instanceof o?l:new o(this,l)},a.prototype.encodePoint=function(l){var u=l.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=l.getX().isOdd()?128:0,u},a.prototype.decodePoint=function(l){l=r.parseBytes(l);var u=l.length-1,f=l.slice(0,u).concat(l[u]&-129),d=(l[u]&128)!==0,h=r.intFromLE(f);return this.curve.pointFromY(h,d)},a.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(l){return r.intFromLE(l)},a.prototype.isPoint=function(l){return l instanceof this.pointClass},Kv}var s8;function rZ(){return s8||(s8=1,function(t){var e=t;e.version=MQ.version,e.utils=Si(),e.rand=sR(),e.curve=iR(),e.curves=m_(),e.ec=ZQ(),e.eddsa=tZ()}(Ev)),Ev}var nZ=rZ();const sZ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var iZ={};const oZ=":";function id(t){const[e,r]=t.split(oZ);return{namespace:e,reference:r}}function lR(t,e){return t.includes(":")?[t]:e.chains||[]}const aZ="ReactNative",Gs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},cZ="js";function ob(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function dl(){return!Du.getDocument()&&!!Du.getNavigator()&&navigator.product===aZ}function lZ(){return dl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function uZ(){return dl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Wg(){return!ob()&&!!Du.getNavigator()&&!!Du.getDocument()}function Kg(){return dl()?Gs.reactNative:ob()?Gs.node:Wg()?Gs.browser:Gs.unknown}function i8(){var t;try{return dl()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function fZ(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const s=e[n];s!==void 0&&r.set(n,s)}return r.toString()}function uR(){return zJ.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function dZ(){if(Kg()===Gs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=BJ();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function hZ(){var t;const e=Kg();return e===Gs.browser?[e,((t=Du.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function fR(t,e,r){const n=dZ(),s=hZ();return[[t,e].join("-"),[cZ,r].join("-"),n,s].join("/")}function pZ({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=fR(t,e,n),f={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=fZ(l[1]||"",f);return l[0]+"?"+d}function jl(t,e){return t.filter(r=>e.includes(r)).length===t.length}function NE(t){return Object.fromEntries(t.entries())}function PE(t){return new Map(Object.entries(t))}function Tl(t=Pe.FIVE_MINUTES,e){const r=Pe.toMiliseconds(t||Pe.FIVE_MINUTES);let n,s,i,o;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,s=c})}}function Hc(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const o=await t;n(o)}catch(o){s(o)}clearTimeout(i)})}function dR(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function gZ(t){return dR("topic",t)}function mZ(t){return dR("id",t)}function hR(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function nn(t,e){return Pe.fromMiliseconds(Date.now()+Pe.toMiliseconds(t))}function gc(t){return Date.now()>=Pe.toMiliseconds(t)}function Wt(t,e){return`${t}${e?`:${e}`:""}`}function hy(t=[],e=[]){return[...new Set([...t,...e])]}async function yZ({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=bZ(i,t,e),a=Kg();if(a===Gs.browser){if(!((n=Du.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}wZ(o)}else a===Gs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function bZ(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${_Z(n,!0)}`}else s=`${s}/wc?${n}`;return s}function wZ(t){let e="_self";AZ()?e="_top":(EZ()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function vZ(t,e){let r="";try{if(Wg()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function o8(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function a8(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function y_(){return typeof process<"u"&&iZ.IS_VITEST==="true"}function EZ(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function AZ(){try{return window.self!==window.top}catch{return!1}}function _Z(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function pR(t){return Buffer.from(t,"base64").toString("utf-8")}function CZ(t){return new Promise(e=>setTimeout(e,t))}function x0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function SZ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xw(t,...e){if(!SZ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function b_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");x0(t.outputLen),x0(t.blockLen)}function dh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gR(t,e){xw(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Om=BigInt(2**32-1),c8=BigInt(32);function xZ(t,e=!1){return e?{h:Number(t&Om),l:Number(t>>c8&Om)}:{h:Number(t>>c8&Om)|0,l:Number(t&Om)|0}}function IZ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=xZ(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const TZ=(t,e,r)=>t<<r|e>>>32-r,NZ=(t,e,r)=>e<<r|t>>>32-r,PZ=(t,e,r)=>e<<r-32|t>>>64-r,OZ=(t,e,r)=>t<<r-32|e>>>64-r,mf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function RZ(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Gv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lo(t,e){return t<<32-e|t>>>e}const l8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function kZ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function u8(t){for(let e=0;e<t.length;e++)t[e]=kZ(t[e])}function DZ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function hh(t){return typeof t=="string"&&(t=DZ(t)),xw(t),t}let w_=class{clone(){return this._cloneInto()}};function mR(t){const e=n=>t().update(hh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Gg(t=32){if(mf&&typeof mf.getRandomValues=="function")return mf.getRandomValues(new Uint8Array(t));if(mf&&typeof mf.randomBytes=="function")return mf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const yR=[],bR=[],wR=[],MZ=BigInt(0),ap=BigInt(1),BZ=BigInt(2),UZ=BigInt(7),$Z=BigInt(256),LZ=BigInt(113);for(let t=0,e=ap,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],yR.push(2*(5*n+r)),bR.push((t+1)*(t+2)/2%64);let s=MZ;for(let i=0;i<7;i++)e=(e<<ap^(e>>UZ)*LZ)%$Z,e&BZ&&(s^=ap<<(ap<<BigInt(i))-ap);wR.push(s)}const[FZ,jZ]=IZ(wR,!0),f8=(t,e,r)=>r>32?PZ(t,e,r):TZ(t,e,r),d8=(t,e,r)=>r>32?OZ(t,e,r):NZ(t,e,r);function HZ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=f8(l,u,1)^r[a],d=d8(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=bR[o],c=f8(s,i,a),l=d8(s,i,a),u=yR[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=FZ[n],t[1]^=jZ[n]}r.fill(0)}let zZ=class vR extends w_{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,x0(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=RZ(this.state)}keccak(){l8||u8(this.state32),HZ(this.state32,this.rounds),l8||u8(this.state32),this.posOut=0,this.pos=0}update(e){dh(this);const{blockLen:r,state:n}=this;e=hh(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){dh(this,!1),xw(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return x0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gR(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new vR(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const qZ=(t,e,r)=>mR(()=>new zZ(e,t,r)),VZ=qZ(1,136,256/8),WZ="https://rpc.walletconnect.org/v1";function ER(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(VZ(r)).toString("hex")}async function KZ(t,e,r,n,s,i){switch(r.t){case"eip191":return await GZ(t,e,r.s);case"eip1271":return await JZ(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function GZ(t,e,r){return(await DY({hash:ER(e),signature:r})).toLowerCase()===t.toLowerCase()}async function JZ(t,e,r,n,s,i){const o=id(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),f=ER(e).substring(2),d=a+f+c+l+u,h=await fetch(`${i||WZ}/?chainId=${n}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:YZ(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function YZ(){return Date.now()+Math.floor(Math.random()*1e3)}function QZ(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return UY.encode(i)}var ZZ=Object.defineProperty,XZ=Object.defineProperties,eX=Object.getOwnPropertyDescriptors,h8=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,rX=Object.prototype.propertyIsEnumerable,p8=(t,e,r)=>e in t?ZZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nX=(t,e)=>{for(var r in e||(e={}))tX.call(e,r)&&p8(t,r,e[r]);if(h8)for(var r of h8(e))rX.call(e,r)&&p8(t,r,e[r]);return t},sX=(t,e)=>XZ(t,eX(e));const iX="did:pkh:",v_=t=>t==null?void 0:t.split(":"),oX=t=>{const e=t&&v_(t);if(e)return t.includes(iX)?e[3]:e[1]},OE=t=>{const e=t&&v_(t);if(e)return e[2]+":"+e[3]},ab=t=>{const e=t&&v_(t);if(e)return e.pop()};async function g8(t){const{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=AR(s,s.iss),o=ab(s.iss);return await KZ(o,i,n,OE(s.iss),r)}const AR=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=ab(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${oX(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=py(t.resources);if(p){const g=I0(p);s=gX(s,g)}return[r,n,"",s,"",i,o,a,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function aX(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function cX(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Mu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{const i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function lX(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:uX(e,r,n)}}}function uX(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function _R(t){return Mu(t),`urn:recap:${aX(t).replace(/=/g,"")}`}function I0(t){const e=cX(t.replace("urn:recap:",""));return Mu(e),e}function fX(t,e,r){const n=lX(t,e,r);return _R(n)}function dX(t){return t&&t.includes("urn:recap:")}function hX(t,e){const r=I0(t),n=I0(e),s=pX(r,n);return _R(s)}function pX(t,e){Mu(t),Mu(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[s]=sX(nX({},n.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((l=e.att[s])==null?void 0:l[a])})})}),n}function gX(t="",e){Mu(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(s++,`(${s}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const i=n.join(" "),o=`${r}${i}`;return`${t?t+" ":""}${o}`}function m8(t){var e;const r=I0(t);Mu(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function y8(t){const e=I0(t);Mu(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function py(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return dX(e)?e:void 0}function Jv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function CR(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qs(t,...e){if(!CR(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function b8(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mX(t,e){qs(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function w8(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Kc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),yX=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),bX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!bX)throw new Error("Non little-endian hardware is not supported");function wX(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function RE(t){if(typeof t=="string")t=wX(t);else if(CR(t))t=kE(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function vX(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function EX(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const AX=(t,e)=>{function r(n,...s){if(qs(n),t.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?qs(l):qs(l,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&qs(s[1]);const o=e(n,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");qs(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,qs(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(qs(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function v8(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!_X(e))throw new Error("invalid output, must be aligned");return e}function E8(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function _X(t){return t.byteOffset%4===0}function kE(t){return Uint8Array.from(t)}function ph(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const SR=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),CX=SR("expand 16-byte k"),SX=SR("expand 32-byte k"),xX=Kc(CX),IX=Kc(SX);function Mt(t,e){return t<<e|t>>>32-e}function DE(t){return t.byteOffset%4===0}const Rm=64,TX=16,xR=2**32-1,A8=new Uint32Array;function NX(t,e,r,n,s,i,o,a){const c=s.length,l=new Uint8Array(Rm),u=Kc(l),f=DE(s)&&DE(i),d=f?Kc(s):A8,h=f?Kc(i):A8;for(let p=0;p<c;o++){if(t(e,r,n,u,o,a),o>=xR)throw new Error("arx: counter overflow");const g=Math.min(Rm,c-p);if(f&&g===Rm){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let E=0,C;E<TX;E++)C=y+E,h[C]=d[C]^u[E];p+=Rm;continue}for(let y=0,E;y<g;y++)E=p+y,i[E]=s[E]^l[y];p+=g}}function PX(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:o}=vX({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Jv(s),Jv(o),w8(i),w8(r),(a,c,l,u,f=0)=>{qs(a),qs(c),qs(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),qs(u),Jv(f),f<0||f>=xR)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let p=a.length,g,y;if(p===32)h.push(g=kE(a)),y=IX;else if(p===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),y=xX,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);DE(c)||h.push(c=kE(c));const E=Kc(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,E,Kc(c.subarray(0,16)),E),c=c.subarray(16)}const C=16-s;if(C!==c.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){const T=new Uint8Array(12);T.set(c,i?0:12-c.length),c=T,h.push(c)}const I=Kc(c);return NX(t,y,E,I,l,u,f,o),ph(...h),u}}const En=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let OX=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=RE(e),qs(e,32);const r=En(e,0),n=En(e,2),s=En(e,4),i=En(e,6),o=En(e,8),a=En(e,10),c=En(e,12),l=En(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=En(e,16+2*u)}process(e,r,n=!1){const s=n?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],p=o[7],g=o[8],y=o[9],E=En(e,r+0),C=En(e,r+2),I=En(e,r+4),T=En(e,r+6),N=En(e,r+8),k=En(e,r+10),B=En(e,r+12),L=En(e,r+14);let $=i[0]+(E&8191),j=i[1]+((E>>>13|C<<3)&8191),O=i[2]+((C>>>10|I<<6)&8191),m=i[3]+((I>>>7|T<<9)&8191),A=i[4]+((T>>>4|N<<12)&8191),S=i[5]+(N>>>1&8191),b=i[6]+((N>>>14|k<<2)&8191),w=i[7]+((k>>>11|B<<5)&8191),x=i[8]+((B>>>8|L<<8)&8191),D=i[9]+(L>>>5|s),R=0,v=R+$*a+j*(5*y)+O*(5*g)+m*(5*p)+A*(5*h);R=v>>>13,v&=8191,v+=S*(5*d)+b*(5*f)+w*(5*u)+x*(5*l)+D*(5*c),R+=v>>>13,v&=8191;let U=R+$*c+j*a+O*(5*y)+m*(5*g)+A*(5*p);R=U>>>13,U&=8191,U+=S*(5*h)+b*(5*d)+w*(5*f)+x*(5*u)+D*(5*l),R+=U>>>13,U&=8191;let K=R+$*l+j*c+O*a+m*(5*y)+A*(5*g);R=K>>>13,K&=8191,K+=S*(5*p)+b*(5*h)+w*(5*d)+x*(5*f)+D*(5*u),R+=K>>>13,K&=8191;let Q=R+$*u+j*l+O*c+m*a+A*(5*y);R=Q>>>13,Q&=8191,Q+=S*(5*g)+b*(5*p)+w*(5*h)+x*(5*d)+D*(5*f),R+=Q>>>13,Q&=8191;let J=R+$*f+j*u+O*l+m*c+A*a;R=J>>>13,J&=8191,J+=S*(5*y)+b*(5*g)+w*(5*p)+x*(5*h)+D*(5*d),R+=J>>>13,J&=8191;let re=R+$*d+j*f+O*u+m*l+A*c;R=re>>>13,re&=8191,re+=S*a+b*(5*y)+w*(5*g)+x*(5*p)+D*(5*h),R+=re>>>13,re&=8191;let le=R+$*h+j*d+O*f+m*u+A*l;R=le>>>13,le&=8191,le+=S*c+b*a+w*(5*y)+x*(5*g)+D*(5*p),R+=le>>>13,le&=8191;let Y=R+$*p+j*h+O*d+m*f+A*u;R=Y>>>13,Y&=8191,Y+=S*l+b*c+w*a+x*(5*y)+D*(5*g),R+=Y>>>13,Y&=8191;let de=R+$*g+j*p+O*h+m*d+A*f;R=de>>>13,de&=8191,de+=S*u+b*l+w*c+x*a+D*(5*y),R+=de>>>13,de&=8191;let se=R+$*y+j*g+O*p+m*h+A*d;R=se>>>13,se&=8191,se+=S*f+b*u+w*l+x*c+D*a,R+=se>>>13,se&=8191,R=(R<<2)+R|0,R=R+v|0,v=R&8191,R=R>>>13,U+=R,i[0]=v,i[1]=U,i[2]=K,i[3]=Q,i[4]=J,i[5]=re,i[6]=le,i[7]=Y,i[8]=de,i[9]=se}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+s,s=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;ph(n)}update(e){b8(this);const{buffer:r,blockLen:n}=this;e=RE(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);if(o===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){ph(this.h,this.r,this.buffer,this.pad)}digestInto(e){b8(this),mX(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function RX(t){const e=(n,s)=>t(s).update(RE(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const kX=RX(t=>new OX(t));function DX(t,e,r,n,s,i=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],h=e[3],p=e[4],g=e[5],y=e[6],E=e[7],C=s,I=r[0],T=r[1],N=r[2],k=o,B=a,L=c,$=l,j=u,O=f,m=d,A=h,S=p,b=g,w=y,x=E,D=C,R=I,v=T,U=N;for(let Q=0;Q<i;Q+=2)k=k+j|0,D=Mt(D^k,16),S=S+D|0,j=Mt(j^S,12),k=k+j|0,D=Mt(D^k,8),S=S+D|0,j=Mt(j^S,7),B=B+O|0,R=Mt(R^B,16),b=b+R|0,O=Mt(O^b,12),B=B+O|0,R=Mt(R^B,8),b=b+R|0,O=Mt(O^b,7),L=L+m|0,v=Mt(v^L,16),w=w+v|0,m=Mt(m^w,12),L=L+m|0,v=Mt(v^L,8),w=w+v|0,m=Mt(m^w,7),$=$+A|0,U=Mt(U^$,16),x=x+U|0,A=Mt(A^x,12),$=$+A|0,U=Mt(U^$,8),x=x+U|0,A=Mt(A^x,7),k=k+O|0,U=Mt(U^k,16),w=w+U|0,O=Mt(O^w,12),k=k+O|0,U=Mt(U^k,8),w=w+U|0,O=Mt(O^w,7),B=B+m|0,D=Mt(D^B,16),x=x+D|0,m=Mt(m^x,12),B=B+m|0,D=Mt(D^B,8),x=x+D|0,m=Mt(m^x,7),L=L+A|0,R=Mt(R^L,16),S=S+R|0,A=Mt(A^S,12),L=L+A|0,R=Mt(R^L,8),S=S+R|0,A=Mt(A^S,7),$=$+j|0,v=Mt(v^$,16),b=b+v|0,j=Mt(j^b,12),$=$+j|0,v=Mt(v^$,8),b=b+v|0,j=Mt(j^b,7);let K=0;n[K++]=o+k|0,n[K++]=a+B|0,n[K++]=c+L|0,n[K++]=l+$|0,n[K++]=u+j|0,n[K++]=f+O|0,n[K++]=d+m|0,n[K++]=h+A|0,n[K++]=p+S|0,n[K++]=g+b|0,n[K++]=y+w|0,n[K++]=E+x|0,n[K++]=C+D|0,n[K++]=I+R|0,n[K++]=T+v|0,n[K++]=N+U|0}const MX=PX(DX,{counterRight:!1,counterLength:4,allowShortKeys:!1}),BX=new Uint8Array(16),_8=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(BX.subarray(r))},UX=new Uint8Array(32);function C8(t,e,r,n,s){const i=t(e,r,UX),o=kX.create(i);s&&_8(o,s),_8(o,n);const a=new Uint8Array(16),c=yX(a);E8(c,0,BigInt(s?s.length:0),!0),E8(c,8,BigInt(n.length),!0),o.update(a);const l=o.digest();return ph(i,a),l}const $X=t=>(e,r,n)=>({encrypt(s,i){const o=s.length;i=v8(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,r,a,a,1);const c=C8(t,e,r,a,n);return i.set(c,o),ph(c),i},decrypt(s,i){i=v8(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=C8(t,e,r,o,n);if(!EX(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),ph(c),i}}),IR=AX({blockSize:64,nonceLength:12,tagLength:16},$X(MX));let TR=class extends w_{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,b_(e);const n=hh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return dh(this),this.iHash.update(e),this}digestInto(e){dh(this),xw(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const E_=(t,e,r)=>new TR(t,e).update(r).digest();E_.create=(t,e)=>new TR(t,e);function LX(t,e,r){return b_(t),r===void 0&&(r=new Uint8Array(t.outputLen)),E_(t,hh(r),hh(e))}const Yv=new Uint8Array([0]),S8=new Uint8Array;function FX(t,e,r,n=32){if(b_(t),x0(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/t.outputLen);r===void 0&&(r=S8);const i=new Uint8Array(s*t.outputLen),o=E_.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<s;l++)Yv[0]=l+1,a.update(l===0?S8:c).update(r).update(Yv).digestInto(c),i.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),Yv.fill(0),i.slice(0,n)}const jX=(t,e,r,n,s)=>FX(t,LX(t,e,r),n,s);function HX(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function zX(t,e,r){return t&e^~t&r}function qX(t,e,r){return t&e^t&r^e&r}class VX extends w_{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gv(this.buffer)}update(e){dh(this);const{view:r,buffer:n,blockLen:s}=this;e=hh(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Gv(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dh(this),gR(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;HX(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Gv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}}const WX=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ec=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tc=new Uint32Array(64);let KX=class extends VX{constructor(){super(64,32,8,!1),this.A=ec[0]|0,this.B=ec[1]|0,this.C=ec[2]|0,this.D=ec[3]|0,this.E=ec[4]|0,this.F=ec[5]|0,this.G=ec[6]|0,this.H=ec[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)tc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const d=tc[f-15],h=tc[f-2],p=lo(d,7)^lo(d,18)^d>>>3,g=lo(h,17)^lo(h,19)^h>>>10;tc[f]=g+tc[f-7]+p+tc[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=lo(a,6)^lo(a,11)^lo(a,25),h=u+d+zX(a,c,l)+WX[f]+tc[f]|0,p=(lo(n,2)^lo(n,13)^lo(n,22))+qX(n,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+p|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){tc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Iw=mR(()=>new KX);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NR=BigInt(0);function A_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function PR(t){if(!A_(t))throw new Error("Uint8Array expected")}const GX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function JX(t){PR(t);let e="";for(let r=0;r<t.length;r++)e+=GX[t[r]];return e}function YX(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?NR:BigInt("0x"+t)}const Zo={_0:48,_9:57,A:65,F:70,a:97,f:102};function x8(t){if(t>=Zo._0&&t<=Zo._9)return t-Zo._0;if(t>=Zo.A&&t<=Zo.F)return t-(Zo.A-10);if(t>=Zo.a&&t<=Zo.f)return t-(Zo.a-10)}function OR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=x8(t.charCodeAt(i)),a=x8(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function I8(t){return PR(t),YX(JX(Uint8Array.from(t).reverse()))}function QX(t,e){return OR(t.toString(16).padStart(e*2,"0"))}function ZX(t,e){return QX(t,e).reverse()}function T8(t,e,r){let n;if(typeof e=="string")try{n=OR(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(A_(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}const Qv=t=>typeof t=="bigint"&&NR<=t;function XX(t,e,r){return Qv(t)&&Qv(e)&&Qv(r)&&e<=t&&t<r}function N8(t,e,r,n){if(!XX(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}const eee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||A_(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tee(t,e,r={}){const n=(s,i,o)=>{const a=eee[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const Kf=BigInt(0),km=BigInt(1);function RR(t,e){const r=t%e;return r>=Kf?r:e+r}function ree(t,e,r){if(e<Kf)throw new Error("invalid exponent, negatives unsupported");if(r<=Kf)throw new Error("invalid modulus");if(r===km)return Kf;let n=km;for(;e>Kf;)e&km&&(n=n*t%r),t=t*t%r,e>>=km;return n}function Di(t,e,r){let n=t;for(;e-- >Kf;)n*=n,n%=r;return n}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const yf=BigInt(0),Zv=BigInt(1);function nee(t){return tee(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function see(t){const e=nee(t),{P:r}=e,n=C=>RR(C,r),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(C=>C),c=e.powPminus2||(C=>ree(C,r-BigInt(2),r));function l(C,I,T){const N=n(C*(I-T));return I=n(I-N),T=n(T+N),[I,T]}const u=(e.a-BigInt(2))/BigInt(4);function f(C,I){N8("u",C,yf,r),N8("scalar",I,yf,r);const T=I,N=C;let k=Zv,B=yf,L=C,$=Zv,j=yf,O;for(let A=BigInt(s-1);A>=yf;A--){const S=T>>A&Zv;j^=S,O=l(j,k,L),k=O[0],L=O[1],O=l(j,B,$),B=O[0],$=O[1],j=S;const b=k+B,w=n(b*b),x=k-B,D=n(x*x),R=w-D,v=L+$,U=L-$,K=n(U*b),Q=n(v*x),J=K+Q,re=K-Q;L=n(J*J),$=n(N*n(re*re)),k=n(w*D),B=n(R*(w+n(u*R)))}O=l(j,k,L),k=O[0],L=O[1],O=l(j,B,$),B=O[0],$=O[1];const m=c(B);return n(k*m)}function d(C){return ZX(n(C),i)}function h(C){const I=T8("u coordinate",C,i);return o===32&&(I[31]&=127),I8(I)}function p(C){const I=T8("scalar",C),T=I.length;if(T!==i&&T!==o){let N=""+i+" or "+o;throw new Error("invalid scalar, expected "+N+" bytes, got "+T)}return I8(a(I))}function g(C,I){const T=h(I),N=p(C),k=f(T,N);if(k===yf)throw new Error("invalid private or public key received");return d(k)}const y=d(e.Gu);function E(C){return g(C,y)}return{scalarMult:g,scalarMultBase:E,getSharedSecret:(C,I)=>g(C,I),getPublicKey:C=>E(C),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:y}}const ME=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const iee=BigInt(1),P8=BigInt(2),oee=BigInt(3),aee=BigInt(5);BigInt(8);function cee(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=ME,o=t*t%i*t%i,a=Di(o,P8,i)*o%i,c=Di(a,iee,i)*t%i,l=Di(c,aee,i)*c%i,u=Di(l,e,i)*l%i,f=Di(u,r,i)*u%i,d=Di(f,n,i)*f%i,h=Di(d,s,i)*d%i,p=Di(h,s,i)*d%i,g=Di(p,e,i)*l%i;return{pow_p_5_8:Di(g,P8,i)*t%i,b2:o}}function lee(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const BE=see({P:ME,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=ME,{pow_p_5_8:r,b2:n}=cee(t);return RR(Di(r,oee,e)*n,e)},adjustScalarBytes:lee,randomBytes:Gg}),kR="base10",Vn="base16",zc="base64pad",cp="base64url",Jg="utf8",DR=0,Ma=1,Yg=2,uee=0,O8=1,Gp=12,__=32;function fee(){const t=BE.utils.randomPrivateKey(),e=BE.getPublicKey(t);return{privateKey:us(t,Vn),publicKey:us(e,Vn)}}function UE(){const t=Gg(__);return us(t,Vn)}function dee(t,e){const r=BE.getSharedSecret(yi(t,Vn),yi(e,Vn)),n=jX(Iw,r,void 0,void 0,__);return us(n,Vn)}function gy(t){const e=Iw(yi(t,Vn));return us(e,Vn)}function Oo(t){const e=Iw(yi(t,Jg));return us(e,Vn)}function MR(t){return yi(`${t}`,kR)}function Bu(t){return Number(us(t,kR))}function hee(t){const e=MR(typeof t.type<"u"?t.type:DR);if(Bu(e)===Ma&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?yi(t.senderPublicKey,Vn):void 0,n=typeof t.iv<"u"?yi(t.iv,Vn):Gg(Gp),s=yi(t.symKey,Vn),i=IR(s,n).encrypt(yi(t.message,Jg));return BR({type:e,sealed:i,iv:n,senderPublicKey:r,encoding:t.encoding})}function pee(t){const e=yi(t.symKey,Vn),{sealed:r,iv:n}=T0(t),s=IR(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return us(s,Jg)}function gee(t,e){const r=MR(Yg),n=Gg(Gp),s=yi(t,Jg);return BR({type:r,sealed:s,iv:n,encoding:e})}function mee(t,e){const{sealed:r}=T0({encoded:t,encoding:e});return us(r,Jg)}function BR(t){const{encoding:e=zc}=t;if(Bu(t.type)===Yg)return us(wv([t.type,t.sealed]),e);if(Bu(t.type)===Ma){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return us(wv([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return us(wv([t.type,t.iv,t.sealed]),e)}function T0(t){const{encoded:e,encoding:r=zc}=t,n=yi(e,r),s=n.slice(uee,O8),i=O8;if(Bu(s)===Ma){const l=i+__,u=l+Gp,f=n.slice(i,l),d=n.slice(l,u),h=n.slice(u);return{type:s,sealed:h,iv:d,senderPublicKey:f}}if(Bu(s)===Yg){const l=n.slice(i),u=Gg(Gp);return{type:s,sealed:l,iv:u}}const o=i+Gp,a=n.slice(i,o),c=n.slice(o);return{type:s,sealed:c,iv:a}}function yee(t,e){const r=T0({encoded:t,encoding:e==null?void 0:e.encoding});return UR({type:Bu(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?us(r.senderPublicKey,Vn):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function UR(t){const e=(t==null?void 0:t.type)||DR;if(e===Ma){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function R8(t){return t.type===Ma&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function k8(t){return t.type===Yg}function bee(t){return new nZ.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function wee(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function vee(t){return Buffer.from(wee(t),"base64")}function Eee(t,e){const[r,n,s]=t.split("."),i=vee(s);if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32).toString("hex"),a=i.slice(32,64).toString("hex"),c=`${r}.${n}`,l=Iw(c),u=bee(e),f=us(l,Vn);if(!u.verify(f,{r:o,s:a}))throw new Error("Invalid signature");return SE(t).payload}const Aee="irn";function cb(t){return(t==null?void 0:t.relay)||{protocol:Aee}}function Ip(t){const e=sZ[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function _ee(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),o=t[s];r[i]=o}}),r}function D8(t){if(!t.includes("wc:")){const l=pR(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Cee(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:_ee(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Cee(t){return t.startsWith("//")?t.substring(2):t}function See(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=s,o=r+e+i;t[i]&&(n[o]=t[i])}),n}function M8(t){const e=new URLSearchParams,r=See(t.relay);Object.keys(r).sort().forEach(s=>{e.set(s,r[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Dm(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function jh(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function xee(t){const e=[];return Object.values(t).forEach(r=>{e.push(...jh(r.accounts))}),e}function Iee(t,e){const r=[];return Object.values(t).forEach(n=>{jh(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Tee(t,e){const r=[];return Object.values(t).forEach(n=>{jh(n.accounts).includes(e)&&r.push(...n.events)}),r}function C_(t){return t.includes(":")}function Tp(t){return C_(t)?t.split(":")[0]:t}function Nee(t){const e={};return t==null||t.forEach(r=>{var n;const[s,i]=r.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(r),(n=e[s].chains)==null||n.push(`${s}:${i}`)}),e}function B8(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Nee(e);for(const[n,s]of Object.entries(r))s.methods?s.methods=hy(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}const Pee={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Oee={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Oe(t,e){const{message:r,code:n}=Oee[t];return{message:e?`${r} ${e}`:r,code:n}}function nr(t,e){const{message:r,code:n}=Pee[t];return{message:e?`${r} ${e}`:r,code:n}}function Uu(t,e){return!!Array.isArray(t)}function N0(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function xn(t){return typeof t>"u"}function Zr(t,e){return e&&xn(t)?!0:typeof t=="string"&&!!t.trim().length}function S_(t,e){return e&&xn(t)?!0:typeof t=="number"&&!isNaN(t)}function Ree(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let i=!0;return jl(s,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=jh(a),f=r[o];(!jl(lR(o,f),u)||!jl(f.methods,c)||!jl(f.events,l))&&(i=!1)}),i):!1}function lb(t){return Zr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function kee(t){if(Zr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&lb(r)}}return!1}function Dee(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Zr(t,!1)){if(e(t))return!0;const r=pR(t);return e(r)}}catch{}return!1}function Mee(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Bee(t){return t==null?void 0:t.topic}function Uee(t,e){let r=null;return Zr(t==null?void 0:t.publicKey,!1)||(r=Oe("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function U8(t){let e=!0;return Uu(t)?t.length&&(e=t.every(r=>Zr(r,!1))):e=!1,e}function $ee(t,e,r){let n=null;return Uu(e)&&e.length?e.forEach(s=>{n||lb(s)||(n=nr("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):lb(t)||(n=nr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Lee(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;const o=$ee(s,lR(s,i),`${e} ${r}`);o&&(n=o)}),n}function Fee(t,e){let r=null;return Uu(t)?t.forEach(n=>{r||kee(n)||(r=nr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=nr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function jee(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=Fee(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function Hee(t,e){let r=null;return U8(t==null?void 0:t.methods)?U8(t==null?void 0:t.events)||(r=nr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=nr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function $R(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=Hee(n,`${e}, namespace`);s&&(r=s)}),r}function zee(t,e,r){let n=null;if(t&&N0(t)){const s=$R(t,e);s&&(n=s);const i=Lee(t,e,r);i&&(n=i)}else n=Oe("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Xv(t,e){let r=null;if(t&&N0(t)){const n=$R(t,e);n&&(r=n);const s=jee(t,e);s&&(r=s)}else r=Oe("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function LR(t){return Zr(t.protocol,!0)}function qee(t,e){let r=!1;return t?t&&Uu(t)&&t.length&&t.forEach(n=>{r=LR(n)}):r=!0,r}function Vee(t){return typeof t=="number"}function vs(t){return typeof t<"u"&&typeof t!==null}function Wee(t){return!(!t||typeof t!="object"||!t.code||!S_(t.code,!1)||!t.message||!Zr(t.message,!1))}function Kee(t){return!(xn(t)||!Zr(t.method,!1))}function Gee(t){return!(xn(t)||xn(t.result)&&xn(t.error)||!S_(t.id,!1)||!Zr(t.jsonrpc,!1))}function Jee(t){return!(xn(t)||!Zr(t.name,!1))}function $8(t,e){return!(!lb(e)||!xee(t).includes(e))}function Yee(t,e,r){return Zr(r,!1)?Iee(t,e).includes(r):!1}function Qee(t,e,r){return Zr(r,!1)?Tee(t,e).includes(r):!1}function L8(t,e,r){let n=null;const s=Zee(t),i=Xee(e),o=Object.keys(s),a=Object.keys(i),c=F8(Object.keys(t)),l=F8(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Oe("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),jl(o,a)||(n=Oe("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const d=jh(e[f].accounts);d.includes(f)||(n=Oe("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(jl(s[f].methods,i[f].methods)?jl(s[f].events,i[f].events)||(n=Oe("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Oe("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Zee(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function F8(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Xee(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=jh(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function ete(t,e){return S_(t,!1)&&t<=e.max&&t>=e.min}function j8(){const t=Kg();return new Promise(e=>{switch(t){case Gs.browser:e(tte());break;case Gs.reactNative:e(rte());break;case Gs.node:e(nte());break;default:e(!0)}})}function tte(){return Wg()&&(navigator==null?void 0:navigator.onLine)}async function rte(){if(dl()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function nte(){return!0}function ste(t){switch(Kg()){case Gs.browser:ite(t);break;case Gs.reactNative:ote(t);break}}function ite(t){!dl()&&Wg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function ote(t){dl()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const e2={};class lp{static get(e){return e2[e]}static set(e,r){e2[e]=r}static delete(e){delete e2[e]}}const ate="PARSE_ERROR",cte="INVALID_REQUEST",lte="METHOD_NOT_FOUND",ute="INVALID_PARAMS",FR="INTERNAL_ERROR",x_="SERVER_ERROR",fte=[-32700,-32600,-32601,-32602,-32603],Jp={[ate]:{code:-32700,message:"Parse error"},[cte]:{code:-32600,message:"Invalid Request"},[lte]:{code:-32601,message:"Method not found"},[ute]:{code:-32602,message:"Invalid params"},[FR]:{code:-32603,message:"Internal error"},[x_]:{code:-32e3,message:"Server error"}},jR=x_;function dte(t){return fte.includes(t)}function H8(t){return Object.keys(Jp).includes(t)?Jp[t]:Jp[jR]}function hte(t){const e=Object.values(Jp).find(r=>r.code===t);return e||Jp[jR]}function HR(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var t2={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $E=function(t,e){return $E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},$E(t,e)};function pte(t,e){$E(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var LE=function(){return LE=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},LE.apply(this,arguments)};function gte(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function mte(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function yte(t,e){return function(r,n){e(r,n,t)}}function bte(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function wte(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function vte(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ete(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Ate(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function FE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zR(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function _te(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zR(arguments[e]));return t}function Cte(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function P0(t){return this instanceof P0?(this.v=t,this):new P0(t)}function Ste(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){n[d]&&(s[d]=function(h){return new Promise(function(p,g){i.push([d,h,p,g])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(p){f(i[0][3],p)}}function c(d){d.value instanceof P0?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function xte(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:P0(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Ite(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof FE=="function"?FE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function Tte(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Nte(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Pte(t){return t&&t.__esModule?t:{default:t}}function Ote(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Rte(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const kte=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return LE},__asyncDelegator:xte,__asyncGenerator:Ste,__asyncValues:Ite,__await:P0,__awaiter:wte,__classPrivateFieldGet:Ote,__classPrivateFieldSet:Rte,__createBinding:Ete,__decorate:mte,__exportStar:Ate,__extends:pte,__generator:vte,__importDefault:Pte,__importStar:Nte,__makeTemplateObject:Tte,__metadata:bte,__param:yte,__read:zR,__rest:gte,__spread:_te,__spreadArrays:Cte,__values:FE},Symbol.toStringTag,{value:"Module"})),Dte=I3(kte);var Xo={},z8;function Mte(){if(z8)return Xo;z8=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.isBrowserCryptoAvailable=Xo.getSubtleCrypto=Xo.getBrowerCrypto=void 0;function t(){return(Po==null?void 0:Po.crypto)||(Po==null?void 0:Po.msCrypto)||{}}Xo.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Xo.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Xo.isBrowserCryptoAvailable=r,Xo}var ea={},q8;function Bte(){if(q8)return ea;q8=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.isBrowser=ea.isNode=ea.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ea.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ea.isNode=e;function r(){return!t()&&!e()}return ea.isBrowser=r,ea}var V8;function Ute(){return V8||(V8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Dte;e.__exportStar(Mte(),t),e.__exportStar(Bte(),t)}(t2)),t2}var $te=Ute();function bo(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Hl(t=6){return BigInt(bo(t))}function qc(t,e,r){return{id:r||bo(),jsonrpc:"2.0",method:t,params:e}}function Tw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Nw(t,e,r){return{id:t,jsonrpc:"2.0",error:Lte(e)}}function Lte(t,e){return typeof t>"u"?H8(FR):(typeof t=="string"&&(t=Object.assign(Object.assign({},H8(x_)),{message:t})),dte(t.code)&&(t=hte(t.code)),t)}let Fte=class{},jte=class extends Fte{constructor(){super()}},Hte=class extends jte{constructor(e){super()}};const zte="^https?:",qte="^wss?:";function Vte(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function qR(t,e){const r=Vte(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function W8(t){return qR(t,zte)}function K8(t){return qR(t,qte)}function Wte(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function VR(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function I_(t){return VR(t)&&"method"in t}function Pw(t){return VR(t)&&(wo(t)||pi(t))}function wo(t){return"result"in t}function pi(t){return"error"in t}let xi=class extends Hte{constructor(e){super(e),this.events=new Ci.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(qc(e.method,e.params||[],e.id||Hl().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{pi(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Pw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Kte=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Gte=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",G8=t=>t.split("?")[0],J8=10,Jte=Kte();let Yte=class{constructor(e){if(this.url=e,this.events=new Ci.EventEmitter,this.registering=!1,!K8(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ha(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!K8(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=$te.isReactNative()?void 0:{rejectUnauthorized:!Wte(e)},i=new Jte(e,[],s);Gte()?i.onerror=o=>{const a=o;n(this.emitError(a.error))}:i.on("error",o=>{n(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?ku(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=Nw(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return HR(e,G8(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>J8&&this.events.setMaxListeners(J8)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${G8(this.url)}`));return this.events.emit("register_error",r),r}};const WR="wc",KR=2,jE="core",Fo=`${WR}@2:${jE}:`,Qte={logger:"error"},Zte={database:":memory:"},Xte="crypto",Y8="client_ed25519_seed",ere=Pe.ONE_DAY,tre="keychain",rre="0.3",nre="messages",sre="0.3",Q8=Pe.SIX_HOURS,ire="publisher",GR="irn",ore="error",JR="wss://relay.walletconnect.org",are="relayer",pn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},cre="_subscription",ei={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lre=.1,HE="2.19.1",yr={link_mode:"link_mode",relay:"relay"},my={inbound:"inbound",outbound:"outbound"},ure="0.3",fre="WALLETCONNECT_CLIENT_ID",Z8="WALLETCONNECT_LINK_MODE_APPS",$s={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},dre="subscription",hre="0.3",pre="pairing",gre="0.3",up={wc_pairingDelete:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Pe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Pe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:0},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:0}}},Dl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Pi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},mre="history",yre="0.3",bre="expirer",oi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},wre="0.3",vre="verify-api",Ere="https://verify.walletconnect.com",YR="https://verify.walletconnect.org",Yp=YR,Are=`${Yp}/v3`,_re=[Ere,YR],Cre="echo",Sre="https://echo.walletconnect.com",mo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ia={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Oi={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},_l={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Cl={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},fp={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},xre=.1,Ire="event-client",Tre=86400,Nre="https://pulse.walletconnect.org/batch";function Pre(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,y=0,E=0,C=p.length;E!==C&&p[E]===0;)E++,g++;for(var I=(C-E)*u+1>>>0,T=new Uint8Array(I);E!==C;){for(var N=p[E],k=0,B=I-1;(N!==0||k<y)&&B!==-1;B--,k++)N+=256*T[B]>>>0,T[B]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");y=k,E++}for(var L=I-y;L!==I&&T[L]===0;)L++;for(var $=c.repeat(g);L<I;++L)$+=t.charAt(T[L]);return $}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var y=0,E=0;p[g]===c;)y++,g++;for(var C=(p.length-g)*l+1>>>0,I=new Uint8Array(C);p[g];){var T=r[p.charCodeAt(g)];if(T===255)return;for(var N=0,k=C-1;(T!==0||N<E)&&k!==-1;k--,N++)T+=a*I[k]>>>0,I[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=N,g++}if(p[g]!==" "){for(var B=C-E;B!==C&&I[B]===0;)B++;for(var L=new Uint8Array(y+(C-B)),$=y;B!==C;)L[$++]=I[B++];return L}}}function h(p){var g=d(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var Ore=Pre,Rre=Ore;const QR=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kre=t=>new TextEncoder().encode(t),Dre=t=>new TextDecoder().decode(t);class Mre{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Bre{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ZR(this,e)}}class Ure{constructor(e){this.decoders=e}or(e){return ZR(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ZR=(t,e)=>new Ure({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class $re{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Mre(e,r,n),this.decoder=new Bre(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Ow=({name:t,prefix:e,encode:r,decode:n})=>new $re(t,e,r,n),Qg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=Rre(r,e);return Ow({prefix:t,name:e,encode:n,decode:i=>QR(s(i))})},Lre=(t,e,r,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Fre=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},kn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ow({prefix:e,name:t,encode(s){return Fre(s,n,r)},decode(s){return Lre(s,n,r,t)}}),jre=Ow({prefix:"\0",name:"identity",encode:t=>Dre(t),decode:t=>kre(t)});var Hre=Object.freeze({__proto__:null,identity:jre});const zre=kn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qre=Object.freeze({__proto__:null,base2:zre});const Vre=kn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Wre=Object.freeze({__proto__:null,base8:Vre});const Kre=Qg({prefix:"9",name:"base10",alphabet:"0123456789"});var Gre=Object.freeze({__proto__:null,base10:Kre});const Jre=kn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Yre=kn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Qre=Object.freeze({__proto__:null,base16:Jre,base16upper:Yre});const Zre=kn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xre=kn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ene=kn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tne=kn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rne=kn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nne=kn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sne=kn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ine=kn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),one=kn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ane=Object.freeze({__proto__:null,base32:Zre,base32upper:Xre,base32pad:ene,base32padupper:tne,base32hex:rne,base32hexupper:nne,base32hexpad:sne,base32hexpadupper:ine,base32z:one});const cne=Qg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lne=Qg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var une=Object.freeze({__proto__:null,base36:cne,base36upper:lne});const fne=Qg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dne=Qg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hne=Object.freeze({__proto__:null,base58btc:fne,base58flickr:dne});const pne=kn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gne=kn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mne=kn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yne=kn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var bne=Object.freeze({__proto__:null,base64:pne,base64pad:gne,base64url:mne,base64urlpad:yne});const XR=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),wne=XR.reduce((t,e,r)=>(t[r]=e,t),[]),vne=XR.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Ene(t){return t.reduce((e,r)=>(e+=wne[r],e),"")}function Ane(t){const e=[];for(const r of t){const n=vne[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const _ne=Ow({prefix:"🚀",name:"base256emoji",encode:Ene,decode:Ane});var Cne=Object.freeze({__proto__:null,base256emoji:_ne}),Sne=e9,X8=128,xne=-128,Ine=Math.pow(2,31);function e9(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Ine;)e[r++]=t&255|X8,t/=128;for(;t&xne;)e[r++]=t&255|X8,t>>>=7;return e[r]=t|0,e9.bytes=r-n+1,e}var Tne=zE,Nne=128,ex=127;function zE(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw zE.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&ex)<<s:(o&ex)*Math.pow(2,s),s+=7}while(o>=Nne);return zE.bytes=i-n,r}var Pne=Math.pow(2,7),One=Math.pow(2,14),Rne=Math.pow(2,21),kne=Math.pow(2,28),Dne=Math.pow(2,35),Mne=Math.pow(2,42),Bne=Math.pow(2,49),Une=Math.pow(2,56),$ne=Math.pow(2,63),Lne=function(t){return t<Pne?1:t<One?2:t<Rne?3:t<kne?4:t<Dne?5:t<Mne?6:t<Bne?7:t<Une?8:t<$ne?9:10},Fne={encode:Sne,decode:Tne,encodingLength:Lne},t9=Fne;const tx=(t,e,r=0)=>(t9.encode(t,e,r),e),rx=t=>t9.encodingLength(t),qE=(t,e)=>{const r=e.byteLength,n=rx(t),s=n+rx(r),i=new Uint8Array(s+r);return tx(t,i,0),tx(r,i,n),i.set(e,s),new jne(t,r,e,i)};class jne{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const r9=({name:t,code:e,encode:r})=>new Hne(t,e,r);class Hne{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?qE(this.code,r):r.then(n=>qE(this.code,n))}else throw Error("Unknown type, must be binary type")}}const n9=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),zne=r9({name:"sha2-256",code:18,encode:n9("SHA-256")}),qne=r9({name:"sha2-512",code:19,encode:n9("SHA-512")});var Vne=Object.freeze({__proto__:null,sha256:zne,sha512:qne});const s9=0,Wne="identity",i9=QR,Kne=t=>qE(s9,i9(t)),Gne={code:s9,name:Wne,encode:i9,digest:Kne};var Jne=Object.freeze({__proto__:null,identity:Gne});new TextEncoder,new TextDecoder;const nx={...Hre,...qre,...Wre,...Gre,...Qre,...ane,...une,...hne,...bne,...Cne};({...Vne,...Jne});function Yne(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function o9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const sx=o9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),r2=o9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Yne(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Qne={utf8:sx,"utf-8":sx,hex:nx.base16,latin1:r2,ascii:r2,binary:r2,...nx};function Zne(t,e="utf8"){const r=Qne[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var Xne=Object.defineProperty,ese=(t,e,r)=>e in t?Xne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uo=(t,e,r)=>ese(t,typeof e!="symbol"?e+"":e,r);class tse{constructor(e,r){this.core=e,this.logger=r,uo(this,"keychain",new Map),uo(this,"name",tre),uo(this,"version",rre),uo(this,"initialized",!1),uo(this,"storagePrefix",Fo),uo(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),uo(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),uo(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),uo(this,"get",n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=Oe("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),uo(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Gn(r,this.name)}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,NE(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?PE(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var rse=Object.defineProperty,nse=(t,e,r)=>e in t?rse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,An=(t,e,r)=>nse(t,typeof e!="symbol"?e+"":e,r);class sse{constructor(e,r,n){this.core=e,this.logger=r,An(this,"name",Xte),An(this,"keychain"),An(this,"randomSessionIdentifier",UE()),An(this,"initialized",!1),An(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),An(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),An(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=c4(s);return BO(i.publicKey)}),An(this,"generateKeyPair",()=>{this.isInitialized();const s=fee();return this.setPrivateKey(s.publicKey,s.privateKey)}),An(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=c4(i),a=this.randomSessionIdentifier;return await IJ(a,s,ere,o)}),An(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=dee(a,i);return this.setSymKey(c,o)}),An(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||gy(s);return await this.keychain.set(o,s),o}),An(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),An(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),An(this,"encode",async(s,i,o)=>{this.isInitialized();const a=UR(o),c=Ha(i);if(k8(a))return gee(c,o==null?void 0:o.encoding);if(R8(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(d,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=a;return hee({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o==null?void 0:o.encoding})}),An(this,"decode",async(s,i,o)=>{this.isInitialized();const a=yee(i,o);if(k8(a)){const c=mee(i,o==null?void 0:o.encoding);return ku(c)}if(R8(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=pee({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return ku(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),An(this,"getPayloadType",(s,i=zc)=>{const o=T0({encoded:s,encoding:i});return Bu(o.type)}),An(this,"getPayloadSenderPublicKey",(s,i=zc)=>{const o=T0({encoded:s,encoding:i});return o.senderPublicKey?us(o.senderPublicKey,Vn):void 0}),this.core=e,this.logger=Gn(r,this.name),this.keychain=n||new tse(this.core,this.logger)}get context(){return Os(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Y8)}catch{e=UE(),await this.keychain.set(Y8,e)}return Zne(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ise=Object.defineProperty,ose=Object.defineProperties,ase=Object.getOwnPropertyDescriptors,ix=Object.getOwnPropertySymbols,cse=Object.prototype.hasOwnProperty,lse=Object.prototype.propertyIsEnumerable,VE=(t,e,r)=>e in t?ise(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,use=(t,e)=>{for(var r in e||(e={}))cse.call(e,r)&&VE(t,r,e[r]);if(ix)for(var r of ix(e))lse.call(e,r)&&VE(t,r,e[r]);return t},fse=(t,e)=>ose(t,ase(e)),Ds=(t,e,r)=>VE(t,typeof e!="symbol"?e+"":e,r);class dse extends SW{constructor(e,r){super(e,r),this.logger=e,this.core=r,Ds(this,"messages",new Map),Ds(this,"messagesWithoutClientAck",new Map),Ds(this,"name",nre),Ds(this,"version",sre),Ds(this,"initialized",!1),Ds(this,"storagePrefix",Fo),Ds(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Ds(this,"set",async(n,s,i)=>{this.isInitialized();const o=Oo(s);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(n,a),i===my.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,fse(use({},c),{[o]:s}))}return await this.persist(),o}),Ds(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Ds(this,"getWithoutAck",n=>{this.isInitialized();const s={};for(const i of n){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Ds(this,"has",(n,s)=>{this.isInitialized();const i=this.get(n),o=Oo(s);return typeof i[o]<"u"}),Ds(this,"ack",async(n,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;const o=Oo(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),Ds(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Gn(e,this.name),this.core=r}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,NE(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,NE(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?PE(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?PE(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var hse=Object.defineProperty,pse=Object.defineProperties,gse=Object.getOwnPropertyDescriptors,ox=Object.getOwnPropertySymbols,mse=Object.prototype.hasOwnProperty,yse=Object.prototype.propertyIsEnumerable,WE=(t,e,r)=>e in t?hse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mm=(t,e)=>{for(var r in e||(e={}))mse.call(e,r)&&WE(t,r,e[r]);if(ox)for(var r of ox(e))yse.call(e,r)&&WE(t,r,e[r]);return t},n2=(t,e)=>pse(t,gse(e)),Ri=(t,e,r)=>WE(t,typeof e!="symbol"?e+"":e,r);class bse extends xW{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Ri(this,"events",new Ci.EventEmitter),Ri(this,"name",ire),Ri(this,"queue",new Map),Ri(this,"publishTimeout",Pe.toMiliseconds(Pe.ONE_MINUTE)),Ri(this,"initialPublishTimeout",Pe.toMiliseconds(Pe.ONE_SECOND*15)),Ri(this,"needsTransportRestart",!1),Ri(this,"publish",async(n,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||Q8,c=cb(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,f=(i==null?void 0:i.id)||Hl().toString(),d={topic:n,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},h=`Failed to publish payload, please try again. id:${f} tag:${u}`;try{const p=new Promise(async g=>{const y=({id:C})=>{d.opts.id===C&&(this.removeRequestFromQueue(C),this.relayer.events.removeListener(pn.publish,y),g(d))};this.relayer.events.on(pn.publish,y);const E=Hc(new Promise((C,I)=>{this.rpcPublish({topic:n,message:s,ttl:a,prompt:l,tag:u,id:f,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(C).catch(T=>{this.logger.warn(T,T==null?void 0:T.message),I(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${u}`);try{await E,this.events.removeListener(pn.publish,y)}catch(C){this.queue.set(f,n2(Mm({},d),{attempt:1})),this.logger.warn(C,C==null?void 0:C.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:n,message:s,opts:i}}),await Hc(p,this.publishTimeout,h)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(f)}}),Ri(this,"on",(n,s)=>{this.events.on(n,s)}),Ri(this,"once",(n,s)=>{this.events.once(n,s)}),Ri(this,"off",(n,s)=>{this.events.off(n,s)}),Ri(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=Gn(r,this.name),this.registerEventListeners()}get context(){return Os(this.logger)}async rpcPublish(e){var r,n,s,i;const{topic:o,message:a,ttl:c=Q8,prompt:l,tag:u,id:f,attestation:d,tvf:h}=e,p={method:Ip(cb().protocol).publish,params:Mm({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:d},h),id:f};xn((r=p.params)==null?void 0:r.prompt)&&((n=p.params)==null||delete n.prompt),xn((s=p.params)==null?void 0:s.tag)&&((i=p.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(pn.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const n=e.attempt+1;this.queue.set(r,n2(Mm({},e),{attempt:n}));const{topic:s,message:i,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(n2(Mm({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Bh.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(pn.connection_stalled);return}this.checkQueue()}),this.relayer.on(pn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var wse=Object.defineProperty,vse=(t,e,r)=>e in t?wse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bf=(t,e,r)=>vse(t,typeof e!="symbol"?e+"":e,r);class Ese{constructor(){bf(this,"map",new Map),bf(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),bf(this,"get",e=>this.map.get(e)||[]),bf(this,"exists",(e,r)=>this.get(e).includes(r)),bf(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),bf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Ase=Object.defineProperty,_se=Object.defineProperties,Cse=Object.getOwnPropertyDescriptors,ax=Object.getOwnPropertySymbols,Sse=Object.prototype.hasOwnProperty,xse=Object.prototype.propertyIsEnumerable,KE=(t,e,r)=>e in t?Ase(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dp=(t,e)=>{for(var r in e||(e={}))Sse.call(e,r)&&KE(t,r,e[r]);if(ax)for(var r of ax(e))xse.call(e,r)&&KE(t,r,e[r]);return t},s2=(t,e)=>_se(t,Cse(e)),cr=(t,e,r)=>KE(t,typeof e!="symbol"?e+"":e,r);class Ise extends NW{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,cr(this,"subscriptions",new Map),cr(this,"topicMap",new Ese),cr(this,"events",new Ci.EventEmitter),cr(this,"name",dre),cr(this,"version",hre),cr(this,"pending",new Map),cr(this,"cached",[]),cr(this,"initialized",!1),cr(this,"storagePrefix",Fo),cr(this,"subscribeTimeout",Pe.toMiliseconds(Pe.ONE_MINUTE)),cr(this,"initialSubscribeTimeout",Pe.toMiliseconds(Pe.ONE_SECOND*15)),cr(this,"clientId"),cr(this,"batchSubscribeTopicsLimit",500),cr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),cr(this,"subscribe",async(n,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=cb(s),o={topic:n,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),cr(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),cr(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),cr(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),cr(this,"on",(n,s)=>{this.events.on(n,s)}),cr(this,"once",(n,s)=>{this.events.once(n,s)}),cr(this,"off",(n,s)=>{this.events.off(n,s)}),cr(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),cr(this,"start",async()=>{await this.onConnect()}),cr(this,"stop",async()=>{await this.onDisconnect()}),cr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),cr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),cr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Bh.pulse,async()=>{await this.checkPending()}),this.events.on($s.created,async n=>{const s=$s.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on($s.deleted,async n=>{const s=$s.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=Gn(r,this.name),this.clientId=""}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=cb(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);const i=nr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s;(!n||(n==null?void 0:n.transportType)===yr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const i={method:Ip(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===yr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},Pe.toMiliseconds(Pe.ONE_SECOND)),a;const c=new Promise(async u=>{const f=d=>{d.topic===e&&(this.events.removeListener($s.created,f),u(d.id))};this.events.on($s.created,f);try{const d=await Hc(new Promise((h,p)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),p(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener($s.created,f),u(d)}catch{}}),l=await Hc(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(pn.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Ip(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Hc(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(pn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Ip(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await Hc(new Promise((i,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(pn.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:Ip(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,s2(dp({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,dp({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,dp({},r)),this.topicMap.set(r.topic,e),this.events.emit($s.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit($s.deleted,s2(dp({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($s.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit($s.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>s2(dp({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await CZ(Pe.toMiliseconds(Pe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Oo(e+await this.getClientId())}}var Tse=Object.defineProperty,cx=Object.getOwnPropertySymbols,Nse=Object.prototype.hasOwnProperty,Pse=Object.prototype.propertyIsEnumerable,GE=(t,e,r)=>e in t?Tse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lx=(t,e)=>{for(var r in e||(e={}))Nse.call(e,r)&&GE(t,r,e[r]);if(cx)for(var r of cx(e))Pse.call(e,r)&&GE(t,r,e[r]);return t},Bt=(t,e,r)=>GE(t,typeof e!="symbol"?e+"":e,r);class Ose extends IW{constructor(e){super(e),Bt(this,"protocol","wc"),Bt(this,"version",2),Bt(this,"core"),Bt(this,"logger"),Bt(this,"events",new Ci.EventEmitter),Bt(this,"provider"),Bt(this,"messages"),Bt(this,"subscriber"),Bt(this,"publisher"),Bt(this,"name",are),Bt(this,"transportExplicitlyClosed",!1),Bt(this,"initialized",!1),Bt(this,"connectionAttemptInProgress",!1),Bt(this,"relayUrl"),Bt(this,"projectId"),Bt(this,"packageName"),Bt(this,"bundleId"),Bt(this,"hasExperiencedNetworkDisruption",!1),Bt(this,"pingTimeout"),Bt(this,"heartBeatTimeout",Pe.toMiliseconds(Pe.THIRTY_SECONDS+Pe.FIVE_SECONDS)),Bt(this,"reconnectTimeout"),Bt(this,"connectPromise"),Bt(this,"reconnectInProgress",!1),Bt(this,"requestsInFlight",[]),Bt(this,"connectTimeout",Pe.toMiliseconds(Pe.ONE_SECOND*15)),Bt(this,"request",async r=>{var n,s;this.logger.debug("Publishing Request Payload");const i=r.id||Hl().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${i}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),Bt(this,"resetPingTimeout",()=>{ob()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Bt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Bt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(pn.connect)}),Bt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Bt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(pn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Bt(this,"registerProviderListeners",()=>{this.provider.on(ei.payload,this.onPayloadHandler),this.provider.on(ei.connect,this.onConnectHandler),this.provider.on(ei.disconnect,this.onDisconnectHandler),this.provider.on(ei.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Gn(e.logger,this.name):Fg(Uh({level:e.logger||ore})),this.messages=new dse(this.logger,e.core),this.subscriber=new Ise(this,this.logger),this.publisher=new bse(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||JR,this.projectId=e.projectId,lZ()?this.packageName=i8():uZ()&&(this.bundleId=i8()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Os(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:yr.relay},my.outbound)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off($s.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on($s.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,lx({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Hc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await j8())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=nn(Pe.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(pn.message,e),await this.recordMessageEvent(e,my.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ei.disconnect,i),await Hc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(ei.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ei.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ei.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Pe.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if(ob())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new xi(new Yte(pZ({sdkVersion:HE,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),I_(e)){if(!e.method.endsWith(cre))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:o}=r.data,a={topic:n,message:s,publishedAt:i,transportType:yr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(lx({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Pw(e)&&this.events.emit(pn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,my.inbound),this.events.emit(pn.message,e))}async acknowledgePayload(e){const r=Tw(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(ei.payload,this.onPayloadHandler),this.provider.off(ei.connect,this.onConnectHandler),this.provider.off(ei.disconnect,this.onDisconnectHandler),this.provider.off(ei.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await j8();ste(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(pn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Pe.toMiliseconds(lre)))))}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function Rse(){}function ux(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function fx(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function dx(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const kse="[object RegExp]",Dse="[object String]",Mse="[object Number]",Bse="[object Boolean]",hx="[object Arguments]",Use="[object Symbol]",$se="[object Date]",Lse="[object Map]",Fse="[object Set]",jse="[object Array]",Hse="[object Function]",zse="[object ArrayBuffer]",i2="[object Object]",qse="[object Error]",Vse="[object DataView]",Wse="[object Uint8Array]",Kse="[object Uint8ClampedArray]",Gse="[object Uint16Array]",Jse="[object Uint32Array]",Yse="[object BigUint64Array]",Qse="[object Int8Array]",Zse="[object Int16Array]",Xse="[object Int32Array]",eie="[object BigInt64Array]",tie="[object Float32Array]",rie="[object Float64Array]";function nie(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function sie(t,e,r){return Np(t,e,void 0,void 0,void 0,void 0,r)}function Np(t,e,r,n,s,i,o){const a=o(t,e,r,n,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Qp(t,e,i,o)}return Qp(t,e,i,o)}function Qp(t,e,r,n){if(Object.is(t,e))return!0;let s=dx(t),i=dx(e);if(s===hx&&(s=i2),i===hx&&(i=i2),s!==i)return!1;switch(s){case Dse:return t.toString()===e.toString();case Mse:{const c=t.valueOf(),l=e.valueOf();return nie(c,l)}case Bse:case $se:case Use:return Object.is(t.valueOf(),e.valueOf());case kse:return t.source===e.source&&t.flags===e.flags;case Hse:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(s){case Lse:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Np(l,e.get(c),c,t,e,r,n))return!1;return!0}case Fse:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>Np(f,h,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case jse:case Wse:case Kse:case Gse:case Jse:case Yse:case Qse:case Zse:case Xse:case eie:case tie:case rie:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Np(t[c],e[c],c,t,e,r,n))return!1;return!0}case zse:return t.byteLength!==e.byteLength?!1:Qp(new Uint8Array(t),new Uint8Array(e),r,n);case Vse:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Qp(new Uint8Array(t),new Uint8Array(e),r,n);case qse:return t.name===e.name&&t.message===e.message;case i2:{if(!(Qp(t.constructor,e.constructor,r,n)||ux(t)&&ux(e)))return!1;const c=[...Object.keys(t),...fx(t)],l=[...Object.keys(e),...fx(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;const h=e[f];if(!Np(d,h,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function iie(t,e){return sie(t,e,Rse)}var oie=Object.defineProperty,px=Object.getOwnPropertySymbols,aie=Object.prototype.hasOwnProperty,cie=Object.prototype.propertyIsEnumerable,JE=(t,e,r)=>e in t?oie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gx=(t,e)=>{for(var r in e||(e={}))aie.call(e,r)&&JE(t,r,e[r]);if(px)for(var r of px(e))cie.call(e,r)&&JE(t,r,e[r]);return t},ms=(t,e,r)=>JE(t,typeof e!="symbol"?e+"":e,r);class of extends TW{constructor(e,r,n,s=Fo,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,ms(this,"map",new Map),ms(this,"version",ure),ms(this,"cached",[]),ms(this,"initialized",!1),ms(this,"getKey"),ms(this,"storagePrefix",Fo),ms(this,"recentlyDeleted",[]),ms(this,"recentlyDeletedLimit",200),ms(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!xn(o)?this.map.set(this.getKey(o),o):Mee(o)?this.map.set(o.id,o):Bee(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ms(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ms(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ms(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>iie(a[c],o[c]))):this.values)),ms(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=gx(gx({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ms(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Gn(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=Oe("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lie=Object.defineProperty,uie=(t,e,r)=>e in t?lie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xt=(t,e,r)=>uie(t,typeof e!="symbol"?e+"":e,r);class fie{constructor(e,r){this.core=e,this.logger=r,xt(this,"name",pre),xt(this,"version",gre),xt(this,"events",new i_),xt(this,"pairings"),xt(this,"initialized",!1),xt(this,"storagePrefix",Fo),xt(this,"ignoredPayloadTypes",[Ma]),xt(this,"registeredMethods",[]),xt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),xt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),xt(this,"create",async n=>{this.isInitialized();const s=UE(),i=await this.core.crypto.setSymKey(s),o=nn(Pe.FIVE_MINUTES),a={protocol:GR},c={topic:i,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=M8({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Dl.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType}),{topic:i,uri:l}}),xt(this,"pair",async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[mo.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=D8(n.uri);s.props.properties.topic=i,s.addTrace(mo.pairing_uri_validation_success),s.addTrace(mo.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(mo.existing_pairing),u.active)throw s.setError(ia.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(mo.pairing_not_expired)}const f=c||nn(Pe.FIVE_MINUTES),d={topic:i,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(i,f),await this.pairings.set(i,d),s.addTrace(mo.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(Dl.create,d),s.addTrace(mo.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(mo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(ia.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(ia.subscribe_pairing_topic_failure),h}return s.addTrace(mo.subscribe_pairing_topic_success),d}),xt(this,"activate",async({topic:n})=>{this.isInitialized();const s=nn(Pe.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),xt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Tl();this.events.once(Wt("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),xt(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),xt(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),xt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),xt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",nr("USER_DISCONNECTED")),await this.deletePairing(s))}),xt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(s);return M8({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),xt(this,"sendRequest",async(n,s,i)=>{const o=qc(s,i),a=await this.core.crypto.encode(n,o),c=up[s].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),xt(this,"sendResult",async(n,s,i)=>{const o=Tw(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,l=up[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),xt(this,"sendError",async(n,s,i)=>{const o=Nw(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,l=up[c]?up[c].res:up.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),xt(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,nr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),xt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(s=>gc(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),xt(this,"onRelayEventRequest",async n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),xt(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i}=n,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),xt(this,"onPairingPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(Dl.ping,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),xt(this,"onPairingPingResponse",(n,s)=>{const{id:i}=s;setTimeout(()=>{wo(s)?this.events.emit(Wt("pairing_ping",i),{}):pi(s)&&this.events.emit(Wt("pairing_ping",i),{error:s.error})},500)}),xt(this,"onPairingDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Dl.delete,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),xt(this,"onUnknownRpcMethodRequest",async(n,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=nr("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,n,a),this.logger.error(a)}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),xt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(nr("WC_METHOD_UNSUPPORTED",n))}),xt(this,"isValidPair",(n,s)=>{var i;if(!vs(n)){const{message:a}=Oe("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(ia.malformed_pairing_uri),new Error(a)}if(!Dee(n.uri)){const{message:a}=Oe("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(ia.malformed_pairing_uri),new Error(a)}const o=D8(n==null?void 0:n.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=Oe("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(ia.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Oe("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(ia.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Pe.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(ia.pairing_expired);const{message:a}=Oe("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),xt(this,"isValidPing",async n=>{if(!vs(n)){const{message:i}=Oe("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),xt(this,"isValidDisconnect",async n=>{if(!vs(n)){const{message:i}=Oe("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),xt(this,"isValidPairingTopic",async n=>{if(!Zr(n,!1)){const{message:s}=Oe("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=Oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(gc(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=Oe("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=Gn(r,this.name),this.pairings=new of(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Os(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(pn.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==yr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const i=await this.core.crypto.decode(r,n);I_(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):Pw(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(oi.expired,async e=>{const{topic:r}=hR(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Dl.expire,{topic:r}))})}}var die=Object.defineProperty,hie=(t,e,r)=>e in t?die(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_n=(t,e,r)=>hie(t,typeof e!="symbol"?e+"":e,r);class pie extends CW{constructor(e,r){super(e,r),this.core=e,this.logger=r,_n(this,"records",new Map),_n(this,"events",new Ci.EventEmitter),_n(this,"name",mre),_n(this,"version",yre),_n(this,"cached",[]),_n(this,"initialized",!1),_n(this,"storagePrefix",Fo),_n(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),_n(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:nn(Pe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Pi.created,o)}),_n(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=pi(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Pi.updated,s))}),_n(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),_n(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Pi.deleted,i)}}),this.persist()}),_n(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),_n(this,"on",(n,s)=>{this.events.on(n,s)}),_n(this,"once",(n,s)=>{this.events.once(n,s)}),_n(this,"off",(n,s)=>{this.events.off(n,s)}),_n(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=Gn(r,this.name)}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:qc(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Pi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Pi.created,e=>{const r=Pi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Pi.updated,e=>{const r=Pi.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Pi.deleted,e=>{const r=Pi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Bh.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Pe.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Pi.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gie=Object.defineProperty,mie=(t,e,r)=>e in t?gie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dn=(t,e,r)=>mie(t,typeof e!="symbol"?e+"":e,r);class yie extends PW{constructor(e,r){super(e,r),this.core=e,this.logger=r,Dn(this,"expirations",new Map),Dn(this,"events",new Ci.EventEmitter),Dn(this,"name",bre),Dn(this,"version",wre),Dn(this,"cached",[]),Dn(this,"initialized",!1),Dn(this,"storagePrefix",Fo),Dn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Dn(this,"has",n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Dn(this,"set",(n,s)=>{this.isInitialized();const i=this.formatTarget(n),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(oi.created,{target:i,expiration:o})}),Dn(this,"get",n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)}),Dn(this,"del",n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(oi.deleted,{target:s,expiration:i})}}),Dn(this,"on",(n,s)=>{this.events.on(n,s)}),Dn(this,"once",(n,s)=>{this.events.once(n,s)}),Dn(this,"off",(n,s)=>{this.events.off(n,s)}),Dn(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=Gn(r,this.name)}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return gZ(e);if(typeof e=="number")return mZ(e);const{message:r}=Oe("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(oi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Oe("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Oe("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Pe.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(oi.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Bh.pulse,()=>this.checkExpirations()),this.events.on(oi.created,e=>{const r=oi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(oi.expired,e=>{const r=oi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(oi.deleted,e=>{const r=oi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}}var bie=Object.defineProperty,wie=(t,e,r)=>e in t?bie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qr=(t,e,r)=>wie(t,typeof e!="symbol"?e+"":e,r);class vie extends OW{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Qr(this,"name",vre),Qr(this,"abortController"),Qr(this,"isDevEnv"),Qr(this,"verifyUrlV3",Are),Qr(this,"storagePrefix",Fo),Qr(this,"version",KR),Qr(this,"publicKey"),Qr(this,"fetchPromise"),Qr(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Pe.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Qr(this,"register",async s=>{if(!Wg()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=Du.getDocument(),u=this.startAbortTimer(Pe.ONE_SECOND*5),f=await new Promise((d,h)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const y=E=>{if(E.data&&typeof E.data=="string")try{const C=JSON.parse(E.data);if(C.type==="verify_attestation"){if(SE(C.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),d(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),Qr(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(SE(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),Qr(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(Pe.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Qr(this,"getVerifyUrl",s=>{let i=s||Yp;return _re.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Yp}`),i=Yp),i}),Qr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(Pe.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),Qr(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Qr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Qr(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Qr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Qr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Qr(this,"validateAttestation",(s,i)=>{const o=Eee(s,i.publicKey),a={hasExpired:Pe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Gn(r,this.name),this.abortController=new AbortController,this.isDevEnv=y_(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Os(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Pe.toMiliseconds(e))}}var Eie=Object.defineProperty,Aie=(t,e,r)=>e in t?Eie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mx=(t,e,r)=>Aie(t,typeof e!="symbol"?e+"":e,r);class _ie extends RW{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,mx(this,"context",Cre),mx(this,"registerDeviceToken",async n=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=n,c=`${Sre}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Gn(r,this.context)}}var Cie=Object.defineProperty,yx=Object.getOwnPropertySymbols,Sie=Object.prototype.hasOwnProperty,xie=Object.prototype.propertyIsEnumerable,YE=(t,e,r)=>e in t?Cie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hp=(t,e)=>{for(var r in e||(e={}))Sie.call(e,r)&&YE(t,r,e[r]);if(yx)for(var r of yx(e))xie.call(e,r)&&YE(t,r,e[r]);return t},ln=(t,e,r)=>YE(t,typeof e!="symbol"?e+"":e,r);class Iie extends kW{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,ln(this,"context",Ire),ln(this,"storagePrefix",Fo),ln(this,"storageVersion",xre),ln(this,"events",new Map),ln(this,"shouldPersist",!1),ln(this,"init",async()=>{if(!y_())try{const s={eventId:a8(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:fR(this.core.relayer.protocol,this.core.relayer.version,HE)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ln(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=a8(),u=this.core.projectId||"",f=Date.now(),d=hp({eventId:l,timestamp:f,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),ln(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return hp(hp({},a),this.setMethods(a.eventId))}),ln(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),ln(this,"setEventListeners",()=>{this.core.heartbeat.on(Bh.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{Pe.fromMiliseconds(Date.now())-Pe.fromMiliseconds(s.timestamp)>Tre&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ln(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),ln(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),ln(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),ln(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ln(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,hp(hp({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),ln(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),ln(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Nre}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${HE}${i}`,{method:"POST",body:JSON.stringify(s)})}),ln(this,"getAppDomain",()=>uR().url),this.logger=Gn(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Tie=Object.defineProperty,bx=Object.getOwnPropertySymbols,Nie=Object.prototype.hasOwnProperty,Pie=Object.prototype.propertyIsEnumerable,QE=(t,e,r)=>e in t?Tie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wx=(t,e)=>{for(var r in e||(e={}))Nie.call(e,r)&&QE(t,r,e[r]);if(bx)for(var r of bx(e))Pie.call(e,r)&&QE(t,r,e[r]);return t},hr=(t,e,r)=>QE(t,typeof e!="symbol"?e+"":e,r);let Oie=class a9 extends vW{constructor(e){var r;super(e),hr(this,"protocol",WR),hr(this,"version",KR),hr(this,"name",jE),hr(this,"relayUrl"),hr(this,"projectId"),hr(this,"customStoragePrefix"),hr(this,"events",new Ci.EventEmitter),hr(this,"logger"),hr(this,"heartbeat"),hr(this,"relayer"),hr(this,"crypto"),hr(this,"storage"),hr(this,"history"),hr(this,"expirer"),hr(this,"pairing"),hr(this,"verify"),hr(this,"echoClient"),hr(this,"linkModeSupportedApps"),hr(this,"eventClient"),hr(this,"initialized",!1),hr(this,"logChunkController"),hr(this,"on",(o,a)=>this.events.on(o,a)),hr(this,"once",(o,a)=>this.events.once(o,a)),hr(this,"off",(o,a)=>this.events.off(o,a)),hr(this,"removeListener",(o,a)=>this.events.removeListener(o,a)),hr(this,"dispatchEnvelope",({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const l={topic:o,message:a,publishedAt:Date.now(),transportType:yr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})}),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||JR,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=Uh({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Qte.logger,name:jE}),{logger:s,chunkLoggerController:i}=a_({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=i,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Gn(s,this.name),this.heartbeat=new wV,this.crypto=new sse(this,this.logger,e==null?void 0:e.keychain),this.history=new pie(this,this.logger),this.expirer=new yie(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new tW(wx(wx({},Zte),e==null?void 0:e.storageOptions)),this.relayer=new Ose({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new fie(this,this.logger),this.verify=new vie(this,this.logger,this.storage),this.echoClient=new _ie(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Iie(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new a9(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(fre,n),r}get context(){return Os(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Z8,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Z8)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const Rie=Oie,c9="wc",l9=2,u9="client",T_=`${c9}@${l9}:${u9}:`,o2={name:u9,logger:"error"},vx="WALLETCONNECT_DEEPLINK_CHOICE",kie="proposal",Ex="Proposal expired",Die="session",wf=Pe.SEVEN_DAYS,Mie="engine",un={wc_sessionPropose:{req:{ttl:Pe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Pe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Pe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Pe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Pe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1119}}},a2={min:Pe.FIVE_MINUTES,max:Pe.SEVEN_DAYS},fo={idle:"IDLE",active:"ACTIVE"},Ax={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Bie="request",Uie=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],$ie="wc",Lie="auth",Fie="authKeys",jie="pairingTopics",Hie="requests",Rw=`${$ie}@${1.5}:${Lie}:`,yy=`${Rw}:PUB_KEY`;var zie=Object.defineProperty,qie=Object.defineProperties,Vie=Object.getOwnPropertyDescriptors,_x=Object.getOwnPropertySymbols,Wie=Object.prototype.hasOwnProperty,Kie=Object.prototype.propertyIsEnumerable,ZE=(t,e,r)=>e in t?zie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lr=(t,e)=>{for(var r in e||(e={}))Wie.call(e,r)&&ZE(t,r,e[r]);if(_x)for(var r of _x(e))Kie.call(e,r)&&ZE(t,r,e[r]);return t},Jn=(t,e)=>qie(t,Vie(e)),Ae=(t,e,r)=>ZE(t,typeof e!="symbol"?e+"":e,r);class Gie extends UW{constructor(e){super(e),Ae(this,"name",Mie),Ae(this,"events",new i_),Ae(this,"initialized",!1),Ae(this,"requestQueue",{state:fo.idle,queue:[]}),Ae(this,"sessionRequestQueue",{state:fo.idle,queue:[]}),Ae(this,"requestQueueDelay",Pe.ONE_SECOND),Ae(this,"expectedPairingMethodMap",new Map),Ae(this,"recentlyDeletedMap",new Map),Ae(this,"recentlyDeletedLimit",200),Ae(this,"relayMessageCache",[]),Ae(this,"pendingSessions",new Map),Ae(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(un)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Pe.toMiliseconds(this.requestQueueDelay)))}),Ae(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Jn(lr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=s,f,d=!1;try{if(u){const k=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=k.active}}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),k}if(!u||!d){const{topic:k,uri:B}=await this.client.core.pairing.create();u=k,f=B}if(!u){const{message:k}=Oe("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(k)}const h=await this.client.core.crypto.generateKeyPair(),p=un.wc_sessionPropose.req.ttl||Pe.FIVE_MINUTES,g=nn(p),y=Jn(lr(lr({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:GR}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:bo()}),E=Wt("session_connect",y.id),{reject:C,resolve:I,done:T}=Tl(p,Ex),N=({id:k})=>{k===y.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(y.id),this.events.emit(E,{error:{message:Ex,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(E,({error:k,session:B})=>{this.client.events.off("proposal_expire",N),k?C(k):B&&I(B)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:f,approval:T}}),Ae(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Ae(this,"approve",async r=>{var n,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Oi.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch($){throw o.setError(_l.no_internet_connection),$}try{await this.isValidProposalId(r==null?void 0:r.id)}catch($){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(_l.proposal_not_found),$}try{await this.isValidApprove(r)}catch($){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(_l.session_approve_namespace_validation_failure),$}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:y,optionalNamespaces:E}=h;let C=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:p});C||(C=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Oi.session_approve_started,properties:{topic:p,trace:[Oi.session_approve_started,Oi.session_namespaces_validation_success]}}));const I=await this.client.core.crypto.generateKeyPair(),T=g.publicKey,N=await this.client.core.crypto.generateSharedKey(I,T),k=lr(lr(lr({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:I,metadata:this.client.metadata},expiry:nn(wf)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),B=yr.relay;C.addTrace(Oi.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:B})}catch($){throw C.setError(_l.subscribe_session_topic_failure),$}C.addTrace(Oi.subscribe_session_topic_success);const L=Jn(lr({},k),{topic:N,requiredNamespaces:y,optionalNamespaces:E,pairingTopic:p,acknowledged:!1,self:k.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:I,transportType:yr.relay});await this.client.session.set(N,L),C.addTrace(Oi.store_session);try{C.addTrace(Oi.publishing_session_settle),await this.sendRequest({topic:N,method:"wc_sessionSettle",params:k,throwOnFailedPublish:!0}).catch($=>{throw C==null||C.setError(_l.session_settle_publish_failure),$}),C.addTrace(Oi.session_settle_publish_success),C.addTrace(Oi.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:I},throwOnFailedPublish:!0}).catch($=>{throw C==null||C.setError(_l.session_approve_publish_failure),$}),C.addTrace(Oi.session_approve_publish_success)}catch($){throw this.client.logger.error($),this.client.session.delete(N,nr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),$}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.client.proposal.delete(a,nr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(N,nn(wf)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),Ae(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:s}=r;let i;try{i=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}i&&(await this.sendError({id:n,topic:i,error:s,rpcOpts:un.wc_sessionPropose.reject}),await this.client.proposal.delete(n,nr("USER_DISCONNECTED")))}),Ae(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:s}=r,{done:i,resolve:o,reject:a}=Tl(),c=bo(),l=Hl().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Wt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:i}}),Ae(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,s=bo(),{done:i,resolve:o,reject:a}=Tl();return this.events.once(Wt("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,nn(wf)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),Ae(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:n,request:s,topic:i,expiry:o=un.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(i);(a==null?void 0:a.transportType)===yr.relay&&await this.confirmOnlineStateOrThrow();const c=bo(),l=Hl().toString(),{done:u,resolve:f,reject:d}=Tl(o,"Request expired. Please try again.");this.events.once(Wt("session_request",c),({error:E,result:C})=>{E?d(E):f(C)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:Jn(lr({},s),{expiryTimestamp:nn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(E=>d(E)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),await u();const g={request:Jn(lr({},s),{expiryTimestamp:nn(o)}),chainId:n},y=this.shouldSetTVF(h,g);return await Promise.all([new Promise(async E=>{await this.sendRequest(lr({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:o,throwOnFailedPublish:!0},y&&{tvf:this.getTVFParams(c,g)})).catch(C=>d(C)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),E()}),new Promise(async E=>{var C;if(!((C=a.sessionConfig)!=null&&C.disableDeepLink)){const I=await vZ(this.client.core.storage,vx);await yZ({id:c,topic:i,wcDeepLink:I})}E()}),u()]).then(E=>E[2])}),Ae(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:s}=r,{id:i}=s,o=this.client.session.get(n);o.transportType===yr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);wo(s)?await this.sendResult({id:i,topic:n,result:s.result,throwOnFailedPublish:!0,appLink:a}):pi(s)&&await this.sendError({id:i,topic:n,error:s.error,appLink:a}),this.cleanupAfterResponse(r)}),Ae(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=bo(),i=Hl().toString(),{done:o,resolve:a,reject:c}=Tl();this.events.once(Wt("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Ae(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:s,chainId:i}=r,o=Hl().toString(),a=bo();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Ae(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:nr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:s}=Oe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),Ae(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Ree(n,r)))),Ae(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ae(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?yr.link_mode:yr.relay;o===yr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:p,methods:g=[],expiry:y}=r,E=[...r.resources||[]],{topic:C,uri:I}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:I}});const T=await this.client.core.crypto.generateKeyPair(),N=gy(T);if(await Promise.all([this.client.auth.authKeys.set(yy,{responseTopic:N,publicKey:T}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:C})]),await this.client.core.relayer.subscribe(N,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${C}`),g.length>0){const{namespace:R}=id(a[0]);let v=fX(R,"request",g);py(E)&&(v=hX(v,E.pop())),E.push(v)}const k=y&&y>un.wc_sessionAuthenticate.req.ttl?y:un.wc_sessionAuthenticate.req.ttl,B={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:p,resources:E},requester:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:nn(k)},L={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},$={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:nn(un.wc_sessionPropose.req.ttl),id:bo()},{done:j,resolve:O,reject:m}=Tl(k,"Request expired"),A=bo(),S=Wt("session_connect",$.id),b=Wt("session_request",A),w=async({error:R,session:v})=>{this.events.off(b,x),R?m(R):v&&O({session:v})},x=async R=>{var v,U,K;if(await this.deletePendingAuthRequest(A,{message:"fulfilled",code:0}),R.error){const se=nr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===se.code?void 0:(this.events.off(S,w),m(R.error.message))}await this.deleteProposal($.id),this.events.off(S,w);const{cacaos:Q,responder:J}=R.result,re=[],le=[];for(const se of Q){await g8({cacao:se,projectId:this.client.core.projectId})||(this.client.logger.error(se,"Signature verification failed"),m(nr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ge}=se,ze=py(ge.resources),q=[OE(ge.iss)],V=ab(ge.iss);if(ze){const ee=m8(ze),ce=y8(ze);re.push(...ee),q.push(...ce)}for(const ee of q)le.push(`${ee}:${V}`)}const Y=await this.client.core.crypto.generateSharedKey(T,J.publicKey);let de;re.length>0&&(de={topic:Y,acknowledged:!0,self:{publicKey:T,metadata:this.client.metadata},peer:J,controller:J.publicKey,expiry:nn(wf),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:B8([...new Set(re)],[...new Set(le)]),transportType:o},await this.client.core.relayer.subscribe(Y,{transportType:o}),await this.client.session.set(Y,de),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:J.metadata}),de=this.client.session.get(Y)),(v=this.client.metadata.redirect)!=null&&v.linkMode&&(U=J.metadata.redirect)!=null&&U.linkMode&&(K=J.metadata.redirect)!=null&&K.universal&&n&&(this.client.core.addLinkModeSupportedApp(J.metadata.redirect.universal),this.client.session.update(Y,{transportType:yr.link_mode})),O({auths:Q,session:de})};this.events.once(S,w),this.events.once(b,x);let D;try{if(i){const R=qc("wc_sessionAuthenticate",B,A);this.client.core.history.set(C,R);const v=await this.client.core.crypto.encode("",R,{type:Yg,encoding:cp});D=Dm(n,C,v)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:B,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:A}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:$,expiry:un.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:$.id})])}catch(R){throw this.events.off(S,w),this.events.off(b,x),R}return await this.setProposal($.id,$),await this.setAuthRequest(A,{request:Jn(lr({},B),{verifyContext:{}}),pairingTopic:C,transportType:o}),{uri:D??I,response:j}}),Ae(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Cl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(fp.no_internet_connection),y}const o=this.getPendingAuthRequest(n);if(!o)throw i.setError(fp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||yr.relay;a===yr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=gy(c),f={type:Ma,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const y of s){if(!await g8({cacao:y,projectId:this.client.core.projectId})){i.setError(fp.invalid_cacao);const N=nr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:N,encodeOpts:f}),new Error(N.message)}i.addTrace(Cl.cacaos_verified);const{p:E}=y,C=py(E.resources),I=[OE(E.iss)],T=ab(E.iss);if(C){const N=m8(C),k=y8(C);d.push(...N),I.push(...k)}for(const N of I)h.push(`${N}:${T}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Cl.create_authenticated_session_topic);let g;if((d==null?void 0:d.length)>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:nn(wf),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:B8([...new Set(d)],[...new Set(h)]),transportType:a},i.addTrace(Cl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(fp.subscribe_authenticated_session_topic_failure),y}i.addTrace(Cl.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),i.addTrace(Cl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Cl.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(fp.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),Ae(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===yr.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=gy(o),l={type:Ma,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:s,encodeOpts:l,rpcOpts:un.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,nr("USER_DISCONNECTED"))}),Ae(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:s}=r;return AR(n,s)}),Ae(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),Ae(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Ae(this,"deleteSession",async r=>{var n;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,nr("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(vx).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,nr("USER_DISCONNECTED"))}),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=fo.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),Ae(this,"deleteProposal",async(r,n)=>{if(n)try{const s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(_l.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,nr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),Ae(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=fo.idle,this.client.events.emit("session_request_expire",{id:r}))}),Ae(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),Ae(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),Ae(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,nn(un.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),Ae(this,"setAuthRequest",async(r,n)=>{const{request:s,pairingTopic:i,transportType:o=yr.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),Ae(this,"setPendingSessionRequest",async r=>{const{id:n,topic:s,params:i,verifyContext:o}=r,a=i.request.expiryTimestamp||nn(un.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:o})}),Ae(this,"sendRequest",async r=>{const{topic:n,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f}=r,d=qc(s,i,c);let h;const p=!!u;try{const E=p?cp:zc;h=await this.client.core.crypto.encode(n,d,{encoding:E})}catch(E){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),E}let g;if(Uie.includes(s)){const E=Oo(JSON.stringify(d)),C=Oo(h);g=await this.client.core.verify.register({id:C,decryptedId:E})}const y=un[s].req;if(y.attestation=g,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(n,d),p){const E=Dm(u,n,h);await global.Linking.openURL(E,this.client.name)}else{const E=un[s].req;o&&(E.ttl=o),a&&(E.id=a),E.tvf=Jn(lr({},f),{correlationId:d.id}),l?(E.internal=Jn(lr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,E)):this.client.core.relayer.publish(n,h,E).catch(C=>this.client.logger.error(C))}return d.id}),Ae(this,"sendResult",async r=>{const{id:n,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=Tw(n,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=f?cp:zc;u=await this.client.core.crypto.encode(s,l,Jn(lr({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let d,h;try{d=await this.client.core.history.get(s,n);const p=d.request;try{this.shouldSetTVF(p.method,p.params)&&(h=this.getTVFParams(n,p.params,i))}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),p}if(f){const p=Dm(c,s,u);await global.Linking.openURL(p,this.client.name)}else{const p=d.request.method,g=un[p].res;g.tvf=Jn(lr({},h),{correlationId:n}),o?(g.internal=Jn(lr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),Ae(this,"sendError",async r=>{const{id:n,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=Nw(n,i);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?cp:zc;u=await this.client.core.crypto.encode(s,l,Jn(lr({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let d;try{d=await this.client.core.history.get(s,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),h}if(f){const h=Dm(c,s,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,p=a||un[h].res;this.client.core.relayer.publish(s,u,p)}await this.client.core.history.resolve(l)}),Ae(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;gc(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{gc(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),Ae(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),Ae(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),Ae(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===fo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=fo.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=fo.idle}),Ae(this,"processRequest",async r=>{const{topic:n,payload:s,attestation:i,transportType:o,encryptedId:a}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Ae(this,"onRelayEventResponse",async r=>{const{topic:n,payload:s,transportType:i}=r,o=(await this.client.core.history.get(n,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Ae(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:s}=Oe("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),Ae(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Ae(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:s,attestation:i,encryptedId:o}=r,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(ia.proposal_listener_not_found)),this.isValidConnect(lr({},s.params));const u=a.expiryTimestamp||nn(un.wc_sessionPropose.req.ttl),f=lr({id:c,pairingTopic:n,expiryTimestamp:u},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:i,hash:Oo(JSON.stringify(s)),encryptedId:o,metadata:f.proposer.metadata});l==null||l.addTrace(mo.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:un.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Ae(this,"onSessionProposeResponse",async(r,n,s)=>{const{id:i}=n;if(wo(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:r,proposalId:i,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(pi(n)){await this.client.proposal.delete(i,nr("USER_DISCONNECTED"));const o=Wt("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),Ae(this,"onSessionSettleRequest",async(r,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n.params,h=[...this.pendingSessions.values()].find(y=>y.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const p=this.client.proposal.get(h.proposalId),g=Jn(lr(lr(lr({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:yr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Wt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Ae(this,"onSessionSettleResponse",async(r,n)=>{const{id:s}=n;wo(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Wt("session_approve",s),{})):pi(n)&&(await this.client.session.delete(r,nr("USER_DISCONNECTED")),this.events.emit(Wt("session_approve",s),{error:n.error}))}),Ae(this,"onSessionUpdateRequest",async(r,n)=>{const{params:s,id:i}=n;try{const o=`${r}_session_update`,a=lp.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:nr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(lr({topic:r},s));try{lp.set(o,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw lp.delete(o),c}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Ae(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),Ae(this,"onSessionUpdateResponse",(r,n)=>{const{id:s}=n,i=Wt("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wo(n)?this.events.emit(Wt("session_update",s),{}):pi(n)&&this.events.emit(Wt("session_update",s),{error:n.error})}),Ae(this,"onSessionExtendRequest",async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,nn(wf)),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),Ae(this,"onSessionExtendResponse",(r,n)=>{const{id:s}=n,i=Wt("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wo(n)?this.events.emit(Wt("session_extend",s),{}):pi(n)&&this.events.emit(Wt("session_extend",s),{error:n.error})}),Ae(this,"onSessionPingRequest",async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),Ae(this,"onSessionPingResponse",(r,n)=>{const{id:s}=n,i=Wt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);wo(n)?this.events.emit(Wt("session_ping",s),{}):pi(n)&&this.events.emit(Wt("session_ping",s),{error:n.error})},500)}),Ae(this,"onSessionDeleteRequest",async(r,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(pn.publish,async()=>{i(await this.deleteSession({topic:r,id:s}))})}),this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:nr("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),Ae(this,"onSessionRequest",async r=>{var n,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:d}=a;try{await this.isValidRequest(lr({topic:o},d));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Oo(JSON.stringify(qc("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:o,params:d,verifyContext:p};await this.setPendingSessionRequest(g),u===yr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),Ae(this,"onSessionRequestResponse",(r,n)=>{const{id:s}=n,i=Wt("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);wo(n)?this.events.emit(Wt("session_request",s),{result:n.result}):pi(n)&&this.events.emit(Wt("session_request",s),{error:n.error})}),Ae(this,"onSessionEventRequest",async(r,n)=>{const{id:s,params:i}=n;try{const o=`${r}_session_event_${i.event.name}`,a=lp.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(lr({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),lp.set(o,s)}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Ae(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),wo(n)?this.events.emit(Wt("session_request",s),{result:n.result}):pi(n)&&this.events.emit(Wt("session_request",s),{error:n.error})}),Ae(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=i.params,d=await this.getVerifyContext({attestationId:o,hash:Oo(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===yr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:Ma,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:un.wc_sessionAuthenticate.autoReject,appLink:d})}}),Ae(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),Ae(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=fo.idle,this.processSessionRequestQueue()},Pe.toMiliseconds(this.requestQueueDelay))}),Ae(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Wt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Wt("session_request",i.request.id),{error:n})})}),Ae(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===fo.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=fo.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),Ae(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),Ae(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:qc("wc_sessionPropose",Jn(lr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),Ae(this,"isValidConnect",async r=>{if(!vs(r)){const{message:l}=Oe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=r;if(xn(n)||await this.isValidPairingTopic(n),!qee(c)){const{message:l}=Oe("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!xn(s)&&N0(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!xn(i)&&N0(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),xn(o)||this.validateSessionProps(o,"sessionProperties"),!xn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Ae(this,"validateNamespaces",(r,n)=>{const s=zee(r,"connect()",n);if(s)throw new Error(s.message)}),Ae(this,"isValidApprove",async r=>{if(!vs(r))throw new Error(Oe("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=Xv(s,"approve()");if(l)throw new Error(l.message);const u=L8(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Zr(i,!0)){const{message:f}=Oe("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(f)}if(xn(o)||this.validateSessionProps(o,"sessionProperties"),!xn(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(s));if(!Object.keys(a).every(d=>f.has(d)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),Ae(this,"isValidReject",async r=>{if(!vs(r)){const{message:i}=Oe("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Wee(s)){const{message:i}=Oe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),Ae(this,"isValidSessionSettleRequest",r=>{if(!vs(r)){const{message:l}=Oe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:s,namespaces:i,expiry:o}=r;if(!LR(n)){const{message:l}=Oe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Uee(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Xv(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(gc(o)){const{message:l}=Oe("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Ae(this,"isValidUpdate",async r=>{if(!vs(r)){const{message:c}=Oe("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const i=this.client.session.get(n),o=Xv(s,"update()");if(o)throw new Error(o.message);const a=L8(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),Ae(this,"isValidExtend",async r=>{if(!vs(r)){const{message:s}=Oe("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Ae(this,"isValidRequest",async r=>{if(!vs(r)){const{message:c}=Oe("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:s,chainId:i,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!$8(a,i)){const{message:c}=Oe("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!Kee(s)){const{message:c}=Oe("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Yee(a,i,s.method)){const{message:c}=Oe("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!ete(o,a2)){const{message:c}=Oe("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${a2.min} and ${a2.max}`);throw new Error(c)}}),Ae(this,"isValidRespond",async r=>{var n;if(!vs(r)){const{message:o}=Oe("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!Gee(i)){const{message:o}=Oe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),Ae(this,"isValidPing",async r=>{if(!vs(r)){const{message:s}=Oe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ae(this,"isValidEmit",async r=>{if(!vs(r)){const{message:a}=Oe("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!$8(o,i)){const{message:a}=Oe("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!Jee(s)){const{message:a}=Oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Qee(o,i,s.name)){const{message:a}=Oe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),Ae(this,"isValidDisconnect",async r=>{if(!vs(r)){const{message:s}=Oe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ae(this,"isValidAuthenticate",r=>{const{chains:n,uri:s,domain:i,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Zr(s,!1))throw new Error("uri is required parameter");if(!Zr(i,!1))throw new Error("domain is required parameter");if(!Zr(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>id(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=id(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ae(this,"getVerifyContext",async r=>{const{attestationId:n,hash:s,encryptedId:i,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||Yp,validation:"UNKNOWN",origin:o.url||""}};try{if(a===yr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Ae(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,i)=>{if(s==null){const{message:o}=Oe("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[i]}`);throw new Error(o)}})}),Ae(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),Ae(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),Ae(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:s}=Oe("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),Ae(this,"isLinkModeEnabled",(r,n)=>{var s,i,o,a,c,l,u,f,d;return!r||n!==yr.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((d=r==null?void 0:r.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Ae(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0}),Ae(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=o8(r,"topic")||"",s=decodeURIComponent(o8(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:yr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})}),Ae(this,"registerLinkModeListeners",async()=>{var r;if(y_()||dl()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),Ae(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:s}=n;return Object.keys(Ax).includes(s.method)}),Ae(this,"getTVFParams",(r,n,s)=>{var i,o;try{const a=n.request.method,c=this.extractTxHashesFromResult(a,s);return Jn(lr({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(i=n.request.params)==null?void 0:i[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),Ae(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const s=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),Ae(this,"extractTxHashesFromResult",(r,n)=>{try{const s=Ax[r];if(typeof n=="string")return[n];const i=n[s.key];if(Uu(i))return r==="solana_signAllTransactions"?i.map(o=>QZ(o)):i;if(typeof i=="string")return[i]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,s]of Object.entries(r))for(const i of s)try{await this.onProviderMessageEvent({topic:n,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Oe("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(pn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(yy)?this.client.auth.authKeys.get(yy):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:i===yr.link_mode?cp:zc});I_(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:s,transportType:i,encryptedId:Oo(n)})):Pw(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:i}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(oi.expired,async e=>{const{topic:r,id:n}=hR(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Oe("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Oe("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Dl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Dl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Zr(e,!1)){const{message:r}=Oe("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Oe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(gc(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Oe("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Zr(e,!1)){const{message:r}=Oe("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Oe("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(gc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Oe("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Oe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Zr(e,!1)){const{message:r}=Oe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Oe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Vee(e)){const{message:r}=Oe("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Oe("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(gc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Oe("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Jie extends of{constructor(e,r){super(e,r,kie,T_),this.core=e,this.logger=r}}let Yie=class extends of{constructor(e,r){super(e,r,Die,T_),this.core=e,this.logger=r}};class Qie extends of{constructor(e,r){super(e,r,Bie,T_,n=>n.id),this.core=e,this.logger=r}}class Zie extends of{constructor(e,r){super(e,r,Fie,Rw,()=>yy),this.core=e,this.logger=r}}class Xie extends of{constructor(e,r){super(e,r,jie,Rw),this.core=e,this.logger=r}}class eoe extends of{constructor(e,r){super(e,r,Hie,Rw,n=>n.id),this.core=e,this.logger=r}}var toe=Object.defineProperty,roe=(t,e,r)=>e in t?toe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c2=(t,e,r)=>roe(t,typeof e!="symbol"?e+"":e,r);class noe{constructor(e,r){this.core=e,this.logger=r,c2(this,"authKeys"),c2(this,"pairingTopics"),c2(this,"requests"),this.authKeys=new Zie(this.core,this.logger),this.pairingTopics=new Xie(this.core,this.logger),this.requests=new eoe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var soe=Object.defineProperty,ioe=(t,e,r)=>e in t?soe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,It=(t,e,r)=>ioe(t,typeof e!="symbol"?e+"":e,r);let ooe=class f9 extends BW{constructor(e){super(e),It(this,"protocol",c9),It(this,"version",l9),It(this,"name",o2.name),It(this,"metadata"),It(this,"core"),It(this,"logger"),It(this,"events",new Ci.EventEmitter),It(this,"engine"),It(this,"session"),It(this,"proposal"),It(this,"pendingRequest"),It(this,"auth"),It(this,"signConfig"),It(this,"on",(n,s)=>this.events.on(n,s)),It(this,"once",(n,s)=>this.events.once(n,s)),It(this,"off",(n,s)=>this.events.off(n,s)),It(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),It(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),It(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),It(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}}),It(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),It(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||o2.name,this.metadata=(e==null?void 0:e.metadata)||uR(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Fg(Uh({level:(e==null?void 0:e.logger)||o2.logger}));this.core=(e==null?void 0:e.core)||new Rie(e),this.logger=Gn(r,this.name),this.session=new Yie(this.core,this.logger),this.proposal=new Jie(this.core,this.logger),this.pendingRequest=new Qie(this.core,this.logger),this.engine=new Gie(this),this.auth=new noe(this.core,this.logger)}static async init(e){const r=new f9(e);return await r.initialize(),r}get context(){return Os(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},Pe.toMiliseconds(Pe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Bm={exports:{}},Cx;function aoe(){return Cx||(Cx=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Po<"u"&&Po,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof Po<"u"&&Po||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(b){return b&&DataView.prototype.isPrototypeOf(b)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(b){return b&&u.indexOf(Object.prototype.toString.call(b))>-1};function d(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function h(b){return typeof b!="string"&&(b=String(b)),b}function p(b){var w={next:function(){var x=b.shift();return{done:x===void 0,value:x}}};return c.iterable&&(w[Symbol.iterator]=function(){return w}),w}function g(b){this.map={},b instanceof g?b.forEach(function(w,x){this.append(x,w)},this):Array.isArray(b)?b.forEach(function(w){if(w.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+w.length);this.append(w[0],w[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(w){this.append(w,b[w])},this)}g.prototype.append=function(b,w){b=d(b),w=h(w);var x=this.map[b];this.map[b]=x?x+", "+w:w},g.prototype.delete=function(b){delete this.map[d(b)]},g.prototype.get=function(b){return b=d(b),this.has(b)?this.map[b]:null},g.prototype.has=function(b){return this.map.hasOwnProperty(d(b))},g.prototype.set=function(b,w){this.map[d(b)]=h(w)},g.prototype.forEach=function(b,w){for(var x in this.map)this.map.hasOwnProperty(x)&&b.call(w,this.map[x],x,this)},g.prototype.keys=function(){var b=[];return this.forEach(function(w,x){b.push(x)}),p(b)},g.prototype.values=function(){var b=[];return this.forEach(function(w){b.push(w)}),p(b)},g.prototype.entries=function(){var b=[];return this.forEach(function(w,x){b.push([x,w])}),p(b)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(b){if(!b._noBody){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}}function E(b){return new Promise(function(w,x){b.onload=function(){w(b.result)},b.onerror=function(){x(b.error)}})}function C(b){var w=new FileReader,x=E(w);return w.readAsArrayBuffer(b),x}function I(b){var w=new FileReader,x=E(w),D=/charset=([A-Za-z0-9_-]+)/.exec(b.type),R=D?D[1]:"utf-8";return w.readAsText(b,R),x}function T(b){for(var w=new Uint8Array(b),x=new Array(w.length),D=0;D<w.length;D++)x[D]=String.fromCharCode(w[D]);return x.join("")}function N(b){if(b.slice)return b.slice(0);var w=new Uint8Array(b.byteLength);return w.set(new Uint8Array(b)),w.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:c.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:c.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():c.arrayBuffer&&c.blob&&l(b)?(this._bodyArrayBuffer=N(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||f(b))?this._bodyArrayBuffer=N(b):this._bodyText=b=Object.prototype.toString.call(b):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var b=y(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=y(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(C);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var b=y(this);if(b)return b;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var B=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(b){var w=b.toUpperCase();return B.indexOf(w)>-1?w:b}function $(b,w){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w=w||{};var x=w.body;if(b instanceof $){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,w.headers||(this.headers=new g(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!x&&b._bodyInit!=null&&(x=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new g(w.headers)),this.method=L(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal||function(){if("AbortController"in a){var v=new AbortController;return v.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(x),(this.method==="GET"||this.method==="HEAD")&&(w.cache==="no-store"||w.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function j(b){var w=new FormData;return b.trim().split("&").forEach(function(x){if(x){var D=x.split("="),R=D.shift().replace(/\+/g," "),v=D.join("=").replace(/\+/g," ");w.append(decodeURIComponent(R),decodeURIComponent(v))}}),w}function O(b){var w=new g,x=b.replace(/\r?\n[\t ]+/g," ");return x.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var R=D.split(":"),v=R.shift().trim();if(v){var U=R.join(":").trim();try{w.append(v,U)}catch(K){console.warn("Response "+K.message)}}}),w}k.call($.prototype);function m(b,w){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=w.statusText===void 0?"":""+w.statusText,this.headers=new g(w.headers),this.url=w.url||"",this._initBody(b)}k.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},m.error=function(){var b=new m(null,{status:200,statusText:""});return b.ok=!1,b.status=0,b.type="error",b};var A=[301,302,303,307,308];m.redirect=function(b,w){if(A.indexOf(w)===-1)throw new RangeError("Invalid status code");return new m(null,{status:w,headers:{location:b}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,x){this.message=w,this.name=x;var D=Error(w);this.stack=D.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function S(b,w){return new Promise(function(x,D){var R=new $(b,w);if(R.signal&&R.signal.aborted)return D(new o.DOMException("Aborted","AbortError"));var v=new XMLHttpRequest;function U(){v.abort()}v.onload=function(){var J={statusText:v.statusText,headers:O(v.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(v.status<200||v.status>599)?J.status=200:J.status=v.status,J.url="responseURL"in v?v.responseURL:J.headers.get("X-Request-URL");var re="response"in v?v.response:v.responseText;setTimeout(function(){x(new m(re,J))},0)},v.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},v.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},v.onabort=function(){setTimeout(function(){D(new o.DOMException("Aborted","AbortError"))},0)};function K(J){try{return J===""&&a.location.href?a.location.href:J}catch{return J}}if(v.open(R.method,K(R.url),!0),R.credentials==="include"?v.withCredentials=!0:R.credentials==="omit"&&(v.withCredentials=!1),"responseType"in v&&(c.blob?v.responseType="blob":c.arrayBuffer&&(v.responseType="arraybuffer")),w&&typeof w.headers=="object"&&!(w.headers instanceof g||a.Headers&&w.headers instanceof a.Headers)){var Q=[];Object.getOwnPropertyNames(w.headers).forEach(function(J){Q.push(d(J)),v.setRequestHeader(J,h(w.headers[J]))}),R.headers.forEach(function(J,re){Q.indexOf(re)===-1&&v.setRequestHeader(re,J)})}else R.headers.forEach(function(J,re){v.setRequestHeader(re,J)});R.signal&&(R.signal.addEventListener("abort",U),v.onreadystatechange=function(){v.readyState===4&&R.signal.removeEventListener("abort",U)}),v.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return S.polyfill=!0,a.fetch||(a.fetch=S,a.Headers=g,a.Request=$,a.Response=m),o.Headers=g,o.Request=$,o.Response=m,o.fetch=S,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=r.fetch?r:n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(Bm,Bm.exports)),Bm.exports}var coe=aoe();const Sx=Qu(coe);var loe=Object.defineProperty,uoe=Object.defineProperties,foe=Object.getOwnPropertyDescriptors,xx=Object.getOwnPropertySymbols,doe=Object.prototype.hasOwnProperty,hoe=Object.prototype.propertyIsEnumerable,Ix=(t,e,r)=>e in t?loe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tx=(t,e)=>{for(var r in e||(e={}))doe.call(e,r)&&Ix(t,r,e[r]);if(xx)for(var r of xx(e))hoe.call(e,r)&&Ix(t,r,e[r]);return t},Nx=(t,e)=>uoe(t,foe(e));const poe={Accept:"application/json","Content-Type":"application/json"},goe="POST",Px={headers:poe,method:goe},Ox=10;let no=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Ci.EventEmitter,this.isAvailable=!1,this.registering=!1,!W8(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Ha(e),n=await(await Sx(this.url,Nx(Tx({},Px),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!W8(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Ha({id:1,jsonrpc:"2.0",method:"test",params:[]});await Sx(e,Nx(Tx({},Px),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?ku(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=Nw(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return HR(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Ox&&this.events.setMaxListeners(Ox)}};const Rx="error",moe="wss://relay.walletconnect.org",yoe="wc",boe="universal_provider",Um=`${yoe}@2:${boe}:`,d9="https://rpc.walletconnect.org/v1/",Ff="generic",woe=`${d9}bundler`,Ii={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function voe(){}function N_(t){return t==null||typeof t!="object"&&typeof t!="function"}function P_(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Eoe(t){if(N_(t))return t;if(Array.isArray(t)||P_(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function kx(t){return typeof t=="object"&&t!==null}function h9(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function p9(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Aoe="[object RegExp]",g9="[object String]",m9="[object Number]",y9="[object Boolean]",b9="[object Arguments]",_oe="[object Symbol]",Coe="[object Date]",Soe="[object Map]",xoe="[object Set]",Ioe="[object Array]",Toe="[object ArrayBuffer]",Noe="[object Object]",Poe="[object DataView]",Ooe="[object Uint8Array]",Roe="[object Uint8ClampedArray]",koe="[object Uint16Array]",Doe="[object Uint32Array]",Moe="[object Int8Array]",Boe="[object Int16Array]",Uoe="[object Int32Array]",$oe="[object Float32Array]",Loe="[object Float64Array]";function Foe(t,e){return Gf(t,void 0,t,new Map,e)}function Gf(t,e,r,n=new Map,s=void 0){const i=s==null?void 0:s(t,e,r,n);if(i!=null)return i;if(N_(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Gf(t[a],a,r,n,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Gf(c,a,r,n,s));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Gf(a,void 0,r,n,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(P_(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Gf(t[a],a,r,n,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Ml(o,t,r,n,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Ml(o,t,r,n,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Ml(o,t,r,n,s),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Ml(o,t,r,n,s),o}if(typeof t=="object"&&joe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Ml(o,t,r,n,s),o}return t}function Ml(t,e,r=t,n,s){const i=[...Object.keys(e),...h9(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Gf(e[a],a,r,n,s))}}function joe(t){switch(p9(t)){case b9:case Ioe:case Toe:case Poe:case y9:case Coe:case $oe:case Loe:case Moe:case Boe:case Uoe:case Soe:case m9:case Noe:case Aoe:case xoe:case g9:case _oe:case Ooe:case Roe:case koe:case Doe:return!0;default:return!1}}function Hoe(t,e){return Foe(t,(r,n,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case m9:case g9:case y9:{const o=new t.constructor(t==null?void 0:t.valueOf());return Ml(o,t),o}case b9:{const o={};return Ml(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Dx(t){return Hoe(t)}function Mx(t){return t!==null&&typeof t=="object"&&p9(t)==="[object Arguments]"}function zoe(t){return P_(t)}function qoe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Voe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let s=t;for(let i=0;i<r.length;i++){const o=r[i];s=XE(s,o,n,new Map)}return s}function XE(t,e,r,n){if(N_(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Eoe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...h9(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(Mx(a)&&(a={...a}),Mx(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Dx(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];u[h]=c[h]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||kx(c)&&kx(a)?t[o]=XE(c,a,r,n):c==null&&qoe(a)?t[o]=XE({},a,r,n):c==null&&zoe(a)?t[o]=Dx(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Woe(t,...e){return Voe(t,...e,voe)}var Koe=Object.defineProperty,Goe=Object.defineProperties,Joe=Object.getOwnPropertyDescriptors,Bx=Object.getOwnPropertySymbols,Yoe=Object.prototype.hasOwnProperty,Qoe=Object.prototype.propertyIsEnumerable,Ux=(t,e,r)=>e in t?Koe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$m=(t,e)=>{for(var r in e||(e={}))Yoe.call(e,r)&&Ux(t,r,e[r]);if(Bx)for(var r of Bx(e))Qoe.call(e,r)&&Ux(t,r,e[r]);return t},Zoe=(t,e)=>Goe(t,Joe(e));function Qs(t,e,r){var n;const s=id(t);return((n=e.rpcMap)==null?void 0:n[s.reference])||`${d9}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function af(t){return t.includes(":")?t.split(":")[1]:t}function w9(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Xoe(t,e){const r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];const n=[];return r.forEach(s=>{const i=e.namespaces[s].accounts;n.push(...i)}),n}function l2(t={},e={}){const r=$x(t),n=$x(e);return Woe(r,n)}function $x(t){var e,r,n,s;const i={};if(!N0(t))return i;for(const[o,a]of Object.entries(t)){const c=C_(o)?[o]:a.chains,l=a.methods||[],u=a.events||[],f=a.rpcMap||{},d=Tp(o);i[d]=Zoe($m($m({},i[d]),a),{chains:hy(c,(e=i[d])==null?void 0:e.chains),methods:hy(l,(r=i[d])==null?void 0:r.methods),events:hy(u,(n=i[d])==null?void 0:n.events),rpcMap:$m($m({},f),(s=i[d])==null?void 0:s.rpcMap)})}return i}function eae(t){return t.includes(":")?t.split(":")[2]:t}function Lx(t){const e={};for(const[r,n]of Object.entries(t)){const s=n.methods||[],i=n.events||[],o=n.accounts||[],a=C_(r)?[r]:n.chains?n.chains:w9(n.accounts);e[r]={chains:a,methods:s,events:i,accounts:o}}return e}function u2(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const v9={},Ht=t=>v9[t],f2=(t,e)=>{v9[t]=e};var tae=Object.defineProperty,rae=(t,e,r)=>e in t?tae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vf=(t,e,r)=>rae(t,typeof e!="symbol"?e+"":e,r);class nae{constructor(e){vf(this,"name","polkadot"),vf(this,"client"),vf(this,"httpProviders"),vf(this,"events"),vf(this,"namespace"),vf(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=af(r);e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}}var sae=Object.defineProperty,iae=Object.defineProperties,oae=Object.getOwnPropertyDescriptors,Fx=Object.getOwnPropertySymbols,aae=Object.prototype.hasOwnProperty,cae=Object.prototype.propertyIsEnumerable,eA=(t,e,r)=>e in t?sae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jx=(t,e)=>{for(var r in e||(e={}))aae.call(e,r)&&eA(t,r,e[r]);if(Fx)for(var r of Fx(e))cae.call(e,r)&&eA(t,r,e[r]);return t},Hx=(t,e)=>iae(t,oae(e)),Ef=(t,e,r)=>eA(t,typeof e!="symbol"?e+"":e,r);class lae{constructor(e){Ef(this,"name","eip155"),Ef(this,"client"),Ef(this,"chainId"),Ef(this,"namespace"),Ef(this,"httpProviders"),Ef(this,"events"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Qs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=parseInt(af(r));e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let s=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,s;const i=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0];if(!i)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((s=o==null?void 0:o.sessionProperties)==null?void 0:s.capabilities)||{};if(a!=null&&a[i])return a==null?void 0:a[i];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Hx(jx({},o.sessionProperties||{}),{capabilities:Hx(jx({},a||{}),{[i]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var r,n;const s=this.client.session.get(e.topic),i=(r=s.sessionProperties)==null?void 0:r.bundler_name;if(i){const a=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=s.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(qc("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,r){return`${woe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var uae=Object.defineProperty,fae=(t,e,r)=>e in t?uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Af=(t,e,r)=>fae(t,typeof e!="symbol"?e+"":e,r);class dae{constructor(e){Af(this,"name","solana"),Af(this,"client"),Af(this,"httpProviders"),Af(this,"events"),Af(this,"namespace"),Af(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=af(r);e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}}var hae=Object.defineProperty,pae=(t,e,r)=>e in t?hae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_f=(t,e,r)=>pae(t,typeof e!="symbol"?e+"":e,r);class gae{constructor(e){_f(this,"name","cosmos"),_f(this,"client"),_f(this,"httpProviders"),_f(this,"events"),_f(this,"namespace"),_f(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=af(r);e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}}var mae=Object.defineProperty,yae=(t,e,r)=>e in t?mae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cf=(t,e,r)=>yae(t,typeof e!="symbol"?e+"":e,r);class bae{constructor(e){Cf(this,"name","algorand"),Cf(this,"client"),Cf(this,"httpProviders"),Cf(this,"events"),Cf(this,"namespace"),Cf(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Qs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new xi(new no(n,Ht("disableProviderPing")))}}var wae=Object.defineProperty,vae=(t,e,r)=>e in t?wae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sf=(t,e,r)=>vae(t,typeof e!="symbol"?e+"":e,r);class Eae{constructor(e){Sf(this,"name","cip34"),Sf(this,"client"),Sf(this,"httpProviders"),Sf(this,"events"),Sf(this,"namespace"),Sf(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),s=af(r);e[s]=this.createHttpProvider(s,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}}var Aae=Object.defineProperty,_ae=(t,e,r)=>e in t?Aae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xf=(t,e,r)=>_ae(t,typeof e!="symbol"?e+"":e,r);class Cae{constructor(e){xf(this,"name","elrond"),xf(this,"client"),xf(this,"httpProviders"),xf(this,"events"),xf(this,"namespace"),xf(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=af(r);e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}}var Sae=Object.defineProperty,xae=(t,e,r)=>e in t?Sae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,If=(t,e,r)=>xae(t,typeof e!="symbol"?e+"":e,r);class Iae{constructor(e){If(this,"name","multiversx"),If(this,"client"),If(this,"httpProviders"),If(this,"events"),If(this,"namespace"),If(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=af(r);e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}}var Tae=Object.defineProperty,Nae=(t,e,r)=>e in t?Tae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tf=(t,e,r)=>Nae(t,typeof e!="symbol"?e+"":e,r);class Pae{constructor(e){Tf(this,"name","near"),Tf(this,"client"),Tf(this,"httpProviders"),Tf(this,"events"),Tf(this,"namespace"),Tf(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Qs(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace);return typeof n>"u"?void 0:new xi(new no(n,Ht("disableProviderPing")))}}var Oae=Object.defineProperty,Rae=(t,e,r)=>e in t?Oae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nf=(t,e,r)=>Rae(t,typeof e!="symbol"?e+"":e,r);class kae{constructor(e){Nf(this,"name","tezos"),Nf(this,"client"),Nf(this,"httpProviders"),Nf(this,"events"),Nf(this,"namespace"),Nf(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Qs(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace);return typeof n>"u"?void 0:new xi(new no(n))}}var Dae=Object.defineProperty,Mae=(t,e,r)=>e in t?Dae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pf=(t,e,r)=>Mae(t,typeof e!="symbol"?e+"":e,r);class Bae{constructor(e){Pf(this,"name",Ff),Pf(this,"client"),Pf(this,"httpProviders"),Pf(this,"events"),Pf(this,"namespace"),Pf(this,"chainId"),this.namespace=e.namespace,this.events=Ht("events"),this.client=Ht("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(s=>{const i=id(s);n[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Qs(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new xi(new no(n,Ht("disableProviderPing")))}}var Uae=Object.defineProperty,$ae=Object.defineProperties,Lae=Object.getOwnPropertyDescriptors,zx=Object.getOwnPropertySymbols,Fae=Object.prototype.hasOwnProperty,jae=Object.prototype.propertyIsEnumerable,tA=(t,e,r)=>e in t?Uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lm=(t,e)=>{for(var r in e||(e={}))Fae.call(e,r)&&tA(t,r,e[r]);if(zx)for(var r of zx(e))jae.call(e,r)&&tA(t,r,e[r]);return t},d2=(t,e)=>$ae(t,Lae(e)),ti=(t,e,r)=>tA(t,typeof e!="symbol"?e+"":e,r);let Hae=class E9{constructor(e){ti(this,"client"),ti(this,"namespaces"),ti(this,"optionalNamespaces"),ti(this,"sessionProperties"),ti(this,"scopedProperties"),ti(this,"events",new i_),ti(this,"rpcProviders",{}),ti(this,"session"),ti(this,"providerOpts"),ti(this,"logger"),ti(this,"uri"),ti(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Fg(Uh({level:(e==null?void 0:e.logger)||Rx})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new E9(e);return await r.initialize(),r}async request(e,r,n){const[s,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Lm({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,s){const i=new Date().getTime();this.request(e,n,s).then(o=>r(null,Tw(i,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:nr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:s}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await s();if(this.session=i.session,this.session){const o=Lx(this.session.namespaces);this.namespaces=l2(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const s=await n();this.session=s;const i=Lx(s.namespaces);return this.namespaces=l2(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,s]=this.validateChain(e),i=this.getProvider(n);i.name===Ff?i.setDefaultChain(`${n}:${s}`,r):i.setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Uu(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await ooe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Rx,relayUrl:this.providerOpts.relayUrl||moe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Tp(r)))];f2("client",this.client),f2("events",this.events),f2("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Xoe(r,this.session),s=w9(n),i=l2(this.namespaces,this.optionalNamespaces),o=d2(Lm({},i[r]),{accounts:n,chains:s});switch(r){case"eip155":this.rpcProviders[r]=new lae({namespace:o});break;case"algorand":this.rpcProviders[r]=new bae({namespace:o});break;case"solana":this.rpcProviders[r]=new dae({namespace:o});break;case"cosmos":this.rpcProviders[r]=new gae({namespace:o});break;case"polkadot":this.rpcProviders[r]=new nae({namespace:o});break;case"cip34":this.rpcProviders[r]=new Eae({namespace:o});break;case"elrond":this.rpcProviders[r]=new Cae({namespace:o});break;case"multiversx":this.rpcProviders[r]=new Iae({namespace:o});break;case"near":this.rpcProviders[r]=new Pae({namespace:o});break;case"tezos":this.rpcProviders[r]=new kae({namespace:o});break;default:this.rpcProviders[Ff]?this.rpcProviders[Ff].updateNamespace(o):this.rpcProviders[Ff]=new Bae({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:s}=e;if(s!==((r=this.session)==null?void 0:r.topic))return;const{event:i}=n;if(i.name==="accountsChanged"){const o=i.data;o&&Uu(o)&&this.events.emit("accountsChanged",o.map(eae))}else if(i.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Tp(o),l=u2(o)!==u2(a)?`${c}:${u2(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,s;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:i}=r,o=(s=this.client)==null?void 0:s.session.get(e);this.session=d2(Lm({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",d2(Lm({},nr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ii.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Ff]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:s,scopedProperties:i}=e;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Tp(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const s=Tp(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,s]=this.validateChain(e);s&&(r||this.getProvider(n).setDefaultChain(s),this.namespaces[n]?this.namespaces[n].defaultChain=s:this.namespaces[`${n}:${s}`]?this.namespaces[`${n}:${s}`].defaultChain=s:this.namespaces[`${n}:${s}`]={defaultChain:s},this.events.emit("chainChanged",s),await this.persist("namespaces",this.namespaces))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Um}/${e}${s}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Um}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Um}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Um)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};var gh={};const zae="https://secure.walletconnect.org/sdk",qae=(typeof process<"u"&&typeof gh<"u"?gh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||zae,Vae=(typeof process<"u"&&typeof gh<"u"?gh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Wae=(typeof process<"u"&&typeof gh<"u"?gh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ve={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},vr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Kae={handleSolanaDeeplinkRedirect(t){if(X.state.activeChain===ke.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const n=e.startsWith("https")?"https":"http",s=e.split("/")[2],i=encodeURIComponent(`${n}://${s}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${i}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},Gae={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?an.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(rt.isTelegram()){if(rt.isIos())return t.filter(e=>e!=="google");if(rt.isMac())return t.filter(e=>e!=="x");if(rt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},at=Er({features:an.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:an.DEFAULT_ACCOUNT_TYPES}),Re={state:at,subscribeKey(t,e){return Ps(at,t,e)},setOptions(t){Object.assign(at,t)},setFeatures(t){if(!t)return;at.features||(at.features=an.DEFAULT_FEATURES);const e={...at.features,...t};at.features=e,at.features.socials&&(at.features.socials=Gae.filterSocialsByPlatform(at.features.socials))},setProjectId(t){at.projectId=t},setAllWallets(t){at.allWallets=t},setIncludeWalletIds(t){at.includeWalletIds=t},setExcludeWalletIds(t){at.excludeWalletIds=t},setFeaturedWalletIds(t){at.featuredWalletIds=t},setTokens(t){at.tokens=t},setTermsConditionsUrl(t){at.termsConditionsUrl=t},setPrivacyPolicyUrl(t){at.privacyPolicyUrl=t},setCustomWallets(t){at.customWallets=t},setIsSiweEnabled(t){at.isSiweEnabled=t},setIsUniversalProvider(t){at.isUniversalProvider=t},setSdkVersion(t){at.sdkVersion=t},setMetadata(t){at.metadata=t},setDisableAppend(t){at.disableAppend=t},setEIP6963Enabled(t){at.enableEIP6963=t},setDebug(t){at.debug=t},setEnableWalletConnect(t){at.enableWalletConnect=t},setEnableWalletGuide(t){at.enableWalletGuide=t},setEnableAuthLogger(t){at.enableAuthLogger=t},setEnableWallets(t){at.enableWallets=t},setHasMultipleAddresses(t){at.hasMultipleAddresses=t},setSIWX(t){at.siwx=t},setConnectMethodsOrder(t){at.features={...at.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){at.features={...at.features,walletFeaturesOrder:t}},setSocialsOrder(t){at.features={...at.features,socials:t}},setCollapseWallets(t){at.features={...at.features,collapseWallets:t}},setEnableEmbedded(t){at.enableEmbedded=t},setAllowUnsupportedChain(t){at.allowUnsupportedChain=t},setManualWCControl(t){at.manualWCControl=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(at.defaultAccountTypes[e]=r)})},getSnapshot(){return _0(at)}},Vt=Er({view:"Connect",history:["Connect"],transactionStack:[]}),Ct={state:Vt,subscribeKey(t,e){return Ps(Vt,t,e)},pushTransactionStack(t){Vt.transactionStack.push(t)},popTransactionStack(t){var r,n;const e=Vt.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const i=Vt.history.indexOf("ConnectingSiwe");i>0?this.goBackToIndex(i-1):(en.close(),Vt.history=[])}else e.view&&this.reset(e.view);(n=e==null?void 0:e.onSuccess)==null||n.call(e)}},push(t,e){t!==Vt.view&&(Vt.view=t,Vt.history.push(t),Vt.data=e)},reset(t,e){Vt.view=t,Vt.history=[t],Vt.data=e},replace(t,e){Vt.history.at(-1)===t||(Vt.view=t,Vt.history[Vt.history.length-1]=t,Vt.data=e)},goBack(){var e;const t=!X.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Vt.history.length>1&&!Vt.history.includes("UnsupportedChain")){Vt.history.pop();const[r]=Vt.history.slice(-1);r&&(Vt.view=r)}else en.close();(e=Vt.data)!=null&&e.wallet&&(Vt.data.wallet=void 0),setTimeout(()=>{var r,n,s;if(t){qe.setFarcasterUrl(void 0,X.state.activeChain);const i=ft.getAuthConnector();(r=i==null?void 0:i.provider)==null||r.reload();const o=_0(Re.state);(s=(n=i==null?void 0:i.provider)==null?void 0:n.syncDappData)==null||s.call(n,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Vt.history.length>1){Vt.history=Vt.history.slice(0,t+1);const[e]=Vt.history.slice(-1);e&&(Vt.view=e)}}},ta=Er({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Ln={state:ta,subscribe(t){return fs(ta,()=>t(ta))},setThemeMode(t){ta.themeMode=t;try{const e=ft.getAuthConnector();if(e){const r=Ln.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Oa(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ta.themeVariables={...ta.themeVariables,...t};try{const e=ft.getAuthConnector();if(e){const r=Ln.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Oa(ta.themeVariables,ta.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return _0(ta)}},A9={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},zt=Er({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...A9}}),ft={state:zt,subscribe(t){return fs(zt,()=>{t(zt)})},subscribeKey(t,e){return Ps(zt,t,e)},initialize(t){t.forEach(e=>{const r=We.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(zt.activeConnector=Ru(t))},setConnectors(t){t.filter(r=>!zt.allConnectors.some(n=>n.id===r.id&&this.getConnectorName(n.name)===this.getConnectorName(r.name)&&n.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&zt.allConnectors.push(Ru(r))}),zt.connectors=this.mergeMultiChainConnectors(zt.allConnectors)},removeAdapter(t){zt.allConnectors=zt.allConnectors.filter(e=>e.chain!==t),zt.connectors=this.mergeMultiChainConnectors(zt.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const s=n[0],i=(s==null?void 0:s.id)===ke.CONNECTOR_ID.AUTH;n.length>1&&s?r.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...n],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&r.push(s)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,s=this.getConnectorName(n);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===r.chain)||i.push(r),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===ke.CONNECTOR_ID.AUTH){const s=t,i=_0(Re.state),o=Ln.getSnapshot().themeMode,a=Ln.getSnapshot().themeVariables;(r=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(n=s==null?void 0:s.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Oa(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var n;const e=t||X.state.activeChain,r=zt.connectors.find(s=>s.id===ke.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return zt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return zt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return zt.allConnectors.find(r=>{var n;return r.explorerId===t||((n=r.info)==null?void 0:n.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="ID_AUTH")return;const e=t,r=_0(Re.state),n=Ln.getSnapshot().themeMode,s=Ln.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:s,w3mThemeVariables:Oa(s,n)})},getConnectorsByNamespace(t){const e=zt.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ft.getConnector(t.id,t.rdns);X.state.activeChain===ke.CHAIN.SOLANA&&Kae.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?Ct.push("ConnectingExternal",{connector:e}):Ct.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(zt.allConnectors)},setFilterByNamespace(t){zt.filterByNamespace=t,zt.connectors=this.getConnectors(t)},clearNamespaceFilter(){zt.filterByNamespace=void 0,zt.connectors=this.getConnectors()},setConnectorId(t,e){t&&(zt.activeConnectorIds={...zt.activeConnectorIds,[e]:t},We.setConnectedConnectorId(e,t))},removeConnectorId(t){zt.activeConnectorIds={...zt.activeConnectorIds,[t]:void 0},We.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return zt.activeConnectorIds[t]},isConnected(t){return t?!!zt.activeConnectorIds[t]:Object.values(zt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){zt.activeConnectorIds={...A9}}},rc=Er({message:"",variant:"info",open:!1}),od={state:rc,subscribeKey(t,e){return Ps(rc,t,e)},open(t,e){const{debug:r}=Re.state,{shortMessage:n,longMessage:s}=t;r&&(rc.message=n,rc.variant=e,rc.open=!0),s&&console.error(typeof s=="function"?s():s)},close(){rc.open=!1,rc.message="",rc.variant="info"}},Jae=rt.getAnalyticsUrl(),Yae=new yw({baseUrl:Jae,clientId:null}),Qae=["MODAL_CREATED"],ra=Er({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Zt={state:ra,subscribe(t){return fs(ra,()=>t(ra))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Re.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=qe.state.address;if(Qae.includes(t.data.event)||typeof window>"u")return;await Yae.post({path:"/e",params:Zt.getSdkProperties(),body:{eventId:rt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ra.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ke.HTTP_STATUS_CODES.FORBIDDEN&&!ra.reportedErrors.FORBIDDEN&&(od.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Sp()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ra.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;ra.timestamp=Date.now(),ra.data=t,(e=Re.state.features)!=null&&e.analytics&&Zt._sendAnalyticsEvent(ra)}},Nl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),rn=Er({...Nl}),Qt={state:rn,subscribeKey(t,e){return Ps(rn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=rt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){rn.message=Nl.message,rn.variant=Nl.variant,rn.svg=Nl.svg,rn.open=Nl.open,rn.autoClose=Nl.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Nl.autoClose}){rn.open?(rn.open=!1,setTimeout(()=>{rn.message=t,rn.variant=r,rn.svg=e,rn.open=!0,rn.autoClose=n},150)):(rn.message=t,rn.variant=r,rn.svg=e,rn.open=!0,rn.autoClose=n)}},Zp={getSIWX(){return Re.state.siwx},async initializeIfEnabled(){var i;const t=Re.state.siwx,e=X.getActiveCaipAddress();if(!(t&&e))return;const[r,n,s]=e.split(":");if(X.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${n}`,s)).length)return;await en.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Zt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((i=_t._getClient())==null?void 0:i.disconnect().catch(console.error)),Ct.reset("Connect"),Qt.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Re.state.siwx,e=rt.getPlainAddress(X.getActiveCaipAddress()),r=X.getActiveCaipNetwork(),n=_t._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),i=s.toString();ft.getConnectorId(r.chainNamespace)===ke.CONNECTOR_ID.AUTH&&Ct.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await n.signMessage(i);await t.addSession({data:s,message:i,signature:a}),en.close(),Zt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!en.state.open||Ct.state.view==="ApproveTransaction")&&await en.open({view:"SIWXSignMessage"}),i.isSmartAccount?Qt.showError("This application might not support Smart Accounts"):Qt.showError("Signature declined"),Zt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await _t.disconnect():en.close(),Ct.reset("Connect"),Zt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=Re.state.siwx,e=rt.getPlainAddress(X.getActiveCaipAddress()),r=X.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=Ct.state.view==="ApproveTransaction",n=Ct.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var a,c,l;const n=Zp.getSIWX(),s=new Set(e.map(u=>u.split(":")[0]));if(!n||s.size!==1||!s.has("eip155"))return!1;const i=await n.createMessage({chainId:((a=X.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:r,chains:[i.chainId,...e.filter(u=>u!==i.chainId)]});if(Qt.showLoading("Authenticating...",{autoClose:!1}),qe.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(f=>{const d=t.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||i.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:d,signature:f.s.s,cacao:f}});try{await n.setSessions(u),Zt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Zp.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),Zt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Zp.getSIWXEventProperties()}),await t.disconnect().catch(console.error),f}finally{Qt.hide()}}return!0},getSIWXEventProperties(){var t;return{network:((t=X.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},pr=Er({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Zae={state:pr,subscribe(t){return fs(pr,()=>t(pr))},setLastNetworkInView(t){pr.lastNetworkInView=t},async fetchTransactions(t,e){var r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");pr.loading=!0;try{const n=await Ye.fetchTransactions({account:t,cursor:pr.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),s=this.filterSpamTransactions(n.data),i=this.filterByConnectedChain(s),o=[...pr.transactions,...i];pr.loading=!1,e==="coinbase"?pr.coinbaseTransactions=this.groupTransactionsByYearAndMonth(pr.coinbaseTransactions,n.data):(pr.transactions=o,pr.transactionsByYear=this.groupTransactionsByYearAndMonth(pr.transactionsByYear,i)),pr.empty=o.length===0,pr.next=n.next?n.next:void 0}catch{Zt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Re.state.projectId,cursor:pr.next,isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Qt.showError("Failed to fetch transactions"),pr.loading=!1,pr.empty=!0,pr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const s=new Date(n.metadata.minedAt).getFullYear(),i=new Date(n.metadata.minedAt).getMonth(),o=r[s]??{},c=(o[i]??[]).filter(l=>l.id!==n.id);r[s]={...o,[i]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>{var s;return((s=n.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var n;const e=(n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){pr.next=void 0},resetTransactions(){pr.transactions=[],pr.transactionsByYear={},pr.lastNetworkInView=void 0,pr.loading=!1,pr.empty=!1,pr.next=void 0}},gr=Er({wcError:!1,buffering:!1,status:"disconnected"});let Of;const _t={state:gr,subscribeKey(t,e){return Ps(gr,t,e)},_getClient(){return gr._client},setClient(t){gr._client=Ru(t)},async connectWalletConnect(){var t,e,r,n;if(rt.isTelegram()||rt.isSafari()&&rt.isIos()){if(Of){await Of,Of=void 0;return}if(!rt.isPairingExpired(gr==null?void 0:gr.wcPairingExpiry)){const s=gr.wcUri;gr.wcUri=s;return}Of=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await Of,Of=void 0,gr.wcPairingExpiry=void 0,this.state.status="connected"}else await((n=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r))},async connectExternal(t,e,r=!0){var n,s;await((s=(n=this._getClient())==null?void 0:n.connectExternal)==null?void 0:s.call(n,t)),r&&X.setActiveNamespace(e)},async reconnectExternal(t){var r,n;await((n=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||X.state.activeChain;e&&ft.setConnectorId(t.id,e)},async setPreferredAccountType(t){var r;en.setLoading(!0,X.state.activeChain);const e=ft.getAuthConnector();e&&(await(e==null?void 0:e.provider.setPreferredAccount(t)),await this.reconnectExternal(e),en.setLoading(!1,X.state.activeChain),Zt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){gr.wcUri=void 0,gr.wcPairingExpiry=void 0,gr.wcLinking=void 0,gr.recentWallet=void 0,gr.status="disconnected",Zae.resetTransactions(),We.deleteWalletConnectDeepLink()},resetUri(){gr.wcUri=void 0,gr.wcPairingExpiry=void 0},finalizeWcConnection(){var r,n;const{wcLinking:t,recentWallet:e}=_t.state;t&&We.setWalletConnectDeepLink(t),e&&We.setAppKitRecent(e),Zt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((n=(r=Ct.state.data)==null?void 0:r.wallet)==null?void 0:n.name)||"Unknown"}})},setWcBasic(t){gr.wcBasic=t},setUri(t){gr.wcUri=t,gr.wcPairingExpiry=rt.getPairingExpiry()},setWcLinking(t){gr.wcLinking=t},setWcError(t){gr.wcError=t,gr.buffering=!1},setRecentWallet(t){gr.recentWallet=t},setBuffering(t){gr.buffering=t},setStatus(t){gr.status=t},async disconnect(){try{en.setLoading(!0),await Zp.clearSessions(),await X.disconnect(),en.setLoading(!1)}catch{throw new Error("Failed to disconnect")}}},pp=Er({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ba={state:pp,subscribe(t){return fs(pp,()=>t(pp))},set(t){Object.assign(pp,{...pp,...t})}};function Xae(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function qx(t){return Xae(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const _9="2.23.13";let gp={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${_9}`};class Zs extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof Zs?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof Zs&&r.cause.docsPath||r.docsPath,i=(a=gp.getDocsUrl)==null?void 0:a.call(gp,{...r,docsPath:s}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...gp.version?[`Version: ${gp.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=_9}walk(e){return C9(this,e)}}function C9(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?C9(t.cause,e):e?null:t}class S9 extends Zs{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function O_(t,{dir:e,size:r=32}={}){return typeof t=="string"?ece(t,{dir:e,size:r}):tce(t,{dir:e,size:r})}function ece(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new S9({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function tce(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new S9({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i=e==="right";n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}class rce extends Zs{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class nce extends Zs{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function x9(t,{size:e}){if(qx(t)>e)throw new nce({givenSize:qx(t),maxSize:e})}const sce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Vx(t,e={}){return typeof t=="number"||typeof t=="bigint"?oce(t,e):typeof t=="string"?T9(t,e):typeof t=="boolean"?ice(t,e):I9(t,e)}function ice(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(x9(r,{size:e.size}),O_(r,{size:e.size})):r}function I9(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=sce[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(x9(n,{size:e.size}),O_(n,{dir:"right",size:e.size})):n}function oce(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new rce({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?O_(a,{size:n}):a}const ace=new TextEncoder;function T9(t,e={}){const r=ace.encode(t);return I9(r,e)}class cce extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Au=(t,e,r)=>JSON.stringify(t,(n,s)=>typeof s=="bigint"?s.toString():s,r);function lce(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${i?`.${i}`:""}`}const R_=t=>t;class Xp extends Zs{constructor({body:e,cause:r,details:n,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${R_(o)}`,e&&`Request body: ${Au(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class N9 extends Zs{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${R_(n)}`,`Request body: ${Au(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class Wx extends Zs{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${R_(r)}`,`Request body: ${Au(e)}`],name:"TimeoutError"})}}const uce=-1;class Rs extends Zs{constructor(e,{code:r,docsPath:n,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof N9?e.code:r??uce}}class Hh extends Rs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class O0 extends Rs{constructor(e){super(e,{code:O0.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(O0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class R0 extends Rs{constructor(e){super(e,{code:R0.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(R0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class k0 extends Rs{constructor(e,{method:r}={}){super(e,{code:k0.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(k0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class D0 extends Rs{constructor(e){super(e,{code:D0.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(D0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class mh extends Rs{constructor(e){super(e,{code:mh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class M0 extends Rs{constructor(e){super(e,{code:M0.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(M0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class B0 extends Rs{constructor(e){super(e,{code:B0.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(B0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class U0 extends Rs{constructor(e){super(e,{code:U0.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(U0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class yh extends Rs{constructor(e){super(e,{code:yh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class zl extends Rs{constructor(e,{method:r}={}){super(e,{code:zl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(zl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class bh extends Rs{constructor(e){super(e,{code:bh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class $0 extends Rs{constructor(e){super(e,{code:$0.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty($0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class _u extends Hh{constructor(e){super(e,{code:_u.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(_u,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class L0 extends Hh{constructor(e){super(e,{code:L0.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(L0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class F0 extends Hh{constructor(e,{method:r}={}){super(e,{code:F0.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(F0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class j0 extends Hh{constructor(e){super(e,{code:j0.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(j0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class H0 extends Hh{constructor(e){super(e,{code:H0.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(H0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class z0 extends Hh{constructor(e){super(e,{code:z0.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(z0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class fce extends Rs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class k_ extends Zs{constructor({cause:e,message:r}={}){var s;const n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(k_,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(k_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function dce(){let t=()=>{},e=()=>{};return{promise:new Promise((n,s)=>{t=n,e=s}),resolve:t,reject:e}}const h2=new Map;function hce({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:s}){const i=async()=>{const u=c();o();const f=u.map(({args:d})=>d);f.length!==0&&t(f).then(d=>{s&&Array.isArray(d)&&d.sort(s);for(let h=0;h<u.length;h++){const{resolve:p}=u[h];p==null||p([d[h],d])}}).catch(d=>{for(let h=0;h<u.length;h++){const{reject:p}=u[h];p==null||p(d)}})},o=()=>h2.delete(e),a=()=>c().map(({args:u})=>u),c=()=>h2.get(e)||[],l=u=>h2.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:d,reject:h}=dce();return(r==null?void 0:r([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:d,reject:h}),f):(l({args:u,resolve:d,reject:h}),setTimeout(i,n),f)}}}async function P9(t){return new Promise(e=>setTimeout(e,t))}const rA=256;let Fm=rA,jm;function pce(t=11){if(!jm||Fm+t>rA*2){jm="",Fm=0;for(let e=0;e<rA;e++)jm+=(256+Math.random()*256|0).toString(16).substring(1)}return jm.substring(Fm,Fm+++t)}const Hm=new cce(8192);function gce(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Hm.get(r))return Hm.get(r);const n=t().finally(()=>Hm.delete(r));return Hm.set(r,n),n}function mce(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await P9(u),o({count:a+1})};try{const l=await t();s(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});i(l)}};o()})}function yce(t,e={}){return async(r,n={})=>{var f;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if((f=i==null?void 0:i.exclude)!=null&&f.includes(l))throw new zl(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new zl(new Error("method not supported"),{method:l});const u=s?T9(`${c}.${Au(r)}`):void 0;return gce(()=>mce(async()=>{try{return await t(r)}catch(d){const h=d;switch(h.code){case O0.code:throw new O0(h);case R0.code:throw new R0(h);case k0.code:throw new k0(h,{method:r.method});case D0.code:throw new D0(h);case mh.code:throw new mh(h);case M0.code:throw new M0(h);case B0.code:throw new B0(h);case U0.code:throw new U0(h);case yh.code:throw new yh(h);case zl.code:throw new zl(h,{method:r.method});case bh.code:throw new bh(h);case $0.code:throw new $0(h);case _u.code:throw new _u(h);case L0.code:throw new L0(h);case F0.code:throw new F0(h);case j0.code:throw new j0(h);case H0.code:throw new H0(h);case z0.code:throw new z0(h);case 5e3:throw new _u(h);default:throw d instanceof Zs?d:new fce(h)}}},{delay:({count:d,error:h})=>{var p;if(h&&h instanceof Xp){const g=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>bce(d)}),{enabled:s,id:u})}}function bce(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===bh.code||t.code===mh.code:t instanceof Xp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function O9({key:t,methods:e,name:r,request:n,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=pce();return{config:{key:t,methods:e,name:r,request:n,retryCount:s,retryDelay:i,timeout:o,type:a},request:yce(n,{methods:e,retryCount:s,retryDelay:i,uid:l}),value:c}}function wce(t,e={}){const{key:r="fallback",name:n="Fallback",rank:s=!1,shouldThrow:i=vce,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...f})=>{let d=t,h=()=>{};const p=O9({key:r,name:n,async request({method:g,params:y}){let E;const C=async(I=0)=>{const T=d[I]({...f,chain:c,retryCount:0,timeout:u});try{const N=await T.request({method:g,params:y});return h({method:g,params:y,response:N,transport:T,status:"success"}),N}catch(N){if(h({error:N,method:g,params:y,transport:T,status:"error"}),i(N)||I===d.length-1||(E??(E=d.slice(I+1).some(k=>{const{include:B,exclude:L}=k({chain:c}).config.methods||{};return B?B.includes(g):L?!L.includes(g):!0})),!E))throw N;return C(I+1)}};return C()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:d.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};Ece({chain:c,interval:g.interval??l,onTransports:y=>d=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:d,weights:g.weights})}return p}}function vce(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===yh.code||t.code===_u.code||k_.nodeMessage.test(t.message)||t.code===5e3))}function Ece({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{const d=await Promise.all(o.map(async g=>{const y=g({chain:t,retryCount:0,timeout:i}),E=Date.now();let C,I;try{await(n?n({transport:y}):y.request({method:"net_listening"})),I=1}catch{I=0}finally{C=Date.now()}return{latency:C-E,success:I}}));u.push(d),u.length>s&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),p=o.map((g,y)=>{const E=u.map(k=>k[y].latency),I=1-E.reduce((k,B)=>k+B,0)/E.length/h,T=u.map(k=>k[y].success),N=T.reduce((k,B)=>k+B,0)/T.length;return N===0?[0,y]:[l*I+c*N,y]}).sort((g,y)=>y[0]-g[0]);r(p.map(([,g])=>o[g])),await P9(e),f()};f()}class Ace extends Zs{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function _ce(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function Cce(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Kx=Cce();function Sce(t,e={}){return{async request(r){var f;const{body:n,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const d=await _ce(async({signal:p})=>{const g={...a,body:Array.isArray(n)?Au(n.map(I=>({jsonrpc:"2.0",id:I.id??Kx.take(),...I}))):Au({jsonrpc:"2.0",id:n.id??Kx.take(),...n}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?p:null)},y=new Request(t,g),E=await(s==null?void 0:s(y,g))??{...g,url:t};return await fetch(E.url??t,E)},{errorInstance:new Wx({body:n,url:t}),timeout:o,signal:!0});i&&await i(d);let h;if((f=d.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(p){if(d.ok)throw p;h={error:h}}}if(!d.ok)throw new Xp({body:n,details:Au(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});return h}catch(d){throw d instanceof Xp||d instanceof Wx?d:new Xp({body:n,cause:d,url:t})}}}}function p2(t,e={}){const{batch:r,fetchOptions:n,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:f,retryCount:d,timeout:h})=>{const{batchSize:p=1e3,wait:g=0}=typeof r=="object"?r:{},y=e.retryCount??d,E=h??e.timeout??1e4,C=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!C)throw new Ace;const I=Sce(C,{fetchOptions:n,onRequest:a,onResponse:c,timeout:E});return O9({key:s,methods:i,name:o,async request({method:T,params:N}){const k={method:T,params:N},{schedule:B}=hce({id:C,wait:g,shouldSplitBatch(O){return O.length>p},fn:O=>I.request({body:O}),sort:(O,m)=>O.id-m.id}),L=async O=>r?B(O):[await I.request({body:O})],[{error:$,result:j}]=await L(k);if(u)return{error:$,result:j};if($)throw new N9({body:k,error:$,url:C});return j},retryCount:y,retryDelay:l,timeout:E,type:"http"},{fetchOptions:n,url:C})}}function xce(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const g2={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return lce(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},Gx={async getMyTokensWithBalance(t){const e=qe.state.address,r=X.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const s=await this.getEIP155Balances(e,r);if(s)return this.filterLowQualityTokens(s)}const n=await Ye.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(t,e){var r,n;try{const s=g2.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await _t.getCapabilities(t);if(!((n=(r=i==null?void 0:i[s])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;const o=await _t.walletGetAssets({account:t,chainFilter:[s]});return g2.isWalletGetAssetsResponse(o)?(o[s]||[]).map(c=>g2.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:X.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},Nt=Er({tokenBalances:[],loading:!1}),Jx={state:Nt,subscribe(t){return fs(Nt,()=>t(Nt))},subscribeKey(t,e){return Ps(Nt,t,e)},setToken(t){t&&(Nt.token=Ru(t))},setTokenAmount(t){Nt.sendTokenAmount=t},setReceiverAddress(t){Nt.receiverAddress=t},setReceiverProfileImageUrl(t){Nt.receiverProfileImageUrl=t},setReceiverProfileName(t){Nt.receiverProfileName=t},setGasPrice(t){Nt.gasPrice=t},setGasPriceInUsd(t){Nt.gasPriceInUSD=t},setNetworkBalanceInUsd(t){Nt.networkBalanceInUSD=t},setLoading(t){Nt.loading=t},sendToken(){var t;switch((t=X.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var t,e,r,n,s;(t=this.state.token)!=null&&t.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(Zt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((r=this.state.token)!=null&&r.quantity.decimals)&&(Zt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:(n=this.state.token)==null?void 0:n.symbol,amount:this.state.sendTokenAmount,network:((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var i,o;Nt.loading=!0;const e=(i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,r=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=X.state.activeCaipAddress,s=n?rt.getPlainAddress(n):void 0;if(Nt.lastRetry&&!rt.isAllowedRetry(Nt.lastRetry,30*an.ONE_SEC_MS))return Nt.loading=!1,[];try{if(s&&e&&r){const a=await Gx.getMyTokensWithBalance();return Nt.tokenBalances=a,Nt.lastRetry=void 0,a}}catch(a){Nt.lastRetry=Date.now(),t==null||t(a),Qt.showError("Token Balance Unavailable")}finally{Nt.loading=!1}return[]},fetchNetworkBalance(){if(Nt.tokenBalances.length===0)return;const t=Gx.mapBalancesToSwapTokens(Nt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===X.getActiveNetworkTokenAddress());e&&(Nt.networkBalanceInUSD=e?Yt.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return Yt.bigNumber(t).eq(0)?!0:Yt.bigNumber(Yt.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){let t=!0;return qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT?t=!1:Nt.networkBalanceInUSD&&(t=this.isInsufficientNetworkTokenForGas(Nt.networkBalanceInUSD,Nt.gasPriceInUSD)),t},async sendNativeToken(t){var i,o,a,c;Ct.pushTransactionStack({view:"Account",goBack:!1});const e=t.receiverAddress,r=qe.state.address,n=_t.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s="0x";try{await _t.sendTransaction({chainNamespace:"eip155",to:e,address:r,data:s,value:n??BigInt(0),gasPrice:t.gasPrice}),Qt.showSuccess("Transaction started"),Zt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((i=this.state.token)==null?void 0:i.symbol)||"",amount:t.sendTokenAmount,network:((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),this.resetSend()}catch(l){console.error("SendController:sendERC20Token - failed to send native token",l);const u=l instanceof Error?l.message:"Unknown error";Zt.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:u,isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=X.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),Qt.showError("Something went wrong")}},async sendERC20Token(t){var r,n;Ct.pushTransactionStack({view:"Account",goBack:!1});const e=_t.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(qe.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=rt.getPlainAddress(t.tokenAddress);await _t.writeContract({fromAddress:qe.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Lq.getERC20Abi(s),chainNamespace:"eip155"}),Qt.showSuccess("Transaction started"),this.resetSend()}}catch(s){console.error("SendController:sendERC20Token - failed to send erc20 token",s);const i=s instanceof Error?s.message:"Unknown error";Zt.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:i,isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}),Qt.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){Qt.showError("Please enter a valid amount and receiver address");return}Ct.pushTransactionStack({view:"Account",goBack:!1}),_t.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),qe.fetchTokenBalance()}).catch(t=>{Qt.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){Nt.token=void 0,Nt.sendTokenAmount=void 0,Nt.receiverAddress=void 0,Nt.receiverProfileImageUrl=void 0,Nt.receiverProfileName=void 0,Nt.loading=!1,Nt.tokenBalances=[]}},m2={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},zm={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Me=Er({chains:Aq(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),X={state:Me,subscribe(t){return fs(Me,()=>{t(Me)})},subscribeKey(t,e){return Ps(Me,t,e)},subscribeChainProp(t,e,r){let n;return fs(Me.chains,()=>{var i;const s=r||Me.activeChain;if(s){const o=(i=Me.chains.get(s))==null?void 0:i[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:s}=We.getActiveNetworkProps(),i=e==null?void 0:e.find(l=>l.id.toString()===(n==null?void 0:n.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===s)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Me.noAdapters=!0),Me.noAdapters||(Me.activeChain=a==null?void 0:a.namespace,Me.activeCaipNetwork=i,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),Me.activeChain&&Ba.set({activeChain:a==null?void 0:a.namespace})),c.forEach(l=>{const u=e==null?void 0:e.filter(f=>f.chainNamespace===l);X.state.chains.set(l,{namespace:l,networkState:Er({...zm,caipNetwork:u==null?void 0:u[0]}),accountState:Er(m2),caipNetworks:u??[],...r}),this.setRequestedCaipNetworks(u??[],l)})},removeAdapter(t){var e,r;if(Me.activeChain===t){const n=Array.from(Me.chains.entries()).find(([s])=>s!==t);if(n){const s=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];s&&this.setActiveCaipNetwork(s)}}Me.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){Me.chains.set(t.namespace,{namespace:t.namespace,networkState:{...zm,caipNetwork:n[0]},accountState:m2,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((n==null?void 0:n.filter(s=>s.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=Me.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(s=>s.id===t.id)||n.push(t),Me.chains.set(t.chainNamespace,{...e,caipNetworks:n}),this.setRequestedCaipNetworks(n,t.chainNamespace)}},removeNetwork(t,e){var n,s,i;const r=Me.chains.get(t);if(r){const o=((n=Me.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((s=r.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=r==null?void 0:r.caipNetworks)!=null&&i[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),Me.chains.set(t,{...r,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const r=Me.chains.get(t);r&&(r.networkState={...r.networkState||zm,...e},Me.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Me.chains.get(t);if(n){const s={...n.accountState||m2,...e};Me.chains.set(t,{...n,accountState:s}),(Me.chains.size===1||Me.activeChain===t)&&(e.caipAddress&&(Me.activeCaipAddress=e.caipAddress),qe.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const r=Me.chains.get(t);if(r){const n={...r.networkState||zm,...e};Me.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){this.setChainAccountData(r,{[t]:e},n),t==="status"&&e==="disconnected"&&r&&ft.removeConnectorId(r)},setActiveNamespace(t){var n,s;Me.activeChain=t;const e=t?Me.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(Me.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,Me.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),We.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),Ba.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var n,s,i;if(!t)return;Me.activeChain!==t.chainNamespace&&(this.setIsSwitchingNamespace(!0),ft.setFilterByNamespace(t.chainNamespace));const e=Me.chains.get(t.chainNamespace);Me.activeChain=t.chainNamespace,Me.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(n=e==null?void 0:e.accountState)!=null&&n.address?Me.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(s=e==null?void 0:e.accountState)==null?void 0:s.address}`:Me.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Me.activeCaipAddress,t.chainNamespace),e&&qe.replaceState(e.accountState),Jx.resetSend(),Ba.set({activeChain:Me.activeChain,selectedNetworkId:(i=Me.activeCaipNetwork)==null?void 0:i.caipNetworkId}),We.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&!Re.state.allowUnsupportedChain&&!_t.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=Me.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==X.state.activeChain,r=(s=X.getNetworkData(t))==null?void 0:s.caipNetwork,n=X.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await X.switchActiveNetwork(n)},async switchActiveNetwork(t){var s;const e=X.state.chains.get(X.state.activeChain);!((s=e==null?void 0:e.caipNetworks)!=null&&s.some(i=>{var o;return i.id===((o=Me.activeCaipNetwork)==null?void 0:o.id)}))&&Ct.goBack();const n=this.getNetworkControllerClient(t.chainNamespace);n&&(await n.switchCaipNetwork(t),Zt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Me.activeChain,r=Me.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Me.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Me.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var s;let r=Me.activeChain;if(e&&(r=e),!r)return;const n=(s=Me.chains.get(r))==null?void 0:s.accountState;if(n)return n[t]},getNetworkProp(t,e){var n;const r=(n=Me.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Me.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return rt.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const t=[];return Me.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return Me.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return Me.activeCaipNetwork},getActiveCaipAddress(){return Me.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;const e=Me.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Me.activeCaipNetwork,n=this.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(s=>s.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!Me.activeChain)return!0;const e=this.getRequestedCaipNetworks(Me.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var n;const t=XP.caipNetworkIdToNumber((n=Me.activeCaipNetwork)==null?void 0:n.caipNetworkId),e=Me.activeChain;if(!e||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var n,s;const t=((n=Me.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((s=Me.activeCaipNetwork)==null?void 0:s.id)||1,r=an.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){en.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Me.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&an.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Me.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ft.removeConnectorId(e)},async disconnect(){try{Jx.resetSend();const t=await Promise.allSettled(Array.from(Me.chains.entries()).map(async([r,n])=>{var s;try{(s=n.connectionControllerClient)!=null&&s.disconnect&&await n.connectionControllerClient.disconnect(),this.resetAccount(r),this.resetNetwork(r)}catch(i){throw new Error(`Failed to disconnect chain ${r}: ${i.message}`)}}));_t.resetWcConnection();const e=t.filter(r=>r.status==="rejected");if(e.length>0)throw new Error(e.map(r=>r.reason.message).join(", "));We.deleteConnectedSocialProvider(),_t.resetWcConnection(),ft.resetConnectorIds(),Zt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"})}catch(t){console.error(t.message||"Failed to disconnect chains"),Zt.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:t.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Me.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(Me.chains.forEach(s=>{ke.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(n=(r=Me.chains.get(s))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var e;return t?(e=X.state.chains.get(t))==null?void 0:e.accountState:qe.state},getNetworkData(t){var r;const e=t||Me.activeChain;if(e)return(r=X.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const r=X.state.chains.get(t),n=(s=r==null?void 0:r.caipNetworks)==null?void 0:s.find(a=>a.id===e);return n||((i=r==null?void 0:r.networkState)==null?void 0:i.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=ft.state.filterByNamespace;return(t?[Me.chains.get(t)]:Array.from(Me.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)}},Ice={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},R9=rt.getBlockchainApiUrl(),Ms=Er({clientId:null,api:new yw({baseUrl:R9,clientId:null}),supportedChains:{http:[],ws:[]}}),Ye={state:Ms,async get(t){const{st:e,sv:r}=Ye.getSdkProperties(),n=Re.state.projectId,s={...t.params||{},st:e,sv:r,projectId:n};return Ms.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Re.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Ms.supportedChains.http.length||await Ye.getSupportedNetworks()}catch{return!1}return Ms.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await Ye.get({path:"v1/supported-chains"});return Ms.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Ye.isNetworkSupported(e))return{avatar:"",name:""};const n=We.getIdentityFromCacheForAddress(t);if(n)return n;const s=await Ye.get({path:`/v1/identity/${t}`,params:{sender:X.state.activeCaipAddress?rt.getPlainAddress(X.state.activeCaipAddress):void 0}});return We.updateIdentityCache({address:t,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:t,cursor:e,onramp:r,signal:n,cache:s,chainId:i}){var a;return await Ye.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Ye.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:i},signal:n,cache:s}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:s}){var o;return await Ye.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Ye.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await Ye.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ye.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await Ye.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ms.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Re.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await Ye.isNetworkSupported((n=X.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ye.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:r}=Ye.getSdkProperties();if(!await Ye.isNetworkSupported((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ye.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n}){var i;if(!await Ye.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Swaps");return Ms.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:an.CONVERT_SLIPPAGE_TOLERANCE},projectId:Re.state.projectId,from:e,to:r,userAddress:n}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:n,sv:s}=Ye.getSdkProperties();if(!await Ye.isNetworkSupported((o=X.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return Ye.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:s}})},async getBalance(t,e,r){var l;const{st:n,sv:s}=Ye.getSdkProperties();if(!await Ye.isNetworkSupported((l=X.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Qt.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=We.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ye.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:s}});return We.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var r;return await Ye.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ye.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await Ye.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ye.get({path:`/v1/profile/reverse/${t}`,params:{sender:qe.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await Ye.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ye.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var i;return await Ye.isNetworkSupported((i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Ms.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:s}){var a;return await Ye.isNetworkSupported((a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Ms.api.post({path:"/v1/generators/onrampurl",params:{projectId:Re.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await Ye.isNetworkSupported((e=X.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ye.get({path:"/v1/onramp/options"})}catch{return Ice}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var s;try{return await Ye.isNetworkSupported((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await Ms.api.post({path:"/v1/onramp/quote",params:{projectId:Re.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await Ye.isNetworkSupported((r=X.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ye.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var s;return await Ye.isNetworkSupported((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Ms.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Re.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){Ms.clientId=t,Ms.api=new yw({baseUrl:R9,clientId:t})}},Pp={async getTokenList(){var n;const t=X.state.activeCaipNetwork,e=await Ye.fetchSwapTokens({chainId:t==null?void 0:t.caipNetworkId});return((n=e==null?void 0:e.tokens)==null?void 0:n.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=X.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const r=(e=await(_t==null?void 0:_t.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:r,fast:r,instant:r};case"eip155":default:return await Ye.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const s=await Ye.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&r&&n){const i=_t.parseUnits(r,n)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=qe.state.address,r=X.state.activeCaipNetwork;if(!e||!r)return[];const s=(await Ye.getBalance(e,r.caipNetworkId,t)).balances.filter(i=>i.quantity.decimals!=="0");return qe.setTokenBalance(s,X.state.activeChain),this.mapBalancesToSwapTokens(s)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:X.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},oa={getGasPriceInEther(t,e){const r=e*t;return Number(r)/1e18},getGasPriceInUSD(t,e,r){const n=oa.getGasPriceInEther(e,r);return Yt.bigNumber(t).times(n).toNumber()},getPriceImpact({sourceTokenAmount:t,sourceTokenPriceInUSD:e,toTokenPriceInUSD:r,toTokenAmount:n}){const s=Yt.bigNumber(t).times(e),i=Yt.bigNumber(n).times(r);return s.minus(i).div(s).times(100).toNumber()},getMaxSlippage(t,e){const r=Yt.bigNumber(t).div(100);return Yt.multiply(e,r).toNumber()},getProviderFee(t,e=.0085){return Yt.bigNumber(t).times(e).toString()},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return Yt.bigNumber(t).eq(0)?!0:Yt.bigNumber(Yt.bigNumber(r)).gt(t)},isInsufficientSourceTokenForSwap(t,e,r){var i,o;const n=(o=(i=r==null?void 0:r.find(a=>a.address===e))==null?void 0:i.quantity)==null?void 0:o.numeric;return Yt.bigNumber(n||"0").lt(t)},getToTokenAmount({sourceToken:t,toToken:e,sourceTokenPrice:r,toTokenPrice:n,sourceTokenAmount:s}){if(s==="0"||!t||!e)return"0";const i=t.decimals,o=r,a=e.decimals,c=n;if(c<=0)return"0";const l=Yt.bigNumber(s).times(.0085),f=Yt.bigNumber(s).minus(l).times(Yt.bigNumber(10).pow(i)),d=Yt.bigNumber(o).div(c),h=i-a;return f.times(d).div(Yt.bigNumber(10).pow(h)).div(Yt.bigNumber(10).pow(a)).toFixed(a).toString()}},Yx=15e4,Tce=6,bs={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:an.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},oe=Er(bs),by={state:oe,subscribe(t){return fs(oe,()=>t(oe))},subscribeKey(t,e){return Ps(oe,t,e)},getParams(){var c,l,u,f,d,h,p,g;const t=X.state.activeCaipAddress,e=X.state.activeChain,r=rt.getPlainAddress(t),n=X.getActiveNetworkTokenAddress(),s=ft.getConnectorId(e);if(!r)throw new Error("No address found to swap the tokens from.");const i=!((c=oe.toToken)!=null&&c.address)||!((l=oe.toToken)!=null&&l.decimals),o=!((u=oe.sourceToken)!=null&&u.address)||!((f=oe.sourceToken)!=null&&f.decimals)||!Yt.bigNumber(oe.sourceTokenAmount).gt(0),a=!oe.sourceTokenAmount;return{networkAddress:n,fromAddress:r,fromCaipAddress:t,sourceTokenAddress:(d=oe.sourceToken)==null?void 0:d.address,toTokenAddress:(h=oe.toToken)==null?void 0:h.address,toTokenAmount:oe.toTokenAmount,toTokenDecimals:(p=oe.toToken)==null?void 0:p.decimals,sourceTokenAmount:oe.sourceTokenAmount,sourceTokenDecimals:(g=oe.sourceToken)==null?void 0:g.decimals,invalidToToken:i,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:t&&!i&&!o&&!a,isAuthConnector:s===ke.CONNECTOR_ID.AUTH}},setSourceToken(t){if(!t){oe.sourceToken=t,oe.sourceTokenAmount="",oe.sourceTokenPriceInUSD=0;return}oe.sourceToken=t,this.setTokenPrice(t.address,"sourceToken")},setSourceTokenAmount(t){oe.sourceTokenAmount=t},setToToken(t){if(!t){oe.toToken=t,oe.toTokenAmount="",oe.toTokenPriceInUSD=0;return}oe.toToken=t,this.setTokenPrice(t.address,"toToken")},setToTokenAmount(t){oe.toTokenAmount=t?Yt.formatNumberToLocalString(t,Tce):""},async setTokenPrice(t,e){let r=oe.tokensPriceMap[t]||0;r||(oe.loadingPrices=!0,r=await this.getAddressPrice(t)),e==="sourceToken"?oe.sourceTokenPriceInUSD=r:e==="toToken"&&(oe.toTokenPriceInUSD=r),oe.loadingPrices&&(oe.loadingPrices=!1),this.getParams().availableToSwap&&this.swapTokens()},switchTokens(){if(oe.initializing||!oe.initialized)return;const t=oe.toToken?{...oe.toToken}:void 0,e=oe.sourceToken?{...oe.sourceToken}:void 0,r=t&&oe.toTokenAmount===""?"1":oe.toTokenAmount;this.setSourceToken(t),this.setToToken(e),this.setSourceTokenAmount(r),this.setToTokenAmount(""),this.swapTokens()},resetState(){oe.myTokensWithBalance=bs.myTokensWithBalance,oe.tokensPriceMap=bs.tokensPriceMap,oe.initialized=bs.initialized,oe.sourceToken=bs.sourceToken,oe.sourceTokenAmount=bs.sourceTokenAmount,oe.sourceTokenPriceInUSD=bs.sourceTokenPriceInUSD,oe.toToken=bs.toToken,oe.toTokenAmount=bs.toTokenAmount,oe.toTokenPriceInUSD=bs.toTokenPriceInUSD,oe.networkPrice=bs.networkPrice,oe.networkTokenSymbol=bs.networkTokenSymbol,oe.networkBalanceInUSD=bs.networkBalanceInUSD,oe.inputError=bs.inputError},resetValues(){var r;const{networkAddress:t}=this.getParams(),e=(r=oe.tokens)==null?void 0:r.find(n=>n.address===t);this.setSourceToken(e),this.setToToken(void 0)},getApprovalLoadingState(){return oe.loadingApprovalTransaction},clearError(){oe.transactionError=void 0},async initializeState(){if(!oe.initializing){if(oe.initializing=!0,!oe.initialized)try{await this.fetchTokens(),oe.initialized=!0}catch{oe.initialized=!1,Qt.showError("Failed to initialize swap"),Ct.goBack()}oe.initializing=!1}},async fetchTokens(){var r;const{networkAddress:t}=this.getParams();await this.getTokenList(),await this.getNetworkTokenPrice(),await this.getMyTokensWithBalance();const e=(r=oe.tokens)==null?void 0:r.find(n=>n.address===t);e&&(oe.networkTokenSymbol=e.symbol,this.setSourceToken(e),this.setSourceTokenAmount("1"))},async getTokenList(){const t=await Pp.getTokenList();oe.tokens=t,oe.popularTokens=t.sort((e,r)=>e.symbol<r.symbol?-1:e.symbol>r.symbol?1:0),oe.suggestedTokens=t.filter(e=>!!an.SWAP_SUGGESTED_TOKENS.includes(e.symbol),{})},async getAddressPrice(t){var c,l;const e=oe.tokensPriceMap[t];if(e)return e;const r=await Ye.fetchTokenPrice({addresses:[t]}),n=(r==null?void 0:r.fungibles)||[],s=[...oe.tokens||[],...oe.myTokensWithBalance||[]],i=(c=s==null?void 0:s.find(u=>u.address===t))==null?void 0:c.symbol,o=((l=n.find(u=>u.symbol.toLowerCase()===(i==null?void 0:i.toLowerCase())))==null?void 0:l.price)||0,a=parseFloat(o.toString());return oe.tokensPriceMap[t]=a,a},async getNetworkTokenPrice(){var s;const{networkAddress:t}=this.getParams(),r=(s=(await Ye.fetchTokenPrice({addresses:[t]}).catch(()=>(Qt.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)==null?void 0:s[0],n=(r==null?void 0:r.price.toString())||"0";oe.tokensPriceMap[t]=parseFloat(n),oe.networkTokenSymbol=(r==null?void 0:r.symbol)||"",oe.networkPrice=n},async getMyTokensWithBalance(t){const e=await Pp.getMyTokensWithBalance(t);e&&(await this.getInitialGasPrice(),this.setBalances(e))},setBalances(t){const{networkAddress:e}=this.getParams(),r=X.state.activeCaipNetwork;if(!r)return;const n=t.find(s=>s.address===e);t.forEach(s=>{oe.tokensPriceMap[s.address]=s.price||0}),oe.myTokensWithBalance=t.filter(s=>s.address.startsWith(r.caipNetworkId)),oe.networkBalanceInUSD=n?Yt.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){var e,r;const t=await Pp.fetchGasPrice();if(!t)return{gasPrice:null,gasPriceInUSD:null};switch((r=(e=X.state)==null?void 0:e.activeCaipNetwork)==null?void 0:r.chainNamespace){case"solana":return oe.gasFee=t.standard??"0",oe.gasPriceInUSD=Yt.multiply(t.standard,oe.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(oe.gasFee),gasPriceInUSD:Number(oe.gasPriceInUSD)};case"eip155":default:const n=t.standard??"0",s=BigInt(n),i=BigInt(Yx),o=oa.getGasPriceInUSD(oe.networkPrice,i,s);return oe.gasFee=n,oe.gasPriceInUSD=o,{gasPrice:s,gasPriceInUSD:o}}},async swapTokens(){var i,o;const t=qe.state.address,e=oe.sourceToken,r=oe.toToken,n=Yt.bigNumber(oe.sourceTokenAmount).gt(0);if(n||this.setToTokenAmount(""),!r||!e||oe.loadingPrices||!n)return;oe.loadingQuote=!0;const s=Yt.bigNumber(oe.sourceTokenAmount).times(10**e.decimals).round(0);try{const a=await Ye.fetchSwapQuote({userAddress:t,from:e.address,to:r.address,gasPrice:oe.gasFee,amount:s.toString()});oe.loadingQuote=!1;const c=(o=(i=a==null?void 0:a.quotes)==null?void 0:i[0])==null?void 0:o.toAmount;if(!c){od.open({shortMessage:"Incorrect amount",longMessage:"Please enter a valid amount"},"error");return}const l=Yt.bigNumber(c).div(10**r.decimals).toString();this.setToTokenAmount(l),this.hasInsufficientToken(oe.sourceTokenAmount,e.address)?oe.inputError="Insufficient balance":(oe.inputError=void 0,this.setTransactionDetails())}catch{oe.loadingQuote=!1,oe.inputError="Insufficient balance"}},async getTransaction(){const{fromCaipAddress:t,availableToSwap:e}=this.getParams(),r=oe.sourceToken,n=oe.toToken;if(!(!t||!e||!r||!n||oe.loadingQuote))try{oe.loadingBuildTransaction=!0;const s=await Pp.fetchSwapAllowance({userAddress:t,tokenAddress:r.address,sourceTokenAmount:oe.sourceTokenAmount,sourceTokenDecimals:r.decimals});let i;return s?i=await this.createSwapTransaction():i=await this.createAllowanceTransaction(),oe.loadingBuildTransaction=!1,oe.fetchError=!1,i}catch{Ct.goBack(),Qt.showError("Failed to check allowance"),oe.loadingBuildTransaction=!1,oe.approvalTransaction=void 0,oe.swapTransaction=void 0,oe.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:t,fromAddress:e,sourceTokenAddress:r,toTokenAddress:n}=this.getParams();if(!(!t||!n)){if(!r)throw new Error("createAllowanceTransaction - No source token address found.");try{const s=await Ye.generateApproveCalldata({from:r,to:n,userAddress:t}),i=await _t.estimateGas({address:e,to:rt.getPlainAddress(s.tx.to),data:s.tx.data}),o={data:s.tx.data,to:rt.getPlainAddress(s.tx.from),gas:i,gasPrice:BigInt(s.tx.eip155.gasPrice),value:BigInt(s.tx.value),toAmount:oe.toTokenAmount};return oe.swapTransaction=void 0,oe.approvalTransaction={data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount},{data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount}}catch{Ct.goBack(),Qt.showError("Failed to create approval transaction"),oe.approvalTransaction=void 0,oe.swapTransaction=void 0,oe.fetchError=!0;return}}},async createSwapTransaction(){var o;const{networkAddress:t,fromCaipAddress:e,sourceTokenAmount:r}=this.getParams(),n=oe.sourceToken,s=oe.toToken;if(!e||!r||!n||!s)return;const i=(o=_t.parseUnits(r,n.decimals))==null?void 0:o.toString();try{const a=await Ye.generateSwapCalldata({userAddress:e,from:n.address,to:s.address,amount:i}),c=n.address===t,l=BigInt(a.tx.eip155.gas),u=BigInt(a.tx.eip155.gasPrice),f={data:a.tx.data,to:rt.getPlainAddress(a.tx.to),gas:l,gasPrice:u,value:BigInt(c?i??"0":"0"),toAmount:oe.toTokenAmount};return oe.gasPriceInUSD=oa.getGasPriceInUSD(oe.networkPrice,l,u),oe.approvalTransaction=void 0,oe.swapTransaction=f,f}catch{Ct.goBack(),Qt.showError("Failed to create transaction"),oe.approvalTransaction=void 0,oe.swapTransaction=void 0,oe.fetchError=!0;return}},async sendTransactionForApproval(t){var s,i,o;const{fromAddress:e,isAuthConnector:r}=this.getParams();oe.loadingApprovalTransaction=!0;const n="Approve limit increase in your wallet";r?Ct.pushTransactionStack({view:null,goBack:!0,onSuccess(){Qt.showLoading(n)}}):Qt.showLoading(n);try{await _t.sendTransaction({address:e,to:t.to,data:t.data,gas:t.gas,gasPrice:BigInt(t.gasPrice),value:t.value,chainNamespace:"eip155"}),await this.swapTokens(),await this.getTransaction(),oe.approvalTransaction=void 0,oe.loadingApprovalTransaction=!1}catch(a){const c=a;oe.transactionError=c==null?void 0:c.shortMessage,oe.loadingApprovalTransaction=!1,Qt.showError((c==null?void 0:c.shortMessage)||"Transaction error"),Zt.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:(c==null?void 0:c.shortMessage)||(c==null?void 0:c.message)||"Unknown",network:((s=X.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||"",swapFromToken:((i=this.state.sourceToken)==null?void 0:i.symbol)||"",swapToToken:((o=this.state.toToken)==null?void 0:o.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(t){var o,a,c,l,u,f,d,h,p,g,y,E;if(!t)return;const{fromAddress:e,toTokenAmount:r,isAuthConnector:n}=this.getParams();oe.loadingTransaction=!0;const s=`Swapping ${(o=oe.sourceToken)==null?void 0:o.symbol} to ${Yt.formatNumberToLocalString(r,3)} ${(a=oe.toToken)==null?void 0:a.symbol}`,i=`Swapped ${(c=oe.sourceToken)==null?void 0:c.symbol} to ${Yt.formatNumberToLocalString(r,3)} ${(l=oe.toToken)==null?void 0:l.symbol}`;n?Ct.pushTransactionStack({view:"Account",goBack:!1,onSuccess(){Qt.showLoading(s),by.resetState()}}):Qt.showLoading("Confirm transaction in your wallet");try{const C=[(u=oe.sourceToken)==null?void 0:u.address,(f=oe.toToken)==null?void 0:f.address].join(","),I=await _t.sendTransaction({address:e,to:t.to,data:t.data,gas:t.gas,gasPrice:BigInt(t.gasPrice),value:t.value,chainNamespace:"eip155"});return oe.loadingTransaction=!1,Qt.showSuccess(i),Zt.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:((d=X.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||"",swapFromToken:((h=this.state.sourceToken)==null?void 0:h.symbol)||"",swapToToken:((p=this.state.toToken)==null?void 0:p.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),by.resetState(),n||Ct.replace("Account"),by.getMyTokensWithBalance(C),I}catch(C){const I=C;oe.transactionError=I==null?void 0:I.shortMessage,oe.loadingTransaction=!1,Qt.showError((I==null?void 0:I.shortMessage)||"Transaction error"),Zt.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(I==null?void 0:I.shortMessage)||(I==null?void 0:I.message)||"Unknown",network:((g=X.state.activeCaipNetwork)==null?void 0:g.caipNetworkId)||"",swapFromToken:((y=this.state.sourceToken)==null?void 0:y.symbol)||"",swapToToken:((E=this.state.toToken)==null?void 0:E.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(t,e){const r=oa.isInsufficientSourceTokenForSwap(t,e,oe.myTokensWithBalance);let n=!0;return qe.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT?n=!1:n=oa.isInsufficientNetworkTokenForGas(oe.networkBalanceInUSD,oe.gasPriceInUSD),n||r},setTransactionDetails(){const{toTokenAddress:t,toTokenDecimals:e}=this.getParams();!t||!e||(oe.gasPriceInUSD=oa.getGasPriceInUSD(oe.networkPrice,BigInt(oe.gasFee),BigInt(Yx)),oe.priceImpact=oa.getPriceImpact({sourceTokenAmount:oe.sourceTokenAmount,sourceTokenPriceInUSD:oe.sourceTokenPriceInUSD,toTokenPriceInUSD:oe.toTokenPriceInUSD,toTokenAmount:oe.toTokenAmount}),oe.maxSlippage=oa.getMaxSlippage(oe.slippage,oe.toTokenAmount),oe.providerFee=oa.getProviderFee(oe.sourceTokenAmount))}},ho=Er({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),qe={state:ho,replaceState(t){t&&Object.assign(ho,Ru(t))},subscribe(t){return X.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return X.subscribeChainProp("accountState",s=>{if(s){const i=s[t];n!==i&&(n=i,e(i))}},r)},setStatus(t,e){X.setAccountProp("status",t,e)},getCaipAddress(t){return X.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?rt.getPlainAddress(t):void 0;e===X.state.activeChain&&(X.state.activeCaipAddress=t),X.setAccountProp("caipAddress",t,e),X.setAccountProp("address",r,e)},setBalance(t,e,r){X.setAccountProp("balance",t,r),X.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){X.setAccountProp("profileName",t,e)},setProfileImage(t,e){X.setAccountProp("profileImage",t,e)},setUser(t,e){X.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){X.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){X.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){X.setAccountProp("currentTab",t,X.state.activeChain)},setTokenBalance(t,e){t&&X.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){X.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){X.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const n=X.getAccountProp("addressLabels",r)||new Map;n.set(t,e),X.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){const r=X.getAccountProp("addressLabels",e)||new Map;r.delete(t),X.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){X.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){X.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&X.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){X.setAccountProp("socialWindow",t?Ru(t):void 0,e)},setFarcasterUrl(t,e){X.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var i,o;ho.balanceLoading=!0;const e=(i=X.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,r=(o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=X.state.activeCaipAddress,s=n?rt.getPlainAddress(n):void 0;if(ho.lastRetry&&!rt.isAllowedRetry(ho.lastRetry,30*an.ONE_SEC_MS))return ho.balanceLoading=!1,[];try{if(s&&e&&r){const a=await Ye.getBalance(s,e),c=a.balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(c,r),by.setBalances(Pp.mapBalancesToSwapTokens(a.balances)),ho.lastRetry=void 0,ho.balanceLoading=!1,c}}catch(a){ho.lastRetry=Date.now(),t==null||t(a),Qt.showError("Token Balance Unavailable")}finally{ho.balanceLoading=!1}return[]},resetAccount(t){X.resetAccount(t)}},Nce=rt.getApiUrl(),Mn=new yw({baseUrl:Nce,clientId:null}),Pce="40",Qx="4",Oce=20,Nr=Er({page:1,count:0,featured:[],recommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedRDNS:[],isFetchingRecommendedWallets:!1}),Tt={state:Nr,subscribeKey(t,e){return Ps(Nr,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Re.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Re.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Mn.baseUrl}/getWalletImage/${t}`,r=await Mn.getBlob({path:e,params:Tt._getSdkProperties()});qi.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${Mn.baseUrl}/public/getAssetImage/${t}`,r=await Mn.getBlob({path:e,params:Tt._getSdkProperties()});qi.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${Mn.baseUrl}/public/getAssetImage/${t}`,r=await Mn.getBlob({path:e,params:Tt._getSdkProperties()});qi.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${Mn.baseUrl}/public/getCurrencyImage/${t}`,r=await Mn.getBlob({path:e,params:Tt._getSdkProperties()});qi.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${Mn.baseUrl}/public/getTokenImage/${t}`,r=await Mn.getBlob({path:e,params:Tt._getSdkProperties()});qi.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const t=X.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!rO.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>Tt._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=ft.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>Tt._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Tt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Tt._fetchTokenImage(e)))},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Re.state;if(t!=null&&t.length){const{data:e}=await Mn.get({path:"/getWallets",params:{...Tt._getSdkProperties(),page:"1",entries:t!=null&&t.length?String(t.length):Qx,include:t==null?void 0:t.join(",")}});e.sort((n,s)=>t.indexOf(n.id)-t.indexOf(s.id));const r=e.map(n=>n.image_id).filter(Boolean);await Promise.allSettled(r.map(n=>Tt._fetchWalletImage(n))),Nr.featured=e}},async fetchRecommendedWallets(){try{Nr.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=Re.state,n=[...e??[],...r??[]].filter(Boolean),s=X.getRequestedCaipNetworkIds().join(","),{data:i,count:o}=await Mn.get({path:"/getWallets",params:{...Tt._getSdkProperties(),page:"1",chains:s,entries:Qx,include:t==null?void 0:t.join(","),exclude:n==null?void 0:n.join(",")}}),a=We.getRecentWallets(),c=i.map(u=>u.image_id).filter(Boolean),l=a.map(u=>u.image_id).filter(Boolean);await Promise.allSettled([...c,...l].map(u=>Tt._fetchWalletImage(u))),Nr.recommended=i,Nr.count=o??0}catch{}finally{Nr.isFetchingRecommendedWallets=!1}},async fetchWallets({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=Re.state,s=X.getRequestedCaipNetworkIds().join(","),i=[...Nr.recommended.map(({id:l})=>l),...r??[],...n??[]].filter(Boolean),{data:o,count:a}=await Mn.get({path:"/getWallets",params:{...Tt._getSdkProperties(),page:String(t),entries:Pce,chains:s,include:e==null?void 0:e.join(","),exclude:i.join(",")}}),c=o.slice(0,Oce).map(l=>l.image_id).filter(Boolean);await Promise.allSettled(c.map(l=>Tt._fetchWalletImage(l))),Nr.wallets=rt.uniqueBy([...Nr.wallets,...Tt._filterOutExtensions(o)],"id"),Nr.count=a>Nr.count?a:Nr.count,Nr.page=t},async initializeExcludedWalletRdns({ids:t}){const e=X.getRequestedCaipNetworkIds().join(","),{data:r}=await Mn.get({path:"/getWallets",params:{...Tt._getSdkProperties(),page:"1",entries:String(t.length),chains:e,include:t==null?void 0:t.join(",")}});r&&r.forEach(n=>{n!=null&&n.rdns&&Nr.excludedRDNS.push(n.rdns)})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=Re.state;Nr.search=[];const s=X.getRequestedCaipNetworkIds().join(","),{data:i}=await Mn.get({path:"/getWallets",params:{...Tt._getSdkProperties(),page:"1",entries:"100",search:t==null?void 0:t.trim(),badge_type:e,chains:s,include:r==null?void 0:r.join(","),exclude:n==null?void 0:n.join(",")}});Zt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const o=i.map(a=>a.image_id).filter(Boolean);await Promise.allSettled([...o.map(a=>Tt._fetchWalletImage(a)),rt.wait(300)]),Nr.search=Tt._filterOutExtensions(i)},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){if(qe.state.status==="connected")return Promise.resolve();if(Nr.prefetchPromise)return Nr.prefetchPromise;const s=[t&&Tt.fetchConnectorImages(),e&&Tt.fetchFeaturedWallets(),r&&Tt.fetchRecommendedWallets(),n&&Tt.fetchNetworkImages()].filter(Boolean);return Nr.prefetchPromise=Promise.allSettled(s),Nr.prefetchPromise},prefetchAnalyticsConfig(){var t;(t=Re.state.features)!=null&&t.analytics&&Tt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Mn.get({path:"/getAnalyticsConfig",params:Tt._getSdkProperties()});Re.setFeatures({analytics:t})}catch{Re.setFeatures({analytics:!1})}}},ys=Er({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),en={state:ys,subscribe(t){return fs(ys,()=>t(ys))},subscribeKey(t,e){return Ps(ys,t,e)},async open(t){var n;_t.state.wcBasic?Tt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Tt.prefetch(),t!=null&&t.namespace?(ft.setFilterByNamespace(t.namespace),await X.switchActiveNamespace(t.namespace),en.setLoading(!0,t.namespace)):en.setLoading(!0);const e=(n=X.getAccountData(t==null?void 0:t.namespace))==null?void 0:n.caipAddress;X.state.noAdapters&&!e?rt.isMobile()?Ct.reset("AllWallets"):Ct.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Ct.reset(t.view):e?Ct.reset("Account"):Ct.reset("Connect"),ys.open=!0,Ba.set({open:!0}),Zt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!e}})},close(){const t=Re.state.enableEmbedded,e=!!X.state.activeCaipAddress;ys.open&&Zt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ys.open=!1,en.clearLoading(),t?e?Ct.replace("Account"):Ct.push("Connect"):Ba.set({open:!1}),ft.clearNamespaceFilter(),_t.resetUri()},setLoading(t,e){e&&ys.loadingNamespaceMap.set(e,t),ys.loading=t,Ba.set({loading:t})},clearLoading(){ys.loadingNamespaceMap.clear(),ys.loading=!1},shake(){ys.shake||(ys.shake=!0,setTimeout(()=>{ys.shake=!1},500))}},Zx=2147483648,Rce={convertEVMChainIdToCoinType(t){if(t>=Zx)throw new Error("Invalid chainId");return(Zx|t)>>>0}},ri=Er({suggestions:[],loading:!1}),k9={state:ri,subscribe(t){return fs(ri,()=>t(ri))},subscribeKey(t,e){return Ps(ri,t,e)},async resolveName(t){var e,r;try{return await Ye.lookupEnsName(t)}catch(n){const s=n;throw new Error(((r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Ye.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ri.loading=!0,ri.suggestions=[];const e=await Ye.getEnsNameSuggestions(t);return ri.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],ri.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{ri.loading=!1}},async getNamesForAddress(t){try{if(!X.state.activeCaipNetwork)return[];const r=We.getEnsFromCacheForAddress(t);if(r)return r;const n=await Ye.reverseLookupEnsName({address:t});return We.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=X.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=qe.state.address,n=ft.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");ri.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Ct.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){ri.loading=!1}});const i=await _t.signMessage(s),o=e.id;if(!o)throw new Error("Network not found");const a=Rce.convertEVMChainIdToCoinType(Number(o));await Ye.registerEnsName({coinType:a,address:r,signature:i,message:s}),qe.setProfileName(t,e.chainNamespace),Ct.replace("RegisterAccountNameSuccess")}catch(s){const i=this.parseEnsApiError(s,`Error registering name ${t}`);throw Ct.replace("RegisterAccountName"),new Error(i)}finally{ri.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,s;const r=t;return((s=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:s.description)||e}},ur={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ro={ConnectorExplorerIds:{[ke.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ke.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ke.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ke.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ke.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[ur.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[ur.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[ur.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[ur.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[ur.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[ur.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[ur.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[ur.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[ur.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[ur.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[ur.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"21c895fa-e105-4829-9434-378bb54fa600","000000000933ea01ad0ee984209779ba":"220bcb01-ba47-41d3-fe5b-e29bbc4a4b00"},ConnectorImageIds:{[ke.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ke.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ke.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ke.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ke.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ke.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ke.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ke.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ke.CONNECTOR_ID.COINBASE]:"Coinbase",[ke.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ke.CONNECTOR_ID.LEDGER]:"Ledger",[ke.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ke.CONNECTOR_ID.INJECTED]:"INJECTED",[ke.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ke.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ke.CONNECTOR_ID.AUTH]:"AUTH"}},D9={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${ur.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Op={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${kce()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function kce(){return typeof window<"u"}const Dce={createLogger(t,e="error"){const r=Uh({level:e}),{logger:n}=a_({opts:r});return n.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},n}},Mce="rpc.walletconnect.org";function Bce(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const Xx=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],wy={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===Mce}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ke.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ke.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var s,i,o;const n=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return Xx.includes(e)?Bce(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpc:n}){var c,l,u,f;const s=this.getCaipNetworkId(t),i=this.getChainNamespace(t),o=(u=(l=(c=t==null?void 0:t.rpcUrls)==null?void 0:c.chainDefault)==null?void 0:l.http)==null?void 0:u[0];let a="";return n?a=((f=t.rpcUrls.default.http)==null?void 0:f[0])||"":a=this.getDefaultRpcUrl(t,s,r),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Ro.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:[a]},chainDefault:{http:[o||t.rpcUrls.default.http[0]||""]}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcChainIds:n}){return t.map(s=>wy.extendCaipNetwork(s,{customNetworkImageUrls:e,projectId:r,customRpc:n==null?void 0:n.includes(s.id)}))},getViemTransport(t){var r;const e=(r=t.rpcUrls.default.http)==null?void 0:r[0];return Xx.includes(t.caipNetworkId)?wce([p2(e,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}),p2(e)]):p2(e)}},e5={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Cn={set(t,e){Ws.isClient&&localStorage.setItem(`${Ve.STORAGE_KEY}${t}`,e)},get(t){return Ws.isClient?localStorage.getItem(`${Ve.STORAGE_KEY}${t}`):null},delete(t,e){Ws.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Ve.STORAGE_KEY}${t}`))}},qm=30*1e3,Ws={checkIfAllowedToTriggerEmail(){const t=Cn.get(Ve.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<qm){const r=Math.ceil((qm-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=Cn.get(Ve.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<qm)return Math.ceil((qm-e)/1e3)}return 0},checkIfRequestExists(t){return vr.NOT_SAFE_RPC_METHODS.includes(t.method)||vr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(e5.transactionHash))||(t==null?void 0:t.match(e5.signedMessage)))?Ve.RPC_RESPONSE_TYPE_TX:Ve.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return vr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Ft;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ft||(Ft={}));var nA;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(nA||(nA={}));const Ue=Ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bc=t=>{switch(typeof t){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return isNaN(t)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(t)?Ue.array:t===null?Ue.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ue.promise:typeof Map<"u"&&t instanceof Map?Ue.map:typeof Set<"u"&&t instanceof Set?Ue.set:typeof Date<"u"&&t instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},xe=Ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Uce=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ji extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ji.create=t=>new Ji(t);const q0=(t,e)=>{let r;switch(t.code){case xe.invalid_type:t.received===Ue.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ft.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ft.joinValues(t.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ft.joinValues(t.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${Ft.joinValues(t.options)}, received '${t.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ft.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case xe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case xe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ft.assertNever(t)}return{message:r}};let M9=q0;function $ce(t){M9=t}function ub(){return M9}const fb=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Lce=[];function Fe(t,e){const r=fb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ub(),q0].filter(n=>!!n)});t.common.issues.push(r)}class Kn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ct;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r)n.push({key:await s.key,value:await s.value});return Kn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ct;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ct=Object.freeze({status:"aborted"}),B9=t=>({status:"dirty",value:t}),ds=t=>({status:"valid",value:t}),sA=t=>t.status==="aborted",iA=t=>t.status==="dirty",V0=t=>t.status==="valid",db=t=>typeof Promise<"u"&&t instanceof Promise;var Ze;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ze||(Ze={}));class jo{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const t5=(t,e)=>{if(V0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ji(t.common.issues);return this._error=r,this._error}}};function pt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:s}}class wt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return bc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:bc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kn,ctx:{common:e.parent.common,data:e.data,parsedType:bc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(db(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bc(e)},i=this._parseSync({data:e,path:s.path,parent:s});return t5(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bc(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(db(s)?s:Promise.resolve(s));return t5(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:xe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Zi({schema:this,typeName:st.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ua.create(this,this._def)}nullable(){return Fu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yi.create(this,this._def)}promise(){return vh.create(this,this._def)}or(e){return J0.create([this,e],this._def)}and(e){return Y0.create(this,e,this._def)}transform(e){return new Zi({...pt(this._def),schema:this,typeName:st.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new tg({...pt(this._def),innerType:this,defaultValue:r,typeName:st.ZodDefault})}brand(){return new $9({typeName:st.ZodBranded,type:this,...pt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new mb({...pt(this._def),innerType:this,catchValue:r,typeName:st.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Zg.create(this,e)}readonly(){return bb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Fce=/^c[^\s-]{8,}$/i,jce=/^[a-z][a-z0-9]*$/,Hce=/^[0-9A-HJKMNP-TV-Z]{26}$/,zce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qce=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let y2;const Wce=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Kce=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Gce=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Jce(t,e){return!!((e==="v4"||!e)&&Wce.test(t)||(e==="v6"||!e)&&Kce.test(t))}class Wi extends wt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ue.string){const i=this._getOrReturnCtx(e);return Fe(i,{code:xe.invalid_type,expected:Ue.string,received:i.parsedType}),ct}const n=new Kn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Fe(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Fe(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")qce.test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"email",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")y2||(y2=new RegExp(Vce,"u")),y2.test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"emoji",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")zce.test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"uuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Fce.test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"cuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")jce.test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"cuid2",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Hce.test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"ulid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Fe(s,{validation:"url",code:xe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"regex",code:xe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Gce(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="ip"?Jce(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Fe(s,{validation:"ip",code:xe.invalid_string,message:i.message}),n.dirty()):Ft.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:xe.invalid_string,...Ze.errToObj(n)})}_addCheck(e){return new Wi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ze.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...Ze.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ze.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ze.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ze.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ze.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ze.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ze.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ze.errToObj(r)})}nonempty(e){return this.min(1,Ze.errToObj(e))}trim(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Wi.create=t=>{var e;return new Wi({checks:[],typeName:st.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...pt(t)})};function Yce(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class el extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ue.number){const i=this._getOrReturnCtx(e);return Fe(i,{code:xe.invalid_type,expected:Ue.number,received:i.parsedType}),ct}let n;const s=new Kn;for(const i of this._def.checks)i.kind==="int"?Ft.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Yce(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.not_finite,message:i.message}),s.dirty()):Ft.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ze.toString(r))}setLimit(e,r,n,s){return new el({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ze.toString(s)}]})}_addCheck(e){return new el({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ze.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ft.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}el.create=t=>new el({checks:[],typeName:st.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...pt(t)});class tl extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ue.bigint){const i=this._getOrReturnCtx(e);return Fe(i,{code:xe.invalid_type,expected:Ue.bigint,received:i.parsedType}),ct}let n;const s=new Kn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Fe(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ft.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ze.toString(r))}setLimit(e,r,n,s){return new tl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ze.toString(s)}]})}_addCheck(e){return new tl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}tl.create=t=>{var e;return new tl({checks:[],typeName:st.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...pt(t)})};class W0 extends wt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ue.boolean){const n=this._getOrReturnCtx(e);return Fe(n,{code:xe.invalid_type,expected:Ue.boolean,received:n.parsedType}),ct}return ds(e.data)}}W0.create=t=>new W0({typeName:st.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...pt(t)});class $u extends wt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ue.date){const i=this._getOrReturnCtx(e);return Fe(i,{code:xe.invalid_type,expected:Ue.date,received:i.parsedType}),ct}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Fe(i,{code:xe.invalid_date}),ct}const n=new Kn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Fe(s,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ft.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $u({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ze.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ze.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}$u.create=t=>new $u({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:st.ZodDate,...pt(t)});class hb extends wt{_parse(e){if(this._getType(e)!==Ue.symbol){const n=this._getOrReturnCtx(e);return Fe(n,{code:xe.invalid_type,expected:Ue.symbol,received:n.parsedType}),ct}return ds(e.data)}}hb.create=t=>new hb({typeName:st.ZodSymbol,...pt(t)});class K0 extends wt{_parse(e){if(this._getType(e)!==Ue.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:xe.invalid_type,expected:Ue.undefined,received:n.parsedType}),ct}return ds(e.data)}}K0.create=t=>new K0({typeName:st.ZodUndefined,...pt(t)});class G0 extends wt{_parse(e){if(this._getType(e)!==Ue.null){const n=this._getOrReturnCtx(e);return Fe(n,{code:xe.invalid_type,expected:Ue.null,received:n.parsedType}),ct}return ds(e.data)}}G0.create=t=>new G0({typeName:st.ZodNull,...pt(t)});class wh extends wt{constructor(){super(...arguments),this._any=!0}_parse(e){return ds(e.data)}}wh.create=t=>new wh({typeName:st.ZodAny,...pt(t)});class Cu extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ds(e.data)}}Cu.create=t=>new Cu({typeName:st.ZodUnknown,...pt(t)});class za extends wt{_parse(e){const r=this._getOrReturnCtx(e);return Fe(r,{code:xe.invalid_type,expected:Ue.never,received:r.parsedType}),ct}}za.create=t=>new za({typeName:st.ZodNever,...pt(t)});class pb extends wt{_parse(e){if(this._getType(e)!==Ue.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:xe.invalid_type,expected:Ue.void,received:n.parsedType}),ct}return ds(e.data)}}pb.create=t=>new pb({typeName:st.ZodVoid,...pt(t)});class Yi extends wt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Ue.array)return Fe(r,{code:xe.invalid_type,expected:Ue.array,received:r.parsedType}),ct;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(Fe(r,{code:o?xe.too_big:xe.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Fe(r,{code:xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Fe(r,{code:xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new jo(r,o,r.path,a)))).then(o=>Kn.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new jo(r,o,r.path,a)));return Kn.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Yi({...this._def,minLength:{value:e,message:Ze.toString(r)}})}max(e,r){return new Yi({...this._def,maxLength:{value:e,message:Ze.toString(r)}})}length(e,r){return new Yi({...this._def,exactLength:{value:e,message:Ze.toString(r)}})}nonempty(e){return this.min(1,e)}}Yi.create=(t,e)=>new Yi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:st.ZodArray,...pt(e)});function jf(t){if(t instanceof Ar){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ua.create(jf(n))}return new Ar({...t._def,shape:()=>e})}else return t instanceof Yi?new Yi({...t._def,type:jf(t.element)}):t instanceof Ua?Ua.create(jf(t.unwrap())):t instanceof Fu?Fu.create(jf(t.unwrap())):t instanceof Ho?Ho.create(t.items.map(e=>jf(e))):t}class Ar extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ft.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ue.object){const l=this._getOrReturnCtx(e);return Fe(l,{code:xe.invalid_type,expected:Ue.object,received:l.parsedType}),ct}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof za&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=i[l],f=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new jo(s,f,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof za){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(Fe(s,{code:xe.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const f=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new jo(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key;l.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Kn.mergeObjectSync(n,l)):Kn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Ze.errToObj,new Ar({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Ze.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Ar({...this._def,unknownKeys:"strip"})}passthrough(){return new Ar({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ar({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ar({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:st.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ar({...this._def,catchall:e})}pick(e){const r={};return Ft.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ar({...this._def,shape:()=>r})}omit(e){const r={};return Ft.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ar({...this._def,shape:()=>r})}deepPartial(){return jf(this)}partial(e){const r={};return Ft.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new Ar({...this._def,shape:()=>r})}required(e){const r={};return Ft.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ua;)i=i._def.innerType;r[n]=i}}),new Ar({...this._def,shape:()=>r})}keyof(){return U9(Ft.objectKeys(this.shape))}}Ar.create=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strip",catchall:za.create(),typeName:st.ZodObject,...pt(e)});Ar.strictCreate=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strict",catchall:za.create(),typeName:st.ZodObject,...pt(e)});Ar.lazycreate=(t,e)=>new Ar({shape:t,unknownKeys:"strip",catchall:za.create(),typeName:st.ZodObject,...pt(e)});class J0 extends wt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Ji(a.ctx.common.issues));return Fe(r,{code:xe.invalid_union,unionErrors:o}),ct}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new Ji(c));return Fe(r,{code:xe.invalid_union,unionErrors:a}),ct}}get options(){return this._def.options}}J0.create=(t,e)=>new J0({options:t,typeName:st.ZodUnion,...pt(e)});const vy=t=>t instanceof Z0?vy(t.schema):t instanceof Zi?vy(t.innerType()):t instanceof X0?[t.value]:t instanceof rl?t.options:t instanceof eg?Object.keys(t.enum):t instanceof tg?vy(t._def.innerType):t instanceof K0?[void 0]:t instanceof G0?[null]:null;class kw extends wt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ue.object)return Fe(r,{code:xe.invalid_type,expected:Ue.object,received:r.parsedType}),ct;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Fe(r,{code:xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ct)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=vy(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new kw({typeName:st.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...pt(n)})}}function oA(t,e){const r=bc(t),n=bc(e);if(t===e)return{valid:!0,data:t};if(r===Ue.object&&n===Ue.object){const s=Ft.objectKeys(e),i=Ft.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=oA(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===Ue.array&&n===Ue.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=oA(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ue.date&&n===Ue.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Y0 extends wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(sA(i)||sA(o))return ct;const a=oA(i.value,o.value);return a.valid?((iA(i)||iA(o))&&r.dirty(),{status:r.value,value:a.data}):(Fe(n,{code:xe.invalid_intersection_types}),ct)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Y0.create=(t,e,r)=>new Y0({left:t,right:e,typeName:st.ZodIntersection,...pt(r)});class Ho extends wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ue.array)return Fe(n,{code:xe.invalid_type,expected:Ue.array,received:n.parsedType}),ct;if(n.data.length<this._def.items.length)return Fe(n,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ct;!this._def.rest&&n.data.length>this._def.items.length&&(Fe(n,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new jo(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Kn.mergeArray(r,o)):Kn.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Ho({...this._def,rest:e})}}Ho.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ho({items:t,typeName:st.ZodTuple,rest:null,...pt(e)})};class Q0 extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ue.object)return Fe(n,{code:xe.invalid_type,expected:Ue.object,received:n.parsedType}),ct;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new jo(n,a,n.path,a)),value:o._parse(new jo(n,n.data[a],n.path,a))});return n.common.async?Kn.mergeObjectAsync(r,s):Kn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof wt?new Q0({keyType:e,valueType:r,typeName:st.ZodRecord,...pt(n)}):new Q0({keyType:Wi.create(),valueType:e,typeName:st.ZodRecord,...pt(r)})}}class gb extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ue.map)return Fe(n,{code:xe.invalid_type,expected:Ue.map,received:n.parsedType}),ct;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:s._parse(new jo(n,a,n.path,[l,"key"])),value:i._parse(new jo(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return ct;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return ct;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}}gb.create=(t,e,r)=>new gb({valueType:e,keyType:t,typeName:st.ZodMap,...pt(r)});class Lu extends wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ue.set)return Fe(n,{code:xe.invalid_type,expected:Ue.set,received:n.parsedType}),ct;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Fe(n,{code:xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Fe(n,{code:xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return ct;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>i._parse(new jo(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Lu({...this._def,minSize:{value:e,message:Ze.toString(r)}})}max(e,r){return new Lu({...this._def,maxSize:{value:e,message:Ze.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Lu.create=(t,e)=>new Lu({valueType:t,minSize:null,maxSize:null,typeName:st.ZodSet,...pt(e)});class ad extends wt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ue.function)return Fe(r,{code:xe.invalid_type,expected:Ue.function,received:r.parsedType}),ct;function n(a,c){return fb({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ub(),q0].filter(l=>!!l),issueData:{code:xe.invalid_arguments,argumentsError:c}})}function s(a,c){return fb({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ub(),q0].filter(l=>!!l),issueData:{code:xe.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof vh){const a=this;return ds(async function(...c){const l=new Ji([]),u=await a._def.args.parseAsync(c,i).catch(h=>{throw l.addIssue(n(c,h)),l}),f=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(f,i).catch(h=>{throw l.addIssue(s(f,h)),l})})}else{const a=this;return ds(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new Ji([n(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=a._def.returns.safeParse(u,i);if(!f.success)throw new Ji([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ad({...this._def,args:Ho.create(e).rest(Cu.create())})}returns(e){return new ad({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ad({args:e||Ho.create([]).rest(Cu.create()),returns:r||Cu.create(),typeName:st.ZodFunction,...pt(n)})}}class Z0 extends wt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Z0.create=(t,e)=>new Z0({getter:t,typeName:st.ZodLazy,...pt(e)});class X0 extends wt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Fe(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),ct}return{status:"valid",value:e.data}}get value(){return this._def.value}}X0.create=(t,e)=>new X0({value:t,typeName:st.ZodLiteral,...pt(e)});function U9(t,e){return new rl({values:t,typeName:st.ZodEnum,...pt(e)})}class rl extends wt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{expected:Ft.joinValues(n),received:r.parsedType,code:xe.invalid_type}),ct}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Fe(r,{received:r.data,code:xe.invalid_enum_value,options:n}),ct}return ds(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return rl.create(e)}exclude(e){return rl.create(this.options.filter(r=>!e.includes(r)))}}rl.create=U9;class eg extends wt{_parse(e){const r=Ft.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ue.string&&n.parsedType!==Ue.number){const s=Ft.objectValues(r);return Fe(n,{expected:Ft.joinValues(s),received:n.parsedType,code:xe.invalid_type}),ct}if(r.indexOf(e.data)===-1){const s=Ft.objectValues(r);return Fe(n,{received:n.data,code:xe.invalid_enum_value,options:s}),ct}return ds(e.data)}get enum(){return this._def.values}}eg.create=(t,e)=>new eg({values:t,typeName:st.ZodNativeEnum,...pt(e)});class vh extends wt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ue.promise&&r.common.async===!1)return Fe(r,{code:xe.invalid_type,expected:Ue.promise,received:r.parsedType}),ct;const n=r.parsedType===Ue.promise?r.data:Promise.resolve(r.data);return ds(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vh.create=(t,e)=>new vh({type:t,typeName:st.ZodPromise,...pt(e)});class Zi extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===st.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Fe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ct:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ct:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!V0(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>V0(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Ft.assertNever(s)}}Zi.create=(t,e,r)=>new Zi({schema:t,typeName:st.ZodEffects,effect:e,...pt(r)});Zi.createWithPreprocess=(t,e,r)=>new Zi({schema:e,effect:{type:"preprocess",transform:t},typeName:st.ZodEffects,...pt(r)});class Ua extends wt{_parse(e){return this._getType(e)===Ue.undefined?ds(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ua.create=(t,e)=>new Ua({innerType:t,typeName:st.ZodOptional,...pt(e)});class Fu extends wt{_parse(e){return this._getType(e)===Ue.null?ds(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fu.create=(t,e)=>new Fu({innerType:t,typeName:st.ZodNullable,...pt(e)});class tg extends wt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}tg.create=(t,e)=>new tg({innerType:t,typeName:st.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pt(e)});class mb extends wt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return db(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ji(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ji(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}mb.create=(t,e)=>new mb({innerType:t,typeName:st.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pt(e)});class yb extends wt{_parse(e){if(this._getType(e)!==Ue.nan){const n=this._getOrReturnCtx(e);return Fe(n,{code:xe.invalid_type,expected:Ue.nan,received:n.parsedType}),ct}return{status:"valid",value:e.data}}}yb.create=t=>new yb({typeName:st.ZodNaN,...pt(t)});const Qce=Symbol("zod_brand");class $9 extends wt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Zg extends wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ct:i.status==="dirty"?(r.dirty(),B9(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ct:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Zg({in:e,out:r,typeName:st.ZodPipeline})}}class bb extends wt{_parse(e){const r=this._def.innerType._parse(e);return V0(r)&&(r.value=Object.freeze(r.value)),r}}bb.create=(t,e)=>new bb({innerType:t,typeName:st.ZodReadonly,...pt(e)});const L9=(t,e={},r)=>t?wh.create().superRefine((n,s)=>{var i,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):wh.create(),Zce={object:Ar.lazycreate};var st;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(st||(st={}));const Xce=(t,e={message:`Input not instance of ${t.name}`})=>L9(r=>r instanceof t,e),F9=Wi.create,j9=el.create,ele=yb.create,tle=tl.create,H9=W0.create,rle=$u.create,nle=hb.create,sle=K0.create,ile=G0.create,ole=wh.create,ale=Cu.create,cle=za.create,lle=pb.create,ule=Yi.create,fle=Ar.create,dle=Ar.strictCreate,hle=J0.create,ple=kw.create,gle=Y0.create,mle=Ho.create,yle=Q0.create,ble=gb.create,wle=Lu.create,vle=ad.create,Ele=Z0.create,Ale=X0.create,_le=rl.create,Cle=eg.create,Sle=vh.create,r5=Zi.create,xle=Ua.create,Ile=Fu.create,Tle=Zi.createWithPreprocess,Nle=Zg.create,Ple=()=>F9().optional(),Ole=()=>j9().optional(),Rle=()=>H9().optional(),kle={string:t=>Wi.create({...t,coerce:!0}),number:t=>el.create({...t,coerce:!0}),boolean:t=>W0.create({...t,coerce:!0}),bigint:t=>tl.create({...t,coerce:!0}),date:t=>$u.create({...t,coerce:!0})},Dle=ct;var H=Object.freeze({__proto__:null,defaultErrorMap:q0,setErrorMap:$ce,getErrorMap:ub,makeIssue:fb,EMPTY_PATH:Lce,addIssueToContext:Fe,ParseStatus:Kn,INVALID:ct,DIRTY:B9,OK:ds,isAborted:sA,isDirty:iA,isValid:V0,isAsync:db,get util(){return Ft},get objectUtil(){return nA},ZodParsedType:Ue,getParsedType:bc,ZodType:wt,ZodString:Wi,ZodNumber:el,ZodBigInt:tl,ZodBoolean:W0,ZodDate:$u,ZodSymbol:hb,ZodUndefined:K0,ZodNull:G0,ZodAny:wh,ZodUnknown:Cu,ZodNever:za,ZodVoid:pb,ZodArray:Yi,ZodObject:Ar,ZodUnion:J0,ZodDiscriminatedUnion:kw,ZodIntersection:Y0,ZodTuple:Ho,ZodRecord:Q0,ZodMap:gb,ZodSet:Lu,ZodFunction:ad,ZodLazy:Z0,ZodLiteral:X0,ZodEnum:rl,ZodNativeEnum:eg,ZodPromise:vh,ZodEffects:Zi,ZodTransformer:Zi,ZodOptional:Ua,ZodNullable:Fu,ZodDefault:tg,ZodCatch:mb,ZodNaN:yb,BRAND:Qce,ZodBranded:$9,ZodPipeline:Zg,ZodReadonly:bb,custom:L9,Schema:wt,ZodSchema:wt,late:Zce,get ZodFirstPartyTypeKind(){return st},coerce:kle,any:ole,array:ule,bigint:tle,boolean:H9,date:rle,discriminatedUnion:ple,effect:r5,enum:_le,function:vle,instanceof:Xce,intersection:gle,lazy:Ele,literal:Ale,map:ble,nan:ele,nativeEnum:Cle,never:cle,null:ile,nullable:Ile,number:j9,object:fle,oboolean:Rle,onumber:Ole,optional:xle,ostring:Ple,pipeline:Nle,preprocess:Tle,promise:Sle,record:yle,set:wle,strictObject:dle,string:F9,symbol:nle,transformer:r5,tuple:mle,undefined:sle,union:hle,unknown:ale,void:lle,NEVER:Dle,ZodIssueCode:xe,quotelessJson:Uce,ZodError:Ji});const Sr=H.object({message:H.string()});function $e(t){return H.literal(Ve[t])}H.object({accessList:H.array(H.string()),blockHash:H.string().nullable(),blockNumber:H.string().nullable(),chainId:H.string().or(H.number()),from:H.string(),gas:H.string(),hash:H.string(),input:H.string().nullable(),maxFeePerGas:H.string(),maxPriorityFeePerGas:H.string(),nonce:H.string(),r:H.string(),s:H.string(),to:H.string(),transactionIndex:H.string().nullable(),type:H.string(),v:H.string(),value:H.string()});const Mle=H.object({chainId:H.string().or(H.number())}),Ble=H.object({email:H.string().email()}),Ule=H.object({otp:H.string()}),$le=H.object({uri:H.string()}),Lle=H.object({chainId:H.optional(H.string().or(H.number())),preferredAccountType:H.optional(H.string())}),Fle=H.object({provider:H.enum(["google","github","apple","facebook","x","discord"])}),jle=H.object({email:H.string().email()}),Hle=H.object({otp:H.string()}),zle=H.object({otp:H.string()}),qle=H.object({themeMode:H.optional(H.enum(["light","dark"])),themeVariables:H.optional(H.record(H.string(),H.string().or(H.number()))),w3mThemeVariables:H.optional(H.record(H.string(),H.string()))}),Vle=H.object({metadata:H.object({name:H.string(),description:H.string(),url:H.string(),icons:H.array(H.string())}).optional(),sdkVersion:H.string().optional(),sdkType:H.string().optional(),projectId:H.string()}),Wle=H.object({type:H.string()}),Kle=H.object({action:H.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Gle=H.object({url:H.string()}),Jle=H.object({userName:H.string()}),Yle=H.object({email:H.string().optional().nullable(),address:H.string(),chainId:H.string().or(H.number()),accounts:H.array(H.object({address:H.string(),type:H.enum([vr.ACCOUNT_TYPES.EOA,vr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:H.string().optional().nullable()}),Qle=H.object({action:H.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Zle=H.object({email:H.string().email().optional().nullable(),address:H.string(),chainId:H.string().or(H.number()),smartAccountDeployed:H.optional(H.boolean()),accounts:H.array(H.object({address:H.string(),type:H.enum([vr.ACCOUNT_TYPES.EOA,vr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:H.optional(H.string())}),Xle=H.object({uri:H.string()}),eue=H.object({isConnected:H.boolean()}),tue=H.object({chainId:H.string().or(H.number())}),rue=H.object({chainId:H.string().or(H.number())}),nue=H.object({newEmail:H.string().email()}),sue=H.object({smartAccountEnabledNetworks:H.array(H.number())});H.object({address:H.string(),isDeployed:H.boolean()});const iue=H.object({version:H.string().optional()}),oue=H.object({type:H.string(),address:H.string()}),aue=H.any(),cue=H.object({method:H.literal("eth_accounts")}),lue=H.object({method:H.literal("eth_blockNumber")}),uue=H.object({method:H.literal("eth_call"),params:H.array(H.any())}),fue=H.object({method:H.literal("eth_chainId")}),due=H.object({method:H.literal("eth_estimateGas"),params:H.array(H.any())}),hue=H.object({method:H.literal("eth_feeHistory"),params:H.array(H.any())}),pue=H.object({method:H.literal("eth_gasPrice")}),gue=H.object({method:H.literal("eth_getAccount"),params:H.array(H.any())}),mue=H.object({method:H.literal("eth_getBalance"),params:H.array(H.any())}),yue=H.object({method:H.literal("eth_getBlockByHash"),params:H.array(H.any())}),bue=H.object({method:H.literal("eth_getBlockByNumber"),params:H.array(H.any())}),wue=H.object({method:H.literal("eth_getBlockReceipts"),params:H.array(H.any())}),vue=H.object({method:H.literal("eth_getBlockTransactionCountByHash"),params:H.array(H.any())}),Eue=H.object({method:H.literal("eth_getBlockTransactionCountByNumber"),params:H.array(H.any())}),Aue=H.object({method:H.literal("eth_getCode"),params:H.array(H.any())}),_ue=H.object({method:H.literal("eth_getFilterChanges"),params:H.array(H.any())}),Cue=H.object({method:H.literal("eth_getFilterLogs"),params:H.array(H.any())}),Sue=H.object({method:H.literal("eth_getLogs"),params:H.array(H.any())}),xue=H.object({method:H.literal("eth_getProof"),params:H.array(H.any())}),Iue=H.object({method:H.literal("eth_getStorageAt"),params:H.array(H.any())}),Tue=H.object({method:H.literal("eth_getTransactionByBlockHashAndIndex"),params:H.array(H.any())}),Nue=H.object({method:H.literal("eth_getTransactionByBlockNumberAndIndex"),params:H.array(H.any())}),Pue=H.object({method:H.literal("eth_getTransactionByHash"),params:H.array(H.any())}),Oue=H.object({method:H.literal("eth_getTransactionCount"),params:H.array(H.any())}),Rue=H.object({method:H.literal("eth_getTransactionReceipt"),params:H.array(H.any())}),kue=H.object({method:H.literal("eth_getUncleCountByBlockHash"),params:H.array(H.any())}),Due=H.object({method:H.literal("eth_getUncleCountByBlockNumber"),params:H.array(H.any())}),Mue=H.object({method:H.literal("eth_maxPriorityFeePerGas")}),Bue=H.object({method:H.literal("eth_newBlockFilter")}),Uue=H.object({method:H.literal("eth_newFilter"),params:H.array(H.any())}),$ue=H.object({method:H.literal("eth_newPendingTransactionFilter")}),Lue=H.object({method:H.literal("eth_sendRawTransaction"),params:H.array(H.any())}),Fue=H.object({method:H.literal("eth_syncing"),params:H.array(H.any())}),jue=H.object({method:H.literal("eth_uninstallFilter"),params:H.array(H.any())}),n5=H.object({method:H.literal("personal_sign"),params:H.array(H.any())}),Hue=H.object({method:H.literal("eth_signTypedData_v4"),params:H.array(H.any())}),zue=H.object({method:H.literal("eth_sendTransaction"),params:H.array(H.any())}),que=H.object({method:H.literal("solana_signMessage"),params:H.object({message:H.string(),pubkey:H.string()})}),Vue=H.object({method:H.literal("solana_signTransaction"),params:H.object({transaction:H.string()})}),Wue=H.object({method:H.literal("solana_signAllTransactions"),params:H.object({transactions:H.array(H.string())})}),Kue=H.object({method:H.literal("solana_signAndSendTransaction"),params:H.object({transaction:H.string(),options:H.object({skipPreflight:H.boolean().optional(),preflightCommitment:H.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:H.number().optional(),minContextSlot:H.number().optional()}).optional()})}),Gue=H.object({method:H.literal("wallet_sendCalls"),params:H.array(H.object({chainId:H.string().or(H.number()).optional(),from:H.string().optional(),version:H.string().optional(),capabilities:H.any().optional(),calls:H.array(H.object({to:H.string().startsWith("0x"),data:H.string().startsWith("0x").optional(),value:H.string().optional()}))}))}),Jue=H.object({method:H.literal("wallet_getCallsStatus"),params:H.array(H.string())}),Yue=H.object({method:H.literal("wallet_getCapabilities")}),Que=H.object({method:H.literal("wallet_grantPermissions"),params:H.array(H.any())}),Zue=H.object({method:H.literal("wallet_revokePermissions"),params:H.any()}),Xue=H.object({method:H.literal("wallet_getAssets"),params:H.any()}),s5=H.object({token:H.string()}),Le=H.object({id:H.string().optional()}),mp={appEvent:Le.extend({type:$e("APP_SWITCH_NETWORK"),payload:Mle}).or(Le.extend({type:$e("APP_CONNECT_EMAIL"),payload:Ble})).or(Le.extend({type:$e("APP_CONNECT_DEVICE")})).or(Le.extend({type:$e("APP_CONNECT_OTP"),payload:Ule})).or(Le.extend({type:$e("APP_CONNECT_SOCIAL"),payload:$le})).or(Le.extend({type:$e("APP_GET_FARCASTER_URI")})).or(Le.extend({type:$e("APP_CONNECT_FARCASTER")})).or(Le.extend({type:$e("APP_GET_USER"),payload:H.optional(Lle)})).or(Le.extend({type:$e("APP_GET_SOCIAL_REDIRECT_URI"),payload:Fle})).or(Le.extend({type:$e("APP_SIGN_OUT")})).or(Le.extend({type:$e("APP_IS_CONNECTED"),payload:H.optional(s5)})).or(Le.extend({type:$e("APP_GET_CHAIN_ID")})).or(Le.extend({type:$e("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Le.extend({type:$e("APP_INIT_SMART_ACCOUNT")})).or(Le.extend({type:$e("APP_SET_PREFERRED_ACCOUNT"),payload:Wle})).or(Le.extend({type:$e("APP_RPC_REQUEST"),payload:n5.or(Xue).or(cue).or(lue).or(uue).or(fue).or(due).or(hue).or(pue).or(gue).or(mue).or(yue).or(bue).or(wue).or(vue).or(Eue).or(Aue).or(_ue).or(Cue).or(Sue).or(xue).or(Iue).or(Tue).or(Nue).or(Pue).or(Oue).or(Rue).or(kue).or(Due).or(Mue).or(Bue).or(Uue).or($ue).or(Lue).or(Fue).or(jue).or(n5).or(Hue).or(zue).or(que).or(Vue).or(Wue).or(Kue).or(Jue).or(Gue).or(Yue).or(Que).or(Zue)})).or(Le.extend({type:$e("APP_UPDATE_EMAIL"),payload:jle})).or(Le.extend({type:$e("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Hle})).or(Le.extend({type:$e("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:zle})).or(Le.extend({type:$e("APP_SYNC_THEME"),payload:qle})).or(Le.extend({type:$e("APP_SYNC_DAPP_DATA"),payload:Vle})).or(Le.extend({type:$e("APP_RELOAD")})),frameEvent:Le.extend({type:$e("FRAME_SWITCH_NETWORK_ERROR"),payload:Sr}).or(Le.extend({type:$e("FRAME_SWITCH_NETWORK_SUCCESS"),payload:rue})).or(Le.extend({type:$e("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Kle})).or(Le.extend({type:$e("FRAME_CONNECT_EMAIL_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Gle})).or(Le.extend({type:$e("FRAME_GET_FARCASTER_URI_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Jle})).or(Le.extend({type:$e("FRAME_CONNECT_FARCASTER_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_CONNECT_OTP_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_CONNECT_OTP_SUCCESS")})).or(Le.extend({type:$e("FRAME_CONNECT_DEVICE_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Le.extend({type:$e("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Yle})).or(Le.extend({type:$e("FRAME_CONNECT_SOCIAL_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_GET_USER_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_GET_USER_SUCCESS"),payload:Zle})).or(Le.extend({type:$e("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Xle})).or(Le.extend({type:$e("FRAME_SIGN_OUT_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_SIGN_OUT_SUCCESS")})).or(Le.extend({type:$e("FRAME_IS_CONNECTED_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_IS_CONNECTED_SUCCESS"),payload:eue})).or(Le.extend({type:$e("FRAME_GET_CHAIN_ID_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_GET_CHAIN_ID_SUCCESS"),payload:tue})).or(Le.extend({type:$e("FRAME_RPC_REQUEST_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_RPC_REQUEST_SUCCESS"),payload:aue})).or(Le.extend({type:$e("FRAME_SESSION_UPDATE"),payload:s5})).or(Le.extend({type:$e("FRAME_UPDATE_EMAIL_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Qle})).or(Le.extend({type:$e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Le.extend({type:$e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:nue})).or(Le.extend({type:$e("FRAME_SYNC_THEME_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_SYNC_THEME_SUCCESS")})).or(Le.extend({type:$e("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Le.extend({type:$e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:sue})).or(Le.extend({type:$e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:oue})).or(Le.extend({type:$e("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_READY"),payload:iue})).or(Le.extend({type:$e("FRAME_RELOAD_ERROR"),payload:Sr})).or(Le.extend({type:$e("FRAME_RELOAD_SUCCESS")}))};function b2(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class efe{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:s=!0}){if(this.iframe=null,this.rpcUrl=ke.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const i=document.getElementById("w3m-iframe");this.iframe&&!i&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(i,o,a)=>{function c({data:l}){if(!b2(Ve.FRAME_EVENT_KEY,l))return;const u=mp.frameEvent.parse(l);u.id===i&&(o(u),window.removeEventListener("message",c))}Ws.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:i=>{Ws.isClient&&window.addEventListener("message",({data:o})=>{if(!b2(Ve.FRAME_EVENT_KEY,o))return;const a=mp.frameEvent.parse(o);i(a)})},onAppEvent:i=>{Ws.isClient&&window.addEventListener("message",({data:o})=>{if(!b2(Ve.APP_EVENT_KEY,o))return;const a=mp.appEvent.parse(o);i(a)})},postAppEvent:i=>{var o;if(Ws.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");mp.appEvent.parse(i),this.iframe.contentWindow.postMessage(i,"*")}},postFrameEvent:i=>{if(Ws.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");mp.frameEvent.parse(i),parent.postMessage(i,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),r&&(this.frameLoadPromise=new Promise((i,o)=>{this.frameLoadPromiseResolver={resolve:i,reject:o}}),Ws.isClient)){const i=document.createElement("iframe");i.id="w3m-iframe",i.src=`${qae}?projectId=${e}&chainId=${n}&version=${Wae}&enableLogger=${s}`,i.name="w3m-secure-iframe",i.style.position="fixed",i.style.zIndex="999999",i.style.display="none",i.style.animationDelay="0s, 50ms",i.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",i.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=i,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class tfe{constructor(e){var i;const r=Uh({level:Vae}),{logger:n,chunkLoggerController:s}=a_({opts:r});this.logger=Gn(n,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class rfe{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:s}){this.openRpcRequests=[],n&&(this.w3mLogger=new tfe(e)),this.w3mFrame=new efe({projectId:e,isAppClient:!0,chainId:r,enableLogger:n}),this.onTimeout=s,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(i=>{this.w3mFrame.events.onFrameEvent(o=>{o.type===Ve.FRAME_READY&&(this.initPromise=void 0,i())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!Cn.get(Ve.EMAIL_LOGIN_USED_KEY)}getEmail(){return Cn.get(Ve.EMAIL)}getUsername(){return Cn.get(Ve.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:Ve.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{Ws.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const n=await this.appEvent({type:Ve.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){var e;try{return this.appEvent({type:Ve.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:Ve.APP_CONNECT_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:Ve.APP_IS_CONNECTED});return r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:Ve.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return this.w3mFrame.initFrame(),this.appEvent({type:Ve.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){var r;try{const n=await this.appEvent({type:Ve.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:Ve.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){var r;try{const n=await this.appEvent({type:Ve.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){var r;try{return this.appEvent({type:Ve.APP_SYNC_THEME,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){var r;try{return this.appEvent({type:Ve.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:Ve.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:Ve.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Ve.APP_GET_USER,payload:{...e,chainId:n}});return this.setLoginSuccess(s.email),this.setLastUsedChainId(s.chainId),this.user=s,s}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async getUser(e){var r;try{const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Ve.APP_GET_USER,payload:{...e,chainId:n}});return this.user=s,s}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){var r;try{this.w3mFrame.initFrame();const n=await this.appEvent({type:Ve.APP_CONNECT_SOCIAL,payload:{uri:e}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:Ve.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:Ve.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const n=await this.appEvent({type:Ve.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error switching network"),n}}async disconnect(){var e;try{const r=await this.appEvent({type:Ve.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,n,s,i;try{if(vr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const o=await this.appEvent({type:Ve.APP_RPC_REQUEST,payload:e});return(n=this.rpcSuccessHandler)==null||n.call(this,o,e),o}catch(o){throw(s=this.rpcErrorHandler)==null||s.call(this,o,e),(i=this.w3mLogger)==null||i.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_IS_CONNECTED_ERROR&&e(),r.type===Ve.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===Ve.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:vr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ve.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===Ve.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:n})=>{vr.SAFE_RPC_METHODS.includes(n)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let r;function n(a){return a.replace("@w3m-app/","")}const s=new AbortController,i=n(e.type);return[Ve.APP_CONNECT_EMAIL,Ve.APP_CONNECT_DEVICE,Ve.APP_CONNECT_OTP,Ve.APP_CONNECT_SOCIAL,Ve.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(i)&&(r=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),s.abort()},3e4)),new Promise((a,c)=>{var f,d,h;const l=Math.random().toString(36).substring(7);if((h=(f=this.w3mLogger)==null?void 0:(d=f.logger).info)==null||h.call(d,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),i==="RPC_REQUEST"){const p=e;this.openRpcRequests=[...this.openRpcRequests,{...p.payload,abortController:s}]}s.signal.addEventListener("abort",()=>{i==="RPC_REQUEST"?c(new Error("Request was aborted")):i!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function u(p,g){var y,E,C;p.id===l&&((E=g==null?void 0:(y=g.logger).info)==null||E.call(y,{framEvent:p,id:l},"Received frame response"),p.type===`@w3m-frame/${i}_SUCCESS`?(r&&clearTimeout(r),"payload"in p&&a(p.payload),a(void 0)):p.type===`@w3m-frame/${i}_ERROR`&&(r&&clearTimeout(r),"payload"in p&&c(new Error(((C=p.payload)==null?void 0:C.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,p=>u(p,this.w3mLogger),s.signal)})}setNewLastEmailLoginTime(){Cn.set(Ve.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Cn.set(Ve.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Cn.set(Ve.EMAIL,e),Cn.set(Ve.EMAIL_LOGIN_USED_KEY,"true"),Cn.delete(Ve.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Cn.delete(Ve.EMAIL_LOGIN_USED_KEY),Cn.delete(Ve.EMAIL),Cn.delete(Ve.LAST_USED_CHAIN_KEY),Cn.delete(Ve.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Cn.set(Ve.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Cn.get(Ve.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){Cn.set(Ve.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class e0{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:s}){return e0.instance||(e0.instance=new rfe({projectId:e,chainId:r,enableLogger:n,onTimeout:s})),e0.instance}}const wb={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},ni=Er({providers:{...wb},providerIds:{...wb}}),$t={state:ni,subscribeKey(t,e){return Ps(ni,t,e)},subscribeProviders(t){return fs(ni.providers,()=>t(ni.providers))},setProvider(t,e){e&&(ni.providers[t]=Ru(e))},getProvider(t){return ni.providers[t]},setProviderId(t,e){e&&(ni.providerIds[t]=e)},getProviderId(t){if(t)return ni.providerIds[t]},reset(){ni.providers={...wb},ni.providerIds={...wb}},resetChain(t){ni.providers[t]=void 0,ni.providerIds[t]=void 0}};var i5={};const nfe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof i5<"u"?i5.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},aA={filterOutDuplicatesByRDNS(t){const e=Re.state.enableEIP6963?ft.state.connectors:[],r=We.getRecentWallets(),n=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=r.map(a=>a.rdns).filter(Boolean),i=n.concat(s);if(i.includes("io.metamask.mobile")&&rt.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!i.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=ft.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=We.getRecentWallets(),n=e.map(a=>a.explorerId),s=r.map(a=>a.id),i=n.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ft.state,r=e.filter(i=>i.type==="ANNOUNCED").reduce((i,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(i[o.info.rdns]=!0),i},{});return t.map(i=>({...i,installed:!!i.rdns&&!!r[i.rdns??""]})).sort((i,o)=>Number(o.installed)-Number(i.installed))},getConnectOrderMethod(t,e){var c;const r=(t==null?void 0:t.connectMethodsOrder)||((c=Re.state.features)==null?void 0:c.connectMethodsOrder),n=e||ft.state.connectors;if(r)return r;const{injected:s,announced:i}=w2.getConnectorsByType(n),o=s.filter(w2.showConnector),a=i.filter(w2.showConnector);return o.length||a.length?["wallet","email","social"]:nfe.DEFAULT_CONNECT_METHOD_ORDER}},w2={getConnectorsByType(t){const{featured:e,recommended:r}=Tt.state,{customWallets:n}=Re.state,s=We.getRecentWallets(),i=aA.filterOutDuplicateWallets(r),o=aA.filterOutDuplicateWallets(e),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),u=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(t){var e,r;if(t.type==="INJECTED"){if(!rt.isMobile()&&t.name==="Browser Wallet")return!1;const n=(e=t.info)==null?void 0:e.rdns;if(!n&&!_t.checkInstalled()||n&&Tt.state.excludedRDNS&&Tt.state.excludedRDNS.includes(n))return!1}if(t.type==="ANNOUNCED"){const n=(r=t.info)==null?void 0:r.rdns;if(n&&Tt.state.excludedRDNS.includes(n))return!1}return!0},getIsConnectedWithWC(){return Array.from(X.state.chains.values()).some(r=>ft.getConnectorId(r.namespace)===ke.CONNECTOR_ID.WALLET_CONNECT)}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ey=globalThis,D_=Ey.ShadowRoot&&(Ey.ShadyCSS===void 0||Ey.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,M_=Symbol(),o5=new WeakMap;let z9=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==M_)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(D_&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=o5.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&o5.set(r,e))}return e}toString(){return this.cssText}};const ii=t=>new z9(typeof t=="string"?t:t+"",void 0,M_),cd=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,s,i)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new z9(r,t,M_)},sfe=(t,e)=>{if(D_)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),s=Ey.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,t.appendChild(n)}},a5=D_?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return ii(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ife,defineProperty:ofe,getOwnPropertyDescriptor:afe,getOwnPropertyNames:cfe,getOwnPropertySymbols:lfe,getPrototypeOf:ufe}=Object,Gc=globalThis,c5=Gc.trustedTypes,ffe=c5?c5.emptyScript:"",v2=Gc.reactiveElementPolyfillSupport,t0=(t,e)=>t,cA={toAttribute(t,e){switch(e){case Boolean:t=t?ffe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},q9=(t,e)=>!ife(t,e),l5={attribute:!0,type:String,converter:cA,reflect:!1,hasChanged:q9};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Gc.litPropertyMetadata??(Gc.litPropertyMetadata=new WeakMap);let Hf=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=l5){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),s=this.getPropertyDescriptor(e,n,r);s!==void 0&&ofe(this.prototype,e,s)}}static getPropertyDescriptor(e,r,n){const{get:s,set:i}=afe(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get(){return s==null?void 0:s.call(this)},set(o){const a=s==null?void 0:s.call(this);i.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??l5}static _$Ei(){if(this.hasOwnProperty(t0("elementProperties")))return;const e=ufe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(t0("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(t0("properties"))){const r=this.properties,n=[...cfe(r),...lfe(r)];for(const s of n)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const s of n)r.unshift(a5(s))}else e!==void 0&&r.push(a5(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return sfe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EC(e,r){var i;const n=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)==null?void 0:i.toAttribute)!==void 0?n.converter:cA).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,r){var i;const n=this.constructor,s=n._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const o=n.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((i=o.converter)==null?void 0:i.fromAttribute)!==void 0?o.converter:cA;this._$Em=s,this[s]=a.fromAttribute(r,o.type),this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){if(n??(n=this.constructor.getPropertyOptions(e)),!(n.hasChanged??q9)(this[e],r))return;this.P(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,n){this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s)o.wrapped!==!0||this._$AL.has(i)||this[i]===void 0||this.P(i,this[i],o)}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(r)):this._$EU()}catch(s){throw e=!1,this._$EU(),s}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostUpdated)==null?void 0:s.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}};Hf.elementStyles=[],Hf.shadowRootOptions={mode:"open"},Hf[t0("elementProperties")]=new Map,Hf[t0("finalized")]=new Map,v2==null||v2({ReactiveElement:Hf}),(Gc.reactiveElementVersions??(Gc.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const r0=globalThis,vb=r0.trustedTypes,u5=vb?vb.createPolicy("lit-html",{createHTML:t=>t}):void 0,V9="$lit$",wc=`lit$${Math.random().toFixed(9).slice(2)}$`,W9="?"+wc,dfe=`<${W9}>`,ju=document,rg=()=>ju.createComment(""),ng=t=>t===null||typeof t!="object"&&typeof t!="function",B_=Array.isArray,hfe=t=>B_(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",E2=`[ 	
\f\r]`,yp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,f5=/-->/g,d5=/>/g,Sl=RegExp(`>|${E2}(?:([^\\s"'>=/]+)(${E2}*=${E2}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),h5=/'/g,p5=/"/g,K9=/^(?:script|style|textarea|title)$/i,G9=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Lve=G9(1),Fve=G9(2),Eh=Symbol.for("lit-noChange"),gn=Symbol.for("lit-nothing"),g5=new WeakMap,ql=ju.createTreeWalker(ju,129);function J9(t,e){if(!B_(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return u5!==void 0?u5.createHTML(e):e}const pfe=(t,e)=>{const r=t.length-1,n=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=yp;for(let a=0;a<r;a++){const c=t[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===yp?u[1]==="!--"?o=f5:u[1]!==void 0?o=d5:u[2]!==void 0?(K9.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=Sl):u[3]!==void 0&&(o=Sl):o===Sl?u[0]===">"?(o=s??yp,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Sl:u[3]==='"'?p5:h5):o===p5||o===h5?o=Sl:o===f5||o===d5?o=yp:(o=Sl,s=void 0);const h=o===Sl&&t[a+1].startsWith("/>")?" ":"";i+=o===yp?c+dfe:f>=0?(n.push(l),c.slice(0,f)+V9+c.slice(f)+wc+h):c+wc+(f===-2?a:h)}return[J9(t,i+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class sg{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=pfe(e,r);if(this.el=sg.createElement(l,n),ql.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=ql.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(V9)){const d=u[o++],h=s.getAttribute(f).split(wc),p=/([.?@])?(.*)/.exec(d);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?mfe:p[1]==="?"?yfe:p[1]==="@"?bfe:Dw}),s.removeAttribute(f)}else f.startsWith(wc)&&(c.push({type:6,index:i}),s.removeAttribute(f));if(K9.test(s.tagName)){const f=s.textContent.split(wc),d=f.length-1;if(d>0){s.textContent=vb?vb.emptyScript:"";for(let h=0;h<d;h++)s.append(f[h],rg()),ql.nextNode(),c.push({type:2,index:++i});s.append(f[d],rg())}}}else if(s.nodeType===8)if(s.data===W9)c.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(wc,f+1))!==-1;)c.push({type:7,index:i}),f+=wc.length-1}i++}}static createElement(e,r){const n=ju.createElement("template");return n.innerHTML=e,n}}function Ah(t,e,r=t,n){var o,a;if(e===Eh)return e;let s=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const i=ng(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=s:r._$Cl=s),s!==void 0&&(e=Ah(t,s._$AS(t,e.values),s,n)),e}class gfe{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,s=((e==null?void 0:e.creationScope)??ju).importNode(r,!0);ql.currentNode=s;let i=ql.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Xg(i,i.nextSibling,this,e):c.type===1?l=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(l=new wfe(i,this,e)),this._$AV.push(l),c=n[++a]}o!==(c==null?void 0:c.index)&&(i=ql.nextNode(),o++)}return ql.currentNode=ju,s}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Xg{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,s){this.type=2,this._$AH=gn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Ah(this,e,r),ng(e)?e===gn||e==null||e===""?(this._$AH!==gn&&this._$AR(),this._$AH=gn):e!==this._$AH&&e!==Eh&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):hfe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==gn&&ng(this._$AH)?this._$AA.nextSibling.data=e:this.T(ju.createTextNode(e)),this._$AH=e}$(e){var i;const{values:r,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=sg.createElement(J9(n.h,n.h[0]),this.options)),n);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(r);else{const o=new gfe(s,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=g5.get(e.strings);return r===void 0&&g5.set(e.strings,r=new sg(e)),r}k(e){B_(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const i of e)s===r.length?r.push(n=new Xg(this.O(rg()),this.O(rg()),this,this.options)):n=r[s],n._$AI(i),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class Dw{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,i){this.type=1,this._$AH=gn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=gn}_$AI(e,r=this,n,s){const i=this.strings;let o=!1;if(i===void 0)e=Ah(this,e,r,0),o=!ng(e)||e!==this._$AH&&e!==Eh,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=Ah(this,a[n+c],r,c),l===Eh&&(l=this._$AH[c]),o||(o=!ng(l)||l!==this._$AH[c]),l===gn?e=gn:e!==gn&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===gn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class mfe extends Dw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===gn?void 0:e}}class yfe extends Dw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==gn)}}class bfe extends Dw{constructor(e,r,n,s,i){super(e,r,n,s,i),this.type=5}_$AI(e,r=this){if((e=Ah(this,e,r,0)??gn)===Eh)return;const n=this._$AH,s=e===gn&&n!==gn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==gn&&(n===gn||s);s&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class wfe{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Ah(this,e)}}const A2=r0.litHtmlPolyfillSupport;A2==null||A2(sg,Xg),(r0.litHtmlVersions??(r0.litHtmlVersions=[])).push("3.2.1");const vfe=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let s=n._$litPart$;if(s===void 0){const i=(r==null?void 0:r.renderBefore)??null;n._$litPart$=s=new Xg(e.insertBefore(rg(),i),i,void 0,r??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Ay extends Hf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=vfe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Eh}}var bT;Ay._$litElement$=!0,Ay.finalized=!0,(bT=globalThis.litElementHydrateSupport)==null||bT.call(globalThis,{LitElement:Ay});const _2=globalThis.litElementPolyfillSupport;_2==null||_2({LitElement:Ay});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");let n0,Jc,Yc;function jve(t,e){n0=document.createElement("style"),Jc=document.createElement("style"),Yc=document.createElement("style"),n0.textContent=ld(t).core.cssText,Jc.textContent=ld(t).dark.cssText,Yc.textContent=ld(t).light.cssText,document.head.appendChild(n0),document.head.appendChild(Jc),document.head.appendChild(Yc),Y9(e)}function Y9(t){Jc&&Yc&&(t==="light"?(Jc.removeAttribute("media"),Yc.media="enabled"):(Yc.removeAttribute("media"),Jc.media="enabled"))}function Efe(t){n0&&Jc&&Yc&&(n0.textContent=ld(t).core.cssText,Jc.textContent=ld(t).dark.cssText,Yc.textContent=ld(t).light.cssText)}function ld(t){return{core:cd`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${ii(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${ii((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${ii((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${ii((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${ii((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:cd`
      :root {
        --w3m-color-mix: ${ii((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${ii(Oa(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${ii(Oa(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:cd`
      :root {
        --w3m-color-mix: ${ii((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${ii(Oa(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${ii(Oa(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Hve=cd`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,zve=cd`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,qve=cd`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;function Afe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const p=(h-d)*i+1>>>0,g=new Uint8Array(p);for(;d!==h;){let C=l[d],I=0;for(let T=p-1;(C!==0||I<f)&&T!==-1;T--,I++)C+=256*g[T]>>>0,g[T]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");f=I,d++}let y=p-f;for(;y!==p&&g[y]===0;)y++;let E=n.repeat(u);for(;y<p;++y)E+=t.charAt(g[y]);return E}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===n;)f++,u++;const h=(l.length-u)*s+1>>>0,p=new Uint8Array(h);for(;u<l.length;){const C=l.charCodeAt(u);if(C>255)return;let I=e[C];if(I===255)return;let T=0;for(let N=h-1;(I!==0||T<d)&&N!==-1;N--,T++)I+=r*p[N]>>>0,p[N]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");d=T,u++}let g=h-d;for(;g!==h&&p[g]===0;)g++;const y=new Uint8Array(f+(h-g));let E=f;for(;g!==h;)y[E++]=p[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var _fe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Cfe=Afe(_fe),Vc={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},lA=xce({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}});function em(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const m5=em({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),y5=em({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});em({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});em({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});em({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const U_={getMethodsByChainNamespace(t){switch(t){case"solana":return["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"];case"eip155":return["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];case"bip122":return["sendTransfer","signMessage","signPsbt","getAccountAddresses"];default:return[]}},createNamespaces(t){return t.reduce((e,r)=>{const{id:n,chainNamespace:s,rpcUrls:i}=r,o=i.default.http[0],a=this.getMethodsByChainNamespace(s);e[s]||(e[s]={methods:a,events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}});const c=`${s}:${n}`,l=e[s];switch(l.chains.push(c),c){case m5.caipNetworkId:l.chains.push(m5.deprecatedCaipNetworkId);break;case y5.caipNetworkId:l.chains.push(y5.deprecatedCaipNetworkId);break}return l!=null&&l.rpcMap&&o&&(l.rpcMap[n]=o),e},{})},resolveReownName:async t=>{var n;const e=await k9.resolveName(t);return((n=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class $_{constructor({provider:e,caipNetworks:r,namespace:n}){this.id=ke.CONNECTOR_ID.WALLET_CONNECT,this.name=Ro.ConnectorNamesMap[ke.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ro.ConnectorImageIds[ke.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=r,this.provider=e,this.chain=n}get chains(){return this.caipNetworks}async connectWalletConnect(){return await this.authenticate()||await this.provider.connect({optionalNamespaces:U_.createNamespaces(this.caipNetworks)}),{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return Zp.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Sfe})}}const Sfe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Q9{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:ke.CONNECTOR_ID.AUTH,type:"AUTH",name:ke.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ro.ConnectorImageIds[ke.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){qe.setStatus(e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(s=>s(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){s.setDefaultChain(r.caipNetworkId);return}if(s&&n==="AUTH"){const i=s;await i.switchNetwork(r.caipNetworkId);const o=await i.getUser({chainId:r.caipNetworkId,preferredAccountType:Re.state.defaultAccountTypes[r.chainNamespace]});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof $_);if(!e)throw new Error("WalletConnectConnector not found");return e}}class xfe extends Q9{setUniversalProvider(e){this.addConnector(new $_({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var s,i,o,a;const r=this.provider,n=((a=(o=(i=(s=r==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:n.map(c=>rt.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var i,o,a,c,l;if(!(e.caipNetwork&&an.BALANCE_SUPPORTED_CHAINS.includes((i=e.caipNetwork)==null?void 0:i.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(qe.state.balanceLoading&&e.chainId===((c=X.state.activeCaipNetwork)==null?void 0:c.id))return{balance:qe.state.balance||"0.00",symbol:qe.state.balanceSymbol||""};const s=(await qe.fetchTokenBalance()).find(u=>{var f,d;return u.chainId===`${(f=e.caipNetwork)==null?void 0:f.chainNamespace}:${e.chainId}`&&u.symbol===((d=e.caipNetwork)==null?void 0:d.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:r,message:n,address:s}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=X.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===ke.CHAIN.SOLANA?i=(await r.request({method:"solana_signMessage",params:{message:Cfe.encode(new TextEncoder().encode(n)),pubkey:s}},(a=X.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await r.request({method:"personal_sign",params:[n,s]},(c=X.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,l;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===ke.CHAIN.EVM)try{await((s=n.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:Vx(r.id)}]}))}catch(u){if(u.code===Vc.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===Vc.ERROR_INVALID_CHAIN_ID||u.code===Vc.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===Vc.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=n.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Vx(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class Ife{constructor(e){var r;this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=n=>{var s,i;if(n){const o=(s=X.getNetworkData(n))==null?void 0:s.caipNetwork;return o||((i=X.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n))==null?void 0:i[0])}return X.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>X.getRequestedCaipNetworks(n),this.getActiveChainNamespace=()=>X.state.activeChain,this.setRequestedCaipNetworks=(n,s)=>{X.setRequestedCaipNetworks(n,s)},this.getApprovedCaipNetworkIds=()=>X.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>X.state.activeChain===n||!n?X.state.activeCaipAddress:X.getAccountProp("caipAddress",n),this.setClientId=n=>{Ye.setClientId(n)},this.getProvider=n=>$t.getProvider(n),this.getProviderType=n=>$t.getProviderId(n),this.getPreferredAccountType=()=>qe.state.preferredAccountType,this.setCaipAddress=(n,s)=>{qe.setCaipAddress(n,s)},this.setBalance=(n,s,i)=>{qe.setBalance(n,s,i)},this.setProfileName=(n,s)=>{qe.setProfileName(n,s)},this.setProfileImage=(n,s)=>{qe.setProfileImage(n,s)},this.setUser=(n,s)=>{qe.setUser(n,s),Re.state.enableEmbedded&&en.close()},this.resetAccount=n=>{qe.resetAccount(n)},this.setCaipNetwork=n=>{X.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,s)=>{X.setChainNetworkData(s,{caipNetwork:n})},this.setAllAccounts=(n,s)=>{qe.setAllAccounts(n,s),Re.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,s)=>{qe.setStatus(n,s),ft.isConnected()?We.setConnectionStatus("connected"):We.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>X.getAccountProp("address",n),this.setConnectors=n=>{const s=[...ft.getConnectors(),...n];ft.setConnectors(s)},this.fetchIdentity=n=>Ye.fetchIdentity(n),this.getReownName=n=>k9.getNamesForAddress(n),this.getConnectors=()=>ft.getConnectors(),this.getConnectorImage=n=>rO.getConnectorImage(n),this.setConnectedWalletInfo=(n,s)=>{const i=$t.getProviderId(s),o=n?{...n,type:i}:void 0;qe.setConnectedWalletInfo(o,s)},this.getIsConnectedState=()=>!!X.state.activeCaipAddress,this.addAddressLabel=(n,s,i)=>{qe.addAddressLabel(n,s,i)},this.removeAddressLabel=(n,s)=>{qe.removeAddressLabel(n,s)},this.getAddress=n=>X.state.activeChain===n||!n?qe.state.address:X.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>X.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{X.resetNetwork(n)},this.addConnector=n=>{ft.addConnector(n)},this.resetWcConnection=()=>{_t.resetWcConnection()},this.setAddressExplorerUrl=(n,s)=>{qe.setAddressExplorerUrl(n,s)},this.setSmartAccountDeployed=(n,s)=>{qe.setSmartAccountDeployed(n,s)},this.setSmartAccountEnabledNetworks=(n,s)=>{X.setSmartAccountEnabledNetworks(n,s)},this.setPreferredAccountType=(n,s)=>{qe.setPreferredAccountType(n,s)},this.setEIP6963Enabled=n=>{Re.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set((r=this.caipNetworks)==null?void 0:r.map(n=>n.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),Ba.set({initialized:!0})}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,Zt.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(s=>s.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Ln.setThemeMode(e.themeMode),e.themeVariables&&Ln.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");X.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&X.setActiveCaipNetwork(r)}initializeConnectionController(e){_t.setWcBasic(e.basic??!1)}initializeConnectorController(){ft.initialize(this.chainNamespaces)}initializeOptionsController(e){var s;Re.setDebug(e.debug!==!1),Re.setEnableWalletConnect(e.enableWalletConnect!==!1),Re.setEnableWalletGuide(e.enableWalletGuide!==!1),Re.setEnableWallets(e.enableWallets!==!1),Re.setEIP6963Enabled(e.enableEIP6963!==!1),Re.setEnableAuthLogger(e.enableAuthLogger!==!1),Re.setSdkVersion(e.sdkVersion),Re.setProjectId(e.projectId),Re.setEnableEmbedded(e.enableEmbedded),Re.setAllWallets(e.allWallets),Re.setIncludeWalletIds(e.includeWalletIds),Re.setExcludeWalletIds(e.excludeWalletIds),Re.setFeaturedWalletIds(e.featuredWalletIds),Re.setTokens(e.tokens),Re.setTermsConditionsUrl(e.termsConditionsUrl),Re.setPrivacyPolicyUrl(e.privacyPolicyUrl),Re.setCustomWallets(e.customWallets),Re.setFeatures(e.features),Re.setAllowUnsupportedChain(e.allowUnsupportedChain),Re.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),Re.setMetadata(e.metadata),Re.setDisableAppend(e.disableAppend),Re.setEnableEmbedded(e.enableEmbedded),Re.setSIWX(e.siwx),!e.projectId){od.open(Op.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=e.adapters)==null?void 0:s.find(i=>i.namespace===ke.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Re.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,s;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:ke.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=this.getUnsupportedNetwork(`${r}:${e}`);X.setActiveCaipNetwork(n)}}getDefaultNetwork(){var r,n;const e=We.getActiveCaipNetworkId();if(e){const s=(r=this.caipNetworks)==null?void 0:r.find(i=>i.caipNetworkId===e);return s||(this.defaultCaipNetwork?this.defaultCaipNetwork:this.getUnsupportedNetwork(e))}return this.defaultCaipNetwork?this.defaultCaipNetwork:(n=this.caipNetworks)==null?void 0:n[0]}extendCaipNetwork(e,r){return wy.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return wy.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return r?wy.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var i;const e=X.state.activeChain,r=this.getAdapter(e),n=(i=this.getCaipNetwork(e))==null?void 0:i.id;if(!r)throw new Error("Adapter not found");const s=await r.connectWalletConnect(n);this.close(),this.setClientId((s==null?void 0:s.clientId)||null),We.setConnectedNamespaces([...X.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ft.setConnectorId(ur.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:n,provider:s,chain:i,caipNetwork:o})=>{var h,p,g,y,E,C,I;const a=X.state.activeChain,c=i||a,l=this.getAdapter(c);if(i&&i!==a&&!o){const T=(h=this.caipNetworks)==null?void 0:h.find(N=>N.chainNamespace===i);T&&this.setCaipNetwork(T)}if(!l)throw new Error("Adapter not found");const u=this.getCaipNetwork(c),f=await l.connect({id:e,info:r,type:n,provider:s,chainId:(o==null?void 0:o.id)||(u==null?void 0:u.id),rpcUrl:((y=(g=(p=o==null?void 0:o.rpcUrls)==null?void 0:p.default)==null?void 0:g.http)==null?void 0:y[0])||((I=(C=(E=u==null?void 0:u.rpcUrls)==null?void 0:E.default)==null?void 0:C.http)==null?void 0:I[0])});if(!f)return;We.addConnectedNamespace(c),this.syncProvider({...f,chainNamespace:c}),await this.syncAccount({...f,chainNamespace:c});const{accounts:d}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(d,c)},reconnectExternal:async({id:e,info:r,type:n,provider:s})=>{var a;const i=X.state.activeChain,o=this.getAdapter(i);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),We.addConnectedNamespace(i))},disconnect:async()=>{const e=X.state.activeChain,r=this.getAdapter(e),n=$t.getProvider(e),s=$t.getProviderId(e);await(r==null?void 0:r.disconnect({provider:n,providerType:s})),We.removeConnectedNamespace(e),$t.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e)},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(X.state.activeChain),n=await(r==null?void 0:r.signMessage({message:e,address:qe.state.address,provider:$t.getProvider(X.state.activeChain)}));return(n==null?void 0:n.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===ke.CHAIN.EVM){const r=this.getAdapter(X.state.activeChain),n=$t.getProvider(X.state.activeChain),s=await(r==null?void 0:r.sendTransaction({...e,provider:n}));return(s==null?void 0:s.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===ke.CHAIN.EVM){const r=this.getAdapter(X.state.activeChain),n=$t.getProvider(X.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");const i=await(r==null?void 0:r.estimateGas({...e,provider:n,caipNetwork:s}));return(i==null?void 0:i.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const e=this.getAdapter(X.state.activeChain),r=await(e==null?void 0:e.getProfile({address:qe.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id)}));return(r==null?void 0:r.profileImage)||!1},getEnsAddress:async e=>{const r=this.getAdapter(X.state.activeChain),n=this.getCaipNetwork();if(!n)return!1;const s=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:n}));return(s==null?void 0:s.address)||!1},writeContract:async e=>{const r=this.getAdapter(X.state.activeChain),n=this.getCaipNetwork(),s=this.getCaipAddress(),i=$t.getProvider(X.state.activeChain);if(!n||!s)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(r==null?void 0:r.writeContract({...e,caipNetwork:n,provider:i,caipAddress:s}));return o==null?void 0:o.hash},parseUnits:(e,r)=>{const n=this.getAdapter(X.state.activeChain);return(n==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const n=this.getAdapter(X.state.activeChain);return(n==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(X.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(X.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(X.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(X.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},_t.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,n,s,i,o;if($t.getProviderId(X.state.activeChain)===ur.CONNECTOR_TYPE_WALLET_CONNECT){const a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=$t.getProvider(r),i=$t.getProviderId(r);if(e.chainNamespace===X.state.activeChain){const o=this.getAdapter(r);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:s,providerType:i}))}else if(this.setCaipNetwork(e),i===ur.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],s=r.accounts.map(i=>{const{chainId:o,chainNamespace:a}=sa.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...n,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var i;const s=e==null?void 0:e.find(o=>o.namespace===n);return s?(r[n]=s,r[n].namespace=n,r[n].construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.caipNetworks})):r[n]=new xfe({namespace:n,networks:this.caipNetworks}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=We.getConnectionStatus();n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(We.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:s,chainId:i})=>{var l;const o=(l=this.caipNetworks)==null?void 0:l.find(u=>u.id===i||u.caipNetworkId===i),a=X.state.activeChain===e,c=X.getAccountProp("address",e);if(o){const u=a&&s?s:c;u&&this.syncAccount({address:u,chainId:i,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),r.on("disconnect",this.disconnect.bind(this)),r.on("pendingTransactions",()=>{const s=qe.state.address,i=X.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),r.on("accountChanged",({address:s,chainId:i})=>{var a,c;const o=X.state.activeChain===e;o&&i?this.syncAccount({address:s,chainId:i,chainNamespace:e}):o&&((a=X.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:s,chainId:(c=X.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(s,i,e)})}async createUniversalProviderForAdapter(e){var r,n,s;await this.getUniversalProvider(),this.universalProvider&&((s=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null||s.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=ft.getConnectorId(e);switch(this.setStatus("connecting",e),r){case ke.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ke.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const r=this.getAdapter(e),n=ft.getConnectorId(e),s=this.getCaipNetwork(),i=ft.getConnectors(e).find(l=>l.id===n);try{if(!r||!i)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const l=await(r==null?void 0:r.syncConnection({namespace:e,id:i.id,chainId:s.id,rpcUrl:(c=(a=(o=s==null?void 0:s.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(l){const u=await(r==null?void 0:r.getAccounts({namespace:e,id:i.id}));u&&u.accounts.length>0?this.setAllAccounts(u.accounts,e):this.setAllAccounts([rt.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var a,c,l,u,f;const n=this.getAdapter(r),s=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[r])==null?void 0:u.accounts)||[],i=(f=X.state.activeCaipNetwork)==null?void 0:f.id,o=s.find(d=>{const{chainId:h}=sa.parseCaipAddress(d);return h===(i==null?void 0:i.toString())})||s[0];if(o){const d=sa.validateCaipAddress(o),{chainId:h,address:p}=sa.parseCaipAddress(d);if($t.setProviderId(r,ur.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&X.state.activeCaipNetwork&&(n==null?void 0:n.namespace)!==ke.CHAIN.EVM){const g=n==null?void 0:n.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:X.state.activeCaipNetwork});$t.setProvider(r,g)}else $t.setProvider(r,this.universalProvider);ft.setConnectorId(ke.CONNECTOR_ID.WALLET_CONNECT,r),We.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:p,chainId:h,chainNamespace:r})}else this.setStatus("disconnected",r);await X.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var n,s,i,o,a;const r=(a=(o=(i=(s=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=sa.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);r&&this.setAllAccounts(r.map(c=>rt.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:n,chainNamespace:s}){$t.setProviderId(s,e),$t.setProvider(s,r),ft.setConnectorId(n,s)}async syncAccount(e){var f,d,h,p,g,y;const r=e.chainNamespace===X.state.activeChain,n=X.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=We.getActiveNetworkProps(),c=i||a,l=((f=X.state.activeCaipNetwork)==null?void 0:f.name)===ke.UNSUPPORTED_NETWORK_NAME,u=X.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let E=(d=this.caipNetworks)==null?void 0:d.find(T=>T.id.toString()===c.toString()),C=(h=this.caipNetworks)==null?void 0:h.find(T=>T.chainNamespace===o);if(!u&&!E&&!C){const T=this.getApprovedCaipNetworkIds()||[],N=T.find(B=>{var L;return((L=sa.parseCaipNetworkId(B))==null?void 0:L.chainId)===c.toString()}),k=T.find(B=>{var L;return((L=sa.parseCaipNetworkId(B))==null?void 0:L.chainNamespace)===o});E=(p=this.caipNetworks)==null?void 0:p.find(B=>B.caipNetworkId===N),C=(g=this.caipNetworks)==null?void 0:g.find(B=>B.caipNetworkId===k||"deprecatedCaipNetworkId"in B&&B.deprecatedCaipNetworkId===k)}const I=E||C;(I==null?void 0:I.chainNamespace)===X.state.activeChain?!Re.state.allowUnsupportedChain&&((y=X.state.activeCaipNetwork)==null?void 0:y.name)===ke.UNSUPPORTED_NETWORK_NAME?X.showUnsupportedChainUI():this.setCaipNetwork(I):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),D9.isLowerCaseMatch(s,qe.state.address)||this.syncAccountInfo(s,I==null?void 0:I.id,o),r?await this.syncBalance({address:s,chainId:I==null?void 0:I.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:n==null?void 0:n.id,chainNamespace:o})}}async syncAccountInfo(e,r,n){const s=this.getCaipAddress(n),i=r||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${n}:${i}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:i,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const s=n[0];this.setProfileName(s.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var s;const r=ft.getConnectorId(e),n=$t.getProviderId(e);if(n===ur.CONNECTOR_TYPE_ANNOUNCED||n===ur.CONNECTOR_TYPE_INJECTED){if(r){const i=this.getConnectors().find(o=>o.id===r);if(i){const{info:o,name:a,imageUrl:c}=i,l=c||this.getConnectorImage(i);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===ur.CONNECTOR_TYPE_WALLET_CONNECT){const i=$t.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(r)if(r===ke.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(o=>o.id===ke.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!XP.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find(n=>{var s;return n.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,n){const s=this.getAdapter(n);if(s){const i=await s.getBalance({address:e,chainId:r,caipNetwork:this.getCaipNetwork(n),tokens:this.options.tokens});this.setBalance(i.balance,i.symbol,n)}}async initializeUniversalAdapter(){var n,s,i,o,a,c,l,u,f,d;const e=Dce.createLogger((h,...p)=>{h&&this.handleAlertError(h),console.error(...p)}),r={projectId:(n=this.options)==null?void 0:n.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(f=this.options)==null?void 0:f.metadata.icons:[""]},logger:e};Re.setManualWCControl(!!((d=this.options)!=null&&d.manualWCControl)),this.universalProvider=this.options.universalProvider??await Hae.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{_t.setUri(e)}),this.universalProvider.on("connect",_t.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),_t.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{var s;const r=(s=this.caipNetworks)==null?void 0:s.find(i=>i.id==e),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(n==null?void 0:n.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(U_.isSessionEventData(e)){const{name:r,data:n}=e.params.event;r==="accountsChanged"&&Array.isArray(n)&&rt.isCaipAddress(n[0])&&this.syncAccount(sa.parseCaipAddress(n[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&rt.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch{throw new Error("AppKit:getUniversalProvider - Cannot create provider")}return this.universalProvider}handleAlertError(e){const r=Object.entries(Op.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,s]=r??[],{message:i,alertErrorKey:o}=s??{};if(n&&i&&!this.reportedAlertErrors[n]){const a=Op.ALERT_ERRORS[o];a&&(od.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var s;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&_t.setUri(e.uri),await en.open(e)}async close(){await this.injectModalUi(),en.close()}setLoading(e,r){en.setLoading(e,r)}async disconnect(){await _t.disconnect()}getError(){return""}getChainId(){var e;return(e=X.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){var n;const r=(n=this.caipNetworks)==null?void 0:n.find(s=>s.id===e.id);if(!r){od.open(Op.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await X.switchActiveNetwork(r)}getWalletProvider(){return X.state.activeChain?$t.state.providers[X.state.activeChain]:null}getWalletProviderType(){return $t.getProviderId(X.state.activeChain)}subscribeProviders(e){return $t.subscribeProviders(e)}getThemeMode(){return Ln.state.themeMode}getThemeVariables(){return Ln.state.themeVariables}setThemeMode(e){Ln.setThemeMode(e),Y9(Ln.state.themeMode)}setTermsConditionsUrl(e){Re.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Re.setPrivacyPolicyUrl(e)}setThemeVariables(e){Ln.setThemeVariables(e),Efe(Ln.state.themeVariables)}subscribeTheme(e){return Ln.subscribe(e)}getWalletInfo(){return qe.state.connectedWalletInfo}getAccount(e){const r=ft.getAuthConnector(e),n=X.getAccountData(e);if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:rt.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r?{user:n.user,authProvider:n.socialProvider||"email",accountType:n.preferredAccountType,isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const s=this.getAccount(r);s&&e(s)};r?X.subscribeChainProp("accountState",n,r):X.subscribe(n),ft.subscribe(n)}subscribeNetwork(e){return X.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return qe.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){qe.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){X.subscribeKey("activeCaipNetwork",e)}getState(){return Ba.state}subscribeState(e){return Ba.subscribe(e)}showErrorMessage(e){Qt.showError(e)}showSuccessMessage(e){Qt.showSuccess(e)}getEvent(){return{...Zt.state}}subscribeEvents(e){return Zt.subscribe(e)}replace(e){Ct.replace(e)}redirect(e){Ct.push(e)}popTransactionStack(e){Ct.popTransactionStack(e)}isOpen(){return en.state.open}isTransactionStackEmpty(){return Ct.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=Ct.state.transactionStack[Ct.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){Re.setFeatures(e)}updateOptions(e){const n={...Re.state||{},...e};Re.setOptions(n)}setConnectMethodsOrder(e){Re.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Re.setWalletFeaturesOrder(e)}setCollapseWallets(e){Re.setCollapseWallets(e)}setSocialsOrder(e){Re.setSocialsOrder(e)}getConnectMethodsOrder(){return aA.getConnectOrderMethod(Re.state.features,ft.getConnectors())}removeAdapter(e){var i;const r=this.getIsConnectedState(),n=this.getAdapter(e);if(!n||!this.chainAdapters||r)return;const s=(i=this.caipNetworks)==null?void 0:i.filter(o=>o.chainNamespace!==e);X.removeAdapter(e),ft.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter(o=>o!==e),this.caipNetworks=s,n.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,r){const n=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient||!this.chainAdapters||!n)return;const s=this.extendCaipNetworks({...this.options,networks:r});this.caipNetworks=[...this.caipNetworks||[],...s],this.createAdapter(e),this.initChainAdapter(n),X.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},s)}addNetwork(e,r){var s;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);X.addNetwork(n),this.caipNetworks&&!((s=this.caipNetworks)!=null&&s.find(i=>i.id===n.id))&&this.caipNetworks.push(n)}removeNetwork(e,r){var i;if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);if(!((i=this.caipNetworks)==null?void 0:i.find(o=>o.id===r)))throw new Error(`Network with ID ${r} not found`);if(!this.caipNetworks)return;const s=this.caipNetworks.filter(o=>o.chainNamespace===e&&o.id!==r);if(!(s!=null&&s.length))throw new Error("Cannot remove last network for a namespace");X.removeNetwork(e,r),this.caipNetworks=[...s]}}let b5=!1;class Tfe extends Ife{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{Ws.checkIfRequestExists(r)?Ws.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(vr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(vr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((r,n)=>{const s=Ws.checkIfRequestIsSafe(n),i=qe.state.address,o=X.state.activeCaipNetwork;s||(this.isTransactionStackEmpty()?(this.close(),i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace)):(this.popTransactionStack(),i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const r=X.state.activeChain;ft.getConnectorId(r)===ke.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(async r=>{var a;const n=X.state.activeChain,s=n===ke.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`;this.setSmartAccountDeployed(!!r.smartAccountDeployed,n),D9.isLowerCaseMatch(r.address,qe.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:n}),this.setCaipAddress(s,n),this.setUser({...qe.state.user||{},email:r.email},n);const i=r.preferredAccountType||Re.state.defaultAccountTypes[n];this.setPreferredAccountType(i,n);const o=(a=r.accounts)==null?void 0:a.map(c=>rt.createAccount(n,c.address,c.type||Re.state.defaultAccountTypes[n]));this.setAllAccounts(o||[rt.createAccount(n,r.address,i)],n),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,n)}),e.onSocialConnected(({userName:r})=>{this.setUser({...qe.state.user||{},username:r},X.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,X.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:n})=>{r&&this.setPreferredAccountType(n,X.state.activeChain)})}async syncAuthConnector(e,r){var u,f,d,h;const n=ke.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!n)return;this.setLoading(!0,r);const s=e.getLoginEmailUsed();this.setLoading(s,r),s&&this.setStatus("connecting",r);const i=e.getEmail(),o=e.getUsername();this.setUser({...((u=qe.state)==null?void 0:u.user)||{},username:o,email:i},X.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=Ln.getSnapshot(),l=Re.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:Oa(c.themeVariables,c.themeMode)}),r&&n&&(a&&((f=this.connectionControllerClient)!=null&&f.connectExternal)?(await((h=this.connectionControllerClient)==null?void 0:h.connectExternal({id:ke.CONNECTOR_ID.AUTH,info:{name:ke.CONNECTOR_ID.AUTH},type:ur.CONNECTOR_TYPE_AUTH,provider:e,chainId:(d=X.state.activeCaipNetwork)==null?void 0:d.id,chain:r})),this.setStatus("connected",r)):ft.getConnectorId(r)===ke.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),We.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!rt.isTelegram())return;const n=We.getTelegramSocialProvider();if(!n||typeof window>"u"||typeof document>"u")return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;qe.setSocialProvider(n,e),await((r=this.authProvider)==null?void 0:r.init());const o=ft.getAuthConnector();n&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(i),await _t.connectExternal(o,o.chain),We.setConnectedSocialProvider(n),We.removeTelegramSocialProvider(),Zt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var o,a,c,l,u,f,d,h,p,g,y;if(!ke.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?an.DEFAULT_FEATURES.email:(l=(c=this.options)==null?void 0:c.features)==null?void 0:l.email,s=(f=(u=this.options)==null?void 0:u.features)!=null&&f.socials?((p=(h=(d=this.options)==null?void 0:d.features)==null?void 0:h.socials)==null?void 0:p.length)>0:an.DEFAULT_FEATURES.socials,i=n||s;!this.authProvider&&((g=this.options)!=null&&g.projectId)&&i&&(this.authProvider=e0.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(y=this.getCaipNetwork(e))==null?void 0:y.caipNetworkId,onTimeout:()=>{od.open(Op.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState(E=>{var C;E.open||(C=this.authProvider)==null||C.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,n,s;this.createAuthProvider(e),this.authProvider&&((s=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setAuthProvider)==null||s.call(n,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Tt.initializeExcludedWalletRdns({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var i,o;if(!e)return;const r=X.state.activeChain,n=e.chainNamespace,s=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===X.state.activeChain&&s){const a=this.getAdapter(n),c=$t.getProvider(n),l=$t.getProviderId(n);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:l})),this.setCaipNetwork(e)}else{const c=$t.getProviderId(r)===ur.CONNECTOR_TYPE_AUTH,l=$t.getProviderId(n),u=l===ur.CONNECTOR_TYPE_AUTH,f=ke.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if((c||u)&&f)try{X.state.activeChain=e.chainNamespace,await((o=(i=this.connectionControllerClient)==null?void 0:i.connectExternal)==null?void 0:o.call(i,{id:ke.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:ur.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const h=this.getAdapter(n);await(h==null?void 0:h.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===ur.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:n}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:n}){var o;const s=`${n}:${r}`,i=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===s);if(n!==ke.CHAIN.EVM||i!=null&&i.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:s});if(this.setProfileName(a,n),this.setProfileImage(c,n),!a){const l=this.getAdapter(n),u=await(l==null?void 0:l.getProfile({address:e,chainId:Number(r)}));u!=null&&u.profileName?(this.setProfileName(u.profileName,n),u.profileImage&&this.setProfileImage(u.profileImage,n)):(await this.syncReownName(e,n),this.setProfileImage(null,n))}}catch{await this.syncReownName(e,n),r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=$t.getProviderId(e);if(r===ur.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const s=We.getConnectedSocialProvider()??"email",i=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!b5&&rt.isClient()){const e={...an.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(es(()=>import("./embedded-wallet-BCYwXMdF.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11]),import.meta.url)),e.email&&r.push(es(()=>import("./email-DE_fBnkK.js"),__vite__mapDeps([12,3,11,7,10,6,13,8]),import.meta.url)),e.socials&&r.push(es(()=>import("./socials-BWpGSGeZ.js"),__vite__mapDeps([14,3,15,6,7,16,10,11,17,5,18]),import.meta.url)),e.swaps&&r.push(es(()=>import("./swaps-frO9tuPm.js"),__vite__mapDeps([19,3,6,7,20,21,18,22,5,10,8]),import.meta.url)),e.send&&r.push(es(()=>import("./send-XSd5cZWT.js"),__vite__mapDeps([23,3,6,7,10,11,22,5,8,24]),import.meta.url)),e.receive&&r.push(es(()=>import("./receive-aiqEI3H0.js"),__vite__mapDeps([25,3,26,5,17]),import.meta.url)),e.onramp&&r.push(es(()=>import("./onramp-BLiWwxnF.js"),__vite__mapDeps([27,3,28,18,10,5,7,29,15,6,11,8]),import.meta.url)),e.history&&r.push(es(()=>import("./transactions-DpHQpax3.js"),__vite__mapDeps([30,3,31,28,18,10,11,5]),import.meta.url))),await Promise.all([...r,es(()=>import("./index-Bcg5qp_H.js"),__vite__mapDeps([32,3,5,7,24,10,33,21,9,29,6,31,28,18,11,20,8,13,15,16,4,26,17]),import.meta.url),es(()=>import("./w3m-modal-F3odkX5C.js"),__vite__mapDeps([34,3,9,5,10,7,21,33]),import.meta.url)]),!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!Re.state.disableAppend&&!Re.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}b5=!0}}}function Nfe(){async function t(){await _t.disconnect()}return{disconnect:t}}let Vs;function Pfe(t){t&&(Vs=t)}function Ofe(){if(!Vs)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){await(Vs==null?void 0:Vs.open(r))}async function e(){await(Vs==null?void 0:Vs.close())}return ll({open:t,close:e})}function Rfe(){if(!Vs)throw new Error('Please call "createAppKit" before using "useAppKitState" composable');const t=Vs.getState(),e=Be(t.open),r=Be(t.selectedNetworkId),n=Vs==null?void 0:Vs.subscribeState(s=>{e.value=s.open,r.value=s.selectedNetworkId});return tw(()=>{n==null||n()}),ll({open:e,selectedNetworkId:r})}const kfe="1.7.0";let Vm;function Dfe(t){return Vm||(Vm=new Tfe({...t,sdkVersion:rt.generateSdkVersion(t.adapters??[],"html",kfe)}),Pfe(Vm)),Vm}const Mfe="6.13.5";function Bfe(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function rs(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function Xe(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&Bfe(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function Jf(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Jf).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Jf(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Jf(r)}: ${Jf(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Tn(t,e){return t&&t.code===e}function L_(t){return Tn(t,"CALL_EXCEPTION")}function wr(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Jf(r)}`);for(const o in r){if(o==="shortMessage")continue;const a=r[o];i.push(o+"="+Jf(a))}}i.push(`code=${e}`),i.push(`version=${Mfe}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Xe(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&Xe(s,{shortMessage:n}),s}function be(t,e,r,n){if(!t)throw wr(e,r,n)}function te(t,e,r,n){be(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function Z9(t,e,r){r==null&&(r=""),r&&(r=": "+r),be(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),be(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function tm(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),be(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function X9(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}te(!1,"invalid BytesLike value",e||"value",t)}function Rt(t,e){return X9(t,e,!1)}function ss(t,e){return X9(t,e,!0)}function dr(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function F_(t){return dr(t,!0)||t instanceof Uint8Array}const w5="0123456789abcdef";function He(t){const e=Rt(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=w5[(s&240)>>4]+w5[s&15]}return r}function Dr(t){return"0x"+t.map(e=>He(e).substring(2)).join("")}function ud(t){return dr(t,!0)?(t.length-2)/2:Rt(t).length}function xr(t,e,r){const n=Rt(t);return r!=null&&r>n.length&&be(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),He(n.slice(e??0,r??n.length))}function ek(t,e,r){const n=Rt(t);be(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),He(s)}function Hu(t,e){return ek(t,e,!0)}function Ufe(t,e){return ek(t,e,!1)}const Mw=BigInt(0),Vi=BigInt(1),uA=9007199254740991;function Eb(t,e){const r=Bw(t,"value"),n=BigInt(mt(e,"width"));if(be(r>>n===Mw,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Vi){const s=(Vi<<n)-Vi;return-((~r&s)+Vi)}return r}function tk(t,e){let r=Ke(t,"value");const n=BigInt(mt(e,"width")),s=Vi<<n-Vi;if(r<Mw){r=-r,be(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Vi<<n)-Vi;return(~r&i)+Vi}else be(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Vl(t,e){const r=Bw(t,"value"),n=BigInt(mt(e,"bits"));return r&(Vi<<n)-Vi}function Ke(t,e){switch(typeof t){case"bigint":return t;case"number":return te(Number.isInteger(t),"underflow",e||"value",t),te(t>=-9007199254740991&&t<=uA,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){te(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}te(!1,"invalid BigNumberish value",e||"value",t)}function Bw(t,e){const r=Ke(t,e);return be(r>=Mw,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const v5="0123456789abcdef";function Uw(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=v5[r>>4],e+=v5[r&15];return BigInt(e)}return Ke(t)}function mt(t,e){switch(typeof t){case"bigint":return te(t>=-9007199254740991&&t<=uA,"overflow",e||"value",t),Number(t);case"number":return te(Number.isInteger(t),"underflow",e||"value",t),te(t>=-9007199254740991&&t<=uA,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return mt(BigInt(t),e)}catch(r){te(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}te(!1,"invalid numeric value",e||"value",t)}function $fe(t){return mt(Uw(t))}function nl(t,e){let n=Bw(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=mt(e,"width");for(be(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function is(t){const e=Bw(t,"value");if(e===Mw)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(r.substring(i,i+2),16)}return n}function Yf(t){let e=He(F_(t)?t:is(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const E5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const A5=BigInt(58);function Lfe(t){const e=Rt(t);let r=Uw(e),n="";for(;r;)n=E5[Number(r%A5)]+n,r/=A5;for(let s=0;s<e.length&&!e[s];s++)n=E5[0]+n;return n}function Ffe(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Rt(e)}function jfe(t){const e=Rt(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var md;class rk{constructor(e,r,n){ne(this,"filter");ne(this,"emitter");ae(this,md);W(this,md,r),Xe(this,{emitter:e,filter:n})}async removeListener(){M(this,md)!=null&&await this.emitter.off(this.filter,M(this,md))}}md=new WeakMap;function Hfe(t,e,r,n,s){te(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function nk(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function zfe(t,e,r,n,s){return t==="OVERLONG"?(te(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),nk(t,e,r))}const qfe=Object.freeze({error:Hfe,ignore:nk,replace:zfe});function Vfe(t,e){e==null&&(e=qfe.error);const r=Rt(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+o>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=r[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,r,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,r,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,r,n,c);continue}n.push(c)}}return n}function Uo(t,e){te(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);te(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function Wfe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Ab(t,e){return Wfe(Vfe(t,e))}function sk(t){async function e(r,n){be(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();be(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),be(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=wr("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{i=wr("request cancelled","CANCELLED"),o.abort()});const c={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal};let l;try{l=await fetch(r.url,c)}catch(h){throw clearTimeout(a),i||h}clearTimeout(a);const u={};l.headers.forEach((h,p)=>{u[p.toLowerCase()]=h});const f=await l.arrayBuffer(),d=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:d}}return e}const Kfe=12,Gfe=250;let _5=sk();const Jfe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Yfe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let C2=!1;async function ik(t,e){try{const r=t.match(Jfe);if(!r)throw new Error("invalid data");return new Qc(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?Ffe(r[3]):Zfe(r[3]))}catch{return new Qc(599,"BAD REQUEST (invalid data: URI)",{},null,new zo(t))}}function ok(t){async function e(r,n){try{const s=r.match(Yfe);if(!s)throw new Error("invalid link");return new zo(`${t}${s[2]}`)}catch{return new Qc(599,"BAD REQUEST (invalid IPFS URI)",{},null,new zo(r))}}return e}const Wm={data:ik,ipfs:ok("https://gateway.ipfs.io/ipfs/")},ak=new WeakMap;var Yl,vc;class Qfe{constructor(e){ae(this,Yl);ae(this,vc);W(this,Yl,[]),W(this,vc,!1),ak.set(e,()=>{if(!M(this,vc)){W(this,vc,!0);for(const r of M(this,Yl))setTimeout(()=>{r()},0);W(this,Yl,[])}})}addListener(e){be(!M(this,vc),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),M(this,Yl).push(e)}get cancelled(){return M(this,vc)}checkSignal(){be(!this.cancelled,"cancelled","CANCELLED",{})}}Yl=new WeakMap,vc=new WeakMap;function Km(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var yd,bd,$i,ga,wd,vd,dn,Fs,ma,Ql,Zl,Xl,vo,Li,Ec,eu,Rp;const Lb=class Lb{constructor(e){ae(this,eu);ae(this,yd);ae(this,bd);ae(this,$i);ae(this,ga);ae(this,wd);ae(this,vd);ae(this,dn);ae(this,Fs);ae(this,ma);ae(this,Ql);ae(this,Zl);ae(this,Xl);ae(this,vo);ae(this,Li);ae(this,Ec);W(this,vd,String(e)),W(this,yd,!1),W(this,bd,!0),W(this,$i,{}),W(this,ga,""),W(this,wd,3e5),W(this,Li,{slotInterval:Gfe,maxAttempts:Kfe}),W(this,Ec,null)}get url(){return M(this,vd)}set url(e){W(this,vd,String(e))}get body(){return M(this,dn)==null?null:new Uint8Array(M(this,dn))}set body(e){if(e==null)W(this,dn,void 0),W(this,Fs,void 0);else if(typeof e=="string")W(this,dn,Uo(e)),W(this,Fs,"text/plain");else if(e instanceof Uint8Array)W(this,dn,e),W(this,Fs,"application/octet-stream");else if(typeof e=="object")W(this,dn,Uo(JSON.stringify(e))),W(this,Fs,"application/json");else throw new Error("invalid body")}hasBody(){return M(this,dn)!=null}get method(){return M(this,ga)?M(this,ga):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),W(this,ga,String(e).toUpperCase())}get headers(){const e=Object.assign({},M(this,$i));return M(this,ma)&&(e.authorization=`Basic ${jfe(Uo(M(this,ma)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&M(this,Fs)&&(e["content-type"]=M(this,Fs)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){M(this,$i)[String(e).toLowerCase()]=String(r)}clearHeaders(){W(this,$i,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return M(this,ma)||null}setCredentials(e,r){te(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),W(this,ma,`${e}:${r}`)}get allowGzip(){return M(this,bd)}set allowGzip(e){W(this,bd,!!e)}get allowInsecureAuthentication(){return!!M(this,yd)}set allowInsecureAuthentication(e){W(this,yd,!!e)}get timeout(){return M(this,wd)}set timeout(e){te(e>=0,"timeout must be non-zero","timeout",e),W(this,wd,e)}get preflightFunc(){return M(this,Ql)||null}set preflightFunc(e){W(this,Ql,e)}get processFunc(){return M(this,Zl)||null}set processFunc(e){W(this,Zl,e)}get retryFunc(){return M(this,Xl)||null}set retryFunc(e){W(this,Xl,e)}get getUrlFunc(){return M(this,Ec)||_5}set getUrlFunc(e){W(this,Ec,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${M(this,dn)?He(M(this,dn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(M(this,Li).slotInterval=e.slotInterval),e.maxAttempts!=null&&(M(this,Li).maxAttempts=e.maxAttempts)}send(){return be(M(this,vo)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),W(this,vo,new Qfe(this)),_e(this,eu,Rp).call(this,0,C5()+this.timeout,0,this,new Qc(0,"",{},null,this))}cancel(){be(M(this,vo)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=ak.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();be(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Lb(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,W(s,$i,Object.assign({},M(this,$i))),M(this,dn)&&W(s,dn,new Uint8Array(M(this,dn))),W(s,Fs,M(this,Fs)),s}clone(){const e=new Lb(this.url);return W(e,ga,M(this,ga)),M(this,dn)&&W(e,dn,M(this,dn)),W(e,Fs,M(this,Fs)),W(e,$i,Object.assign({},M(this,$i))),W(e,ma,M(this,ma)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),W(e,Ql,M(this,Ql)),W(e,Zl,M(this,Zl)),W(e,Xl,M(this,Xl)),W(e,Li,Object.assign({},M(this,Li))),W(e,Ec,M(this,Ec)),e}static lockConfig(){C2=!0}static getGateway(e){return Wm[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(C2)throw new Error("gateways locked");Wm[e]=r}static registerGetUrl(e){if(C2)throw new Error("gateways locked");_5=e}static createGetUrlFunc(e){return sk()}static createDataGateway(){return ik}static createIpfsGatewayFunc(e){return ok(e)}};yd=new WeakMap,bd=new WeakMap,$i=new WeakMap,ga=new WeakMap,wd=new WeakMap,vd=new WeakMap,dn=new WeakMap,Fs=new WeakMap,ma=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,Xl=new WeakMap,vo=new WeakMap,Li=new WeakMap,Ec=new WeakMap,eu=new WeakSet,Rp=async function(e,r,n,s,i){var u,f,d;if(e>=M(this,Li).maxAttempts)return i.makeServerError("exceeded maximum retry limit");be(C5()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await Xfe(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Wm){const h=await Wm[a](o.url,Km(M(s,vo)));if(h instanceof Qc){let p=h;if(this.processFunc){Km(M(s,vo));try{p=await this.processFunc(o,p)}catch(g){(g.throttle==null||typeof g.stall!="number")&&p.makeServerError("error in post-processing function",g).assertOk()}}return p}o=h}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,Km(M(s,vo)));let l=new Qc(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const h=l.headers.location||"";return _e(u=o.redirect(h),eu,Rp).call(u,e+1,r,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const h=l.headers["retry-after"];let p=M(this,Li).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof h=="string"&&h.match(/^[1-9][0-9]*$/)&&(p=parseInt(h)),_e(f=o.clone(),eu,Rp).call(f,e+1,r,p,s,l)}if(this.processFunc){Km(M(s,vo));try{l=await this.processFunc(o,l)}catch(h){(h.throttle==null||typeof h.stall!="number")&&l.makeServerError("error in post-processing function",h).assertOk();let p=M(this,Li).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(p=h.stall),_e(d=o.clone(),eu,Rp).call(d,e+1,r,p,s,l)}}return l};let zo=Lb;var bg,wg,vg,js,Ed,tu;const AC=class AC{constructor(e,r,n,s,i){ae(this,bg);ae(this,wg);ae(this,vg);ae(this,js);ae(this,Ed);ae(this,tu);W(this,bg,e),W(this,wg,r),W(this,vg,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),W(this,js,s==null?null:new Uint8Array(s)),W(this,Ed,i||null),W(this,tu,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${M(this,js)?He(M(this,js)):"null"}>`}get statusCode(){return M(this,bg)}get statusMessage(){return M(this,wg)}get headers(){return Object.assign({},M(this,vg))}get body(){return M(this,js)==null?null:new Uint8Array(M(this,js))}get bodyText(){try{return M(this,js)==null?"":Ab(M(this,js))}catch{be(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{be(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new AC(599,n,this.headers,this.body,M(this,Ed)||void 0);return W(s,tu,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:te(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw Xe(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return M(this,js)!=null}get request(){return M(this,Ed)}ok(){return M(this,tu).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=M(this,tu);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{M(this,js)&&(s=Ab(M(this,js)))}catch{}be(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};bg=new WeakMap,wg=new WeakMap,vg=new WeakMap,js=new WeakMap,Ed=new WeakMap,tu=new WeakMap;let Qc=AC;function C5(){return new Date().getTime()}function Zfe(t){return Uo(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Xfe(t){return new Promise(e=>setTimeout(e,t))}const ede=BigInt(-1),Mi=BigInt(0),Qf=BigInt(1),tde=BigInt(5),Rf={};let fd="0000";for(;fd.length<80;)fd+=fd;function xl(t){let e=fd;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function bp(t,e,r){const n=BigInt(e.width);if(e.signed){const s=Qf<<n-Qf;be(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Mi?t=Eb(Vl(t,n),n):t=-Eb(Vl(-t,n),n)}else{const s=Qf<<n;be(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-Qf}return t}function S2(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);te(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,o=(a,c,l)=>i[a]==null?l:(te(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}te(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),te(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function rde(t,e){let r="";t<Mi&&(r="-",t*=ede);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=fd+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Fi,rr,Qn,Gt,Pl,aa,fA,dA,hA,pA;const yc=class yc{constructor(e,r,n){ae(this,Gt);ne(this,"format");ae(this,Fi);ae(this,rr);ae(this,Qn);ne(this,"_value");tm(e,Rf,"FixedNumber"),W(this,rr,r),W(this,Fi,n);const s=rde(r,n.decimals);Xe(this,{format:n.name,_value:s}),W(this,Qn,xl(n.decimals))}get signed(){return M(this,Fi).signed}get width(){return M(this,Fi).width}get decimals(){return M(this,Fi).decimals}get value(){return M(this,rr)}addUnsafe(e){return _e(this,Gt,fA).call(this,e)}add(e){return _e(this,Gt,fA).call(this,e,"add")}subUnsafe(e){return _e(this,Gt,dA).call(this,e)}sub(e){return _e(this,Gt,dA).call(this,e,"sub")}mulUnsafe(e){return _e(this,Gt,hA).call(this,e)}mul(e){return _e(this,Gt,hA).call(this,e,"mul")}mulSignal(e){_e(this,Gt,Pl).call(this,e);const r=M(this,rr)*M(e,rr);return be(r%M(this,Qn)===Mi,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),_e(this,Gt,aa).call(this,r/M(this,Qn),"mulSignal")}divUnsafe(e){return _e(this,Gt,pA).call(this,e)}div(e){return _e(this,Gt,pA).call(this,e,"div")}divSignal(e){be(M(e,rr)!==Mi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_e(this,Gt,Pl).call(this,e);const r=M(this,rr)*M(this,Qn);return be(r%M(e,rr)===Mi,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),_e(this,Gt,aa).call(this,r/M(e,rr),"divSignal")}cmp(e){let r=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=xl(s):s<0&&(r*=xl(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=M(this,rr);return M(this,rr)<Mi&&(e-=M(this,Qn)-Qf),e=M(this,rr)/M(this,Qn)*M(this,Qn),_e(this,Gt,aa).call(this,e,"floor")}ceiling(){let e=M(this,rr);return M(this,rr)>Mi&&(e+=M(this,Qn)-Qf),e=M(this,rr)/M(this,Qn)*M(this,Qn),_e(this,Gt,aa).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=tde*xl(r-1);let s=this.value+n;const i=xl(r);return s=s/i*i,bp(s,M(this,Fi),"round"),new yc(Rf,s,M(this,Fi))}isZero(){return M(this,rr)===Mi}isNegative(){return M(this,rr)<Mi}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return yc.fromString(this.toString(),e)}static fromValue(e,r,n){const s=r==null?0:mt(r),i=S2(n);let o=Ke(e,"value");const a=s-i.decimals;if(a>0){const c=xl(a);be(o%c===Mi,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=xl(-a));return bp(o,i,"fromValue"),new yc(Rf,o,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);te(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=S2(r);let i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=fd;be(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(n[1]+i+o);return bp(a,s,"fromString"),new yc(Rf,a,s)}static fromBytes(e,r){let n=Uw(Rt(e,"value"));const s=S2(r);return s.signed&&(n=Eb(n,s.width)),bp(n,s,"fromBytes"),new yc(Rf,n,s)}};Fi=new WeakMap,rr=new WeakMap,Qn=new WeakMap,Gt=new WeakSet,Pl=function(e){te(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},aa=function(e,r){return e=bp(e,M(this,Fi),r),new yc(Rf,e,M(this,Fi))},fA=function(e,r){return _e(this,Gt,Pl).call(this,e),_e(this,Gt,aa).call(this,M(this,rr)+M(e,rr),r)},dA=function(e,r){return _e(this,Gt,Pl).call(this,e),_e(this,Gt,aa).call(this,M(this,rr)-M(e,rr),r)},hA=function(e,r){return _e(this,Gt,Pl).call(this,e),_e(this,Gt,aa).call(this,M(this,rr)*M(e,rr)/M(this,Qn),r)},pA=function(e,r){return be(M(e,rr)!==Mi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),_e(this,Gt,Pl).call(this,e),_e(this,Gt,aa).call(this,M(this,rr)*M(this,Qn)/M(e,rr),r)};let _b=yc;function nde(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function S5(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function x5(t,e,r,n){const s=[];for(;r<e+1+n;){const i=ck(t,r);s.push(i.result),r+=i.consumed,be(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function ck(t,e){be(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{be(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=S5(t,e+1,n);return r(e+1+n+s),x5(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),x5(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=S5(t,e+1,n);r(e+1+n+s);const i=He(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=He(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:nde(t[e])}}function $w(t){const e=Rt(t,"data"),r=ck(e,0);return te(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function I5(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function lk(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(lk(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=I5(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(Rt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=I5(e.length);return r.unshift(183+r.length),r.concat(e)}const T5="0123456789abcdef";function zu(t){let e="0x";for(const r of lk(t))e+=T5[r>>4],e+=T5[r&15];return e}const uk=["wei","kwei","mwei","gwei","szabo","finney","ether"];function j_(t,e){let r=18;if(typeof e=="string"){const n=uk.indexOf(e);te(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=mt(e,"unit"));return _b.fromValue(t,r,{decimals:r,width:512}).toString()}function Cb(t,e){te(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=uk.indexOf(e);te(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=mt(e,"unit"));return _b.fromString(t,{decimals:r,width:512}).value}function sde(t){return j_(t,18)}const os=32,gA=new Uint8Array(os),ide=["then"],Gm={},fk=new WeakMap;function Bl(t){return fk.get(t)}function N5(t,e){fk.set(t,e)}function wp(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function mA(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof _h?mA(Bl(n),n,r):n):t.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(r&&o instanceof _h&&(o=mA(Bl(o),o,r)),n[s]=o),n},{})}var Ad;const Zf=class Zf extends Array{constructor(...r){const n=r[0];let s=r[1],i=(r[2]||[]).slice(),o=!0;n!==Gm&&(s=r,i=[],o=!1);super(s.length);ae(this,Ad);s.forEach((l,u)=>{this[u]=l});const a=i.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(N5(this,Object.freeze(s.map((l,u)=>{const f=i[u];return f!=null&&a.get(f)===1?f:null}))),W(this,Ad,[]),M(this,Ad)==null&&M(this,Ad),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,f)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const h=mt(u,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=l[h];return p instanceof Error&&wp(`index ${h}`,p),p}if(ide.indexOf(u)>=0)return Reflect.get(l,u,f);const d=l[u];if(d instanceof Function)return function(...h){return d.apply(this===f?l:this,h)};if(!(u in l))return l.getValue.apply(this===f?l:this,[u])}return Reflect.get(l,u,f)}});return N5(c,Bl(this)),c}toArray(r){const n=[];return this.forEach((s,i)=>{s instanceof Error&&wp(`index ${i}`,s),r&&s instanceof Zf&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){const n=Bl(this);return n.reduce((s,i,o)=>(be(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),mA(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=Bl(this),i=[],o=[];for(let a=r;a<n;a++)i.push(this[a]),o.push(s[a]);return new Zf(Gm,i,o)}filter(r,n){const s=Bl(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&wp(`index ${a}`,c),r.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new Zf(Gm,i,o)}map(r,n){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&wp(`index ${i}`,o),s.push(r.call(n,o,i,this))}return s}getValue(r){const n=Bl(this).indexOf(r);if(n===-1)return;const s=this[n];return s instanceof Error&&wp(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new Zf(Gm,r,n)}};Ad=new WeakMap;let _h=Zf;function P5(t){let e=is(t);return be(e.length<=os,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:os,offset:e.length}),e.length!==os&&(e=ss(Dr([gA.slice(e.length%os),e]))),e}class Ja{constructor(e,r,n,s){ne(this,"name");ne(this,"type");ne(this,"localName");ne(this,"dynamic");Xe(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){te(!1,e,this.localName,r)}}var ya,ru,_d,_y;class yA{constructor(){ae(this,_d);ae(this,ya);ae(this,ru);W(this,ya,[]),W(this,ru,0)}get data(){return Dr(M(this,ya))}get length(){return M(this,ru)}appendWriter(e){return _e(this,_d,_y).call(this,ss(e.data))}writeBytes(e){let r=ss(e);const n=r.length%os;return n&&(r=ss(Dr([r,gA.slice(n)]))),_e(this,_d,_y).call(this,r)}writeValue(e){return _e(this,_d,_y).call(this,P5(e))}writeUpdatableValue(){const e=M(this,ya).length;return M(this,ya).push(gA),W(this,ru,M(this,ru)+os),r=>{M(this,ya)[e]=P5(r)}}}ya=new WeakMap,ru=new WeakMap,_d=new WeakSet,_y=function(e){return M(this,ya).push(e),W(this,ru,M(this,ru)+e.length),e.length};var Es,Hs,nu,su,Ac,Yu,wA,dk;const _C=class _C{constructor(e,r,n){ae(this,Yu);ne(this,"allowLoose");ae(this,Es);ae(this,Hs);ae(this,nu);ae(this,su);ae(this,Ac);Xe(this,{allowLoose:!!r}),W(this,Es,ss(e)),W(this,nu,0),W(this,su,null),W(this,Ac,n??1024),W(this,Hs,0)}get data(){return He(M(this,Es))}get dataLength(){return M(this,Es).length}get consumed(){return M(this,Hs)}get bytes(){return new Uint8Array(M(this,Es))}subReader(e){const r=new _C(M(this,Es).slice(M(this,Hs)+e),this.allowLoose,M(this,Ac));return W(r,su,this),r}readBytes(e,r){let n=_e(this,Yu,dk).call(this,0,e,!!r);return _e(this,Yu,wA).call(this,e),W(this,Hs,M(this,Hs)+n.length),n.slice(0,e)}readValue(){return Uw(this.readBytes(os))}readIndex(){return $fe(this.readBytes(os))}};Es=new WeakMap,Hs=new WeakMap,nu=new WeakMap,su=new WeakMap,Ac=new WeakMap,Yu=new WeakSet,wA=function(e){var r;if(M(this,su))return _e(r=M(this,su),Yu,wA).call(r,e);W(this,nu,M(this,nu)+e),be(M(this,Ac)<1||M(this,nu)<=M(this,Ac)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${M(this,Ac)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ss(M(this,Es)),offset:M(this,Hs),length:e,info:{bytesRead:M(this,nu),dataLength:this.dataLength}})},dk=function(e,r,n){let s=Math.ceil(r/os)*os;return M(this,Hs)+s>M(this,Es).length&&(this.allowLoose&&n&&M(this,Hs)+r<=M(this,Es).length?s=r:be(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ss(M(this,Es)),length:M(this,Es).length,offset:M(this,Hs)+s})),M(this,Es).slice(M(this,Hs),M(this,Hs)+s)};let bA=_C;function Sb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function H_(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ode(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Sb(t.outputLen),Sb(t.blockLen)}function Ch(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hk(t,e){H_(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const x2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pk=t=>t instanceof Uint8Array,ade=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),I2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),po=(t,e)=>t<<32-e|t>>>e,cde=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cde)throw new Error("Non little-endian hardware is not supported");function lde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Lw(t){if(typeof t=="string"&&(t=lde(t)),!pk(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function ude(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!pk(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class z_{clone(){return this._cloneInto()}}function q_(t){const e=n=>t().update(Lw(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function fde(t=32){if(x2&&typeof x2.getRandomValues=="function")return x2.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class gk extends z_{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ode(e);const n=Lw(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ch(this),this.iHash.update(e),this}digestInto(e){Ch(this),H_(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mk=(t,e,r)=>new gk(t,e).update(r).digest();mk.create=(t,e)=>new gk(t,e);function dde(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}class yk extends z_{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=I2(this.buffer)}update(e){Ch(this);const{view:r,buffer:n,blockLen:s}=this;e=Lw(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=I2(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ch(this),hk(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)r[f]=0;dde(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=I2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}}const hde=(t,e,r)=>t&e^~t&r,pde=(t,e,r)=>t&e^t&r^e&r,gde=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sc=new Uint32Array(64);class mde extends yk{constructor(){super(64,32,8,!1),this.A=nc[0]|0,this.B=nc[1]|0,this.C=nc[2]|0,this.D=nc[3]|0,this.E=nc[4]|0,this.F=nc[5]|0,this.G=nc[6]|0,this.H=nc[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)sc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const d=sc[f-15],h=sc[f-2],p=po(d,7)^po(d,18)^d>>>3,g=po(h,17)^po(h,19)^h>>>10;sc[f]=g+sc[f-7]+p+sc[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=po(a,6)^po(a,11)^po(a,25),h=u+d+hde(a,c,l)+gde[f]+sc[f]|0,g=(po(n,2)^po(n,13)^po(n,22))+pde(n,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+g|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){sc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const bk=q_(()=>new mde),Jm=BigInt(2**32-1),vA=BigInt(32);function wk(t,e=!1){return e?{h:Number(t&Jm),l:Number(t>>vA&Jm)}:{h:Number(t>>vA&Jm)|0,l:Number(t&Jm)|0}}function vk(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=wk(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const yde=(t,e)=>BigInt(t>>>0)<<vA|BigInt(e>>>0),bde=(t,e,r)=>t>>>r,wde=(t,e,r)=>t<<32-r|e>>>r,vde=(t,e,r)=>t>>>r|e<<32-r,Ede=(t,e,r)=>t<<32-r|e>>>r,Ade=(t,e,r)=>t<<64-r|e>>>r-32,_de=(t,e,r)=>t>>>r-32|e<<64-r,Cde=(t,e)=>e,Sde=(t,e)=>t,Ek=(t,e,r)=>t<<r|e>>>32-r,Ak=(t,e,r)=>e<<r|t>>>32-r,_k=(t,e,r)=>e<<r-32|t>>>64-r,Ck=(t,e,r)=>t<<r-32|e>>>64-r;function xde(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const Ide=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Tde=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Nde=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Pde=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Ode=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Rde=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,bt={fromBig:wk,split:vk,toBig:yde,shrSH:bde,shrSL:wde,rotrSH:vde,rotrSL:Ede,rotrBH:Ade,rotrBL:_de,rotr32H:Cde,rotr32L:Sde,rotlSH:Ek,rotlSL:Ak,rotlBH:_k,rotlBL:Ck,add:xde,add3L:Ide,add3H:Tde,add4L:Nde,add4H:Pde,add5H:Rde,add5L:Ode},[kde,Dde]=bt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ic=new Uint32Array(80),oc=new Uint32Array(80);class Mde extends yk{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:p,Hh:g,Hl:y}=this;return[e,r,n,s,i,o,a,c,l,u,f,d,h,p,g,y]}set(e,r,n,s,i,o,a,c,l,u,f,d,h,p,g,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=p|0,this.Hh=g|0,this.Hl=y|0}process(e,r){for(let I=0;I<16;I++,r+=4)ic[I]=e.getUint32(r),oc[I]=e.getUint32(r+=4);for(let I=16;I<80;I++){const T=ic[I-15]|0,N=oc[I-15]|0,k=bt.rotrSH(T,N,1)^bt.rotrSH(T,N,8)^bt.shrSH(T,N,7),B=bt.rotrSL(T,N,1)^bt.rotrSL(T,N,8)^bt.shrSL(T,N,7),L=ic[I-2]|0,$=oc[I-2]|0,j=bt.rotrSH(L,$,19)^bt.rotrBH(L,$,61)^bt.shrSH(L,$,6),O=bt.rotrSL(L,$,19)^bt.rotrBL(L,$,61)^bt.shrSL(L,$,6),m=bt.add4L(B,O,oc[I-7],oc[I-16]),A=bt.add4H(m,k,j,ic[I-7],ic[I-16]);ic[I]=A|0,oc[I]=m|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:p,Gh:g,Gl:y,Hh:E,Hl:C}=this;for(let I=0;I<80;I++){const T=bt.rotrSH(f,d,14)^bt.rotrSH(f,d,18)^bt.rotrBH(f,d,41),N=bt.rotrSL(f,d,14)^bt.rotrSL(f,d,18)^bt.rotrBL(f,d,41),k=f&h^~f&g,B=d&p^~d&y,L=bt.add5L(C,N,B,Dde[I],oc[I]),$=bt.add5H(L,E,T,k,kde[I],ic[I]),j=L|0,O=bt.rotrSH(n,s,28)^bt.rotrBH(n,s,34)^bt.rotrBH(n,s,39),m=bt.rotrSL(n,s,28)^bt.rotrBL(n,s,34)^bt.rotrBL(n,s,39),A=n&i^n&a^i&a,S=s&o^s&c^o&c;E=g|0,C=y|0,g=h|0,y=p|0,h=f|0,p=d|0,{h:f,l:d}=bt.add(l|0,u|0,$|0,j|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const b=bt.add3L(j,m,S);n=bt.add3H(b,$,O,A),s=b|0}({h:n,l:s}=bt.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=bt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=bt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=bt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=bt.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:p}=bt.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:g,l:y}=bt.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:E,l:C}=bt.add(this.Hh|0,this.Hl|0,E|0,C|0),this.set(n,s,i,o,a,c,l,u,f,d,h,p,g,y,E,C)}roundClean(){ic.fill(0),oc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Bde=q_(()=>new Mde);function Ude(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const O5=Ude();O5.crypto||O5.msCrypto;function $de(t){switch(t){case"sha256":return bk.create();case"sha512":return Bde.create()}te(!1,"invalid hashing algorithm name","algorithm",t)}const[Sk,xk,Ik]=[[],[],[]],Lde=BigInt(0),vp=BigInt(1),Fde=BigInt(2),jde=BigInt(7),Hde=BigInt(256),zde=BigInt(113);for(let t=0,e=vp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Sk.push(2*(5*n+r)),xk.push((t+1)*(t+2)/2%64);let s=Lde;for(let i=0;i<7;i++)e=(e<<vp^(e>>jde)*zde)%Hde,e&Fde&&(s^=vp<<(vp<<BigInt(i))-vp);Ik.push(s)}const[qde,Vde]=vk(Ik,!0),R5=(t,e,r)=>r>32?_k(t,e,r):Ek(t,e,r),k5=(t,e,r)=>r>32?Ck(t,e,r):Ak(t,e,r);function Wde(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=R5(l,u,1)^r[a],d=k5(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=xk[o],c=R5(s,i,a),l=k5(s,i,a),u=Sk[o];s=t[u],i=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=qde[n],t[1]^=Vde[n]}r.fill(0)}class V_ extends z_{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Sb(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ade(this.state)}keccak(){Wde(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ch(this);const{blockLen:r,state:n}=this;e=Lw(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ch(this,!1),H_(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Sb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hk(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new V_(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Kde=(t,e,r)=>q_(()=>new V_(e,t,r)),Gde=Kde(1,136,256/8);let Tk=!1;const Nk=function(t){return Gde(t)};let Pk=Nk;function tn(t){const e=Rt(t,"data");return He(Pk(e))}tn._=Nk;tn.lock=function(){Tk=!0};tn.register=function(t){if(Tk)throw new TypeError("keccak256 is locked");Pk=t};Object.freeze(tn);const Ok=function(t){return $de("sha256").update(t).digest()};let Rk=Ok,kk=!1;function zh(t){const e=Rt(t,"data");return He(Rk(e))}zh._=Ok;zh.lock=function(){kk=!0};zh.register=function(t){if(kk)throw new Error("sha256 is locked");Rk=t};Object.freeze(zh);Object.freeze(zh);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dk=BigInt(0),Fw=BigInt(1),Jde=BigInt(2),jw=t=>t instanceof Uint8Array,Yde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sh(t){if(!jw(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Yde[t[r]];return e}function Mk(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function W_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function xh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function Su(t){return W_(Sh(t))}function K_(t){if(!jw(t))throw new Error("Uint8Array expected");return W_(Sh(Uint8Array.from(t).reverse()))}function Ih(t,e){return xh(t.toString(16).padStart(e*2,"0"))}function G_(t,e){return Ih(t,e).reverse()}function Qde(t){return xh(Mk(t))}function Ui(t,e,r){let n;if(typeof e=="string")try{n=xh(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(jw(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function ig(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!jw(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Zde(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Xde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ehe(t){let e;for(e=0;t>Dk;t>>=Fw,e+=1);return e}function the(t,e){return t>>BigInt(e)&Fw}const rhe=(t,e,r)=>t|(r?Fw:Dk)<<BigInt(e),J_=t=>(Jde<<BigInt(t-1))-Fw,T2=t=>new Uint8Array(t),D5=t=>Uint8Array.from(t);function Bk(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=T2(t),s=T2(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...f)=>r(s,n,...f),c=(f=T2())=>{s=a(D5([0]),f),n=a(),f.length!==0&&(s=a(D5([1]),f),n=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<e;){n=a();const h=n.slice();d.push(h),f+=n.length}return ig(...d)};return(f,d)=>{o(),c(f);let h;for(;!(h=d(l()));)c();return o(),h}}const nhe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function rm(t,e,r={}){const n=(s,i,o)=>{const a=nhe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const she=Object.freeze(Object.defineProperty({__proto__:null,bitGet:the,bitLen:ehe,bitMask:J_,bitSet:rhe,bytesToHex:Sh,bytesToNumberBE:Su,bytesToNumberLE:K_,concatBytes:ig,createHmacDrbg:Bk,ensureBytes:Ui,equalBytes:Zde,hexToBytes:xh,hexToNumber:W_,numberToBytesBE:Ih,numberToBytesLE:G_,numberToHexUnpadded:Mk,numberToVarBytesBE:Qde,utf8ToBytes:Xde,validateObject:rm},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bn=BigInt(0),Rr=BigInt(1),Ul=BigInt(2),ihe=BigInt(3),EA=BigInt(4),M5=BigInt(5),B5=BigInt(8);BigInt(9);BigInt(16);function _s(t,e){const r=t%e;return r>=bn?r:e+r}function ohe(t,e,r){if(r<=bn||e<bn)throw new Error("Expected power/modulo > 0");if(r===Rr)return bn;let n=Rr;for(;e>bn;)e&Rr&&(n=n*t%r),t=t*t%r,e>>=Rr;return n}function si(t,e,r){let n=t;for(;e-- >bn;)n*=n,n%=r;return n}function AA(t,e){if(t===bn||e<=bn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=_s(t,e),n=e,s=bn,i=Rr;for(;r!==bn;){const a=n/r,c=n%r,l=s-i*a;n=r,r=c,s=i,i=l}if(n!==Rr)throw new Error("invert: does not exist");return _s(s,e)}function ahe(t){const e=(t-Rr)/Ul;let r,n,s;for(r=t-Rr,n=0;r%Ul===bn;r/=Ul,n++);for(s=Ul;s<t&&ohe(s,e,t)!==t-Rr;s++);if(n===1){const o=(t+Rr)/EA;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(r+Rr)/Ul;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,s),r),f=a.pow(c,i),d=a.pow(c,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let g=a.sqr(d);h<l&&!a.eql(g,a.ONE);h++)g=a.sqr(g);const p=a.pow(u,Rr<<BigInt(l-h-1));u=a.sqr(p),f=a.mul(f,p),d=a.mul(d,u),l=h}return f}}function che(t){if(t%EA===ihe){const e=(t+Rr)/EA;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%B5===M5){const e=(t-M5)/B5;return function(n,s){const i=n.mul(s,Ul),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,Ul),o),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),s))throw new Error("Cannot find square root");return l}}return ahe(t)}const lhe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uhe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=lhe.reduce((n,s)=>(n[s]="function",n),e);return rm(t,r)}function fhe(t,e,r){if(r<bn)throw new Error("Expected power > 0");if(r===bn)return t.ONE;if(r===Rr)return e;let n=t.ONE,s=e;for(;r>bn;)r&Rr&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Rr;return n}function dhe(t,e){const r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function Uk(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function hhe(t,e,r=!1,n={}){if(t<=bn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=Uk(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=che(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:J_(s),ZERO:bn,ONE:Rr,create:c=>_s(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return bn<=c&&c<t},is0:c=>c===bn,isOdd:c=>(c&Rr)===Rr,neg:c=>_s(-c,t),eql:(c,l)=>c===l,sqr:c=>_s(c*c,t),add:(c,l)=>_s(c+l,t),sub:(c,l)=>_s(c-l,t),mul:(c,l)=>_s(c*l,t),pow:(c,l)=>fhe(a,c,l),div:(c,l)=>_s(c*AA(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>AA(c,t),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>dhe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?G_(c,i):Ih(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?K_(c):Su(c)}});return Object.freeze(a)}function $k(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Lk(t){const e=$k(t);return e+Math.ceil(e/2)}function phe(t,e,r=!1){const n=t.length,s=$k(e),i=Lk(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=r?Su(t):K_(t),a=_s(o,e-Rr)+Rr;return r?G_(a,s):Ih(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ghe=BigInt(0),N2=BigInt(1);function mhe(t,e){const r=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>ghe;)i&N2&&(o=o.add(a)),a=a.double(),i>>=N2;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=n(i),c=[];let l=s,u=l;for(let f=0;f<o;f++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=n(s);let l=t.ZERO,u=t.BASE;const f=BigInt(2**s-1),d=2**s,h=BigInt(s);for(let p=0;p<a;p++){const g=p*c;let y=Number(o&f);o>>=h,y>c&&(y-=d,o+=N2);const E=g,C=g+Math.abs(y)-1,I=p%2!==0,T=y<0;y===0?u=u.add(r(I,i[E])):l=l.add(r(T,i[C]))}return{p:l,f:u}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function Fk(t){return uhe(t.Fp),rm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Uk(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yhe(t){const e=Fk(t);rm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:bhe,hexToBytes:whe}=she,Wl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Wl;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:bhe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Wl,r=typeof t=="string"?whe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Wl._parseInt(r.subarray(2)),{d:o,l:a}=Wl._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,a=r(i),c=r(o);return`30${r(o+i+4)}02${c}${s}02${a}${n}`}},Na=BigInt(0),gi=BigInt(1);BigInt(2);const U5=BigInt(3);BigInt(4);function vhe(t){const e=yhe(t),{Fp:r}=e,n=e.toBytes||((p,g,y)=>{const E=g.toAffine();return ig(Uint8Array.from([4]),r.toBytes(E.x),r.toBytes(E.y))}),s=e.fromBytes||(p=>{const g=p.subarray(1),y=r.fromBytes(g.subarray(0,r.BYTES)),E=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:y,y:E}});function i(p){const{a:g,b:y}=e,E=r.sqr(p),C=r.mul(E,p);return r.add(r.add(C,r.mul(p,g)),y)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(p){return typeof p=="bigint"&&Na<p&&p<e.n}function a(p){if(!o(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:E,n:C}=e;if(g&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=Sh(p)),typeof p!="string"||!g.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let I;try{I=typeof p=="bigint"?p:Su(Ui("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return E&&(I=_s(I,C)),a(I),I}const l=new Map;function u(p){if(!(p instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,y,E){if(this.px=g,this.py=y,this.pz=E,g==null||!r.isValid(g))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(E==null||!r.isValid(E))throw new Error("z required")}static fromAffine(g){const{x:y,y:E}=g||{};if(!g||!r.isValid(y)||!r.isValid(E))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const C=I=>r.eql(I,r.ZERO);return C(y)&&C(E)?f.ZERO:new f(y,E,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=r.invertBatch(g.map(E=>E.pz));return g.map((E,C)=>E.toAffine(y[C])).map(f.fromAffine)}static fromHex(g){const y=f.fromAffine(s(Ui("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return f.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=this.toAffine();if(!r.isValid(g)||!r.isValid(y))throw new Error("bad point: x or y not FE");const E=r.sqr(y),C=i(g);if(!r.eql(E,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:y,py:E,pz:C}=this,{px:I,py:T,pz:N}=g,k=r.eql(r.mul(y,N),r.mul(I,C)),B=r.eql(r.mul(E,N),r.mul(T,C));return k&&B}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b:y}=e,E=r.mul(y,U5),{px:C,py:I,pz:T}=this;let N=r.ZERO,k=r.ZERO,B=r.ZERO,L=r.mul(C,C),$=r.mul(I,I),j=r.mul(T,T),O=r.mul(C,I);return O=r.add(O,O),B=r.mul(C,T),B=r.add(B,B),N=r.mul(g,B),k=r.mul(E,j),k=r.add(N,k),N=r.sub($,k),k=r.add($,k),k=r.mul(N,k),N=r.mul(O,N),B=r.mul(E,B),j=r.mul(g,j),O=r.sub(L,j),O=r.mul(g,O),O=r.add(O,B),B=r.add(L,L),L=r.add(B,L),L=r.add(L,j),L=r.mul(L,O),k=r.add(k,L),j=r.mul(I,T),j=r.add(j,j),L=r.mul(j,O),N=r.sub(N,L),B=r.mul(j,$),B=r.add(B,B),B=r.add(B,B),new f(N,k,B)}add(g){u(g);const{px:y,py:E,pz:C}=this,{px:I,py:T,pz:N}=g;let k=r.ZERO,B=r.ZERO,L=r.ZERO;const $=e.a,j=r.mul(e.b,U5);let O=r.mul(y,I),m=r.mul(E,T),A=r.mul(C,N),S=r.add(y,E),b=r.add(I,T);S=r.mul(S,b),b=r.add(O,m),S=r.sub(S,b),b=r.add(y,C);let w=r.add(I,N);return b=r.mul(b,w),w=r.add(O,A),b=r.sub(b,w),w=r.add(E,C),k=r.add(T,N),w=r.mul(w,k),k=r.add(m,A),w=r.sub(w,k),L=r.mul($,b),k=r.mul(j,A),L=r.add(k,L),k=r.sub(m,L),L=r.add(m,L),B=r.mul(k,L),m=r.add(O,O),m=r.add(m,O),A=r.mul($,A),b=r.mul(j,b),m=r.add(m,A),A=r.sub(O,A),A=r.mul($,A),b=r.add(b,A),O=r.mul(m,b),B=r.add(B,O),O=r.mul(w,b),k=r.mul(S,k),k=r.sub(k,O),O=r.mul(S,m),L=r.mul(w,L),L=r.add(L,O),new f(k,B,L)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return h.wNAFCached(this,l,g,y=>{const E=r.invertBatch(y.map(C=>C.pz));return y.map((C,I)=>C.toAffine(E[I])).map(f.fromAffine)})}multiplyUnsafe(g){const y=f.ZERO;if(g===Na)return y;if(a(g),g===gi)return this;const{endo:E}=e;if(!E)return h.unsafeLadder(this,g);let{k1neg:C,k1:I,k2neg:T,k2:N}=E.splitScalar(g),k=y,B=y,L=this;for(;I>Na||N>Na;)I&gi&&(k=k.add(L)),N&gi&&(B=B.add(L)),L=L.double(),I>>=gi,N>>=gi;return C&&(k=k.negate()),T&&(B=B.negate()),B=new f(r.mul(B.px,E.beta),B.py,B.pz),k.add(B)}multiply(g){a(g);let y=g,E,C;const{endo:I}=e;if(I){const{k1neg:T,k1:N,k2neg:k,k2:B}=I.splitScalar(y);let{p:L,f:$}=this.wNAF(N),{p:j,f:O}=this.wNAF(B);L=h.constTimeNegate(T,L),j=h.constTimeNegate(k,j),j=new f(r.mul(j.px,I.beta),j.py,j.pz),E=L.add(j),C=$.add(O)}else{const{p:T,f:N}=this.wNAF(y);E=T,C=N}return f.normalizeZ([E,C])[0]}multiplyAndAddUnsafe(g,y,E){const C=f.BASE,I=(N,k)=>k===Na||k===gi||!N.equals(C)?N.multiplyUnsafe(k):N.multiply(k),T=I(this,y).add(I(g,E));return T.is0()?void 0:T}toAffine(g){const{px:y,py:E,pz:C}=this,I=this.is0();g==null&&(g=I?r.ONE:r.inv(C));const T=r.mul(y,g),N=r.mul(E,g),k=r.mul(C,g);if(I)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:T,y:N}}isTorsionFree(){const{h:g,isTorsionFree:y}=e;if(g===gi)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=e;return g===gi?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(f,this,g)}toHex(g=!0){return Sh(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,h=mhe(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function Ehe(t){const e=Fk(t);return rm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ahe(t){const e=Ehe(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(b){return Na<b&&b<r.ORDER}function a(b){return _s(b,n)}function c(b){return AA(b,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=vhe({...e,toBytes(b,w,x){const D=w.toAffine(),R=r.toBytes(D.x),v=ig;return x?v(Uint8Array.from([w.hasEvenY()?2:3]),R):v(Uint8Array.from([4]),R,r.toBytes(D.y))},fromBytes(b){const w=b.length,x=b[0],D=b.subarray(1);if(w===s&&(x===2||x===3)){const R=Su(D);if(!o(R))throw new Error("Point is not on curve");const v=f(R);let U=r.sqrt(v);const K=(U&gi)===gi;return(x&1)===1!==K&&(U=r.neg(U)),{x:R,y:U}}else if(w===i&&x===4){const R=r.fromBytes(D.subarray(0,r.BYTES)),v=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:R,y:v}}else throw new Error(`Point of length ${w} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=b=>Sh(Ih(b,e.nByteLength));function p(b){const w=n>>gi;return b>w}function g(b){return p(b)?a(-b):b}const y=(b,w,x)=>Su(b.slice(w,x));class E{constructor(w,x,D){this.r=w,this.s=x,this.recovery=D,this.assertValidity()}static fromCompact(w){const x=e.nByteLength;return w=Ui("compactSignature",w,x*2),new E(y(w,0,x),y(w,x,2*x))}static fromDER(w){const{r:x,s:D}=Wl.toSig(Ui("DER",w));return new E(x,D)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new E(this.r,this.s,w)}recoverPublicKey(w){const{r:x,s:D,recovery:R}=this,v=B(Ui("msgHash",w));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const U=R===2||R===3?x+e.n:x;if(U>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(R&1)===0?"02":"03",Q=l.fromHex(K+h(U)),J=c(U),re=a(-v*J),le=a(D*J),Y=l.BASE.multiplyAndAddUnsafe(Q,re,le);if(!Y)throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return xh(this.toDERHex())}toDERHex(){return Wl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xh(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const C={isValidPrivateKey(b){try{return u(b),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const b=Lk(e.n);return phe(e.randomBytes(b),e.n)},precompute(b=8,w=l.BASE){return w._setWindowSize(b),w.multiply(BigInt(3)),w}};function I(b,w=!0){return l.fromPrivateKey(b).toRawBytes(w)}function T(b){const w=b instanceof Uint8Array,x=typeof b=="string",D=(w||x)&&b.length;return w?D===s||D===i:x?D===2*s||D===2*i:b instanceof l}function N(b,w,x=!0){if(T(b))throw new Error("first arg must be private key");if(!T(w))throw new Error("second arg must be public key");return l.fromHex(w).multiply(u(b)).toRawBytes(x)}const k=e.bits2int||function(b){const w=Su(b),x=b.length*8-e.nBitLength;return x>0?w>>BigInt(x):w},B=e.bits2int_modN||function(b){return a(k(b))},L=J_(e.nBitLength);function $(b){if(typeof b!="bigint")throw new Error("bigint expected");if(!(Na<=b&&b<L))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ih(b,e.nByteLength)}function j(b,w,x=O){if(["recovered","canonical"].some(se=>se in x))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:R}=e;let{lowS:v,prehash:U,extraEntropy:K}=x;v==null&&(v=!0),b=Ui("msgHash",b),U&&(b=Ui("prehashed msgHash",D(b)));const Q=B(b),J=u(w),re=[$(J),$(Q)];if(K!=null){const se=K===!0?R(r.BYTES):K;re.push(Ui("extraEntropy",se))}const le=ig(...re),Y=Q;function de(se){const ge=k(se);if(!d(ge))return;const ze=c(ge),q=l.BASE.multiply(ge).toAffine(),V=a(q.x);if(V===Na)return;const ee=a(ze*a(Y+V*J));if(ee===Na)return;let ce=(q.x===V?0:2)|Number(q.y&gi),ue=ee;return v&&p(ee)&&(ue=g(ee),ce^=1),new E(V,ue,ce)}return{seed:le,k2sig:de}}const O={lowS:e.lowS,prehash:!1},m={lowS:e.lowS,prehash:!1};function A(b,w,x=O){const{seed:D,k2sig:R}=j(b,w,x),v=e;return Bk(v.hash.outputLen,v.nByteLength,v.hmac)(D,R)}l.BASE._setWindowSize(8);function S(b,w,x,D=m){var q;const R=b;if(w=Ui("msgHash",w),x=Ui("publicKey",x),"strict"in D)throw new Error("options.strict was renamed to lowS");const{lowS:v,prehash:U}=D;let K,Q;try{if(typeof R=="string"||R instanceof Uint8Array)try{K=E.fromDER(R)}catch(V){if(!(V instanceof Wl.Err))throw V;K=E.fromCompact(R)}else if(typeof R=="object"&&typeof R.r=="bigint"&&typeof R.s=="bigint"){const{r:V,s:ee}=R;K=new E(V,ee)}else throw new Error("PARSE");Q=l.fromHex(x)}catch(V){if(V.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(v&&K.hasHighS())return!1;U&&(w=e.hash(w));const{r:J,s:re}=K,le=B(w),Y=c(re),de=a(le*Y),se=a(J*Y),ge=(q=l.BASE.multiplyAndAddUnsafe(Q,de,se))==null?void 0:q.toAffine();return ge?a(ge.x)===J:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:N,sign:A,verify:S,ProjectivePoint:l,Signature:E,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _he(t){return{hash:t,hmac:(e,...r)=>mk(t,e,ude(...r)),randomBytes:fde}}function Che(t,e){const r=n=>Ahe({...t,..._he(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$5=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),She=BigInt(1),_A=BigInt(2),L5=(t,e)=>(t+e/_A)/e;function xhe(t){const e=jk,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,f=si(u,r,e)*u%e,d=si(f,r,e)*u%e,h=si(d,_A,e)*l%e,p=si(h,s,e)*h%e,g=si(p,i,e)*p%e,y=si(g,a,e)*g%e,E=si(y,c,e)*y%e,C=si(E,a,e)*g%e,I=si(C,r,e)*u%e,T=si(I,o,e)*p%e,N=si(T,n,e)*l%e,k=si(N,_A,e);if(!CA.eql(CA.sqr(k),t))throw new Error("Cannot find square root");return k}const CA=hhe(jk,void 0,void 0,{sqrt:xhe}),lc=Che({a:BigInt(0),b:BigInt(7),Fp:CA,n:$5,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=$5,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-She*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=L5(i*t,e),c=L5(-n*t,e);let l=_s(t-a*r-c*s,e),u=_s(-a*n-c*i,e);const f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},bk);BigInt(0);lc.ProjectivePoint;const og="0x0000000000000000000000000000000000000000",F5="0x0000000000000000000000000000000000000000000000000000000000000000",j5=BigInt(0),H5=BigInt(1),z5=BigInt(2),q5=BigInt(27),V5=BigInt(28),Ym=BigInt(35),kf={};function W5(t){return Hu(is(t),32)}var Cd,Sd,xd,iu;const Bi=class Bi{constructor(e,r,n,s){ae(this,Cd);ae(this,Sd);ae(this,xd);ae(this,iu);tm(e,kf,"Signature"),W(this,Cd,r),W(this,Sd,n),W(this,xd,s),W(this,iu,null)}get r(){return M(this,Cd)}set r(e){te(ud(e)===32,"invalid r","value",e),W(this,Cd,He(e))}get s(){return M(this,Sd)}set s(e){te(ud(e)===32,"invalid s","value",e);const r=He(e);te(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),W(this,Sd,r)}get v(){return M(this,xd)}set v(e){const r=mt(e,"value");te(r===27||r===28,"invalid v","v",e),W(this,xd,r)}get networkV(){return M(this,iu)}get legacyChainId(){const e=this.networkV;return e==null?null:Bi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Rt(this.s);return this.yParity&&(e[0]|=128),He(e)}get compactSerialized(){return Dr([this.r,this.yParityAndS])}get serialized(){return Dr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Bi(kf,this.r,this.s,this.v);return this.networkV&&W(e,iu,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=Ke(e,"v");return r==q5||r==V5?j5:(te(r>=Ym,"invalid EIP-155 v","v",e),(r-Ym)/z5)}static getChainIdV(e,r){return Ke(e)*z5+BigInt(35+r-27)}static getNormalizedV(e){const r=Ke(e);return r===j5||r===q5?27:r===H5||r===V5?28:(te(r>=Ym,"invalid v","v",e),r&H5?27:28)}static from(e){function r(l,u){te(l,u,"signature",e)}if(e==null)return new Bi(kf,F5,F5,27);if(typeof e=="string"){const l=Rt(e,"signature");if(l.length===64){const u=He(l.slice(0,32)),f=l.slice(32,64),d=f[0]&128?28:27;return f[0]&=127,new Bi(kf,u,He(f),d)}if(l.length===65){const u=He(l.slice(0,32)),f=l.slice(32,64);r((f[0]&128)===0,"non-canonical s");const d=Bi.getNormalizedV(l[64]);return new Bi(kf,u,He(f),d)}r(!1,"invalid raw signature length")}if(e instanceof Bi)return e.clone();const n=e.r;r(n!=null,"missing r");const s=W5(n),i=function(l,u){if(l!=null)return W5(l);if(u!=null){r(dr(u,32),"invalid yParityAndS");const f=Rt(u);return f[0]&=127,He(f)}r(!1,"missing s")}(e.s,e.yParityAndS);r((Rt(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(l,u,f){if(l!=null){const d=Ke(l);return{networkV:d>=Ym?d:void 0,v:Bi.getNormalizedV(d)}}if(u!=null)return r(dr(u,32),"invalid yParityAndS"),{v:Rt(u)[0]&128?28:27};if(f!=null){switch(mt(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Bi(kf,s,i,a);return o&&W(c,iu,o),r(e.yParity==null||mt(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Cd=new WeakMap,Sd=new WeakMap,xd=new WeakMap,iu=new WeakMap;let Xi=Bi;var ba;const $l=class $l{constructor(e){ae(this,ba);te(ud(e)===32,"invalid private key","privateKey","[REDACTED]"),W(this,ba,He(e))}get privateKey(){return M(this,ba)}get publicKey(){return $l.computePublicKey(M(this,ba))}get compressedPublicKey(){return $l.computePublicKey(M(this,ba),!0)}sign(e){te(ud(e)===32,"invalid digest length","digest",e);const r=lc.sign(ss(e),ss(M(this,ba)),{lowS:!0});return Xi.from({r:nl(r.r,32),s:nl(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=$l.computePublicKey(e);return He(lc.getSharedSecret(ss(M(this,ba)),Rt(r),!1))}static computePublicKey(e,r){let n=Rt(e,"key");if(n.length===32){const i=lc.getPublicKey(n,!!r);return He(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=lc.ProjectivePoint.fromHex(n);return He(s.toRawBytes(r))}static recoverPublicKey(e,r){te(ud(e)===32,"invalid digest length","digest",e);const n=Xi.from(r);let s=lc.Signature.fromCompact(ss(Dr([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(ss(e));return te(i!=null,"invalid signautre for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=lc.ProjectivePoint.fromHex($l.computePublicKey(e).substring(2)),i=lc.ProjectivePoint.fromHex($l.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};ba=new WeakMap;let ag=$l;const Ihe=BigInt(0),The=BigInt(36);function K5(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=Rt(tn(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Y_={};for(let t=0;t<10;t++)Y_[String(t)]=String(t);for(let t=0;t<26;t++)Y_[String.fromCharCode(65+t)]=String(10+t);const G5=15;function Nhe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Y_[n]).join("");for(;e.length>=G5;){let n=e.substring(0,G5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const Phe=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function Ohe(t){t=t.toLowerCase();let e=Ihe;for(let r=0;r<t.length;r++)e=e*The+Phe[t[r]];return e}function or(t){if(te(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=K5(t);return te(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){te(t.substring(2,4)===Nhe(t),"bad icap checksum","address",t);let e=Ohe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return K5("0x"+e)}te(!1,"invalid address","address",t)}function Rhe(t){const e=or(t.from);let n=Ke(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,or(xr(tn(zu([e,n])),12))}function Hk(t){return t&&typeof t.getAddress=="function"}async function P2(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(be(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),te(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),or(r)}function as(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?or(t):(be(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),P2(t,e.resolveName(t)));if(Hk(t))return P2(t,t.getAddress());if(t&&typeof t.then=="function")return P2(t,t);te(!1,"unsupported addressable value","target",t)}const fa={};function je(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Wn(fa,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Ut(t,e){return new Wn(fa,`bytes${e||""}`,t,{size:e})}const J5=Symbol.for("_ethers_typed");var ou;const da=class da{constructor(e,r,n,s){ne(this,"type");ne(this,"value");ae(this,ou);ne(this,"_typedSymbol");s==null&&(s=null),tm(fa,e,"Typed"),Xe(this,{_typedSymbol:J5,type:r,value:n}),W(this,ou,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return M(this,ou)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return M(this,ou)===!0?-1:M(this,ou)===!1?this.value.length:null}static from(e,r){return new da(fa,e,r)}static uint8(e){return je(e,8)}static uint16(e){return je(e,16)}static uint24(e){return je(e,24)}static uint32(e){return je(e,32)}static uint40(e){return je(e,40)}static uint48(e){return je(e,48)}static uint56(e){return je(e,56)}static uint64(e){return je(e,64)}static uint72(e){return je(e,72)}static uint80(e){return je(e,80)}static uint88(e){return je(e,88)}static uint96(e){return je(e,96)}static uint104(e){return je(e,104)}static uint112(e){return je(e,112)}static uint120(e){return je(e,120)}static uint128(e){return je(e,128)}static uint136(e){return je(e,136)}static uint144(e){return je(e,144)}static uint152(e){return je(e,152)}static uint160(e){return je(e,160)}static uint168(e){return je(e,168)}static uint176(e){return je(e,176)}static uint184(e){return je(e,184)}static uint192(e){return je(e,192)}static uint200(e){return je(e,200)}static uint208(e){return je(e,208)}static uint216(e){return je(e,216)}static uint224(e){return je(e,224)}static uint232(e){return je(e,232)}static uint240(e){return je(e,240)}static uint248(e){return je(e,248)}static uint256(e){return je(e,256)}static uint(e){return je(e,256)}static int8(e){return je(e,-8)}static int16(e){return je(e,-16)}static int24(e){return je(e,-24)}static int32(e){return je(e,-32)}static int40(e){return je(e,-40)}static int48(e){return je(e,-48)}static int56(e){return je(e,-56)}static int64(e){return je(e,-64)}static int72(e){return je(e,-72)}static int80(e){return je(e,-80)}static int88(e){return je(e,-88)}static int96(e){return je(e,-96)}static int104(e){return je(e,-104)}static int112(e){return je(e,-112)}static int120(e){return je(e,-120)}static int128(e){return je(e,-128)}static int136(e){return je(e,-136)}static int144(e){return je(e,-144)}static int152(e){return je(e,-152)}static int160(e){return je(e,-160)}static int168(e){return je(e,-168)}static int176(e){return je(e,-176)}static int184(e){return je(e,-184)}static int192(e){return je(e,-192)}static int200(e){return je(e,-200)}static int208(e){return je(e,-208)}static int216(e){return je(e,-216)}static int224(e){return je(e,-224)}static int232(e){return je(e,-232)}static int240(e){return je(e,-240)}static int248(e){return je(e,-248)}static int256(e){return je(e,-256)}static int(e){return je(e,-256)}static bytes1(e){return Ut(e,1)}static bytes2(e){return Ut(e,2)}static bytes3(e){return Ut(e,3)}static bytes4(e){return Ut(e,4)}static bytes5(e){return Ut(e,5)}static bytes6(e){return Ut(e,6)}static bytes7(e){return Ut(e,7)}static bytes8(e){return Ut(e,8)}static bytes9(e){return Ut(e,9)}static bytes10(e){return Ut(e,10)}static bytes11(e){return Ut(e,11)}static bytes12(e){return Ut(e,12)}static bytes13(e){return Ut(e,13)}static bytes14(e){return Ut(e,14)}static bytes15(e){return Ut(e,15)}static bytes16(e){return Ut(e,16)}static bytes17(e){return Ut(e,17)}static bytes18(e){return Ut(e,18)}static bytes19(e){return Ut(e,19)}static bytes20(e){return Ut(e,20)}static bytes21(e){return Ut(e,21)}static bytes22(e){return Ut(e,22)}static bytes23(e){return Ut(e,23)}static bytes24(e){return Ut(e,24)}static bytes25(e){return Ut(e,25)}static bytes26(e){return Ut(e,26)}static bytes27(e){return Ut(e,27)}static bytes28(e){return Ut(e,28)}static bytes29(e){return Ut(e,29)}static bytes30(e){return Ut(e,30)}static bytes31(e){return Ut(e,31)}static bytes32(e){return Ut(e,32)}static address(e){return new da(fa,"address",e)}static bool(e){return new da(fa,"bool",!!e)}static bytes(e){return new da(fa,"bytes",e)}static string(e){return new da(fa,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new da(fa,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===J5}static dereference(e,r){if(da.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};ou=new WeakMap;let Wn=da;class khe extends Ja{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Wn.dereference(r,"string");try{n=or(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return or(nl(e.readValue(),20))}}class Dhe extends Ja{constructor(r){super(r.name,r.type,"_",r.dynamic);ne(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function zk(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return be(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),be(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else te(!1,"invalid tuple value","tuple",r);te(e.length===n.length,"types/value length mismatch","tuple",r);let s=new yA,i=new yA,o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=i.length;c.encode(i,u);let d=s.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(s,u)}),o.forEach(c=>{c(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function qk(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(Tn(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Tn(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");r.push(o),n.push(i.localName||null)}),_h.fromItems(r,n)}class Mhe extends Ja{constructor(r,n,s){const i=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",i,s,o);ne(this,"coder");ne(this,"length");Xe(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){const s=Wn.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),Z9(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return zk(r,o,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),be(n*os<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*os,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new Dhe(this.coder));return qk(r,s)}}class Bhe extends Ja{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Wn.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Vk extends Ja{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ss(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Uhe extends Vk{constructor(e){super("bytes",e)}decode(e){return He(super.decode(e))}}class $he extends Ja{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);ne(this,"size");Xe(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=ss(Wn.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return He(r.readBytes(this.size))}}const Lhe=new Uint8Array([]);class Fhe extends Ja{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(Lhe)}decode(e){return e.readBytes(0),null}}const jhe=BigInt(0),Hhe=BigInt(1),zhe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class qhe extends Ja{constructor(r,n,s){const i=(n?"int":"uint")+r*8;super(i,i,s,!1);ne(this,"size");ne(this,"signed");Xe(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=Ke(Wn.dereference(n,this.type)),i=Vl(zhe,os*8);if(this.signed){let o=Vl(i,this.size*8-1);(s>o||s<-(o+Hhe))&&this._throwError("value out-of-bounds",n),s=tk(s,8*os)}else(s<jhe||s>Vl(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=Vl(r.readValue(),this.size*8);return this.signed&&(n=Eb(n,this.size*8)),n}}class Vhe extends Vk{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Uo(Wn.dereference(r,"string")))}decode(e){return Ab(super.decode(e))}}class Qm extends Ja{constructor(r,n){let s=!1;const i=[];r.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,s);ne(this,"coders");Xe(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[i]))}),Object.freeze(r)}encode(r,n){const s=Wn.dereference(n,"tuple");return zk(r,this.coders,s)}decode(r){return qk(r,this.coders)}}function qu(t){return tn(Uo(t))}var Whe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Y5=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Q5=4;function Khe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let N=1;N<n;N++)i.push(s+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=2**f,h=d>>>1,p=h>>1,g=d-1;let y=0;for(let N=0;N<f;N++)y=y<<1|u();let E=[],C=0,I=d;for(;;){let N=Math.floor(((y-C+1)*s-1)/I),k=0,B=n;for(;B-k>1;){let j=k+B>>>1;N<i[j]?B=j:k=j}if(k==0)break;E.push(k);let L=C+Math.floor(I*i[k]/s),$=C+Math.floor(I*i[k+1]/s)-1;for(;((L^$)&h)==0;)y=y<<1&g|u(),L=L<<1&g,$=$<<1&g|1;for(;L&~$&p;)y=y&h|y<<1&g>>>1|u(),L=L<<1^h,$=($^h)<<1|h|1;C=L,I=1+$-L}let T=n-4;return E.map(N=>{switch(N-T){case 3:return T+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return T+256+(t[a++]<<8|t[a++]);case 1:return T+t[a++];default:return N-1}})}function Ghe(t){let e=0;return()=>t[e++]}function Wk(t){return Ghe(Khe(Jhe(t)))}function Jhe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,o=0,a=0;s<r;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function Yhe(t){return t&1?~t>>1:t>>1}function Qhe(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=Yhe(e());return r}function cg(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function Kk(t){return lg(()=>{let e=cg(t);if(e.length)return e})}function Gk(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Zhe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Xhe(r,t))}return e.flat()}function lg(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Jk(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)Qhe(t,r).forEach((i,o)=>n[o].push(i));return n}function Zhe(t,e){let r=1+e(),n=e(),s=lg(e);return Jk(s.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})})}function Xhe(t,e){let r=1+e();return Jk(r,1+t,e).map(s=>[s[0],s.slice(1)])}function epe(t){let e=[],r=cg(t);return s(n([]),[]),e;function n(i){let o=t(),a=lg(()=>{let c=cg(t).map(l=>r[l]);if(c.length)return n(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function tpe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Yk(t){return`{${tpe(t)}}`}function rpe(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function Th(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function npe(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var spe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const ug=44032,xb=4352,Ib=4449,Tb=4519,Qk=19,Zk=21,Nh=28,Nb=Zk*Nh,ipe=Qk*Nb,ope=ug+ipe,ape=xb+Qk,cpe=Ib+Zk,lpe=Tb+Nh;function kp(t){return t>>24&255}function Xk(t){return t&16777215}let SA,Z5,xA,Cy;function upe(){let t=Wk(spe);SA=new Map(Kk(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),Z5=new Set(cg(t)),xA=new Map,Cy=new Map;for(let[e,r]of Gk(t)){if(!Z5.has(e)&&r.length==2){let[n,s]=r,i=Cy.get(n);i||(i=new Map,Cy.set(n,i)),i.set(s,e)}xA.set(e,r.reverse())}}function e7(t){return t>=ug&&t<ope}function fpe(t,e){if(t>=xb&&t<ape&&e>=Ib&&e<cpe)return ug+(t-xb)*Nb+(e-Ib)*Nh;if(e7(t)&&e>Tb&&e<lpe&&(t-ug)%Nh==0)return t+(e-Tb);{let r=Cy.get(t);return r&&(r=r.get(e),r)?r:-1}}function t7(t){SA||upe();let e=[],r=[],n=!1;function s(i){let o=SA.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(e7(i)){let o=i-ug,a=o/Nb|0,c=o%Nb/Nh|0,l=o%Nh;s(xb+a),s(Ib+c),l>0&&s(Tb+l)}else{let o=xA.get(i);o?r.push(...o):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=kp(e[0]);for(let o=1;o<e.length;o++){let a=kp(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=kp(e[--c]),i<=a))break}i=kp(e[o])}}return e}function dpe(t){let e=[],r=[],n=-1,s=0;for(let i of t){let o=kp(i),a=Xk(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),s=o;else{let c=fpe(n,a);c>=0?n=c:s==0&&o==0?(e.push(n),n=a):(r.push(a),s=o)}}return n>=0&&e.push(n,...r),e}function r7(t){return t7(t).map(Xk)}function hpe(t){return dpe(t7(t))}const X5=45,n7=".",s7=65039,i7=1,Pb=t=>Array.from(t);function fg(t,e){return t.P.has(e)||t.Q.has(e)}class ppe extends Array{get is_emoji(){return!0}}let IA,o7,Kl,TA,a7,dd,O2,zf,Ol,eI,NA;function Q_(){if(IA)return;let t=Wk(Whe);const e=()=>cg(t),r=()=>new Set(e()),n=(u,f)=>f.forEach(d=>u.add(d));IA=new Map(Gk(t)),o7=r(),Kl=e(),TA=new Set(e().map(u=>Kl[u])),Kl=new Set(Kl),a7=r(),r();let s=Kk(t),i=t();const o=()=>{let u=new Set;return e().forEach(f=>n(u,s[f])),n(u,e()),u};dd=lg(u=>{let f=lg(t).map(d=>d+96);if(f.length){let d=u>=i;f[0]-=32,f=Th(f),d&&(f=`Restricted[${f}]`);let h=o(),p=o(),g=!t();return{N:f,P:h,Q:p,M:g,R:d}}}),O2=r(),zf=new Map;let a=e().concat(Pb(O2)).sort((u,f)=>u-f);a.forEach((u,f)=>{let d=t(),h=a[f]=d?a[f-d]:{V:[],M:new Map};h.V.push(u),O2.has(u)||zf.set(u,h)});for(let{V:u,M:f}of new Set(zf.values())){let d=[];for(let p of u){let g=dd.filter(E=>fg(E,p)),y=d.find(({G:E})=>g.some(C=>E.has(C)));y||(y={G:new Set,V:[]},d.push(y)),y.V.push(p),n(y.G,g)}let h=d.flatMap(p=>Pb(p.G));for(let{G:p,V:g}of d){let y=new Set(h.filter(E=>!p.has(E)));for(let E of g)f.set(E,y)}}Ol=new Set;let c=new Set;const l=u=>Ol.has(u)?c.add(u):Ol.add(u);for(let u of dd){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of Ol)!zf.has(u)&&!c.has(u)&&zf.set(u,i7);n(Ol,r7(Ol)),eI=epe(t).map(u=>ppe.from(u)).sort(npe),NA=new Map;for(let u of eI){let f=[NA];for(let d of u){let h=f.map(p=>{let g=p.get(d);return g||(g=new Map,p.set(d,g)),g});d===s7?f.push(...h):f=h}for(let d of f)d.V=u}}function Z_(t){return(c7(t)?"":`${X_(Hw([t]))} `)+Yk(t)}function X_(t){return`"${t}"‎`}function gpe(t){if(t.length>=4&&t[2]==X5&&t[3]==X5)throw new Error(`invalid label extension: "${Th(t.slice(0,4))}"`)}function mpe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function ype(t){let e=t[0],r=Y5.get(e);if(r)throw s0(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let o=Y5.get(e);if(o){if(s==i)throw s0(`${r} + ${o}`);s=i+1,r=o}}if(s==n)throw s0(`trailing ${r}`)}function Hw(t,e=1/0,r=Yk){let n=[];bpe(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];c7(a)&&(n.push(Th(t.slice(s,o))),n.push(r(a)),s=o+1)}return n.push(Th(t.slice(s,i))),n.join("")}function bpe(t){return Q_(),Kl.has(t)}function c7(t){return Q_(),a7.has(t)}function wpe(t){return _pe(vpe(t,hpe,xpe))}function vpe(t,e,r){if(!t)return[];Q_();let n=0;return t.split(n7).map(s=>{let i=rpe(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=Spe(i,e,r),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(mpe(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(d=>d<128))gpe(u),l="ASCII";else{let d=a.flatMap(h=>h.is_emoji?[]:h);if(!d.length)l="Emoji";else{if(Kl.has(u[0]))throw s0("leading combining mark");for(let g=1;g<c;g++){let y=a[g];if(!y.is_emoji&&Kl.has(y[0]))throw s0(`emoji + combining mark: "${Th(a[g-1])} + ${Hw([y[0]])}"`)}ype(u);let h=Pb(new Set(d)),[p]=Ape(h);Cpe(p,d),Epe(p,h),l=p.N}}o.type=l}catch(a){o.error=a}return o})}function Epe(t,e){let r,n=[];for(let s of e){let i=zf.get(s);if(i===i7)return;if(i){let o=i.M.get(s);if(r=r?r.filter(a=>o.has(a)):Pb(o),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>fg(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function Ape(t){let e=dd;for(let r of t){let n=e.filter(s=>fg(s,r));if(!n.length)throw dd.some(s=>fg(s,r))?u7(e[0],r):l7(r);if(e=n,n.length==1)break}return e}function _pe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${X_(Hw(e,63))}: ${s}`)}return Th(n)}).join(n7)}function l7(t){return new Error(`disallowed character: ${Z_(t)}`)}function u7(t,e){let r=Z_(e),n=dd.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function s0(t){return new Error(`illegal placement: ${t}`)}function Cpe(t,e){for(let r of e)if(!fg(t,r))throw u7(t,r);if(t.M){let r=r7(e);for(let n=1,s=r.length;n<s;n++)if(TA.has(r[n])){let i=n+1;for(let o;i<s&&TA.has(o=r[i]);i++)for(let a=n;a<i;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${Z_(o)}`);if(i-n>Q5)throw new Error(`excessive non-spacing marks: ${X_(Hw(r.slice(n-1,i)))} (${i-n}/${Q5})`);n=i}}}function Spe(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=Ipe(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let o=t.pop();if(Ol.has(o))s.push(o);else{let a=IA.get(o);if(a)s.push(...a);else if(!o7.has(o))throw l7(o)}}}return s.length&&n.push(e(s)),n}function xpe(t){return t.filter(e=>e!=s7)}function Ipe(t,e){let r=NA,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const f7=new Uint8Array(32);f7.fill(0);function tI(t){return te(t.length!==0,"invalid ENS name; empty component","comp",t),t}function d7(t){const e=Uo(Tpe(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(tI(e.slice(n,s))),n=s+1);return te(n<e.length,"invalid ENS name; empty component","name",t),r.push(tI(e.slice(n))),r}function Tpe(t){try{if(t.length===0)throw new Error("empty label");return wpe(t)}catch(e){te(!1,`invalid ENS name (${e.message})`,"name",t)}}function PA(t){te(typeof t=="string","invalid ENS name; not a string","name",t),te(t.length,"invalid ENS name (empty label)","name",t);let e=f7;const r=d7(t);for(;r.length;)e=tn(Dr([e,tn(r.pop())]));return He(e)}function Npe(t,e){const r=e;return te(r<=255,"DNS encoded label cannot exceed 255","length",r),He(Dr(d7(t).map(n=>{te(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function R2(t,e){return{address:or(t),storageKeys:e.map((r,n)=>(te(dr(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function cf(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(te(r.length===2,"invalid slot set",`value[${n}]`,r),R2(r[0],r[1])):(te(r!=null&&typeof r=="object","invalid address-slot set","value",t),R2(r.address,r.storageKeys)));te(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return R2(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Ppe(t){let e;return typeof t=="string"?e=ag.computePublicKey(t,!1):e=t.publicKey,or(tn("0x"+e.substring(4)).substring(26))}function Ope(t,e){return Ppe(ag.recoverPublicKey(t,e))}const hn=BigInt(0),Rpe=BigInt(2),kpe=BigInt(27),Dpe=BigInt(28),Mpe=BigInt(35),Bpe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),k2=4096*32;function rI(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=zh(e).substring(4),"0x"+r}function zw(t){return t==="0x"?null:or(t)}function eC(t,e){try{return cf(t)}catch(r){te(!1,r.message,e,t)}}function nm(t,e){return t==="0x"?0:mt(t,e)}function kr(t,e){if(t==="0x")return hn;const r=Ke(t,e);return te(r<=Bpe,"value exceeds uint size",e,r),r}function br(t,e){const r=Ke(t,"value"),n=is(r);return te(n.length<=32,"value too large",`tx.${e}`,r),n}function tC(t){return cf(t).map(e=>[e.address,e.storageKeys])}function Upe(t,e){te(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)te(dr(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function $pe(t){const e=$w(t);te(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:nm(e[0],"nonce"),gasPrice:kr(e[1],"gasPrice"),gasLimit:kr(e[2],"gasLimit"),to:zw(e[3]),value:kr(e[4],"value"),data:He(e[5]),chainId:hn};if(e.length===6)return r;const n=kr(e[6],"v"),s=kr(e[7],"r"),i=kr(e[8],"s");if(s===hn&&i===hn)r.chainId=n;else{let o=(n-Mpe)/Rpe;o<hn&&(o=hn),r.chainId=o,te(o!==hn||n===kpe||n===Dpe,"non-canonical legacy v","v",e[6]),r.signature=Xi.from({r:Hu(e[7],32),s:Hu(e[8],32),v:n})}return r}function Lpe(t,e){const r=[br(t.nonce,"nonce"),br(t.gasPrice||0,"gasPrice"),br(t.gasLimit,"gasLimit"),t.to||"0x",br(t.value,"value"),t.data];let n=hn;if(t.chainId!=hn)n=Ke(t.chainId,"tx.chainId"),te(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==hn&&(r.push(is(n)),r.push("0x"),r.push("0x")),zu(r);let s=BigInt(27+e.yParity);return n!==hn?s=Xi.getChainIdV(n,e.v):BigInt(e.v)!==s&&te(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(is(s)),r.push(is(e.r)),r.push(is(e.s)),zu(r)}function rC(t,e){let r;try{if(r=nm(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{te(!1,"invalid yParity","yParity",e[0])}const n=Hu(e[1],32),s=Hu(e[2],32),i=Xi.from({r:n,s,yParity:r});t.signature=i}function Fpe(t){const e=$w(Rt(t).slice(1));te(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",He(t));const r={type:2,chainId:kr(e[0],"chainId"),nonce:nm(e[1],"nonce"),maxPriorityFeePerGas:kr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kr(e[4],"gasLimit"),to:zw(e[5]),value:kr(e[6],"value"),data:He(e[7]),accessList:eC(e[8],"accessList")};return e.length===9||rC(r,e.slice(9)),r}function jpe(t,e){const r=[br(t.chainId,"chainId"),br(t.nonce,"nonce"),br(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),br(t.maxFeePerGas||0,"maxFeePerGas"),br(t.gasLimit,"gasLimit"),t.to||"0x",br(t.value,"value"),t.data,tC(t.accessList||[])];return e&&(r.push(br(e.yParity,"yParity")),r.push(is(e.r)),r.push(is(e.s))),Dr(["0x02",zu(r)])}function Hpe(t){const e=$w(Rt(t).slice(1));te(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",He(t));const r={type:1,chainId:kr(e[0],"chainId"),nonce:nm(e[1],"nonce"),gasPrice:kr(e[2],"gasPrice"),gasLimit:kr(e[3],"gasLimit"),to:zw(e[4]),value:kr(e[5],"value"),data:He(e[6]),accessList:eC(e[7],"accessList")};return e.length===8||rC(r,e.slice(8)),r}function zpe(t,e){const r=[br(t.chainId,"chainId"),br(t.nonce,"nonce"),br(t.gasPrice||0,"gasPrice"),br(t.gasLimit,"gasLimit"),t.to||"0x",br(t.value,"value"),t.data,tC(t.accessList||[])];return e&&(r.push(br(e.yParity,"recoveryParam")),r.push(is(e.r)),r.push(is(e.s))),Dr(["0x01",zu(r)])}function qpe(t){let e=$w(Rt(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const i=e[1],o=e[2],a=e[3];te(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),te(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),te(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),te(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),te(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}te(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",He(t));const s={type:3,chainId:kr(e[0],"chainId"),nonce:nm(e[1],"nonce"),maxPriorityFeePerGas:kr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kr(e[4],"gasLimit"),to:zw(e[5]),value:kr(e[6],"value"),data:He(e[7]),accessList:eC(e[8],"accessList"),maxFeePerBlobGas:kr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),te(s.to!=null,`invalid address for transaction type: ${r}`,"data",t),te(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)te(dr(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||rC(s,e.slice(11)),s}function Vpe(t,e,r){const n=[br(t.chainId,"chainId"),br(t.nonce,"nonce"),br(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),br(t.maxFeePerGas||0,"maxFeePerGas"),br(t.gasLimit,"gasLimit"),t.to||og,br(t.value,"value"),t.data,tC(t.accessList||[]),br(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Upe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(br(e.yParity,"yParity")),n.push(is(e.r)),n.push(is(e.s)),r)?Dr(["0x03",zu([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])]):Dr(["0x03",zu(n)])}var Eo,Id,Td,Nd,Pd,Od,Rd,kd,Dd,Md,Bd,Ud,au,_c,wa,Cc,$d,Sy;const ha=class ha{constructor(){ae(this,$d);ae(this,Eo);ae(this,Id);ae(this,Td);ae(this,Nd);ae(this,Pd);ae(this,Od);ae(this,Rd);ae(this,kd);ae(this,Dd);ae(this,Md);ae(this,Bd);ae(this,Ud);ae(this,au);ae(this,_c);ae(this,wa);ae(this,Cc);W(this,Eo,null),W(this,Id,null),W(this,Nd,0),W(this,Pd,hn),W(this,Od,null),W(this,Rd,null),W(this,kd,null),W(this,Td,"0x"),W(this,Dd,hn),W(this,Md,hn),W(this,Bd,null),W(this,Ud,null),W(this,au,null),W(this,_c,null),W(this,Cc,null),W(this,wa,null)}get type(){return M(this,Eo)}set type(e){switch(e){case null:W(this,Eo,null);break;case 0:case"legacy":W(this,Eo,0);break;case 1:case"berlin":case"eip-2930":W(this,Eo,1);break;case 2:case"london":case"eip-1559":W(this,Eo,2);break;case 3:case"cancun":case"eip-4844":W(this,Eo,3);break;default:te(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=M(this,Id);return e==null&&this.type===3?og:e}set to(e){W(this,Id,e==null?null:or(e))}get nonce(){return M(this,Nd)}set nonce(e){W(this,Nd,mt(e,"value"))}get gasLimit(){return M(this,Pd)}set gasLimit(e){W(this,Pd,Ke(e))}get gasPrice(){const e=M(this,Od);return e==null&&(this.type===0||this.type===1)?hn:e}set gasPrice(e){W(this,Od,e==null?null:Ke(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=M(this,Rd);return e??(this.type===2||this.type===3?hn:null)}set maxPriorityFeePerGas(e){W(this,Rd,e==null?null:Ke(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=M(this,kd);return e??(this.type===2||this.type===3?hn:null)}set maxFeePerGas(e){W(this,kd,e==null?null:Ke(e,"maxFeePerGas"))}get data(){return M(this,Td)}set data(e){W(this,Td,He(e))}get value(){return M(this,Dd)}set value(e){W(this,Dd,Ke(e,"value"))}get chainId(){return M(this,Md)}set chainId(e){W(this,Md,Ke(e))}get signature(){return M(this,Bd)||null}set signature(e){W(this,Bd,e==null?null:Xi.from(e))}get accessList(){const e=M(this,Ud)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){W(this,Ud,e==null?null:cf(e))}get maxFeePerBlobGas(){const e=M(this,au);return e==null&&this.type===3?hn:e}set maxFeePerBlobGas(e){W(this,au,e==null?null:Ke(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=M(this,_c);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){te(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)te(dr(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}W(this,_c,e)}get blobs(){return M(this,Cc)==null?null:M(this,Cc).map(e=>Object.assign({},e))}set blobs(e){if(e==null){W(this,Cc,null);return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(F_(i)){be(M(this,wa),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Rt(i);if(te(o.length<=k2,"blob is too large",`blobs[${s}]`,i),o.length!==k2){const l=new Uint8Array(k2);l.set(o),o=l}const a=M(this,wa).blobToKzgCommitment(o),c=He(M(this,wa).computeBlobKzgProof(o,a));r.push({data:He(o),commitment:He(a),proof:c}),n.push(rI(1,a))}else{const o=He(i.commitment);r.push({data:He(i.data),commitment:o,proof:He(i.proof)}),n.push(rI(1,o))}}W(this,Cc,r),W(this,_c,n)}get kzg(){return M(this,wa)}set kzg(e){W(this,wa,e)}get hash(){return this.signature==null?null:tn(_e(this,$d,Sy).call(this,!0,!1))}get unsignedHash(){return tn(this.unsignedSerialized)}get from(){return this.signature==null?null:Ope(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:ag.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return _e(this,$d,Sy).call(this,!0,!0)}get unsignedSerialized(){return _e(this,$d,Sy).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=M(this,au)!=null||M(this,_c);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&be(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),be(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),be(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ha.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ha;if(typeof e=="string"){const n=Rt(e);if(n[0]>=127)return ha.from($pe(n));switch(n[0]){case 1:return ha.from(Hpe(n));case 2:return ha.from(Fpe(n));case 3:return ha.from(qpe(n))}be(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new ha;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Xi.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(te(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),te(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(te(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),te(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};Eo=new WeakMap,Id=new WeakMap,Td=new WeakMap,Nd=new WeakMap,Pd=new WeakMap,Od=new WeakMap,Rd=new WeakMap,kd=new WeakMap,Dd=new WeakMap,Md=new WeakMap,Bd=new WeakMap,Ud=new WeakMap,au=new WeakMap,_c=new WeakMap,wa=new WeakMap,Cc=new WeakMap,$d=new WeakSet,Sy=function(e,r){be(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return Lpe(this,n);case 1:return zpe(this,n);case 2:return jpe(this,n);case 3:return Vpe(this,n,r?this.blobs:null)}be(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Ob=ha;const h7=new Uint8Array(32);h7.fill(0);const Wpe=BigInt(-1),p7=BigInt(0),g7=BigInt(1),Kpe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Gpe(t){const e=Rt(t),r=e.length%32;return r?Dr([e,h7.slice(r)]):He(e)}const Jpe=nl(g7,32),Ype=nl(p7,32),nI={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},D2=["name","version","chainId","verifyingContract","salt"];function sI(t){return function(e){return te(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Qpe={name:sI("name"),version:sI("version"),chainId:function(t){const e=Ke(t,"domain.chainId");return te(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Yf(e)},verifyingContract:function(t){try{return or(t).toLowerCase()}catch{}te(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Rt(t,"domain.salt");return te(e.length===32,'invalid domain value "salt"',"domain.salt",t),He(e)}};function M2(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);te(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=Vl(Kpe,r?n-1:n),i=r?(s+g7)*Wpe:p7;return function(o){const a=Ke(o,"value");return te(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),nl(r?tk(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return te(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=Rt(n);return te(s.length===r,`invalid length for ${t}`,"value",n),Gpe(n)}}}switch(t){case"address":return function(e){return Hu(or(e),32)};case"bool":return function(e){return e?Jpe:Ype};case"bytes":return function(e){return tn(e)};case"string":return function(e){return qu(e)}}return null}function iI(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function Zm(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Eg,va,Ld,Fb,m7;const ai=class ai{constructor(e){ae(this,Fb);ne(this,"primaryType");ae(this,Eg);ae(this,va);ae(this,Ld);W(this,va,new Map),W(this,Ld,new Map);const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:d}=Zm(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(d||"")}}),r.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),W(this,Eg,JSON.stringify(i));for(const c in i){const l=new Set;for(const u of i[c]){te(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const f=Zm(u.type).base;te(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!M2(f)&&(te(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),r.get(c).add(f))}}const o=Array.from(n.keys()).filter(c=>n.get(c).length===0);te(o.length!==0,"missing primary type","types",e),te(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Xe(this,{primaryType:o[0]});function a(c,l){te(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of r.get(c))if(n.has(u)){a(u,l);for(const f of l)s.get(f).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),M(this,va).set(c,iI(c,i[c])+u.map(f=>iI(f,i[f])).join(""))}}get types(){return JSON.parse(M(this,Eg))}getEncoder(e){let r=M(this,Ld).get(e);return r||(r=_e(this,Fb,m7).call(this,e),M(this,Ld).set(e,r)),r}encodeType(e){const r=M(this,va).get(e);return te(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return tn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(M2(e))return n(e,r);const s=Zm(e).array;if(s)return te(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(o=>this._visit(s.prefix,o,n));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{});te(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new ai(e)}static getPrimaryType(e){return ai.from(e).primaryType}static hashStruct(e,r,n){return ai.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=nI[n];te(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>D2.indexOf(n.name)-D2.indexOf(s.name)),ai.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Dr(["0x1901",ai.hashDomain(e),ai.from(r).hash(n)])}static hash(e,r,n){return tn(ai.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!dr(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=ai.from(r);o.visit(n,(a,c)=>(a==="address"&&!dr(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){ai.hashDomain(e);const s={},i=[];D2.forEach(c=>{const l=e[c];l!=null&&(s[c]=Qpe[c](l),i.push({name:c,type:nI[c]}))});const o=ai.from(r);r=o.types;const a=Object.assign({},r);return te(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return He(Rt(l));if(c.match(/^u?int/))return Ke(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return te(typeof l=="string","invalid string","value",l),l}te(!1,"unsupported type","type",c)})}}};Eg=new WeakMap,va=new WeakMap,Ld=new WeakMap,Fb=new WeakSet,m7=function(e){{const s=M2(e);if(s)return s}const r=Zm(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return o=>{te(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(i);return M(this,va).has(s)&&(a=a.map(tn)),tn(Dr(a))}}const n=this.types[e];if(n){const s=qu(M(this,va).get(e));return i=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(i[a]);return M(this,va).has(c)?tn(l):l});return o.unshift(s),Dr(o)}}te(!1,`unknown type: ${e}`,"type",e)};let Rb=ai;function cs(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const Zpe="external public payable override",Xpe=cs(Zpe.split(" ")),y7="constant external internal payable private public pure view override",e0e=cs(y7.split(" ")),b7="constructor error event fallback function receive struct",w7=cs(b7.split(" ")),v7="calldata memory storage payable indexed",t0e=cs(v7.split(" ")),r0e="tuple returns",n0e=[b7,v7,r0e,y7].join(" "),s0e=cs(n0e.split(" ")),i0e={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},o0e=new RegExp("^(\\s*)"),a0e=new RegExp("^([0-9]+)"),c0e=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),E7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),A7=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Sn,ji,Ag,OA;const jb=class jb{constructor(e){ae(this,Ag);ae(this,Sn);ae(this,ji);W(this,Sn,0),W(this,ji,e.slice())}get offset(){return M(this,Sn)}get length(){return M(this,ji).length-M(this,Sn)}clone(){return new jb(M(this,ji))}reset(){W(this,Sn,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=_e(this,Ag,OA).call(this,M(this,Sn)+1,e.match+1);return W(this,Sn,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;M(this,Sn)<e.match-1;){const n=this.peek().linkNext;r.push(_e(this,Ag,OA).call(this,M(this,Sn)+1,n)),W(this,Sn,n)}return W(this,Sn,e.match+1),r}peek(){if(M(this,Sn)>=M(this,ji).length)throw new Error("out-of-bounds");return M(this,ji)[M(this,Sn)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Wh(this,Sn)._++,e}toString(){const e=[];for(let r=M(this,Sn);r<M(this,ji).length;r++){const n=M(this,ji)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};Sn=new WeakMap,ji=new WeakMap,Ag=new WeakSet,OA=function(e=0,r=0){return new jb(M(this,ji).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let eo=jb;function hl(t){const e=[],r=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let n=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(o0e);a&&(i+=a[1].length,o=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=i0e[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=mt(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(c0e),a){if(c.text=a[1],i+=c.text.length,s0e.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(A7)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(a0e),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new eo(e.map(o=>Object.freeze(o)))}function oI(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function qw(t,e){if(e.peekKeyword(w7)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function qa(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function _7(t){let e=qa(t,e0e);return oI(e,cs("constant payable nonpayable".split(" "))),oI(e,cs("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function $a(t,e){return t.popParams().map(r=>Pn.from(r,e))}function C7(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ke(t.pop().text);throw new Error("invalid gas")}return null}function Vu(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const l0e=new RegExp(/^(.*)\[([0-9]*)\]$/);function aI(t){const e=t.match(A7);if(te(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);te(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);te(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const _r={},Ns=Symbol.for("_ethers_internal"),cI="_ParamTypeInternal",lI="_ErrorInternal",uI="_EventInternal",fI="_ConstructorInternal",dI="_FallbackInternal",hI="_FunctionInternal",pI="_StructInternal";var Fd,xy;const ci=class ci{constructor(e,r,n,s,i,o,a,c){ae(this,Fd);ne(this,"name");ne(this,"type");ne(this,"baseType");ne(this,"indexed");ne(this,"components");ne(this,"arrayLength");ne(this,"arrayChildren");if(tm(e,_r,"ParamType"),Object.defineProperty(this,Ns,{value:cI}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Xe(this,{name:r,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],s=[e];return _e(this,Fd,xy).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(ci.isParamType(e))return e;if(typeof e=="string")try{return ci.from(hl(e),r)}catch{te(!1,"invalid param type","obj",e)}else if(e instanceof eo){let a="",c="",l=null;qa(e,cs(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(g=>ci.from(g)),a=`tuple(${l.map(g=>g.format()).join(",")})`):(a=aI(e.popType("TYPE")),c=a);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();u=new ci(_r,"",a,c,null,l,f,u),f=g.value,a+=g.text,c="array",l=null}let d=null;if(qa(e,t0e).has("indexed")){if(!r)throw new Error("");d=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new ci(_r,p,a,c,d,l,f,u)}const n=e.name;te(!n||typeof n=="string"&&n.match(E7),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(te(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(l0e);if(o){const a=parseInt(o[2]||"-1"),c=ci.from({type:o[1],components:e.components});return new ci(_r,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(l=>ci.from(l)):null;return new ci(_r,n||"",i,"tuple",s,a,null,null)}return i=aI(e.type),new ci(_r,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Ns]===cI}};Fd=new WeakSet,xy=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=r.slice();a.forEach((c,l)=>{var u;_e(u=o,Fd,xy).call(u,e,c,n,f=>{a[l]=f})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var u;_e(u=o[l],Fd,xy).call(u,e,c,n,f=>{a[l]=f})}),s(a);return}const i=n(this.type,r);i.then?e.push(async function(){s(await i)}()):s(i)};let Pn=ci;class Wu{constructor(e,r,n){ne(this,"type");ne(this,"inputs");tm(e,_r,"Fragment"),n=Object.freeze(n.slice()),Xe(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{Wu.from(JSON.parse(e))}catch{}return Wu.from(hl(e))}if(e instanceof eo)switch(e.peekKeyword(w7)){case"constructor":return Ra.from(e);case"error":return Cs.from(e);case"event":return ko.from(e);case"fallback":case"receive":return pa.from(e);case"function":return Do.from(e);case"struct":return xu.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ra.from(e);case"error":return Cs.from(e);case"event":return ko.from(e);case"fallback":case"receive":return pa.from(e);case"function":return Do.from(e);case"struct":return xu.from(e)}be(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}te(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ra.isFragment(e)}static isError(e){return Cs.isFragment(e)}static isEvent(e){return ko.isFragment(e)}static isFunction(e){return Do.isFragment(e)}static isStruct(e){return xu.isFragment(e)}}class Vw extends Wu{constructor(r,n,s,i){super(r,n,i);ne(this,"name");te(typeof s=="string"&&s.match(E7),"invalid identifier","name",s),i=Object.freeze(i.slice()),Xe(this,{name:s})}}function dg(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Cs extends Vw{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Ns,{value:lI})}get selector(){return qu(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+dg(e,this.inputs)),r.join(" ")}static from(e){if(Cs.isFragment(e))return e;if(typeof e=="string")return Cs.from(hl(e));if(e instanceof eo){const r=qw("error",e),n=$a(e);return Vu(e),new Cs(_r,r,n)}return new Cs(_r,e.name,e.inputs?e.inputs.map(Pn.from):[])}static isFragment(e){return e&&e[Ns]===lI}}class ko extends Vw{constructor(r,n,s,i){super(r,"event",n,s);ne(this,"anonymous");Object.defineProperty(this,Ns,{value:uI}),Xe(this,{anonymous:i})}get topicHash(){return qu(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+dg(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>Pn.from(i)),new ko(_r,r,n,!1).topicHash}static from(r){if(ko.isFragment(r))return r;if(typeof r=="string")try{return ko.from(hl(r))}catch{te(!1,"invalid event fragment","obj",r)}else if(r instanceof eo){const n=qw("event",r),s=$a(r,!0),i=!!qa(r,cs(["anonymous"])).has("anonymous");return Vu(r),new ko(_r,n,s,i)}return new ko(_r,r.name,r.inputs?r.inputs.map(n=>Pn.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Ns]===uI}}class Ra extends Wu{constructor(r,n,s,i,o){super(r,n,s);ne(this,"payable");ne(this,"gas");Object.defineProperty(this,Ns,{value:fI}),Xe(this,{payable:i,gas:o})}format(r){if(be(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[`constructor${dg(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Ra.isFragment(r))return r;if(typeof r=="string")try{return Ra.from(hl(r))}catch{te(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof eo){qa(r,cs(["constructor"]));const n=$a(r),s=!!qa(r,Xpe).has("payable"),i=C7(r);return Vu(r),new Ra(_r,"constructor",n,s,i)}return new Ra(_r,"constructor",r.inputs?r.inputs.map(Pn.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Ns]===fI}}class pa extends Wu{constructor(r,n,s){super(r,"fallback",n);ne(this,"payable");Object.defineProperty(this,Ns,{value:dI}),Xe(this,{payable:s})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(pa.isFragment(r))return r;if(typeof r=="string")try{return pa.from(hl(r))}catch{te(!1,"invalid fallback fragment","obj",r)}else if(r instanceof eo){const n=r.toString(),s=r.peekKeyword(cs(["fallback","receive"]));if(te(s,"type must be fallback or receive","obj",n),r.popKeyword(cs(["fallback","receive"]))==="receive"){const c=$a(r);return te(c.length===0,"receive cannot have arguments","obj.inputs",c),qa(r,cs(["payable"])),Vu(r),new pa(_r,[],!0)}let o=$a(r);o.length?te(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Pn.from("bytes")];const a=_7(r);if(te(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),qa(r,cs(["returns"])).has("returns")){const c=$a(r);te(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return Vu(r),new pa(_r,o,a==="payable")}if(r.type==="receive")return new pa(_r,[],!0);if(r.type==="fallback"){const n=[Pn.from("bytes")],s=r.stateMutability==="payable";return new pa(_r,n,s)}te(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Ns]===dI}}class Do extends Vw{constructor(r,n,s,i,o,a){super(r,"function",n,i);ne(this,"constant");ne(this,"outputs");ne(this,"stateMutability");ne(this,"payable");ne(this,"gas");Object.defineProperty(this,Ns,{value:hI}),o=Object.freeze(o.slice()),Xe(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return qu(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+dg(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(dg(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>Pn.from(i)),new Do(_r,r,"view",n,[],null).selector}static from(r){if(Do.isFragment(r))return r;if(typeof r=="string")try{return Do.from(hl(r))}catch{te(!1,"invalid function fragment","obj",r)}else if(r instanceof eo){const s=qw("function",r),i=$a(r),o=_7(r);let a=[];qa(r,cs(["returns"])).has("returns")&&(a=$a(r));const c=C7(r);return Vu(r),new Do(_r,s,o,i,a,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new Do(_r,r.name,n,r.inputs?r.inputs.map(Pn.from):[],r.outputs?r.outputs.map(Pn.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Ns]===hI}}class xu extends Vw{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Ns,{value:pI})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return xu.from(hl(e))}catch{te(!1,"invalid struct fragment","obj",e)}else if(e instanceof eo){const r=qw("struct",e),n=$a(e);return Vu(e),new xu(_r,r,n)}return new xu(_r,e.name,e.inputs?e.inputs.map(Pn.from):[])}static isFragment(e){return e&&e[Ns]===pI}}const so=new Map;so.set(0,"GENERIC_PANIC");so.set(1,"ASSERT_FALSE");so.set(17,"OVERFLOW");so.set(18,"DIVIDE_BY_ZERO");so.set(33,"ENUM_RANGE_ERROR");so.set(34,"BAD_STORAGE_DATA");so.set(49,"STACK_UNDERFLOW");so.set(50,"ARRAY_RANGE_ERROR");so.set(65,"OUT_OF_MEMORY");so.set(81,"UNINITIALIZED_FUNCTION_CALL");const u0e=new RegExp(/^bytes([0-9]*)$/),f0e=new RegExp(/^(u?int)([0-9]*)$/);let B2=null,gI=1024;function d0e(t,e,r,n){let s="missing revert data",i=null;const o=null;let a=null;if(r){s="execution reverted";const l=Rt(r);if(r=He(r),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(He(l.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(He(l.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${so.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?or(e.to):null,data:e.data||"0x"};return e.from&&(c.from=or(e.from)),wr(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:o,revert:a})}var Sc,qf;const Hb=class Hb{constructor(){ae(this,Sc)}getDefaultValue(e){const r=e.map(s=>_e(this,Sc,qf).call(this,Pn.from(s)));return new Qm(r,"_").defaultValue()}encode(e,r){Z9(r.length,e.length,"types/values length mismatch");const n=e.map(o=>_e(this,Sc,qf).call(this,Pn.from(o))),s=new Qm(n,"_"),i=new yA;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(o=>_e(this,Sc,qf).call(this,Pn.from(o)));return new Qm(s,"_").decode(new bA(r,n,gI))}static _setDefaultMaxInflation(e){te(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),gI=e}static defaultAbiCoder(){return B2==null&&(B2=new Hb),B2}static getBuiltinCallException(e,r,n){return d0e(e,r,n,Hb.defaultAbiCoder())}};Sc=new WeakSet,qf=function(e){if(e.isArray())return new Mhe(_e(this,Sc,qf).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Qm(e.components.map(n=>_e(this,Sc,qf).call(this,n)),e.name);switch(e.baseType){case"address":return new khe(e.name);case"bool":return new Bhe(e.name);case"string":return new Vhe(e.name);case"bytes":return new Uhe(e.name);case"":return new Fhe(e.name)}let r=e.type.match(f0e);if(r){let n=parseInt(r[2]||"256");return te(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new qhe(n/8,r[1]==="int",e.name)}if(r=e.type.match(u0e),r){let n=parseInt(r[1]);return te(n!==0&&n<=32,"invalid bytes length","param",e),new $he(n,e.name)}te(!1,"invalid type","type",e.type)};let hg=Hb;class h0e{constructor(e,r,n){ne(this,"fragment");ne(this,"name");ne(this,"signature");ne(this,"topic");ne(this,"args");const s=e.name,i=e.format();Xe(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class p0e{constructor(e,r,n,s){ne(this,"fragment");ne(this,"name");ne(this,"args");ne(this,"signature");ne(this,"selector");ne(this,"value");const i=e.name,o=e.format();Xe(this,{fragment:e,name:i,args:n,signature:o,selector:r,value:s})}}class g0e{constructor(e,r,n){ne(this,"fragment");ne(this,"name");ne(this,"args");ne(this,"signature");ne(this,"selector");const s=e.name,i=e.format();Xe(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class mI{constructor(e){ne(this,"hash");ne(this,"_isIndexed");Xe(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const yI={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},bI={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&yI[t.toString()]&&(e=yI[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ao,_o,Co,Bn,$o,Iy,Ty;const Ll=class Ll{constructor(e){ae(this,$o);ne(this,"fragments");ne(this,"deploy");ne(this,"fallback");ne(this,"receive");ae(this,Ao);ae(this,_o);ae(this,Co);ae(this,Bn);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,W(this,Co,new Map),W(this,Ao,new Map),W(this,_o,new Map);const n=[];for(const o of r)try{n.push(Wu.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Xe(this,{fragments:Object.freeze(n)});let s=null,i=!1;W(this,Bn,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Xe(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(te(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=M(this,Co);break;case"event":c=M(this,_o);break;case"error":c=M(this,Ao);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||Xe(this,{deploy:Ra.from("constructor()")}),Xe(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return hg.defaultAbiCoder()}getFunctionName(e){const r=_e(this,$o,Iy).call(this,e,null,!1);return te(r,"no matching function","key",e),r.name}hasFunction(e){return!!_e(this,$o,Iy).call(this,e,null,!1)}getFunction(e,r){return _e(this,$o,Iy).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(M(this,Co).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(M(this,Co).get(s),n)}}getEventName(e){const r=_e(this,$o,Ty).call(this,e,null,!1);return te(r,"no matching event","key",e),r.name}hasEvent(e){return!!_e(this,$o,Ty).call(this,e,null,!1)}getEvent(e,r){return _e(this,$o,Ty).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(M(this,_o).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(M(this,_o).get(s),n)}}getError(e,r){if(dr(e)){const s=e.toLowerCase();if(bI[s])return Cs.from(bI[s].signature);for(const i of M(this,Ao).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of M(this,Ao))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Cs.from("error Error(string)"):e==="Panic"?Cs.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");te(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Cs.from(e).format(),e==="Error(string)")return Cs.from("error Error(string)");if(e==="Panic(uint256)")return Cs.from("error Panic(uint256)");const n=M(this,Ao).get(e);return n||null}forEachError(e){const r=Array.from(M(this,Ao).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(M(this,Ao).get(s),n)}}_decodeParams(e,r){return M(this,Bn).decode(e,r)}_encodeParams(e,r){return M(this,Bn).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);te(n,"unknown error","fragment",e),e=n}return te(xr(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,xr(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);te(n,"unknown error","fragment",e),e=n}return Dr([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);te(n,"unknown function","fragment",e),e=n}return te(xr(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,xr(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);te(n,"unknown function","fragment",e),e=n}return Dr([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);te(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=ss(r);if(s.length%32===0)try{return M(this,Bn).decode(e.outputs,s)}catch{n="could not decode result data"}be(!1,n,"BAD_DATA",{value:He(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=Rt(e,"data"),s=hg.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=He(n.slice(0,4)),c=this.getError(a);if(c)try{const l=M(this,Bn).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);te(n,"unknown function","fragment",e),e=n}return He(M(this,Bn).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);te(i,"unknown event","eventFragment",e),e=i}be(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,o)=>i.type==="string"?qu(o):i.type==="bytes"?tn(He(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=nl(o):i.type.match(/^bytes/)?o=Ufe(o,32):i.type==="address"&&M(this,Bn).encode(["address"],[o]),Hu(He(o),32));for(r.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){te(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?te(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);te(o,"unknown event","eventFragment",e),e=o}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),te(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(qu(c));else if(o.type==="bytes")n.push(tn(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(M(this,Bn).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:M(this,Bn).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const h=this.getEvent(e);te(h,"unknown event","eventFragment",e),e=h}if(n!=null&&!e.anonymous){const h=e.topicHash;te(dr(n[0],32)&&n[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(s.push(Pn.from({type:"bytes32",name:h.name})),o.push(!0)):(s.push(h),o.push(!1)):(i.push(h),o.push(!1))});const a=n!=null?M(this,Bn).decode(s,Dr(n)):null,c=M(this,Bn).decode(i,r,!0),l=[],u=[];let f=0,d=0;return e.inputs.forEach((h,p)=>{let g=null;if(h.indexed)if(a==null)g=new mI(null);else if(o[p])g=new mI(a[d++]);else try{g=a[d++]}catch(y){g=y}else try{g=c[f++]}catch(y){g=y}l.push(g),u.push(h.name||null)}),_h.fromItems(l,u)}parseTransaction(e){const r=Rt(e.data,"tx.data"),n=Ke(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(He(r.slice(0,4)));if(!s)return null;const i=M(this,Bn).decode(s.inputs,r.slice(4));return new p0e(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new h0e(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=He(e),n=this.getError(xr(r,0,4));if(!n)return null;const s=M(this,Bn).decode(n.inputs,xr(r,4));return new g0e(n,n.selector,s)}static from(e){return e instanceof Ll?e:typeof e=="string"?new Ll(JSON.parse(e)):typeof e.formatJson=="function"?new Ll(e.formatJson()):typeof e.format=="function"?new Ll(e.format("json")):new Ll(e)}};Ao=new WeakMap,_o=new WeakMap,Co=new WeakMap,Bn=new WeakMap,$o=new WeakSet,Iy=function(e,r,n){if(dr(e)){const i=e.toLowerCase();for(const o of M(this,Co).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of M(this,Co))o.split("(")[0]===e&&i.push(a);if(r){const o=r.length>0?r[r.length-1]:null;let a=r.length,c=!0;Wn.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){const u=i[l].inputs.length;u!==a&&(!c||u!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const u=i[l].inputs;for(let f=0;f<r.length;f++)if(Wn.isTyped(r[f])){if(f>=u.length){if(r[f].type==="overrides")continue;i.splice(l,1);break}if(r[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");te(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=M(this,Co).get(Do.from(e).format());return s||null},Ty=function(e,r,n){if(dr(e)){const i=e.toLowerCase();for(const o of M(this,_o).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of M(this,_o))o.split("(")[0]===e&&i.push(a);if(r){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<r.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<r.length;c++)if(Wn.isTyped(r[c])&&r[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");te(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=M(this,_o).get(ko.from(e).format());return s||null};let RA=Ll;const S7=BigInt(0);function hd(t){return t??null}function Pr(t){return t==null?null:t.toString()}class wI{constructor(e,r,n){ne(this,"gasPrice");ne(this,"maxFeePerGas");ne(this,"maxPriorityFeePerGas");Xe(this,{gasPrice:hd(e),maxFeePerGas:hd(r),maxPriorityFeePerGas:hd(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Pr(e),maxFeePerGas:Pr(r),maxPriorityFeePerGas:Pr(n)}}}function kb(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=He(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=Ke(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=mt(t[s],`request.${s}`));return t.accessList&&(e.accessList=cf(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>F_(s)?He(s):Object.assign({},s))),e}var Ea;class m0e{constructor(e,r){ne(this,"provider");ne(this,"number");ne(this,"hash");ne(this,"timestamp");ne(this,"parentHash");ne(this,"parentBeaconBlockRoot");ne(this,"nonce");ne(this,"difficulty");ne(this,"gasLimit");ne(this,"gasUsed");ne(this,"stateRoot");ne(this,"receiptsRoot");ne(this,"blobGasUsed");ne(this,"excessBlobGas");ne(this,"miner");ne(this,"prevRandao");ne(this,"extraData");ne(this,"baseFeePerGas");ae(this,Ea);W(this,Ea,e.transactions.map(n=>typeof n!="string"?new pg(n,r):n)),Xe(this,{provider:r,hash:hd(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:hd(e.prevRandao),extraData:e.extraData,baseFeePerGas:hd(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return M(this,Ea).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=M(this,Ea).slice();return e.length===0?[]:(be(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,timestamp:g,transactions:y}=this;return{_type:"Block",baseFeePerGas:Pr(e),difficulty:Pr(r),extraData:n,gasLimit:Pr(s),gasUsed:Pr(i),blobGasUsed:Pr(this.blobGasUsed),excessBlobGas:Pr(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:g,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,transactions:y}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return M(this,Ea).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=M(this,Ea)[e];else{const n=e.toLowerCase();for(const s of M(this,Ea))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash!==n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;te(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return y0e(this)}}Ea=new WeakMap;class sm{constructor(e,r){ne(this,"provider");ne(this,"transactionHash");ne(this,"blockHash");ne(this,"blockNumber");ne(this,"removed");ne(this,"address");ne(this,"data");ne(this,"topics");ne(this,"index");ne(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());Xe(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return be(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return be(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return be(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return b0e(this)}}var _g;class x7{constructor(e,r){ne(this,"provider");ne(this,"to");ne(this,"from");ne(this,"contractAddress");ne(this,"hash");ne(this,"index");ne(this,"blockHash");ne(this,"blockNumber");ne(this,"logsBloom");ne(this,"gasUsed");ne(this,"blobGasUsed");ne(this,"cumulativeGasUsed");ne(this,"gasPrice");ne(this,"blobGasPrice");ne(this,"type");ne(this,"status");ne(this,"root");ae(this,_g);W(this,_g,Object.freeze(e.logs.map(s=>new sm(s,r))));let n=S7;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Xe(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return M(this,_g)}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Pr(this.cumulativeGasUsed),from:r,gasPrice:Pr(this.gasPrice),blobGasUsed:Pr(this.blobGasUsed),blobGasPrice:Pr(this.blobGasPrice),gasUsed:Pr(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return T7(this)}reorderedEvent(e){return be(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),I7(this,e)}}_g=new WeakMap;var xc;const CC=class CC{constructor(e,r){ne(this,"provider");ne(this,"blockNumber");ne(this,"blockHash");ne(this,"index");ne(this,"hash");ne(this,"type");ne(this,"to");ne(this,"from");ne(this,"nonce");ne(this,"gasLimit");ne(this,"gasPrice");ne(this,"maxPriorityFeePerGas");ne(this,"maxFeePerGas");ne(this,"maxFeePerBlobGas");ne(this,"data");ne(this,"value");ne(this,"chainId");ne(this,"signature");ne(this,"accessList");ne(this,"blobVersionedHashes");ae(this,xc);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,W(this,xc,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:d,chainId:Pr(this.chainId),data:l,from:a,gasLimit:Pr(this.gasLimit),gasPrice:Pr(this.gasPrice),hash:s,maxFeePerGas:Pr(this.maxFeePerGas),maxPriorityFeePerGas:Pr(this.maxPriorityFeePerGas),maxFeePerBlobGas:Pr(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:n,type:i,value:Pr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await rs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=M(this,xc),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:d,nonce:h}=await rs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){i=d;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(o===-1&&(o=i-3,o<M(this,xc)&&(o=M(this,xc)));o<=d;){if(a)return null;const g=await this.provider.getBlock(o,!0);if(g==null)return;for(const y of g)if(y===this.hash)return;for(let y=0;y<g.length;y++){const E=await g.getTransaction(y);if(E.from===this.from&&E.nonce===this.nonce){if(a)return null;const C=await this.provider.getTransactionReceipt(E.hash);if(C==null||d-C.blockNumber+1<n)return;let I="replaced";E.data===this.data&&E.to===this.to&&E.value===this.value?I="repriced":E.data==="0x"&&E.from===E.to&&E.value===S7&&(I="cancelled"),be(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:I==="replaced"||I==="cancelled",reason:I,replacement:E.replaceableTransaction(i),hash:E.hash,receipt:C})}}o++}},l=d=>{if(d==null||d.status!==0)return d;be(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((d,h)=>{const p=[],g=()=>{p.forEach(E=>E())};if(p.push(()=>{a=!0}),s>0){const E=setTimeout(()=>{g(),h(wr("wait for transaction timeout","TIMEOUT"))},s);p.push(()=>{clearTimeout(E)})}const y=async E=>{if(await E.confirmations()>=n){g();try{d(l(E))}catch(C){h(C)}}};if(p.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),i>=0){const E=async()=>{try{await c()}catch(C){if(Tn(C,"TRANSACTION_REPLACED")){g(),h(C);return}}a||this.provider.once("block",E)};p.push(()=>{this.provider.off("block",E)}),this.provider.once("block",E)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return be(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),T7(this)}reorderedEvent(e){return be(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),be(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),I7(this,e)}replaceableTransaction(e){te(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new CC(this,this.provider);return W(r,xc,e),r}};xc=new WeakMap;let pg=CC;function y0e(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function I7(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function T7(t){return{orphan:"drop-transaction",tx:t}}function b0e(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class nC extends sm{constructor(r,n,s){super(r,r.provider);ne(this,"interface");ne(this,"fragment");ne(this,"args");const i=n.decodeEventLog(s,r.data,r.topics);Xe(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class N7 extends sm{constructor(r,n){super(r,r.provider);ne(this,"error");Xe(this,{error:n})}}var jd;class w0e extends x7{constructor(r,n,s){super(s,n);ae(this,jd);W(this,jd,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?M(this,jd).getEvent(r.topics[0]):null;if(n)try{return new nC(r,M(this,jd),n)}catch(s){return new N7(r,s)}return r})}}jd=new WeakMap;var Cg;class sC extends pg{constructor(r,n,s){super(s,n);ae(this,Cg);W(this,Cg,r)}async wait(r,n){const s=await super.wait(r,n);return s==null?null:new w0e(M(this,Cg),this.provider,s)}}Cg=new WeakMap;class P7 extends rk{constructor(r,n,s,i){super(r,n,s);ne(this,"log");Xe(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class v0e extends P7{constructor(e,r,n,s,i){super(e,r,n,new nC(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Xe(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const vI=BigInt(0);function O7(t){return t&&typeof t.call=="function"}function R7(t){return t&&typeof t.estimateGas=="function"}function Ww(t){return t&&typeof t.resolveName=="function"}function k7(t){return t&&typeof t.sendTransaction=="function"}function D7(t){if(t!=null){if(Ww(t))return t;if(t.provider)return t.provider}}var Sg;class E0e{constructor(e,r,n){ae(this,Sg);ne(this,"fragment");if(Xe(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=Ku(e.runner,"resolveName"),i=Ww(s)?s:null;W(this,Sg,async function(){const o=await Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(d=>as(d,i))):as(f,i):f)));return e.interface.encodeFilterTopics(r,o)}())}getTopicFilter(){return M(this,Sg)}}Sg=new WeakMap;function Ku(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Gl(t){return t==null?null:t.provider||null}async function M7(t,e){const r=Wn.dereference(t,"overrides");te(typeof r=="object","invalid overrides parameter","overrides",t);const n=kb(r);return te(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),te(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function A0e(t,e,r){const n=Ku(t,"resolveName"),s=Ww(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(r[o],(a,c)=>(c=Wn.dereference(c,a),a==="address"?as(c,s):c))))}function _0e(t){const e=async function(o){const a=await M7(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await as(a.from,D7(t.runner)));const c=t.interface,l=Ke(a.value||vI,"overrides.value")===vI,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&te(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),te(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=c.receive||c.fallback&&c.fallback.payable;return te(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),te(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){const a=Ku(t.runner,"call");be(O7(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(l){throw L_(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(o){const a=t.runner;be(k7(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),l=Gl(t.runner);return new sC(t.interface,l,c)},s=async function(o){const a=Ku(t.runner,"estimateGas");return be(R7(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return Xe(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function C0e(t,e){const r=function(...l){const u=t.interface.getFunction(e,l);return be(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){const u=r(...l);let f={};if(u.inputs.length+1===l.length&&(f=await M7(l.pop()),f.from&&(f.from=await as(f.from,D7(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const d=await A0e(t.runner,u.inputs,l);return Object.assign({},f,await rs({to:t.getAddress(),data:t.interface.encodeFunctionData(u,d)}))},s=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){const u=t.runner;be(k7(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await n(...l)),d=Gl(t.runner);return new sC(t.interface,d,f)},o=async function(...l){const u=Ku(t.runner,"estimateGas");return be(R7(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},a=async function(...l){const u=Ku(t.runner,"call");be(O7(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...l);let d="0x";try{d=await u.call(f)}catch(p){throw L_(p)&&p.data?t.interface.makeError(p.data,f):p}const h=r(...l);return t.interface.decodeFunctionResult(h,d)},c=async(...l)=>r(...l).constant?await s(...l):await i(...l);return Xe(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return be(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function S0e(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return be(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new E0e(t,r(...s),s)};return Xe(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return be(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const Db=Symbol.for("_ethersInternal_contract"),B7=new WeakMap;function x0e(t,e){B7.set(t[Db],e)}function Ls(t){return B7.get(t[Db])}function I0e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function iC(t,e){let r,n=null;if(Array.isArray(e)){const i=function(o){if(dr(o,32))return o;const a=t.interface.getEvent(o);return te(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?r=[null]:typeof e=="string"?dr(e,32)?r=[e]:(n=t.interface.getEvent(e),te(n,"unknown fragment","event",e),r=[n.topicHash]):I0e(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):te(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function Dp(t,e){const{subs:r}=Ls(t);return r.get((await iC(t,e)).tag)||null}async function EI(t,e,r){const n=Gl(t.runner);be(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await iC(t,r),{addr:a,subs:c}=Ls(t);let l=c.get(i);if(!l){const f={address:a||t,topics:o},d=y=>{let E=s;if(E==null)try{E=t.interface.getEvent(y.topics[0])}catch{}if(E){const C=E,I=s?t.interface.decodeEventLog(s,y.data,y.topics):[];DA(t,r,I,T=>new v0e(t,T,r,C,y))}else DA(t,r,[],C=>new P7(t,C,r,y))};let h=[];l={tag:i,listeners:[],start:()=>{h.length||h.push(n.on(f,d))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),n.off(f,d)}},c.set(i,l)}return l}let kA=Promise.resolve();async function T0e(t,e,r,n){await kA;const s=await Dp(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(r);n&&c.push(n(a?null:o));try{o.call(t,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Ls(t).subs.delete(s.tag)),i>0}async function DA(t,e,r,n){try{await kA}catch{}const s=T0e(t,e,r,n);return kA=s,await s}const Xm=["then"];var wT;wT=Db;const c0=class c0{constructor(e,r,n,s){ne(this,"target");ne(this,"interface");ne(this,"runner");ne(this,"filters");ne(this,wT);ne(this,"fallback");te(typeof e=="string"||Hk(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=RA.from(r);Xe(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Db,{value:{}});let o,a=null,c=null;if(s){const f=Gl(n);c=new sC(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(dr(e))a=e,o=Promise.resolve(e);else{const f=Ku(n,"resolveName");if(!Ww(f))throw wr("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(d=>{if(d==null)throw wr("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ls(this).addr=d,d})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return Ls(this).addr=f,f});x0e(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(f,d,h)=>{if(typeof d=="symbol"||Xm.indexOf(d)>=0)return Reflect.get(f,d,h);try{return this.getEvent(d)}catch(p){if(!Tn(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(f,d)=>Xm.indexOf(d)>=0?Reflect.has(f,d):Reflect.has(f,d)||this.interface.hasEvent(String(d))});return Xe(this,{filters:u}),Xe(this,{fallback:i.receive||i.fallback?_0e(this):null}),new Proxy(this,{get:(f,d,h)=>{if(typeof d=="symbol"||d in f||Xm.indexOf(d)>=0)return Reflect.get(f,d,h);try{return f.getFunction(d)}catch(p){if(!Tn(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(f,d)=>typeof d=="symbol"||d in f||Xm.indexOf(d)>=0?Reflect.has(f,d):f.interface.hasFunction(d)})}connect(e){return new c0(this.target,this.interface,e)}attach(e){return new c0(e,this.interface,this.runner)}async getAddress(){return await Ls(this).addrPromise}async getDeployedCode(){const e=Gl(this.runner);be(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Gl(this.runner);return be(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Ls(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),C0e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),S0e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Ls(this),o=s||await i,{fragment:a,topics:c}=await iC(this,e),l={address:o,topics:c,fromBlock:r,toBlock:n},u=Gl(this.runner);return be(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let d=a;if(d==null)try{d=this.interface.getEvent(f.topics[0])}catch{}if(d)try{return new nC(f,this.interface,d)}catch(h){return new N7(f,h)}return new sm(f,u)})}async on(e,r){const n=await EI(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await EI(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await DA(this,e,r,null)}async listenerCount(e){if(e){const s=await Dp(this,e);return s?s.listeners.length:0}const{subs:r}=Ls(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await Dp(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Ls(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await Dp(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ls(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await Dp(this,e);if(!r)return this;r.stop(),Ls(this).subs.delete(r.tag)}else{const{subs:r}=Ls(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends c0{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let MA=c0;function N0e(){return MA}class Iu extends N0e(){}function U2(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):te(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class P0e{constructor(e){ne(this,"name");Xe(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const U7=new RegExp("^(ipfs)://(.*)$","i"),AI=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),U7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Ic,cu,Tc,Vf,zb,$7;const Xf=class Xf{constructor(e,r,n){ae(this,Tc);ne(this,"provider");ne(this,"address");ne(this,"name");ae(this,Ic);ae(this,cu);Xe(this,{provider:e,address:r,name:n}),W(this,Ic,null),W(this,cu,new Iu(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return M(this,Ic)==null&&W(this,Ic,(async()=>{try{return await M(this,cu).supportsInterface("0x9061b923")}catch(e){if(Tn(e,"CALL_EXCEPTION"))return!1;throw W(this,Ic,null),e}})()),await M(this,Ic)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await _e(this,Tc,Vf).call(this,"addr(bytes32)");return i==null||i===og?null:i}catch(i){if(Tn(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await _e(this,Tc,Vf).call(this,"addr(bytes32,uint)",[i]);if(dr(o,20))return or(o)}let r=null;for(const i of this.provider.plugins)if(i instanceof P0e&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await _e(this,Tc,Vf).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;be(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await _e(this,Tc,Vf).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await _e(this,Tc,Vf).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${Lfe("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;be(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<AI.length;n++){const s=r.match(AI[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=U2(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],u=new Iu(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const g=await u.ownerOf(l);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(i==="erc1155"){const g=await u.balanceOf(a,l);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let f=await u[o](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",nl(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=U2(f)),e.push({type:"metadata-url",value:f});let d={};const h=await new zo(f).send();h.assertOk();try{d=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const E=h.body;return E&&e.push({type:"!metadata",value:He(E)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let p=d.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(U7)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=U2(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return be(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await _e(s=Xf,zb,$7).call(s,e,n);if(i!=null){const o=new Xf(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Ic=new WeakMap,cu=new WeakMap,Tc=new WeakSet,Vf=async function(e,r){r=(r||[]).slice();const n=M(this,cu).interface;r.unshift(PA(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),be(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[Npe(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await M(this,cu)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Tn(i,"CALL_EXCEPTION"))throw i}return null},zb=new WeakSet,$7=async function(e,r){const n=await Xf.getEnsAddress(e);try{const i=await new Iu(n,["function resolver(bytes32) view returns (address)"],e).resolver(PA(r),{enableCcipRead:!0});return i===og?null:i}catch(s){throw s}return null},ae(Xf,zb);let Mb=Xf;const _I=BigInt(0);function Ot(t,e){return function(r){return r==null?e:t(r)}}function Kw(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function im(t,e){return r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const o of e[s])if(o in r){i=o;break}}try{const o=t[s](r[i]);o!==void 0&&(n[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";be(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:r})}}return n}}function O0e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}te(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Ph(t){return te(dr(t,!0),"invalid data","value",t),t}function In(t){return te(dr(t,32),"invalid hash","value",t),t}const R0e=im({address:or,blockHash:In,blockNumber:mt,data:Ph,index:mt,removed:Ot(O0e,!1),topics:Kw(In),transactionHash:In,transactionIndex:mt},{index:["logIndex"]});function k0e(t){return R0e(t)}const D0e=im({hash:Ot(In),parentHash:In,parentBeaconBlockRoot:Ot(In,null),number:mt,timestamp:mt,nonce:Ot(Ph),difficulty:Ke,gasLimit:Ke,gasUsed:Ke,stateRoot:Ot(In,null),receiptsRoot:Ot(In,null),blobGasUsed:Ot(Ke,null),excessBlobGas:Ot(Ke,null),miner:Ot(or),prevRandao:Ot(In,null),extraData:Ph,baseFeePerGas:Ot(Ke)},{prevRandao:["mixHash"]});function M0e(t){const e=D0e(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:L7(r)),e}const B0e=im({transactionIndex:mt,blockNumber:mt,transactionHash:In,address:or,topics:Kw(In),data:Ph,index:mt,blockHash:In},{index:["logIndex"]});function U0e(t){return B0e(t)}const $0e=im({to:Ot(or,null),from:Ot(or,null),contractAddress:Ot(or,null),index:mt,root:Ot(He),gasUsed:Ke,blobGasUsed:Ot(Ke,null),logsBloom:Ot(Ph),blockHash:In,hash:In,logs:Kw(U0e),blockNumber:mt,cumulativeGasUsed:Ke,effectiveGasPrice:Ot(Ke),blobGasPrice:Ot(Ke,null),status:Ot(mt),type:Ot(mt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function L0e(t){return $0e(t)}function L7(t){t.to&&Ke(t.to)===_I&&(t.to="0x0000000000000000000000000000000000000000");const e=im({hash:In,index:Ot(mt,void 0),type:r=>r==="0x"||r==null?0:mt(r),accessList:Ot(cf,null),blobVersionedHashes:Ot(Kw(In,!0),null),blockHash:Ot(In,null),blockNumber:Ot(mt,null),transactionIndex:Ot(mt,null),from:or,gasPrice:Ot(Ke),maxPriorityFeePerGas:Ot(Ke),maxFeePerGas:Ot(Ke),maxFeePerBlobGas:Ot(Ke,null),gasLimit:Ke,to:Ot(or,null),value:Ke,nonce:mt,data:Ph,creates:Ot(or,null),chainId:Ot(Ke,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=Rhe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Xi.from(t.signature):e.signature=Xi.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ke(e.blockHash)===_I&&(e.blockHash=null),e}const F0e="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class om{constructor(e){ne(this,"name");Xe(this,{name:e})}clone(){return new om(this.name)}}class Gw extends om{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);ne(this,"effectiveBlock");ne(this,"txBase");ne(this,"txCreate");ne(this,"txDataZero");ne(this,"txDataNonzero");ne(this,"txAccessListStorageKey");ne(this,"txAccessListAddress");const s={effectiveBlock:r};function i(o,a){let c=(n||{})[o];c==null&&(c=a),te(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),Xe(this,s)}clone(){return new Gw(this.effectiveBlock,this)}}class Jw extends om{constructor(r,n){super("org.ethers.plugins.network.Ens");ne(this,"address");ne(this,"targetNetwork");Xe(this,{address:r||F0e,targetNetwork:n??1})}clone(){return new Jw(this.address,this.targetNetwork)}}var xg,Ig;class j0e extends om{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ae(this,xg);ae(this,Ig);W(this,xg,r),W(this,Ig,n)}get url(){return M(this,xg)}get processFunc(){return M(this,Ig)}clone(){return this}}xg=new WeakMap,Ig=new WeakMap;const $2=new Map;var Hd,zd,Nc;const ed=class ed{constructor(e,r){ae(this,Hd);ae(this,zd);ae(this,Nc);W(this,Hd,e),W(this,zd,Ke(r)),W(this,Nc,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return M(this,Hd)}set name(e){W(this,Hd,e)}get chainId(){return M(this,zd)}set chainId(e){W(this,zd,Ke(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ke(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ke(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ke(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(M(this,Nc).values())}attachPlugin(e){if(M(this,Nc).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return M(this,Nc).set(e.name,e.clone()),this}getPlugin(e){return M(this,Nc).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new ed(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Gw;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=cf(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(H0e(),e==null)return ed.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=$2.get(e);if(r)return r();if(typeof e=="bigint")return new ed("unknown",e);te(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){te(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new ed(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new Jw(e.ensAddress,e.ensNetwork)),r}te(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=$2.get(e);n&&te(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),$2.set(e,r)}};Hd=new WeakMap,zd=new WeakMap,Nc=new WeakMap;let Ki=ed;function CI(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function SI(t){return new j0e(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([n.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:CI(a.maxFee,9),maxPriorityFeePerGas:CI(a.maxPriorityFee,9)}}catch(i){be(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let xI=!1;function H0e(){if(xI)return;xI=!0;function t(e,r,n){const s=function(){const i=new Ki(e,r);return n.ensNetwork!=null&&i.attachPlugin(new Jw(null,n.ensNetwork)),i.attachPlugin(new Gw),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Ki.register(e,s),Ki.register(r,s),n.altNames&&n.altNames.forEach(i=>{Ki.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[SI("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[SI("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function BA(t){return JSON.parse(JSON.stringify(t))}var Aa,li,Pc,So,qd,Ny;class z0e{constructor(e){ae(this,qd);ae(this,Aa);ae(this,li);ae(this,Pc);ae(this,So);W(this,Aa,e),W(this,li,null),W(this,Pc,4e3),W(this,So,-2)}get pollingInterval(){return M(this,Pc)}set pollingInterval(e){W(this,Pc,e)}start(){M(this,li)||(W(this,li,M(this,Aa)._setTimeout(_e(this,qd,Ny).bind(this),M(this,Pc))),_e(this,qd,Ny).call(this))}stop(){M(this,li)&&(M(this,Aa)._clearTimeout(M(this,li)),W(this,li,null))}pause(e){this.stop(),e&&W(this,So,-2)}resume(){this.start()}}Aa=new WeakMap,li=new WeakMap,Pc=new WeakMap,So=new WeakMap,qd=new WeakSet,Ny=async function(){try{const e=await M(this,Aa).getBlockNumber();if(M(this,So)===-2){W(this,So,e);return}if(e!==M(this,So)){for(let r=M(this,So)+1;r<=e;r++){if(M(this,li)==null)return;await M(this,Aa).emit("block",r)}W(this,So,e)}}catch{}M(this,li)!=null&&W(this,li,M(this,Aa)._setTimeout(_e(this,qd,Ny).bind(this),M(this,Pc)))};var lu,uu,Oc;class oC{constructor(e){ae(this,lu);ae(this,uu);ae(this,Oc);W(this,lu,e),W(this,Oc,!1),W(this,uu,r=>{this._poll(r,M(this,lu))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){M(this,Oc)||(W(this,Oc,!0),M(this,uu).call(this,-2),M(this,lu).on("block",M(this,uu)))}stop(){M(this,Oc)&&(W(this,Oc,!1),M(this,lu).off("block",M(this,uu)))}pause(e){this.stop()}resume(){this.start()}}lu=new WeakMap,uu=new WeakMap,Oc=new WeakMap;var Vd,_a;class q0e extends oC{constructor(r,n){super(r);ae(this,Vd);ae(this,_a);W(this,Vd,n),W(this,_a,-2)}pause(r){r&&W(this,_a,-2),super.pause(r)}async _poll(r,n){const s=await n.getBlock(M(this,Vd));s!=null&&(M(this,_a)===-2?W(this,_a,s.number):s.number>M(this,_a)&&(n.emit(M(this,Vd),s.number),W(this,_a,s.number)))}}Vd=new WeakMap,_a=new WeakMap;var qb;class V0e extends oC{constructor(r,n){super(r);ae(this,qb);W(this,qb,BA(n))}async _poll(r,n){throw new Error("@TODO")}}qb=new WeakMap;var Wd;class W0e extends oC{constructor(r,n){super(r);ae(this,Wd);W(this,Wd,n)}async _poll(r,n){const s=await n.getTransactionReceipt(M(this,Wd));s&&n.emit(M(this,Wd),s)}}Wd=new WeakMap;var Ca,Kd,Gd,Rc,ui,Vb,F7;class aC{constructor(e,r){ae(this,Vb);ae(this,Ca);ae(this,Kd);ae(this,Gd);ae(this,Rc);ae(this,ui);W(this,Ca,e),W(this,Kd,BA(r)),W(this,Gd,_e(this,Vb,F7).bind(this)),W(this,Rc,!1),W(this,ui,-2)}start(){M(this,Rc)||(W(this,Rc,!0),M(this,ui)===-2&&M(this,Ca).getBlockNumber().then(e=>{W(this,ui,e)}),M(this,Ca).on("block",M(this,Gd)))}stop(){M(this,Rc)&&(W(this,Rc,!1),M(this,Ca).off("block",M(this,Gd)))}pause(e){this.stop(),e&&W(this,ui,-2)}resume(){this.start()}}Ca=new WeakMap,Kd=new WeakMap,Gd=new WeakMap,Rc=new WeakMap,ui=new WeakMap,Vb=new WeakSet,F7=async function(e){if(M(this,ui)===-2)return;const r=BA(M(this,Kd));r.fromBlock=M(this,ui)+1,r.toBlock=e;const n=await M(this,Ca).getLogs(r);if(n.length===0){M(this,ui)<e-60&&W(this,ui,e-60);return}for(const s of n)M(this,Ca).emit(M(this,Kd),s),W(this,ui,s.blockNumber)};const K0e=BigInt(2),G0e=10;function ey(t){return t&&typeof t.then=="function"}function Py(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}class Bb{constructor(e){ne(this,"name");Xe(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function J0e(t){return JSON.parse(JSON.stringify(t))}function UA(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function L2(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(dr(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:Py("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:Py("orphan",r),filter:J0e(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?UA(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],o=a=>{dr(a)?s.push(a):i.push((async()=>{s.push(await as(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),i.length&&await Promise.all(i),n.address=UA(s.map(a=>a.toLowerCase()))}return{filter:n,tag:Py("event",n),type:"event"}}te(!1,"unknown ProviderEvent","event",t)}function F2(){return new Date().getTime()}const Y0e={cacheTimeout:250,pollingInterval:4e3};var Un,kc,$n,Jd,zs,fu,Dc,Sa,Tg,fi,Yd,Qd,At,Us,$A,LA,Mp,FA,Bp,Oy;class Q0e{constructor(e,r){ae(this,At);ae(this,Un);ae(this,kc);ae(this,$n);ae(this,Jd);ae(this,zs);ae(this,fu);ae(this,Dc);ae(this,Sa);ae(this,Tg);ae(this,fi);ae(this,Yd);ae(this,Qd);if(W(this,Qd,Object.assign({},Y0e,r||{})),e==="any")W(this,fu,!0),W(this,zs,null);else if(e){const n=Ki.from(e);W(this,fu,!1),W(this,zs,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else W(this,fu,!1),W(this,zs,null);W(this,Sa,-1),W(this,Dc,new Map),W(this,Un,new Map),W(this,kc,new Map),W(this,$n,null),W(this,Jd,!1),W(this,Tg,1),W(this,fi,new Map),W(this,Yd,!1)}get pollingInterval(){return M(this,Qd).pollingInterval}get provider(){return this}get plugins(){return Array.from(M(this,kc).values())}attachPlugin(e){if(M(this,kc).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return M(this,kc).set(e.name,e.connect(this)),this}getPlugin(e){return M(this,kc).get(e)||null}get disableCcipRead(){return M(this,Yd)}set disableCcipRead(e){W(this,Yd,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",s).replace("{data}",i),u=new zo(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let f="unknown error",d;try{d=await u.send()}catch(h){o.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:h}});continue}try{const h=d.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:h}),h.data;h.message&&(f=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:h})}catch{}be(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),o.push(f)}be(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new m0e(M0e(e),this)}_wrapLog(e,r){return new sm(k0e(e),this)}_wrapTransactionReceipt(e,r){return new x7(L0e(e),this)}_wrapTransactionResponse(e,r){return new pg(L7(e),this)}_detectNetwork(){be(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){be(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=mt(await _e(this,At,Us).call(this,{method:"getBlockNumber"}),"%response");return M(this,Sa)>=0&&W(this,Sa,e),e}_getAddress(e){return as(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(dr(e))return dr(e,32)?e:Yf(e);if(typeof e=="bigint"&&(e=mt(e,"blockTag")),typeof e=="number")return e>=0?Yf(e):M(this,Sa)>=0?Yf(M(this,Sa)+e):this.getBlockNumber().then(r=>Yf(r+e));te(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?UA(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");const d={};return f&&(d.address=f),r.length&&(d.topics=r),l&&(d.fromBlock=l),u&&(d.toBlock=u),n&&(d.blockHash=n),d};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const r=kb(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=as(r[s],this);ey(i)?n.push(async function(){r[s]=await i}()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);ey(s)?n.push(async function(){r.blockTag=await s}()):r.blockTag=s}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(M(this,zs)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw M(this,zs)===s&&W(this,zs,null),i}})();return W(this,zs,s),(await s).clone()}const e=M(this,zs),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(M(this,fu)?(this.emit("network",n,r),M(this,zs)===e&&W(this,zs,Promise.resolve(n))):be(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await rs({_block:_e(this,At,FA).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await _e(this,At,Us).call(this,{method:"getGasPrice"});return Ke(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await _e(this,At,Us).call(this,{method:"getPriorityFee"});return Ke(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*K0e+c),new wI(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new zo(n.url),i=await n.processFunc(r,this,s);return new wI(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return ey(r)&&(r=await r),Ke(await _e(this,At,Us).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await rs({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await _e(this,At,LA).call(this,_e(this,At,$A).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Ke(await _e(this,At,Mp).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return mt(await _e(this,At,Mp).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return He(await _e(this,At,Mp).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const s=Ke(r,"position");return He(await _e(this,At,Mp).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await rs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Ob.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:s}=await rs({network:this.getNetwork(),params:_e(this,At,FA).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await rs({network:this.getNetwork(),params:_e(this,At,Us).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await rs({network:this.getNetwork(),params:_e(this,At,Us).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await _e(this,At,Us).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await rs({network:this.getNetwork(),result:_e(this,At,Us).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:He(r)}async getLogs(e){let r=this._getFilter(e);ey(r)&&(r=await r);const{network:n,params:s}=await rs({network:this.getNetwork(),params:_e(this,At,Us).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){be(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Mb.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=or(e);const r=PA(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Mb.getEnsAddress(this),i=await new Iu(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===og)return null;const a=await new Iu(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(Tn(n,"BAD_DATA")&&n.value==="0x"||Tn(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(wr("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){be(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=M(this,fi).get(e);r&&(r.timer&&clearTimeout(r.timer),M(this,fi).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=Wh(this,Tg)._++,s=()=>{M(this,fi).delete(n),e()};if(this.paused)M(this,fi).set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);M(this,fi).set(n,{timer:i,func:s,time:F2()})}return n}_forEachSubscriber(e){for(const r of M(this,Un).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Bb(e.type);case"block":{const r=new z0e(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new q0e(this,e.type);case"event":return new aC(this,e.filter);case"transaction":return new W0e(this,e.hash);case"orphan":return new V0e(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of M(this,Un).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),M(this,$n)!=null&&r.pause(M(this,$n));break}}async on(e,r){const n=await _e(this,At,Oy).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,M(this,$n)!=null&&n.subscriber.pause(M(this,$n))),this}async once(e,r){const n=await _e(this,At,Oy).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,M(this,$n)!=null&&n.subscriber.pause(M(this,$n))),this}async emit(e,...r){const n=await _e(this,At,Bp).call(this,e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{const a=new rk(this,o?null:i,e);try{i.call(this,...r,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),M(this,Un).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await _e(this,At,Bp).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of M(this,Un).values())r+=n.length;return r}async listeners(e){if(e){const n=await _e(this,At,Bp).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of M(this,Un).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await _e(this,At,Bp).call(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),M(this,Un).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await _e(this,At,Oy).call(this,e);n&&s.stop(),M(this,Un).delete(r)}else for(const[r,{started:n,subscriber:s}]of M(this,Un))n&&s.stop(),M(this,Un).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return M(this,Jd)}destroy(){this.removeAllListeners();for(const e of M(this,fi).keys())this._clearTimeout(e);W(this,Jd,!0)}get paused(){return M(this,$n)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(W(this,Sa,-1),M(this,$n)!=null){if(M(this,$n)==!!e)return;be(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),W(this,$n,!!e);for(const r of M(this,fi).values())r.timer&&clearTimeout(r.timer),r.time=F2()-r.time}resume(){if(M(this,$n)!=null){this._forEachSubscriber(e=>e.resume()),W(this,$n,null);for(const e of M(this,fi).values()){let r=e.time;r<0&&(r=0),e.time=F2(),setTimeout(e.func,r)}}}}Un=new WeakMap,kc=new WeakMap,$n=new WeakMap,Jd=new WeakMap,zs=new WeakMap,fu=new WeakMap,Dc=new WeakMap,Sa=new WeakMap,Tg=new WeakMap,fi=new WeakMap,Yd=new WeakMap,Qd=new WeakMap,At=new WeakSet,Us=async function(e){const r=M(this,Qd).cacheTimeout;if(r<0)return await this._perform(e);const n=Py(e.method,e);let s=M(this,Dc).get(n);return s||(s=this._perform(e),M(this,Dc).set(n,s),setTimeout(()=>{M(this,Dc).get(n)===s&&M(this,Dc).delete(n)},r)),await s},$A=async function(e,r,n){be(n<G0e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=kb(e);try{return He(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&L_(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&xr(i.data,0,4)==="0x556f1830"){const o=i.data,a=await as(s.to,this);let c;try{c=rge(xr(i.data,4))}catch(f){be(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}be(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);be(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:a,data:Dr([c.selector,tge([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await _e(this,At,$A).call(this,u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}},LA=async function(e){const{value:r}=await rs({network:this.getNetwork(),value:e});return r},Mp=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await _e(this,At,LA).call(this,_e(this,At,Us).call(this,Object.assign(e,{address:s,blockTag:i})))},FA=async function(e,r){if(dr(e,32))return await _e(this,At,Us).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await _e(this,At,Us).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},Bp=async function(e,r){let n=await L2(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await L2({orphan:"drop-log",log:r[0]},this)),M(this,Un).get(n.tag)||null},Oy=async function(e){const r=await L2(e,this),n=r.tag;let s=M(this,Un).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},M(this,Un).set(n,s)),s};function Z0e(t,e){try{const r=jA(t,e);if(r)return Ab(r)}catch{}return null}function jA(t,e){if(t==="0x")return null;try{const r=mt(xr(t,e,e+32)),n=mt(xr(t,r,r+32));return xr(t,r+32,r+32+n)}catch{}return null}function II(t){const e=is(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function X0e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const ege=new Uint8Array([]);function tge(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(ege),r+=32;for(let n=0;n<t.length;n++){const s=Rt(t[n]);e[n]=II(r),e.push(II(s.length)),e.push(X0e(s)),r+=32+Math.ceil(s.length/32)*32}return Dr(e)}const TI="0x0000000000000000000000000000000000000000000000000000000000000000";function rge(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};be(ud(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=xr(t,0,32);be(xr(r,0,12)===xr(TI,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=xr(r,12);try{const n=[],s=mt(xr(t,32,64)),i=mt(xr(t,s,s+32)),o=xr(t,s+32);for(let a=0;a<i;a++){const c=Z0e(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{be(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=jA(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{be(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}be(xr(t,100,128)===xr(TI,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=xr(t,96,100);try{const n=jA(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{be(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Df(t,e){if(t.provider)return t.provider;be(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function NI(t,e){let r=kb(e);if(r.to!=null&&(r.to=as(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),as(n,t)]).then(([s,i])=>(te(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await rs(r)}class nge{constructor(e){ne(this,"provider");Xe(this,{provider:e||null})}async getNonce(e){return Df(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await NI(this,e)}async populateTransaction(e){const r=Df(this,"populateTransaction"),n=await NI(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const o=Ke(n.chainId);te(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?te(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&te(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();be(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(be(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):be(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await rs(n)}async estimateGas(e){return Df(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Df(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Df(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Df(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=Ob.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}}const PI=new Set;function sge(t){PI.has(t)||(PI.add(t),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${t} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function ige(t){return JSON.parse(JSON.stringify(t))}var Zn,xo,du,Mc,hu,Zd,il,HA,zA;class j7{constructor(e){ae(this,il);ae(this,Zn);ae(this,xo);ae(this,du);ae(this,Mc);ae(this,hu);ae(this,Zd);W(this,Zn,e),W(this,xo,null),W(this,du,_e(this,il,HA).bind(this)),W(this,Mc,!1),W(this,hu,null),W(this,Zd,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){M(this,Mc)||(W(this,Mc,!0),_e(this,il,HA).call(this,-2))}stop(){M(this,Mc)&&(W(this,Mc,!1),W(this,Zd,!0),_e(this,il,zA).call(this),M(this,Zn).off("block",M(this,du)))}pause(e){e&&_e(this,il,zA).call(this),M(this,Zn).off("block",M(this,du))}resume(){this.start()}}Zn=new WeakMap,xo=new WeakMap,du=new WeakMap,Mc=new WeakMap,hu=new WeakMap,Zd=new WeakMap,il=new WeakSet,HA=async function(e){try{M(this,xo)==null&&W(this,xo,this._subscribe(M(this,Zn)));let r=null;try{r=await M(this,xo)}catch(i){if(!Tn(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){W(this,xo,null),M(this,Zn)._recoverSubscriber(this,this._recover(M(this,Zn)));return}const n=await M(this,Zn).getNetwork();if(M(this,hu)||W(this,hu,n),M(this,hu).chainId!==n.chainId)throw new Error("chaid changed");if(M(this,Zd))return;const s=await M(this,Zn).send("eth_getFilterChanges",[r]);await this._emitResults(M(this,Zn),s)}catch(r){console.log("@TODO",r)}M(this,Zn).once("block",M(this,du))},zA=function(){const e=M(this,xo);e&&(W(this,xo,null),e.then(r=>{M(this,Zn).destroyed||M(this,Zn).send("eth_uninstallFilter",[r])}))};var pu;class oge extends j7{constructor(r,n){super(r);ae(this,pu);W(this,pu,ige(n))}_recover(r){return new aC(r,M(this,pu))}async _subscribe(r){return await r.send("eth_newFilter",[M(this,pu)])}async _emitResults(r,n){for(const s of n)r.emit(M(this,pu),r._wrapLog(s,r._network))}}pu=new WeakMap;class age extends j7{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const cge="bigint,boolean,function,number,string,symbol".split(/,/g);function Ry(t){if(t==null||cge.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Ry);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function lge(t){return new Promise(e=>{setTimeout(e,t)})}function Mf(t){return t&&t.toLowerCase()}function OI(t){return t&&typeof t.pollingInterval=="number"}const H7={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class pd extends nge{constructor(r,n){super(r);ne(this,"address");n=or(n),Xe(this,{address:n})}connect(r){be(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=Ry(r),s=[];if(n.from){const o=n.from;s.push((async()=>{const a=await as(o,this.provider);te(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;s.push((async()=>{n.to=await as(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(n));return}}catch(u){if(Tn(u,"CANCELLED")||Tn(u,"BAD_DATA")||Tn(u,"NETWORK_ERROR")||Tn(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,o(u);return}if(Tn(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,c>10)){o(u);return}this.provider.emit("error",wr("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(r){const n=Ry(r);if(n.from){const i=await as(n.from,this.provider);te(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){const n=typeof r=="string"?Uo(r):r;return await this.provider.send("personal_sign",[He(n),this.address.toLowerCase()])}async signTypedData(r,n,s){const i=Ry(s),o=await Rb.resolveNames(r,n,i,async a=>{const c=await as(a);return te(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Rb.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Uo(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),He(n)])}}var gu,Xd,xa,Io,Hi,di,As,Ng,qA;class z7 extends Q0e{constructor(r,n){super(r,n);ae(this,Ng);ae(this,gu);ae(this,Xd);ae(this,xa);ae(this,Io);ae(this,Hi);ae(this,di);ae(this,As);W(this,Xd,1),W(this,gu,Object.assign({},H7,n||{})),W(this,xa,[]),W(this,Io,null),W(this,di,null),W(this,As,null);{let i=null;const o=new Promise(a=>{i=a});W(this,Hi,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(te(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&W(this,di,Ki.from(r))):s&&(te(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),W(this,di,s))}_getOption(r){return M(this,gu)[r]}get _network(){return be(M(this,di),"network is not available yet","NETWORK_ERROR"),M(this,di)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&Ke(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(M(this,di))return M(this,di)}else return r;return M(this,As)?await M(this,As):this.ready?(W(this,As,(async()=>{try{const n=Ki.from(Ke(await this.send("eth_chainId",[])));return W(this,As,null),n}catch(n){throw W(this,As,null),n}})()),await M(this,As)):(W(this,As,(async()=>{const n={id:Wh(this,Xd)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],W(this,As,null)}catch(i){throw W(this,As,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Ki.from(Ke(s.result));throw this.getRpcError(n,s)})()),await M(this,As))}_start(){M(this,Hi)==null||M(this,Hi).resolve==null||(M(this,Hi).resolve(),W(this,Hi,null),(async()=>{for(;M(this,di)==null&&!this.destroyed;)try{W(this,di,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",wr("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await lge(1e3)}_e(this,Ng,qA).call(this)})())}async _waitUntilReady(){if(M(this,Hi)!=null)return await M(this,Hi).promise}_getSubscriber(r){return r.type==="pending"?new age(this):r.type==="event"?this._getOption("polling")?new aC(this,r.filter):new oge(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new Bb("orphan"):super._getSubscriber(r)}get ready(){return M(this,Hi)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=Yf(Ke(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=He(r[s]))}),r.accessList&&(n.accessList=cf(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Mf(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Mf(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Mf(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Mf(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Mf):r.filter.address=Mf(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return wr("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=VA(i),l=hg.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return l.info={error:i,payload:r},l}const o=JSON.stringify(uge(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return wr("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return wr("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return wr("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return wr("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return wr("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?wr("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):wr("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(wr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const s=Wh(this,Xd)._++,i=new Promise((o,a)=>{M(this,xa).push({resolve:o,reject:a,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return _e(this,Ng,qA).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new pd(this,i[r])}const{accounts:s}=await rs({network:this.getNetwork(),accounts:n});r=or(r);for(const i of s)if(or(i)===r)return new pd(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new pd(this,n))}destroy(){M(this,Io)&&(clearTimeout(M(this,Io)),W(this,Io,null));for(const{payload:r,reject:n}of M(this,xa))n(wr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));W(this,xa,[]),super.destroy()}}gu=new WeakMap,Xd=new WeakMap,xa=new WeakMap,Io=new WeakMap,Hi=new WeakMap,di=new WeakMap,As=new WeakMap,Ng=new WeakSet,qA=function(){if(M(this,Io))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");W(this,Io,setTimeout(()=>{W(this,Io,null);const n=M(this,xa);for(W(this,xa,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==M(this,gu).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>M(this,gu).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of s){if(this.destroyed){c(wr("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(f=>f.id===l.id)[0];if(u==null){const f=wr("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",f),c(f);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},r))};var Bc;class q7 extends z7{constructor(r,n){super(r,n);ae(this,Bc);let s=this._getOption("pollingInterval");s==null&&(s=H7.pollingInterval),W(this,Bc,s)}_getSubscriber(r){const n=super._getSubscriber(r);return OI(n)&&(n.pollingInterval=M(this,Bc)),n}get pollingInterval(){return M(this,Bc)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");W(this,Bc,r),this._forEachSubscriber(n=>{OI(n)&&(n.pollingInterval=M(this,Bc))})}}Bc=new WeakMap;var eh;class V7 extends q7{constructor(r,n,s){r==null&&(r="http://localhost:8545");super(n,s);ae(this,eh);typeof r=="string"?W(this,eh,new zo(r)):W(this,eh,r.clone())}_getConnection(){return M(this,eh).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}eh=new WeakMap;function VA(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&dr(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=VA(t[e]);if(r)return r}return null}if(typeof t=="string")try{return VA(JSON.parse(t))}catch{}return null}function WA(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)WA(t[r],e);if(typeof t=="string")try{return WA(JSON.parse(t),e)}catch{}}}function uge(t){const e=[];return WA(t,e),e}function fge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const dge=fge().WebSocket;var To,Pg,Uc,mu,$c;class cC{constructor(e,r){ae(this,To);ae(this,Pg);ae(this,Uc);ae(this,mu);ae(this,$c);W(this,To,e),W(this,Pg,JSON.stringify(r)),W(this,Uc,null),W(this,mu,null),W(this,$c,null)}get filter(){return JSON.parse(M(this,Pg))}start(){W(this,Uc,M(this,To).send("eth_subscribe",this.filter).then(e=>(M(this,To)._register(e,this),e)))}stop(){M(this,Uc).then(e=>{M(this,To).destroyed||M(this,To).send("eth_unsubscribe",[e])}),W(this,Uc,null)}pause(e){be(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),W(this,mu,!!e)}resume(){W(this,mu,null)}_handleMessage(e){if(M(this,Uc)!=null&&M(this,mu)===null){let r=M(this,$c);r==null?r=this._emit(M(this,To),e):r=r.then(async()=>{await this._emit(M(this,To),e)}),W(this,$c,r.then(()=>{M(this,$c)===r&&W(this,$c,null)}))}}async _emit(e,r){throw new Error("sub-classes must implemente this; _emit")}}To=new WeakMap,Pg=new WeakMap,Uc=new WeakMap,mu=new WeakMap,$c=new WeakMap;class hge extends cC{constructor(e){super(e,["newHeads"])}async _emit(e,r){e.emit("block",parseInt(r.number))}}class pge extends cC{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,r){e.emit("pending",r)}}var Og;class gge extends cC{constructor(r,n){super(r,["logs",n]);ae(this,Og);W(this,Og,JSON.stringify(n))}get logFilter(){return JSON.parse(M(this,Og))}async _emit(r,n){r.emit(this.logFilter,r._wrapLog(n,r._network))}}Og=new WeakMap;var yu,th,Lc;class mge extends z7{constructor(r,n){const s=Object.assign({},n??{});te(s.batchMaxCount==null||s.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),s.batchMaxCount=1,s.staticNetwork==null&&(s.staticNetwork=!0);super(r,s);ae(this,yu);ae(this,th);ae(this,Lc);W(this,yu,new Map),W(this,th,new Map),W(this,Lc,new Map)}_getSubscriber(r){switch(r.type){case"close":return new Bb("close");case"block":return new hge(this);case"pending":return new pge(this);case"event":return new gge(this,r.filter);case"orphan":if(r.filter.orphan==="drop-log")return new Bb("drop-log")}return super._getSubscriber(r)}_register(r,n){M(this,th).set(r,n);const s=M(this,Lc).get(r);if(s){for(const i of s)n._handleMessage(i);M(this,Lc).delete(r)}}async _send(r){te(!Array.isArray(r),"WebSocket does not support batch send","payload",r);const n=new Promise((s,i)=>{M(this,yu).set(r.id,{payload:r,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(r)),[await n]}async _processMessage(r){const n=JSON.parse(r);if(n&&typeof n=="object"&&"id"in n){const s=M(this,yu).get(n.id);if(s==null){this.emit("error",wr("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}M(this,yu).delete(n.id),s.resolve(n)}else if(n&&n.method==="eth_subscription"){const s=n.params.subscription,i=M(this,th).get(s);if(i)i._handleMessage(n.params.result);else{let o=M(this,Lc).get(s);o==null&&(o=[],M(this,Lc).set(s,o)),o.push(n.params.result)}}else{this.emit("error",wr("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(r){throw new Error("sub-classes must override this")}}yu=new WeakMap,th=new WeakMap,Lc=new WeakMap;var bu,zi;class yge extends mge{constructor(r,n,s){super(n,s);ae(this,bu);ae(this,zi);typeof r=="string"?(W(this,bu,()=>new dge(r)),W(this,zi,M(this,bu).call(this))):typeof r=="function"?(W(this,bu,r),W(this,zi,r())):(W(this,bu,null),W(this,zi,r)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(M(this,zi)==null)throw new Error("websocket closed");return M(this,zi)}async _write(r){this.websocket.send(r)}async destroy(){M(this,zi)!=null&&(M(this,zi).close(),W(this,zi,null)),super.destroy()}}bu=new WeakMap,zi=new WeakMap;const Up="84842078b09946638c03157f83405213";function bge(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}te(!1,"unsupported network","network",t)}class wge extends yge{constructor(r,n){const s=new Gu(r,n),i=s._getConnection();be(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,s._network);ne(this,"projectId");ne(this,"projectSecret");Xe(this,{projectId:s.projectId,projectSecret:s.projectSecret})}isCommunityResource(){return this.projectId===Up}}class Gu extends V7{constructor(r,n,s){r==null&&(r="mainnet");const i=Ki.from(r);n==null&&(n=Up),s==null&&(s=null);const o=Gu.getRequest(i,n,s);super(o,i,{staticNetwork:i});ne(this,"projectId");ne(this,"projectSecret");Xe(this,{projectId:n,projectSecret:s})}_getProvider(r){try{return new Gu(r,this.projectId,this.projectSecret)}catch{}return super._getProvider(r)}isCommunityResource(){return this.projectId===Up}static getWebSocketProvider(r,n){return new wge(r,n)}static getRequest(r,n,s){n==null&&(n=Up),s==null&&(s=null);const i=new zo(`https://${bge(r.name)}/v3/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===Up&&(i.retryFunc=async(o,a,c)=>(sge("InfuraProvider"),!0)),i}}var rh;class ky extends q7{constructor(r,n,s){const i=Object.assign({},s??{},{batchMaxCount:1});te(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,i);ae(this,rh);W(this,rh,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const l=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){te(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await M(this,rh).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(s=>s.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await M(this,rh).call(this,"eth_requestAccounts",[])}catch(n){const s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(r)}}rh=new WeakMap;const gd={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([gd.getAddresses(t),gd.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var n,s;const r=((n=e.rpcUrls.chainDefault)==null?void 0:n.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:gd.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(s=e.blockExplorers)==null?void 0:s.default.url],iconUrls:[Ro.NetworkImageIds[e.id]]}]})}},ac={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=dr(t)?t:He(Uo(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const s={from:t.address,to:t.to,data:t.data,type:0},i=new ky(e,n);return await new pd(i,r).estimateGas(s)},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const s={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0},i=new ky(e,n),c=await(await new pd(i,r).sendTransaction(s)).wait();return(c==null?void 0:c.hash)||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new ky(e,n),i=new pd(s,r),o=new Iu(t.tokenAddress,t.abi,i);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},getEnsAddress:async(t,e)=>{try{const r=Number(e.id);let n=null,s=!1;return Fq(t)&&(s=await U_.resolveReownName(t)||!1),r===1&&(n=await new Gu("mainnet").resolveName(t)),n||s||!1}catch{return!1}},getEnsAvatar:async(t,e)=>e===1&&await new Gu("mainnet").getAvatar(t)||!1,parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:Cb,formatUnits:j_};class vge extends Q9{constructor(){super({}),this.adapterType="ethers",this.balancePromises={},this.providerHandlers=null,this.namespace=ke.CHAIN.EVM}async createEthersConfig(e){if(!e.metadata)return;let r;function n(){if(r)return r;if(!(typeof window>"u")&&window.ethereum)return r=window.ethereum,r}async function s(){var o,a,c;try{const{createCoinbaseWalletSDK:l}=await es(async()=>{const{createCoinbaseWalletSDK:f}=await import("./index-BQ0xP8w-.js");return{createCoinbaseWalletSDK:f}},__vite__mapDeps([35,1]),import.meta.url);return typeof window>"u"?void 0:l({appName:(o=e==null?void 0:e.metadata)==null?void 0:o.name,appLogoUrl:(a=e==null?void 0:e.metadata)==null?void 0:a.icons[0],appChainIds:((c=e.networks)==null?void 0:c.map(f=>f.id))||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(l){console.error("Failed to import Coinbase Wallet SDK:",l);return}}const i={metadata:e.metadata};if(e.enableInjected!==!1&&(i.injected=n()),e.enableCoinbase!==!1){const o=await s();o&&(i.coinbase=o)}return i.EIP6963=e.enableEIP6963!==!1,i}async signMessage(e){const{message:r,address:n,provider:s}=e;if(!s)throw new Error("Provider is undefined");try{return{signature:await ac.signMessage(r,s,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){var n;if(!e.provider)throw new Error("Provider is undefined");return{hash:await ac.sendTransaction({value:e.value,to:e.to,data:e.data,gas:e.gas,gasPrice:e.gasPrice,address:e.address},e.provider,e.address,Number((n=e.caipNetwork)==null?void 0:n.id))}}async writeContract(e){var s;if(!e.provider)throw new Error("Provider is undefined");const{address:r}=sa.parseCaipAddress(e.caipAddress);return{hash:await ac.writeContract(e,e.provider,r,Number((s=e.caipNetwork)==null?void 0:s.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:s}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await ac.estimateGas({data:e.data,to:e.to,address:s},r,s,Number(n==null?void 0:n.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}async getEnsAddress(e){const{name:r,caipNetwork:n}=e;return n?{address:await ac.getEnsAddress(r,n)}:{address:""}}parseUnits(e){return ac.parseUnits(e.value,e.decimals)}formatUnits(e){return ac.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,s=this.connectors.find(c=>c.id===r),i=s==null?void 0:s.provider;if(!i)throw new Error("Provider not found");const o=await i.request({method:"eth_requestAccounts"}),a=await i.request({method:"eth_chainId"});if(this.listenProviderEvents(i),!o[0])throw new Error("No accounts found");if(!(s!=null&&s.type))throw new Error("Connector type not found");return{address:o[0],chainId:Number(a)||Number(n),provider:i,type:s.type,id:r}}async syncConnectors(e){var n;this.ethersConfig=await this.createEthersConfig(e),(n=this.ethersConfig)!=null&&n.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(s=>s!=="metadata"&&s!=="EIP6963").forEach(s=>{var a,c;const i=s==="coinbase"?"coinbaseWalletSDK":s,o=s===ke.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:i,explorerId:Ro.ConnectorExplorerIds[i],imageUrl:(a=e==null?void 0:e.connectorImages)==null?void 0:a[i],name:Ro.ConnectorNamesMap[i]||"Unknown",imageId:Ro.ConnectorImageIds[i],type:Ro.ConnectorTypesMap[i]??"EXTERNAL",info:o?void 0:{rdns:i},chain:this.namespace,chains:[],provider:(c=this.ethersConfig)==null?void 0:c[s]})})}setUniversalProvider(e){this.addConnector(new $_({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}eip6963EventHandler(e){var r;if(e.detail){const{info:n,provider:s}=e.detail;if(!((r=this.connectors)==null?void 0:r.find(o=>o.name===(n==null?void 0:n.name)))){const o=Ro.ConnectorTypesMap[ke.CONNECTOR_ID.EIP6963],a=(n==null?void 0:n.rdns)||(n==null?void 0:n.name)||(n==null?void 0:n.uuid);this.namespace&&a&&this.addConnector({id:a,type:o,imageUrl:n==null?void 0:n.icon,name:(n==null?void 0:n.name)||"Unknown",provider:s,info:n,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(ur.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(ur.EIP6963_REQUEST_EVENT))}}async connect({id:e,type:r,chainId:n}){var c;const s=this.connectors.find(l=>l.id===e),i=s==null?void 0:s.provider;if(!i)throw new Error("Provider not found");let o=[],a;if(r==="AUTH"){const{address:l}=await i.connect({chainId:n,preferredAccountType:Re.state.defaultAccountTypes.eip155});o=[l]}else{if(o=await i.request({method:"eth_requestAccounts"}),a=await i.request({method:"eth_chainId"}),a!==n){const l=(c=this.caipNetworks)==null?void 0:c.find(u=>u.id===n);if(!l)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:l,provider:i,providerType:r})}catch{throw new Error("EthersAdapter:connect - Switch network failed")}}this.listenProviderEvents(i)}return{address:o[0],chainId:Number(n),provider:i,type:r,id:e}}async reconnect(e){const{id:r,chainId:n}=e,s=this.connectors.find(i=>i.id===r);s&&s.type==="AUTH"&&n&&await s.provider.connect({chainId:n,preferredAccountType:Re.state.defaultAccountTypes.eip155})}async getAccounts(e){const r=this.connectors.find(i=>i.id===e.id),n=r==null?void 0:r.provider;if(!n||!r)throw new Error("Provider not found");if(e.id===ke.CONNECTOR_ID.AUTH){const i=r.provider,{address:o,accounts:a}=await i.connect();return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>rt.createAccount("eip155",c.address,c.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(i=>rt.createAccount("eip155",i,"eoa"))}}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");switch(e.providerType){case"WALLET_CONNECT":e.provider.session&&e.provider.disconnect();break;case"AUTH":await e.provider.disconnect();break;case"ANNOUNCED":case"EXTERNAL":await this.revokeProviderPermissions(e.provider);break;default:throw new Error("Unsupported provider type")}}async getBalance(e){var s;const r=e.address,n=(s=this.caipNetworks)==null?void 0:s.find(i=>i.id===e.chainId);if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n&&n.chainNamespace==="eip155"){const i=`${n.caipNetworkId}:${r}`,o=this.balancePromises[i];if(o)return o;const a=We.getNativeBalanceCacheForCaipAddress(i);if(a)return{balance:a.balance,symbol:a.symbol};const c=new V7(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(c)try{return this.balancePromises[i]=new Promise(async l=>{const u=await c.getBalance(r),f=sde(u);We.updateNativeBalanceCache({caipAddress:i,balance:f,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),l({balance:f,symbol:n.nativeCurrency.symbol})}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async getProfile(e){if(e.chainId===1){const r=new Gu("mainnet"),n=await r.lookupAddress(e.address),s=await r.getAvatar(e.address);return{profileName:n||void 0,profileImage:s||void 0}}return{profileName:void 0,profileImage:void 0}}listenProviderEvents(e){const r=()=>{this.removeProviderListeners(e),this.emit("disconnect")},n=i=>{i.length>0?this.emit("accountChanged",{address:i[0]}):r()},s=i=>{const o=typeof i=="string"?gd.hexStringToNumber(i):Number(i);this.emit("switchNetwork",{chainId:o})};e.on("disconnect",r),e.on("accountsChanged",n),e.on("chainChanged",s),this.providerHandlers={disconnect:r,accountsChanged:n,chainChanged:s}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("chainChanged",this.providerHandlers.chainChanged),this.providerHandlers=null)}async switchNetwork(e){var i,o;const{caipNetwork:r,provider:n,providerType:s}=e;if(s==="AUTH"){await super.switchNetwork(e);return}try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:gd.numberToHexString(r.id)}]})}catch(a){if(a.code===Vc.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||a.code===Vc.ERROR_INVALID_CHAIN_ID||a.code===Vc.ERROR_CODE_DEFAULT||((o=(i=a==null?void 0:a.data)==null?void 0:i.originalError)==null?void 0:o.code)===Vc.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await gd.addEthereumChain(n,r);else if(s==="ANNOUNCED"||s==="EXTERNAL"||s==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){var e;return(e=this.connectors.find(r=>r.type==="WALLET_CONNECT"))==null?void 0:e.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(s=>s.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){var s,i;const r=$t.getProvider(ke.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");const n=(i=(s=r.session)==null?void 0:s.sessionProperties)==null?void 0:i.capabilities;if(n){const a=ac.parseWalletCapabilities(n)[e];if(a)return a}return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=$t.getProvider(ke.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=$t.getProvider(ke.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=$t.getProvider(ke.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}}HP.extend(xq);const Ege=function(t,e){return!t||e===void 0?"0.00":Number(j_(t,e)).toFixed(2)},W7=async()=>{const t=Ti(),{Address:e}=t;return e},Wve=function(t){return new Date(t).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})},Kve=function(t){return HP(t).fromNow()};/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let K7;const Yw=t=>K7=t,G7=Symbol();function KA(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var i0;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(i0||(i0={}));function Age(){const t=NT(!0),e=t.run(()=>Be({}));let r=[],n=[];const s=w3({install(i){Yw(s),s._a=i,i.provide(G7,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const J7=()=>{};function RI(t,e,r,n=J7){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&u3()&&f3(s),s}function Bf(t,...e){t.slice().forEach(r=>{r(...e)})}const _ge=t=>t(),kI=Symbol(),j2=Symbol();function GA(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];KA(s)&&KA(n)&&t.hasOwnProperty(r)&&!ir(n)&&!ka(n)?t[r]=GA(s,n):t[r]=n}return t}const Cge=Symbol();function Sge(t){return!KA(t)||!t.hasOwnProperty(Cge)}const{assign:uc}=Object;function xge(t){return!!(ir(t)&&t.effect)}function Ige(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let c;function l(){a||(r.state.value[t]=s?s():{});const u=OM(r.state.value[t]);return uc(u,i,Object.keys(o||{}).reduce((f,d)=>(f[d]=w3(ye(()=>{Yw(r);const h=r._s.get(t);return o[d].call(h,h)})),f),{}))}return c=Y7(t,l,e,r,n,!0),c}function Y7(t,e,r={},n,s,i){let o;const a=uc({actions:{}},r),c={deep:!0};let l,u,f=[],d=[],h;const p=n.state.value[t];!i&&!p&&(n.state.value[t]={}),Be({});let g;function y(L){let $;l=u=!1,typeof L=="function"?(L(n.state.value[t]),$={type:i0.patchFunction,storeId:t,events:h}):(GA(n.state.value[t],L),$={type:i0.patchObject,payload:L,storeId:t,events:h});const j=g=Symbol();Pu().then(()=>{g===j&&(l=!0)}),u=!0,Bf(f,$,n.state.value[t])}const E=i?function(){const{state:$}=r,j=$?$():{};this.$patch(O=>{uc(O,j)})}:J7;function C(){o.stop(),f=[],d=[],n._s.delete(t)}const I=(L,$="")=>{if(kI in L)return L[j2]=$,L;const j=function(){Yw(n);const O=Array.from(arguments),m=[],A=[];function S(x){m.push(x)}function b(x){A.push(x)}Bf(d,{args:O,name:j[j2],store:N,after:S,onError:b});let w;try{w=L.apply(this&&this.$id===t?this:N,O)}catch(x){throw Bf(A,x),x}return w instanceof Promise?w.then(x=>(Bf(m,x),x)).catch(x=>(Bf(A,x),Promise.reject(x))):(Bf(m,w),w)};return j[kI]=!0,j[j2]=$,j},T={_p:n,$id:t,$onAction:RI.bind(null,d),$patch:y,$reset:E,$subscribe(L,$={}){const j=RI(f,L,$.detached,()=>O()),O=o.run(()=>jt(()=>n.state.value[t],m=>{($.flush==="sync"?u:l)&&L({storeId:t,type:i0.direct,events:h},m)},uc({},c,$)));return j},$dispose:C},N=ll(T);n._s.set(t,N);const B=(n._a&&n._a.runWithContext||_ge)(()=>n._e.run(()=>(o=NT()).run(()=>e({action:I}))));for(const L in B){const $=B[L];if(ir($)&&!xge($)||ka($))i||(p&&Sge($)&&(ir($)?$.value=p[L]:GA($,p[L])),n.state.value[t][L]=$);else if(typeof $=="function"){const j=I($,L);B[L]=j,a.actions[L]=$}}return uc(N,B),uc(Pt(N),B),Object.defineProperty(N,"$state",{get:()=>n.state.value[t],set:L=>{y($=>{uc($,L)})}}),n._p.forEach(L=>{uc(N,o.run(()=>L({store:N,app:n._a,pinia:n,options:a})))}),p&&i&&r.hydrate&&r.hydrate(N.$state,p),l=!0,u=!0,N}/*! #__NO_SIDE_EFFECTS__ */function lC(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,c){const l=uB();return a=a||(l?St(G7,null):null),a&&Yw(a),a=K7,a._s.has(n)||(i?Y7(n,e,s,a):Ige(n,s,a)),a._s.get(n)}return o.$id=n,o}function Q7(t){{const e=Pt(t),r={};for(const n in e){const s=e[n];s.effect?r[n]=ye({get:()=>t[n],set(i){t[n]=i}}):(ir(s)||ka(s))&&(r[n]=Pa(t,n))}return r}}const Ti=lC("walletEVM",()=>{const t=Be({});function e(u){t.value=u}const r=ye(()=>t.value.address),n=ye(()=>r.value?r.value.slice(0,4)+"..."+r.value.slice(-4):""),s=ye(()=>t.value.isConnected),i=Be({});function o(u){i.value=u}const a=ye(()=>i.value.chainId),c=Be(BigInt(0));function l(u){c.value=u}return{AccountInfo:t,setAccountInfo:e,ChainInfo:i,setChainInfo:o,Address:r,ShowAddress:n,ChainId:a,IsConnected:s,Balance:c,setBalacne:l}},{persist:!1}),Tge="abc3b9f3674ee9bd02d76b3108da6cf4",Nge={name:"AEON",description:"AEON AI Payment",url:"https://ai.aeon.xyz/#/",icons:["https://ai.aeon.xyz/favicon.ico"]},Qw=Dfe({adapters:[new vge],networks:[lA],defaultNetwork:lA,metadata:Nge,projectId:Tge,features:{analytics:!1,email:!1,socials:!1,emailShowWallets:!1,swap:!1},enableWalletConnect:!1}),Pge=()=>{const{open:t}=Ofe();t({view:"Connect"}).finally(()=>{})},Oge=()=>{const{disconnect:t}=Nfe();t()};function Rge(){const t=Qw.getWalletProvider();return new ky(t)}async function Z7(){return await Rge().getSigner()}async function kge(t){return await(await Z7()).signMessage(t)}function Dge(t){Qw.switchNetwork(t)}Qw.subscribeAccount(t=>{Ti().setAccountInfo(t)});Qw.subscribeNetwork(t=>{Ti().setChainInfo(t)});const Mge={key:0,class:"rotate-img",src:ZP,alt:""},Bge=Ge({__name:"ConnectWallet",setup(t){const e=Rfe(),r=Be(!1);jt(()=>e.open,s=>{console.log({open:s}),s?r.value=!0:r.value&&!s&&(r.value=!1)});async function n(){r.value||(r.value=!0,Pge())}return(s,i)=>{const o=s_;return De(),tt(Xr,null,[ut(o,{class:"connect-wallet-btn primary-btn",onClick:n},{default:lt(()=>[G(r)?(De(),tt("img",Mge)):Ir("",!0),i[0]||(i[0]=Te("span",null,"Connect wallet",-1))]),_:1}),i[1]||(i[1]=Te("div",null,null,-1))],64)}}}),lf=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},Uge=lf(Bge,[["__scopeId","data-v-4cef5e5b"]]),$ge="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='12'%20cy='12'%20r='12'%20fill='%2327A27A'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.6072%2013.083C13.5259%2013.0891%2013.106%2013.1142%2012.1692%2013.1142C11.4241%2013.1142%2010.8951%2013.0918%2010.7095%2013.083C7.83014%2012.9564%205.68092%2012.4551%205.68092%2011.855C5.68092%2011.2549%207.83014%2010.7543%2010.7095%2010.6256V12.5838C10.8978%2012.5974%2011.437%2012.6292%2012.1821%2012.6292C13.0762%2012.6292%2013.5239%2012.5919%2013.6045%2012.5845V10.627C16.4778%2010.755%2018.6223%2011.2562%2018.6223%2011.855C18.6223%2012.4538%2016.4785%2012.955%2013.6045%2013.0823L13.6072%2013.083ZM13.6072%2010.4244V8.67213H17.6171V6H6.69965V8.67213H10.7089V10.4238C7.45015%2010.5734%204.99951%2011.219%204.99951%2011.9925C4.99951%2012.766%207.45015%2013.4109%2010.7089%2013.5612V19.1764H13.6065V13.5592C16.8578%2013.4095%2019.3044%2012.7647%2019.3044%2011.9918C19.3044%2011.219%2016.8598%2010.5741%2013.6065%2010.4238L13.6072%2010.4244Z'%20fill='white'/%3e%3c/svg%3e",Lge="data:image/svg+xml,%3csvg%20width='10'%20height='10'%20viewBox='0%200%2010%2010'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.25%203.75L5%207.21154L8.75%203.75'%20stroke='%23191B1F'%20stroke-width='1.25'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Fge="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M16.2498%208.33317V5.6665C16.2498%204.26637%2016.2498%203.56631%2015.9774%203.03153C15.7377%202.56112%2015.3552%202.17867%2014.8848%201.93899C14.35%201.6665%2013.65%201.6665%2012.2498%201.6665H6.9165C5.51637%201.6665%204.81631%201.6665%204.28153%201.93899C3.81112%202.17867%203.42867%202.56112%203.18899%203.03153C2.9165%203.56631%202.9165%204.26637%202.9165%205.6665V14.3332C2.9165%2015.7333%202.9165%2016.4334%203.18899%2016.9681C3.42867%2017.4386%203.81112%2017.821%204.28153%2018.0607C4.81631%2018.3332%205.51637%2018.3332%206.9165%2018.3332H9.58317M9.99984%209.1665H6.24984M7.08317%2012.4998H6.24984M12.9165%205.83317H6.24984'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5%2012.5L16.6667%2016.6667M17.9167%2014.5833C17.9167%2016.4243%2016.4243%2017.9167%2014.5833%2017.9167C12.7424%2017.9167%2011.25%2016.4243%2011.25%2014.5833C11.25%2012.7424%2012.7424%2011.25%2014.5833%2011.25C16.4243%2011.25%2017.9167%2012.7424%2017.9167%2014.5833Z'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",jge="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='24'%20height='24'%20rx='12'%20fill='url(%23pattern0_37330_2707)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_37330_2707'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_37330_2707'%20transform='scale(0.0078125)'/%3e%3c/pattern%3e%3cimage%20id='image0_37330_2707'%20width='128'%20height='128'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAgKADAAQAAAABAAAAgAAAAABIjgR3AAADBElEQVR4Ae2dsXFTQRgGEaNOSCmALlwGMUMdFEDkGujADTigElog9wWenX/fnTyzznz+7vufdnUOniT79vL366crv/58/4nqn37/QnkafrTr+UwfQHmXQAJcnrgtARiZuyEBLk/clgCMzN2QAJcnbksARuZuSIDLE7clACNzNyTA5YnbEoCRuRsS4PLEbQnAyNwNCXB54rYEYGTuhtuPb89u45u2q+/vvxmnf0tfP6AX0AmgxOR8AmSgtC4BlJicT4AMlNYlgBKT8wmQgdK6BFBicj4BMlBalwBKTM4nQAZK6xJAicn5BMhAaV0CKDE5nwAZKK1LACUm529Xfz6AXu/V998f7fWJTgB9hsj5BMhAaV0CKDE5nwAZKK1LACUm5xMgA6V1CaDE5HwCZKC0LgGUmJxPgAyU1iWAEpPzCZCB0roEUGJyPgEyUFqXAEpMzt/p/fdHu58u8xjXUZ6dgDHyWUECZvzGuxMwRjgrSMCM33h3AsYIZwUJmPEb707AGOGsIAEzfuPdCRgjnBUkYMZvvDsBY4SzggTM+I13J2CMcFaQgBm/8e4EjBHOCvp7Qe/wo/f336lbftwJWJDsXUjAXt7LtAQsSPYuJGAv72VaAhYkexcSsJf3Mi0BC5K9CwnYy3uZloAFyd6FBOzlvUxLwIJk70IC9vJepiVgQbJ3IQF7eS/TErAg2btwp+/3v/r++NX99PFSHbS/E0AJy/kEyEBpXQIoMTmfABkorUsAJSbnEyADpXUJoMTkfAJkoLQuAZSYnE+ADJTWJYASk/MJkIHSugRQYnI+ATJQWpcASkzO32nfl3+vdMuHzl/9eDsBh58eCUjAYQKHx3cCEnCYwOHxnYAEHCZweHwnIAGHCRwe3wlIwGECh8d3AhJwmMDh8Z2ABBwmcHj85f9PmL7fn76/nvJ7tOvpVxA1KOcTIAOldQmgxOR8AmSgtC4BlJicT4AMlNYlgBKT8wmQgdK6BFBicj4BMlBalwBKTM4nQAZK6xJAicn5BMhAaV0CKDE5/x8R0y2HIfrs1wAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",Hge="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5312%2012.1846L16.6646%2010.0513L14.5312%207.91797'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.13281%2010.0508H16.6078'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.79948%2016.6673C6.11615%2016.6673%203.13281%2014.1673%203.13281%2010.0007C3.13281%205.83398%206.11615%203.33398%209.79948%203.33398'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function X7(t){const e=Ti(),{IsConnected:r,Address:n,ChainId:s,ShowAddress:i}=Q7(e);return rw(()=>{const o=r.value&&n.value&&s.value,a=!r.value&&!n.value&&s.value;(o||a)&&(t==null||t({IsConnected:r.value,Address:n.value,ChainId:s.value}))}),{IsConnected:r,Address:n,ChainId:s,ShowAddress:i,WalletAddress:n}}const am=lC("Approve",()=>{const t=Be({}),e=Be({});function r(p){t.value=p}function n(p){e.value=p}const s=ye(()=>e.value.address),i=ye(()=>e.value.decimals),o=ye(()=>e.value.chainId),a=ye(()=>t.value.chainId),c=ye(()=>t.value.callData),l=ye(()=>t.value.approveAmount),u=ye(()=>t.value.contractAddress),f=Be(0);function d(p){f.value=p}const h=ye(()=>Number(f.value).toFixed(2));return{ApproveInfo:t,TokenInfo:e,setApproveInfo:r,setTokenInfo:n,TokenAddress:s,TokenDecimals:i,TokenChainId:o,ApproveChainId:a,ApproveCallData:c,ApproveAmount:l,ApproveContractAddress:u,AllowanceOfUSDT:f,setAllowanceOfUSDT:d,formattedUSDTAllowance:h}},{persist:!0});function eD(t){const e=am(),{TokenAddress:r,ApproveContractAddress:n,ApproveAmount:s,TokenDecimals:i,formattedUSDTAllowance:o}=Q7(e);return rw(()=>{t==null||t({TokenAddress:r.value,ApproveContractAddress:n.value})}),{TokenAddress:r,ApproveContractAddress:n,ApproveAmount:s,TokenDecimals:i,formattedUSDTAllowance:o}}const zge={class:"wallet-dashboard flex aic"},qge={key:0,class:"rotate-img",src:ZP,alt:""},Vge={key:1,class:"available"},Wge={class:"flex aic"},Kge={class:"options"},Gge={class:"account-info flex aic jcc"},Jge=Ge({__name:"AccountInfo",props:{BalanceOfUSDT:{},isApproveLoading:{type:Boolean}},emits:["approve","revoke","disconnect"],setup(t,{emit:e}){const{ShowAddress:r}=X7(),{formattedUSDTAllowance:n,TokenDecimals:s,ApproveAmount:i}=eD(),o=t;ye(()=>Ege(o.BalanceOfUSDT,s.value));const a=e;return(c,l)=>{const u=s_,f=YP;return De(),tt("div",zge,[Number(G(n))===0?(De(),sr(u,{key:0,class:"approve-btn primary-btn",onClick:l[0]||(l[0]=()=>a("approve"))},{default:lt(()=>[o.isApproveLoading?(De(),tt("img",qge)):Ir("",!0),Te("span",null,"Authorize "+Ss(G(i))+" USDT",1)]),_:1})):(De(),tt("div",Vge,[ut(f,{trigger:"hover",width:"180","show-arrow":!1,"popper-class":"common-popover",placement:"bottom"},{reference:lt(()=>[Te("div",Wge,[l[3]||(l[3]=Te("img",{src:$ge,alt:""},null,-1)),Te("span",null," Authorized: "+Ss(G(n))+" USDT ",1),l[4]||(l[4]=Te("img",{class:"down",src:Lge,alt:""},null,-1))])]),default:lt(()=>[Te("div",Kge,[Te("div",{class:"item revoke flex aic",onClick:l[1]||(l[1]=()=>a("revoke"))},l[5]||(l[5]=[Te("img",{src:Fge,alt:""},null,-1),Te("span",null,"Revoke",-1)]))])]),_:1})])),Te("div",Gge,[l[6]||(l[6]=Te("img",{src:jge,alt:""},null,-1)),Te("span",null,Ss(G(r)),1)]),Te("div",{class:"setting",onClick:l[2]||(l[2]=()=>a("disconnect"))},l[7]||(l[7]=[Te("img",{src:Hge,alt:""},null,-1)]))])}}}),Yge=lf(Jge,[["__scopeId","data-v-454a72d4"]]);function tD(t,e){return function(){return t.apply(e,arguments)}}const{toString:Qge}=Object.prototype,{getPrototypeOf:uC}=Object,Zw=(t=>e=>{const r=Qge.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),io=t=>(t=t.toLowerCase(),e=>Zw(e)===t),Xw=t=>e=>typeof e===t,{isArray:qh}=Array,gg=Xw("undefined");function Zge(t){return t!==null&&!gg(t)&&t.constructor!==null&&!gg(t.constructor)&&Js(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rD=io("ArrayBuffer");function Xge(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rD(t.buffer),e}const eme=Xw("string"),Js=Xw("function"),nD=Xw("number"),e1=t=>t!==null&&typeof t=="object",tme=t=>t===!0||t===!1,Dy=t=>{if(Zw(t)!=="object")return!1;const e=uC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rme=io("Date"),nme=io("File"),sme=io("Blob"),ime=io("FileList"),ome=t=>e1(t)&&Js(t.pipe),ame=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Js(t.append)&&((e=Zw(t))==="formdata"||e==="object"&&Js(t.toString)&&t.toString()==="[object FormData]"))},cme=io("URLSearchParams"),[lme,ume,fme,dme]=["ReadableStream","Request","Response","Headers"].map(io),hme=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),qh(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,t[a],a,t)}}function sD(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Jl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iD=t=>!gg(t)&&t!==Jl;function JA(){const{caseless:t}=iD(this)&&this||{},e={},r=(n,s)=>{const i=t&&sD(e,s)||s;Dy(e[i])&&Dy(n)?e[i]=JA(e[i],n):Dy(n)?e[i]=JA({},n):qh(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&cm(arguments[n],r);return e}const pme=(t,e,r,{allOwnKeys:n}={})=>(cm(e,(s,i)=>{r&&Js(s)?t[i]=tD(s,r):t[i]=s},{allOwnKeys:n}),t),gme=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mme=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},yme=(t,e,r,n)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&uC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},bme=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},wme=t=>{if(!t)return null;if(qh(t))return t;let e=t.length;if(!nD(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},vme=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&uC(Uint8Array)),Eme=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Ame=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},_me=io("HTMLFormElement"),Cme=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),DI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Sme=io("RegExp"),oD=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};cm(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},xme=t=>{oD(t,(e,r)=>{if(Js(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Js(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ime=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return qh(t)?n(t):n(String(t).split(e)),r},Tme=()=>{},Nme=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Pme(t){return!!(t&&Js(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ome=t=>{const e=new Array(10),r=(n,s)=>{if(e1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=qh(n)?[]:{};return cm(n,(o,a)=>{const c=r(o,s+1);!gg(c)&&(i[a]=c)}),e[s]=void 0,i}}return n};return r(t,0)},Rme=io("AsyncFunction"),kme=t=>t&&(e1(t)||Js(t))&&Js(t.then)&&Js(t.catch),aD=((t,e)=>t?setImmediate:e?((r,n)=>(Jl.addEventListener("message",({source:s,data:i})=>{s===Jl&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Jl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Js(Jl.postMessage)),Dme=typeof queueMicrotask<"u"?queueMicrotask.bind(Jl):typeof process<"u"&&process.nextTick||aD,he={isArray:qh,isArrayBuffer:rD,isBuffer:Zge,isFormData:ame,isArrayBufferView:Xge,isString:eme,isNumber:nD,isBoolean:tme,isObject:e1,isPlainObject:Dy,isReadableStream:lme,isRequest:ume,isResponse:fme,isHeaders:dme,isUndefined:gg,isDate:rme,isFile:nme,isBlob:sme,isRegExp:Sme,isFunction:Js,isStream:ome,isURLSearchParams:cme,isTypedArray:vme,isFileList:ime,forEach:cm,merge:JA,extend:pme,trim:hme,stripBOM:gme,inherits:mme,toFlatObject:yme,kindOf:Zw,kindOfTest:io,endsWith:bme,toArray:wme,forEachEntry:Eme,matchAll:Ame,isHTMLForm:_me,hasOwnProperty:DI,hasOwnProp:DI,reduceDescriptors:oD,freezeMethods:xme,toObjectSet:Ime,toCamelCase:Cme,noop:Tme,toFiniteNumber:Nme,findKey:sD,global:Jl,isContextDefined:iD,isSpecCompliantForm:Pme,toJSONObject:Ome,isAsyncFn:Rme,isThenable:kme,setImmediate:aD,asap:Dme};function dt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}he.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:he.toJSONObject(this.config),code:this.code,status:this.status}}});const cD=dt.prototype,lD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lD[t]={value:t}});Object.defineProperties(dt,lD);Object.defineProperty(cD,"isAxiosError",{value:!0});dt.from=(t,e,r,n,s,i)=>{const o=Object.create(cD);return he.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),dt.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Mme=null;function YA(t){return he.isPlainObject(t)||he.isArray(t)}function uD(t){return he.endsWith(t,"[]")?t.slice(0,-2):t}function MI(t,e,r){return t?t.concat(e).map(function(s,i){return s=uD(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Bme(t){return he.isArray(t)&&!t.some(YA)}const Ume=he.toFlatObject(he,{},null,function(e){return/^is[A-Z]/.test(e)});function t1(t,e,r){if(!he.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=he.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!he.isUndefined(y[g])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&he.isSpecCompliantForm(e);if(!he.isFunction(s))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(he.isDate(p))return p.toISOString();if(!c&&he.isBlob(p))throw new dt("Blob is not supported. Use a Buffer instead.");return he.isArrayBuffer(p)||he.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,y){let E=p;if(p&&!y&&typeof p=="object"){if(he.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(he.isArray(p)&&Bme(p)||(he.isFileList(p)||he.endsWith(g,"[]"))&&(E=he.toArray(p)))return g=uD(g),E.forEach(function(I,T){!(he.isUndefined(I)||I===null)&&e.append(o===!0?MI([g],T,i):o===null?g:g+"[]",l(I))}),!1}return YA(p)?!0:(e.append(MI(y,g,i),l(p)),!1)}const f=[],d=Object.assign(Ume,{defaultVisitor:u,convertValue:l,isVisitable:YA});function h(p,g){if(!he.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),he.forEach(p,function(E,C){(!(he.isUndefined(E)||E===null)&&s.call(e,E,he.isString(C)?C.trim():C,g,d))===!0&&h(E,g?g.concat(C):[C])}),f.pop()}}if(!he.isObject(t))throw new TypeError("data must be an object");return h(t),e}function BI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function fC(t,e){this._pairs=[],t&&t1(t,this,e)}const fD=fC.prototype;fD.append=function(e,r){this._pairs.push([e,r])};fD.toString=function(e){const r=e?function(n){return e.call(this,n,BI)}:BI;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function $me(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dD(t,e,r){if(!e)return t;const n=r&&r.encode||$me;he.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=he.isURLSearchParams(e)?e.toString():new fC(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class UI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){he.forEach(this.handlers,function(n){n!==null&&e(n)})}}const hD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lme=typeof URLSearchParams<"u"?URLSearchParams:fC,Fme=typeof FormData<"u"?FormData:null,jme=typeof Blob<"u"?Blob:null,Hme={isBrowser:!0,classes:{URLSearchParams:Lme,FormData:Fme,Blob:jme},protocols:["http","https","file","blob","url","data"]},dC=typeof window<"u"&&typeof document<"u",QA=typeof navigator=="object"&&navigator||void 0,zme=dC&&(!QA||["ReactNative","NativeScript","NS"].indexOf(QA.product)<0),qme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vme=dC&&window.location.href||"http://localhost",Wme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dC,hasStandardBrowserEnv:zme,hasStandardBrowserWebWorkerEnv:qme,navigator:QA,origin:Vme},Symbol.toStringTag,{value:"Module"})),zn={...Wme,...Hme};function Kme(t,e){return t1(t,new zn.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return zn.isNode&&he.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Gme(t){return he.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Jme(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function pD(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=r.length;return o=!o&&he.isArray(s)?s.length:o,c?(he.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!he.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&he.isArray(s[o])&&(s[o]=Jme(s[o])),!a)}if(he.isFormData(t)&&he.isFunction(t.entries)){const r={};return he.forEachEntry(t,(n,s)=>{e(Gme(n),s,r,0)}),r}return null}function Yme(t,e,r){if(he.isString(t))try{return(e||JSON.parse)(t),he.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const lm={transitional:hD,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=he.isObject(e);if(i&&he.isHTMLForm(e)&&(e=new FormData(e)),he.isFormData(e))return s?JSON.stringify(pD(e)):e;if(he.isArrayBuffer(e)||he.isBuffer(e)||he.isStream(e)||he.isFile(e)||he.isBlob(e)||he.isReadableStream(e))return e;if(he.isArrayBufferView(e))return e.buffer;if(he.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Kme(e,this.formSerializer).toString();if((a=he.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return t1(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Yme(e)):e}],transformResponse:[function(e){const r=this.transitional||lm.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(he.isResponse(e)||he.isReadableStream(e))return e;if(e&&he.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?dt.from(a,dt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};he.forEach(["delete","get","head","post","put","patch"],t=>{lm.headers[t]={}});const Qme=he.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zme=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&Qme[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},$I=Symbol("internals");function Ep(t){return t&&String(t).trim().toLowerCase()}function My(t){return t===!1||t==null?t:he.isArray(t)?t.map(My):String(t)}function Xme(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const eye=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function H2(t,e,r,n,s){if(he.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!he.isString(e)){if(he.isString(n))return e.indexOf(n)!==-1;if(he.isRegExp(n))return n.test(e)}}function tye(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function rye(t,e){const r=he.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let Ts=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(a,c,l){const u=Ep(c);if(!u)throw new Error("header name must be a non-empty string");const f=he.findKey(s,u);(!f||s[f]===void 0||l===!0||l===void 0&&s[f]!==!1)&&(s[f||c]=My(a))}const o=(a,c)=>he.forEach(a,(l,u)=>i(l,u,c));if(he.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(he.isString(e)&&(e=e.trim())&&!eye(e))o(Zme(e),r);else if(he.isHeaders(e))for(const[a,c]of e.entries())i(c,a,n);else e!=null&&i(r,e,n);return this}get(e,r){if(e=Ep(e),e){const n=he.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return Xme(s);if(he.isFunction(r))return r.call(this,s,n);if(he.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ep(e),e){const n=he.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||H2(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=Ep(o),o){const a=he.findKey(n,o);a&&(!r||H2(n,n[a],a,r))&&(delete n[a],s=!0)}}return he.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||H2(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return he.forEach(this,(s,i)=>{const o=he.findKey(n,i);if(o){r[o]=My(s),delete r[i];return}const a=e?tye(i):String(i).trim();a!==i&&delete r[i],r[a]=My(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return he.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&he.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[$I]=this[$I]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ep(o);n[a]||(rye(s,o),n[a]=!0)}return he.isArray(e)?e.forEach(i):i(e),this}};Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);he.reduceDescriptors(Ts.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});he.freezeMethods(Ts);function z2(t,e){const r=this||lm,n=e||r,s=Ts.from(n.headers);let i=n.data;return he.forEach(t,function(a){i=a.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function gD(t){return!!(t&&t.__CANCEL__)}function Vh(t,e,r){dt.call(this,t??"canceled",dt.ERR_CANCELED,e,r),this.name="CanceledError"}he.inherits(Vh,dt,{__CANCEL__:!0});function mD(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new dt("Request failed with status code "+r.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function nye(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sye(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[i];o||(o=l),r[s]=c,n[s]=l;let f=i,d=0;for(;f!==s;)d+=r[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-o<e)return;const h=u&&l-u;return h?Math.round(d*1e3/h):void 0}}function iye(t,e){let r=0,n=1e3/e,s,i;const o=(l,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),f=u-r;f>=n?o(l,u):(s=l,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const Ub=(t,e,r=3)=>{let n=0;const s=sye(50,250);return iye(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,l=s(c),u=o<=a;n=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},r)},LI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},FI=t=>(...e)=>he.asap(()=>t(...e)),oye=zn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,zn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(zn.origin),zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent)):()=>!0,aye=zn.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const o=[t+"="+encodeURIComponent(e)];he.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),he.isString(n)&&o.push("path="+n),he.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cye(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lye(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yD(t,e,r){let n=!cye(e);return t&&(n||r==!1)?lye(t,e):e}const jI=t=>t instanceof Ts?{...t}:t;function Ju(t,e){e=e||{};const r={};function n(l,u,f,d){return he.isPlainObject(l)&&he.isPlainObject(u)?he.merge.call({caseless:d},l,u):he.isPlainObject(u)?he.merge({},u):he.isArray(u)?u.slice():u}function s(l,u,f,d){if(he.isUndefined(u)){if(!he.isUndefined(l))return n(void 0,l,f,d)}else return n(l,u,f,d)}function i(l,u){if(!he.isUndefined(u))return n(void 0,u)}function o(l,u){if(he.isUndefined(u)){if(!he.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function a(l,u,f){if(f in e)return n(l,u);if(f in t)return n(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u,f)=>s(jI(l),jI(u),f,!0)};return he.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=c[u]||s,d=f(t[u],e[u],u);he.isUndefined(d)&&f!==a||(r[u]=d)}),r}const bD=t=>{const e=Ju({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Ts.from(o),e.url=dD(yD(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(he.isFormData(r)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[l,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([l||"multipart/form-data",...u].join("; "))}}if(zn.hasStandardBrowserEnv&&(n&&he.isFunction(n)&&(n=n(e)),n||n!==!1&&oye(e.url))){const l=s&&i&&aye.read(i);l&&o.set(s,l)}return e},uye=typeof XMLHttpRequest<"u",fye=uye&&function(t){return new Promise(function(r,n){const s=bD(t);let i=s.data;const o=Ts.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=s,u,f,d,h,p;function g(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function E(){if(!y)return;const I=Ts.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:I,config:t,request:y};mD(function(B){r(B),g()},function(B){n(B),g()},N),y=null}"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(E)},y.onabort=function(){y&&(n(new dt("Request aborted",dt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new dt("Network Error",dt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||hD;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),n(new dt(T,N.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&he.forEach(o.toJSON(),function(T,N){y.setRequestHeader(N,T)}),he.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),l&&([d,p]=Ub(l,!0),y.addEventListener("progress",d)),c&&y.upload&&([f,h]=Ub(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(u=I=>{y&&(n(!I||I.type?new Vh(null,t,y):I),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const C=nye(s.url);if(C&&zn.protocols.indexOf(C)===-1){n(new dt("Unsupported protocol "+C+":",dt.ERR_BAD_REQUEST,t));return}y.send(i||null)})},dye=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(l){if(!s){s=!0,a();const u=l instanceof Error?l:this.reason;n.abort(u instanceof dt?u:new Vh(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new dt(`timeout ${e} of ms exceeded`,dt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>he.asap(a),c}},hye=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},pye=async function*(t,e){for await(const r of gye(t))yield*hye(r,e)},gye=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},HI=(t,e,r,n)=>{const s=pye(t,e);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await s.next();if(l){a(),c.close();return}let f=u.byteLength;if(r){let d=i+=f;r(d)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},r1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wD=r1&&typeof ReadableStream=="function",mye=r1&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yye=wD&&vD(()=>{let t=!1;const e=new Request(zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zI=64*1024,ZA=wD&&vD(()=>he.isReadableStream(new Response("").body)),$b={stream:ZA&&(t=>t.body)};r1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$b[e]&&($b[e]=he.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new dt(`Response type '${e}' is not supported`,dt.ERR_NOT_SUPPORT,n)})})})(new Response);const bye=async t=>{if(t==null)return 0;if(he.isBlob(t))return t.size;if(he.isSpecCompliantForm(t))return(await new Request(zn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(he.isArrayBufferView(t)||he.isArrayBuffer(t))return t.byteLength;if(he.isURLSearchParams(t)&&(t=t+""),he.isString(t))return(await mye(t)).byteLength},wye=async(t,e)=>{const r=he.toFiniteNumber(t.getContentLength());return r??bye(e)},vye=r1&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:d}=bD(t);l=l?(l+"").toLowerCase():"text";let h=dye([s,i&&i.toAbortSignal()],o),p;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(c&&yye&&r!=="get"&&r!=="head"&&(y=await wye(u,n))!==0){let N=new Request(e,{method:"POST",body:n,duplex:"half"}),k;if(he.isFormData(n)&&(k=N.headers.get("content-type"))&&u.setContentType(k),N.body){const[B,L]=LI(y,Ub(FI(c)));n=HI(N.body,zI,B,L)}}he.isString(f)||(f=f?"include":"omit");const E="credentials"in Request.prototype;p=new Request(e,{...d,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:E?f:void 0});let C=await fetch(p);const I=ZA&&(l==="stream"||l==="response");if(ZA&&(a||I&&g)){const N={};["status","statusText","headers"].forEach($=>{N[$]=C[$]});const k=he.toFiniteNumber(C.headers.get("content-length")),[B,L]=a&&LI(k,Ub(FI(a),!0))||[];C=new Response(HI(C.body,zI,B,()=>{L&&L(),g&&g()}),N)}l=l||"text";let T=await $b[he.findKey($b,l)||"text"](C,t);return!I&&g&&g(),await new Promise((N,k)=>{mD(N,k,{data:T,headers:Ts.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:p})})}catch(E){throw g&&g(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new dt("Network Error",dt.ERR_NETWORK,t,p),{cause:E.cause||E}):dt.from(E,E&&E.code,t,p)}}),XA={http:Mme,xhr:fye,fetch:vye};he.forEach(XA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const qI=t=>`- ${t}`,Eye=t=>he.isFunction(t)||t===null||t===!1,ED={getAdapter:t=>{t=he.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!Eye(r)&&(n=XA[(o=String(r)).toLowerCase()],n===void 0))throw new dt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(qI).join(`
`):" "+qI(i[0]):"as no adapter specified";throw new dt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:XA};function q2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vh(null,t)}function VI(t){return q2(t),t.headers=Ts.from(t.headers),t.data=z2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ED.getAdapter(t.adapter||lm.adapter)(t).then(function(n){return q2(t),n.data=z2.call(t,t.transformResponse,n),n.headers=Ts.from(n.headers),n},function(n){return gD(n)||(q2(t),n&&n.response&&(n.response.data=z2.call(t,t.transformResponse,n.response),n.response.headers=Ts.from(n.response.headers))),Promise.reject(n)})}const AD="1.8.4",n1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{n1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const WI={};n1.transitional=function(e,r,n){function s(i,o){return"[Axios v"+AD+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new dt(s(o," has been removed"+(r?" in "+r:"")),dt.ERR_DEPRECATED);return r&&!WI[o]&&(WI[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};n1.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Aye(t,e,r){if(typeof t!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new dt("option "+i+" must be "+c,dt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new dt("Unknown option "+i,dt.ERR_BAD_OPTION)}}const By={assertOptions:Aye,validators:n1},go=By.validators;let Tu=class{constructor(e){this.defaults=e,this.interceptors={request:new UI,response:new UI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ju(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&By.assertOptions(n,{silentJSONParsing:go.transitional(go.boolean),forcedJSONParsing:go.transitional(go.boolean),clarifyTimeoutError:go.transitional(go.boolean)},!1),s!=null&&(he.isFunction(s)?r.paramsSerializer={serialize:s}:By.assertOptions(s,{encode:go.function,serialize:go.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),By.assertOptions(r,{baseUrl:go.spelling("baseURL"),withXsrfToken:go.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&he.merge(i.common,i[r.method]);i&&he.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Ts.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let u,f=0,d;if(!c){const p=[VI.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,l),d=p.length,u=Promise.resolve(r);f<d;)u=u.then(p[f++],p[f++]);return u}d=a.length;let h=r;for(f=0;f<d;){const p=a[f++],g=a[f++];try{h=p(h)}catch(y){g.call(this,y);break}}try{u=VI.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=l.length;f<d;)u=u.then(l[f++],l[f++]);return u}getUri(e){e=Ju(this.defaults,e);const r=yD(e.baseURL,e.url,e.allowAbsoluteUrls);return dD(r,e.params,e.paramsSerializer)}};he.forEach(["delete","get","head","options"],function(e){Tu.prototype[e]=function(r,n){return this.request(Ju(n||{},{method:e,url:r,data:(n||{}).data}))}});he.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,a){return this.request(Ju(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Tu.prototype[e]=r(),Tu.prototype[e+"Form"]=r(!0)});let _ye=class _D{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new Vh(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new _D(function(s){e=s}),cancel:e}}};function Cye(t){return function(r){return t.apply(null,r)}}function Sye(t){return he.isObject(t)&&t.isAxiosError===!0}const e3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(e3).forEach(([t,e])=>{e3[e]=t});function CD(t){const e=new Tu(t),r=tD(Tu.prototype.request,e);return he.extend(r,Tu.prototype,e,{allOwnKeys:!0}),he.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return CD(Ju(t,s))},r}const Tr=CD(lm);Tr.Axios=Tu;Tr.CanceledError=Vh;Tr.CancelToken=_ye;Tr.isCancel=gD;Tr.VERSION=AD;Tr.toFormData=t1;Tr.AxiosError=dt;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=Cye;Tr.isAxiosError=Sye;Tr.mergeConfig=Ju;Tr.AxiosHeaders=Ts;Tr.formToJSON=t=>pD(he.isHTMLForm(t)?new FormData(t):t);Tr.getAdapter=ED.getAdapter;Tr.HttpStatusCode=e3;Tr.default=Tr;const{Axios:Yve,AxiosError:Qve,CanceledError:Zve,isCancel:Xve,CancelToken:e2e,VERSION:t2e,all:r2e,Cancel:n2e,isAxiosError:s2e,spread:i2e,toFormData:o2e,AxiosHeaders:a2e,HttpStatusCode:c2e,formToJSON:l2e,getAdapter:u2e,mergeConfig:f2e}=Tr,SD=6e4,s1=Tr.create({baseURL:"https://ai-test.alchemytech.cc",timeout:SD,headers:{"Content-Type":"application/json"}});s1.interceptors.request.use(async function(t){return t},function(t){return Promise.reject(t)});s1.interceptors.response.use(function(t){const{return_code:e,return_message:r}=t.data;return t},function(t){return console.error(t),Promise.reject(t)});async function pl({url:t,params:e}){try{return(await s1.get(t,{params:e})).data}catch(r){throw r}}async function xD({url:t,data:e}){try{return(await s1.post(t,e)).data}catch(r){throw r}}const xye={},Iye={ragStreamChat:"/rag/streamChat",testStart:"/test/start",getUserResource:"/vnc/resource/getUserResource",checkSignSecret:"/vnc/resource/checkSignSecret",stop:"/stop",ws_chat:"/chat",genJobId:"/api/v1/jobs/genJobId",labelConfigs:"/api/v1/labelConfigs/search",jobs:"/api/v1/jobs/search",jobRecords:"/api/v1/jobRecords/search",jobShowSelected:"/api/v1/jobShowSelected/search",jobDelete:"/api/v1/job/delete"},Vo={...xye,...Iye};function Tye(t){return pl({url:Vo.ragStreamChat,params:t})}function Nye(t){return pl({url:Vo.testStart,params:t})}function Pye(t){return pl({url:Vo.stop,params:t})}function Oye(t){return pl({url:Vo.getUserResource,params:t})}function Rye(t){let e=Vo.checkSignSecret;return xD({url:e,data:t})}function kye(t){return pl({url:Vo.genJobId,params:t})}function Dye(t){return pl({url:Vo.jobs,params:t})}function Mye(t){return pl({url:Vo.jobRecords,params:t})}function d2e(t){return pl({url:Vo.jobShowSelected,params:t})}function Bye(t){let e=Vo.jobDelete;return xD({url:e,data:t})}const ID=async()=>`signature_${await W7()}`,Uye=async()=>localStorage.getItem("signature_key"),$ye=async t=>await kge(t),Lye=async()=>{const t=await ID();return!!localStorage.getItem(t)},TD=async()=>{const t=await Uye();localStorage.removeItem(t),localStorage.removeItem("signature_key")},Fye=async t=>{await TD();const e=await ID();localStorage.setItem("signature_key",e),localStorage.setItem(e,t)},jye=async t=>{try{return await $ye(t)}catch(e){return console.error("getSignMessage Error",e),null}},Hye=async(t,e)=>{try{const r=await Rye({address:t,sign:e});return!!(r!=null&&r.success)}catch(r){return console.error("checkSignSecret Error",r),!1}},zye=async t=>{const e=await jye(t);if(!e)return{checkSignSecretSuccess:!1};const r=await W7(),n=await Hye(r,e);return n&&await Fye(e),{checkSignSecretSuccess:n}},qye=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];async function Vye(t){const e=await Z7();return new Iu(t,qye,e)}async function t3({_tokenAddress:t,_spender:e,_amount:r}){const n=await Vye(t);try{const s=await n.approve(e,r);return console.log("approve",s),await s.wait(),m6({title:"Success",message:Number(r)!==0?"Approve Success":"Revoke Success",type:"success"}),s}catch(s){return m6({title:"Error",message:s.shortMessage||"Approve Error",type:"error"}),BigInt(0)}}const hC=Tr.create({baseURL:"https://test-api.aeon.xyz/aipay/deduction",timeout:SD,headers:{"Content-Type":"application/json"}});hC.interceptors.request.use(async function(t){return t},function(t){return Promise.reject(t)});hC.interceptors.response.use(function(t){const{return_code:e,return_message:r}=t.data;return t},function(t){return console.error(t),Promise.reject(t)});async function pC({url:t,params:e}){try{return(await hC.get(t,{params:e})).data}catch(r){throw r}}const Wye={},Kye={getOpenTokens:"/api/v1/open/tokens",getOpenApprove:"/api/v1/open/approve",getOpenAllowance:"/api/v1/open/allowance"},gC={...Wye,...Kye};function Gye(t={}){return pC({url:gC.getOpenTokens,params:t})}function Jye(t){return pC({url:gC.getOpenApprove,params:t})}function Yye(t){return pC({url:gC.getOpenAllowance,params:t})}let V2=!1;async function r3(){const t=Ti(),e=am(),r=await Yye({chainId:"56",address:t.Address,token:e.TokenAddress}),{code:n,data:s}=r;if(n===200&&(e.setAllowanceOfUSDT(s.amount),Number(s.amount)===0&&!V2)){V2=!0;try{await t3({_tokenAddress:e.TokenAddress,_spender:e.ApproveContractAddress,_amount:Cb(e.ApproveAmount,e.TokenDecimals)})!==BigInt(0)&&r3()}catch(i){console.error("approve Error",i)}finally{V2=!1}}}async function Qye(){const t=am();try{const{code:e,data:r}=await Gye();if(e===200)try{const n=r.items[0];n?t.setTokenInfo(n):t.setTokenInfo({})}catch{t.setTokenInfo({})}}catch(e){console.log(e),t.setTokenInfo({})}}async function Zye(t){const e=am();try{const{code:r,data:n}=await Jye({chainId:"56",address:t,token:e.TokenAddress||"0x55d398326f99059ff775485246999027b3197955"});r===200&&e.setApproveInfo(n)}catch(r){console.error("getOpenApproveInfo",r),e.setApproveInfo({})}}async function Xye(){try{const t=Ti(),e=await Pye({memoryId:t.Address});e!=null&&e.success}catch{}}async function h2e(){var t;try{const e=Ti(),r=await Oye({wattle:e.Address});return r!=null&&r.success&&((t=r==null?void 0:r.model)!=null&&t.vncUrl)?r.model.vncUrl:(console.warn("获取VNC地址失败"),"")}catch{return""}}async function p2e({message:t,evn:e,chatId:r}){try{const n=Ti();return e==="test"?await Nye({memoryId:n.Address+"_"+r,message:encodeURIComponent(t)}):await Tye({memoryId:n.Address+"_"+r,message:encodeURIComponent(t)})}catch{return"Request failed, please try again later."}}async function g2e(){try{const t=Ti(),e=await kye({memoryId:t.Address});return console.log(e),e;e!=null&&e.success}catch{}}async function ebe(){try{const t=Ti();return await Dye({userId:t.Address})}catch{}}async function tbe(t){try{const e=Ti();return await Bye({userId:e.Address,jobId:t})}catch{}}async function rbe(t){try{const e=Ti();return await Mye({userId:e.Address,jobId:t})}catch{}}const uf=lC("ChatHistory",()=>{const t=Be("");function e(s){t.value=s}const r=Be([]);function n(s){r.value=s}return{ChatHistoryList:r,setChatHistoryList:n,MessagesStorageKey:t,setMessagesStorageKey:e}},{persist:!0}),nbe="ChatDB",sl="chatHistory";function mC(){return new Promise((t,e)=>{const r=indexedDB.open(nbe,1);r.onupgradeneeded=n=>{const s=n.target.result;s.objectStoreNames.contains(sl)||s.createObjectStore(sl,{keyPath:"id",autoIncrement:!0}).createIndex("chatId","chatId",{unique:!1})},r.onsuccess=()=>t(r.result),r.onerror=()=>e("IndexedDB 打开失败")})}async function sbe(t){const e=await mC();return new Promise((r,n)=>{const a=e.transaction(sl,"readonly").objectStore(sl).index("chatId").getAll(IDBKeyRange.only(t));a.onsuccess=()=>r(a.result),a.onerror=()=>n("获取聊天记录失败")})}async function ibe(t,e){const n=(await mC()).transaction(sl,"readwrite"),s=n.objectStore(sl),i=s.index("chatId"),o=await new Promise((a,c)=>{const l=i.getAllKeys(IDBKeyRange.only(t));l.onsuccess=()=>a(l.result),l.onerror=()=>c("获取旧聊天记录键失败")});for(const a of o)s.delete(a);for(const a of e)s.put({...a,chatId:t});return new Promise((a,c)=>{n.oncomplete=()=>a(),n.onerror=()=>{console.error("保存聊天记录失败：",n.error),c(n.error??new Error("保存聊天记录失败"))}})}async function obe(t){const r=(await mC()).transaction(sl,"readwrite"),n=r.objectStore(sl),s=n.index("chatId"),i=await new Promise((o,a)=>{const c=s.getAllKeys(IDBKeyRange.only(t));c.onsuccess=()=>o(c.result),c.onerror=()=>a("获取聊天记录键失败")});for(const o of i)n.delete(o);return new Promise((o,a)=>{r.oncomplete=()=>o(),r.onerror=()=>a("删除聊天记录失败")})}function abe(){return uf().MessagesStorageKey}async function cbe(){try{const t=await ebe();return await Promise.all(t.map(async r=>({...r,chatId:r.jobId,timeStamp:r.createTime,title:r.title,messageLength:0})))}catch(t){return console.error("Failed to fetch chat history:",t),[]}}function yC(){return uf().ChatHistoryList||[]}function lbe(t){return yC().some(r=>r.chatId===t)}function ND(){return`messages_${abe().slice(-8)}_chatid`}function bC(t){return`${ND()}_${t}`}async function ube(t){try{return await rbe(t)}catch(e){return console.error("Failed to fetch chat history:",e),[]}}async function KI(t){const e=bC(t);return await sbe(e)}async function PD(t,e){const r=bC(t);await ibe(r,e)}async function OD(t){await obe(t)}async function fbe(t,e){const r=e.map(n=>({...n,text:n.message,sender:n.type.toLowerCase()==="user"?"user":"agent",type:"text",timeStamp:n.createTime}));await PD(t,r)}async function i1(t){const e=await KI(t);if(e.length===0){const r=await ube(t);return await fbe(t,r),await KI(t)}return e}async function m2e(t){return(await i1(t)).filter(r=>!r.imgUrl)}async function y2e(t){return await i1(t)}async function RD(){const t=await cbe();uf().setChatHistoryList(t)}async function dbe(t){const e=yC(),r=await i1(t),n=[...e],s=n.findIndex(o=>o.chatId===t);s!==-1&&(n[s]={...n[s],messageLength:r.length}),uf().setChatHistoryList(n)}async function GI(t,e){const r=await i1(t);if(e.sender==="user"){if(r.length===0){const n=am();r.push({text:`- Xin chào! I'm AEON, your smart payment assistant. You have authorized up to ${n.formattedUSDTAllowance} USDT in your AEON Wallet. What would you like to do today?`,sender:"agent",type:"text"})}r.push(e),r.push({text:"Agent is thinking...",sender:"agent",type:"loading"})}else e.sender==="agent"&&r.push(e);await PD(t,r)}async function b2e({messageObj:t,chatId:e}){lbe(e)?(await GI(e,t),dbe(e)):await GI(e,t)}async function hbe(t){if(await tbe(t)){const r=bC(t);await OD(r),await RD()}}async function pbe(){const t=uf();t.setChatHistoryList([]),t.setMessagesStorageKey("")}async function gbe(){const t=ND();return yC().map(r=>`${t}_${r.chatId}`)}async function mbe(){(await gbe()).forEach(async e=>{await OD(e)}),pbe()}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Wf=typeof document<"u";function kD(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ybe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&kD(t.default)}const Kt=Object.assign;function W2(t,e){const r={};for(const n in e){const s=e[n];r[n]=to(s)?s.map(t):t(s)}return r}const o0=()=>{},to=Array.isArray,DD=/#/g,bbe=/&/g,wbe=/\//g,vbe=/=/g,Ebe=/\?/g,MD=/\+/g,Abe=/%5B/g,_be=/%5D/g,BD=/%5E/g,Cbe=/%60/g,UD=/%7B/g,Sbe=/%7C/g,$D=/%7D/g,xbe=/%20/g;function wC(t){return encodeURI(""+t).replace(Sbe,"|").replace(Abe,"[").replace(_be,"]")}function Ibe(t){return wC(t).replace(UD,"{").replace($D,"}").replace(BD,"^")}function n3(t){return wC(t).replace(MD,"%2B").replace(xbe,"+").replace(DD,"%23").replace(bbe,"%26").replace(Cbe,"`").replace(UD,"{").replace($D,"}").replace(BD,"^")}function Tbe(t){return n3(t).replace(vbe,"%3D")}function Nbe(t){return wC(t).replace(DD,"%23").replace(Ebe,"%3F")}function Pbe(t){return t==null?"":Nbe(t).replace(wbe,"%2F")}function mg(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Obe=/\/$/,Rbe=t=>t.replace(Obe,"");function K2(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Bbe(n??e,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:mg(o)}}function kbe(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function JI(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Dbe(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Oh(e.matched[n],r.matched[s])&&LD(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Oh(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function LD(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Mbe(t[r],e[r]))return!1;return!0}function Mbe(t,e){return to(t)?YI(t,e):to(e)?YI(e,t):t===e}function YI(t,e){return to(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Bbe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const cc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var yg;(function(t){t.pop="pop",t.push="push"})(yg||(yg={}));var a0;(function(t){t.back="back",t.forward="forward",t.unknown=""})(a0||(a0={}));function Ube(t){if(!t)if(Wf){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Rbe(t)}const $be=/^[^#]+#/;function Lbe(t,e){return t.replace($be,"#")+e}function Fbe(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const o1=()=>({left:window.scrollX,top:window.scrollY});function jbe(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=Fbe(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function QI(t,e){return(history.state?history.state.position-e:-1)+t}const s3=new Map;function Hbe(t,e){s3.set(t,e)}function zbe(t){const e=s3.get(t);return s3.delete(t),e}let qbe=()=>location.protocol+"//"+location.host;function FD(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),JI(c,"")}return JI(r,t)+n+s}function Vbe(t,e,r,n){let s=[],i=[],o=null;const a=({state:d})=>{const h=FD(t,location),p=r.value,g=e.value;let y=0;if(d){if(r.value=h,e.value=d,o&&o===p){o=null;return}y=g?d.position-g.position:0}else n(h);s.forEach(E=>{E(r.value,p,{delta:y,type:yg.pop,direction:y?y>0?a0.forward:a0.back:a0.unknown})})};function c(){o=r.value}function l(d){s.push(d);const h=()=>{const p=s.indexOf(d);p>-1&&s.splice(p,1)};return i.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Kt({},d.state,{scroll:o1()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function ZI(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?o1():null}}function Wbe(t){const{history:e,location:r}=window,n={value:FD(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:qbe()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(h){console.error(h),r[u?"replace":"assign"](d)}}function o(c,l){const u=Kt({},e.state,ZI(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),n.value=c}function a(c,l){const u=Kt({},s.value,e.state,{forward:c,scroll:o1()});i(u.current,u,!0);const f=Kt({},ZI(n.value,c,null),{position:u.position+1},l);i(c,f,!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function Kbe(t){t=Ube(t);const e=Wbe(t),r=Vbe(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=Kt({location:"",base:t,go:n,createHref:Lbe.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Gbe(t){return typeof t=="string"||t&&typeof t=="object"}function jD(t){return typeof t=="string"||typeof t=="symbol"}const HD=Symbol("");var XI;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(XI||(XI={}));function Rh(t,e){return Kt(new Error,{type:t,[HD]:!0},e)}function na(t,e){return t instanceof Error&&HD in t&&(e==null||!!(t.type&e))}const eT="[^/]+?",Jbe={sensitive:!1,strict:!1,start:!0,end:!0},Ybe=/[.+*?^${}()[\]/\\]/g;function Qbe(t,e){const r=Kt({},Jbe,e),n=[];let s=r.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];r.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(Ybe,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:g,optional:y,regexp:E}=d;i.push({name:p,repeatable:g,optional:y});const C=E||eT;if(C!==eT){h+=10;try{new RegExp(`(${C})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${p}" (${C}): `+T.message)}}let I=g?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(I=y&&l.length<2?`(?:/${I})`:"/"+I),y&&(I+="?"),s+=I,h+=20,y&&(h+=-8),g&&(h+=-20),C===".*"&&(h+=-50)}u.push(h)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",p=i[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function c(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:y}=h,E=p in l?l[p]:"";if(to(E)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const C=to(E)?E.join("/"):E;if(!C)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=C}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function Zbe(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function zD(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=Zbe(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(tT(n))return 1;if(tT(s))return-1}return s.length-n.length}function tT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Xbe={type:0,value:""},ewe=/[a-zA-Z0-9_]/;function twe(t){if(!t)return[[]];if(t==="/")return[[Xbe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${l}": ${h}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function f(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:ewe.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),s}function rwe(t,e,r){const n=Qbe(twe(t.path),r),s=Kt(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function nwe(t,e){const r=[],n=new Map;e=iT({strict:!1,end:!0,sensitive:!1},e);function s(f){return n.get(f)}function i(f,d,h){const p=!h,g=nT(f);g.aliasOf=h&&h.record;const y=iT(e,f),E=[g];if("alias"in f){const T=typeof f.alias=="string"?[f.alias]:f.alias;for(const N of T)E.push(nT(Kt({},g,{components:h?h.record.components:g.components,path:N,aliasOf:h?h.record:g})))}let C,I;for(const T of E){const{path:N}=T;if(d&&N[0]!=="/"){const k=d.record.path,B=k[k.length-1]==="/"?"":"/";T.path=d.record.path+(N&&B+N)}if(C=rwe(T,d,y),h?h.alias.push(C):(I=I||C,I!==C&&I.alias.push(C),p&&f.name&&!sT(C)&&o(f.name)),qD(C)&&c(C),g.children){const k=g.children;for(let B=0;B<k.length;B++)i(k[B],C,h&&h.children[B])}h=h||C}return I?()=>{o(I)}:o0}function o(f){if(jD(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const d=owe(f,r);r.splice(d,0,f),f.record.name&&!sT(f)&&n.set(f.record.name,f)}function l(f,d){let h,p={},g,y;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw Rh(1,{location:f});y=h.record.name,p=Kt(rT(d.params,h.keys.filter(I=>!I.optional).concat(h.parent?h.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),f.params&&rT(f.params,h.keys.map(I=>I.name))),g=h.stringify(p)}else if(f.path!=null)g=f.path,h=r.find(I=>I.re.test(g)),h&&(p=h.parse(g),y=h.record.name);else{if(h=d.name?n.get(d.name):r.find(I=>I.re.test(d.path)),!h)throw Rh(1,{location:f,currentLocation:d});y=h.record.name,p=Kt({},d.params,f.params),g=h.stringify(p)}const E=[];let C=h;for(;C;)E.unshift(C.record),C=C.parent;return{name:y,path:g,params:p,matched:E,meta:iwe(E)}}t.forEach(f=>i(f));function u(){r.length=0,n.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function rT(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function nT(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:swe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function swe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function sT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function iwe(t){return t.reduce((e,r)=>Kt(e,r.meta),{})}function iT(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function owe(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;zD(t,e[i])<0?n=i:r=i+1}const s=awe(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function awe(t){let e=t;for(;e=e.parent;)if(qD(e)&&zD(t,e)===0)return e}function qD({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function cwe(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(MD," "),o=i.indexOf("="),a=mg(o<0?i:i.slice(0,o)),c=o<0?null:mg(i.slice(o+1));if(a in e){let l=e[a];to(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function oT(t){let e="";for(let r in t){const n=t[r];if(r=Tbe(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(to(n)?n.map(i=>i&&n3(i)):[n&&n3(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function lwe(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=to(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const uwe=Symbol(""),aT=Symbol(""),a1=Symbol(""),vC=Symbol(""),i3=Symbol("");function Ap(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function mc(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=d=>{d===!1?c(Rh(4,{from:r,to:e})):d instanceof Error?c(d):Gbe(d)?c(Rh(2,{from:e,to:d})):(o&&n.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(n&&n.instances[s],e,r,l));let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(d=>c(d))})}function G2(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(kD(c)){const u=(c.__vccOpts||c)[e];u&&i.push(mc(u,r,n,o,a,s))}else{let l=c();i.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=ybe(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&mc(h,r,n,o,a,s)()}))}}return i}function cT(t){const e=St(a1),r=St(vC),n=ye(()=>{const c=G(t.to);return e.resolve(c)}),s=ye(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(Oh.bind(null,u));if(d>-1)return d;const h=lT(c[l-2]);return l>1&&lT(u)===h&&f[f.length-1].path!==h?f.findIndex(Oh.bind(null,c[l-2])):d}),i=ye(()=>s.value>-1&&gwe(r.params,n.value.params)),o=ye(()=>s.value>-1&&s.value===r.matched.length-1&&LD(r.params,n.value.params));function a(c={}){if(pwe(c)){const l=e[G(t.replace)?"replace":"push"](G(t.to)).catch(o0);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:ye(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function fwe(t){return t.length===1?t[0]:t}const dwe=Ge({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cT,setup(t,{slots:e}){const r=ll(cT(t)),{options:n}=St(a1),s=ye(()=>({[uT(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[uT(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&fwe(e.default(r));return t.custom?i:iw("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),hwe=dwe;function pwe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gwe(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!to(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function lT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const uT=(t,e,r)=>t??e??r,mwe=Ge({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=St(i3),s=ye(()=>t.route||n.value),i=St(aT,0),o=ye(()=>{let l=G(i);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=ye(()=>s.value.matched[o.value]);ls(aT,ye(()=>o.value+1)),ls(uwe,a),ls(i3,s);const c=Be();return jt(()=>[c.value,a.value,t.name],([l,u,f],[d,h,p])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!Oh(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return fT(r.default,{Component:d,route:l});const h=f.props[u],p=h?h===!0?l.params:typeof h=="function"?h(l):h:null,y=iw(d,Kt({},p,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return fT(r.default,{Component:y,route:l})||y}}});function fT(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const ywe=mwe;function bwe(t){const e=nwe(t.routes,t),r=t.parseQuery||cwe,n=t.stringifyQuery||oT,s=t.history,i=Ap(),o=Ap(),a=Ap(),c=v3(cc);let l=cc;Wf&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=W2.bind(null,Y=>""+Y),f=W2.bind(null,Pbe),d=W2.bind(null,mg);function h(Y,de){let se,ge;return jD(Y)?(se=e.getRecordMatcher(Y),ge=de):ge=Y,e.addRoute(ge,se)}function p(Y){const de=e.getRecordMatcher(Y);de&&e.removeRoute(de)}function g(){return e.getRoutes().map(Y=>Y.record)}function y(Y){return!!e.getRecordMatcher(Y)}function E(Y,de){if(de=Kt({},de||c.value),typeof Y=="string"){const ee=K2(r,Y,de.path),ce=e.resolve({path:ee.path},de),ue=s.createHref(ee.fullPath);return Kt(ee,ce,{params:d(ce.params),hash:mg(ee.hash),redirectedFrom:void 0,href:ue})}let se;if(Y.path!=null)se=Kt({},Y,{path:K2(r,Y.path,de.path).path});else{const ee=Kt({},Y.params);for(const ce in ee)ee[ce]==null&&delete ee[ce];se=Kt({},Y,{params:f(ee)}),de.params=f(de.params)}const ge=e.resolve(se,de),ze=Y.hash||"";ge.params=u(d(ge.params));const q=kbe(n,Kt({},Y,{hash:Ibe(ze),path:ge.path})),V=s.createHref(q);return Kt({fullPath:q,hash:ze,query:n===oT?lwe(Y.query):Y.query||{}},ge,{redirectedFrom:void 0,href:V})}function C(Y){return typeof Y=="string"?K2(r,Y,c.value.path):Kt({},Y)}function I(Y,de){if(l!==Y)return Rh(8,{from:de,to:Y})}function T(Y){return B(Y)}function N(Y){return T(Kt(C(Y),{replace:!0}))}function k(Y){const de=Y.matched[Y.matched.length-1];if(de&&de.redirect){const{redirect:se}=de;let ge=typeof se=="function"?se(Y):se;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=C(ge):{path:ge},ge.params={}),Kt({query:Y.query,hash:Y.hash,params:ge.path!=null?{}:Y.params},ge)}}function B(Y,de){const se=l=E(Y),ge=c.value,ze=Y.state,q=Y.force,V=Y.replace===!0,ee=k(se);if(ee)return B(Kt(C(ee),{state:typeof ee=="object"?Kt({},ze,ee.state):ze,force:q,replace:V}),de||se);const ce=se;ce.redirectedFrom=de;let ue;return!q&&Dbe(n,ge,se)&&(ue=Rh(16,{to:ce,from:ge}),U(ge,ge,!0,!1)),(ue?Promise.resolve(ue):j(ce,ge)).catch(me=>na(me)?na(me,2)?me:v(me):D(me,ce,ge)).then(me=>{if(me){if(na(me,2))return B(Kt({replace:V},C(me.to),{state:typeof me.to=="object"?Kt({},ze,me.to.state):ze,force:q}),de||ce)}else me=m(ce,ge,!0,V,ze);return O(ce,ge,me),me})}function L(Y,de){const se=I(Y,de);return se?Promise.reject(se):Promise.resolve()}function $(Y){const de=J.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(Y):Y()}function j(Y,de){let se;const[ge,ze,q]=wwe(Y,de);se=G2(ge.reverse(),"beforeRouteLeave",Y,de);for(const ee of ge)ee.leaveGuards.forEach(ce=>{se.push(mc(ce,Y,de))});const V=L.bind(null,Y,de);return se.push(V),le(se).then(()=>{se=[];for(const ee of i.list())se.push(mc(ee,Y,de));return se.push(V),le(se)}).then(()=>{se=G2(ze,"beforeRouteUpdate",Y,de);for(const ee of ze)ee.updateGuards.forEach(ce=>{se.push(mc(ce,Y,de))});return se.push(V),le(se)}).then(()=>{se=[];for(const ee of q)if(ee.beforeEnter)if(to(ee.beforeEnter))for(const ce of ee.beforeEnter)se.push(mc(ce,Y,de));else se.push(mc(ee.beforeEnter,Y,de));return se.push(V),le(se)}).then(()=>(Y.matched.forEach(ee=>ee.enterCallbacks={}),se=G2(q,"beforeRouteEnter",Y,de,$),se.push(V),le(se))).then(()=>{se=[];for(const ee of o.list())se.push(mc(ee,Y,de));return se.push(V),le(se)}).catch(ee=>na(ee,8)?ee:Promise.reject(ee))}function O(Y,de,se){a.list().forEach(ge=>$(()=>ge(Y,de,se)))}function m(Y,de,se,ge,ze){const q=I(Y,de);if(q)return q;const V=de===cc,ee=Wf?history.state:{};se&&(ge||V?s.replace(Y.fullPath,Kt({scroll:V&&ee&&ee.scroll},ze)):s.push(Y.fullPath,ze)),c.value=Y,U(Y,de,se,V),v()}let A;function S(){A||(A=s.listen((Y,de,se)=>{if(!re.listening)return;const ge=E(Y),ze=k(ge);if(ze){B(Kt(ze,{replace:!0,force:!0}),ge).catch(o0);return}l=ge;const q=c.value;Wf&&Hbe(QI(q.fullPath,se.delta),o1()),j(ge,q).catch(V=>na(V,12)?V:na(V,2)?(B(Kt(C(V.to),{force:!0}),ge).then(ee=>{na(ee,20)&&!se.delta&&se.type===yg.pop&&s.go(-1,!1)}).catch(o0),Promise.reject()):(se.delta&&s.go(-se.delta,!1),D(V,ge,q))).then(V=>{V=V||m(ge,q,!1),V&&(se.delta&&!na(V,8)?s.go(-se.delta,!1):se.type===yg.pop&&na(V,20)&&s.go(-1,!1)),O(ge,q,V)}).catch(o0)}))}let b=Ap(),w=Ap(),x;function D(Y,de,se){v(Y);const ge=w.list();return ge.length?ge.forEach(ze=>ze(Y,de,se)):console.error(Y),Promise.reject(Y)}function R(){return x&&c.value!==cc?Promise.resolve():new Promise((Y,de)=>{b.add([Y,de])})}function v(Y){return x||(x=!Y,S(),b.list().forEach(([de,se])=>Y?se(Y):de()),b.reset()),Y}function U(Y,de,se,ge){const{scrollBehavior:ze}=t;if(!Wf||!ze)return Promise.resolve();const q=!se&&zbe(QI(Y.fullPath,0))||(ge||!se)&&history.state&&history.state.scroll||null;return Pu().then(()=>ze(Y,de,q)).then(V=>V&&jbe(V)).catch(V=>D(V,Y,de))}const K=Y=>s.go(Y);let Q;const J=new Set,re={currentRoute:c,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:g,resolve:E,options:t,push:T,replace:N,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:w.add,isReady:R,install(Y){const de=this;Y.component("RouterLink",hwe),Y.component("RouterView",ywe),Y.config.globalProperties.$router=de,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>G(c)}),Wf&&!Q&&c.value===cc&&(Q=!0,T(s.location).catch(ze=>{}));const se={};for(const ze in cc)Object.defineProperty(se,ze,{get:()=>c.value[ze],enumerable:!0});Y.provide(a1,de),Y.provide(vC,qT(se)),Y.provide(i3,c);const ge=Y.unmount;J.add(Y),Y.unmount=function(){J.delete(Y),J.size<1&&(l=cc,A&&A(),A=null,c.value=cc,Q=!1,x=!1),ge()}}};function le(Y){return Y.reduce((de,se)=>de.then(()=>$(se)),Promise.resolve())}return re}function wwe(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Oh(l,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Oh(l,c))||s.push(c))}return[r,n,s]}function c1(){return St(a1)}function vwe(t){return St(vC)}const Ewe={class:"wallet-connect"},Awe=Ge({__name:"Index",setup(t){const e=uf(),r=Be(0),{IsConnected:n}=X7(async({IsConnected:h,Address:p,ChainId:g})=>{if(h)if(g!==56)Dge(lA);else{if(Zye(p),!await Lye()){const E="4007cd1f-0ee2-491d-b72e-ae7fc7f78a98",{checkSignSecretSuccess:C}=await zye(E);C||f()}e.setMessagesStorageKey(`messages_${p}`),RD()}}),{TokenAddress:s,ApproveContractAddress:i,ApproveAmount:o,TokenDecimals:a}=eD(async({TokenAddress:h,ApproveContractAddress:p})=>{n.value&&h&&p&&r3()}),c=Be(!1);async function l(){c.value=!0,await t3({_tokenAddress:s.value,_spender:i.value,_amount:Cb(o.value,a.value)}),c.value=!1,r3()}const u=c1();async function f(){await TD(),Xye(),Oge(),await mbe(),u.push("/"),setTimeout(()=>{window.location.reload()},100)}async function d(){await t3({_tokenAddress:s.value,_spender:i.value,_amount:Cb("0",a.value)})}return(h,p)=>(De(),tt("div",Ewe,[G(n)?(De(),sr(Yge,{key:1,BalanceOfUSDT:G(r),isApproveLoading:G(c),onApprove:l,onDisconnect:f,onRevoke:d},null,8,["BalanceOfUSDT","isApproveLoading"])):(De(),sr(Uge,{key:0}))]))}}),_we={class:"page-header flex aic jcsb"},Cwe={class:"left-section flex aic"},Swe={class:"right-section"},xwe={class:"menu flex aic"},Iwe=Ge({__name:"Index",emits:["openDraw"],setup(t,{emit:e}){const r=e,n=c1(),s=()=>{n.push("/")};return(i,o)=>(De(),tt("div",_we,[Te("div",Cwe,[Te("div",{class:"logo flex aic jcc",onClick:s},o[1]||(o[1]=[Te("img",{src:zN},null,-1)])),Te("div",{class:"draw flex aic jcc",onClick:o[0]||(o[0]=()=>r("openDraw"))},o[2]||(o[2]=[Te("img",{src:qN},null,-1)])),o[3]||(o[3]=Te("div",{class:"navigation"},null,-1))]),Te("div",Swe,[Te("div",xwe,[ut(Awe)])])]))}}),Twe=lf(Iwe,[["__scopeId","data-v-c362dd24"]]),Nwe={class:"draw-header flex aic jcsb"},Pwe=Ge({__name:"DrawHeader",emits:["close"],setup(t,{emit:e}){const r=e;function n(){r("close")}return(s,i)=>(De(),tt("div",Nwe,[i[1]||(i[1]=Te("div",{class:"left-section flex aic"},[Te("div",{class:"logo flex aic jcc"},[Te("img",{src:zN})])],-1)),Te("div",{class:"right-section flex aic"},[Te("div",{class:"draw flex aic jcc",onClick:n},i[0]||(i[0]=[Te("img",{src:qN},null,-1)]))])]))}}),Owe=lf(Pwe,[["__scopeId","data-v-32cb5487"]]),Rwe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10%2011.25V6.25M7.5%208.75H12.5M5.83333%2015V16.9462C5.83333%2017.3903%205.83333%2017.6123%205.92436%2017.7263C6.00352%2017.8255%206.12356%2017.8832%206.25045%2017.8831C6.39636%2017.8829%206.56973%2017.7442%206.91646%2017.4668L8.90434%2015.8765C9.31043%2015.5517%209.51347%2015.3892%209.73957%2015.2737C9.94017%2015.1712%2010.1537%2015.0963%2010.3743%2015.051C10.6231%2015%2010.8831%2015%2011.4031%2015H13.5C14.9001%2015%2015.6002%2015%2016.135%2014.7275C16.6054%2014.4878%2016.9878%2014.1054%2017.2275%2013.635C17.5%2013.1002%2017.5%2012.4001%2017.5%2011V6.5C17.5%205.09987%2017.5%204.3998%2017.2275%203.86502C16.9878%203.39462%2016.6054%203.01217%2016.135%202.77248C15.6002%202.5%2014.9001%202.5%2013.5%202.5H6.5C5.09987%202.5%204.3998%202.5%203.86502%202.77248C3.39462%203.01217%203.01217%203.39462%202.77248%203.86502C2.5%204.3998%202.5%205.09987%202.5%206.5V11.6667C2.5%2012.4416%202.5%2012.8291%202.58519%2013.147C2.81635%2014.0098%203.49022%2014.6836%204.35295%2014.9148C4.67087%2015%205.05836%2015%205.83333%2015Z'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",kwe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='4.5'%20cy='10'%20r='1.5'%20fill='%23737A86'/%3e%3ccircle%20cx='10'%20cy='10'%20r='1.5'%20fill='%23737A86'/%3e%3ccircle%20cx='15.5'%20cy='10'%20r='1.5'%20fill='%23737A86'/%3e%3c/svg%3e",Dwe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_38170_235)'%3e%3cpath%20d='M19.2123%204.08044L19.2128%206.90845L16.3839%206.90887M19.0321%206.38199C18.8256%206.12415%2018.6029%205.87505%2018.3639%205.63604C14.8491%202.12132%209.15065%202.12132%205.63593%205.63604C2.12121%209.15076%202.12121%2014.8492%205.63593%2018.364C9.15065%2021.8787%2014.8491%2021.8787%2018.3639%2018.364C20.363%2016.3648%2021.2251%2013.6591%2020.95%2011.0506'%20stroke='%23191B1F'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.12476%2014.7932V9.20683C9.12476%208.36974%2010.0426%207.85684%2010.7555%208.29555L15.2944%2011.0887C15.9734%2011.5065%2015.9734%2012.4934%2015.2944%2012.9113L10.7555%2015.7044C10.0426%2016.1431%209.12476%2015.6302%209.12476%2014.7932Z'%20fill='%23191B1F'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_38170_235'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Mwe="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.3333%205.00008V4.33341C13.3333%203.39999%2013.3333%202.93328%2013.1517%202.57676C12.9919%202.26316%2012.7369%202.00819%2012.4233%201.8484C12.0668%201.66675%2011.6001%201.66675%2010.6667%201.66675H9.33333C8.39991%201.66675%207.9332%201.66675%207.57668%201.8484C7.26308%202.00819%207.00811%202.26316%206.84832%202.57676C6.66667%202.93328%206.66667%203.39999%206.66667%204.33341V5.00008M8.33333%209.58341V13.7501M11.6667%209.58341V13.7501M2.5%205.00008H17.5M15.8333%205.00008V14.3334C15.8333%2015.7335%2015.8333%2016.4336%2015.5608%2016.9684C15.3212%2017.4388%2014.9387%2017.8212%2014.4683%2018.0609C13.9335%2018.3334%2013.2335%2018.3334%2011.8333%2018.3334H8.16667C6.76654%2018.3334%206.06647%2018.3334%205.53169%2018.0609C5.06129%2017.8212%204.67883%2017.4388%204.43915%2016.9684C4.16667%2016.4336%204.16667%2015.7335%204.16667%2014.3334V5.00008'%20stroke='%23F53F3F'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Bwe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%207L7%2017M7%207L17%2017'%20stroke='%23737A86'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Uwe={class:"chat-history"},$we={class:"chat-group__label"},Lwe={class:"chat-group__messages"},Fwe=["onClick"],jwe={class:"mask"},Hwe={class:"text toh"},zwe={class:"options"},qwe={key:1,class:"default-chat"},Vwe={class:"default-chat__title"},Wwe={class:"dialog-header flex aic jcsb"},Kwe={class:"dialog-footer"},Gwe=Ge({__name:"Chats",props:{chats:{}},emits:["delete"],setup(t,{emit:e}){const r=t,n=ye(()=>{const g=Date.now(),y=new Date(new Date().setHours(0,0,0,0)).getTime(),E=new Map,C=[...r.chats].sort((N,k)=>k.timeStamp-N.timeStamp);for(const N of C){y-N.timeStamp;let k="";N.timeStamp>=y?k="Today":N.timeStamp>=g-7*864e5?k="Previous 7 Days":N.timeStamp>=g-30*864e5?k="Previous 30 Days":k="Earlier",E.has(k)||E.set(k,[]),E.get(k).push(N)}const I=["Today","Previous 7 Days","Previous 30 Days","Earlier"],T=[];for(const N of I)E.has(N)&&T.push({type:N,list:E.get(N)});return T}),s=c1(),i=vwe(),o=ye(()=>i.params.chatId),a=g=>{s.push(`/c/${g}`)},c=Be("");function l(g){c.value=g}function u(){c.value=""}const f=Be(!1),d=e;function h(){f.value=!1,console.log("执行删除操作",c.value),d("delete",c.value)}function p(){const g=s.resolve(`/r/${c.value}`);window.open(g.href,"_blank")}return(g,y)=>{const E=YP,C=s_,I=Lz;return De(),tt("div",Uwe,[(De(!0),tt(Xr,null,HC(G(n),T=>(De(),tt("div",{key:T.type,class:"chat-group"},[Te("div",$we,Ss(T.type),1),Te("div",Lwe,[(De(!0),tt(Xr,null,HC(T.list,N=>(De(),tt("div",{key:N.chatId,class:"chat-message"},[N.chatId!=="chatid_default"?(De(),tt(Xr,{key:0},[Te("div",{class:kt(["bg",{active:G(o)===N.chatId}]),onClick:k=>a(N.chatId)},[Te("div",jwe,[Te("div",Hwe,Ss(N.title),1)])],10,Fwe),ut(E,{trigger:"click",width:"128","show-arrow":!1,"popper-class":"common-popover",onShow:k=>l(N.chatId),onBeforeLeave:u,offset:0,placement:"right-start"},{reference:lt(()=>[Te("div",{class:kt(["dots-img-box",{active:G(c)===N.chatId}])},y[4]||(y[4]=[Te("img",{class:"dots-img",src:kwe,alt:""},null,-1)]),2)]),default:lt(()=>[Te("div",zwe,[Te("div",{class:"item replay flex aic",onClick:p},y[5]||(y[5]=[Te("img",{src:Dwe,alt:""},null,-1),Te("span",null,"Replay",-1)])),Te("div",{class:"item del flex aic",onClick:y[0]||(y[0]=k=>f.value=!0)},y[6]||(y[6]=[Te("img",{src:Mwe,alt:""},null,-1),Te("span",null,"Delete",-1)]))])]),_:2},1032,["onShow"])],64)):(De(),tt("div",qwe,[Te("div",Vwe,Ss(N.title),1)]))]))),128))])]))),128)),ut(I,{modelValue:G(f),"onUpdate:modelValue":y[3]||(y[3]=T=>ir(f)?f.value=T:null),class:"delete-chat-dialog","append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"align-center":!0,width:"448"},{header:lt(()=>[Te("div",Wwe,[y[7]||(y[7]=Te("span",{class:"title"},"Delete chat?",-1)),Te("img",{class:"close-img",src:Bwe,alt:"",onClick:y[1]||(y[1]=T=>f.value=!1)})])]),footer:lt(()=>[Te("div",Kwe,[ut(C,{class:"cancel-btn",onClick:y[2]||(y[2]=T=>f.value=!1)},{default:lt(()=>y[8]||(y[8]=[qy("Cancel")])),_:1}),ut(C,{class:"confirm-btn",type:"primary",onClick:h},{default:lt(()=>y[9]||(y[9]=[qy(" Confirm ")])),_:1})])]),default:lt(()=>[y[10]||(y[10]=Te("span",null,"Are you sure you want to delete this chat?",-1))]),_:1},8,["modelValue"])])}}}),Jwe=lf(Gwe,[["__scopeId","data-v-74920f60"]]),Ywe={class:"draw-body"},Qwe=Ge({__name:"Index",props:{show:{type:Boolean}},emits:["update:show"],setup(t,{emit:e}){const r=uf(),n=t,s=e,i=ye({get:()=>n.show,set:h=>s("update:show",h)}),o=ye(()=>r.ChatHistoryList.length===0?[{chatId:"chatid_default",timeStamp:new Date().getTime(),title:"No topic yet"}]:r.ChatHistoryList),a=Be("");function c(){a.value="side-draw-modal"}function l(){a.value=""}const u=c1();function f(){u.push("/"),i.value=!1}async function d(h){await hbe(h),u.push("/")}return(h,p)=>{const g=Owe,y=Vz;return De(),sr(y,{modelValue:G(i),"onUpdate:modelValue":p[1]||(p[1]=E=>ir(i)?i.value=E:null),"modal-class":G(a),class:"side-draw","close-on-click-modal":!1,"close-on-press-escape":!1,modal:!1,"show-close":!1,"with-header":!1,size:"260",direction:"ltr",onOpened:c,onClosed:l},{default:lt(()=>[ut(g,{onClose:p[0]||(p[0]=E=>i.value=!1)}),Te("div",Ywe,[Te("div",{class:"new-session flex aic jcc",onClick:f},p[2]||(p[2]=[Te("img",{src:Rwe,alt:""},null,-1),Te("span",null,"New session",-1)])),ut(Jwe,{chats:G(o),onDelete:d},null,8,["chats"])])]),_:1},8,["modelValue","modal-class"])}}}),Zwe={class:"layout"},Xwe={class:"page-body"},e1e=Ge({__name:"App",setup(t){Qye();const e=Be(!1),r=()=>{e.value=!e.value};return(n,s)=>{const i=eB("router-view");return De(),tt("div",Zwe,[ut(Qwe,{show:G(e),"onUpdate:show":s[0]||(s[0]=o=>ir(e)?e.value=o:null)},null,8,["show"]),ut(Twe,{onOpenDraw:r}),Te("div",Xwe,[ut(i)])])}}}),t1e=lf(e1e,[["__scopeId","data-v-a9a1e080"]]),r1e=bwe({history:Kbe(),routes:[{path:"/",name:"home",component:()=>es(()=>import("./HomeView-BRh5tu-R.js"),__vite__mapDeps([36,37,38,39,40,41]),import.meta.url)},{path:"/c/:chatId",name:"chat",component:()=>es(()=>import("./ChatView--92kzqKz.js"),__vite__mapDeps([42,43,44,37,38,39,40,45]),import.meta.url)},{path:"/r/:chatId",name:"replay",component:()=>es(()=>import("./ReplayView-Sx1sWLSP.js"),__vite__mapDeps([46,43,44,38,39,47]),import.meta.url)}]});var J2={exports:{}},dT;function n1e(){if(dT)return J2.exports;dT=1;var t=J2.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=s}catch{r=s}})();function i(g){if(e===setTimeout)return setTimeout(g,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(g,0);try{return e(g,0)}catch{try{return e.call(null,g,0)}catch{return e.call(this,g,0)}}}function o(g){if(r===clearTimeout)return clearTimeout(g);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(g);try{return r(g)}catch{try{return r.call(null,g)}catch{return r.call(this,g)}}}var a=[],c=!1,l,u=-1;function f(){!c||!l||(c=!1,l.length?a=l.concat(a):u=-1,a.length&&d())}function d(){if(!c){var g=i(f);c=!0;for(var y=a.length;y;){for(l=a,a=[];++u<y;)l&&l[u].run();u=-1,y=a.length}l=null,c=!1,o(g)}}t.nextTick=function(g){var y=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)y[E-1]=arguments[E];a.push(new h(g,y)),a.length===1&&!c&&i(d)};function h(g,y){this.fun=g,this.array=y}h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function p(){}return t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(g){return[]},t.binding=function(g){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(g){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},J2.exports}var s1e=n1e();const i1e=Qu(s1e);function o1e(t,e){if(t==null)return;let r=t;for(let n=0;n<e.length;n++){if(r==null||r[e[n]]==null)return;r=r[e[n]]}return r}function EC(t,e,r){if(r.length===0)return e;const n=r[0];return r.length>1&&(e=EC(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,n)?Number.isInteger(Number(r[1]))?[]:{}:t[n],e,Array.prototype.slice.call(r,1))),Number.isInteger(Number(n))&&Array.isArray(t)?t.slice()[n]:Object.assign({},t,{[n]:e})}function VD(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const r={};for(const n in t)r[n]=t[n];return delete r[e[0]],r}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const r={};for(const n in t)r[n]=t[n];return r}return EC(t,VD(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function WD(t,e){return e.map(r=>r.split(".")).map(r=>[r,o1e(t,r)]).filter(r=>r[1]!==void 0).reduce((r,n)=>EC(r,n[1],n[0]),{})}function KD(t,e){return e.map(r=>r.split(".")).reduce((r,n)=>VD(r,n),t)}function hT(t,{storage:e,serializer:r,key:n,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:c},l,u=!0){try{u&&(a==null||a(l));const f=e.getItem(n);if(f){const d=r.deserialize(f),h=i?WD(d,i):d,p=o?KD(h,o):h;t.$patch(p)}u&&(c==null||c(l))}catch(f){s&&console.error("[pinia-plugin-persistedstate]",f)}}function pT(t,{storage:e,serializer:r,key:n,debug:s,pick:i,omit:o}){try{const a=i?WD(t,i):t,c=o?KD(a,o):a,l=r.serialize(c);e.setItem(n,l)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function a1e(t,e,r){const{pinia:n,store:s,options:{persist:i=r}}=t;if(!i)return;if(!(s.$id in n.state.value)){const c=n._s.get(s.$id.replace("__hot:",""));c&&Promise.resolve().then(()=>c.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:c=!0}={})=>{a.forEach(l=>{hT(s,l,t,c)})},s.$persist=()=>{a.forEach(c=>{pT(s.$state,c)})},a.forEach(c=>{hT(s,c,t),s.$subscribe((l,u)=>pT(u,c),{detached:!0})})}function c1e(t={}){return function(e){a1e(e,r=>({key:(t.key?t.key:n=>n)(r.key??e.store.$id),debug:r.debug??t.debug??!1,serializer:r.serializer??t.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>xp(n)},storage:r.storage??t.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),t.auto??!1)}}var l1e=c1e(),Uy={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */var u1e=Uy.exports,gT;function f1e(){return gT||(gT=1,function(t,e){(function(n,s){t.exports=s()})(u1e,function(){return function(){var r={686:function(i,o,a){a.d(o,{default:function(){return U}});var c=a(279),l=a.n(c),u=a(370),f=a.n(u),d=a(817),h=a.n(d);function p(K){try{return document.execCommand(K)}catch{return!1}}var g=function(Q){var J=h()(Q);return p("cut"),J},y=g;function E(K){var Q=document.documentElement.getAttribute("dir")==="rtl",J=document.createElement("textarea");J.style.fontSize="12pt",J.style.border="0",J.style.padding="0",J.style.margin="0",J.style.position="absolute",J.style[Q?"right":"left"]="-9999px";var re=window.pageYOffset||document.documentElement.scrollTop;return J.style.top="".concat(re,"px"),J.setAttribute("readonly",""),J.value=K,J}var C=function(Q,J){var re=E(Q);J.container.appendChild(re);var le=h()(re);return p("copy"),re.remove(),le},I=function(Q){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},re="";return typeof Q=="string"?re=C(Q,J):Q instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(Q==null?void 0:Q.type)?re=C(Q.value,J):(re=h()(Q),p("copy")),re},T=I;function N(K){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?N=function(J){return typeof J}:N=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},N(K)}var k=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=Q.action,re=J===void 0?"copy":J,le=Q.container,Y=Q.target,de=Q.text;if(re!=="copy"&&re!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Y!==void 0)if(Y&&N(Y)==="object"&&Y.nodeType===1){if(re==="copy"&&Y.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(re==="cut"&&(Y.hasAttribute("readonly")||Y.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(de)return T(de,{container:le});if(Y)return re==="cut"?y(Y):T(Y,{container:le})},B=k;function L(K){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(J){return typeof J}:L=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},L(K)}function $(K,Q){if(!(K instanceof Q))throw new TypeError("Cannot call a class as a function")}function j(K,Q){for(var J=0;J<Q.length;J++){var re=Q[J];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(K,re.key,re)}}function O(K,Q,J){return Q&&j(K.prototype,Q),J&&j(K,J),K}function m(K,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");K.prototype=Object.create(Q&&Q.prototype,{constructor:{value:K,writable:!0,configurable:!0}}),Q&&A(K,Q)}function A(K,Q){return A=Object.setPrototypeOf||function(re,le){return re.__proto__=le,re},A(K,Q)}function S(K){var Q=x();return function(){var re=D(K),le;if(Q){var Y=D(this).constructor;le=Reflect.construct(re,arguments,Y)}else le=re.apply(this,arguments);return b(this,le)}}function b(K,Q){return Q&&(L(Q)==="object"||typeof Q=="function")?Q:w(K)}function w(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function D(K){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(J){return J.__proto__||Object.getPrototypeOf(J)},D(K)}function R(K,Q){var J="data-clipboard-".concat(K);if(Q.hasAttribute(J))return Q.getAttribute(J)}var v=function(K){m(J,K);var Q=S(J);function J(re,le){var Y;return $(this,J),Y=Q.call(this),Y.resolveOptions(le),Y.listenClick(re),Y}return O(J,[{key:"resolveOptions",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof le.action=="function"?le.action:this.defaultAction,this.target=typeof le.target=="function"?le.target:this.defaultTarget,this.text=typeof le.text=="function"?le.text:this.defaultText,this.container=L(le.container)==="object"?le.container:document.body}},{key:"listenClick",value:function(le){var Y=this;this.listener=f()(le,"click",function(de){return Y.onClick(de)})}},{key:"onClick",value:function(le){var Y=le.delegateTarget||le.currentTarget,de=this.action(Y)||"copy",se=B({action:de,container:this.container,target:this.target(Y),text:this.text(Y)});this.emit(se?"success":"error",{action:de,text:se,trigger:Y,clearSelection:function(){Y&&Y.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(le){return R("action",le)}},{key:"defaultTarget",value:function(le){var Y=R("target",le);if(Y)return document.querySelector(Y)}},{key:"defaultText",value:function(le){return R("text",le)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(le){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return T(le,Y)}},{key:"cut",value:function(le){return y(le)}},{key:"isSupported",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Y=typeof le=="string"?[le]:le,de=!!document.queryCommandSupported;return Y.forEach(function(se){de=de&&!!document.queryCommandSupported(se)}),de}}]),J}(l()),U=v},828:function(i){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function c(l,u){for(;l&&l.nodeType!==o;){if(typeof l.matches=="function"&&l.matches(u))return l;l=l.parentNode}}i.exports=c},438:function(i,o,a){var c=a(828);function l(d,h,p,g,y){var E=f.apply(this,arguments);return d.addEventListener(p,E,y),{destroy:function(){d.removeEventListener(p,E,y)}}}function u(d,h,p,g,y){return typeof d.addEventListener=="function"?l.apply(null,arguments):typeof p=="function"?l.bind(null,document).apply(null,arguments):(typeof d=="string"&&(d=document.querySelectorAll(d)),Array.prototype.map.call(d,function(E){return l(E,h,p,g,y)}))}function f(d,h,p,g){return function(y){y.delegateTarget=c(y.target,h),y.delegateTarget&&g.call(d,y)}}i.exports=u},879:function(i,o){o.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},o.nodeList=function(a){var c=Object.prototype.toString.call(a);return a!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in a&&(a.length===0||o.node(a[0]))},o.string=function(a){return typeof a=="string"||a instanceof String},o.fn=function(a){var c=Object.prototype.toString.call(a);return c==="[object Function]"}},370:function(i,o,a){var c=a(879),l=a(438);function u(p,g,y){if(!p&&!g&&!y)throw new Error("Missing required arguments");if(!c.string(g))throw new TypeError("Second argument must be a String");if(!c.fn(y))throw new TypeError("Third argument must be a Function");if(c.node(p))return f(p,g,y);if(c.nodeList(p))return d(p,g,y);if(c.string(p))return h(p,g,y);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(p,g,y){return p.addEventListener(g,y),{destroy:function(){p.removeEventListener(g,y)}}}function d(p,g,y){return Array.prototype.forEach.call(p,function(E){E.addEventListener(g,y)}),{destroy:function(){Array.prototype.forEach.call(p,function(E){E.removeEventListener(g,y)})}}}function h(p,g,y){return l(document.body,p,g,y)}i.exports=u},817:function(i){function o(a){var c;if(a.nodeName==="SELECT")a.focus(),c=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var l=a.hasAttribute("readonly");l||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),l||a.removeAttribute("readonly"),c=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var u=window.getSelection(),f=document.createRange();f.selectNodeContents(a),u.removeAllRanges(),u.addRange(f),c=u.toString()}return c}i.exports=o},279:function(i){function o(){}o.prototype={on:function(a,c,l){var u=this.e||(this.e={});return(u[a]||(u[a]=[])).push({fn:c,ctx:l}),this},once:function(a,c,l){var u=this;function f(){u.off(a,f),c.apply(l,arguments)}return f._=c,this.on(a,f,l)},emit:function(a){var c=[].slice.call(arguments,1),l=((this.e||(this.e={}))[a]||[]).slice(),u=0,f=l.length;for(u;u<f;u++)l[u].fn.apply(l[u].ctx,c);return this},off:function(a,c){var l=this.e||(this.e={}),u=l[a],f=[];if(u&&c)for(var d=0,h=u.length;d<h;d++)u[d].fn!==c&&u[d].fn._!==c&&f.push(u[d]);return f.length?l[a]=f:delete l[a],this}},i.exports=o,i.exports.TinyEmitter=o}},n={};function s(i){if(n[i])return n[i].exports;var o=n[i]={exports:{}};return r[i](o,o.exports,s),o.exports}return function(){s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,{a:o}),o}}(),function(){s.d=function(i,o){for(var a in o)s.o(o,a)&&!s.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:o[a]})}}(),function(){s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)}}(),s(686)}().default})}(Uy)),Uy.exports}var d1e=f1e();const h1e=Qu(d1e),p1e=t=>({toClipboard(e,r){return new Promise((n,s)=>{const i=document.createElement("button"),o=new h1e(i,{text:()=>e,action:()=>"copy",container:r!==void 0?r:document.body});o.on("success",a=>{o.destroy(),n(a)}),o.on("error",a=>{o.destroy(),s(a)}),document.body.appendChild(i),i.click(),document.body.removeChild(i)})}}),mT="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.3335%201.33334C6.22893%201.33334%205.3335%202.22877%205.3335%203.33334V4.00001H6.66683V3.33334C6.66683%202.96515%206.96531%202.66668%207.3335%202.66668H12.6668C13.035%202.66668%2013.3335%202.96515%2013.3335%203.33334V8.66668C13.3335%209.03487%2013.035%209.33334%2012.6668%209.33334H11.3335V10.6667H12.6668C13.7714%2010.6667%2014.6668%209.77125%2014.6668%208.66668V3.33334C14.6668%202.22877%2013.7714%201.33334%2012.6668%201.33334H7.3335ZM3.3335%204.66668C2.22893%204.66668%201.3335%205.56211%201.3335%206.66668V12C1.3335%2013.1046%202.22893%2014%203.3335%2014H8.66683C9.7714%2014%2010.6668%2013.1046%2010.6668%2012V6.66668C10.6668%205.56211%209.7714%204.66668%208.66683%204.66668H3.3335ZM2.66683%206.66668C2.66683%206.29849%202.96531%206.00001%203.3335%206.00001H8.66683C9.03502%206.00001%209.3335%206.29849%209.3335%206.66668V12C9.3335%2012.3682%209.03502%2012.6667%208.66683%2012.6667H3.3335C2.96531%2012.6667%202.66683%2012.3682%202.66683%2012V6.66668Z'%20fill='%23252830'/%3e%3c/svg%3e",yT="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.99998%2014.6667C11.6666%2014.6667%2014.6666%2011.6667%2014.6666%208.00004C14.6666%204.33337%2011.6666%201.33337%207.99998%201.33337C4.33331%201.33337%201.33331%204.33337%201.33331%208.00004C1.33331%2011.6667%204.33331%2014.6667%207.99998%2014.6667Z'%20stroke='%23252830'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.16669%207.99995L7.05335%209.88661L10.8334%206.11328'%20stroke='%23252830'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",g1e=["src"],m1e=Ge({__name:"Index",props:["text"],setup(t){const{toClipboard:e}=p1e(),r=t,n=Be(mT),s=async()=>{await e(r.text),n.value!==yT&&(n.value=yT,setTimeout(()=>{n.value=mT},1e3))};return(i,o)=>(De(),tt("img",{src:G(n),alt:"",onClick:s},null,8,g1e))}}),y1e=lf(m1e,[["__scopeId","data-v-dc9c7f7b"]]),GD=Age();GD.use(l1e);typeof window.Buffer>"u"&&(window.Buffer=CU.Buffer);typeof global>"u"&&(window.global=window);window.process=i1e;const l1=bU(t1e);l1.use(GD);l1.component("CopyImg",y1e);l1.use(r1e);l1.mount("#app");export{F3 as $,La as A,uf as B,X7 as C,Xye as D,s_ as E,Xr as F,m2e as G,h2e as H,r3 as I,eD as J,ir as K,m6 as L,Lye as M,R3 as N,Ky as O,N3 as P,et as Q,b0 as R,B3 as S,Cr as T,cP as U,x1e as V,S1e as W,hP as X,GL as Y,cn as Z,lf as _,Te as a,k1e as a$,ps as a0,ll as a1,DF as a2,tP as a3,MF as a4,mP as a5,JM as a6,Ir as a7,E1e as a8,Dt as a9,iw as aA,v3 as aB,M1e as aC,ls as aD,qy as aE,y2e as aF,tw as aG,bU as aH,QL as aI,m0 as aJ,ow as aK,tF as aL,qn as aM,rF as aN,eF as aO,ol as aP,Wve as aQ,Kve as aR,eB as aS,ZP as aT,Po as aU,w0 as aV,cE as aW,vi as aX,v1e as aY,A3 as aZ,D1e as a_,I1e as aa,P1e as ab,ih as ac,T1e as ad,R1e as ae,tB as af,jN as ag,C1e as ah,jL as ai,Jt as aj,ul as ak,ht as al,O1e as am,er as an,Pa as ao,Ka as ap,w1e as aq,oF as ar,nt as as,K3 as at,St as au,sy as av,Pu as aw,mi as ax,OM as ay,QH as az,zN as b,zg as b$,N1e as b0,_1e as b1,Hp as b2,bF as b3,wn as b4,Qu as b5,Eve as b6,cd as b7,Ay as b8,en as b9,B1e as bA,Ye as bB,Tt as bC,U1e as bD,Ps as bE,fs as bF,Zae as bG,qi as bH,qve as bI,Fve as bJ,aA as bK,w2 as bL,ur as bM,Zp as bN,gn as bO,HP as bP,xq as bQ,od as bR,jve as bS,q9 as bT,cA as bU,Eh as bV,es as bW,gY as bX,bve as bY,VO as bZ,m4 as b_,Ct as ba,Lve as bb,ft as bc,Ln as bd,Oa as be,an as bf,Hve as bg,ke as bh,k9 as bi,qe as bj,rt as bk,Zt as bl,vr as bm,Qt as bn,zve as bo,Ws as bp,X as bq,_t as br,Re as bs,nfe as bt,We as bu,by as bv,Yt as bw,Jx as bx,rO as by,Er as bz,tt as c,Cve as c0,Ave as c1,wve as c2,sY as c3,mY as c4,vve as c5,Ge as d,ye as e,HC as f,c1 as g,sr as h,Dwe as i,d2e as j,vwe as k,ut as l,g2e as m,kt as n,De as o,b2e as p,p2e as q,Be as r,RD as s,Ss as t,G as u,jt as v,lt as w,hs as x,_i as y,nh as z};
