const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BOSr73nT.js","./parseSignature-AVCsyUsG.js","./hashTypedData-DpqMGtzc.js","./embedded-wallet-LEKVqqGI.js","./index-B3-ZQ1pg.js","./index-DVbKgf71.js","./if-defined-B8HsXhMJ.js","./ref-ByOdmi0P.js","./index-DHE9tjgq.js","./HelpersUtil-CHfDviMi.js","./index-CpG42Avl.js","./index-DpKDGYYU.js","./index-B7r6IIEh.js","./index-D7D0dZNg.js","./index-CnQ-58Ok.js","./NavigationUtil-DmfK5sOV.js","./email-71MAdWG6.js","./index-DZOIlyQQ.js","./index-wzeYUyuu.js","./socials-DewSNBKX.js","./index-Ce3pHtCd.js","./index-DUcSNALo.js","./index-BEAT1dGp.js","./index-CIAnxs-P.js","./index-C9_271Cs.js","./swaps-CPKPDxvR.js","./index-BdB59Onw.js","./index-C-plglHX.js","./SwapController-L08Mf3Cj.js","./index-BeBw_kWD.js","./send-qBW_YxNH.js","./index-C5L0K0XJ.js","./index-BbZ4OIBB.js","./index-CwvLM-K2.js","./index-CSunMuPJ.js","./receive-D1suf6li.js","./onramp-DRIAruEu.js","./index-B1Xy1nPr.js","./index-Bubegx4i.js","./index-DVkseiEt.js","./pay-with-exchange-jrWUVISY.js","./ExchangeController-Chc7knr5.js","./transactions-Dl8F-U-q.js","./index-C7_L-JG4.js","./index-Ci6CgOFa.js","./index-CrBJSVuV.js","./index-qdICkmOQ.js","./index-CATb1hA9.js","./data-capture-nsz5EWkg.js","./features-DVNZ7Itd.js","./index-oW5L7tvX.js","./index-B09U8D0s.js","./w3m-modal-BNBGTA_d.js","./index-BjigDnh9.js","./index-B0xzo7Ep.js","./ChatView-Cz3Ii56g.js","./ChatView-QTB2iNT-.css"])))=>i.map(i=>d[i]);
var vie=Object.defineProperty;var xB=t=>{throw TypeError(t)};var _ie=(t,e,r)=>e in t?vie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var be=(t,e,r)=>_ie(t,typeof e!="symbol"?e+"":e,r),W6=(t,e,r)=>e.has(t)||xB("Cannot "+r);var G=(t,e,r)=>(W6(t,e,"read from private field"),r?r.call(t):e.get(t)),ve=(t,e,r)=>e.has(t)?xB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),se=(t,e,r,n)=>(W6(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Re=(t,e,r)=>(W6(t,e,"access private method"),r);var $g=(t,e,r,n)=>({set _(s){se(t,e,s,r)},get _(){return G(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function n8(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const _r={},L0=[],hi=()=>{},xW=()=>!1,CT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),s8=t=>t.startsWith("onUpdate:"),jn=Object.assign,i8=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Aie=Object.prototype.hasOwnProperty,er=(t,e)=>Aie.call(t,e),dt=Array.isArray,F0=t=>ST(t)==="[object Map]",OW=t=>ST(t)==="[object Set]",ut=t=>typeof t=="function",dr=t=>typeof t=="string",qu=t=>typeof t=="symbol",ar=t=>t!==null&&typeof t=="object",RW=t=>(ar(t)||ut(t))&&ut(t.then)&&ut(t.catch),NW=Object.prototype.toString,ST=t=>NW.call(t),Cie=t=>ST(t).slice(8,-1),BW=t=>ST(t)==="[object Object]",IT=t=>dr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zb=n8(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),TT=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},Sie=/-\w/g,So=TT(t=>t.replace(Sie,e=>e.slice(1).toUpperCase())),Iie=/\B([A-Z])/g,lp=TT(t=>t.replace(Iie,"-$1").toLowerCase()),PT=TT(t=>t.charAt(0).toUpperCase()+t.slice(1)),K6=TT(t=>t?`on${PT(t)}`:""),od=(t,e)=>!Object.is(t,e),Z6=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},kW=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Tie=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Pie=t=>{const e=dr(t)?Number(t):NaN;return isNaN(e)?t:e};let OB;const xT=()=>OB||(OB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vh(t){if(dt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=dr(n)?Nie(n):Vh(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(dr(t)||ar(t))return t}const xie=/;(?![^(]*\))/g,Oie=/:([^]+)/,Rie=/\/\*[^]*?\*\//g;function Nie(t){const e={};return t.replace(Rie,"").split(xie).forEach(r=>{if(r){const n=r.split(Oie);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Pr(t){let e="";if(dr(t))e=t;else if(dt(t))for(let r=0;r<t.length;r++){const n=Pr(t[r]);n&&(e+=n+" ")}else if(ar(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Bie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kie=n8(Bie);function jW(t){return!!t||t===""}const DW=t=>!!(t&&t.__v_isRef===!0),Cu=t=>dr(t)?t:t==null?"":dt(t)||ar(t)&&(t.toString===NW||!ut(t.toString))?DW(t)?Cu(t.value):JSON.stringify(t,MW,2):String(t),MW=(t,e)=>DW(e)?MW(t,e.value):F0(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[Y6(n,i)+" =>"]=s,r),{})}:OW(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Y6(r))}:qu(e)?Y6(e):ar(e)&&!dt(e)&&!BW(e)?String(e):e,Y6=(t,e="")=>{var r;return qu(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hs;class UW{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hs,!e&&hs&&(this.index=(hs.scopes||(hs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=hs;try{return hs=this,e()}finally{hs=r}}}on(){++this._on===1&&(this.prevScope=hs,hs=this)}off(){this._on>0&&--this._on===0&&(hs=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function LW(t){return new UW(t)}function o8(){return hs}function FW(t,e=!1){hs&&hs.cleanups.push(t)}let xr;const J6=new WeakSet;class HW{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hs&&hs.active&&hs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,J6.has(this)&&(J6.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zW(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,RB(this),$W(this);const e=xr,r=sa;xr=this,sa=!0;try{return this.fn()}finally{VW(this),xr=e,sa=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)u8(e);this.deps=this.depsTail=void 0,RB(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?J6.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zO(this)&&this.run()}get dirty(){return zO(this)}}let qW=0,$b,Vb;function zW(t,e=!1){if(t.flags|=8,e){t.next=Vb,Vb=t;return}t.next=$b,$b=t}function a8(){qW++}function c8(){if(--qW>0)return;if(Vb){let e=Vb;for(Vb=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;$b;){let e=$b;for($b=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function $W(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function VW(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),u8(n),jie(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function zO(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(GW(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function GW(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===m1)||(t.globalVersion=m1,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!zO(t))))return;t.flags|=2;const e=t.dep,r=xr,n=sa;xr=t,sa=!0;try{$W(t);const s=t.fn(t._value);(e.version===0||od(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{xr=r,sa=n,VW(t),t.flags&=-3}}function u8(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)u8(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function jie(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let sa=!0;const WW=[];function Nu(){WW.push(sa),sa=!1}function Bu(){const t=WW.pop();sa=t===void 0?!0:t}function RB(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=xr;xr=void 0;try{e()}finally{xr=r}}}let m1=0;class Die{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class l8{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!xr||!sa||xr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==xr)r=this.activeLink=new Die(xr,this),xr.deps?(r.prevDep=xr.depsTail,xr.depsTail.nextDep=r,xr.depsTail=r):xr.deps=xr.depsTail=r,KW(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=xr.depsTail,r.nextDep=void 0,xr.depsTail.nextDep=r,xr.depsTail=r,xr.deps===r&&(xr.deps=n)}return r}trigger(e){this.version++,m1++,this.notify(e)}notify(e){a8();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{c8()}}}function KW(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)KW(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const eI=new WeakMap,kh=Symbol(""),$O=Symbol(""),g1=Symbol("");function ms(t,e,r){if(sa&&xr){let n=eI.get(t);n||eI.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new l8),s.map=n,s.key=r),s.track()}}function Eu(t,e,r,n,s,i){const o=eI.get(t);if(!o){m1++;return}const a=c=>{c&&c.trigger()};if(a8(),e==="clear")o.forEach(a);else{const c=dt(t),u=c&&IT(r);if(c&&r==="length"){const l=Number(n);o.forEach((d,f)=>{(f==="length"||f===g1||!qu(f)&&f>=l)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),u&&a(o.get(g1)),e){case"add":c?u&&a(o.get("length")):(a(o.get(kh)),F0(t)&&a(o.get($O)));break;case"delete":c||(a(o.get(kh)),F0(t)&&a(o.get($O)));break;case"set":F0(t)&&a(o.get(kh));break}}c8()}function Mie(t,e){const r=eI.get(t);return r&&r.get(e)}function Bp(t){const e=Gt(t);return e===t?e:(ms(e,"iterate",g1),Qi(t)?e:e.map(ca))}function OT(t){return ms(t=Gt(t),"iterate",g1),t}function Tl(t,e){return ku(t)?ic(t)?Vm(ca(e)):Vm(e):ca(e)}const Uie={__proto__:null,[Symbol.iterator](){return Q6(this,Symbol.iterator,t=>Tl(this,t))},concat(...t){return Bp(this).concat(...t.map(e=>dt(e)?Bp(e):e))},entries(){return Q6(this,"entries",t=>(t[1]=Tl(this,t[1]),t))},every(t,e){return yc(this,"every",t,e,void 0,arguments)},filter(t,e){return yc(this,"filter",t,e,r=>r.map(n=>Tl(this,n)),arguments)},find(t,e){return yc(this,"find",t,e,r=>Tl(this,r),arguments)},findIndex(t,e){return yc(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yc(this,"findLast",t,e,r=>Tl(this,r),arguments)},findLastIndex(t,e){return yc(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yc(this,"forEach",t,e,void 0,arguments)},includes(...t){return X6(this,"includes",t)},indexOf(...t){return X6(this,"indexOf",t)},join(t){return Bp(this).join(t)},lastIndexOf(...t){return X6(this,"lastIndexOf",t)},map(t,e){return yc(this,"map",t,e,void 0,arguments)},pop(){return Vg(this,"pop")},push(...t){return Vg(this,"push",t)},reduce(t,...e){return NB(this,"reduce",t,e)},reduceRight(t,...e){return NB(this,"reduceRight",t,e)},shift(){return Vg(this,"shift")},some(t,e){return yc(this,"some",t,e,void 0,arguments)},splice(...t){return Vg(this,"splice",t)},toReversed(){return Bp(this).toReversed()},toSorted(t){return Bp(this).toSorted(t)},toSpliced(...t){return Bp(this).toSpliced(...t)},unshift(...t){return Vg(this,"unshift",t)},values(){return Q6(this,"values",t=>Tl(this,t))}};function Q6(t,e,r){const n=OT(t),s=n[e]();return n!==t&&!Qi(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=r(i.value)),i}),s}const Lie=Array.prototype;function yc(t,e,r,n,s,i){const o=OT(t),a=o!==t&&!Qi(t),c=o[e];if(c!==Lie[e]){const d=c.apply(t,i);return a?ca(d):d}let u=r;o!==t&&(a?u=function(d,f){return r.call(this,Tl(t,d),f,t)}:r.length>2&&(u=function(d,f){return r.call(this,d,f,t)}));const l=c.call(o,u,n);return a&&s?s(l):l}function NB(t,e,r,n){const s=OT(t);let i=r;return s!==t&&(Qi(t)?r.length>3&&(i=function(o,a,c){return r.call(this,o,a,c,t)}):i=function(o,a,c){return r.call(this,o,Tl(t,a),c,t)}),s[e](i,...n)}function X6(t,e,r){const n=Gt(t);ms(n,"iterate",g1);const s=n[e](...r);return(s===-1||s===!1)&&RT(r[0])?(r[0]=Gt(r[0]),n[e](...r)):s}function Vg(t,e,r=[]){Nu(),a8();const n=Gt(t)[e].apply(t,r);return c8(),Bu(),n}const Fie=n8("__proto__,__v_isRef,__isVue"),ZW=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qu));function Hie(t){qu(t)||(t=String(t));const e=Gt(this);return ms(e,"has",t),e.hasOwnProperty(t)}class YW{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?Jie:eK:i?XW:QW).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=dt(e);if(!s){let c;if(o&&(c=Uie[r]))return c;if(r==="hasOwnProperty")return Hie}const a=Reflect.get(e,r,Or(e)?e:n);if((qu(r)?ZW.has(r):Fie(r))||(s||ms(e,"get",r),i))return a;if(Or(a)){const c=o&&IT(r)?a:a.value;return s&&ar(c)?y1(c):c}return ar(a)?s?y1(a):dp(a):a}}class JW extends YW{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];const o=dt(e)&&IT(r);if(!this._isShallow){const u=ku(i);if(!Qi(n)&&!ku(n)&&(i=Gt(i),n=Gt(n)),!o&&Or(i)&&!Or(n))return u||(i.value=n),!0}const a=o?Number(r)<e.length:er(e,r),c=Reflect.set(e,r,n,Or(e)?e:s);return e===Gt(s)&&(a?od(n,i)&&Eu(e,"set",r,n):Eu(e,"add",r,n)),c}deleteProperty(e,r){const n=er(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&Eu(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!qu(r)||!ZW.has(r))&&ms(e,"has",r),n}ownKeys(e){return ms(e,"iterate",dt(e)?"length":kh),Reflect.ownKeys(e)}}class qie extends YW{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const zie=new JW,$ie=new qie,Vie=new JW(!0);const VO=t=>t,XE=t=>Reflect.getPrototypeOf(t);function Gie(t,e,r){return function(...n){const s=this.__v_raw,i=Gt(s),o=F0(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=s[t](...n),l=r?VO:e?Vm:ca;return!e&&ms(i,"iterate",c?$O:kh),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[l(d[0]),l(d[1])]:l(d),done:f}},[Symbol.iterator](){return this}}}}function ev(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Wie(t,e){const r={get(s){const i=this.__v_raw,o=Gt(i),a=Gt(s);t||(od(s,a)&&ms(o,"get",s),ms(o,"get",a));const{has:c}=XE(o),u=e?VO:t?Vm:ca;if(c.call(o,s))return u(i.get(s));if(c.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&ms(Gt(s),"iterate",kh),s.size},has(s){const i=this.__v_raw,o=Gt(i),a=Gt(s);return t||(od(s,a)&&ms(o,"has",s),ms(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=Gt(a),u=e?VO:t?Vm:ca;return!t&&ms(c,"iterate",kh),a.forEach((l,d)=>s.call(i,u(l),u(d),o))}};return jn(r,t?{add:ev("add"),set:ev("set"),delete:ev("delete"),clear:ev("clear")}:{add(s){!e&&!Qi(s)&&!ku(s)&&(s=Gt(s));const i=Gt(this);return XE(i).has.call(i,s)||(i.add(s),Eu(i,"add",s,s)),this},set(s,i){!e&&!Qi(i)&&!ku(i)&&(i=Gt(i));const o=Gt(this),{has:a,get:c}=XE(o);let u=a.call(o,s);u||(s=Gt(s),u=a.call(o,s));const l=c.call(o,s);return o.set(s,i),u?od(i,l)&&Eu(o,"set",s,i):Eu(o,"add",s,i),this},delete(s){const i=Gt(this),{has:o,get:a}=XE(i);let c=o.call(i,s);c||(s=Gt(s),c=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return c&&Eu(i,"delete",s,void 0),u},clear(){const s=Gt(this),i=s.size!==0,o=s.clear();return i&&Eu(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=Gie(s,t,e)}),r}function d8(t,e){const r=Wie(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(er(r,s)&&s in n?r:n,s,i)}const Kie={get:d8(!1,!1)},Zie={get:d8(!1,!0)},Yie={get:d8(!0,!1)};const QW=new WeakMap,XW=new WeakMap,eK=new WeakMap,Jie=new WeakMap;function Qie(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xie(t){return t.__v_skip||!Object.isExtensible(t)?0:Qie(Cie(t))}function dp(t){return ku(t)?t:f8(t,!1,zie,Kie,QW)}function tK(t){return f8(t,!1,Vie,Zie,XW)}function y1(t){return f8(t,!0,$ie,Yie,eK)}function f8(t,e,r,n,s){if(!ar(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Xie(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?n:r);return s.set(t,a),a}function ic(t){return ku(t)?ic(t.__v_raw):!!(t&&t.__v_isReactive)}function ku(t){return!!(t&&t.__v_isReadonly)}function Qi(t){return!!(t&&t.__v_isShallow)}function RT(t){return t?!!t.__v_raw:!1}function Gt(t){const e=t&&t.__v_raw;return e?Gt(e):t}function h8(t){return!er(t,"__v_skip")&&Object.isExtensible(t)&&kW(t,"__v_skip",!0),t}const ca=t=>ar(t)?dp(t):t,Vm=t=>ar(t)?y1(t):t;function Or(t){return t?t.__v_isRef===!0:!1}function qt(t){return rK(t,!1)}function H0(t){return rK(t,!0)}function rK(t,e){return Or(t)?t:new eoe(t,e)}class eoe{constructor(e,r){this.dep=new l8,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Gt(e),this._value=r?e:ca(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Qi(e)||ku(e);e=n?e:Gt(e),od(e,r)&&(this._rawValue=e,this._value=n?e:ca(e),this.dep.trigger())}}function Ie(t){return Or(t)?t.value:t}const toe={get:(t,e,r)=>e==="__v_raw"?t:Ie(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Or(s)&&!Or(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function nK(t){return ic(t)?t:new Proxy(t,toe)}function roe(t){const e=dt(t)?new Array(t.length):{};for(const r in t)e[r]=sK(t,r);return e}class noe{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Gt(e);let s=!0,i=e;if(!dt(e)||!IT(String(r)))do s=!RT(i)||Qi(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=Ie(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Or(this._raw[this._key])){const r=this._object[this._key];if(Or(r)){r.value=e;return}}this._object[this._key]=e}get dep(){return Mie(this._raw,this._key)}}class soe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function p8(t,e,r){return Or(t)?t:ut(t)?new soe(t):ar(t)&&arguments.length>1?sK(t,e,r):qt(t)}function sK(t,e,r){return new noe(t,e,r)}class ioe{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new l8(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=m1-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&xr!==this)return zW(this,!0),!0}get value(){const e=this.dep.track();return GW(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ooe(t,e,r=!1){let n,s;return ut(t)?n=t:(n=t.get,s=t.set),new ioe(n,s,r)}const tv={},tI=new WeakMap;let Df;function aoe(t,e=!1,r=Df){if(r){let n=tI.get(r);n||tI.set(r,n=[]),n.push(t)}}function coe(t,e,r=_r){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=r,u=g=>s?g:Qi(g)||s===!1||s===0?vu(g,1):vu(g);let l,d,f,h,p=!1,m=!1;if(Or(t)?(d=()=>t.value,p=Qi(t)):ic(t)?(d=()=>u(t),p=!0):dt(t)?(m=!0,p=t.some(g=>ic(g)||Qi(g)),d=()=>t.map(g=>{if(Or(g))return g.value;if(ic(g))return u(g);if(ut(g))return c?c(g,2):g()})):ut(t)?e?d=c?()=>c(t,2):t:d=()=>{if(f){Nu();try{f()}finally{Bu()}}const g=Df;Df=l;try{return c?c(t,3,[h]):t(h)}finally{Df=g}}:d=hi,e&&s){const g=d,v=s===!0?1/0:s;d=()=>vu(g(),v)}const y=o8(),E=()=>{l.stop(),y&&y.active&&i8(y.effects,l)};if(i&&e){const g=e;e=(...v)=>{g(...v),E()}}let w=m?new Array(t.length).fill(tv):tv;const b=g=>{if(!(!(l.flags&1)||!l.dirty&&!g))if(e){const v=l.run();if(s||p||(m?v.some((A,C)=>od(A,w[C])):od(v,w))){f&&f();const A=Df;Df=l;try{const C=[v,w===tv?void 0:m&&w[0]===tv?[]:w,h];w=v,c?c(e,3,C):e(...C)}finally{Df=A}}}else l.run()};return a&&a(b),l=new HW(d),l.scheduler=o?()=>o(b,!1):b,h=g=>aoe(g,!1,l),f=l.onStop=()=>{const g=tI.get(l);if(g){if(c)c(g,4);else for(const v of g)v();tI.delete(l)}},e?n?b(!0):w=l.run():o?o(b.bind(null,!0),!0):l.run(),E.pause=l.pause.bind(l),E.resume=l.resume.bind(l),E.stop=E,E}function vu(t,e=1/0,r){if(e<=0||!ar(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Or(t))vu(t.value,e,r);else if(dt(t))for(let n=0;n<t.length;n++)vu(t[n],e,r);else if(OW(t)||F0(t))t.forEach(n=>{vu(n,e,r)});else if(BW(t)){for(const n in t)vu(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&vu(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qw(t,e,r,n){try{return n?t(...n):t()}catch(s){NT(s,e,r)}}function ua(t,e,r,n){if(ut(t)){const s=qw(t,e,r,n);return s&&RW(s)&&s.catch(i=>{NT(i,e,r)}),s}if(dt(t)){const s=[];for(let i=0;i<t.length;i++)s.push(ua(t[i],e,r,n));return s}}function NT(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||_r;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const l=a.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](t,c,u)===!1)return}a=a.parent}if(i){Nu(),qw(i,null,10,[t,c,u]),Bu();return}}uoe(t,r,s,n,o)}function uoe(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Ns=[];let ja=-1;const q0=[];let Pl=null,b0=0;const iK=Promise.resolve();let rI=null;function Yo(t){const e=rI||iK;return t?e.then(this?t.bind(this):t):e}function loe(t){let e=ja+1,r=Ns.length;for(;e<r;){const n=e+r>>>1,s=Ns[n],i=b1(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function m8(t){if(!(t.flags&1)){const e=b1(t),r=Ns[Ns.length-1];!r||!(t.flags&2)&&e>=b1(r)?Ns.push(t):Ns.splice(loe(e),0,t),t.flags|=1,oK()}}function oK(){rI||(rI=iK.then(cK))}function doe(t){dt(t)?q0.push(...t):Pl&&t.id===-1?Pl.splice(b0+1,0,t):t.flags&1||(q0.push(t),t.flags|=1),oK()}function BB(t,e,r=ja+1){for(;r<Ns.length;r++){const n=Ns[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ns.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function aK(t){if(q0.length){const e=[...new Set(q0)].sort((r,n)=>b1(r)-b1(n));if(q0.length=0,Pl){Pl.push(...e);return}for(Pl=e,b0=0;b0<Pl.length;b0++){const r=Pl[b0];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Pl=null,b0=0}}const b1=t=>t.id==null?t.flags&2?-1:1/0:t.id;function cK(t){try{for(ja=0;ja<Ns.length;ja++){const e=Ns[ja];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qw(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ja<Ns.length;ja++){const e=Ns[ja];e&&(e.flags&=-2)}ja=-1,Ns.length=0,aK(),rI=null,(Ns.length||q0.length)&&cK()}}let Gn=null,uK=null;function nI(t){const e=Gn;return Gn=t,uK=t&&t.type.__scopeId||null,e}function Ja(t,e=Gn,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&aI(-1);const i=nI(e);let o;try{o=t(...s)}finally{nI(i),n._d&&aI(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function sI(t,e){if(Gn===null)return t;const r=UT(Gn),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=_r]=e[s];i&&(ut(i)&&(i={mounted:i,updated:i}),i.deep&&vu(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Xd(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(Nu(),ua(c,r,8,[t.el,a,t,e]),Bu())}}const foe=Symbol("_vte"),lK=t=>t.__isTeleport,iu=Symbol("_leaveCb"),rv=Symbol("_enterCb");function hoe(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yg(()=>{t.isMounted=!0}),bK(()=>{t.isUnmounting=!0}),t}const no=[Function,Array],dK={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:no,onEnter:no,onAfterEnter:no,onEnterCancelled:no,onBeforeLeave:no,onLeave:no,onAfterLeave:no,onLeaveCancelled:no,onBeforeAppear:no,onAppear:no,onAfterAppear:no,onAppearCancelled:no},fK=t=>{const e=t.subTree;return e.component?fK(e.component):e},poe={name:"BaseTransition",props:dK,setup(t,{slots:e}){const r=Hs(),n=hoe();return()=>{const s=e.default&&mK(e.default(),!0);if(!s||!s.length)return;const i=hK(s),o=Gt(t),{mode:a}=o;if(n.isLeaving)return ex(i);const c=kB(i);if(!c)return ex(i);let u=GO(c,o,n,r,d=>u=d);c.type!==gs&&w1(c,u);let l=r.subTree&&kB(r.subTree);if(l&&l.type!==gs&&!qf(l,c)&&fK(r).type!==gs){let d=GO(l,o,n,r);if(w1(l,d),a==="out-in"&&c.type!==gs)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,l=void 0},ex(i);a==="in-out"&&c.type!==gs?d.delayLeave=(f,h,p)=>{const m=pK(n,l);m[String(l.key)]=l,f[iu]=()=>{h(),f[iu]=void 0,delete u.delayedLeave,l=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,l=void 0}}:l=void 0}else l&&(l=void 0);return i}}};function hK(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==gs){e=r;break}}return e}const moe=poe;function pK(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function GO(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:E,onAfterAppear:w,onAppearCancelled:b}=e,g=String(t.key),v=pK(r,t),A=(T,N)=>{T&&ua(T,n,9,N)},C=(T,N)=>{const M=N[1];A(T,N),dt(T)?T.every(k=>k.length<=1)&&M():T.length<=1&&M()},x={mode:o,persisted:a,beforeEnter(T){let N=c;if(!r.isMounted)if(i)N=y||c;else return;T[iu]&&T[iu](!0);const M=v[g];M&&qf(t,M)&&M.el[iu]&&M.el[iu](),A(N,[T])},enter(T){let N=u,M=l,k=d;if(!r.isMounted)if(i)N=E||u,M=w||l,k=b||d;else return;let B=!1;const U=T[rv]=I=>{B||(B=!0,I?A(k,[T]):A(M,[T]),x.delayedLeave&&x.delayedLeave(),T[rv]=void 0)};N?C(N,[T,U]):U()},leave(T,N){const M=String(t.key);if(T[rv]&&T[rv](!0),r.isUnmounting)return N();A(f,[T]);let k=!1;const B=T[iu]=U=>{k||(k=!0,N(),U?A(m,[T]):A(p,[T]),T[iu]=void 0,v[M]===t&&delete v[M])};v[M]=t,h?C(h,[T,B]):B()},clone(T){const N=GO(T,e,r,n,s);return s&&s(N),N}};return x}function ex(t){if(BT(t))return t=pd(t),t.children=null,t}function kB(t){if(!BT(t))return lK(t.type)&&t.children?hK(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ut(r.default))return r.default()}}function w1(t,e){t.shapeFlag&6&&t.component?(t.transition=e,w1(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function mK(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Rn?(o.patchFlag&128&&s++,n=n.concat(mK(o.children,e,a))):(e||o.type!==gs)&&n.push(a!=null?pd(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Dr(t,e){return ut(t)?jn({name:t.name},e,{setup:t}):t}function gK(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const iI=new WeakMap;function Gb(t,e,r,n,s=!1){if(dt(t)){t.forEach((p,m)=>Gb(p,e&&(dt(e)?e[m]:e),r,n,s));return}if(z0(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Gb(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?UT(n.component):n.el,o=s?null:i,{i:a,r:c}=t,u=e&&e.r,l=a.refs===_r?a.refs={}:a.refs,d=a.setupState,f=Gt(d),h=d===_r?xW:p=>er(f,p);if(u!=null&&u!==c){if(jB(e),dr(u))l[u]=null,h(u)&&(d[u]=null);else if(Or(u)){u.value=null;const p=e;p.k&&(l[p.k]=null)}}if(ut(c))qw(c,a,12,[o,l]);else{const p=dr(c),m=Or(c);if(p||m){const y=()=>{if(t.f){const E=p?h(c)?d[c]:l[c]:c.value;if(s)dt(E)&&i8(E,i);else if(dt(E))E.includes(i)||E.push(i);else if(p)l[c]=[i],h(c)&&(d[c]=l[c]);else{const w=[i];c.value=w,t.k&&(l[t.k]=w)}}else p?(l[c]=o,h(c)&&(d[c]=o)):m&&(c.value=o,t.k&&(l[t.k]=o))};if(o){const E=()=>{y(),iI.delete(t)};E.id=-1,iI.set(t,E),Di(E,r)}else jB(t),y()}}}function jB(t){const e=iI.get(t);e&&(e.flags|=8,iI.delete(t))}xT().requestIdleCallback;xT().cancelIdleCallback;const z0=t=>!!t.type.__asyncLoader,BT=t=>t.type.__isKeepAlive;function goe(t,e){yK(t,"a",e)}function yoe(t,e){yK(t,"da",e)}function yK(t,e,r=ys){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(kT(e,n,r),r){let s=r.parent;for(;s&&s.parent;)BT(s.parent.vnode)&&boe(n,e,r,s),s=s.parent}}function boe(t,e,r,n){const s=kT(e,t,n,!0);jT(()=>{i8(n[e],s)},r)}function kT(t,e,r=ys,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Nu();const a=zw(r),c=ua(e,r,t,o);return a(),Bu(),c});return n?s.unshift(i):s.push(i),i}}const zu=t=>(e,r=ys)=>{(!v1||t==="sp")&&kT(t,(...n)=>e(...n),r)},woe=zu("bm"),yg=zu("m"),Eoe=zu("bu"),voe=zu("u"),bK=zu("bum"),jT=zu("um"),_oe=zu("sp"),Aoe=zu("rtg"),Coe=zu("rtc");function Soe(t,e=ys){kT("ec",t,e)}const wK="components";function Ioe(t,e){return vK(wK,t,!0,e)||t}const EK=Symbol.for("v-ndc");function Hf(t){return dr(t)?vK(wK,t,!1)||t:t||EK}function vK(t,e,r=!0,n=!1){const s=Gn||ys;if(s){const i=s.type;{const a=gae(i,!1);if(a&&(a===e||a===So(e)||a===PT(So(e))))return i}const o=DB(s[t]||i[t],e)||DB(s.appContext[t],e);return!o&&n?i:o}}function DB(t,e){return t&&(t[e]||t[So(e)]||t[PT(So(e))])}function Toe(t,e,r,n){let s;const i=r,o=dt(t);if(o||dr(t)){const a=o&&ic(t);let c=!1,u=!1;a&&(c=!Qi(t),u=ku(t),t=OT(t)),s=new Array(t.length);for(let l=0,d=t.length;l<d;l++)s[l]=e(c?u?Vm(ca(t[l])):ca(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(ar(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const l=a[c];s[c]=e(t[l],l,c,i)}}else s=[];return s}function P0(t,e,r={},n,s){if(Gn.ce||Gn.parent&&z0(Gn.parent)&&Gn.parent.ce){const u=Object.keys(r).length>0;return e!=="default"&&(r.name=e),ot(),fn(Rn,null,[Xr("slot",r,n&&n())],u?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),ot();const o=i&&_K(i(r)),a=r.key||o&&o.key,c=fn(Rn,{key:(a&&!qu(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function _K(t){return t.some(e=>hd(e)?!(e.type===gs||e.type===Rn&&!_K(e.children)):!0)?t:null}const WO=t=>t?zK(t)?UT(t):WO(t.parent):null,Wb=jn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>WO(t.parent),$root:t=>WO(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>SK(t),$forceUpdate:t=>t.f||(t.f=()=>{m8(t.update)}),$nextTick:t=>t.n||(t.n=Yo.bind(t.proxy)),$watch:t=>Hoe.bind(t)}),tx=(t,e)=>t!==_r&&!t.__isScriptSetup&&er(t,e),Poe={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(tx(n,e))return o[e]=1,n[e];if(s!==_r&&er(s,e))return o[e]=2,s[e];if(er(i,e))return o[e]=3,i[e];if(r!==_r&&er(r,e))return o[e]=4,r[e];KO&&(o[e]=0)}}const u=Wb[e];let l,d;if(u)return e==="$attrs"&&ms(t.attrs,"get",""),u(t);if((l=a.__cssModules)&&(l=l[e]))return l;if(r!==_r&&er(r,e))return o[e]=4,r[e];if(d=c.config.globalProperties,er(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return tx(s,e)?(s[e]=r,!0):n!==_r&&er(n,e)?(n[e]=r,!0):er(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,props:i,type:o}},a){let c;return!!(r[a]||t!==_r&&a[0]!=="$"&&er(t,a)||tx(e,a)||er(i,a)||er(n,a)||er(Wb,a)||er(s.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:er(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function xoe(){return AK().slots}function Ooe(){return AK().attrs}function AK(t){const e=Hs();return e.setupContext||(e.setupContext=VK(e))}function MB(t){return dt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let KO=!0;function Roe(t){const e=SK(t),r=t.proxy,n=t.ctx;KO=!1,e.beforeCreate&&UB(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:E,beforeUnmount:w,destroyed:b,unmounted:g,render:v,renderTracked:A,renderTriggered:C,errorCaptured:x,serverPrefetch:T,expose:N,inheritAttrs:M,components:k,directives:B,filters:U}=e;if(u&&Noe(u,n,null),o)for(const _ in o){const R=o[_];ut(R)&&(n[_]=R.bind(r))}if(s){const _=s.call(r,r);ar(_)&&(t.data=dp(_))}if(KO=!0,i)for(const _ in i){const R=i[_],O=ut(R)?R.bind(r,r):ut(R.get)?R.get.bind(r,r):hi,P=!ut(R)&&ut(R.set)?R.set.bind(r):hi,D=We({get:O,set:P});Object.defineProperty(n,_,{enumerable:!0,configurable:!0,get:()=>D.value,set:j=>D.value=j})}if(a)for(const _ in a)CK(a[_],n,r,_);if(c){const _=ut(c)?c.call(r):c;Reflect.ownKeys(_).forEach(R=>{Kb(R,_[R])})}l&&UB(l,t,"c");function S(_,R){dt(R)?R.forEach(O=>_(O.bind(r))):R&&_(R.bind(r))}if(S(woe,d),S(yg,f),S(Eoe,h),S(voe,p),S(goe,m),S(yoe,y),S(Soe,x),S(Coe,A),S(Aoe,C),S(bK,w),S(jT,g),S(_oe,T),dt(N))if(N.length){const _=t.exposed||(t.exposed={});N.forEach(R=>{Object.defineProperty(_,R,{get:()=>r[R],set:O=>r[R]=O,enumerable:!0})})}else t.exposed||(t.exposed={});v&&t.render===hi&&(t.render=v),M!=null&&(t.inheritAttrs=M),k&&(t.components=k),B&&(t.directives=B),T&&gK(t)}function Noe(t,e,r=hi){dt(t)&&(t=ZO(t));for(const n in t){const s=t[n];let i;ar(s)?"default"in s?i=kr(s.from||n,s.default,!0):i=kr(s.from||n):i=kr(s),Or(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function UB(t,e,r){ua(dt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function CK(t,e,r,n){let s=n.includes(".")?PK(r,n):()=>r[n];if(dr(t)){const i=e[t];ut(i)&&Xi(s,i)}else if(ut(t))Xi(s,t.bind(r));else if(ar(t))if(dt(t))t.forEach(i=>CK(i,e,r,n));else{const i=ut(t.handler)?t.handler.bind(r):e[t.handler];ut(i)&&Xi(s,i,t)}}function SK(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!r&&!n?c=e:(c={},s.length&&s.forEach(u=>oI(c,u,o,!0)),oI(c,e,o)),ar(e)&&i.set(e,c),c}function oI(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&oI(t,i,r,!0),s&&s.forEach(o=>oI(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=Boe[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Boe={data:LB,props:FB,emits:FB,methods:Rb,computed:Rb,beforeCreate:Ts,created:Ts,beforeMount:Ts,mounted:Ts,beforeUpdate:Ts,updated:Ts,beforeDestroy:Ts,beforeUnmount:Ts,destroyed:Ts,unmounted:Ts,activated:Ts,deactivated:Ts,errorCaptured:Ts,serverPrefetch:Ts,components:Rb,directives:Rb,watch:joe,provide:LB,inject:koe};function LB(t,e){return e?t?function(){return jn(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function koe(t,e){return Rb(ZO(t),ZO(e))}function ZO(t){if(dt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ts(t,e){return t?[...new Set([].concat(t,e))]:e}function Rb(t,e){return t?jn(Object.create(null),t,e):e}function FB(t,e){return t?dt(t)&&dt(e)?[...new Set([...t,...e])]:jn(Object.create(null),MB(t),MB(e??{})):e}function joe(t,e){if(!t)return e;if(!e)return t;const r=jn(Object.create(null),t);for(const n in e)r[n]=Ts(t[n],e[n]);return r}function IK(){return{app:null,config:{isNativeTag:xW,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Doe=0;function Moe(t,e){return function(n,s=null){ut(n)||(n=jn({},n)),s!=null&&!ar(s)&&(s=null);const i=IK(),o=new WeakSet,a=[];let c=!1;const u=i.app={_uid:Doe++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:bae,get config(){return i.config},set config(l){},use(l,...d){return o.has(l)||(l&&ut(l.install)?(o.add(l),l.install(u,...d)):ut(l)&&(o.add(l),l(u,...d))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,d){return d?(i.components[l]=d,u):i.components[l]},directive(l,d){return d?(i.directives[l]=d,u):i.directives[l]},mount(l,d,f){if(!c){const h=u._ceVNode||Xr(n,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,l,f),c=!0,u._container=l,l.__vue_app__=u,UT(h.component)}},onUnmount(l){a.push(l)},unmount(){c&&(ua(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(l,d){return i.provides[l]=d,u},runWithContext(l){const d=jh;jh=u;try{return l()}finally{jh=d}}};return u}}let jh=null;function Kb(t,e){if(ys){let r=ys.provides;const n=ys.parent&&ys.parent.provides;n===r&&(r=ys.provides=Object.create(n)),r[t]=e}}function kr(t,e,r=!1){const n=Hs();if(n||jh){let s=jh?jh._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&ut(e)?e.call(n&&n.proxy):e}}function Uoe(){return!!(Hs()||jh)}const Loe=Symbol.for("v-scx"),Foe=()=>kr(Loe);function TK(t,e){return g8(t,null,e)}function Xi(t,e,r){return g8(t,e,r)}function g8(t,e,r=_r){const{immediate:n,deep:s,flush:i,once:o}=r,a=jn({},r),c=e&&n||!e&&i!=="post";let u;if(v1){if(i==="sync"){const h=Foe();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=hi,h.resume=hi,h.pause=hi,h}}const l=ys;a.call=(h,p,m)=>ua(h,l,p,m);let d=!1;i==="post"?a.scheduler=h=>{Di(h,l&&l.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():m8(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const f=coe(t,e,a);return v1&&(u?u.push(f):c&&f()),f}function Hoe(t,e,r){const n=this.proxy,s=dr(t)?t.includes(".")?PK(n,t):()=>n[t]:t.bind(n,n);let i;ut(e)?i=e:(i=e.handler,r=e);const o=zw(this),a=g8(s,i.bind(n),r);return o(),a}function PK(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const qoe=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${So(e)}Modifiers`]||t[`${lp(e)}Modifiers`];function zoe(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||_r;let s=r;const i=e.startsWith("update:"),o=i&&qoe(n,e.slice(7));o&&(o.trim&&(s=r.map(l=>dr(l)?l.trim():l)),o.number&&(s=r.map(Tie)));let a,c=n[a=K6(e)]||n[a=K6(So(e))];!c&&i&&(c=n[a=K6(lp(e))]),c&&ua(c,t,6,s);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ua(u,t,6,s)}}const $oe=new WeakMap;function xK(t,e,r=!1){const n=r?$oe:e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!ut(t)){const c=u=>{const l=xK(u,e,!0);l&&(a=!0,jn(o,l))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(ar(t)&&n.set(t,null),null):(dt(i)?i.forEach(c=>o[c]=null):jn(o,i),ar(t)&&n.set(t,o),o)}function DT(t,e){return!t||!CT(e)?!1:(e=e.slice(2).replace(/Once$/,""),er(t,e[0].toLowerCase()+e.slice(1))||er(t,lp(e))||er(t,e))}function HB(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:u,renderCache:l,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=nI(t);let E,w;try{if(r.shapeFlag&4){const g=s||n,v=g;E=Ka(u.call(v,g,l,d,h,f,p)),w=a}else{const g=e;E=Ka(g.length>1?g(d,{attrs:a,slots:o,emit:c}):g(d,null)),w=e.props?a:Voe(a)}}catch(g){Zb.length=0,NT(g,t,1),E=Xr(gs)}let b=E;if(w&&m!==!1){const g=Object.keys(w),{shapeFlag:v}=b;g.length&&v&7&&(i&&g.some(s8)&&(w=Goe(w,i)),b=pd(b,w,!1,!0))}return r.dirs&&(b=pd(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&w1(b,r.transition),E=b,nI(y),E}const Voe=t=>{let e;for(const r in t)(r==="class"||r==="style"||CT(r))&&((e||(e={}))[r]=t[r]);return e},Goe=(t,e)=>{const r={};for(const n in t)(!s8(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Woe(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?qB(n,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let d=0;d<l.length;d++){const f=l[d];if(o[f]!==n[f]&&!DT(u,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?qB(n,o,u):!0:!!o;return!1}function qB(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!DT(r,i))return!0}return!1}function Koe({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const OK={},RK=()=>Object.create(OK),NK=t=>Object.getPrototypeOf(t)===OK;function Zoe(t,e,r,n=!1){const s={},i=RK();t.propsDefaults=Object.create(null),BK(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:tK(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Yoe(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Gt(s),[c]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let d=0;d<l.length;d++){let f=l[d];if(DT(t.emitsOptions,f))continue;const h=e[f];if(c)if(er(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const p=So(f);s[p]=YO(c,a,p,h,t,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{BK(t,e,s,i)&&(u=!0);let l;for(const d in a)(!e||!er(e,d)&&((l=lp(d))===d||!er(e,l)))&&(c?r&&(r[d]!==void 0||r[l]!==void 0)&&(s[d]=YO(c,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!er(e,d))&&(delete i[d],u=!0)}u&&Eu(t.attrs,"set","")}function BK(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(zb(c))continue;const u=e[c];let l;s&&er(s,l=So(c))?!i||!i.includes(l)?r[l]=u:(a||(a={}))[l]=u:DT(t.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,o=!0)}if(i){const c=Gt(r),u=a||_r;for(let l=0;l<i.length;l++){const d=i[l];r[d]=YO(s,c,d,u[d],t,!er(u,d))}}return o}function YO(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=er(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ut(c)){const{propsDefaults:u}=s;if(r in u)n=u[r];else{const l=zw(s);n=u[r]=c.call(null,e),l()}}else n=c;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===lp(r))&&(n=!0))}return n}const Joe=new WeakMap;function kK(t,e,r=!1){const n=r?Joe:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!ut(t)){const l=d=>{c=!0;const[f,h]=kK(d,e,!0);jn(o,f),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!i&&!c)return ar(t)&&n.set(t,L0),L0;if(dt(i))for(let l=0;l<i.length;l++){const d=So(i[l]);zB(d)&&(o[d]=_r)}else if(i)for(const l in i){const d=So(l);if(zB(d)){const f=i[l],h=o[d]=dt(f)||ut(f)?{type:f}:jn({},f),p=h.type;let m=!1,y=!0;if(dt(p))for(let E=0;E<p.length;++E){const w=p[E],b=ut(w)&&w.name;if(b==="Boolean"){m=!0;break}else b==="String"&&(y=!1)}else m=ut(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||er(h,"default"))&&a.push(d)}}const u=[o,a];return ar(t)&&n.set(t,u),u}function zB(t){return t[0]!=="$"&&!zb(t)}const y8=t=>t==="_"||t==="_ctx"||t==="$stable",b8=t=>dt(t)?t.map(Ka):[Ka(t)],Qoe=(t,e,r)=>{if(e._n)return e;const n=Ja((...s)=>b8(e(...s)),r);return n._c=!1,n},jK=(t,e,r)=>{const n=t._ctx;for(const s in t){if(y8(s))continue;const i=t[s];if(ut(i))e[s]=Qoe(s,i,n);else if(i!=null){const o=b8(i);e[s]=()=>o}}},DK=(t,e)=>{const r=b8(e);t.slots.default=()=>r},MK=(t,e,r)=>{for(const n in e)(r||!y8(n))&&(t[n]=e[n])},Xoe=(t,e,r)=>{const n=t.slots=RK();if(t.vnode.shapeFlag&32){const s=e._;s?(MK(n,e,r),r&&kW(n,"_",s,!0)):jK(e,n)}else e&&DK(t,e)},eae=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=_r;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:MK(s,e,r):(i=!e.$stable,jK(e,s)),o=e}else e&&(DK(t,e),o={default:1});if(i)for(const a in s)!y8(a)&&o[a]==null&&delete s[a]},Di=iae;function tae(t){return rae(t)}function rae(t,e){const r=xT();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:d,nextSibling:f,setScopeId:h=hi,insertStaticContent:p}=t,m=(Y,V,Z,ne=null,ue=null,ce=null,ge=void 0,we=null,me=!!V.dynamicChildren)=>{if(Y===V)return;Y&&!qf(Y,V)&&(ne=K(Y),j(Y,ue,ce,!0),Y=null),V.patchFlag===-2&&(me=!1,V.dynamicChildren=null);const{type:ae,ref:Oe,shapeFlag:Se}=V;switch(ae){case MT:y(Y,V,Z,ne);break;case gs:E(Y,V,Z,ne);break;case nx:Y==null&&w(V,Z,ne,ge);break;case Rn:k(Y,V,Z,ne,ue,ce,ge,we,me);break;default:Se&1?v(Y,V,Z,ne,ue,ce,ge,we,me):Se&6?B(Y,V,Z,ne,ue,ce,ge,we,me):(Se&64||Se&128)&&ae.process(Y,V,Z,ne,ue,ce,ge,we,me,X)}Oe!=null&&ue?Gb(Oe,Y&&Y.ref,ce,V||Y,!V):Oe==null&&Y&&Y.ref!=null&&Gb(Y.ref,null,ce,Y,!0)},y=(Y,V,Z,ne)=>{if(Y==null)n(V.el=a(V.children),Z,ne);else{const ue=V.el=Y.el;V.children!==Y.children&&u(ue,V.children)}},E=(Y,V,Z,ne)=>{Y==null?n(V.el=c(V.children||""),Z,ne):V.el=Y.el},w=(Y,V,Z,ne)=>{[Y.el,Y.anchor]=p(Y.children,V,Z,ne,Y.el,Y.anchor)},b=({el:Y,anchor:V},Z,ne)=>{let ue;for(;Y&&Y!==V;)ue=f(Y),n(Y,Z,ne),Y=ue;n(V,Z,ne)},g=({el:Y,anchor:V})=>{let Z;for(;Y&&Y!==V;)Z=f(Y),s(Y),Y=Z;s(V)},v=(Y,V,Z,ne,ue,ce,ge,we,me)=>{if(V.type==="svg"?ge="svg":V.type==="math"&&(ge="mathml"),Y==null)A(V,Z,ne,ue,ce,ge,we,me);else{const ae=Y.el&&Y.el._isVueCE?Y.el:null;try{ae&&ae._beginPatch(),T(Y,V,ue,ce,ge,we,me)}finally{ae&&ae._endPatch()}}},A=(Y,V,Z,ne,ue,ce,ge,we)=>{let me,ae;const{props:Oe,shapeFlag:Se,transition:Be,dirs:de}=Y;if(me=Y.el=o(Y.type,ce,Oe&&Oe.is,Oe),Se&8?l(me,Y.children):Se&16&&x(Y.children,me,null,ne,ue,rx(Y,ce),ge,we),de&&Xd(Y,null,ne,"created"),C(me,Y,Y.scopeId,ge,ne),Oe){for(const $ in Oe)$!=="value"&&!zb($)&&i(me,$,null,Oe[$],ce,ne);"value"in Oe&&i(me,"value",null,Oe.value,ce),(ae=Oe.onVnodeBeforeMount)&&Aa(ae,ne,Y)}de&&Xd(Y,null,ne,"beforeMount");const oe=nae(ue,Be);oe&&Be.beforeEnter(me),n(me,V,Z),((ae=Oe&&Oe.onVnodeMounted)||oe||de)&&Di(()=>{ae&&Aa(ae,ne,Y),oe&&Be.enter(me),de&&Xd(Y,null,ne,"mounted")},ue)},C=(Y,V,Z,ne,ue)=>{if(Z&&h(Y,Z),ne)for(let ce=0;ce<ne.length;ce++)h(Y,ne[ce]);if(ue){let ce=ue.subTree;if(V===ce||FK(ce.type)&&(ce.ssContent===V||ce.ssFallback===V)){const ge=ue.vnode;C(Y,ge,ge.scopeId,ge.slotScopeIds,ue.parent)}}},x=(Y,V,Z,ne,ue,ce,ge,we,me=0)=>{for(let ae=me;ae<Y.length;ae++){const Oe=Y[ae]=we?xl(Y[ae]):Ka(Y[ae]);m(null,Oe,V,Z,ne,ue,ce,ge,we)}},T=(Y,V,Z,ne,ue,ce,ge)=>{const we=V.el=Y.el;let{patchFlag:me,dynamicChildren:ae,dirs:Oe}=V;me|=Y.patchFlag&16;const Se=Y.props||_r,Be=V.props||_r;let de;if(Z&&ef(Z,!1),(de=Be.onVnodeBeforeUpdate)&&Aa(de,Z,V,Y),Oe&&Xd(V,Y,Z,"beforeUpdate"),Z&&ef(Z,!0),(Se.innerHTML&&Be.innerHTML==null||Se.textContent&&Be.textContent==null)&&l(we,""),ae?N(Y.dynamicChildren,ae,we,Z,ne,rx(V,ue),ce):ge||R(Y,V,we,null,Z,ne,rx(V,ue),ce,!1),me>0){if(me&16)M(we,Se,Be,Z,ue);else if(me&2&&Se.class!==Be.class&&i(we,"class",null,Be.class,ue),me&4&&i(we,"style",Se.style,Be.style,ue),me&8){const oe=V.dynamicProps;for(let $=0;$<oe.length;$++){const L=oe[$],H=Se[L],ee=Be[L];(ee!==H||L==="value")&&i(we,L,H,ee,ue,Z)}}me&1&&Y.children!==V.children&&l(we,V.children)}else!ge&&ae==null&&M(we,Se,Be,Z,ue);((de=Be.onVnodeUpdated)||Oe)&&Di(()=>{de&&Aa(de,Z,V,Y),Oe&&Xd(V,Y,Z,"updated")},ne)},N=(Y,V,Z,ne,ue,ce,ge)=>{for(let we=0;we<V.length;we++){const me=Y[we],ae=V[we],Oe=me.el&&(me.type===Rn||!qf(me,ae)||me.shapeFlag&198)?d(me.el):Z;m(me,ae,Oe,null,ne,ue,ce,ge,!0)}},M=(Y,V,Z,ne,ue)=>{if(V!==Z){if(V!==_r)for(const ce in V)!zb(ce)&&!(ce in Z)&&i(Y,ce,V[ce],null,ue,ne);for(const ce in Z){if(zb(ce))continue;const ge=Z[ce],we=V[ce];ge!==we&&ce!=="value"&&i(Y,ce,we,ge,ue,ne)}"value"in Z&&i(Y,"value",V.value,Z.value,ue)}},k=(Y,V,Z,ne,ue,ce,ge,we,me)=>{const ae=V.el=Y?Y.el:a(""),Oe=V.anchor=Y?Y.anchor:a("");let{patchFlag:Se,dynamicChildren:Be,slotScopeIds:de}=V;de&&(we=we?we.concat(de):de),Y==null?(n(ae,Z,ne),n(Oe,Z,ne),x(V.children||[],Z,Oe,ue,ce,ge,we,me)):Se>0&&Se&64&&Be&&Y.dynamicChildren?(N(Y.dynamicChildren,Be,Z,ue,ce,ge,we),(V.key!=null||ue&&V===ue.subTree)&&UK(Y,V,!0)):R(Y,V,Z,Oe,ue,ce,ge,we,me)},B=(Y,V,Z,ne,ue,ce,ge,we,me)=>{V.slotScopeIds=we,Y==null?V.shapeFlag&512?ue.ctx.activate(V,Z,ne,ge,me):U(V,Z,ne,ue,ce,ge,me):I(Y,V,me)},U=(Y,V,Z,ne,ue,ce,ge)=>{const we=Y.component=fae(Y,ne,ue);if(BT(Y)&&(we.ctx.renderer=X),hae(we,!1,ge),we.asyncDep){if(ue&&ue.registerDep(we,S,ge),!Y.el){const me=we.subTree=Xr(gs);E(null,me,V,Z),Y.placeholder=me.el}}else S(we,Y,V,Z,ue,ce,ge)},I=(Y,V,Z)=>{const ne=V.component=Y.component;if(Woe(Y,V,Z))if(ne.asyncDep&&!ne.asyncResolved){_(ne,V,Z);return}else ne.next=V,ne.update();else V.el=Y.el,ne.vnode=V},S=(Y,V,Z,ne,ue,ce,ge)=>{const we=()=>{if(Y.isMounted){let{next:Se,bu:Be,u:de,parent:oe,vnode:$}=Y;{const ye=LK(Y);if(ye){Se&&(Se.el=$.el,_(Y,Se,ge)),ye.asyncDep.then(()=>{Y.isUnmounted||we()});return}}let L=Se,H;ef(Y,!1),Se?(Se.el=$.el,_(Y,Se,ge)):Se=$,Be&&Z6(Be),(H=Se.props&&Se.props.onVnodeBeforeUpdate)&&Aa(H,oe,Se,$),ef(Y,!0);const ee=HB(Y),le=Y.subTree;Y.subTree=ee,m(le,ee,d(le.el),K(le),Y,ue,ce),Se.el=ee.el,L===null&&Koe(Y,ee.el),de&&Di(de,ue),(H=Se.props&&Se.props.onVnodeUpdated)&&Di(()=>Aa(H,oe,Se,$),ue)}else{let Se;const{el:Be,props:de}=V,{bm:oe,m:$,parent:L,root:H,type:ee}=Y,le=z0(V);ef(Y,!1),oe&&Z6(oe),!le&&(Se=de&&de.onVnodeBeforeMount)&&Aa(Se,L,V),ef(Y,!0);{H.ce&&H.ce._def.shadowRoot!==!1&&H.ce._injectChildStyle(ee);const ye=Y.subTree=HB(Y);m(null,ye,Z,ne,Y,ue,ce),V.el=ye.el}if($&&Di($,ue),!le&&(Se=de&&de.onVnodeMounted)){const ye=V;Di(()=>Aa(Se,L,ye),ue)}(V.shapeFlag&256||L&&z0(L.vnode)&&L.vnode.shapeFlag&256)&&Y.a&&Di(Y.a,ue),Y.isMounted=!0,V=Z=ne=null}};Y.scope.on();const me=Y.effect=new HW(we);Y.scope.off();const ae=Y.update=me.run.bind(me),Oe=Y.job=me.runIfDirty.bind(me);Oe.i=Y,Oe.id=Y.uid,me.scheduler=()=>m8(Oe),ef(Y,!0),ae()},_=(Y,V,Z)=>{V.component=Y;const ne=Y.vnode.props;Y.vnode=V,Y.next=null,Yoe(Y,V.props,ne,Z),eae(Y,V.children,Z),Nu(),BB(Y),Bu()},R=(Y,V,Z,ne,ue,ce,ge,we,me=!1)=>{const ae=Y&&Y.children,Oe=Y?Y.shapeFlag:0,Se=V.children,{patchFlag:Be,shapeFlag:de}=V;if(Be>0){if(Be&128){P(ae,Se,Z,ne,ue,ce,ge,we,me);return}else if(Be&256){O(ae,Se,Z,ne,ue,ce,ge,we,me);return}}de&8?(Oe&16&&W(ae,ue,ce),Se!==ae&&l(Z,Se)):Oe&16?de&16?P(ae,Se,Z,ne,ue,ce,ge,we,me):W(ae,ue,ce,!0):(Oe&8&&l(Z,""),de&16&&x(Se,Z,ne,ue,ce,ge,we,me))},O=(Y,V,Z,ne,ue,ce,ge,we,me)=>{Y=Y||L0,V=V||L0;const ae=Y.length,Oe=V.length,Se=Math.min(ae,Oe);let Be;for(Be=0;Be<Se;Be++){const de=V[Be]=me?xl(V[Be]):Ka(V[Be]);m(Y[Be],de,Z,null,ue,ce,ge,we,me)}ae>Oe?W(Y,ue,ce,!0,!1,Se):x(V,Z,ne,ue,ce,ge,we,me,Se)},P=(Y,V,Z,ne,ue,ce,ge,we,me)=>{let ae=0;const Oe=V.length;let Se=Y.length-1,Be=Oe-1;for(;ae<=Se&&ae<=Be;){const de=Y[ae],oe=V[ae]=me?xl(V[ae]):Ka(V[ae]);if(qf(de,oe))m(de,oe,Z,null,ue,ce,ge,we,me);else break;ae++}for(;ae<=Se&&ae<=Be;){const de=Y[Se],oe=V[Be]=me?xl(V[Be]):Ka(V[Be]);if(qf(de,oe))m(de,oe,Z,null,ue,ce,ge,we,me);else break;Se--,Be--}if(ae>Se){if(ae<=Be){const de=Be+1,oe=de<Oe?V[de].el:ne;for(;ae<=Be;)m(null,V[ae]=me?xl(V[ae]):Ka(V[ae]),Z,oe,ue,ce,ge,we,me),ae++}}else if(ae>Be)for(;ae<=Se;)j(Y[ae],ue,ce,!0),ae++;else{const de=ae,oe=ae,$=new Map;for(ae=oe;ae<=Be;ae++){const wt=V[ae]=me?xl(V[ae]):Ka(V[ae]);wt.key!=null&&$.set(wt.key,ae)}let L,H=0;const ee=Be-oe+1;let le=!1,ye=0;const Ae=new Array(ee);for(ae=0;ae<ee;ae++)Ae[ae]=0;for(ae=de;ae<=Se;ae++){const wt=Y[ae];if(H>=ee){j(wt,ue,ce,!0);continue}let At;if(wt.key!=null)At=$.get(wt.key);else for(L=oe;L<=Be;L++)if(Ae[L-oe]===0&&qf(wt,V[L])){At=L;break}At===void 0?j(wt,ue,ce,!0):(Ae[At-oe]=ae+1,At>=ye?ye=At:le=!0,m(wt,V[At],Z,null,ue,ce,ge,we,me),H++)}const tt=le?sae(Ae):L0;for(L=tt.length-1,ae=ee-1;ae>=0;ae--){const wt=oe+ae,At=V[wt],Wt=V[wt+1],Bt=wt+1<Oe?Wt.el||Wt.placeholder:ne;Ae[ae]===0?m(null,At,Z,Bt,ue,ce,ge,we,me):le&&(L<0||ae!==tt[L]?D(At,Z,Bt,2):L--)}}},D=(Y,V,Z,ne,ue=null)=>{const{el:ce,type:ge,transition:we,children:me,shapeFlag:ae}=Y;if(ae&6){D(Y.component.subTree,V,Z,ne);return}if(ae&128){Y.suspense.move(V,Z,ne);return}if(ae&64){ge.move(Y,V,Z,X);return}if(ge===Rn){n(ce,V,Z);for(let Se=0;Se<me.length;Se++)D(me[Se],V,Z,ne);n(Y.anchor,V,Z);return}if(ge===nx){b(Y,V,Z);return}if(ne!==2&&ae&1&&we)if(ne===0)we.beforeEnter(ce),n(ce,V,Z),Di(()=>we.enter(ce),ue);else{const{leave:Se,delayLeave:Be,afterLeave:de}=we,oe=()=>{Y.ctx.isUnmounted?s(ce):n(ce,V,Z)},$=()=>{ce._isLeaving&&ce[iu](!0),Se(ce,()=>{oe(),de&&de()})};Be?Be(ce,oe,$):$()}else n(ce,V,Z)},j=(Y,V,Z,ne=!1,ue=!1)=>{const{type:ce,props:ge,ref:we,children:me,dynamicChildren:ae,shapeFlag:Oe,patchFlag:Se,dirs:Be,cacheIndex:de}=Y;if(Se===-2&&(ue=!1),we!=null&&(Nu(),Gb(we,null,Z,Y,!0),Bu()),de!=null&&(V.renderCache[de]=void 0),Oe&256){V.ctx.deactivate(Y);return}const oe=Oe&1&&Be,$=!z0(Y);let L;if($&&(L=ge&&ge.onVnodeBeforeUnmount)&&Aa(L,V,Y),Oe&6)z(Y.component,Z,ne);else{if(Oe&128){Y.suspense.unmount(Z,ne);return}oe&&Xd(Y,null,V,"beforeUnmount"),Oe&64?Y.type.remove(Y,V,Z,X,ne):ae&&!ae.hasOnce&&(ce!==Rn||Se>0&&Se&64)?W(ae,V,Z,!1,!0):(ce===Rn&&Se&384||!ue&&Oe&16)&&W(me,V,Z),ne&&F(Y)}($&&(L=ge&&ge.onVnodeUnmounted)||oe)&&Di(()=>{L&&Aa(L,V,Y),oe&&Xd(Y,null,V,"unmounted")},Z)},F=Y=>{const{type:V,el:Z,anchor:ne,transition:ue}=Y;if(V===Rn){q(Z,ne);return}if(V===nx){g(Y);return}const ce=()=>{s(Z),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(Y.shapeFlag&1&&ue&&!ue.persisted){const{leave:ge,delayLeave:we}=ue,me=()=>ge(Z,ce);we?we(Y.el,ce,me):me()}else ce()},q=(Y,V)=>{let Z;for(;Y!==V;)Z=f(Y),s(Y),Y=Z;s(V)},z=(Y,V,Z)=>{const{bum:ne,scope:ue,job:ce,subTree:ge,um:we,m:me,a:ae}=Y;$B(me),$B(ae),ne&&Z6(ne),ue.stop(),ce&&(ce.flags|=8,j(ge,Y,V,Z)),we&&Di(we,V),Di(()=>{Y.isUnmounted=!0},V)},W=(Y,V,Z,ne=!1,ue=!1,ce=0)=>{for(let ge=ce;ge<Y.length;ge++)j(Y[ge],V,Z,ne,ue)},K=Y=>{if(Y.shapeFlag&6)return K(Y.component.subTree);if(Y.shapeFlag&128)return Y.suspense.next();const V=f(Y.anchor||Y.el),Z=V&&V[foe];return Z?f(Z):V};let re=!1;const Q=(Y,V,Z)=>{Y==null?V._vnode&&j(V._vnode,null,null,!0):m(V._vnode||null,Y,V,null,null,null,Z),V._vnode=Y,re||(re=!0,BB(),aK(),re=!1)},X={p:m,um:j,m:D,r:F,mt:U,mc:x,pc:R,pbc:N,n:K,o:t};return{render:Q,hydrate:void 0,createApp:Moe(Q)}}function rx({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ef({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function nae(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function UK(t,e,r=!1){const n=t.children,s=e.children;if(dt(n)&&dt(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=xl(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&UK(o,a)),a.type===MT&&a.patchFlag!==-1&&(a.el=o.el),a.type===gs&&!a.el&&(a.el=o.el)}}function sae(t){const e=t.slice(),r=[0];let n,s,i,o,a;const c=t.length;for(n=0;n<c;n++){const u=t[n];if(u!==0){if(s=r[r.length-1],t[s]<u){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<u?i=a+1:o=a;u<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function LK(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:LK(e)}function $B(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const FK=t=>t.__isSuspense;function iae(t,e){e&&e.pendingBranch?dt(t)?e.effects.push(...t):e.effects.push(t):doe(t)}const Rn=Symbol.for("v-fgt"),MT=Symbol.for("v-txt"),gs=Symbol.for("v-cmt"),nx=Symbol.for("v-stc"),Zb=[];let Yi=null;function ot(t=!1){Zb.push(Yi=t?null:[])}function oae(){Zb.pop(),Yi=Zb[Zb.length-1]||null}let E1=1;function aI(t,e=!1){E1+=t,t<0&&Yi&&e&&(Yi.hasOnce=!0)}function HK(t){return t.dynamicChildren=E1>0?Yi||L0:null,oae(),E1>0&&Yi&&Yi.push(t),t}function tr(t,e,r,n,s,i){return HK(ft(t,e,r,n,s,i,!0))}function fn(t,e,r,n,s){return HK(Xr(t,e,r,n,s,!0))}function hd(t){return t?t.__v_isVNode===!0:!1}function qf(t,e){return t.type===e.type&&t.key===e.key}const qK=({key:t})=>t??null,ES=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?dr(t)||Or(t)||ut(t)?{i:Gn,r:t,k:e,f:!!r}:t:null);function ft(t,e=null,r=null,n=0,s=null,i=t===Rn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qK(e),ref:e&&ES(e),scopeId:uK,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Gn};return a?(w8(c,r),i&128&&t.normalize(c)):r&&(c.shapeFlag|=dr(r)?8:16),E1>0&&!o&&Yi&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Yi.push(c),c}const Xr=aae;function aae(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===EK)&&(t=gs),hd(t)){const a=pd(t,e,!0);return r&&w8(a,r),E1>0&&!i&&Yi&&(a.shapeFlag&6?Yi[Yi.indexOf(t)]=a:Yi.push(a)),a.patchFlag=-2,a}if(yae(t)&&(t=t.__vccOpts),e){e=cae(e);let{class:a,style:c}=e;a&&!dr(a)&&(e.class=Pr(a)),ar(c)&&(RT(c)&&!dt(c)&&(c=jn({},c)),e.style=Vh(c))}const o=dr(t)?1:FK(t)?128:lK(t)?64:ar(t)?4:ut(t)?2:0;return ft(t,e,r,n,s,o,i,!0)}function cae(t){return t?RT(t)||NK(t)?jn({},t):t:null}function pd(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,u=e?cI(s||{},e):s,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&qK(u),ref:e&&e.ref?r&&i?dt(i)?i.concat(ES(e)):[i,ES(e)]:ES(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&pd(t.ssContent),ssFallback:t.ssFallback&&pd(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&w1(l,c.clone(l)),l}function uae(t=" ",e=0){return Xr(MT,null,t,e)}function nn(t="",e=!1){return e?(ot(),fn(gs,null,t)):Xr(gs,null,t)}function Ka(t){return t==null||typeof t=="boolean"?Xr(gs):dt(t)?Xr(Rn,null,t.slice()):hd(t)?xl(t):Xr(MT,null,String(t))}function xl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:pd(t)}function w8(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(dt(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),w8(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!NK(e)?e._ctx=Gn:s===3&&Gn&&(Gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:Gn},r=32):(e=String(e),n&64?(r=16,e=[uae(e)]):r=8);t.children=e,t.shapeFlag|=r}function cI(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Pr([e.class,n.class]));else if(s==="style")e.style=Vh([e.style,n.style]);else if(CT(s)){const i=e[s],o=n[s];o&&i!==o&&!(dt(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function Aa(t,e,r,n=null){ua(t,e,7,[r,n])}const lae=IK();let dae=0;function fae(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||lae,i={uid:dae++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new UW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kK(n,s),emitsOptions:xK(n,s),emit:null,emitted:null,propsDefaults:_r,inheritAttrs:n.inheritAttrs,ctx:_r,data:_r,props:_r,attrs:_r,slots:_r,refs:_r,setupState:_r,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=zoe.bind(null,i),t.ce&&t.ce(i),i}let ys=null;const Hs=()=>ys||Gn;let uI,JO;{const t=xT(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};uI=e("__VUE_INSTANCE_SETTERS__",r=>ys=r),JO=e("__VUE_SSR_SETTERS__",r=>v1=r)}const zw=t=>{const e=ys;return uI(t),t.scope.on(),()=>{t.scope.off(),uI(e)}},VB=()=>{ys&&ys.scope.off(),uI(null)};function zK(t){return t.vnode.shapeFlag&4}let v1=!1;function hae(t,e=!1,r=!1){e&&JO(e);const{props:n,children:s}=t.vnode,i=zK(t);Zoe(t,n,i,e),Xoe(t,s,r||e);const o=i?pae(t,e):void 0;return e&&JO(!1),o}function pae(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Poe);const{setup:n}=r;if(n){Nu();const s=t.setupContext=n.length>1?VK(t):null,i=zw(t),o=qw(n,t,0,[t.props,s]),a=RW(o);if(Bu(),i(),(a||t.sp)&&!z0(t)&&gK(t),a){if(o.then(VB,VB),e)return o.then(c=>{GB(t,c)}).catch(c=>{NT(c,t,0)});t.asyncDep=o}else GB(t,o)}else $K(t)}function GB(t,e,r){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ar(e)&&(t.setupState=nK(e)),$K(t)}function $K(t,e,r){const n=t.type;t.render||(t.render=n.render||hi);{const s=zw(t);Nu();try{Roe(t)}finally{Bu(),s()}}}const mae={get(t,e){return ms(t,"get",""),t[e]}};function VK(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,mae),slots:t.slots,emit:t.emit,expose:e}}function UT(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(nK(h8(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Wb)return Wb[r](t)},has(e,r){return r in e||r in Wb}})):t.proxy}function gae(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function yae(t){return ut(t)&&"__vccOpts"in t}const We=(t,e)=>ooe(t,e,v1);function E8(t,e,r){try{aI(-1);const n=arguments.length;return n===2?ar(e)&&!dt(e)?hd(e)?Xr(t,null,[e]):Xr(t,e):Xr(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&hd(r)&&(r=[r]),Xr(t,e,r))}finally{aI(1)}}const bae="3.5.25",wae=hi;/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let QO;const WB=typeof window<"u"&&window.trustedTypes;if(WB)try{QO=WB.createPolicy("vue",{createHTML:t=>t})}catch{}const GK=QO?t=>QO.createHTML(t):t=>t,Eae="http://www.w3.org/2000/svg",vae="http://www.w3.org/1998/Math/MathML",eu=typeof document<"u"?document:null,KB=eu&&eu.createElement("template"),_ae={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?eu.createElementNS(Eae,t):e==="mathml"?eu.createElementNS(vae,t):r?eu.createElement(t,{is:r}):eu.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>eu.createTextNode(t),createComment:t=>eu.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>eu.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{KB.innerHTML=GK(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=KB.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Ju="transition",Gg="animation",_1=Symbol("_vtc"),WK={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Aae=jn({},dK,WK),Cae=t=>(t.displayName="Transition",t.props=Aae,t),KK=Cae((t,{slots:e})=>E8(moe,Sae(t),e)),tf=(t,e=[])=>{dt(t)?t.forEach(r=>r(...e)):t&&t(...e)},ZB=t=>t?dt(t)?t.some(e=>e.length>1):t.length>1:!1;function Sae(t){const e={};for(const k in t)k in WK||(e[k]=t[k]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:l=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,p=Iae(s),m=p&&p[0],y=p&&p[1],{onBeforeEnter:E,onEnter:w,onEnterCancelled:b,onLeave:g,onLeaveCancelled:v,onBeforeAppear:A=E,onAppear:C=w,onAppearCancelled:x=b}=e,T=(k,B,U,I)=>{k._enterCancelled=I,rf(k,B?l:a),rf(k,B?u:o),U&&U()},N=(k,B)=>{k._isLeaving=!1,rf(k,d),rf(k,h),rf(k,f),B&&B()},M=k=>(B,U)=>{const I=k?C:w,S=()=>T(B,k,U);tf(I,[B,S]),YB(()=>{rf(B,k?c:i),bc(B,k?l:a),ZB(I)||JB(B,n,m,S)})};return jn(e,{onBeforeEnter(k){tf(E,[k]),bc(k,i),bc(k,o)},onBeforeAppear(k){tf(A,[k]),bc(k,c),bc(k,u)},onEnter:M(!1),onAppear:M(!0),onLeave(k,B){k._isLeaving=!0;const U=()=>N(k,B);bc(k,d),k._enterCancelled?(bc(k,f),ek(k)):(ek(k),bc(k,f)),YB(()=>{k._isLeaving&&(rf(k,d),bc(k,h),ZB(g)||JB(k,n,y,U))}),tf(g,[k,U])},onEnterCancelled(k){T(k,!1,void 0,!0),tf(b,[k])},onAppearCancelled(k){T(k,!0,void 0,!0),tf(x,[k])},onLeaveCancelled(k){N(k),tf(v,[k])}})}function Iae(t){if(t==null)return null;if(ar(t))return[sx(t.enter),sx(t.leave)];{const e=sx(t);return[e,e]}}function sx(t){return Pie(t)}function bc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[_1]||(t[_1]=new Set)).add(e)}function rf(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[_1];r&&(r.delete(e),r.size||(t[_1]=void 0))}function YB(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Tae=0;function JB(t,e,r,n){const s=t._endId=++Tae,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:c}=Pae(t,e);if(!o)return n();const u=o+"end";let l=0;const d=()=>{t.removeEventListener(u,f),i()},f=h=>{h.target===t&&++l>=c&&d()};setTimeout(()=>{l<c&&d()},a+1),t.addEventListener(u,f)}function Pae(t,e){const r=window.getComputedStyle(t),n=p=>(r[p]||"").split(", "),s=n(`${Ju}Delay`),i=n(`${Ju}Duration`),o=QB(s,i),a=n(`${Gg}Delay`),c=n(`${Gg}Duration`),u=QB(a,c);let l=null,d=0,f=0;e===Ju?o>0&&(l=Ju,d=o,f=i.length):e===Gg?u>0&&(l=Gg,d=u,f=c.length):(d=Math.max(o,u),l=d>0?o>u?Ju:Gg:null,f=l?l===Ju?i.length:c.length:0);const h=l===Ju&&/\b(?:transform|all)(?:,|$)/.test(n(`${Ju}Property`).toString());return{type:l,timeout:d,propCount:f,hasTransform:h}}function QB(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>XB(r)+XB(t[n])))}function XB(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ek(t){return(t?t.ownerDocument:document).body.offsetHeight}function xae(t,e,r){const n=t[_1];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const lI=Symbol("_vod"),ZK=Symbol("_vsh"),dI={name:"show",beforeMount(t,{value:e},{transition:r}){t[lI]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Wg(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Wg(t,!0),n.enter(t)):n.leave(t,()=>{Wg(t,!1)}):Wg(t,e))},beforeUnmount(t,{value:e}){Wg(t,e)}};function Wg(t,e){t.style.display=e?t[lI]:"none",t[ZK]=!e}const Oae=Symbol(""),Rae=/(?:^|;)\s*display\s*:/;function Nae(t,e,r){const n=t.style,s=dr(r);let i=!1;if(r&&!s){if(e)if(dr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&vS(n,a,"")}else for(const o in e)r[o]==null&&vS(n,o,"");for(const o in r)o==="display"&&(i=!0),vS(n,o,r[o])}else if(s){if(e!==r){const o=n[Oae];o&&(r+=";"+o),n.cssText=r,i=Rae.test(r)}}else e&&t.removeAttribute("style");lI in t&&(t[lI]=i?n.display:"",t[ZK]&&(n.display="none"))}const tk=/\s*!important$/;function vS(t,e,r){if(dt(r))r.forEach(n=>vS(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Bae(t,e);tk.test(r)?t.setProperty(lp(n),r.replace(tk,""),"important"):t[n]=r}}const rk=["Webkit","Moz","ms"],ix={};function Bae(t,e){const r=ix[e];if(r)return r;let n=So(e);if(n!=="filter"&&n in t)return ix[e]=n;n=PT(n);for(let s=0;s<rk.length;s++){const i=rk[s]+n;if(i in t)return ix[e]=i}return e}const nk="http://www.w3.org/1999/xlink";function sk(t,e,r,n,s,i=kie(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(nk,e.slice(6,e.length)):t.setAttributeNS(nk,e,r):r==null||i&&!jW(r)?t.removeAttribute(e):t.setAttribute(e,i?"":qu(r)?String(r):r)}function ik(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?GK(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=jW(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function kae(t,e,r,n){t.addEventListener(e,r,n)}function jae(t,e,r,n){t.removeEventListener(e,r,n)}const ok=Symbol("_vei");function Dae(t,e,r,n,s=null){const i=t[ok]||(t[ok]={}),o=i[e];if(n&&o)o.value=n;else{const[a,c]=Mae(e);if(n){const u=i[e]=Fae(n,s);kae(t,a,u,c)}else o&&(jae(t,a,o,c),i[e]=void 0)}}const ak=/(?:Once|Passive|Capture)$/;function Mae(t){let e;if(ak.test(t)){e={};let n;for(;n=t.match(ak);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):lp(t.slice(2)),e]}let ox=0;const Uae=Promise.resolve(),Lae=()=>ox||(Uae.then(()=>ox=0),ox=Date.now());function Fae(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ua(Hae(n,r.value),e,5,[n])};return r.value=t,r.attached=Lae(),r}function Hae(t,e){if(dt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const ck=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,qae=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?xae(t,n,o):e==="style"?Nae(t,r,n):CT(e)?s8(e)||Dae(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zae(t,e,n,o))?(ik(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&sk(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!dr(n))?ik(t,So(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),sk(t,e,n,o))};function zae(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ck(e)&&ut(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ck(e)&&dr(r)?!1:e in t}const $ae=["ctrl","shift","alt","meta"],Vae={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>$ae.some(r=>t[`${r}Key`]&&!e.includes(r))},_S=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=Vae[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},Gae=jn({patchProp:qae},_ae);let uk;function YK(){return uk||(uk=tae(Gae))}const lk=((...t)=>{YK().render(...t)}),Wae=((...t)=>{const e=YK().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=Zae(n);if(!s)return;const i=e._component;!ut(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,Kae(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function Kae(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Zae(t){return dr(t)?document.querySelector(t):t}var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ax={},Kg={},dk;function Yae(){if(dk)return Kg;dk=1,Kg.byteLength=a,Kg.toByteArray=u,Kg.fromByteArray=f;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");m===-1&&(m=p);var y=m===p?0:4-m%4;return[m,y]}function a(h){var p=o(h),m=p[0],y=p[1];return(m+y)*3/4-y}function c(h,p,m){return(p+m)*3/4-m}function u(h){var p,m=o(h),y=m[0],E=m[1],w=new r(c(h,y,E)),b=0,g=E>0?y-4:y,v;for(v=0;v<g;v+=4)p=e[h.charCodeAt(v)]<<18|e[h.charCodeAt(v+1)]<<12|e[h.charCodeAt(v+2)]<<6|e[h.charCodeAt(v+3)],w[b++]=p>>16&255,w[b++]=p>>8&255,w[b++]=p&255;return E===2&&(p=e[h.charCodeAt(v)]<<2|e[h.charCodeAt(v+1)]>>4,w[b++]=p&255),E===1&&(p=e[h.charCodeAt(v)]<<10|e[h.charCodeAt(v+1)]<<4|e[h.charCodeAt(v+2)]>>2,w[b++]=p>>8&255,w[b++]=p&255),w}function l(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function d(h,p,m){for(var y,E=[],w=p;w<m;w+=3)y=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(h[w+2]&255),E.push(l(y));return E.join("")}function f(h){for(var p,m=h.length,y=m%3,E=[],w=16383,b=0,g=m-y;b<g;b+=w)E.push(d(h,b,b+w>g?g:b+w));return y===1?(p=h[m-1],E.push(t[p>>2]+t[p<<4&63]+"==")):y===2&&(p=(h[m-2]<<8)+h[m-1],E.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),E.join("")}return Kg}var nv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var fk;function Jae(){return fk||(fk=1,nv.read=function(t,e,r,n,s){var i,o,a=s*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?s-1:0,f=r?-1:1,h=t[e+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=i*256+t[e+d],d+=f,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=n;l>0;o=o*256+t[e+d],d+=f,l-=8);if(i===0)i=1-u;else{if(i===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-u}return(h?-1:1)*o*Math.pow(2,i-n)},nv.write=function(t,e,r,n,s,i){var o,a,c,u=i*8-s-1,l=(1<<u)-1,d=l>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,s),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;t[r+h]=a&255,h+=p,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;t[r+h]=o&255,h+=p,o/=256,u-=8);t[r+h-p]|=m*128}),nv}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hk;function Qae(){return hk||(hk=1,(function(t){const e=Yae(),r=Jae(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const $=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf($,L),$.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o($){if($>s)throw new RangeError('The value "'+$+'" is invalid for option "size"');const L=new Uint8Array($);return Object.setPrototypeOf(L,a.prototype),L}function a($,L,H){if(typeof $=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d($)}return c($,L,H)}a.poolSize=8192;function c($,L,H){if(typeof $=="string")return f($,L);if(ArrayBuffer.isView($))return p($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(Oe($,ArrayBuffer)||$&&Oe($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Oe($,SharedArrayBuffer)||$&&Oe($.buffer,SharedArrayBuffer)))return m($,L,H);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=$.valueOf&&$.valueOf();if(ee!=null&&ee!==$)return a.from(ee,L,H);const le=y($);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return a.from($[Symbol.toPrimitive]("string"),L,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}a.from=function($,L,H){return c($,L,H)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function l($,L,H){return u($),$<=0?o($):L!==void 0?typeof H=="string"?o($).fill(L,H):o($).fill(L):o($)}a.alloc=function($,L,H){return l($,L,H)};function d($){return u($),o($<0?0:E($)|0)}a.allocUnsafe=function($){return d($)},a.allocUnsafeSlow=function($){return d($)};function f($,L){if((typeof L!="string"||L==="")&&(L="utf8"),!a.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const H=b($,L)|0;let ee=o(H);const le=ee.write($,L);return le!==H&&(ee=ee.slice(0,le)),ee}function h($){const L=$.length<0?0:E($.length)|0,H=o(L);for(let ee=0;ee<L;ee+=1)H[ee]=$[ee]&255;return H}function p($){if(Oe($,Uint8Array)){const L=new Uint8Array($);return m(L.buffer,L.byteOffset,L.byteLength)}return h($)}function m($,L,H){if(L<0||$.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<L+(H||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return L===void 0&&H===void 0?ee=new Uint8Array($):H===void 0?ee=new Uint8Array($,L):ee=new Uint8Array($,L,H),Object.setPrototypeOf(ee,a.prototype),ee}function y($){if(a.isBuffer($)){const L=E($.length)|0,H=o(L);return H.length===0||$.copy(H,0,0,L),H}if($.length!==void 0)return typeof $.length!="number"||Se($.length)?o(0):h($);if($.type==="Buffer"&&Array.isArray($.data))return h($.data)}function E($){if($>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return $|0}function w($){return+$!=$&&($=0),a.alloc(+$)}a.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==a.prototype},a.compare=function(L,H){if(Oe(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),Oe(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),!a.isBuffer(L)||!a.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===H)return 0;let ee=L.length,le=H.length;for(let ye=0,Ae=Math.min(ee,le);ye<Ae;++ye)if(L[ye]!==H[ye]){ee=L[ye],le=H[ye];break}return ee<le?-1:le<ee?1:0},a.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(L,H){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return a.alloc(0);let ee;if(H===void 0)for(H=0,ee=0;ee<L.length;++ee)H+=L[ee].length;const le=a.allocUnsafe(H);let ye=0;for(ee=0;ee<L.length;++ee){let Ae=L[ee];if(Oe(Ae,Uint8Array))ye+Ae.length>le.length?(a.isBuffer(Ae)||(Ae=a.from(Ae)),Ae.copy(le,ye)):Uint8Array.prototype.set.call(le,Ae,ye);else if(a.isBuffer(Ae))Ae.copy(le,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=Ae.length}return le};function b($,L){if(a.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Oe($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const H=$.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&H===0)return 0;let le=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return ce($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H*2;case"hex":return H>>>1;case"base64":return me($).length;default:if(le)return ee?-1:ce($).length;L=(""+L).toLowerCase(),le=!0}}a.byteLength=b;function g($,L,H){let ee=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0,L>>>=0,H<=L))return"";for($||($="utf8");;)switch($){case"hex":return O(this,L,H);case"utf8":case"utf-8":return U(this,L,H);case"ascii":return _(this,L,H);case"latin1":case"binary":return R(this,L,H);case"base64":return B(this,L,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,L,H);default:if(ee)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ee=!0}}a.prototype._isBuffer=!0;function v($,L,H){const ee=$[L];$[L]=$[H],$[H]=ee}a.prototype.swap16=function(){const L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<L;H+=2)v(this,H,H+1);return this},a.prototype.swap32=function(){const L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<L;H+=4)v(this,H,H+3),v(this,H+1,H+2);return this},a.prototype.swap64=function(){const L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<L;H+=8)v(this,H,H+7),v(this,H+1,H+6),v(this,H+2,H+5),v(this,H+3,H+4);return this},a.prototype.toString=function(){const L=this.length;return L===0?"":arguments.length===0?U(this,0,L):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(L){if(!a.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:a.compare(this,L)===0},a.prototype.inspect=function(){let L="";const H=t.INSPECT_MAX_BYTES;return L=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(L+=" ... "),"<Buffer "+L+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(L,H,ee,le,ye){if(Oe(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(H===void 0&&(H=0),ee===void 0&&(ee=L?L.length:0),le===void 0&&(le=0),ye===void 0&&(ye=this.length),H<0||ee>L.length||le<0||ye>this.length)throw new RangeError("out of range index");if(le>=ye&&H>=ee)return 0;if(le>=ye)return-1;if(H>=ee)return 1;if(H>>>=0,ee>>>=0,le>>>=0,ye>>>=0,this===L)return 0;let Ae=ye-le,tt=ee-H;const wt=Math.min(Ae,tt),At=this.slice(le,ye),Wt=L.slice(H,ee);for(let Bt=0;Bt<wt;++Bt)if(At[Bt]!==Wt[Bt]){Ae=At[Bt],tt=Wt[Bt];break}return Ae<tt?-1:tt<Ae?1:0};function A($,L,H,ee,le){if($.length===0)return-1;if(typeof H=="string"?(ee=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,Se(H)&&(H=le?0:$.length-1),H<0&&(H=$.length+H),H>=$.length){if(le)return-1;H=$.length-1}else if(H<0)if(le)H=0;else return-1;if(typeof L=="string"&&(L=a.from(L,ee)),a.isBuffer(L))return L.length===0?-1:C($,L,H,ee,le);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call($,L,H):Uint8Array.prototype.lastIndexOf.call($,L,H):C($,[L],H,ee,le);throw new TypeError("val must be string, number or Buffer")}function C($,L,H,ee,le){let ye=1,Ae=$.length,tt=L.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if($.length<2||L.length<2)return-1;ye=2,Ae/=2,tt/=2,H/=2}function wt(Wt,Bt){return ye===1?Wt[Bt]:Wt.readUInt16BE(Bt*ye)}let At;if(le){let Wt=-1;for(At=H;At<Ae;At++)if(wt($,At)===wt(L,Wt===-1?0:At-Wt)){if(Wt===-1&&(Wt=At),At-Wt+1===tt)return Wt*ye}else Wt!==-1&&(At-=At-Wt),Wt=-1}else for(H+tt>Ae&&(H=Ae-tt),At=H;At>=0;At--){let Wt=!0;for(let Bt=0;Bt<tt;Bt++)if(wt($,At+Bt)!==wt(L,Bt)){Wt=!1;break}if(Wt)return At}return-1}a.prototype.includes=function(L,H,ee){return this.indexOf(L,H,ee)!==-1},a.prototype.indexOf=function(L,H,ee){return A(this,L,H,ee,!0)},a.prototype.lastIndexOf=function(L,H,ee){return A(this,L,H,ee,!1)};function x($,L,H,ee){H=Number(H)||0;const le=$.length-H;ee?(ee=Number(ee),ee>le&&(ee=le)):ee=le;const ye=L.length;ee>ye/2&&(ee=ye/2);let Ae;for(Ae=0;Ae<ee;++Ae){const tt=parseInt(L.substr(Ae*2,2),16);if(Se(tt))return Ae;$[H+Ae]=tt}return Ae}function T($,L,H,ee){return ae(ce(L,$.length-H),$,H,ee)}function N($,L,H,ee){return ae(ge(L),$,H,ee)}function M($,L,H,ee){return ae(me(L),$,H,ee)}function k($,L,H,ee){return ae(we(L,$.length-H),$,H,ee)}a.prototype.write=function(L,H,ee,le){if(H===void 0)le="utf8",ee=this.length,H=0;else if(ee===void 0&&typeof H=="string")le=H,ee=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(ee)?(ee=ee>>>0,le===void 0&&(le="utf8")):(le=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-H;if((ee===void 0||ee>ye)&&(ee=ye),L.length>0&&(ee<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Ae=!1;for(;;)switch(le){case"hex":return x(this,L,H,ee);case"utf8":case"utf-8":return T(this,L,H,ee);case"ascii":case"latin1":case"binary":return N(this,L,H,ee);case"base64":return M(this,L,H,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,L,H,ee);default:if(Ae)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B($,L,H){return L===0&&H===$.length?e.fromByteArray($):e.fromByteArray($.slice(L,H))}function U($,L,H){H=Math.min($.length,H);const ee=[];let le=L;for(;le<H;){const ye=$[le];let Ae=null,tt=ye>239?4:ye>223?3:ye>191?2:1;if(le+tt<=H){let wt,At,Wt,Bt;switch(tt){case 1:ye<128&&(Ae=ye);break;case 2:wt=$[le+1],(wt&192)===128&&(Bt=(ye&31)<<6|wt&63,Bt>127&&(Ae=Bt));break;case 3:wt=$[le+1],At=$[le+2],(wt&192)===128&&(At&192)===128&&(Bt=(ye&15)<<12|(wt&63)<<6|At&63,Bt>2047&&(Bt<55296||Bt>57343)&&(Ae=Bt));break;case 4:wt=$[le+1],At=$[le+2],Wt=$[le+3],(wt&192)===128&&(At&192)===128&&(Wt&192)===128&&(Bt=(ye&15)<<18|(wt&63)<<12|(At&63)<<6|Wt&63,Bt>65535&&Bt<1114112&&(Ae=Bt))}}Ae===null?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,ee.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),ee.push(Ae),le+=tt}return S(ee)}const I=4096;function S($){const L=$.length;if(L<=I)return String.fromCharCode.apply(String,$);let H="",ee=0;for(;ee<L;)H+=String.fromCharCode.apply(String,$.slice(ee,ee+=I));return H}function _($,L,H){let ee="";H=Math.min($.length,H);for(let le=L;le<H;++le)ee+=String.fromCharCode($[le]&127);return ee}function R($,L,H){let ee="";H=Math.min($.length,H);for(let le=L;le<H;++le)ee+=String.fromCharCode($[le]);return ee}function O($,L,H){const ee=$.length;(!L||L<0)&&(L=0),(!H||H<0||H>ee)&&(H=ee);let le="";for(let ye=L;ye<H;++ye)le+=Be[$[ye]];return le}function P($,L,H){const ee=$.slice(L,H);let le="";for(let ye=0;ye<ee.length-1;ye+=2)le+=String.fromCharCode(ee[ye]+ee[ye+1]*256);return le}a.prototype.slice=function(L,H){const ee=this.length;L=~~L,H=H===void 0?ee:~~H,L<0?(L+=ee,L<0&&(L=0)):L>ee&&(L=ee),H<0?(H+=ee,H<0&&(H=0)):H>ee&&(H=ee),H<L&&(H=L);const le=this.subarray(L,H);return Object.setPrototypeOf(le,a.prototype),le};function D($,L,H){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+L>H)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=this[L],ye=1,Ae=0;for(;++Ae<H&&(ye*=256);)le+=this[L+Ae]*ye;return le},a.prototype.readUintBE=a.prototype.readUIntBE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=this[L+--H],ye=1;for(;H>0&&(ye*=256);)le+=this[L+--H]*ye;return le},a.prototype.readUint8=a.prototype.readUInt8=function(L,H){return L=L>>>0,H||D(L,1,this.length),this[L]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(L,H){return L=L>>>0,H||D(L,2,this.length),this[L]|this[L+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(L,H){return L=L>>>0,H||D(L,2,this.length),this[L]<<8|this[L+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(L,H){return L=L>>>0,H||D(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(L,H){return L=L>>>0,H||D(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},a.prototype.readBigUInt64LE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=H+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24,ye=this[++L]+this[++L]*2**8+this[++L]*2**16+ee*2**24;return BigInt(le)+(BigInt(ye)<<BigInt(32))}),a.prototype.readBigUInt64BE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=H*2**24+this[++L]*2**16+this[++L]*2**8+this[++L],ye=this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ee;return(BigInt(le)<<BigInt(32))+BigInt(ye)}),a.prototype.readIntLE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=this[L],ye=1,Ae=0;for(;++Ae<H&&(ye*=256);)le+=this[L+Ae]*ye;return ye*=128,le>=ye&&(le-=Math.pow(2,8*H)),le},a.prototype.readIntBE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=H,ye=1,Ae=this[L+--le];for(;le>0&&(ye*=256);)Ae+=this[L+--le]*ye;return ye*=128,Ae>=ye&&(Ae-=Math.pow(2,8*H)),Ae},a.prototype.readInt8=function(L,H){return L=L>>>0,H||D(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},a.prototype.readInt16LE=function(L,H){L=L>>>0,H||D(L,2,this.length);const ee=this[L]|this[L+1]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt16BE=function(L,H){L=L>>>0,H||D(L,2,this.length);const ee=this[L+1]|this[L]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt32LE=function(L,H){return L=L>>>0,H||D(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},a.prototype.readInt32BE=function(L,H){return L=L>>>0,H||D(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},a.prototype.readBigInt64LE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=this[L+4]+this[L+5]*2**8+this[L+6]*2**16+(ee<<24);return(BigInt(le)<<BigInt(32))+BigInt(H+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24)}),a.prototype.readBigInt64BE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=(H<<24)+this[++L]*2**16+this[++L]*2**8+this[++L];return(BigInt(le)<<BigInt(32))+BigInt(this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ee)}),a.prototype.readFloatLE=function(L,H){return L=L>>>0,H||D(L,4,this.length),r.read(this,L,!0,23,4)},a.prototype.readFloatBE=function(L,H){return L=L>>>0,H||D(L,4,this.length),r.read(this,L,!1,23,4)},a.prototype.readDoubleLE=function(L,H){return L=L>>>0,H||D(L,8,this.length),r.read(this,L,!0,52,8)},a.prototype.readDoubleBE=function(L,H){return L=L>>>0,H||D(L,8,this.length),r.read(this,L,!1,52,8)};function j($,L,H,ee,le,ye){if(!a.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>le||L<ye)throw new RangeError('"value" argument is out of bounds');if(H+ee>$.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(L,H,ee,le){if(L=+L,H=H>>>0,ee=ee>>>0,!le){const tt=Math.pow(2,8*ee)-1;j(this,L,H,ee,tt,0)}let ye=1,Ae=0;for(this[H]=L&255;++Ae<ee&&(ye*=256);)this[H+Ae]=L/ye&255;return H+ee},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(L,H,ee,le){if(L=+L,H=H>>>0,ee=ee>>>0,!le){const tt=Math.pow(2,8*ee)-1;j(this,L,H,ee,tt,0)}let ye=ee-1,Ae=1;for(this[H+ye]=L&255;--ye>=0&&(Ae*=256);)this[H+ye]=L/Ae&255;return H+ee},a.prototype.writeUint8=a.prototype.writeUInt8=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,1,255,0),this[H]=L&255,H+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,65535,0),this[H]=L&255,this[H+1]=L>>>8,H+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,65535,0),this[H]=L>>>8,this[H+1]=L&255,H+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,4294967295,0),this[H+3]=L>>>24,this[H+2]=L>>>16,this[H+1]=L>>>8,this[H]=L&255,H+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,4294967295,0),this[H]=L>>>24,this[H+1]=L>>>16,this[H+2]=L>>>8,this[H+3]=L&255,H+4};function F($,L,H,ee,le){Y(L,ee,le,$,H,7);let ye=Number(L&BigInt(4294967295));$[H++]=ye,ye=ye>>8,$[H++]=ye,ye=ye>>8,$[H++]=ye,ye=ye>>8,$[H++]=ye;let Ae=Number(L>>BigInt(32)&BigInt(4294967295));return $[H++]=Ae,Ae=Ae>>8,$[H++]=Ae,Ae=Ae>>8,$[H++]=Ae,Ae=Ae>>8,$[H++]=Ae,H}function q($,L,H,ee,le){Y(L,ee,le,$,H,7);let ye=Number(L&BigInt(4294967295));$[H+7]=ye,ye=ye>>8,$[H+6]=ye,ye=ye>>8,$[H+5]=ye,ye=ye>>8,$[H+4]=ye;let Ae=Number(L>>BigInt(32)&BigInt(4294967295));return $[H+3]=Ae,Ae=Ae>>8,$[H+2]=Ae,Ae=Ae>>8,$[H+1]=Ae,Ae=Ae>>8,$[H]=Ae,H+8}a.prototype.writeBigUInt64LE=de(function(L,H=0){return F(this,L,H,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=de(function(L,H=0){return q(this,L,H,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(L,H,ee,le){if(L=+L,H=H>>>0,!le){const wt=Math.pow(2,8*ee-1);j(this,L,H,ee,wt-1,-wt)}let ye=0,Ae=1,tt=0;for(this[H]=L&255;++ye<ee&&(Ae*=256);)L<0&&tt===0&&this[H+ye-1]!==0&&(tt=1),this[H+ye]=(L/Ae>>0)-tt&255;return H+ee},a.prototype.writeIntBE=function(L,H,ee,le){if(L=+L,H=H>>>0,!le){const wt=Math.pow(2,8*ee-1);j(this,L,H,ee,wt-1,-wt)}let ye=ee-1,Ae=1,tt=0;for(this[H+ye]=L&255;--ye>=0&&(Ae*=256);)L<0&&tt===0&&this[H+ye+1]!==0&&(tt=1),this[H+ye]=(L/Ae>>0)-tt&255;return H+ee},a.prototype.writeInt8=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,1,127,-128),L<0&&(L=255+L+1),this[H]=L&255,H+1},a.prototype.writeInt16LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,32767,-32768),this[H]=L&255,this[H+1]=L>>>8,H+2},a.prototype.writeInt16BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,32767,-32768),this[H]=L>>>8,this[H+1]=L&255,H+2},a.prototype.writeInt32LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,2147483647,-2147483648),this[H]=L&255,this[H+1]=L>>>8,this[H+2]=L>>>16,this[H+3]=L>>>24,H+4},a.prototype.writeInt32BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[H]=L>>>24,this[H+1]=L>>>16,this[H+2]=L>>>8,this[H+3]=L&255,H+4},a.prototype.writeBigInt64LE=de(function(L,H=0){return F(this,L,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=de(function(L,H=0){return q(this,L,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function z($,L,H,ee,le,ye){if(H+ee>$.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function W($,L,H,ee,le){return L=+L,H=H>>>0,le||z($,L,H,4),r.write($,L,H,ee,23,4),H+4}a.prototype.writeFloatLE=function(L,H,ee){return W(this,L,H,!0,ee)},a.prototype.writeFloatBE=function(L,H,ee){return W(this,L,H,!1,ee)};function K($,L,H,ee,le){return L=+L,H=H>>>0,le||z($,L,H,8),r.write($,L,H,ee,52,8),H+8}a.prototype.writeDoubleLE=function(L,H,ee){return K(this,L,H,!0,ee)},a.prototype.writeDoubleBE=function(L,H,ee){return K(this,L,H,!1,ee)},a.prototype.copy=function(L,H,ee,le){if(!a.isBuffer(L))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!le&&le!==0&&(le=this.length),H>=L.length&&(H=L.length),H||(H=0),le>0&&le<ee&&(le=ee),le===ee||L.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),L.length-H<le-ee&&(le=L.length-H+ee);const ye=le-ee;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(H,ee,le):Uint8Array.prototype.set.call(L,this.subarray(ee,le),H),ye},a.prototype.fill=function(L,H,ee,le){if(typeof L=="string"){if(typeof H=="string"?(le=H,H=0,ee=this.length):typeof ee=="string"&&(le=ee,ee=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!a.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(L.length===1){const Ae=L.charCodeAt(0);(le==="utf8"&&Ae<128||le==="latin1")&&(L=Ae)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(H<0||this.length<H||this.length<ee)throw new RangeError("Out of range index");if(ee<=H)return this;H=H>>>0,ee=ee===void 0?this.length:ee>>>0,L||(L=0);let ye;if(typeof L=="number")for(ye=H;ye<ee;++ye)this[ye]=L;else{const Ae=a.isBuffer(L)?L:a.from(L,le),tt=Ae.length;if(tt===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(ye=0;ye<ee-H;++ye)this[ye+H]=Ae[ye%tt]}return this};const re={};function Q($,L,H){re[$]=class extends H{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}Q("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function($,L){return`The "${$}" argument must be of type number. Received type ${typeof L}`},TypeError),Q("ERR_OUT_OF_RANGE",function($,L,H){let ee=`The value of "${$}" is out of range.`,le=H;return Number.isInteger(H)&&Math.abs(H)>2**32?le=X(String(H)):typeof H=="bigint"&&(le=String(H),(H>BigInt(2)**BigInt(32)||H<-(BigInt(2)**BigInt(32)))&&(le=X(le)),le+="n"),ee+=` It must be ${L}. Received ${le}`,ee},RangeError);function X($){let L="",H=$.length;const ee=$[0]==="-"?1:0;for(;H>=ee+4;H-=3)L=`_${$.slice(H-3,H)}${L}`;return`${$.slice(0,H)}${L}`}function ie($,L,H){V(L,"offset"),($[L]===void 0||$[L+H]===void 0)&&Z(L,$.length-(H+1))}function Y($,L,H,ee,le,ye){if($>H||$<L){const Ae=typeof L=="bigint"?"n":"";let tt;throw L===0||L===BigInt(0)?tt=`>= 0${Ae} and < 2${Ae} ** ${(ye+1)*8}${Ae}`:tt=`>= -(2${Ae} ** ${(ye+1)*8-1}${Ae}) and < 2 ** ${(ye+1)*8-1}${Ae}`,new re.ERR_OUT_OF_RANGE("value",tt,$)}ie(ee,le,ye)}function V($,L){if(typeof $!="number")throw new re.ERR_INVALID_ARG_TYPE(L,"number",$)}function Z($,L,H){throw Math.floor($)!==$?(V($,H),new re.ERR_OUT_OF_RANGE("offset","an integer",$)):L<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${L}`,$)}const ne=/[^+/0-9A-Za-z-_]/g;function ue($){if($=$.split("=")[0],$=$.trim().replace(ne,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function ce($,L){L=L||1/0;let H;const ee=$.length;let le=null;const ye=[];for(let Ae=0;Ae<ee;++Ae){if(H=$.charCodeAt(Ae),H>55295&&H<57344){if(!le){if(H>56319){(L-=3)>-1&&ye.push(239,191,189);continue}else if(Ae+1===ee){(L-=3)>-1&&ye.push(239,191,189);continue}le=H;continue}if(H<56320){(L-=3)>-1&&ye.push(239,191,189),le=H;continue}H=(le-55296<<10|H-56320)+65536}else le&&(L-=3)>-1&&ye.push(239,191,189);if(le=null,H<128){if((L-=1)<0)break;ye.push(H)}else if(H<2048){if((L-=2)<0)break;ye.push(H>>6|192,H&63|128)}else if(H<65536){if((L-=3)<0)break;ye.push(H>>12|224,H>>6&63|128,H&63|128)}else if(H<1114112){if((L-=4)<0)break;ye.push(H>>18|240,H>>12&63|128,H>>6&63|128,H&63|128)}else throw new Error("Invalid code point")}return ye}function ge($){const L=[];for(let H=0;H<$.length;++H)L.push($.charCodeAt(H)&255);return L}function we($,L){let H,ee,le;const ye=[];for(let Ae=0;Ae<$.length&&!((L-=2)<0);++Ae)H=$.charCodeAt(Ae),ee=H>>8,le=H%256,ye.push(le),ye.push(ee);return ye}function me($){return e.toByteArray(ue($))}function ae($,L,H,ee){let le;for(le=0;le<ee&&!(le+H>=L.length||le>=$.length);++le)L[le+H]=$[le];return le}function Oe($,L){return $ instanceof L||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===L.name}function Se($){return $!==$}const Be=(function(){const $="0123456789abcdef",L=new Array(256);for(let H=0;H<16;++H){const ee=H*16;for(let le=0;le<16;++le)L[ee+le]=$[H]+$[le]}return L})();function de($){return typeof BigInt>"u"?oe:$}function oe(){throw new Error("BigInt not supported")}})(ax)),ax}var Xae=Qae();const QK=""+new URL("logo-CwAGNRlz.svg",import.meta.url).href,ece="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI3BhaW50MF9hbmd1bGFyXzM3ODEwXzMzNDRfY2xpcF9wYXRoKSIgZGF0YS1maWdtYS1za2lwLXBhcnNlPSJ0cnVlIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjAwODEyNSAwIDAgMC4wMDgxMjUgMTAgMTAuNSkiPjxmb3JlaWduT2JqZWN0IHg9Ii0xMDQ2LjE1IiB5PSItMTA0Ni4xNSIgd2lkdGg9IjIwOTIuMzEiIGhlaWdodD0iMjA5Mi4zMSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImJhY2tncm91bmQ6Y29uaWMtZ3JhZGllbnQoZnJvbSA5MGRlZyxyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDAwMSkgMGRlZyxyZ2JhKDEzMiwgMTM5LCAxNTAsIDEpIDM2MGRlZyk7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtvcGFjaXR5OjEiPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi4yNSAxMC41QzIuMjUgNi4yMTk3OSA1LjcxOTc5IDIuNzUgMTAgMi43NUMxNC4yODAyIDIuNzUgMTcuNzUgNi4yMTk3OSAxNy43NSAxMC41QzE3Ljc1IDE0Ljc4MDIgMTQuMjgwMiAxOC4yNSAxMCAxOC4yNUM1LjcxOTc5IDE4LjI1IDIuMjUgMTQuNzgwMiAyLjI1IDEwLjVaTTEwIDQuNUM2LjY4NjI5IDQuNSA0IDcuMTg2MjkgNCAxMC41QzQgMTMuODEzNyA2LjY4NjI5IDE2LjUgMTAgMTYuNUMxMy4zMTM3IDE2LjUgMTYgMTMuODEzNyAxNiAxMC41QzE2IDcuMTg2MjkgMTMuMzEzNyA0LjUgMTAgNC41WiIgZGF0YS1maWdtYS1ncmFkaWVudC1maWxsPSJ7JiMzNDt0eXBlJiMzNDs6JiMzNDtHUkFESUVOVF9BTkdVTEFSJiMzNDssJiMzNDtzdG9wcyYjMzQ7Olt7JiMzNDtjb2xvciYjMzQ7OnsmIzM0O3ImIzM0OzoxLjAsJiMzNDtnJiMzNDs6MS4wLCYjMzQ7YiYjMzQ7OjEuMCwmIzM0O2EmIzM0Ozo5Ljk5OTk5OTc0NzM3ODc1MTZlLTA1fSwmIzM0O3Bvc2l0aW9uJiMzNDs6MC4wfSx7JiMzNDtjb2xvciYjMzQ7OnsmIzM0O3ImIzM0OzowLjUxNzY0NzA4NzU3NDAwNTEzLCYjMzQ7ZyYjMzQ7OjAuNTQ1MDk4MDY2MzI5OTU2MDUsJiMzNDtiJiMzNDs6MC41ODgyMzUzMTg2NjA3MzYwOCwmIzM0O2EmIzM0OzoxLjB9LCYjMzQ7cG9zaXRpb24mIzM0OzoxLjB9XSwmIzM0O3N0b3BzVmFyJiMzNDs6W10sJiMzNDt0cmFuc2Zvcm0mIzM0Ozp7JiMzNDttMDAmIzM0OzoxNi4yNTAsJiMzNDttMDEmIzM0OzowLjAsJiMzNDttMDImIzM0OzoxLjg3NTAsJiMzNDttMTAmIzM0OzowLjAsJiMzNDttMTEmIzM0OzoxNi4yNTAsJiMzNDttMTImIzM0OzoyLjM3NTB9LCYjMzQ7b3BhY2l0eSYjMzQ7OjEuMCwmIzM0O2JsZW5kTW9kZSYjMzQ7OiYjMzQ7Tk9STUFMJiMzNDssJiMzNDt2aXNpYmxlJiMzNDs6dHJ1ZX0iLz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0icGFpbnQwX2FuZ3VsYXJfMzc4MTBfMzM0NF9jbGlwX3BhdGgiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi4yNSAxMC41QzIuMjUgNi4yMTk3OSA1LjcxOTc5IDIuNzUgMTAgMi43NUMxNC4yODAyIDIuNzUgMTcuNzUgNi4yMTk3OSAxNy43NSAxMC41QzE3Ljc1IDE0Ljc4MDIgMTQuMjgwMiAxOC4yNSAxMCAxOC4yNUM1LjcxOTc5IDE4LjI1IDIuMjUgMTQuNzgwMiAyLjI1IDEwLjVaTTEwIDQuNUM2LjY4NjI5IDQuNSA0IDcuMTg2MjkgNCAxMC41QzQgMTMuODEzNyA2LjY4NjI5IDE2LjUgMTAgMTYuNUMxMy4zMTM3IDE2LjUgMTYgMTMuODEzNyAxNiAxMC41QzE2IDcuMTg2MjkgMTMuMzEzNyA0LjUgMTAgNC41WiIvPjwvY2xpcFBhdGg+PC9kZWZzPgo8L3N2Zz4K",tce=Symbol(),pk=Object.getPrototypeOf,XO=new WeakMap,rce=t=>t&&(XO.has(t)?XO.get(t):pk(t)===Object.prototype||pk(t)===Array.prototype),nce=t=>rce(t)&&t[tce]||null,mk=(t,e=!0)=>{XO.set(t,e)},fI={},v8=t=>typeof t=="object"&&t!==null,sce=t=>v8(t)&&!$w.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),XK=(t,e)=>{const r=eR.get(t);if((r==null?void 0:r[0])===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return mk(n,!0),eR.set(t,[e,n]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(n,s))return;const i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),a={value:i,enumerable:o,configurable:!0};if($w.has(i))mk(i,!1);else if(md.has(i)){const[c,u]=md.get(i);a.value=XK(c,u())}Object.defineProperty(n,s,a)}),Object.preventExtensions(n)},ice=(t,e,r,n)=>({deleteProperty(s,i){const o=Reflect.get(s,i);r(i);const a=Reflect.deleteProperty(s,i);return a&&n(["delete",[i],o]),a},set(s,i,o,a){const c=!t()&&Reflect.has(s,i),u=Reflect.get(s,i,a);if(c&&(gk(u,o)||A1.has(o)&&gk(u,A1.get(o))))return!0;r(i),v8(o)&&(o=nce(o)||o);const l=!md.has(o)&&ace(o)?jr(o):o;return e(i,l),Reflect.set(s,i,l,a),n(["set",[i],o,u]),!0}}),md=new WeakMap,$w=new WeakSet,eR=new WeakMap,AS=[1],A1=new WeakMap;let gk=Object.is,oce=(t,e)=>new Proxy(t,e),ace=sce,cce=XK,uce=ice;function jr(t={}){if(!v8(t))throw new Error("object required");const e=A1.get(t);if(e)return e;let r=AS[0];const n=new Set,s=(y,E=++AS[0])=>{r!==E&&(i=r=E,n.forEach(w=>w(y,E)))};let i=r;const o=(y=AS[0])=>(i!==y&&(i=y,c.forEach(([E])=>{const w=E[1](y);w>r&&(r=w)})),r),a=y=>(E,w)=>{const b=[...E];b[1]=[y,...b[1]],s(b,w)},c=new Map,u=(y,E)=>{const w=!$w.has(E)&&md.get(E);if(w){if((fI?"production":void 0)!=="production"&&c.has(y))throw new Error("prop listener already exists");if(n.size){const b=w[2](a(y));c.set(y,[w,b])}else c.set(y,[w])}},l=y=>{var E;const w=c.get(y);w&&(c.delete(y),(E=w[1])==null||E.call(w))},d=y=>(n.add(y),n.size===1&&c.forEach(([w,b],g)=>{if((fI?"production":void 0)!=="production"&&b)throw new Error("remove already exists");const v=w[2](a(g));c.set(g,[w,v])}),()=>{n.delete(y),n.size===0&&c.forEach(([w,b],g)=>{b&&(b(),c.set(g,[w]))})});let f=!0;const h=uce(()=>f,u,l,s),p=oce(t,h);A1.set(t,p);const m=[t,o,d];return md.set(p,m),Reflect.ownKeys(t).forEach(y=>{const E=Object.getOwnPropertyDescriptor(t,y);"value"in E&&E.writable&&(p[y]=t[y])}),f=!1,p}function Kn(t,e,r){const n=md.get(t);(fI?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let s;const i=[],o=n[2];let a=!1;const u=o(l=>{i.push(l),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,u()}}function C1(t){const e=md.get(t);(fI?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[r,n]=e;return cce(r,n())}function S1(t){return $w.add(t),t}function lce(){return{proxyStateMap:md,refSet:$w,snapCache:eR,versionHolder:AS,proxyCache:A1}}function Zn(t,e,r,n){let s=t[e];return Kn(t,()=>{const i=t[e];Object.is(s,i)||r(s=i)})}const{proxyStateMap:dce,snapCache:fce}=lce(),sv=t=>dce.has(t);function hce(t){const e=[];let r=0;const n=new Map,s=new WeakMap,i=()=>{const u=fce.get(a),l=u==null?void 0:u[1];if(l&&!s.has(l)){const d=new Map(n);s.set(l,d)}},o=u=>s.get(u)||n,a={data:e,index:r,epoch:0,get size(){return sv(this)||i(),o(this).size},get(u){const d=o(this).get(u);if(d===void 0){this.epoch;return}return this.data[d]},has(u){const l=o(this);return this.epoch,l.has(u)},set(u,l){if(!sv(this))throw new Error("Cannot perform mutations on a snapshot");const d=n.get(u);return d===void 0?(n.set(u,this.index),this.data[this.index++]=l):this.data[d]=l,this.epoch++,this},delete(u){if(!sv(this))throw new Error("Cannot perform mutations on a snapshot");const l=n.get(u);return l===void 0?!1:(delete this.data[l],n.delete(u),this.epoch++,!0)},clear(){if(!sv(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(u){this.epoch,o(this).forEach((d,f)=>{u(this.data[d],f,this)})},*entries(){this.epoch;const u=o(this);for(const[l,d]of u)yield[l,this.data[d]]},*keys(){this.epoch;const u=o(this);for(const l of u.keys())yield l},*values(){this.epoch;const u=o(this);for(const l of u.values())yield this.data[l]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=jr(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var yk={};const Ee={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof yk<"u"?yk.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},eZ={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return((s=Ee.CHAIN_NAME_MAP)==null?void 0:s[n])||void 0}},tZ=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var pce=20,mce=1,Gh=1e6,bk=1e6,gce=-7,yce=21,bce=!1,Vw="[big.js] ",fp=Vw+"Invalid ",LT=fp+"decimal places",wce=fp+"rounding mode",rZ=Vw+"Division by zero",pr={},oc=void 0,Ece=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function nZ(){function t(e){var r=this;if(!(r instanceof t))return e===oc?nZ():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(fp+"value");e=e===0&&1/e<0?"-0":String(e)}vce(r,e)}r.constructor=t}return t.prototype=pr,t.DP=pce,t.RM=mce,t.NE=gce,t.PE=yce,t.strict=bce,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function vce(t,e){var r,n,s;if(!Ece.test(e))throw Error(fp+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),s=e.length,n=0;n<s&&e.charAt(n)=="0";)++n;if(n==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=s;)t.c[r++]=+e.charAt(n++)}return t}function hp(t,e,r,n){var s=t.c;if(r===oc&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(wce);if(e<1)n=r===3&&(n||!!s[0])||e===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(n||s[1]!==oc))),s.length=1,n?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(n=r===1&&s[e]>=5||r===2&&(s[e]>5||s[e]===5&&(n||s[e+1]!==oc||s[e-1]&1))||r===3&&(n||!!s[0]),s.length=e,n){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function pp(t,e,r){var n=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>i)for(n-=i;n--;)s+="0";else n<i&&(s=s.slice(0,n)+"."+s.slice(n));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&r?"-"+s:s}pr.abs=function(){var t=new this.constructor(this);return t.s=1,t};pr.cmp=function(t){var e,r=this,n=r.c,s=(t=new r.constructor(t)).c,i=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!s[0])return n[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=s.length)?a:c,i=-1;++i<o;)if(n[i]!=s[i])return n[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};pr.div=function(t){var e=this,r=e.constructor,n=e.c,s=(t=new r(t)).c,i=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Gh)throw Error(LT);if(!s[0])throw Error(rZ);if(!n[0])return t.s=i,t.c=[t.e=0],t;var a,c,u,l,d,f=s.slice(),h=a=s.length,p=n.length,m=n.slice(0,a),y=m.length,E=t,w=E.c=[],b=0,g=o+(E.e=e.e-t.e)+1;for(E.s=i,i=g<0?0:g,f.unshift(0);y++<a;)m.push(0);do{for(u=0;u<10;u++){if(a!=(y=m.length))l=a>y?1:-1;else for(d=-1,l=0;++d<a;)if(s[d]!=m[d]){l=s[d]>m[d]?1:-1;break}if(l<0){for(c=y==a?s:f;y;){if(m[--y]<c[y]){for(d=y;d&&!m[--d];)m[d]=9;--m[d],m[y]+=10}m[y]-=c[y]}for(;!m[0];)m.shift()}else break}w[b++]=l?u:++u,m[0]&&l?m[y]=n[h]||0:m=[n[h]]}while((h++<p||m[0]!==oc)&&i--);return!w[0]&&b!=1&&(w.shift(),E.e--,g--),b>g&&hp(E,g,r.RM,m[0]!==oc),E};pr.eq=function(t){return this.cmp(t)===0};pr.gt=function(t){return this.cmp(t)>0};pr.gte=function(t){return this.cmp(t)>-1};pr.lt=function(t){return this.cmp(t)<0};pr.lte=function(t){return this.cmp(t)<1};pr.minus=pr.sub=function(t){var e,r,n,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var u=i.c.slice(),l=i.e,d=t.c,f=t.e;if(!u[0]||!d[0])return d[0]?t.s=-c:u[0]?t=new o(i):t.s=1,t;if(a=l-f){for((s=a<0)?(a=-a,n=u):(f=l,n=d),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((s=u.length<d.length)?u:d).length,a=c=0;c<r;c++)if(u[c]!=d[c]){s=u[c]<d[c];break}if(s&&(n=u,u=d,d=n,t.s=-t.s),(c=(r=d.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;r>a;){if(u[--r]<d[r]){for(e=r;e&&!u[--e];)u[e]=9;--u[e],u[r]+=10}u[r]-=d[r]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--f;return u[0]||(t.s=1,u=[f=0]),t.c=u,t.e=f,t};pr.mod=function(t){var e,r=this,n=r.constructor,s=r.s,i=(t=new n(t)).s;if(!t.c[0])throw Error(rZ);return r.s=t.s=1,e=t.cmp(r)==1,r.s=s,t.s=i,e?new n(r):(s=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=s,n.RM=i,this.minus(r.times(t)))};pr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};pr.plus=pr.add=function(t){var e,r,n,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=u):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),e=u.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+u[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};pr.pow=function(t){var e=this,r=new e.constructor("1"),n=r,s=t<0;if(t!==~~t||t<-bk||t>bk)throw Error(fp+"exponent");for(s&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return s?r.div(n):n};pr.prec=function(t,e){if(t!==~~t||t<1||t>Gh)throw Error(fp+"precision");return hp(new this.constructor(this),t,e)};pr.round=function(t,e){if(t===oc)t=0;else if(t!==~~t||t<-Gh||t>Gh)throw Error(LT);return hp(new this.constructor(this),t+this.e+1,e)};pr.sqrt=function(){var t,e,r,n=this,s=n.constructor,i=n.s,o=n.e,a=new s("0.5");if(!n.c[0])return new s(n);if(i<0)throw Error(Vw+"No square root");i=Math.sqrt(+pp(n,!0,!0)),i===0||i===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return hp(t,(s.DP-=4)+t.e+1,s.RM)};pr.times=pr.mul=function(t){var e,r=this,n=r.constructor,s=r.c,i=(t=new n(t)).c,o=s.length,a=i.length,c=r.e,u=t.e;if(t.s=r.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+u,o<a&&(e=s,s=i,i=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=e[u]+i[c]*s[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};pr.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==oc){if(t!==~~t||t<0||t>Gh)throw Error(LT);for(r=hp(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return pp(r,!0,!!n)};pr.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==oc){if(t!==~~t||t<0||t>Gh)throw Error(LT);for(r=hp(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return pp(r,!1,!!n)};pr[Symbol.for("nodejs.util.inspect.custom")]=pr.toJSON=pr.toString=function(){var t=this,e=t.constructor;return pp(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};pr.toNumber=function(){var t=+pp(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Vw+"Imprecise conversion");return t};pr.toPrecision=function(t,e){var r=this,n=r.constructor,s=r.c[0];if(t!==oc){if(t!==~~t||t<1||t>Gh)throw Error(fp+"precision");for(r=hp(new n(r),t,e);r.c.length<t;)r.c.push(0)}return pp(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)};pr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Vw+"valueOf disallowed");return pp(t,t.e<=e.NE||t.e>=e.PE,!0)};var Qu=nZ();const _ce={bigNumber(t){return t?new Qu(t):new Qu(0)},multiply(t,e){if(t===void 0||e===void 0)return new Qu(0);const r=new Qu(t),n=new Qu(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new Qu(0).toFixed(e):new Qu(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new Qu(e).toNumber()}},Ace=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Cce=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Sce=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Ice={getERC20Abi:t=>Ee.USDT_CONTRACT_ADDRESSES.includes(t)?Sce:Ace,getSwapAbi:()=>Cce},mn={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,s]=e;if(!r||!n||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},Qa={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(t){try{if(typeof t=="object"&&t!==null){const e=t,r=typeof e.message=="string",n=typeof e.code=="number";return r&&n}return!1}catch{return!1}},isUserRejectedMessage(t){return t.toLowerCase().includes("user rejected")||t.toLowerCase().includes("user cancelled")||t.toLowerCase().includes("user canceled")},isUserRejectedRequestError(t){if(Qa.isRpcProviderError(t)){const e=t.code===Qa.RPC_ERROR_CODE.USER_REJECTED_REQUEST,r=t.code===Qa.RPC_ERROR_CODE.USER_REJECTED_METHODS;return e||r||Qa.isUserRejectedMessage(t.message)}return t instanceof Error?Qa.isUserRejectedMessage(t.message):!1}};let Tce=class extends Error{constructor(e,r){super(r.message,{cause:e}),this.name=Qa.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=r.code}},_8=class extends Tce{constructor(e){super(e,{code:Qa.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Qa.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};const Xe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function cx(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Je={setItem(t,e){Nb()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Nb())return localStorage.getItem(t)||void 0},removeItem(t){Nb()&&localStorage.removeItem(t)},clear(){Nb()&&localStorage.clear()}};function Nb(){return typeof window<"u"&&typeof localStorage<"u"}function I1(t,e){const r=(t==null?void 0:t["--apkt-accent"])??(t==null?void 0:t["--w3m-accent"]);return e==="light"?{"--w3m-accent":r||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":r||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var wk={};const ux=(typeof process<"u"&&typeof wk<"u"?wk.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",sZ=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Pce="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Lt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:ux,SECURE_SITE_DASHBOARD:`${ux}/dashboard`,SECURE_SITE_FAVICON:`${ux}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD0"]},BALANCE_SUPPORTED_CHAINS:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[Ee.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Te={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Te.getActiveNamespace(),e=Te.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{Je.setItem(Xe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Je.getItem(Xe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Je.removeItem(Xe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Je.setItem(Xe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Je.setItem(Xe.ACTIVE_CAIP_NETWORK_ID,t),Te.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Je.getItem(Xe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Je.removeItem(Xe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=cx(t);Je.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Te.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Je.setItem(Xe.RECENT_WALLETS,JSON.stringify(e)),Je.setItem(Xe.RECENT_WALLET,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Je.getItem(Xe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const t=Je.getItem(Xe.RECENT_WALLET);return t?JSON.parse(t):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Je.removeItem(Xe.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(t,e){try{const r=cx(t);Je.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Je.getItem(Xe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=cx(t);return Je.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Je.setItem(Xe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Je.getItem(Xe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Je.removeItem(Xe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Je.getItem(Xe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=Je.getItem(Xe.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{Je.setItem(Xe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Je.getItem(Xe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Je.getItem(Xe.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Je.setItem(Xe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Te.getConnectedNamespaces();e.includes(t)||(e.push(t),Te.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Te.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),Te.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Je.getItem(Xe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Je.setItem(Xe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Je.removeItem(Xe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Je.getItem(Xe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Te.getBalanceCache();Je.setItem(Xe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=Te.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;Te.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Te.getBalanceCache();e[t.caipAddress]=t,Je.setItem(Xe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Je.getItem(Xe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Te.getBalanceCache();Je.setItem(Xe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=Te.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),Te.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Te.getNativeBalanceCache();e[t.caipAddress]=t,Je.setItem(Xe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Je.getItem(Xe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=Te.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;Te.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Te.getEnsCache();e[t.address]=t,Je.setItem(Xe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Te.getEnsCache();Je.setItem(Xe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Je.getItem(Xe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=Te.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;Te.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Te.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Je.setItem(Xe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Te.getIdentityCache();Je.setItem(Xe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},getTonWalletsCache(){try{const t=Je.getItem(Xe.TON_WALLETS_CACHE),e=t?JSON.parse(t):void 0;if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.tonWallets))return e;Te.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(t){try{const e=Te.getTonWalletsCache()||{timestamp:0,wallets:[]};e.timestamp=new Date().getTime(),e.wallets=t,Je.setItem(Xe.TON_WALLETS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ton wallets cache",t)}},removeTonWalletsCache(){try{Je.removeItem(Xe.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{Je.removeItem(Xe.PORTFOLIO_CACHE),Je.removeItem(Xe.NATIVE_BALANCE_CACHE),Je.removeItem(Xe.ENS_CACHE),Je.removeItem(Xe.IDENTITY_CACHE),Je.removeItem(Xe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Je.setItem(Xe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Je.getItem(Xe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=Te.getConnections(),n=r[e]??[],s=new Map;for(const o of n)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===Ee.CONNECTOR_ID.AUTH;if(a&&!c){const u=new Set(a.accounts.map(d=>d.address.toLowerCase())),l=o.accounts.filter(d=>!u.has(d.address.toLowerCase()));a.accounts.push(...l)}else s.set(o.connectorId,{...o})}const i={...r,[e]:Array.from(s.values())};Je.setItem(Xe.CONNECTIONS,JSON.stringify(i))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=Je.getItem(Xe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=Te.getConnections(),s=n[r]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Je.setItem(Xe.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=Je.getItem(Xe.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=Te.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),Je.setItem(Xe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=Te.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(s=>s.toLowerCase()!==t.toLowerCase()),Je.setItem(Xe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(Te.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Je.getItem(Xe.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){var r;try{const s=(r=Te.getTransactionsCache()[t])==null?void 0:r[e];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;Te.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const s=Te.getTransactionsCache();s[t]={...s[t],[e]:{timestamp:r,transactions:n}},Je.setItem(Xe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=Te.getTransactionsCache(),n=(r==null?void 0:r[t])||{},{[e]:s,...i}=n;Je.setItem(Xe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:i}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Je.getItem(Xe.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=Te.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;Te.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=Te.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Je.setItem(Xe.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=Te.getTokenPriceCache();Je.setItem(Xe.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}},getLatestAppKitVersion(){try{const t=this.getLatestAppKitVersionCache(),e=t==null?void 0:t.version;return e&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.latestAppKitVersion)?e:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const t=Je.getItem(Xe.LATEST_APPKIT_VERSION);return t?JSON.parse(t):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(t){try{const e=Te.getLatestAppKitVersionCache();e.timestamp=t.timestamp,e.version=t.version,Je.setItem(Xe.LATEST_APPKIT_VERSION,JSON.stringify(e))}catch{console.info("Unable to update latest AppKit version on local storage",t)}}},Ue={getWindow(){if(!(typeof window>"u"))return window},isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ue.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Lt.TEN_SEC_MS:!0},isAllowedRetry(t,e=Lt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Ue.isClient()&&window.self!==window.top)try{const r=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],n="https://app.safe.global";if(r){const s=new URL(r),i=new URL(n);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Lt.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function s(){t(...n)}r&&clearTimeout(r),r=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(Ue.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,s=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${n}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:n}},formatUniversalUrl(t,e){if(!Ue.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Te.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var r,n;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(r=window.matchMedia("(display-mode: standalone)"))==null?void 0:r.matches:!1,e=(n=window==null?void 0:window.navigator)==null?void 0:n.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const s=new Image;s.onload=r,s.onerror=n,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Ue.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const u=(Math.floor(c*1e3)/1e3).toFixed(3);u&&(r=u)}}const[n,s]=r.split("."),i=n||"0",o=s||"000";return{formattedText:`${i}.${o}${e?` ${e}`:""}`,value:i,decimals:o,symbol:e}},getApiUrl(){return Ee.W3M_API_URL},getBlockchainApiUrl(){return Ee.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ee.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,s)=>{r[n]=s}),e.sort((n,s)=>{const i=r[n.id],o=r[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const s=n[e];return r.has(s)?!1:(r.add(s),!0)})},generateSdkVersion(t,e,r){const s=t.length===0?Lt.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${r}`},createAccount(t,e,r,n,s){return{namespace:t,address:e,type:r,publicKey:n,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in Ee.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),r,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",n),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,n+i),c=t.substring(n+i,o),u=t.substring(s),l=c+r;return a+l+u}};var Gm={};const xce="https://secure.walletconnect.org/sdk",Oce=(typeof process<"u"&&typeof Gm<"u"?Gm.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||xce,Rce=(typeof process<"u"&&typeof Gm<"u"?Gm.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Nce=(typeof process<"u"&&typeof Gm<"u"?Gm.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ze={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},cn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Ek={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},En={set(t,e){Ki.isClient&&localStorage.setItem(`${Ze.STORAGE_KEY}${t}`,e)},get(t){return Ki.isClient?localStorage.getItem(`${Ze.STORAGE_KEY}${t}`):null},delete(t,e){Ki.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Ze.STORAGE_KEY}${t}`))}},iv=30*1e3,Ki={checkIfAllowedToTriggerEmail(){const t=En.get(Ze.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<iv){const r=Math.ceil((iv-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=En.get(Ze.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<iv)return Math.ceil((iv-e)/1e3)}return 0},checkIfRequestExists(t){return cn.NOT_SAFE_RPC_METHODS.includes(t.method)||cn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(Ek.transactionHash))||(t==null?void 0:t.match(Ek.signedMessage)))?Ze.RPC_RESPONSE_TYPE_TX:Ze.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return cn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var rr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(rr||(rr={}));var tR;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(tR||(tR={}));const qe=rr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jl=t=>{switch(typeof t){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return isNaN(t)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(t)?qe.array:t===null?qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qe.promise:typeof Map<"u"&&t instanceof Map?qe.map:typeof Set<"u"&&t instanceof Set?qe.set:typeof Date<"u"&&t instanceof Date?qe.date:qe.object;default:return qe.unknown}},ke=rr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Bce=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ia extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,rr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ia.create=t=>new ia(t);const T1=(t,e)=>{let r;switch(t.code){case ke.invalid_type:t.received===qe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,rr.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${rr.joinValues(t.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${rr.joinValues(t.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${rr.joinValues(t.options)}, received '${t.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:rr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ke.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ke.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=e.defaultError,rr.assertNever(t)}return{message:r}};let iZ=T1;function kce(t){iZ=t}function hI(){return iZ}const pI=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},jce=[];function Ge(t,e){const r=pI({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hI(),T1].filter(n=>!!n)});t.common.issues.push(r)}class Es{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return gt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r)n.push({key:await s.key,value:await s.value});return Es.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return gt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const gt=Object.freeze({status:"aborted"}),oZ=t=>({status:"dirty",value:t}),qs=t=>({status:"valid",value:t}),rR=t=>t.status==="aborted",nR=t=>t.status==="dirty",P1=t=>t.status==="valid",mI=t=>typeof Promise<"u"&&t instanceof Promise;var it;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(it||(it={}));class fc{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vk=(t,e)=>{if(P1(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ia(t.common.issues);return this._error=r,this._error}}};function vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:s}}class Pt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return jl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Es,ctx:{common:e.parent.common,data:e.data,parsedType:jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(mI(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jl(e)},i=this._parseSync({data:e,path:s.path,parent:s});return vk(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jl(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(mI(s)?s:Promise.resolve(s));return vk(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ke.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new la({schema:this,typeName:lt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Tu.create(this,this._def)}nullable(){return Zh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oa.create(this,this._def)}promise(){return Km.create(this,this._def)}or(e){return N1.create([this,e],this._def)}and(e){return B1.create(this,e,this._def)}transform(e){return new la({...vt(this._def),schema:this,typeName:lt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new U1({...vt(this._def),innerType:this,defaultValue:r,typeName:lt.ZodDefault})}brand(){return new cZ({typeName:lt.ZodBranded,type:this,...vt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new wI({...vt(this._def),innerType:this,catchValue:r,typeName:lt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Gw.create(this,e)}readonly(){return vI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dce=/^c[^\s-]{8,}$/i,Mce=/^[a-z][a-z0-9]*$/,Uce=/^[0-9A-HJKMNP-TV-Z]{26}$/,Lce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fce=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lx;const qce=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,zce=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,$ce=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Vce(t,e){return!!((e==="v4"||!e)&&qce.test(t)||(e==="v6"||!e)&&zce.test(t))}class ta extends Pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qe.string){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.string,received:i.parsedType}),gt}const n=new Es;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Ge(s,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ge(s,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Fce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"email",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")lx||(lx=new RegExp(Hce,"u")),lx.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"emoji",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Lce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"uuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Dce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"cuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Mce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"cuid2",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Uce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"ulid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ge(s,{validation:"url",code:ke.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"regex",code:ke.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?$ce(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="ip"?Vce(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"ip",code:ke.invalid_string,message:i.message}),n.dirty()):rr.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:ke.invalid_string,...it.errToObj(n)})}_addCheck(e){return new ta({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...it.errToObj(e)})}url(e){return this._addCheck({kind:"url",...it.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...it.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...it.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...it.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...it.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...it.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...it.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...it.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...it.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...it.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...it.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...it.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...it.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...it.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...it.errToObj(r)})}nonempty(e){return this.min(1,it.errToObj(e))}trim(){return new ta({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ta({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ta({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ta.create=t=>{var e;return new ta({checks:[],typeName:lt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};function Gce(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class gd extends Pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qe.number){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.number,received:i.parsedType}),gt}let n;const s=new Es;for(const i of this._def.checks)i.kind==="int"?rr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Gce(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.not_finite,message:i.message}),s.dirty()):rr.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,s){return new gd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(s)}]})}_addCheck(e){return new gd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:it.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:it.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:it.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:it.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}gd.create=t=>new gd({checks:[],typeName:lt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class yd extends Pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==qe.bigint){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.bigint,received:i.parsedType}),gt}let n;const s=new Es;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):rr.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,s){return new yd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(s)}]})}_addCheck(e){return new yd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}yd.create=t=>{var e;return new yd({checks:[],typeName:lt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...vt(t)})};class x1 extends Pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qe.boolean){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.boolean,received:n.parsedType}),gt}return qs(e.data)}}x1.create=t=>new x1({typeName:lt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...vt(t)});class Wh extends Pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qe.date){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.date,received:i.parsedType}),gt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_date}),gt}const n=new Es;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):rr.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:it.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:it.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Wh.create=t=>new Wh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:lt.ZodDate,...vt(t)});class gI extends Pt{_parse(e){if(this._getType(e)!==qe.symbol){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.symbol,received:n.parsedType}),gt}return qs(e.data)}}gI.create=t=>new gI({typeName:lt.ZodSymbol,...vt(t)});class O1 extends Pt{_parse(e){if(this._getType(e)!==qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.undefined,received:n.parsedType}),gt}return qs(e.data)}}O1.create=t=>new O1({typeName:lt.ZodUndefined,...vt(t)});class R1 extends Pt{_parse(e){if(this._getType(e)!==qe.null){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.null,received:n.parsedType}),gt}return qs(e.data)}}R1.create=t=>new R1({typeName:lt.ZodNull,...vt(t)});class Wm extends Pt{constructor(){super(...arguments),this._any=!0}_parse(e){return qs(e.data)}}Wm.create=t=>new Wm({typeName:lt.ZodAny,...vt(t)});class Dh extends Pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return qs(e.data)}}Dh.create=t=>new Dh({typeName:lt.ZodUnknown,...vt(t)});class ju extends Pt{_parse(e){const r=this._getOrReturnCtx(e);return Ge(r,{code:ke.invalid_type,expected:qe.never,received:r.parsedType}),gt}}ju.create=t=>new ju({typeName:lt.ZodNever,...vt(t)});class yI extends Pt{_parse(e){if(this._getType(e)!==qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.void,received:n.parsedType}),gt}return qs(e.data)}}yI.create=t=>new yI({typeName:lt.ZodVoid,...vt(t)});class oa extends Pt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==qe.array)return Ge(r,{code:ke.invalid_type,expected:qe.array,received:r.parsedType}),gt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(Ge(r,{code:o?ke.too_big:ke.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ge(r,{code:ke.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ge(r,{code:ke.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new fc(r,o,r.path,a)))).then(o=>Es.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new fc(r,o,r.path,a)));return Es.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new oa({...this._def,minLength:{value:e,message:it.toString(r)}})}max(e,r){return new oa({...this._def,maxLength:{value:e,message:it.toString(r)}})}length(e,r){return new oa({...this._def,exactLength:{value:e,message:it.toString(r)}})}nonempty(e){return this.min(1,e)}}oa.create=(t,e)=>new oa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:lt.ZodArray,...vt(e)});function w0(t){if(t instanceof $r){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Tu.create(w0(n))}return new $r({...t._def,shape:()=>e})}else return t instanceof oa?new oa({...t._def,type:w0(t.element)}):t instanceof Tu?Tu.create(w0(t.unwrap())):t instanceof Zh?Zh.create(w0(t.unwrap())):t instanceof hc?hc.create(t.items.map(e=>w0(e))):t}class $r extends Pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=rr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==qe.object){const u=this._getOrReturnCtx(e);return Ge(u,{code:ke.invalid_type,expected:qe.object,received:u.parsedType}),gt}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ju&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const l=i[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new fc(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ju){const u=this._def.unknownKeys;if(u==="passthrough")for(const l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(u==="strict")a.length>0&&(Ge(s,{code:ke.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const l of a){const d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new fc(s,d,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const l of c){const d=await l.key;u.push({key:d,value:await l.value,alwaysSet:l.alwaysSet})}return u}).then(u=>Es.mergeObjectSync(n,u)):Es.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return it.errToObj,new $r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=it.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new $r({...this._def,unknownKeys:"strip"})}passthrough(){return new $r({...this._def,unknownKeys:"passthrough"})}extend(e){return new $r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:lt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new $r({...this._def,catchall:e})}pick(e){const r={};return rr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new $r({...this._def,shape:()=>r})}omit(e){const r={};return rr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new $r({...this._def,shape:()=>r})}deepPartial(){return w0(this)}partial(e){const r={};return rr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new $r({...this._def,shape:()=>r})}required(e){const r={};return rr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Tu;)i=i._def.innerType;r[n]=i}}),new $r({...this._def,shape:()=>r})}keyof(){return aZ(rr.objectKeys(this.shape))}}$r.create=(t,e)=>new $r({shape:()=>t,unknownKeys:"strip",catchall:ju.create(),typeName:lt.ZodObject,...vt(e)});$r.strictCreate=(t,e)=>new $r({shape:()=>t,unknownKeys:"strict",catchall:ju.create(),typeName:lt.ZodObject,...vt(e)});$r.lazycreate=(t,e)=>new $r({shape:t,unknownKeys:"strip",catchall:ju.create(),typeName:lt.ZodObject,...vt(e)});class N1 extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ia(a.ctx.common.issues));return Ge(r,{code:ke.invalid_union,unionErrors:o}),gt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new ia(c));return Ge(r,{code:ke.invalid_union,unionErrors:a}),gt}}get options(){return this._def.options}}N1.create=(t,e)=>new N1({options:t,typeName:lt.ZodUnion,...vt(e)});const CS=t=>t instanceof j1?CS(t.schema):t instanceof la?CS(t.innerType()):t instanceof D1?[t.value]:t instanceof bd?t.options:t instanceof M1?Object.keys(t.enum):t instanceof U1?CS(t._def.innerType):t instanceof O1?[void 0]:t instanceof R1?[null]:null;class FT extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.object)return Ge(r,{code:ke.invalid_type,expected:qe.object,received:r.parsedType}),gt;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Ge(r,{code:ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=CS(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new FT({typeName:lt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...vt(n)})}}function sR(t,e){const r=jl(t),n=jl(e);if(t===e)return{valid:!0,data:t};if(r===qe.object&&n===qe.object){const s=rr.objectKeys(e),i=rr.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=sR(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===qe.array&&n===qe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=sR(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===qe.date&&n===qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class B1 extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(rR(i)||rR(o))return gt;const a=sR(i.value,o.value);return a.valid?((nR(i)||nR(o))&&r.dirty(),{status:r.value,value:a.data}):(Ge(n,{code:ke.invalid_intersection_types}),gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}B1.create=(t,e,r)=>new B1({left:t,right:e,typeName:lt.ZodIntersection,...vt(r)});class hc extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.array)return Ge(n,{code:ke.invalid_type,expected:qe.array,received:n.parsedType}),gt;if(n.data.length<this._def.items.length)return Ge(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&n.data.length>this._def.items.length&&(Ge(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new fc(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Es.mergeArray(r,o)):Es.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new hc({...this._def,rest:e})}}hc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hc({items:t,typeName:lt.ZodTuple,rest:null,...vt(e)})};class k1 extends Pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.object)return Ge(n,{code:ke.invalid_type,expected:qe.object,received:n.parsedType}),gt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new fc(n,a,n.path,a)),value:o._parse(new fc(n,n.data[a],n.path,a))});return n.common.async?Es.mergeObjectAsync(r,s):Es.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Pt?new k1({keyType:e,valueType:r,typeName:lt.ZodRecord,...vt(n)}):new k1({keyType:ta.create(),valueType:e,typeName:lt.ZodRecord,...vt(r)})}}class bI extends Pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.map)return Ge(n,{code:ke.invalid_type,expected:qe.map,received:n.parsedType}),gt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new fc(n,a,n.path,[u,"key"])),value:i._parse(new fc(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return gt;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return gt;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}}bI.create=(t,e,r)=>new bI({valueType:e,keyType:t,typeName:lt.ZodMap,...vt(r)});class Kh extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.set)return Ge(n,{code:ke.invalid_type,expected:qe.set,received:n.parsedType}),gt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ge(n,{code:ke.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ge(n,{code:ke.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const l of c){if(l.status==="aborted")return gt;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>i._parse(new fc(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Kh({...this._def,minSize:{value:e,message:it.toString(r)}})}max(e,r){return new Kh({...this._def,maxSize:{value:e,message:it.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Kh.create=(t,e)=>new Kh({valueType:t,minSize:null,maxSize:null,typeName:lt.ZodSet,...vt(e)});class $0 extends Pt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.function)return Ge(r,{code:ke.invalid_type,expected:qe.function,received:r.parsedType}),gt;function n(a,c){return pI({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hI(),T1].filter(u=>!!u),issueData:{code:ke.invalid_arguments,argumentsError:c}})}function s(a,c){return pI({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hI(),T1].filter(u=>!!u),issueData:{code:ke.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Km){const a=this;return qs(async function(...c){const u=new ia([]),l=await a._def.args.parseAsync(c,i).catch(h=>{throw u.addIssue(n(c,h)),u}),d=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(d,i).catch(h=>{throw u.addIssue(s(d,h)),u})})}else{const a=this;return qs(function(...c){const u=a._def.args.safeParse(c,i);if(!u.success)throw new ia([n(c,u.error)]);const l=Reflect.apply(o,this,u.data),d=a._def.returns.safeParse(l,i);if(!d.success)throw new ia([s(l,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $0({...this._def,args:hc.create(e).rest(Dh.create())})}returns(e){return new $0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new $0({args:e||hc.create([]).rest(Dh.create()),returns:r||Dh.create(),typeName:lt.ZodFunction,...vt(n)})}}class j1 extends Pt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}j1.create=(t,e)=>new j1({getter:t,typeName:lt.ZodLazy,...vt(e)});class D1 extends Pt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ge(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}D1.create=(t,e)=>new D1({value:t,typeName:lt.ZodLiteral,...vt(e)});function aZ(t,e){return new bd({values:t,typeName:lt.ZodEnum,...vt(e)})}class bd extends Pt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{expected:rr.joinValues(n),received:r.parsedType,code:ke.invalid_type}),gt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{received:r.data,code:ke.invalid_enum_value,options:n}),gt}return qs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return bd.create(e)}exclude(e){return bd.create(this.options.filter(r=>!e.includes(r)))}}bd.create=aZ;class M1 extends Pt{_parse(e){const r=rr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==qe.string&&n.parsedType!==qe.number){const s=rr.objectValues(r);return Ge(n,{expected:rr.joinValues(s),received:n.parsedType,code:ke.invalid_type}),gt}if(r.indexOf(e.data)===-1){const s=rr.objectValues(r);return Ge(n,{received:n.data,code:ke.invalid_enum_value,options:s}),gt}return qs(e.data)}get enum(){return this._def.values}}M1.create=(t,e)=>new M1({values:t,typeName:lt.ZodNativeEnum,...vt(e)});class Km extends Pt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.promise&&r.common.async===!1)return Ge(r,{code:ke.invalid_type,expected:qe.promise,received:r.parsedType}),gt;const n=r.parsedType===qe.promise?r.data:Promise.resolve(r.data);return qs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Km.create=(t,e)=>new Km({type:t,typeName:lt.ZodPromise,...vt(e)});class la extends Pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Ge(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?gt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?gt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!P1(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>P1(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);rr.assertNever(s)}}la.create=(t,e,r)=>new la({schema:t,typeName:lt.ZodEffects,effect:e,...vt(r)});la.createWithPreprocess=(t,e,r)=>new la({schema:e,effect:{type:"preprocess",transform:t},typeName:lt.ZodEffects,...vt(r)});class Tu extends Pt{_parse(e){return this._getType(e)===qe.undefined?qs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tu.create=(t,e)=>new Tu({innerType:t,typeName:lt.ZodOptional,...vt(e)});class Zh extends Pt{_parse(e){return this._getType(e)===qe.null?qs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zh.create=(t,e)=>new Zh({innerType:t,typeName:lt.ZodNullable,...vt(e)});class U1 extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}U1.create=(t,e)=>new U1({innerType:t,typeName:lt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...vt(e)});class wI extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mI(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ia(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ia(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wI.create=(t,e)=>new wI({innerType:t,typeName:lt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...vt(e)});class EI extends Pt{_parse(e){if(this._getType(e)!==qe.nan){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.nan,received:n.parsedType}),gt}return{status:"valid",value:e.data}}}EI.create=t=>new EI({typeName:lt.ZodNaN,...vt(t)});const Wce=Symbol("zod_brand");class cZ extends Pt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Gw extends Pt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?gt:i.status==="dirty"?(r.dirty(),oZ(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?gt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Gw({in:e,out:r,typeName:lt.ZodPipeline})}}class vI extends Pt{_parse(e){const r=this._def.innerType._parse(e);return P1(r)&&(r.value=Object.freeze(r.value)),r}}vI.create=(t,e)=>new vI({innerType:t,typeName:lt.ZodReadonly,...vt(e)});const uZ=(t,e={},r)=>t?Wm.create().superRefine((n,s)=>{var i,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:c})}}):Wm.create(),Kce={object:$r.lazycreate};var lt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(lt||(lt={}));const Zce=(t,e={message:`Input not instance of ${t.name}`})=>uZ(r=>r instanceof t,e),lZ=ta.create,dZ=gd.create,Yce=EI.create,Jce=yd.create,fZ=x1.create,Qce=Wh.create,Xce=gI.create,eue=O1.create,tue=R1.create,rue=Wm.create,nue=Dh.create,sue=ju.create,iue=yI.create,oue=oa.create,aue=$r.create,cue=$r.strictCreate,uue=N1.create,lue=FT.create,due=B1.create,fue=hc.create,hue=k1.create,pue=bI.create,mue=Kh.create,gue=$0.create,yue=j1.create,bue=D1.create,wue=bd.create,Eue=M1.create,vue=Km.create,_k=la.create,_ue=Tu.create,Aue=Zh.create,Cue=la.createWithPreprocess,Sue=Gw.create,Iue=()=>lZ().optional(),Tue=()=>dZ().optional(),Pue=()=>fZ().optional(),xue={string:(t=>ta.create({...t,coerce:!0})),number:(t=>gd.create({...t,coerce:!0})),boolean:(t=>x1.create({...t,coerce:!0})),bigint:(t=>yd.create({...t,coerce:!0})),date:(t=>Wh.create({...t,coerce:!0}))},Oue=gt;var J=Object.freeze({__proto__:null,defaultErrorMap:T1,setErrorMap:kce,getErrorMap:hI,makeIssue:pI,EMPTY_PATH:jce,addIssueToContext:Ge,ParseStatus:Es,INVALID:gt,DIRTY:oZ,OK:qs,isAborted:rR,isDirty:nR,isValid:P1,isAsync:mI,get util(){return rr},get objectUtil(){return tR},ZodParsedType:qe,getParsedType:jl,ZodType:Pt,ZodString:ta,ZodNumber:gd,ZodBigInt:yd,ZodBoolean:x1,ZodDate:Wh,ZodSymbol:gI,ZodUndefined:O1,ZodNull:R1,ZodAny:Wm,ZodUnknown:Dh,ZodNever:ju,ZodVoid:yI,ZodArray:oa,ZodObject:$r,ZodUnion:N1,ZodDiscriminatedUnion:FT,ZodIntersection:B1,ZodTuple:hc,ZodRecord:k1,ZodMap:bI,ZodSet:Kh,ZodFunction:$0,ZodLazy:j1,ZodLiteral:D1,ZodEnum:bd,ZodNativeEnum:M1,ZodPromise:Km,ZodEffects:la,ZodTransformer:la,ZodOptional:Tu,ZodNullable:Zh,ZodDefault:U1,ZodCatch:wI,ZodNaN:EI,BRAND:Wce,ZodBranded:cZ,ZodPipeline:Gw,ZodReadonly:vI,custom:uZ,Schema:Pt,ZodSchema:Pt,late:Kce,get ZodFirstPartyTypeKind(){return lt},coerce:xue,any:rue,array:oue,bigint:Jce,boolean:fZ,date:Qce,discriminatedUnion:lue,effect:_k,enum:wue,function:gue,instanceof:Zce,intersection:due,lazy:yue,literal:bue,map:pue,nan:Yce,nativeEnum:Eue,never:sue,null:tue,nullable:Aue,number:dZ,object:aue,oboolean:Pue,onumber:Tue,optional:_ue,ostring:Iue,pipeline:Sue,preprocess:Cue,promise:vue,record:hue,set:mue,strictObject:cue,string:lZ,symbol:Xce,transformer:_k,tuple:fue,undefined:eue,union:uue,unknown:nue,void:iue,NEVER:Oue,ZodIssueCode:ke,quotelessJson:Bce,ZodError:ia});const Wr=J.object({message:J.string()});function $e(t){return J.literal(Ze[t])}const HT=J.object({serializedMessage:J.string().optional(),accountAddress:J.string(),chainId:J.string(),notBefore:J.string().optional(),domain:J.string(),uri:J.string(),version:J.string(),nonce:J.string(),statement:J.string().optional(),resources:J.array(J.string()).optional(),requestId:J.string().optional(),issuedAt:J.string().optional(),expirationTime:J.string().optional()});J.object({accessList:J.array(J.string()),blockHash:J.string().nullable(),blockNumber:J.string().nullable(),chainId:J.string().or(J.number()),from:J.string(),gas:J.string(),hash:J.string(),input:J.string().nullable(),maxFeePerGas:J.string(),maxPriorityFeePerGas:J.string(),nonce:J.string(),r:J.string(),s:J.string(),to:J.string(),transactionIndex:J.string().nullable(),type:J.string(),v:J.string(),value:J.string()});const Rue=J.object({chainId:J.string().or(J.number()),rpcUrl:J.optional(J.string())}),Nue=J.object({email:J.string().email()}),Bue=J.object({otp:J.string()}),kue=J.object({uri:J.string(),preferredAccountType:J.optional(J.string()),chainId:J.optional(J.string().or(J.number())),siwxMessage:J.optional(HT),rpcUrl:J.optional(J.string())}),jue=J.object({chainId:J.optional(J.string().or(J.number())),preferredAccountType:J.optional(J.string()),socialUri:J.optional(J.string()),siwxMessage:J.optional(HT),rpcUrl:J.optional(J.string())}),Due=J.object({provider:J.enum(["google","github","apple","facebook","x","discord"])}),Mue=J.object({email:J.string().email()}),Uue=J.object({otp:J.string()}),Lue=J.object({otp:J.string()}),Fue=J.object({themeMode:J.optional(J.enum(["light","dark"])),themeVariables:J.optional(J.record(J.string(),J.string().or(J.number()))),w3mThemeVariables:J.optional(J.record(J.string(),J.string()))}),Hue=J.object({metadata:J.object({name:J.string(),description:J.string(),url:J.string(),icons:J.array(J.string())}).optional(),sdkVersion:J.string().optional(),sdkType:J.string().optional(),projectId:J.string()}),que=J.object({type:J.string()}),zue=J.object({action:J.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),$ue=J.object({url:J.string()}),Vue=J.object({userName:J.string()}),Gue=J.object({email:J.string().optional().nullable(),address:J.string(),chainId:J.string().or(J.number()),accounts:J.array(J.object({address:J.string(),type:J.enum([cn.ACCOUNT_TYPES.EOA,cn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:J.string().optional().nullable(),preferredAccountType:J.optional(J.string()),signature:J.string().optional(),message:J.string().optional(),siwxMessage:J.optional(HT)}),Wue=J.object({action:J.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Kue=J.object({email:J.string().email().optional().nullable(),address:J.string(),chainId:J.string().or(J.number()),smartAccountDeployed:J.optional(J.boolean()),accounts:J.array(J.object({address:J.string(),type:J.enum([cn.ACCOUNT_TYPES.EOA,cn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:J.optional(J.string()),signature:J.string().optional(),message:J.string().optional(),siwxMessage:J.optional(HT)}),Zue=J.object({uri:J.string()}),Yue=J.object({isConnected:J.boolean()}),Jue=J.object({chainId:J.string().or(J.number())}),Que=J.object({chainId:J.string().or(J.number())}),Xue=J.object({newEmail:J.string().email()}),ele=J.object({smartAccountEnabledNetworks:J.array(J.number())});J.object({address:J.string(),isDeployed:J.boolean()});const tle=J.object({version:J.string().optional()}),rle=J.object({type:J.string(),address:J.string()}),nle=J.any(),sle=J.object({method:J.literal("eth_accounts")}),ile=J.object({method:J.literal("eth_blockNumber")}),ole=J.object({method:J.literal("eth_call"),params:J.array(J.any())}),ale=J.object({method:J.literal("eth_chainId")}),cle=J.object({method:J.literal("eth_estimateGas"),params:J.array(J.any())}),ule=J.object({method:J.literal("eth_feeHistory"),params:J.array(J.any())}),lle=J.object({method:J.literal("eth_gasPrice")}),dle=J.object({method:J.literal("eth_getAccount"),params:J.array(J.any())}),fle=J.object({method:J.literal("eth_getBalance"),params:J.array(J.any())}),hle=J.object({method:J.literal("eth_getBlockByHash"),params:J.array(J.any())}),ple=J.object({method:J.literal("eth_getBlockByNumber"),params:J.array(J.any())}),mle=J.object({method:J.literal("eth_getBlockReceipts"),params:J.array(J.any())}),gle=J.object({method:J.literal("eth_getBlockTransactionCountByHash"),params:J.array(J.any())}),yle=J.object({method:J.literal("eth_getBlockTransactionCountByNumber"),params:J.array(J.any())}),ble=J.object({method:J.literal("eth_getCode"),params:J.array(J.any())}),wle=J.object({method:J.literal("eth_getFilterChanges"),params:J.array(J.any())}),Ele=J.object({method:J.literal("eth_getFilterLogs"),params:J.array(J.any())}),vle=J.object({method:J.literal("eth_getLogs"),params:J.array(J.any())}),_le=J.object({method:J.literal("eth_getProof"),params:J.array(J.any())}),Ale=J.object({method:J.literal("eth_getStorageAt"),params:J.array(J.any())}),Cle=J.object({method:J.literal("eth_getTransactionByBlockHashAndIndex"),params:J.array(J.any())}),Sle=J.object({method:J.literal("eth_getTransactionByBlockNumberAndIndex"),params:J.array(J.any())}),Ile=J.object({method:J.literal("eth_getTransactionByHash"),params:J.array(J.any())}),Tle=J.object({method:J.literal("eth_getTransactionCount"),params:J.array(J.any())}),Ple=J.object({method:J.literal("eth_getTransactionReceipt"),params:J.array(J.any())}),xle=J.object({method:J.literal("eth_getUncleCountByBlockHash"),params:J.array(J.any())}),Ole=J.object({method:J.literal("eth_getUncleCountByBlockNumber"),params:J.array(J.any())}),Rle=J.object({method:J.literal("eth_maxPriorityFeePerGas")}),Nle=J.object({method:J.literal("eth_newBlockFilter")}),Ble=J.object({method:J.literal("eth_newFilter"),params:J.array(J.any())}),kle=J.object({method:J.literal("eth_newPendingTransactionFilter")}),jle=J.object({method:J.literal("eth_sendRawTransaction"),params:J.array(J.any())}),Dle=J.object({method:J.literal("eth_syncing"),params:J.array(J.any())}),Mle=J.object({method:J.literal("eth_uninstallFilter"),params:J.array(J.any())}),Ak=J.object({method:J.literal("personal_sign"),params:J.array(J.any())}),Ule=J.object({method:J.literal("eth_signTypedData_v4"),params:J.array(J.any())}),Lle=J.object({method:J.literal("eth_sendTransaction"),params:J.array(J.any())}),Fle=J.object({method:J.literal("solana_signMessage"),params:J.object({message:J.string(),pubkey:J.string()})}),Hle=J.object({method:J.literal("solana_signTransaction"),params:J.object({transaction:J.string()})}),qle=J.object({method:J.literal("solana_signAllTransactions"),params:J.object({transactions:J.array(J.string())})}),zle=J.object({method:J.literal("solana_signAndSendTransaction"),params:J.object({transaction:J.string(),options:J.object({skipPreflight:J.boolean().optional(),preflightCommitment:J.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:J.number().optional(),minContextSlot:J.number().optional()}).optional()})}),$le=J.object({method:J.literal("wallet_sendCalls"),params:J.array(J.object({chainId:J.string().or(J.number()).optional(),from:J.string().optional(),version:J.string().optional(),capabilities:J.any().optional(),calls:J.array(J.object({to:J.string().startsWith("0x"),data:J.string().startsWith("0x").optional(),value:J.string().optional()}))}))}),Vle=J.object({method:J.literal("wallet_getCallsStatus"),params:J.array(J.string())}),Gle=J.object({method:J.literal("wallet_getCapabilities"),params:J.array(J.string().or(J.number()).optional()).optional()}),Wle=J.object({method:J.literal("wallet_grantPermissions"),params:J.array(J.any())}),Kle=J.object({method:J.literal("wallet_revokePermissions"),params:J.any()}),Zle=J.object({method:J.literal("wallet_getAssets"),params:J.any()}),Ck=J.object({token:J.string()}),Ve=J.object({id:J.string().optional()}),dx={appEvent:Ve.extend({type:$e("APP_SWITCH_NETWORK"),payload:Rue}).or(Ve.extend({type:$e("APP_CONNECT_EMAIL"),payload:Nue})).or(Ve.extend({type:$e("APP_CONNECT_DEVICE")})).or(Ve.extend({type:$e("APP_CONNECT_OTP"),payload:Bue})).or(Ve.extend({type:$e("APP_CONNECT_SOCIAL"),payload:kue})).or(Ve.extend({type:$e("APP_GET_FARCASTER_URI")})).or(Ve.extend({type:$e("APP_CONNECT_FARCASTER")})).or(Ve.extend({type:$e("APP_GET_USER"),payload:J.optional(jue)})).or(Ve.extend({type:$e("APP_GET_SOCIAL_REDIRECT_URI"),payload:Due})).or(Ve.extend({type:$e("APP_SIGN_OUT")})).or(Ve.extend({type:$e("APP_IS_CONNECTED"),payload:J.optional(Ck)})).or(Ve.extend({type:$e("APP_GET_CHAIN_ID")})).or(Ve.extend({type:$e("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ve.extend({type:$e("APP_INIT_SMART_ACCOUNT")})).or(Ve.extend({type:$e("APP_SET_PREFERRED_ACCOUNT"),payload:que})).or(Ve.extend({type:$e("APP_RPC_REQUEST"),payload:Ak.or(Zle).or(sle).or(ile).or(ole).or(ale).or(cle).or(ule).or(lle).or(dle).or(fle).or(hle).or(ple).or(mle).or(gle).or(yle).or(ble).or(wle).or(Ele).or(vle).or(_le).or(Ale).or(Cle).or(Sle).or(Ile).or(Tle).or(Ple).or(xle).or(Ole).or(Rle).or(Nle).or(Ble).or(kle).or(jle).or(Dle).or(Mle).or(Ak).or(Ule).or(Lle).or(Fle).or(Hle).or(qle).or(zle).or(Vle).or($le).or(Gle).or(Wle).or(Kle).and(J.object({chainId:J.string().or(J.number()).optional(),chainNamespace:J.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:J.string().optional()}))})).or(Ve.extend({type:$e("APP_UPDATE_EMAIL"),payload:Mue})).or(Ve.extend({type:$e("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Uue})).or(Ve.extend({type:$e("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Lue})).or(Ve.extend({type:$e("APP_SYNC_THEME"),payload:Fue})).or(Ve.extend({type:$e("APP_SYNC_DAPP_DATA"),payload:Hue})).or(Ve.extend({type:$e("APP_RELOAD")})).or(Ve.extend({type:$e("APP_RPC_ABORT")})),frameEvent:Ve.extend({type:$e("FRAME_SWITCH_NETWORK_ERROR"),payload:Wr}).or(Ve.extend({type:$e("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Que})).or(Ve.extend({type:$e("FRAME_CONNECT_EMAIL_SUCCESS"),payload:zue})).or(Ve.extend({type:$e("FRAME_CONNECT_EMAIL_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:$ue})).or(Ve.extend({type:$e("FRAME_GET_FARCASTER_URI_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Vue})).or(Ve.extend({type:$e("FRAME_CONNECT_FARCASTER_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_CONNECT_OTP_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_CONNECT_OTP_SUCCESS")})).or(Ve.extend({type:$e("FRAME_CONNECT_DEVICE_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ve.extend({type:$e("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Gue})).or(Ve.extend({type:$e("FRAME_CONNECT_SOCIAL_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_GET_USER_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_GET_USER_SUCCESS"),payload:Kue})).or(Ve.extend({type:$e("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Zue})).or(Ve.extend({type:$e("FRAME_SIGN_OUT_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_SIGN_OUT_SUCCESS")})).or(Ve.extend({type:$e("FRAME_IS_CONNECTED_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_IS_CONNECTED_SUCCESS"),payload:Yue})).or(Ve.extend({type:$e("FRAME_GET_CHAIN_ID_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Jue})).or(Ve.extend({type:$e("FRAME_RPC_REQUEST_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_RPC_REQUEST_SUCCESS"),payload:nle})).or(Ve.extend({type:$e("FRAME_SESSION_UPDATE"),payload:Ck})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Wue})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Xue})).or(Ve.extend({type:$e("FRAME_SYNC_THEME_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_SYNC_THEME_SUCCESS")})).or(Ve.extend({type:$e("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ve.extend({type:$e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:ele})).or(Ve.extend({type:$e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:rle})).or(Ve.extend({type:$e("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_READY"),payload:tle})).or(Ve.extend({type:$e("FRAME_RELOAD_ERROR"),payload:Wr})).or(Ve.extend({type:$e("FRAME_RELOAD_SUCCESS")}))};function fx(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}function Yle({projectId:t,chainId:e,enableLogger:r,rpcUrl:n=Ee.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const i=new URL(Oce);i.searchParams.set("projectId",t),i.searchParams.set("chainId",String(e)),i.searchParams.set("version",Nce),i.searchParams.set("enableLogger",String(r)),i.searchParams.set("rpcUrl",n);const o=En.get("dapp_smart_account_version");return o&&(o==="v6"||o==="v7")&&(console.warn(">> AppKit - Forcing smart account version",o),i.searchParams.set("smartAccountVersion",o)),s&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}class Jle{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:i=!1,rpcUrl:o=Ee.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,u)=>{function l({data:d}){var h;if(!fx(Ze.FRAME_EVENT_KEY,d))return;const f=dx.frameEvent.safeParse(d);if(!f.success){console.warn("W3mFrame: invalid frame event",f.error.message);return}((h=f.data)==null?void 0:h.id)===a&&(c(f.data),window.removeEventListener("message",l))}Ki.isClient&&(window.addEventListener("message",l),u.addEventListener("abort",()=>{window.removeEventListener("message",l)}))},onFrameEvent:a=>{Ki.isClient&&window.addEventListener("message",({data:c})=>{if(!fx(Ze.FRAME_EVENT_KEY,c))return;const u=dx.frameEvent.safeParse(c);u.success?a(u.data):console.warn("W3mFrame: invalid frame event",u.error.message)})},onAppEvent:a=>{Ki.isClient&&window.addEventListener("message",({data:c})=>{if(!fx(Ze.APP_EVENT_KEY,c))return;const u=dx.appEvent.safeParse(c);u.success||console.warn("W3mFrame: invalid app event",u.error.message),a(c)})},postAppEvent:a=>{var c;if(Ki.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(Ki.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,r&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),Ki.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=Yle({projectId:e,chainId:n,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var u;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(u=this.frameLoadPromiseResolver)==null||u.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}var Zg={exports:{}},hx,Sk;function Qle(){if(Sk)return hx;Sk=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}hx=e;function e(r,n,s){var i=s&&s.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=i(r);for(var u=1;u<a;u++)c[u]=i(n[u]);return c.join(" ")}if(typeof r!="string")return r;var l=n.length;if(l===0)return r;for(var d="",f=1-o,h=-1,p=r&&r.length||0,m=0;m<p;){if(r.charCodeAt(m)===37&&m+1<p){switch(h=h>-1?h:0,r.charCodeAt(m+1)){case 100:case 102:if(f>=l||n[f]==null)break;h<m&&(d+=r.slice(h,m)),d+=Number(n[f]),h=m+2,m++;break;case 105:if(f>=l||n[f]==null)break;h<m&&(d+=r.slice(h,m)),d+=Math.floor(Number(n[f])),h=m+2,m++;break;case 79:case 111:case 106:if(f>=l||n[f]===void 0)break;h<m&&(d+=r.slice(h,m));var y=typeof n[f];if(y==="string"){d+="'"+n[f]+"'",h=m+2,m++;break}if(y==="function"){d+=n[f].name||"<anonymous>",h=m+2,m++;break}d+=i(n[f]),h=m+2,m++;break;case 115:if(f>=l)break;h<m&&(d+=r.slice(h,m)),d+=String(n[f]),h=m+2,m++;break;case 37:h<m&&(d+=r.slice(h,m)),d+="%",h=m+2,m++,f--;break}++f}++m}return h===-1?r:(h<p&&(d+=r.slice(h)),d)}return hx}var Ik;function Xle(){if(Ik)return Zg.exports;Ik=1;const t=Qle();Zg.exports=l;const e=U().console||{},r={mapHttpRequest:C,mapHttpResponse:C,wrapRequestSerializer:x,wrapResponseSerializer:x,wrapErrorSerializer:x,req:C,res:C,err:v,errWithCause:v};function n(I,S){return I==="silent"?1/0:S.levels.values[I]}const s=Symbol("pino.logFuncs"),i=Symbol("pino.hierarchy"),o={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function a(I,S){const _={logger:S,parent:I[i]};S[i]=_}function c(I,S,_){const R={};S.forEach(O=>{R[O]=_[O]?_[O]:e[O]||e[o[O]||"log"]||T}),I[s]=R}function u(I,S){return Array.isArray(I)?I.filter(function(R){return R!=="!stdSerializers.err"}):I===!0?Object.keys(S):!1}function l(I){I=I||{},I.browser=I.browser||{};const S=I.browser.transmit;if(S&&typeof S.send!="function")throw Error("pino: transmit option must have a send function");const _=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const R=I.serializers||{},O=u(I.browser.serialize,R);let P=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&(P=!1);const D=Object.keys(I.customLevels||{}),j=["error","fatal","warn","info","debug","trace"].concat(D);typeof _=="function"&&j.forEach(function(X){_[X]=_}),(I.enabled===!1||I.browser.disabled)&&(I.level="silent");const F=I.level||"info",q=Object.create(_);q.log||(q.log=T),c(q,j,_),a({},q),Object.defineProperty(q,"levelVal",{get:W}),Object.defineProperty(q,"level",{get:K,set:re});const z={transmit:S,serialize:O,asObject:I.browser.asObject,asObjectBindingsOnly:I.browser.asObjectBindingsOnly,formatters:I.browser.formatters,levels:j,timestamp:A(I),messageKey:I.messageKey||"msg",onChild:I.onChild||T};q.levels=d(I),q.level=F,q.isLevelEnabled=function(X){return this.levels.values[X]?this.levels.values[X]>=this.levels.values[this.level]:!1},q.setMaxListeners=q.getMaxListeners=q.emit=q.addListener=q.on=q.prependListener=q.once=q.prependOnceListener=q.removeListener=q.removeAllListeners=q.listeners=q.listenerCount=q.eventNames=q.write=q.flush=T,q.serializers=R,q._serialize=O,q._stdErrSerialize=P,q.child=function(...X){return Q.call(this,z,...X)},S&&(q._logEvent=g());function W(){return n(this.level,this)}function K(){return this._level}function re(X){if(X!=="silent"&&!this.levels.values[X])throw Error("unknown level "+X);this._level=X,p(this,z,q,"error"),p(this,z,q,"fatal"),p(this,z,q,"warn"),p(this,z,q,"info"),p(this,z,q,"debug"),p(this,z,q,"trace"),D.forEach(ie=>{p(this,z,q,ie)})}function Q(X,ie,Y){if(!ie)throw new Error("missing bindings for child Pino");Y=Y||{},O&&ie.serializers&&(Y.serializers=ie.serializers);const V=Y.serializers;if(O&&V){var Z=Object.assign({},R,V),ne=I.browser.serialize===!0?Object.keys(Z):O;delete ie.serializers,w([ie],ne,Z,this._stdErrSerialize)}function ue(ge){this._childLevel=(ge._childLevel|0)+1,this.bindings=ie,Z&&(this.serializers=Z,this._serialize=ne),S&&(this._logEvent=g([].concat(ge._logEvent.bindings,ie)))}ue.prototype=this;const ce=new ue(this);return a(this,ce),ce.child=function(...ge){return Q.call(this,X,...ge)},ce.level=Y.level||this.level,X.onChild(ce),ce}return q}function d(I){const S=I.customLevels||{},_=Object.assign({},l.levels.values,S),R=Object.assign({},l.levels.labels,f(S));return{values:_,labels:R}}function f(I){const S={};return Object.keys(I).forEach(function(_){S[I[_]]=_}),S}l.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},l.stdSerializers=r,l.stdTimeFunctions=Object.assign({},{nullTime:N,epochTime:M,unixTime:k,isoTime:B});function h(I){const S=[];I.bindings&&S.push(I.bindings);let _=I[i];for(;_.parent;)_=_.parent,_.logger.bindings&&S.push(_.logger.bindings);return S.reverse()}function p(I,S,_,R){if(Object.defineProperty(I,R,{value:n(I.level,_)>n(R,_)?T:_[s][R],writable:!0,enumerable:!0,configurable:!0}),I[R]===T){if(!S.transmit)return;const P=S.transmit.level||I.level,D=n(P,_);if(n(R,_)<D)return}I[R]=y(I,S,_,R);const O=h(I);O.length!==0&&(I[R]=m(O,I[R]))}function m(I,S){return function(){return S.apply(this,[...I,...arguments])}}function y(I,S,_,R){return(function(O){return function(){const D=S.timestamp(),j=new Array(arguments.length),F=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var q=0;q<j.length;q++)j[q]=arguments[q];var z=!1;if(S.serialize&&(w(j,this._serialize,this.serializers,this._stdErrSerialize),z=!0),S.asObject||S.formatters?O.call(F,...E(this,R,j,D,S)):O.apply(F,j),S.transmit){const W=S.transmit.level||I._level,K=n(W,_),re=n(R,_);if(re<K)return;b(this,{ts:D,methodLevel:R,methodValue:re,transmitValue:_.levels.values[S.transmit.level||I._level],send:S.transmit.send,val:n(I._level,_)},j,z)}}})(I[s][R])}function E(I,S,_,R,O){const{level:P,log:D=W=>W}=O.formatters||{},j=_.slice();let F=j[0];const q={};let z=(I._childLevel|0)+1;if(z<1&&(z=1),R&&(q.time=R),P){const W=P(S,I.levels.values[S]);Object.assign(q,W)}else q.level=I.levels.values[S];if(O.asObjectBindingsOnly){if(F!==null&&typeof F=="object")for(;z--&&typeof j[0]=="object";)Object.assign(q,j.shift());return[D(q),...j]}else{if(F!==null&&typeof F=="object"){for(;z--&&typeof j[0]=="object";)Object.assign(q,j.shift());F=j.length?t(j.shift(),j):void 0}else typeof F=="string"&&(F=t(j.shift(),j));return F!==void 0&&(q[O.messageKey]=F),[D(q)]}}function w(I,S,_,R){for(const O in I)if(R&&I[O]instanceof Error)I[O]=l.stdSerializers.err(I[O]);else if(typeof I[O]=="object"&&!Array.isArray(I[O])&&S)for(const P in I[O])S.indexOf(P)>-1&&P in _&&(I[O][P]=_[P](I[O][P]))}function b(I,S,_,R=!1){const O=S.send,P=S.ts,D=S.methodLevel,j=S.methodValue,F=S.val,q=I._logEvent.bindings;R||w(_,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=P,I._logEvent.messages=_.filter(function(z){return q.indexOf(z)===-1}),I._logEvent.level.label=D,I._logEvent.level.value=j,O(D,I._logEvent,F),I._logEvent=g(q)}function g(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function v(I){const S={type:I.constructor.name,msg:I.message,stack:I.stack};for(const _ in I)S[_]===void 0&&(S[_]=I[_]);return S}function A(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?N:M}function C(){return{}}function x(I){return I}function T(){}function N(){return!1}function M(){return Date.now()}function k(){return Math.round(Date.now()/1e3)}function B(){return new Date(Date.now()).toISOString()}function U(){function I(S){return typeof S<"u"&&S}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return Zg.exports.default=l,Zg.exports.pino=l,Zg.exports}var E0=Xle();const hZ=bg(E0),ede=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),tde=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Yh(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return tde(t)}catch{return t}}function Du(t){return typeof t=="string"?t:ede(t)||""}const rde={level:"info"},qT="custom_context",A8=1e3*1024;var nde=Object.defineProperty,sde=(t,e,r)=>e in t?nde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dl=(t,e,r)=>sde(t,typeof e!="symbol"?e+"":e,r);let ide=class{constructor(e){Dl(this,"nodeValue"),Dl(this,"sizeInBytes"),Dl(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Tk=class{constructor(e){Dl(this,"lengthInNodes"),Dl(this,"sizeInBytes"),Dl(this,"head"),Dl(this,"tail"),Dl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new ide(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}};var ode=Object.defineProperty,ade=(t,e,r)=>e in t?ode(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ov=(t,e,r)=>ade(t,typeof e!="symbol"?e+"":e,r);let pZ=class{constructor(e,r=A8){ov(this,"logs"),ov(this,"level"),ov(this,"levelValue"),ov(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=E0.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Tk(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===E0.levels.values.error?console.error(e):r===E0.levels.values.warn?console.warn(e):r===E0.levels.values.debug?console.debug(e):r===E0.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Du({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Tk(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Du({extraMetadata:e})),new Blob(r,{type:"application/json"})}};var cde=Object.defineProperty,ude=(t,e,r)=>e in t?cde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lde=(t,e,r)=>ude(t,e+"",r);let dde=class{constructor(e,r=A8){lde(this,"baseChunkLogger"),this.baseChunkLogger=new pZ(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}};var fde=Object.defineProperty,hde=(t,e,r)=>e in t?fde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pde=(t,e,r)=>hde(t,e+"",r);let mde=class{constructor(e,r=A8){pde(this,"baseChunkLogger"),this.baseChunkLogger=new pZ(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var gde=Object.defineProperty,yde=Object.defineProperties,bde=Object.getOwnPropertyDescriptors,Pk=Object.getOwnPropertySymbols,wde=Object.prototype.hasOwnProperty,Ede=Object.prototype.propertyIsEnumerable,xk=(t,e,r)=>e in t?gde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_I=(t,e)=>{for(var r in e||(e={}))wde.call(e,r)&&xk(t,r,e[r]);if(Pk)for(var r of Pk(e))Ede.call(e,r)&&xk(t,r,e[r]);return t},AI=(t,e)=>yde(t,bde(e));function C8(t){return AI(_I({},t),{level:(t==null?void 0:t.level)||rde.level})}function vde(t,e,r=qT){return t[r]=e,t}function bi(t,e=qT){return t[e]||""}function _de(t,e,r=qT){const n=bi(t,r);return n.trim()?`${n}/${e}`:e}function wi(t,e,r=qT){const n=_de(t,e,r),s=t.child({context:n});return vde(s,n,r)}function Ade(t){var e,r;const n=new dde((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:hZ(AI(_I({},t.opts),{level:"trace",browser:AI(_I({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function Cde(t){var e;const r=new mde((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:hZ(AI(_I({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function zT(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Ade(t):Cde(t)}class Sde{constructor(e){var i;const r=C8({level:Rce}),{logger:n,chunkLoggerController:s}=zT({opts:r});this.logger=wi(n,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Ide{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c,metadata:u,sdkVersion:l,sdkType:d}){this.openRpcRequests=new Map,this.isInitialized=!1,n&&(this.w3mLogger=new Sde(e)),this.abortController=i,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const f=this.getRpcUrl(r);this.projectId=e,this.sdkVersion=l,this.sdkType=d,this.metadata=u,this.w3mFrame=new Jle({projectId:e,isAppClient:!0,chainId:r,enableLogger:n,rpcUrl:f,enableCloudAuthAccount:c}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!En.get(Ze.EMAIL_LOGIN_USED_KEY)}getEmail(){return En.get(Ze.EMAIL)}getUsername(){return En.get(Ze.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Ze.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{Ki.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:Ze.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){var e;try{return this.appEvent({type:Ze.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:Ze.APP_CONNECT_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:Ze.APP_IS_CONNECTED});return r!=null&&r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:Ze.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return await this.init(),this.appEvent({type:Ze.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){var r;try{const n=await this.appEvent({type:Ze.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:Ze.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){var r;try{const n=await this.appEvent({type:Ze.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){var r;try{return this.appEvent({type:Ze.APP_SYNC_THEME,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){var r;try{return this.appEvent({type:Ze.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:Ze.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:Ze.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){var r,n;if(e!=null&&e.socialUri)try{await this.init();const s=this.getRpcUrl(e.chainId),i=await this.appEvent({type:Ze.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:s}});return i.userName&&this.setSocialLoginSuccess(i.userName),this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType,siwxMessage:e==null?void 0:e.siwxMessage,rpcUrl:this.getRpcUrl(s)});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting"),s}}async getUser(e){var r;try{await this.init();const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Ze.APP_GET_USER,payload:{...e,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=s,s}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:e,chainId:r,preferredAccountType:n}){var s;try{await this.init();const i=this.getRpcUrl(r),o=await this.appEvent({type:Ze.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:r,rpcUrl:i,preferredAccountType:n}});return o.userName&&this.setSocialLoginSuccess(o.userName),o}catch(i){throw(s=this.w3mLogger)==null||s.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Ze.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:Ze.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork({chainId:e}){var r;try{const n=this.getRpcUrl(e),s=await this.appEvent({type:Ze.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:n}});return this.setLastUsedChainId(s.chainId),s}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error switching network"),n}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const s=setTimeout(()=>{n()},3e3);await this.appEvent({type:Ze.APP_SIGN_OUT}),clearTimeout(s),n()})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var n,s,i,o,a;const r=e;try{if(cn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const c=e.chainNamespace||"eip155",u=(n=this.getActiveCaipNetwork(c))==null?void 0:n.id;r.chainNamespace=c,r.chainId=u,r.rpcUrl=this.getRpcUrl(u),(s=this.rpcRequestHandler)==null||s.call(this,e);const l=await this.appEvent({type:Ze.APP_RPC_REQUEST,payload:r});return(i=this.rpcSuccessHandler)==null||i.call(this,l,r),l}catch(c){throw(o=this.rpcErrorHandler)==null||o.call(this,c,r),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_IS_CONNECTED_ERROR&&e(),r.type===Ze.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===Ze.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:cn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){var e;try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:r,method:n})=>{cn.SAFE_RPC_METHODS.includes(n)||r.abort(),await this.appEvent({type:Ze.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){let r,n;function s(c){return c.replace("@w3m-app/","")}const i=[Ze.APP_SYNC_DAPP_DATA,Ze.APP_SYNC_THEME,Ze.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(n),[Ze.APP_CONNECT_EMAIL,Ze.APP_CONNECT_DEVICE,Ze.APP_CONNECT_OTP,Ze.APP_CONNECT_SOCIAL,Ze.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,u)=>{var h,p,m;const l=Math.random().toString(36).substring(7);(m=(h=this.w3mLogger)==null?void 0:(p=h.logger).info)==null||m.call(p,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l});const d=new AbortController;if(o==="RPC_REQUEST"){const y=e;this.openRpcRequests.set(l,{...y.payload,abortController:d})}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?u(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});const f=(y,E)=>{var w,b,g;y.id===l&&((b=E==null?void 0:(w=E.logger).info)==null||b.call(w,{framEvent:y,id:l},"Received frame response"),this.openRpcRequests.delete(y.id),y.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in y&&c(y.payload),c(void 0)):y.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in y&&u(new Error(((g=y.payload)==null?void 0:g.message)||"An error occurred")),u(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(l,y=>f(y,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){En.set(Ze.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){En.set(Ze.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&En.set(Ze.EMAIL,e),En.set(Ze.EMAIL_LOGIN_USED_KEY,"true"),En.delete(Ze.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){En.delete(Ze.EMAIL_LOGIN_USED_KEY),En.delete(Ze.EMAIL),En.delete(Ze.LAST_USED_CHAIN_KEY),En.delete(Ze.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&En.set(Ze.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=En.get(Ze.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){En.set(Ze.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){var i,o;let r=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?r=(i=mn.parseCaipNetworkId(e))==null?void 0:i.chainNamespace:Number.isInteger(Number(e))?r="eip155":r="solana");const n=this.getCaipNetworks(r),s=e?n.find(a=>String(a.id)===String(e)||a.caipNetworkId===e):n[0];return(o=s==null?void 0:s.rpcUrls.default.http)==null?void 0:o[0]}}function Ww(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function wd(t){return Ww(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const mZ="2.40.3";let Yg={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${mZ}`},ht=class iR extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof iR?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof iR&&r.cause.docsPath||r.docsPath,i=(a=Yg.getDocsUrl)==null?void 0:a.call(Yg,{...r,docsPath:s}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...Yg.version?[`Version: ${Yg.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=mZ}walk(e){return gZ(this,e)}};function gZ(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?gZ(t.cause,e):e?null:t}let yZ=class extends ht{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},bZ=class extends ht{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class M7e extends ht{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function wg(t,{dir:e,size:r=32}={}){return typeof t=="string"?Tde(t,{dir:e,size:r}):Pde(t,{dir:e,size:r})}function Tde(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new bZ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Pde(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new bZ({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i=e==="right";n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}let xde=class extends ht{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}};class L7e extends ht{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Ode extends ht{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Rde=class extends ht{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function ad(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Rd(t,{size:e}){if(wd(t)>e)throw new Rde({givenSize:wd(t),maxSize:e})}function v0(t,e={}){const{signed:r}=e;e.size&&Rd(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function H7e(t,e={}){let r=t;if(e.size&&(Rd(r,{size:e.size}),r=ad(r)),ad(r)==="0x00")return!1;if(ad(r)==="0x01")return!0;throw new Ode(r)}function CI(t,e={}){return Number(v0(t,e))}function q7e(t,e={}){let r=Ed(t);return e.size&&(Rd(r,{size:e.size}),r=ad(r,{dir:"right"})),new TextDecoder().decode(r)}const Nde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cd(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ht(t,e):typeof t=="string"?wZ(t,e):typeof t=="boolean"?Bde(t,e):Nd(t,e)}function Bde(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Rd(r,{size:e.size}),wg(r,{size:e.size})):r}function Nd(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=Nde[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(Rd(n,{size:e.size}),wg(n,{dir:"right",size:e.size})):n}function Ht(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new xde({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?wg(a,{size:n}):a}const kde=new TextEncoder;function wZ(t,e={}){const r=kde.encode(t);return Nd(r,e)}const jde=new TextEncoder;function EZ(t,e={}){return typeof t=="number"||typeof t=="bigint"?Mde(t,e):typeof t=="boolean"?Dde(t,e):Ww(t)?Ed(t,e):vZ(t,e)}function Dde(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Rd(r,{size:e.size}),wg(r,{size:e.size})):r}const wc={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ok(t){if(t>=wc.zero&&t<=wc.nine)return t-wc.zero;if(t>=wc.A&&t<=wc.F)return t-(wc.A-10);if(t>=wc.a&&t<=wc.f)return t-(wc.a-10)}function Ed(t,e={}){let r=t;e.size&&(Rd(r,{size:e.size}),r=wg(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=n.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=Ok(n.charCodeAt(a++)),u=Ok(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new ht(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);i[o]=c*16+u}return i}function Mde(t,e){const r=Ht(t,e);return Ed(r)}function vZ(t,e={}){const r=jde.encode(t);return typeof e.size=="number"?(Rd(r,{size:e.size}),wg(r,{dir:"right",size:e.size})):r}const av=BigInt(2**32-1),Rk=BigInt(32);function Ude(t,e=!1){return e?{h:Number(t&av),l:Number(t>>Rk&av)}:{h:Number(t>>Rk&av)|0,l:Number(t&av)|0}}function _Z(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:o,l:a}=Ude(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}const Nk=(t,e,r)=>t>>>r,Bk=(t,e,r)=>t<<32-r|e>>>r,kp=(t,e,r)=>t>>>r|e<<32-r,jp=(t,e,r)=>t<<32-r|e>>>r,cv=(t,e,r)=>t<<64-r|e>>>r-32,uv=(t,e,r)=>t>>>r-32|e<<64-r,Lde=(t,e,r)=>t<<r|e>>>32-r,Fde=(t,e,r)=>e<<r|t>>>32-r,Hde=(t,e,r)=>e<<r-32|t>>>64-r,qde=(t,e,r)=>t<<r-32|e>>>64-r;function Ec(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const zde=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),$de=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Vde=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Gde=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Wde=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Kde=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Dp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zde(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function L1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function vd(t,...e){if(!Zde(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Yde(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");L1(t.outputLen),L1(t.blockLen)}function Zm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function AZ(t,e){vd(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Jde(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function _d(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function px(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ca(t,e){return t<<32-e|t>>>e}const Qde=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Xde(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function efe(t){for(let e=0;e<t.length;e++)t[e]=Xde(t[e]);return t}const kk=Qde?t=>t:efe,CZ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",tfe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function z7e(t){if(vd(t),CZ)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=tfe[t[r]];return e}const vc={_0:48,_9:57,A:65,F:70,a:97,f:102};function jk(t){if(t>=vc._0&&t<=vc._9)return t-vc._0;if(t>=vc.A&&t<=vc.F)return t-(vc.A-10);if(t>=vc.a&&t<=vc.f)return t-(vc.a-10)}function $7e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(CZ)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=jk(t.charCodeAt(i)),a=jk(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function rfe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function $T(t){return typeof t=="string"&&(t=rfe(t)),vd(t),t}function nfe(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];vd(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}let S8=class{};function VT(t){const e=n=>t().update($T(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function sfe(t=32){if(Dp&&typeof Dp.getRandomValues=="function")return Dp.getRandomValues(new Uint8Array(t));if(Dp&&typeof Dp.randomBytes=="function")return Uint8Array.from(Dp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const ife=BigInt(0),Jg=BigInt(1),ofe=BigInt(2),afe=BigInt(7),cfe=BigInt(256),ufe=BigInt(113),SZ=[],IZ=[],TZ=[];for(let t=0,e=Jg,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],SZ.push(2*(5*n+r)),IZ.push((t+1)*(t+2)/2%64);let s=ife;for(let i=0;i<7;i++)e=(e<<Jg^(e>>afe)*ufe)%cfe,e&ofe&&(s^=Jg<<(Jg<<BigInt(i))-Jg);TZ.push(s)}const PZ=_Z(TZ,!0),lfe=PZ[0],dfe=PZ[1],Dk=(t,e,r)=>r>32?Hde(t,e,r):Lde(t,e,r),Mk=(t,e,r)=>r>32?qde(t,e,r):Fde(t,e,r);function ffe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=Dk(u,l,1)^r[a],f=Mk(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=IZ[o],c=Dk(s,i,a),u=Mk(s,i,a),l=SZ[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=lfe[n],t[1]^=dfe[n]}_d(r)}let hfe=class xZ extends S8{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,L1(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Jde(this.state)}clone(){return this._cloneInto()}keccak(){kk(this.state32),ffe(this.state32,this.rounds),kk(this.state32),this.posOut=0,this.pos=0}update(e){Zm(this),e=$T(e),vd(e);const{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Zm(this,!1),vd(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return L1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(AZ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,_d(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new xZ(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const pfe=(t,e,r)=>VT(()=>new hfe(e,t,r)),OZ=pfe(1,136,256/8);function mfe(t,e){const r=e||"hex",n=OZ(Ww(t,{strict:!1})?EZ(t):t);return r==="bytes"?n:cd(n)}let Ad=class extends ht{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},I8=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const mx=new I8(8192);function RZ(t,e){if(mx.has(`${t}.${e}`))return mx.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=mfe(vZ(r),"bytes"),s=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return mx.set(`${t}.${e}`,i),i}function K7e(t,e){if(!Cd(t,{strict:!1}))throw new Ad({address:t});return RZ(t,e)}const gfe=/^0x[a-fA-F0-9]{40}$/,gx=new I8(8192);function Cd(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(gx.has(n))return gx.get(n);const s=gfe.test(t)?t.toLowerCase()===t?!0:r?RZ(t)===t:!0:!1;return gx.set(n,s),s}function Z7e(t){return typeof t[0]=="string"?Eg(t):yfe(t)}function yfe(t){let e=0;for(const s of t)e+=s.length;const r=new Uint8Array(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function Eg(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function bfe(t,e,r,{strict:n}={}){return Ww(t,{strict:!1})?Efe(t,e,r,{strict:n}):wfe(t,e,r,{strict:n})}function NZ(t,e){if(typeof e=="number"&&e>0&&e>wd(t)-1)throw new yZ({offset:e,position:"start",size:wd(t)})}function BZ(t,e,r){if(typeof e=="number"&&typeof r=="number"&&wd(t)!==r-e)throw new yZ({offset:r,position:"end",size:wd(t)})}function wfe(t,e,r,{strict:n}={}){NZ(t,e);const s=t.slice(e,r);return n&&BZ(s,e,r),s}function Efe(t,e,r,{strict:n}={}){NZ(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&BZ(s,e,r),s}class Uk extends ht{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class vfe extends ht{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class _fe extends ht{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Afe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new _fe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new vfe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Uk({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Uk({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function kZ(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(Afe);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}const Mh=(t,e,r)=>JSON.stringify(t,(n,s)=>typeof s=="bigint"?s.toString():s,r),Cfe={gwei:9,wei:18},Sfe={ether:-9,wei:9};function GT(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${i?`.${i}`:""}`}function Ife(t,e="wei"){return GT(t,Cfe[e])}function Uh(t,e="wei"){return GT(t,Sfe[e])}function jZ(t){const e=Object.entries(t).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=e.reduce((n,[s])=>Math.max(n,s.length),0);return e.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}class Tfe extends ht{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Pfe extends ht{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",jZ(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class xfe extends ht{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Y7e extends ht{constructor(e,{account:r,docsPath:n,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var p;const h=jZ({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:d,value:typeof f<"u"&&`${Ife(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Uh(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Uh(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Uh(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class J7e extends ht{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:i}){let o="Transaction";n&&i!==void 0&&(o=`Transaction at block time "${n}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),r&&i!==void 0&&(o=`Transaction at block number "${r}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Q7e extends ht{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class X7e extends ht{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class eHe extends ht{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const tHe=t=>t,T8=t=>t;class Yb extends ht{constructor({body:e,cause:r,details:n,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${T8(o)}`,e&&`Request body: ${Mh(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class DZ extends ht{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${T8(n)}`,`Request body: ${Mh(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=n}}class Lk extends ht{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${T8(r)}`,`Request body: ${Mh(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const Ofe=-1;class Ei extends ht{constructor(e,{code:r,docsPath:n,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof DZ?e.code:r??Ofe}}class eo extends Ei{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class F1 extends Ei{constructor(e){super(e,{code:F1.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(F1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class H1 extends Ei{constructor(e){super(e,{code:H1.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(H1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class q1 extends Ei{constructor(e,{method:r}={}){super(e,{code:q1.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(q1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class z1 extends Ei{constructor(e){super(e,{code:z1.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(z1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ym extends Ei{constructor(e){super(e,{code:Ym.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ym,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class $1 extends Ei{constructor(e){super(e,{code:$1.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty($1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class V1 extends Ei{constructor(e){super(e,{code:V1.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(V1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class G1 extends Ei{constructor(e){super(e,{code:G1.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(G1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Jm extends Ei{constructor(e){super(e,{code:Jm.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Jm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class eh extends Ei{constructor(e,{method:r}={}){super(e,{code:eh.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Qm extends Ei{constructor(e){super(e,{code:Qm.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Qm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class W1 extends Ei{constructor(e){super(e,{code:W1.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(W1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Lh extends eo{constructor(e){super(e,{code:Lh.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class K1 extends eo{constructor(e){super(e,{code:K1.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(K1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Z1 extends eo{constructor(e,{method:r}={}){super(e,{code:Z1.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Z1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Y1 extends eo{constructor(e){super(e,{code:Y1.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Y1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class J1 extends eo{constructor(e){super(e,{code:J1.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(J1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Q1 extends eo{constructor(e){super(e,{code:Q1.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Q1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class X1 extends eo{constructor(e){super(e,{code:X1.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(X1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ew extends eo{constructor(e){super(e,{code:ew.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ew,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class tw extends eo{constructor(e){super(e,{code:tw.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(tw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class rw extends eo{constructor(e){super(e,{code:rw.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(rw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class nw extends eo{constructor(e){super(e,{code:nw.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(nw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class sw extends eo{constructor(e){super(e,{code:sw.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(sw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class iw extends eo{constructor(e){super(e,{code:iw.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(iw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Rfe extends Ei{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Nfe="modulepreload",Bfe=function(t,e){return new URL(t,e).href},Fk={},vn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(r.map(l=>{if(l=Bfe(l,n),l in Fk)return;Fk[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let m=a.length-1;m>=0;m--){const y=a[m];if(y.href===l&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Nfe,d||(p.as="script"),p.crossOrigin="",p.href=l,u&&p.setAttribute("nonce",u),document.head.appendChild(p),d)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function Jh(t,e="hex"){const r=MZ(t),n=kZ(new Uint8Array(r.length));return r.encode(n),e==="hex"?Nd(n.bytes):n.bytes}function MZ(t){return Array.isArray(t)?kfe(t.map(e=>MZ(e))):jfe(t)}function kfe(t){const e=t.reduce((s,i)=>s+i.length,0),r=UZ(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function jfe(t){const e=typeof t=="string"?Ed(t):t,r=UZ(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function UZ(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ht("Length is too large.")}class P8 extends ht{constructor({cause:e,message:r}={}){var s;const n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(P8,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(P8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class WT extends ht{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Uh(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(WT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Dfe extends ht{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Uh(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Dfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Mfe extends ht{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Mfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ufe extends ht{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Ufe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Lfe extends ht{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Lfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ffe extends ht{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Ffe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Hfe extends ht{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Hfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class qfe extends ht{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(qfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class zfe extends ht{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(zfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class LZ extends ht{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Uh(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Uh(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(LZ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class rHe extends ht{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function x8(t,e){return({exclude:r,format:n})=>({exclude:r,format:(s,i)=>{const o=e(s,i);if(r)for(const a of r)delete o[a];return{...o,...n(s,i)}},type:t})}const O8=2n**256n-1n,FZ={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function R8(t,e){const r={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?CI(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?CI(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?FZ[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(r.authorizationList=Vfe(t.authorizationList)),r.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}const $fe=x8("transaction",R8);function Vfe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Gfe(t,e){const r=(t.transactions??[]).map(n=>typeof n=="string"?n:R8(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:r,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Wfe=x8("block",Gfe);function HZ(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(i=>Ed(i)):t.blobs,s=[];for(const i of n)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return r==="bytes"?s:s.map(i=>Nd(i))}function qZ(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>Ed(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Ed(o)):t.commitments,i=[];for(let o=0;o<n.length;o++){const a=n[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?i:i.map(o=>Nd(o))}function Kfe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function Zfe(t,e,r){return t&e^~t&r}function Yfe(t,e,r){return t&e^t&r^e&r}class zZ extends S8{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=px(this.buffer)}update(e){Zm(this),e=$T(e),vd(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=px(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zm(this),AZ(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,_d(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;Kfe(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=px(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Xu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ts=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),rs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Jfe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),el=new Uint32Array(64);let Qfe=class extends zZ{constructor(e=32){super(64,e,8,!1),this.A=Xu[0]|0,this.B=Xu[1]|0,this.C=Xu[2]|0,this.D=Xu[3]|0,this.E=Xu[4]|0,this.F=Xu[5]|0,this.G=Xu[6]|0,this.H=Xu[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)el[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=el[d-15],h=el[d-2],p=Ca(f,7)^Ca(f,18)^f>>>3,m=Ca(h,17)^Ca(h,19)^h>>>10;el[d]=m+el[d-7]+p+el[d-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=Ca(a,6)^Ca(a,11)^Ca(a,25),h=l+f+Zfe(a,c,u)+Jfe[d]+el[d]|0,m=(Ca(n,2)^Ca(n,13)^Ca(n,22))+Yfe(n,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,s,i,o,a,c,u,l)}roundClean(){_d(el)}destroy(){this.set(0,0,0,0,0,0,0,0),_d(this.buffer)}};const $Z=_Z(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Xfe=$Z[0],ehe=$Z[1],tl=new Uint32Array(80),rl=new Uint32Array(80);let VZ=class extends zZ{constructor(e=64){super(128,e,16,!1),this.Ah=rs[0]|0,this.Al=rs[1]|0,this.Bh=rs[2]|0,this.Bl=rs[3]|0,this.Ch=rs[4]|0,this.Cl=rs[5]|0,this.Dh=rs[6]|0,this.Dl=rs[7]|0,this.Eh=rs[8]|0,this.El=rs[9]|0,this.Fh=rs[10]|0,this.Fl=rs[11]|0,this.Gh=rs[12]|0,this.Gl=rs[13]|0,this.Hh=rs[14]|0,this.Hl=rs[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)tl[b]=e.getUint32(r),rl[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=tl[b-15]|0,v=rl[b-15]|0,A=kp(g,v,1)^kp(g,v,8)^Nk(g,v,7),C=jp(g,v,1)^jp(g,v,8)^Bk(g,v,7),x=tl[b-2]|0,T=rl[b-2]|0,N=kp(x,T,19)^cv(x,T,61)^Nk(x,T,6),M=jp(x,T,19)^uv(x,T,61)^Bk(x,T,6),k=Vde(C,M,rl[b-7],rl[b-16]),B=Gde(k,A,N,tl[b-7],tl[b-16]);tl[b]=B|0,rl[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=kp(d,f,14)^kp(d,f,18)^cv(d,f,41),v=jp(d,f,14)^jp(d,f,18)^uv(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=Wde(w,v,C,ehe[b],rl[b]),T=Kde(x,E,g,A,Xfe[b],tl[b]),N=x|0,M=kp(n,s,28)^cv(n,s,34)^cv(n,s,39),k=jp(n,s,28)^uv(n,s,34)^uv(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Ec(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=zde(N,k,U);n=$de(I,T,M,B),s=I|0}({h:n,l:s}=Ec(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Ec(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ec(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ec(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=Ec(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Ec(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Ec(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=Ec(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){_d(tl,rl)}destroy(){_d(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class the extends VZ{constructor(){super(48),this.Ah=ts[0]|0,this.Al=ts[1]|0,this.Bh=ts[2]|0,this.Bl=ts[3]|0,this.Ch=ts[4]|0,this.Cl=ts[5]|0,this.Dh=ts[6]|0,this.Dl=ts[7]|0,this.Eh=ts[8]|0,this.El=ts[9]|0,this.Fh=ts[10]|0,this.Fl=ts[11]|0,this.Gh=ts[12]|0,this.Gl=ts[13]|0,this.Hh=ts[14]|0,this.Hl=ts[15]|0}}const GZ=VT(()=>new Qfe),iHe=VT(()=>new VZ),oHe=VT(()=>new the),rhe=GZ;function nhe(t,e){return rhe(Ww(t,{strict:!1})?EZ(t):t)}function she(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),s=nhe(e);return s.set([r],0),n==="bytes"?s:Nd(s)}function ihe(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(she({commitment:i,to:n,version:r}));return s}const Hk=6,WZ=32,N8=4096,KZ=WZ*N8,qk=KZ*Hk-1-1*N8*Hk,ZZ=1;class ohe extends ht{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class YZ extends ht{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class ahe extends ht{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class che extends ht{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${ZZ}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function uhe(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?Ed(t.data):t.data,n=wd(r);if(!n)throw new YZ;if(n>qk)throw new ohe({maxSize:qk,size:n});const s=[];let i=!0,o=0;for(;i;){const a=kZ(new Uint8Array(KZ));let c=0;for(;c<N8;){const u=r.slice(o,o+(WZ-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return e==="bytes"?s.map(a=>a.bytes):s.map(a=>Nd(a.bytes))}function lhe(t){const{data:e,kzg:r,to:n}=t,s=t.blobs??uhe({data:e,to:n}),i=t.commitments??HZ({blobs:s,kzg:r,to:n}),o=t.proofs??qZ({blobs:s,commitments:i,kzg:r,to:n}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function dhe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Pfe({transaction:t})}function fhe(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const aHe=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],cHe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],JZ=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],uHe=[...JZ,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],lHe=[...JZ,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],dHe=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],fHe=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],hHe=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],pHe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],lv=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];class mHe extends ht{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class gHe extends ht{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class KT extends ht{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function hhe(){let t=()=>{},e=()=>{};return{promise:new Promise((n,s)=>{t=n,e=s}),resolve:t,reject:e}}const yx=new Map;function phe({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:s}){const i=async()=>{const l=c();o();const d=l.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<l.length;h++){const{resolve:p}=l[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<l.length;h++){const{reject:p}=l[h];p==null||p(f)}})},o=()=>yx.delete(e),a=()=>c().map(({args:l})=>l),c=()=>yx.get(e)||[],u=l=>yx.set(e,[...c(),l]);return{flush:o,async schedule(l){const{promise:d,resolve:f,reject:h}=hhe();return(r==null?void 0:r([...a(),l]))&&i(),c().length>0?(u({args:l,resolve:f,reject:h}),d):(u({args:l,resolve:f,reject:h}),setTimeout(i,n),d)}}}async function QZ(t){return new Promise(e=>setTimeout(e,t))}function mhe(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof e=="function"?e({count:a,error:u}):e;l&&await QZ(l),o({count:a+1})};try{const u=await t();s(u)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});i(u)}};o()})}const ghe={"0x0":"reverted","0x1":"success"};function yhe(t,e){const r={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>fhe(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?CI(t.transactionIndex):null,status:t.status?ghe[t.status]:null,type:t.type?FZ[t.type]||t.type:null};return t.blobGasPrice&&(r.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(r.blobGasUsed=BigInt(t.blobGasUsed)),r}const bhe=x8("transactionReceipt",yhe),oR=256;let dv=oR,fv;function whe(t=11){if(!fv||dv+t>oR*2){fv="",dv=0;for(let e=0;e<oR;e++)fv+=(256+Math.random()*256|0).toString(16).substring(1)}return fv.substring(dv,dv+++t)}function Ehe(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:n}=r,s=r.address;if(!Cd(s))throw new Ad({address:s});if(n<0)throw new KT({chainId:n})}B8(t)}function vhe(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new YZ;for(const r of e){const n=wd(r),s=CI(bfe(r,0,1));if(n!==32)throw new ahe({hash:r,size:n});if(s!==ZZ)throw new che({hash:r,version:s})}}B8(t)}function B8(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:s}=t;if(e<=0)throw new KT({chainId:e});if(s&&!Cd(s))throw new Ad({address:s});if(n&&n>O8)throw new WT({maxFeePerGas:n});if(r&&n&&r>n)throw new LZ({maxFeePerGas:n,maxPriorityFeePerGas:r})}function _he(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(e<=0)throw new KT({chainId:e});if(i&&!Cd(i))throw new Ad({address:i});if(r||s)throw new ht("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>O8)throw new WT({maxFeePerGas:n})}function Ahe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(i&&!Cd(i))throw new Ad({address:i});if(typeof e<"u"&&e<=0)throw new KT({chainId:e});if(r||s)throw new ht("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>O8)throw new WT({maxFeePerGas:n})}function ZT(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:s}=t[r];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new xfe({storageKey:s[i]});if(!Cd(n,{strict:!1}))throw new Ad({address:n});e.push([n,s])}return e}function Che(t,e){const r=dhe(t);return r==="eip1559"?The(t,e):r==="eip2930"?Phe(t,e):r==="eip4844"?Ihe(t,e):r==="eip7702"?She(t,e):xhe(t,e)}function She(t,e){const{authorizationList:r,chainId:n,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=t;Ehe(t);const f=ZT(l),h=Ohe(r);return Eg(["0x04",Jh([Ht(n),i?Ht(i):"0x",u?Ht(u):"0x",c?Ht(c):"0x",s?Ht(s):"0x",o??"0x",a?Ht(a):"0x",d??"0x",f,h,...Kw(t,e)])])}function Ihe(t,e){const{chainId:r,gas:n,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=t;vhe(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const b=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(A=>Nd(A)),g=t.kzg,v=HZ({blobs:b,kzg:g});if(typeof f>"u"&&(f=ihe({commitments:v})),typeof h>"u"){const A=qZ({blobs:b,commitments:v,kzg:g});h=lhe({blobs:b,commitments:v,proofs:A})}}const p=ZT(l),m=[Ht(r),s?Ht(s):"0x",u?Ht(u):"0x",c?Ht(c):"0x",n?Ht(n):"0x",i??"0x",o?Ht(o):"0x",d??"0x",p,a?Ht(a):"0x",f??[],...Kw(t,e)],y=[],E=[],w=[];if(h)for(let b=0;b<h.length;b++){const{blob:g,commitment:v,proof:A}=h[b];y.push(g),E.push(v),w.push(A)}return Eg(["0x03",Jh(h?[m,y,E,w]:m)])}function The(t,e){const{chainId:r,gas:n,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=t;B8(t);const d=ZT(u),f=[Ht(r),s?Ht(s):"0x",c?Ht(c):"0x",a?Ht(a):"0x",n?Ht(n):"0x",i??"0x",o?Ht(o):"0x",l??"0x",d,...Kw(t,e)];return Eg(["0x02",Jh(f)])}function Phe(t,e){const{chainId:r,gas:n,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=t;_he(t);const l=ZT(c),d=[Ht(r),i?Ht(i):"0x",u?Ht(u):"0x",n?Ht(n):"0x",o??"0x",a?Ht(a):"0x",s??"0x",l,...Kw(t,e)];return Eg(["0x01",Jh(d)])}function xhe(t,e){const{chainId:r=0,gas:n,data:s,nonce:i,to:o,value:a,gasPrice:c}=t;Ahe(t);let u=[i?Ht(i):"0x",c?Ht(c):"0x",n?Ht(n):"0x",o??"0x",a?Ht(a):"0x",s??"0x"];if(e){const l=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new Tfe({v:e.v});return h})(),d=ad(e.r),f=ad(e.s);u=[...u,Ht(l),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else r>0&&(u=[...u,Ht(r),"0x","0x"]);return Jh(u)}function Kw(t,e){const r=e??t,{v:n,yParity:s}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof s>"u")return[];const i=ad(r.r),o=ad(r.s);return[typeof s=="number"?s?Ht(1):"0x":n===0n?"0x":n===1n?Ht(1):n===27n?"0x":Ht(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function Ohe(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:n,nonce:s,...i}=r,o=r.address;e.push([n?cd(n):"0x",o,s?cd(s):"0x",...Kw({},i)])}return e}const hv=new I8(8192);function Rhe(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(hv.get(r))return hv.get(r);const n=t().finally(()=>hv.delete(r));return hv.set(r,n),n}function Nhe(t,e={}){return async(r,n={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:u}=r;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new eh(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new eh(new Error("method not supported"),{method:u});const l=s?wZ(`${c}.${Mh(r)}`):void 0;return Rhe(()=>mhe(async()=>{try{return await t(r)}catch(f){const h=f;switch(h.code){case F1.code:throw new F1(h);case H1.code:throw new H1(h);case q1.code:throw new q1(h,{method:r.method});case z1.code:throw new z1(h);case Ym.code:throw new Ym(h);case $1.code:throw new $1(h);case V1.code:throw new V1(h);case G1.code:throw new G1(h);case Jm.code:throw new Jm(h);case eh.code:throw new eh(h,{method:r.method});case Qm.code:throw new Qm(h);case W1.code:throw new W1(h);case Lh.code:throw new Lh(h);case K1.code:throw new K1(h);case Z1.code:throw new Z1(h);case Y1.code:throw new Y1(h);case J1.code:throw new J1(h);case Q1.code:throw new Q1(h);case X1.code:throw new X1(h);case ew.code:throw new ew(h);case tw.code:throw new tw(h);case rw.code:throw new rw(h);case nw.code:throw new nw(h);case sw.code:throw new sw(h);case iw.code:throw new iw(h);case 5e3:throw new Lh(h);default:throw f instanceof ht?f:new Rfe(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof Yb){const m=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Bhe(f)}),{enabled:s,id:l})}}function Bhe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Qm.code||t.code===Ym.code:t instanceof Yb&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function YT(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function khe(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function jhe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const zk=jhe();function Dhe(t,e={}){return{async request(r){var f;const{body:n,fetchFn:s=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:l,signal:d}=c;try{const h=await khe(async({signal:m})=>{const y={...c,body:Array.isArray(n)?Mh(n.map(g=>({jsonrpc:"2.0",id:g.id??zk.take(),...g}))):Mh({jsonrpc:"2.0",id:n.id??zk.take(),...n}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:d||(a>0?m:null)},E=new Request(t,y),w=await(i==null?void 0:i(E,y))??{...y,url:t};return await s(w.url??t,w)},{errorInstance:new Lk({body:n,url:t}),timeout:a,signal:!0});o&&await o(h);let p;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(m){if(h.ok)throw m;p={error:p}}}if(!h.ok)throw new Yb({body:n,details:Mh(p.error)||h.statusText,headers:h.headers,status:h.status,url:t});return p}catch(h){throw h instanceof Yb||h instanceof Lk?h:new Yb({body:n,cause:h,url:t})}}}}let XZ=class extends S8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Yde(e);const n=$T(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),_d(i)}update(e){return Zm(this),this.iHash.update(e),this}digestInto(e){Zm(this),vd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const eY=(t,e,r)=>new XZ(t,e).update(r).digest();eY.create=(t,e)=>new XZ(t,e);function tY({key:t,methods:e,name:r,request:n,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=whe();return{config:{key:t,methods:e,name:r,request:n,retryCount:s,retryDelay:i,timeout:o,type:a},request:Nhe(n,{methods:e,retryCount:s,retryDelay:i,uid:u}),value:c}}function $k(t,e={}){const{key:r="fallback",name:n="Fallback",rank:s=!1,shouldThrow:i=Mhe,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:u=4e3,timeout:l,...d})=>{let f=t,h=()=>{};const p=tY({key:r,name:n,async request({method:m,params:y}){let E;const w=async(b=0)=>{const g=f[b]({...d,chain:c,retryCount:0,timeout:l});try{const v=await g.request({method:m,params:y});return h({method:m,params:y,response:v,transport:g,status:"success"}),v}catch(v){if(h({error:v,method:m,params:y,transport:g,status:"error"}),i(v)||b===f.length-1||(E??(E=f.slice(b+1).some(A=>{const{include:C,exclude:x}=A({chain:c}).config.methods||{};return C?C.includes(m):x?!x.includes(m):!0})),!E))throw v;return w(b+1)}};return w()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>h=m,transports:f.map(m=>m({chain:c,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};Uhe({chain:c,interval:m.interval??u,onTransports:y=>f=y,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:f,weights:m.weights})}return p})}function Mhe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Jm.code||t.code===Lh.code||P8.nodeMessage.test(t.message)||t.code===5e3))}function Uhe({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],d=async()=>{const f=await Promise.all(o.map(async m=>{const y=m({chain:t,retryCount:0,timeout:i}),E=Date.now();let w,b;try{await(n?n({transport:y}):y.request({method:"net_listening"})),b=1}catch{b=0}finally{w=Date.now()}return{latency:w-E,success:b}}));l.push(f),l.length>s&&l.shift();const h=Math.max(...l.map(m=>Math.max(...m.map(({latency:y})=>y)))),p=o.map((m,y)=>{const E=l.map(A=>A[y].latency),b=1-E.reduce((A,C)=>A+C,0)/E.length/h,g=l.map(A=>A[y].success),v=g.reduce((A,C)=>A+C,0)/g.length;return v===0?[0,y]:[u*b+c*v,y]}).sort((m,y)=>y[0]-m[0]);r(p.map(([,m])=>o[m])),await QZ(e),d()};d()}class Lhe extends ht{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function pv(t,e={}){const{batch:r,fetchFn:n,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:l,raw:d}=e;return({chain:f,retryCount:h,timeout:p})=>{const{batchSize:m=1e3,wait:y=0}=typeof r=="object"?r:{},E=e.retryCount??h,w=p??e.timeout??1e4,b=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!b)throw new Lhe;const g=Dhe(b,{fetchFn:n,fetchOptions:s,onRequest:c,onResponse:u,timeout:w});return tY({key:i,methods:o,name:a,async request({method:v,params:A}){const C={method:v,params:A},{schedule:x}=phe({id:b,wait:y,shouldSplitBatch(k){return k.length>m},fn:k=>g.request({body:k}),sort:(k,B)=>k.id-B.id}),T=async k=>r?x(k):[await g.request({body:k})],[{error:N,result:M}]=await T(C);if(d)return{error:N,result:M};if(N)throw new DZ({body:C,error:N,url:b});return M},retryCount:E,retryDelay:l,timeout:w,type:"http"},{fetchOptions:s,url:b})}}async function Qg(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Zw{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...s}){const i=this.createUrl(s);return(await Qg(i,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const s=this.createUrl(n);return(await Qg(s,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await Qg(i,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await Qg(i,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await Qg(i,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([s,i])=>{i&&n.searchParams.append(s,i)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}sendBeacon({body:e,...r}){const n=this.createUrl(r);return navigator.sendBeacon(n.toString(),e?JSON.stringify(e):void 0)}}const aR={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Lt.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;let e=t;return Ue.isTelegram()&&(Ue.isIos()&&(e=e.filter(r=>r!=="google")),Ue.isMac()&&(e=e.filter(r=>r!=="x")),Ue.isAndroid()&&(e=e.filter(r=>!["facebook","x"].includes(r)))),Ue.isMobile()&&(e=e.filter(r=>r!=="facebook")),e},isSocialsEnabled(){var t,e,r,n;return Array.isArray((t=Ce.state.features)==null?void 0:t.socials)&&((e=Ce.state.features)==null?void 0:e.socials.length)>0||Array.isArray((r=Ce.state.remoteFeatures)==null?void 0:r.socials)&&((n=Ce.state.remoteFeatures)==null?void 0:n.socials.length)>0},isEmailEnabled(){var t,e;return!!((t=Ce.state.features)!=null&&t.email||(e=Ce.state.remoteFeatures)!=null&&e.email)}},et=jr({features:Lt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Lt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),Ce={state:et,subscribeKey(t,e){return Zn(et,t,e)},setOptions(t){Object.assign(et,t)},setRemoteFeatures(t){var r,n;if(!t)return;const e={...et.remoteFeatures,...t};et.remoteFeatures=e,(r=et.remoteFeatures)!=null&&r.socials&&(et.remoteFeatures.socials=aR.filterSocialsByPlatform(et.remoteFeatures.socials)),(n=et.features)!=null&&n.pay&&(et.remoteFeatures.email=!1,et.remoteFeatures.socials=!1)},setFeatures(t){var r;if(!t)return;et.features||(et.features=Lt.DEFAULT_FEATURES);const e={...et.features,...t};et.features=e,(r=et.features)!=null&&r.pay&&et.remoteFeatures&&(et.remoteFeatures.email=!1,et.remoteFeatures.socials=!1)},setProjectId(t){et.projectId=t},setCustomRpcUrls(t){et.customRpcUrls=t},setAllWallets(t){et.allWallets=t},setIncludeWalletIds(t){et.includeWalletIds=t},setExcludeWalletIds(t){et.excludeWalletIds=t},setFeaturedWalletIds(t){et.featuredWalletIds=t},setTokens(t){et.tokens=t},setTermsConditionsUrl(t){et.termsConditionsUrl=t},setPrivacyPolicyUrl(t){et.privacyPolicyUrl=t},setCustomWallets(t){et.customWallets=t},setIsSiweEnabled(t){et.isSiweEnabled=t},setIsUniversalProvider(t){et.isUniversalProvider=t},setSdkVersion(t){et.sdkVersion=t},setMetadata(t){et.metadata=t},setDisableAppend(t){et.disableAppend=t},setEIP6963Enabled(t){et.enableEIP6963=t},setDebug(t){et.debug=t},setEnableWalletGuide(t){et.enableWalletGuide=t},setEnableAuthLogger(t){et.enableAuthLogger=t},setEnableWallets(t){et.enableWallets=t},setPreferUniversalLinks(t){et.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(Lt.SIWX_DEFAULTS))t[e]??(t[e]=r);et.siwx=t},setConnectMethodsOrder(t){et.features={...et.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){et.features={...et.features,walletFeaturesOrder:t}},setSocialsOrder(t){et.remoteFeatures={...et.remoteFeatures,socials:t}},setCollapseWallets(t){et.features={...et.features,collapseWallets:t}},setEnableEmbedded(t){et.enableEmbedded=t},setAllowUnsupportedChain(t){et.allowUnsupportedChain=t},setManualWCControl(t){et.manualWCControl=t},setEnableNetworkSwitch(t){et.enableNetworkSwitch=t},setEnableMobileFullScreen(t){et.enableMobileFullScreen=Ue.isMobile()&&t},setEnableReconnect(t){et.enableReconnect=t},setCoinbasePreference(t){et.coinbasePreference=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(et.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){et.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return et.universalProviderConfigOverride},getSnapshot(){return C1(et)}},Mf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),yn=jr({...Mf}),Fhe={state:yn,subscribeKey(t,e){return Zn(yn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ue.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){yn.message=Mf.message,yn.variant=Mf.variant,yn.svg=Mf.svg,yn.open=Mf.open,yn.autoClose=Mf.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Mf.autoClose}){yn.open?(yn.open=!1,setTimeout(()=>{yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n},150)):(yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n)}},tc=Fhe,Hhe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},rY=Ue.getBlockchainApiUrl(),vs=jr({clientId:null,api:new Zw({baseUrl:rY,clientId:null}),supportedChains:{http:[],ws:[]}}),at={state:vs,async get(t){const{st:e,sv:r}=at.getSdkProperties(),n=Ce.state.projectId,s={...t.params||{},st:e,sv:r,projectId:n};return vs.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Ce.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{vs.supportedChains.http.length||await at.getSupportedNetworks()}catch{return!1}return vs.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await at.get({path:"v1/supported-chains"});return vs.supportedChains=t,t}catch{return vs.supportedChains}},async fetchIdentity({address:t}){const e=Te.getIdentityFromCacheForAddress(t);if(e)return e;const r=await at.get({path:`/v1/identity/${t}`,params:{sender:te.state.activeCaipAddress?Ue.getPlainAddress(te.state.activeCaipAddress):void 0}});return Te.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:s}){var c;if(!await at.isNetworkSupported((c=te.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};const o=Te.getTransactionsCacheForAddress({address:t,chainId:s});if(o)return o;const a=await at.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:r,cache:n});return Te.updateTransactionsCache({address:t,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:s}){var o;return await at.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?at.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async getAddressBalance({caipNetworkId:t,address:e}){return vs.api.post({path:`/v1?chainId=${t}&projectId=${Ce.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:e}}}).then(r=>r.result)},async fetchTokenPrice({addresses:t}){var s;if(!await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))return{fungibles:[]};const r=Te.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await vs.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Ce.state.projectId},headers:{"Content-Type":"application/json"}});return Te.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await at.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?at.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:r}=at.getSdkProperties();if(!await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return at.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:s}){var o;if(!await at.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return vs.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Lt.CONVERT_SLIPPAGE_TOLERANCE},projectId:Ce.state.projectId,from:e,to:r,userAddress:n,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:n,sv:s}=at.getSdkProperties();if(!await at.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return at.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:s}})},async getBalance(t,e,r){var u;const{st:n,sv:s}=at.getSdkProperties();if(!await at.isNetworkSupported((u=te.state.activeCaipNetwork)==null?void 0:u.caipNetworkId))return tc.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Te.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await at.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:s}});return Te.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n,s;if(!await at.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId))return[];const r=(s=te.getAccountData())==null?void 0:s.address;return at.get({path:`/v1/profile/reverse/${t}`,params:{sender:r,apiVersion:"2"}})},async getEnsNameSuggestions(t){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var i;return await at.isNetworkSupported((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?vs.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:s}){var a;return await at.isNetworkSupported((a=te.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await vs.api.post({path:"/v1/generators/onrampurl",params:{projectId:Ce.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await at.isNetworkSupported((e=te.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await at.get({path:"/v1/onramp/options"})}catch{return Hhe}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var s;try{return await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await vs.api.post({path:"/v1/onramp/quote",params:{projectId:Ce.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var s;return await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?vs.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Ce.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){vs.clientId=t,vs.api=new Zw({baseUrl:rY,clientId:t})}},lo={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},qhe={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===lo.PHANTOM.id&&!("phantom"in window)){const s=r.startsWith("https")?"https":"http",i=r.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${lo.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===lo.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${lo.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===Ee.CHAIN.SOLANA&&t===lo.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${lo.COINBASE.url}/dapp?cb_url=${n}`),e===Ee.CHAIN.BITCOIN&&t===lo.BINANCE.id&&!("binancew3w"in window)){const s=te.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${(s==null?void 0:s.id)??1}`),a=new URL(lo.BINANCE.deeplink);a.searchParams.set("appId",lo.BINANCE.appId),a.searchParams.set("startPagePath",i),a.searchParams.set("startPageQuery",o);const c=new URL(lo.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},zhe=Object.freeze({enabled:!0,events:[]}),$he=new Zw({baseUrl:Ue.getAnalyticsUrl(),clientId:null}),Vhe=5,Ghe=60*1e3,nl=jr({...zhe}),Whe={state:nl,subscribeKey(t,e){return Zn(nl,t,e)},async sendError(t,e){if(!nl.enabled)return;const r=Date.now();if(nl.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return r-o<Ghe}).length>=Vhe)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};nl.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=Ce.state;await $he.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ue.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){nl.enabled=!0},disable(){nl.enabled=!1},clearEvents(){nl.events=[]}};class Qh extends Error{constructor(e,r,n){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=r,this.originalError=n,n&&n instanceof Error&&(this.originalName=n.name),Object.setPrototypeOf(this,Qh.prototype);let s=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const i=n.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Qh):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function Vk(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?Object.keys(t).length===0?r="Unknown error":r=(t==null?void 0:t.message)||JSON.stringify(t):r=String(t)}catch(s){r="Unknown error",console.error("Error parsing error message",s)}const n=t instanceof Qh?t:new Qh(r,e,t);throw Whe.sendError(n,n.category),n}function To(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const s=t[n];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return Vk(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return Vk(a,e)}},r[n]=i}else r[n]=s}),r}const Ii=jr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Khe={state:Ii,subscribeNetworkImages(t){return Kn(Ii.networkImages,()=>t(Ii.networkImages))},subscribeKey(t,e){return Zn(Ii,t,e)},subscribe(t){return Kn(Ii,()=>t(Ii))},setWalletImage(t,e){Ii.walletImages[t]=e},setNetworkImage(t,e){Ii.networkImages[t]=e},setChainImage(t,e){Ii.chainImages[t]=e},setConnectorImage(t,e){Ii.connectorImages={...Ii.connectorImages,[t]:e}},setTokenImage(t,e){Ii.tokenImages[t]=e},setCurrencyImage(t,e){Ii.currencyImages[t]=e}},Vi=To(Khe),Zhe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},bx=jr({networkImagePromises:{}}),nY={async fetchWalletImage(t){if(t)return await Qe._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(bx.networkImagePromises[t]||(bx.networkImagePromises[t]=Qe._fetchNetworkImage(t)),await bx.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Vi.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Vi.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return Vi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Vi.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Vi.state.connectorImages[t.imageId]},getChainImage(t){return Vi.state.networkImages[Zhe[t]]},getTokenImage(t){if(t)return Vi.state.tokenImages[t]}},Yhe=Ue.getAnalyticsUrl(),Jhe=new Zw({baseUrl:Yhe,clientId:null}),Qhe=["MODAL_CREATED"],Xhe=45,Gk=1e3*10,Kr=jr({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),bt={state:Kr,subscribe(t){return Kn(Kr,()=>t(Kr))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Ce.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},shouldFlushEvents(){const t=JSON.stringify(Kr.pendingEvents).length/1024>Xhe,e=Kr.lastFlush+Gk<Date.now();return t||e},_setPendingEvent(t){var e,r;try{let n=(e=te.getAccountData())==null?void 0:e.address;if("address"in t.data&&t.data.address&&(n=t.data.address),Qhe.includes(t.data.event)||typeof window>"u")return;const s=(r=te.getActiveCaipNetwork())==null?void 0:r.caipNetworkId;this.state.pendingEvents.push({eventId:Ue.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:n,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:s}}}),Kr.reportedErrors.FORBIDDEN=!1,bt.shouldFlushEvents()&&bt._submitPendingEvents()}catch(n){console.warn("_setPendingEvent",n)}},sendEvent(t){var r;Kr.timestamp=Date.now(),Kr.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];((r=Ce.state.features)!=null&&r.analytics||e.includes(t.event))&&bt._setPendingEvent(Kr),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(t){Kr.walletImpressions.push(t)},_transformPendingEventsForBatch(t){try{return t.filter(e=>e.props.event!=="WALLET_IMPRESSION_V2")}catch{return t}},_submitPendingEvents(){if(Kr.lastFlush=Date.now(),!(Kr.pendingEvents.length===0&&Kr.walletImpressions.length===0))try{const t=bt._transformPendingEventsForBatch(Kr.pendingEvents);Kr.walletImpressions.length&&t.push({eventId:Ue.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...Kr.walletImpressions]}}),Jhe.sendBeacon({path:"/batch",params:bt.getSdkProperties(),body:t}),Kr.reportedErrors.FORBIDDEN=!1,Kr.pendingEvents=[],Kr.walletImpressions=[]}catch{Kr.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){var t,e,r;Kr.subscribedToVisibilityChange||typeof document>"u"||(Kr.subscribedToVisibilityChange=!0,(t=document==null?void 0:document.addEventListener)==null||t.call(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&bt._submitPendingEvents()}),(e=document==null?void 0:document.addEventListener)==null||e.call(document,"freeze",()=>{bt._submitPendingEvents()}),(r=window==null?void 0:window.addEventListener)==null||r.call(window,"pagehide",()=>{bt._submitPendingEvents()}),setInterval(()=>{bt._submitPendingEvents()},Gk))}},epe=Ue.getApiUrl(),_s=new Zw({baseUrl:epe,clientId:null}),tpe=40,Wk=4,rpe=20,pt=jr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),Qe={state:pt,subscribeKey(t,e){return Zn(pt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Ce.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Ce.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${_s.baseUrl}/getWalletImage/${t}`,r=await _s.getBlob({path:e,params:Qe._getSdkProperties()});Vi.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${_s.baseUrl}/public/getAssetImage/${t}`,r=await _s.getBlob({path:e,params:Qe._getSdkProperties()});Vi.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${_s.baseUrl}/public/getAssetImage/${t}`,r=await _s.getBlob({path:e,params:Qe._getSdkProperties()});Vi.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${_s.baseUrl}/public/getCurrencyImage/${t}`,r=await _s.getBlob({path:e,params:Qe._getSdkProperties()});Vi.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${_s.baseUrl}/public/getTokenImage/${t}`,r=await _s.getBlob({path:e,params:Qe._getSdkProperties()});Vi.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){const e=t.length,r=Ue.isMobile()?t==null?void 0:t.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(lo).map(o=>o.id).includes(s.id)):t,n=e-r.length;return{filteredWallets:r,mobileFilteredOutWalletsLength:n}},async fetchProjectConfig(){return(await _s.get({path:"/appkit/v1/config",params:Qe._getSdkProperties()})).features},async fetchUsage(){try{const t=await _s.get({path:"/appkit/v1/project-limits",params:Qe._getSdkProperties()}),{tier:e,isAboveMauLimit:r,isAboveRpcLimit:n}=t.planLimits,s=e==="starter",i=r||n;Qe.state.plan={tier:e,hasExceededUsageLimit:s&&i,limits:{isAboveRpcLimit:n,isAboveMauLimit:r}}}catch(t){console.warn("Failed to fetch usage",t)}},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await _s.get({path:"/projects/v1/origins",params:Qe._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===Ee.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=Ee.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=te.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!nY.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>Qe._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=Ne.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>Qe._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Qe._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Qe._fetchTokenImage(e)))},async fetchWallets(t){var o;const e=t.exclude??[];Qe._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(lo).map(a=>a.id));const n=await _s.get({path:"/getWallets",params:{...Qe._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(o=t.include)==null?void 0:o.join(","),exclude:e.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=Qe._filterWalletsByPlatform(n==null?void 0:n.data);return{data:s||[],count:n==null?void 0:n.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const t=Ne.state.connectors;if(!(t!=null&&t.length))return;const e={page:1,entries:20,badge:"certified"};if(e.names=t.map(s=>s.name).join(","),te.state.activeChain===Ee.CHAIN.EVM){const s=[...t.flatMap(i=>{var o;return((o=i.connectors)==null?void 0:o.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}))||[]}),...t.map(i=>{var o;return(o=i.info)==null?void 0:o.rdns})].filter(i=>typeof i=="string"&&i.length>0);s.length&&(e.rdns=s.join(","))}const{data:r}=await Qe.fetchWallets(e);pt.explorerWallets=r,Ne.extendConnectorsWithExplorerWallets(r);const n=te.getRequestedCaipNetworkIds().join(",");pt.explorerFilteredWallets=r.filter(s=>{var i;return(i=s.chains)==null?void 0:i.some(o=>n.includes(o))})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Ce.state;if(t!=null&&t.length){const e={...Qe._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??Wk,include:t},{data:r}=await Qe.fetchWallets(e),n=[...r].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=n.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Qe._fetchWalletImage(i))),pt.featured=n,pt.allFeatured=n}},async fetchRecommendedWallets(){try{pt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=Ce.state,n=[...e??[],...r??[]].filter(Boolean),s=te.getRequestedCaipNetworkIds().join(","),i={page:1,entries:Wk,include:t,exclude:n,chains:s},{data:o,count:a}=await Qe.fetchWallets(i),c=Te.getRecentWallets(),u=o.map(d=>d.image_id).filter(Boolean),l=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...u,...l].map(d=>Qe._fetchWalletImage(d))),pt.recommended=o,pt.allRecommended=o,pt.count=a??0}catch{}finally{pt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=Ce.state,s=te.getRequestedCaipNetworkIds().join(","),i=[...pt.recommended.map(({id:d})=>d),...r??[],...n??[]].filter(Boolean),o={page:t,entries:tpe,include:e,exclude:i,chains:s},{data:a,count:c,mobileFilteredOutWalletsLength:u}=await Qe.fetchWallets(o);pt.mobileFilteredOutWalletsLength=u+(pt.mobileFilteredOutWalletsLength??0);const l=a.slice(0,rpe).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(l.map(d=>Qe._fetchWalletImage(d))),pt.wallets=Ue.uniqueBy([...pt.wallets,...Qe._filterOutExtensions(a)],"id").filter(d=>{var f;return(f=d.chains)==null?void 0:f.some(h=>s.includes(h))}),pt.count=c>pt.count?c:pt.count,pt.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await Qe.fetchWallets(e);r&&r.forEach(n=>{pt.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=Ce.state,s=te.getRequestedCaipNetworkIds().join(",");pt.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:r,exclude:n,chains:s},{data:o}=await Qe.fetchWallets(i);bt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Qe._fetchWalletImage(c)),Ue.wait(300)]),pt.search=Qe._filterOutExtensions(o)},initPromise(t,e){const r=pt.promises[t];return r||(pt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0,fetchWalletRanks:s=!0}={}){const i=[t&&Qe.initPromise("connectorImages",Qe.fetchConnectorImages),e&&Qe.initPromise("featuredWallets",Qe.fetchFeaturedWallets),r&&Qe.initPromise("recommendedWallets",Qe.fetchRecommendedWallets),n&&Qe.initPromise("networkImages",Qe.fetchNetworkImages),s&&Qe.initPromise("walletRanks",Qe.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Ce.state.features)!=null&&t.analytics&&Qe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await _s.get({path:"/getAnalyticsConfig",params:Qe._getSdkProperties()});Ce.setFeatures({analytics:t})}catch{Ce.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){pt.featured=pt.allFeatured,pt.recommended=pt.allRecommended;return}const e=te.getRequestedCaipNetworkIds().join(",");pt.featured=pt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.recommended=pt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.filteredWallets=pt.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))})},clearFilterByNamespaces(){pt.filteredWallets=[]},setFilterByNamespace(t){if(!t){pt.featured=pt.allFeatured,pt.recommended=pt.allRecommended;return}const e=te.getRequestedCaipNetworkIds().join(",");pt.featured=pt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.recommended=pt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.filteredWallets=pt.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))})}},npe=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],cr=jr({view:"Connect",history:["Connect"],transactionStack:[]}),spe={state:cr,subscribeKey(t,e){return Zn(cr,t,e)},pushTransactionStack(t){cr.transactionStack.push(t)},popTransactionStack(t){const e=cr.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:s}=e;switch(t){case"success":r==null||r();break;case"error":n==null||n(),st.goBack();break;case"cancel":s==null||s(),st.goBack();break}},push(t,e){let r=t,n=e;Qe.state.plan.hasExceededUsageLimit&&npe.includes(t)&&(r="UsageExceeded",n=void 0),r!==cr.view&&(cr.view=r,cr.history.push(r),cr.data=n)},reset(t,e){cr.view=t,cr.history=[t],cr.data=e},replace(t,e){cr.history.at(-1)===t||(cr.view=t,cr.history[cr.history.length-1]=t,cr.data=e)},goBack(){var n,s;const t=te.state.activeCaipAddress,e=st.state.view==="ConnectingFarcaster",r=!t&&e;if(cr.history.length>1){cr.history.pop();const[i]=cr.history.slice(-1);i&&(t&&i==="Connect"?cr.view="Account":cr.view=i)}else Nt.close();(n=cr.data)!=null&&n.wallet&&(cr.data.wallet=void 0),(s=cr.data)!=null&&s.redirectView&&(cr.data.redirectView=void 0),setTimeout(()=>{var i,o,a;if(r){te.setAccountProp("farcasterUrl",void 0,te.state.activeChain);const c=Ne.getAuthConnector();(i=c==null?void 0:c.provider)==null||i.reload();const u=C1(Ce.state);(a=(o=c==null?void 0:c.provider)==null?void 0:o.syncDappData)==null||a.call(o,{metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType})}},100)},goBackToIndex(t){if(cr.history.length>1){cr.history=cr.history.slice(0,t+1);const[e]=cr.history.slice(-1);e&&(cr.view=e)}},goBackOrCloseModal(){st.state.history.length>1?st.goBack():Nt.close()}},st=To(spe),_c=jr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),cR={state:_c,subscribe(t){return Kn(_c,()=>t(_c))},setThemeMode(t){_c.themeMode=t;try{const e=Ne.getAuthConnector();if(e){const r=cR.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:I1(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){_c.themeVariables={..._c.themeVariables,...t};try{const e=Ne.getAuthConnector();if(e){const r=cR.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:I1(_c.themeVariables,_c.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return C1(_c)}},ri=To(cR),sY=Object.fromEntries(tZ.map(t=>[t,void 0])),ipe=Object.fromEntries(tZ.map(t=>[t,!0])),zt=jr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:sY,filterByNamespaceMap:ipe}),ope={state:zt,subscribe(t){return Kn(zt,()=>{t(zt)})},subscribeKey(t,e){return Zn(zt,t,e)},initialize(t){t.forEach(e=>{const r=Te.getConnectedConnectorId(e);r&&Ne.setConnectorId(r,e)})},setActiveConnector(t){t&&(zt.activeConnector=S1(t))},setConnectors(t){t.filter(s=>!zt.allConnectors.some(i=>i.id===s.id&&Ne.getConnectorName(i.name)===Ne.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&zt.allConnectors.push(S1(s))});const r=Ne.getEnabledNamespaces(),n=Ne.getEnabledConnectors(r);zt.connectors=Ne.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(zt.filterByNamespaceMap).forEach(e=>{zt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{zt.filterByNamespaceMap[e]=!0}),Ne.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){zt.filterByNamespaceMap[t]=e,Ne.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ne.getEnabledNamespaces(),e=Ne.getEnabledConnectors(t),r=Ne.areAllNamespacesEnabled();zt.connectors=Ne.mergeMultiChainConnectors(e),r?Qe.clearFilterByNamespaces():Qe.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(zt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return zt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(zt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ne.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const s=n[0],i=(s==null?void 0:s.id)===Ee.CONNECTOR_ID.AUTH;n.length>1&&s?r.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...n],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&r.push(s)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,s=Ne.getConnectorName(n);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===r.chain)||i.push(r),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===Ee.CONNECTOR_ID.AUTH){const s=t,i=C1(Ce.state),o=ri.getSnapshot().themeMode,a=ri.getSnapshot().themeVariables;(r=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(n=s==null?void 0:s.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:I1(a,o)}),Ne.setConnectors([t])}else Ne.setConnectors([t])},getAuthConnector(t){var n;const e=t||te.state.activeChain,r=zt.connectors.find(s=>s.id===Ee.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return zt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return zt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||te.state.activeChain;return zt.allConnectors.filter(i=>i.chain===n).find(i=>{var o;return i.explorerId===t||((o=i.info)==null?void 0:o.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="AUTH")return;const e=t,r=C1(Ce.state),n=ri.getSnapshot().themeMode,s=ri.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:s,w3mThemeVariables:I1(s,n)})},getConnectorsByNamespace(t){const e=zt.allConnectors.filter(r=>r.chain===t);return Ne.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return te.checkIfSmartAccountEnabled()&&ks(t)===cn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){var n;const e=(n=st.state.data)==null?void 0:n.redirectView,r=Ne.getConnector({id:t.id,rdns:t.rdns});qhe.handleMobileDeeplinkRedirect((r==null?void 0:r.explorerId)||t.id,te.state.activeChain),r?st.push("ConnectingExternal",{connector:r,wallet:t,redirectView:e}):st.push("ConnectingWalletConnect",{wallet:t,redirectView:e})},getConnectors(t){return t?Ne.getConnectorsByNamespace(t):Ne.mergeMultiChainConnectors(zt.allConnectors)},setFilterByNamespace(t){zt.filterByNamespace=t,zt.connectors=Ne.getConnectors(t),Qe.setFilterByNamespace(t)},setConnectorId(t,e){t&&(zt.activeConnectorIds={...zt.activeConnectorIds,[e]:t},Te.setConnectedConnectorId(e,t))},removeConnectorId(t){zt.activeConnectorIds={...zt.activeConnectorIds,[t]:void 0},Te.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return zt.activeConnectorIds[t]},isConnected(t){return t?!!zt.activeConnectorIds[t]:Object.values(zt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){zt.activeConnectorIds={...sY}},extendConnectorsWithExplorerWallets(t){zt.allConnectors.forEach(n=>{const s=t.find(i=>{var o;return i.id===n.id||i.rdns&&i.rdns===((o=n.info)==null?void 0:o.rdns)});s&&(n.explorerWallet=s)});const e=Ne.getEnabledNamespaces(),r=Ne.getEnabledConnectors(e);zt.connectors=Ne.mergeMultiChainConnectors(r)}},Ne=To(ope),ape=1e3,Xg={checkNamespaceConnectorId(t,e){return Ne.getConnectorId(t)===e},isSocialProvider(t){return Lt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&Ne.setActiveConnector(e),s==null||s(Ue.isMobile()&&t),n){const u=Nt.subscribeKey("open",l=>{l||(st.state.view!==n&&st.replace(n),u(),a(new Error("Modal closed")))})}const c=te.subscribeKey("activeCaipAddress",u=>{u&&(i==null||i(),r&&Nt.close(),c(),o(mn.parseCaipAddress(u)))})})},connectExternal(t){return new Promise((e,r)=>{const n=te.subscribeKey("activeCaipAddress",s=>{s&&(Nt.close(),n(),e(mn.parseCaipAddress(s)))});Me.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:s}){let i,o=!1,a=null;const c=e||te.state.activeChain,u=te.subscribeKey("activeCaipAddress",l=>{l&&(r&&Nt.close(),u())});return new Promise((l,d)=>{async function f(p){var m;if((m=p.data)!=null&&m.resultUri)if(p.origin===Ee.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",f,!1);try{const y=Ne.getAuthConnector(c);if(y&&!o){i&&i.close(),o=!0;const E=p.data.resultUri;bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:t}}),Te.setConnectedSocialProvider(t),await Me.connectExternal({id:y.id,type:y.type,socialUri:E},y.chain);const w=te.state.activeCaipAddress;if(!w){d(new Error("Failed to connect"));return}l(mn.parseCaipAddress(w)),bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:t}})}}catch(y){bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:Ue.parseError(y)}}),d(new Error("Failed to connect"))}}else bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:"Untrusted Origin"}})}async function h(){if(bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"){n==null||n();const p=Nt.subscribeKey("open",y=>{!y&&t==="farcaster"&&(d(new Error("Popup closed")),s==null||s(),p())}),m=Ne.getAuthConnector();if(m){const y=te.getAccountData(c);if(!(y!=null&&y.farcasterUrl))try{const{url:E}=await m.provider.getFarcasterUri();te.setAccountProp("farcasterUrl",E,c)}catch{d(new Error("Failed to connect to farcaster"))}}}else{const p=Ne.getAuthConnector();a=Ue.returnOpenHref(`${Ee.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(p){const{uri:m}=await p.provider.getSocialRedirectUri({provider:t});if(a&&m){a.location.href=m,i=a;const y=setInterval(()=>{i!=null&&i.closed&&!o&&(d(new Error("Popup closed")),clearInterval(y))},1e3);window.addEventListener("message",f,!1)}else a==null||a.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((s,i)=>{if(r==null||r(),e){const a=Nt.subscribeKey("open",c=>{c||(st.state.view!==e&&st.replace(e),a(),i(new Error("Modal closed")))})}const o=te.subscribeKey("activeCaipAddress",a=>{a&&(n==null||n(),t&&Nt.close(),o(),s(mn.parseCaipAddress(a)))})})},async updateEmail(){const t=Te.getConnectedConnectorId(te.state.activeChain),e=Ne.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==Ee.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await Nt.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(Nt.close(),clearInterval(i),o(),n({email:a}))},ape),o=Nt.subscribeKey("open",a=>{a||(st.state.view!=="Connect"&&st.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return te.checkIfSmartAccountEnabled()&&ks(t)===cn.ACCOUNT_TYPES.EOA}};function iY(){var n,s;const t=((n=te.state.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((s=te.state.activeCaipNetwork)==null?void 0:s.id)||1,r=Lt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function ks(t){var r;return(r=te.getAccountData(t))==null?void 0:r.preferredAccountType}function Bb(t){var e,r;return t?(r=(e=te.state.chains.get(t))==null?void 0:e.networkState)==null?void 0:r.caipNetwork:te.state.activeCaipNetwork}const SI={getConnectionStatus(t,e){const r=Ne.state.activeConnectorIds[e],n=Me.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const i=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:i}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){var a;const e=!!((a=Ce.state.remoteFeatures)!=null&&a.multiWallet),r=Ne.state.activeConnectorIds[t],n=Me.getConnections(t),i=(Me.state.recentConnections.get(t)??[]).filter(c=>Ne.getConnectorById(c.connectorId)),o=SI.excludeExistingConnections([...n.map(c=>c.connectorId),...r?[r]:[]],i);return e?{connections:n,recentConnections:o}:{connections:n.filter(c=>c.connectorId.toLowerCase()===(r==null?void 0:r.toLowerCase())),recentConnections:[]}}},Mr=jr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),cpe={state:Mr,subscribe(t){return Kn(Mr,()=>t(Mr))},setLastNetworkInView(t){Mr.lastNetworkInView=t},async fetchTransactions(t){var e;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Mr.loading=!0;try{const r=await at.fetchTransactions({account:t,cursor:Mr.next,chainId:(e=te.state.activeCaipNetwork)==null?void 0:e.caipNetworkId}),n=SS.filterSpamTransactions(r.data),s=SS.filterByConnectedChain(n),i=[...Mr.transactions,...s];Mr.loading=!1,Mr.transactions=i,Mr.transactionsByYear=SS.groupTransactionsByYearAndMonth(Mr.transactionsByYear,s),Mr.empty=i.length===0,Mr.next=r.next?r.next:void 0}catch{const n=te.state.activeChain;bt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Ce.state.projectId,cursor:Mr.next,isSmartAccount:ks(n)===cn.ACCOUNT_TYPES.SMART_ACCOUNT}}),tc.showError("Failed to fetch transactions"),Mr.loading=!1,Mr.empty=!0,Mr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const s=new Date(n.metadata.minedAt).getFullYear(),i=new Date(n.metadata.minedAt).getMonth(),o=r[s]??{},c=(o[i]??[]).filter(u=>u.id!==n.id);r[s]={...o,[i]:[...c,n].sort((u,l)=>new Date(l.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>{var s;return((s=n.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var n;const e=(n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Mr.next=void 0},resetTransactions(){Mr.transactions=[],Mr.transactionsByYear={},Mr.lastNetworkInView=void 0,Mr.loading=!1,Mr.empty=!1,Mr.next=void 0}},SS=To(cpe,"API_ERROR"),$t=jr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let nf;const upe={state:$t,subscribe(t){return Kn($t,()=>t($t))},subscribeKey(t,e){return Zn($t,t,e)},_getClient(){return $t._client},setClient(t){$t._client=S1(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);Me.syncStorageConnections(e)},syncStorageConnections(t){const e=Te.getConnections(),r=t??Array.from(te.state.chains.keys());for(const n of r){const s=e[n]??[],i=new Map($t.recentConnections);i.set(n,s),$t.recentConnections=i}},getConnections(t){return t?$t.connections.get(t)??[]:[]},hasAnyConnection(t){const e=Me.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){var r,n,s,i;const e=Ue.isTelegram()||Ue.isSafari()&&Ue.isIos();if(t==="always"||t==="auto"&&e){if(nf){await nf,nf=void 0;return}if(!Ue.isPairingExpired($t==null?void 0:$t.wcPairingExpiry)){const o=$t.wcUri;$t.wcUri=o;return}nf=(n=(r=Me._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r).catch(()=>{}),Me.state.status="connecting",await nf,nf=void 0,$t.wcPairingExpiry=void 0,Me.state.status="connected"}else await((i=(s=Me._getClient())==null?void 0:s.connectWalletConnect)==null?void 0:i.call(s))},async connectExternal(t,e,r=!0){var o,a,c;const n=await((a=(o=Me._getClient())==null?void 0:o.connectExternal)==null?void 0:a.call(o,t));r&&te.setActiveNamespace(e);const s=Ne.state.allConnectors.find(u=>u.id===(t==null?void 0:t.id)),i=t.type==="AUTH"?"email":"browser";return bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:i,name:(s==null?void 0:s.name)||"Unknown",view:st.state.view,walletRank:(c=s==null?void 0:s.explorerWallet)==null?void 0:c.order}}),n},async reconnectExternal(t){var r,n;await((n=(r=Me._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||te.state.activeChain;e&&Ne.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var n;if(!e)return;Nt.setLoading(!0,te.state.activeChain);const r=Ne.getAuthConnector();r&&(te.setAccountProp("preferredAccountType",t,e),await r.provider.setPreferredAccount(t),Te.setPreferredAccountTypes(Object.entries(te.state.chains).reduce((s,[i,o])=>{const a=i,c=ks(a);return c!==void 0&&(s[a]=c),s},{})),await Me.reconnectExternal(r),Nt.setLoading(!1,te.state.activeChain),bt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Me._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=Me._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=Me._getClient())==null?void 0:r.formatUnits(t,e)},updateBalance(t){var e;return(e=Me._getClient())==null?void 0:e.updateBalance(t)},async sendTransaction(t){var e;return(e=Me._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Me._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Me._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Me._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Me._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Me._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Me._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Me._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=Me._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){$t.wcUri=void 0,$t.wcPairingExpiry=void 0,$t.wcLinking=void 0,$t.recentWallet=void 0,$t.status="disconnected",SS.resetTransactions(),Te.deleteWalletConnectDeepLink(),Te.deleteRecentWallet()},resetUri(){$t.wcUri=void 0,$t.wcPairingExpiry=void 0,nf=void 0},finalizeWcConnection(t){var n,s;const{wcLinking:e,recentWallet:r}=Me.state;e&&Te.setWalletConnectDeepLink(e),r&&Te.setAppKitRecent(r),t&&bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:((s=(n=st.state.data)==null?void 0:n.wallet)==null?void 0:s.name)||"Unknown",view:st.state.view,walletRank:r==null?void 0:r.order}})},setWcBasic(t){$t.wcBasic=t},setUri(t){$t.wcUri=t,$t.wcPairingExpiry=Ue.getPairingExpiry()},setWcLinking(t){$t.wcLinking=t},setWcError(t){$t.wcError=t,$t.buffering=!1},setRecentWallet(t){$t.recentWallet=t},setBuffering(t){$t.buffering=t},setStatus(t){$t.status=t},setIsSwitchingConnection(t){$t.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){var n;try{await((n=Me._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e,initialDisconnect:r}))}catch(s){throw new Qh("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},async disconnectConnector({id:t,namespace:e}){var r;try{await((r=Me._getClient())==null?void 0:r.disconnectConnector({id:t,namespace:e}))}catch(n){throw new Qh("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map($t.connections);r.set(e,t),$t.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){var i,o;const r=te.getAccountData(e),n=(o=(i=r==null?void 0:r.user)==null?void 0:i.accounts)==null?void 0:o.find(a=>a.type==="smartAccount"),s=n&&n.address.toLowerCase()===t.toLowerCase()&&Xg.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await Me.setPreferredAccountType(s,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=Ne.getConnectorById(t.connectorId),s=t.connectorId===Ee.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)r&&await Me.handleAuthAccountSwitch({address:r,namespace:e});else{const i=await Me.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e);return i==null?void 0:i.address}return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){var u,l;const s=Ne.getConnectorById(t.connectorId),i=(l=(u=t.auth)==null?void 0:u.name)==null?void 0:l.toLowerCase(),o=t.connectorId===Ee.CONNECTOR_ID.AUTH,a=t.connectorId===Ee.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&Xg.isSocialProvider(i)){const{address:d}=await Xg.connectSocial({social:i,closeModalOnConnect:n,onOpenFarcaster(){Nt.open({view:"ConnectingFarcaster"})},onConnect(){st.replace("ProfileWallets")}});c=d}else{const{address:d}=await Xg.connectEmail({closeModalOnConnect:n,onOpen(){Nt.open({view:"EmailLogin"})},onConnect(){st.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await Xg.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:n,onOpen(f){const h=f?"AllWallets":"ConnectingWalletConnect";Nt.state.open?st.push(h):Nt.open({view:h})},onConnect(){st.replace("ProfileWallets")}});c=d}else{const d=await Me.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&r&&await Me.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:s}){var c;let i;const o=(c=te.getAccountData(r))==null?void 0:c.caipAddress;if(o){const{address:u}=mn.parseCaipAddress(o);i=u}const a=SI.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const u=await Me.handleActiveConnection({connection:t,namespace:r,address:e});if(i&&u){const l=u.toLowerCase()!==i.toLowerCase();s==null||s({address:u,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const u=await Me.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});u&&(s==null||s({address:u,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},Me=To(upe),wx={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return GT(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}};let Ex;async function Kk(){if(!Ex){const{createPublicClient:t,http:e,defineChain:r}=await vn(async()=>{const{createPublicClient:n,http:s,defineChain:i}=await import("./index-BOSr73nT.js").then(o=>o.i);return{createPublicClient:n,http:s,defineChain:i}},__vite__mapDeps([0,1,2]),import.meta.url);Ex={createPublicClient:t,http:e,defineChain:r}}return Ex}const uR={getBlockchainApiRpcUrl(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()},async getViemChain(t){const{defineChain:e}=await Kk(),{chainId:r}=mn.parseCaipNetworkId(t.caipNetworkId);return e({...t,id:Number(r)})},async createViemPublicClient(t){const{createPublicClient:e,http:r}=await Kk(),n=Ce.state.projectId,s=await uR.getViemChain(t);if(!s)throw new Error(`Chain ${t.caipNetworkId} not found in viem/chains`);return e({chain:s,transport:r(uR.getBlockchainApiRpcUrl(t.caipNetworkId,n))})}},k8={async getMyTokensWithBalance(t){var a;const e=(a=te.getAccountData())==null?void 0:a.address,r=te.state.activeCaipNetwork,n=Ne.getConnectorId("eip155")===Ee.CONNECTOR_ID.AUTH;if(!e||!r)return[];const s=`${r.caipNetworkId}:${e}`,i=Te.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(r.chainNamespace===Ee.CHAIN.EVM&&n){const c=await this.getEIP155Balances(e,r);if(c)return this.filterLowQualityTokens(c)}const o=await at.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var r,n;try{const s=wx.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await Me.getCapabilities(t);if(!((n=(r=i==null?void 0:i[s])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;const o=await Me.walletGetAssets({account:t,chainFilter:[s]});if(!wx.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(u=>wx.createBalance(u,e.caipNetworkId));return Te.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:t,assetAddress:e,caipNetwork:r}){const n=await uR.createViemPublicClient(r),{address:s}=mn.parseCaipAddress(t),[{result:i},{result:o},{result:a},{result:c}]=await n.multicall({contracts:[{address:e,functionName:"name",args:[],abi:lv},{address:e,functionName:"symbol",args:[],abi:lv},{address:e,functionName:"balanceOf",args:[s],abi:lv},{address:e,functionName:"decimals",args:[],abi:lv}]});return{name:i,symbol:o,decimals:c,balance:a&&c?GT(a,c):"0"}}},vx={adapters:{}},oY={state:vx,initialize(t){vx.adapters={...t}},get(t){return vx.adapters[t]}},II={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},$s=jr({providers:{...II},providerIds:{...II}}),Zt={state:$s,subscribeKey(t,e){return Zn($s,t,e)},subscribe(t){return Kn($s,()=>{t($s)})},subscribeProviders(t){return Kn($s.providers,()=>t($s.providers))},setProvider(t,e){t&&e&&($s.providers[t]=S1(e))},getProvider(t){if(t)return $s.providers[t]},setProviderId(t,e){e&&($s.providerIds[t]=e)},getProviderId(t){if(t)return $s.providerIds[t]},reset(){$s.providers={...II},$s.providerIds={...II}},resetChain(t){$s.providers[t]=void 0,$s.providerIds[t]=void 0}},Mp=jr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ra={state:Mp,subscribe(t){return Kn(Mp,()=>t(Mp))},subscribeOpen(t){return Zn(Mp,"open",t)},set(t){Object.assign(Mp,{...Mp,...t})}},lpe={async getTokenList(t){var n;const e=await at.fetchSwapTokens({chainId:t});return((n=e==null?void 0:e.tokens)==null?void 0:n.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=te.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const r=(e=await(Me==null?void 0:Me.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:r,fast:r,instant:r};case"eip155":default:return await at.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const s=await at.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&r&&n){const i=Me.parseUnits(r,n)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await k8.getMyTokensWithBalance(t);return te.setAccountProp("tokenBalance",e,te.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:iY(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]},async handleSwapError(t){var e,r;try{const n=t==null?void 0:t.cause;if(!(n!=null&&n.json))return;const s=await n.json(),i=(r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description;return i!=null&&i.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},Vt=jr({tokenBalances:[],loading:!1}),dpe={state:Vt,subscribe(t){return Kn(Vt,()=>t(Vt))},subscribeKey(t,e){return Zn(Vt,t,e)},setToken(t){t&&(Vt.token=S1(t))},setTokenAmount(t){Vt.sendTokenAmount=t},setReceiverAddress(t){Vt.receiverAddress=t},setReceiverProfileImageUrl(t){Vt.receiverProfileImageUrl=t},setReceiverProfileName(t){Vt.receiverProfileName=t},setNetworkBalanceInUsd(t){Vt.networkBalanceInUSD=t},setLoading(t){Vt.loading=t},getSdkEventProperties(t){var e,r;return{message:Ue.parseError(t),isSmartAccount:ks(te.state.activeChain)===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((e=Vt.token)==null?void 0:e.symbol)||"",amount:Vt.sendTokenAmount??0,network:((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}},async sendToken(){var t;try{switch(Tt.setLoading(!0),(t=te.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Tt.sendEvmToken();return;case"solana":await Tt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw Qa.isUserRejectedRequestError(e)?new _8(e):e}finally{Tt.setLoading(!1)}},async sendEvmToken(){var r,n,s;const t=te.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=ks(t);if(!Tt.state.sendTokenAmount||!Tt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Tt.state.token)throw new Error("A token is required");if((r=Tt.state.token)!=null&&r.address){bt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Tt.state.token.address,amount:Tt.state.sendTokenAmount,network:((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}});const{hash:i}=await Tt.sendERC20Token({receiverAddress:Tt.state.receiverAddress,tokenAddress:Tt.state.token.address,sendTokenAmount:Tt.state.sendTokenAmount,decimals:Tt.state.token.quantity.decimals});i&&(Vt.hash=i)}else{bt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Tt.state.token.symbol||"",amount:Tt.state.sendTokenAmount,network:((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}});const{hash:i}=await Tt.sendNativeToken({receiverAddress:Tt.state.receiverAddress,sendTokenAmount:Tt.state.sendTokenAmount,decimals:Tt.state.token.quantity.decimals});i&&(Vt.hash=i)}},async fetchTokenBalance(t){var o,a,c;Vt.loading=!0;const e=te.state.activeChain,r=(o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,n=(a=te.state.activeCaipNetwork)==null?void 0:a.chainNamespace,s=((c=te.getAccountData(e))==null?void 0:c.caipAddress)??te.state.activeCaipAddress,i=s?Ue.getPlainAddress(s):void 0;if(Vt.lastRetry&&!Ue.isAllowedRetry(Vt.lastRetry,30*Lt.ONE_SEC_MS))return Vt.loading=!1,[];try{if(i&&r&&n){const u=await k8.getMyTokensWithBalance();return Vt.tokenBalances=u,Vt.lastRetry=void 0,u}}catch(u){Vt.lastRetry=Date.now(),t==null||t(u),tc.showError("Token Balance Unavailable")}finally{Vt.loading=!1}return[]},fetchNetworkBalance(){if(Vt.tokenBalances.length===0)return;const t=lpe.mapBalancesToSwapTokens(Vt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===iY());e&&(Vt.networkBalanceInUSD=e?_ce.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var o,a,c,u;st.pushTransactionStack({});const e=t.receiverAddress,r=(o=te.getAccountData())==null?void 0:o.address,n=Me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i=await Me.sendTransaction({chainNamespace:Ee.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)});return bt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:ks("eip155")===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=Tt.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=te.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||"",hash:i||""}}),(u=Me._getClient())==null||u.updateBalance("eip155"),Tt.resetSend(),{hash:i}},async sendERC20Token(t){var n,s,i;st.pushTransactionStack({onSuccess(){st.replace("Account")}});const e=Me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),r=(n=te.getAccountData())==null?void 0:n.address;if(r&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const o=Ue.getPlainAddress(t.tokenAddress);if(!o)throw new Error("SendController:sendERC20Token - tokenAddress is required");const a=await Me.writeContract({fromAddress:r,tokenAddress:o,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Ice.getERC20Abi(o),chainNamespace:Ee.CHAIN.EVM});return bt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:ks("eip155")===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=Tt.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||"",hash:a||""}}),Tt.resetSend(),{hash:a}}return{hash:void 0}},async sendSolanaToken(){var r,n,s;if(!Tt.state.sendTokenAmount||!Tt.state.receiverAddress)throw new Error("An amount and receiver address are required");st.pushTransactionStack({onSuccess(){st.replace("Account")}});let t;Tt.state.token&&Tt.state.token.address!==Lt.SOLANA_NATIVE_TOKEN_ADDRESS&&(Ue.isCaipAddress(Tt.state.token.address)?t=Ue.getPlainAddress(Tt.state.token.address):t=Tt.state.token.address);const e=await Me.sendTransaction({chainNamespace:"solana",tokenMint:t,to:Tt.state.receiverAddress,value:Tt.state.sendTokenAmount});e&&(Vt.hash=e),(r=Me._getClient())==null||r.updateBalance("solana"),bt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:((n=Tt.state.token)==null?void 0:n.symbol)||"",amount:Tt.state.sendTokenAmount,network:((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||"",hash:e||""}}),Tt.resetSend()},resetSend(){Vt.token=void 0,Vt.sendTokenAmount=void 0,Vt.receiverAddress=void 0,Vt.receiverProfileImageUrl=void 0,Vt.receiverProfileName=void 0,Vt.loading=!1,Vt.tokenBalances=[]}},Tt=To(dpe),_x={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},mv={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Le=jr({chains:hce(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),aY={state:Le,subscribe(t){return Kn(Le,()=>{t(Le)})},subscribeKey(t,e){return Zn(Le,t,e)},subscribeAccountStateProp(t,e,r){var s;const n=r||Le.activeChain;return n?Zn(((s=Le.chains.get(n))==null?void 0:s.accountState)||{},t,e):()=>{}},subscribeChainProp(t,e,r){let n;return Kn(Le.chains,()=>{var i;const s=r||Le.activeChain;if(s){const o=(i=Le.chains.get(s))==null?void 0:i[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:s}=Te.getActiveNetworkProps(),i=e==null?void 0:e.find(l=>l.id.toString()===(n==null?void 0:n.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===s)||(t==null?void 0:t[0]),c=t.map(l=>l.namespace).filter(l=>l!==void 0),u=Ce.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Le.noAdapters=!0),Le.noAdapters||(Le.activeChain=a==null?void 0:a.namespace,Le.activeCaipNetwork=i,te.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),Le.activeChain&&ra.set({activeChain:a==null?void 0:a.namespace})),u.forEach(l=>{const d=e==null?void 0:e.filter(p=>p.chainNamespace===l),f=Te.getPreferredAccountTypes()||{},h={...Ce.state.defaultAccountTypes,...f};te.state.chains.set(l,{namespace:l,networkState:jr({...mv,caipNetwork:d==null?void 0:d[0]}),accountState:jr({..._x,preferredAccountType:h[l]}),caipNetworks:d??[],...r}),te.setRequestedCaipNetworks(d??[],l)})},removeAdapter(t){var e,r;if(Le.activeChain===t){const n=Array.from(Le.chains.entries()).find(([s])=>s!==t);if(n){const s=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];s&&te.setActiveCaipNetwork(s)}}Le.chains.delete(t)},addAdapter(t,{connectionControllerClient:e},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Le.chains.set(t.namespace,{namespace:t.namespace,networkState:{...mv,caipNetwork:r[0]},accountState:{..._x},caipNetworks:r,connectionControllerClient:e}),te.setRequestedCaipNetworks((r==null?void 0:r.filter(n=>n.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=Le.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(s=>s.id===t.id)||n.push(t),Le.chains.set(t.chainNamespace,{...e,caipNetworks:n}),te.setRequestedCaipNetworks(n,t.chainNamespace),Ne.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var n,s,i;const r=Le.chains.get(t);if(r){const o=((n=Le.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((s=r.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=r==null?void 0:r.caipNetworks)!=null&&i[0])&&te.setActiveCaipNetwork(r.caipNetworks[0]),Le.chains.set(t,{...r,caipNetworks:a}),te.setRequestedCaipNetworks(a||[],t),a.length===0&&Ne.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=Le.chains.get(t);r&&(r.networkState={...r.networkState||mv,...e},Le.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Le.chains.get(t);if(n){const s={...n.accountState||_x,...e};Le.chains.set(t,{...n,accountState:s}),(Le.chains.size===1||Le.activeChain===t)&&e.caipAddress&&(Le.activeCaipAddress=e.caipAddress)}},setChainNetworkData(t,e){if(!t)return;const r=Le.chains.get(t);if(r){const n={...r.networkState||mv,...e};Le.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){te.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){var n,s;Le.activeChain=t;const e=t?Le.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(Le.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,Le.activeCaipNetwork=r,te.setChainNetworkData(t,{caipNetwork:r}),Te.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),ra.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var i,o;if(!t)return;const e=Le.activeChain===t.chainNamespace;e||te.setIsSwitchingNamespace(!0);const r=Le.chains.get(t.chainNamespace);Le.activeChain=t.chainNamespace,Le.activeCaipNetwork=t,te.setChainNetworkData(t.chainNamespace,{caipNetwork:t});let n=(i=r==null?void 0:r.accountState)==null?void 0:i.address;if(n)Le.activeCaipAddress=`${t.chainNamespace}:${t.id}:${n}`;else if(e&&Le.activeCaipAddress){const{address:a}=mn.parseCaipAddress(Le.activeCaipAddress);n=a,Le.activeCaipAddress=`${t.caipNetworkId}:${n}`}else Le.activeCaipAddress=void 0;te.setChainAccountData(t.chainNamespace,{address:n,caipAddress:Le.activeCaipAddress}),Tt.resetSend(),ra.set({activeChain:Le.activeChain,selectedNetworkId:(o=Le.activeCaipNetwork)==null?void 0:o.caipNetworkId}),Te.setActiveCaipNetworkId(t.caipNetworkId),!te.checkIfSupportedNetwork(t.chainNamespace)&&Ce.state.enableNetworkSwitch&&!Ce.state.allowUnsupportedChain&&!Me.state.wcBasic&&te.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=Le.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==te.state.activeChain,r=(s=te.getNetworkData(t))==null?void 0:s.caipNetwork,n=te.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await te.switchActiveNetwork(n)},async switchActiveNetwork(t,{throwOnFailure:e=!1}={}){var o;const r=te.state.activeChain;if(!r)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=Zt.getProviderId(Le.activeChain)==="AUTH",s=(o=te.getAccountData(r))==null?void 0:o.address,i=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t.chainNamespace);try{if(s&&t.chainNamespace===r||n&&i){const a=oY.get(t.chainNamespace);if(!a)throw new Error("Adapter not found");await a.switchNetwork({caipNetwork:t})}te.setActiveCaipNetwork(t)}catch(a){if(e)throw a}bt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})},getConnectionControllerClient(t){const e=t||Le.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Le.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){var n;const r=(n=Le.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Le.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return Ue.sortRequestedNetworks(r,n).filter(o=>o==null?void 0:o.id)},getAllRequestedCaipNetworks(){const t=[];return Le.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=te.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){te.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=te.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(n));Ne.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return Le.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=te.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){var e,r;return t?(r=(e=Le.chains.get(t))==null?void 0:e.networkState)==null?void 0:r.caipNetwork:Le.activeCaipNetwork},getActiveCaipAddress(){return Le.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;const e=Le.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},setApprovedCaipNetworksData(t,e){te.setAdapterNetworkState(t,e)},checkIfSupportedNetwork(t,e){var s;const r=e||((s=Le.activeCaipNetwork)==null?void 0:s.caipNetworkId),n=te.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){if(!Le.activeChain)return!0;const e=te.getRequestedCaipNetworks(Le.activeChain);return e==null?void 0:e.some(r=>r.id===t)},checkIfSmartAccountEnabled(){var n,s;const t=eZ.caipNetworkIdToNumber((n=Le.activeCaipNetwork)==null?void 0:n.caipNetworkId);if(!Le.activeChain||!t)return!1;const r=((s=En.get(Ze.SMART_ACCOUNT_ENABLED_NETWORKS))==null?void 0:s.split(","))||[];return!!(r!=null&&r.includes(t.toString()))},showUnsupportedChainUI(){Nt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Le.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Lt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){te.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){var s,i;const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=(i=(s=te.state.chains.get(e))==null?void 0:s.accountState)==null?void 0:i.preferredAccountType,n=Ce.state.defaultAccountTypes[e];Le.activeCaipAddress=void 0,te.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),Ne.removeConnectorId(e)},setIsSwitchingNamespace(t){Le.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(Le.chains.forEach(s=>{Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(n=(r=Le.chains.get(s))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var r;const e=t||Le.activeChain;if(e)return(r=te.state.chains.get(e))==null?void 0:r.accountState},getNetworkData(t){var r;const e=t||Le.activeChain;if(e)return(r=te.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const r=te.state.chains.get(t),n=(s=r==null?void 0:r.caipNetworks)==null?void 0:s.find(a=>a.id.toString()===(e==null?void 0:e.toString()));return n||((i=r==null?void 0:r.networkState)==null?void 0:i.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Ne.state.filterByNamespace;return(t?[Le.chains.get(t)]:Array.from(Le.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?te.getRequestedCaipNetworks(t):te.getAllRequestedCaipNetworks()},getCaipNetworkById(t,e){return aY.getCaipNetworks(e).find(r=>r.id.toString()===t.toString()||r.caipNetworkId.toString()===t.toString())},setLastConnectedSIWECaipNetwork(t){Le.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Le.lastConnectedSIWECaipNetwork},async fetchTokenBalance(t){var o,a;const e=te.getAccountData();if(!e)return[];const r=(o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,n=(a=te.state.activeCaipNetwork)==null?void 0:a.chainNamespace,s=te.state.activeCaipAddress,i=s?Ue.getPlainAddress(s):void 0;if(te.setAccountProp("balanceLoading",!0,n),e.lastRetry&&!Ue.isAllowedRetry(e.lastRetry,30*Lt.ONE_SEC_MS))return te.setAccountProp("balanceLoading",!1,n),[];try{if(i&&r&&n){const c=await k8.getMyTokensWithBalance();return te.setAccountProp("tokenBalance",c,n),te.setAccountProp("lastRetry",void 0,n),te.setAccountProp("balanceLoading",!1,n),c}}catch(c){te.setAccountProp("lastRetry",Date.now(),n),t==null||t(c),tc.showError("Token Balance Unavailable")}finally{te.setAccountProp("balanceLoading",!1,n)}return[]},isCaipNetworkDisabled(t){var c;const e=t.chainNamespace,r=!!((c=te.getAccountData(e))!=null&&c.caipAddress),n=te.getAllApprovedCaipNetworkIds(),s=te.getNetworkProp("supportsAllNetworks",e)!==!1,i=Ne.getConnectorId(e),o=Ne.getAuthConnector(),a=i===Ee.CONNECTOR_ID.AUTH&&o;return!r||s||a?!1:!(n!=null&&n.includes(t.caipNetworkId))}},te=To(aY),fpe={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){var f,h;const r=te.state.activeCaipNetwork,n=te.state.activeChain,s=st.state.data;if(t.id===(r==null?void 0:r.id))return;const o=!!((f=te.getAccountData(n))!=null&&f.address),a=!!((h=te.getAccountData(t.chainNamespace))!=null&&h.address),c=t.chainNamespace!==n,l=Ne.getConnectorId(n)===Ee.CONNECTOR_ID.AUTH,d=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(p=>p===t.chainNamespace);e||l&&d?st.push("SwitchNetwork",{...s,network:t}):o&&c&&!a?st.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):st.push("SwitchNetwork",{...s,network:t})}},Vs=jr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),hpe={state:Vs,subscribe(t){return Kn(Vs,()=>t(Vs))},subscribeKey(t,e){return Zn(Vs,t,e)},async open(t){var o,a;const e=t==null?void 0:t.namespace,r=te.state.activeChain,n=e&&e!==r,s=(o=te.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress,i=te.state.noAdapters;if(Me.state.wcBasic?Qe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await Qe.prefetch(),Ne.setFilterByNamespace(t==null?void 0:t.namespace),Nt.setLoading(!0,e),e&&n){const c=((a=te.getNetworkData(e))==null?void 0:a.caipNetwork)||te.getRequestedCaipNetworks(e)[0];c&&(i?(await te.switchActiveNetwork(c),st.push("ConnectingWalletConnectBasic")):fpe.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0}))}else Ce.state.manualWCControl||i&&!s?Ue.isMobile()?st.reset("AllWallets"):st.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?st.reset(t.view,t.data):s?st.reset("Account"):st.reset("Connect");Vs.open=!0,ra.set({open:!0}),bt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=Ce.state.enableEmbedded,e=!!te.state.activeCaipAddress;Vs.open&&bt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Vs.open=!1,st.reset("Connect"),Nt.clearLoading(),t?e?st.replace("Account"):st.push("Connect"):ra.set({open:!1}),Me.resetUri()},setLoading(t,e){e&&Vs.loadingNamespaceMap.set(e,t),Vs.loading=t,ra.set({loading:t})},clearLoading(){Vs.loadingNamespaceMap.clear(),Vs.loading=!1,ra.set({loading:!1})},shake(){Vs.shake||(Vs.shake=!0,setTimeout(()=>{Vs.shake=!1},500))}},Nt=To(hpe),Jb={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},lR={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},ppe={providers:sZ,selectedProvider:null,error:null,purchaseCurrency:Jb,paymentCurrency:lR,purchaseCurrencies:[Jb],paymentCurrencies:[],quotesLoading:!1},Kt=jr(ppe),mpe={state:Kt,subscribe(t){return Kn(Kt,()=>t(Kt))},subscribeKey(t,e){return Zn(Kt,t,e)},setSelectedProvider(t){var e,r;if(t&&t.name==="meld"){const n=te.state.activeChain,s=n===Ee.CHAIN.SOLANA?"SOL":"USDC",i=n?((r=(e=te.state.chains.get(n))==null?void 0:e.accountState)==null?void 0:r.address)??"":"",o=new URL(t.url);o.searchParams.append("publicKey",Pce),o.searchParams.append("destinationCurrencyCode",s),o.searchParams.append("walletAddress",i),o.searchParams.append("externalCustomerId",Ce.state.projectId),Kt.selectedProvider={...t,url:o.toString()}}else Kt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=sZ.filter(n=>e.includes(n.name));Kt.providers=r}else Kt.providers=[]},setPurchaseCurrency(t){Kt.purchaseCurrency=t},setPaymentCurrency(t){Kt.paymentCurrency=t},setPurchaseAmount(t){dR.state.purchaseAmount=t},setPaymentAmount(t){dR.state.paymentAmount=t},async getAvailableCurrencies(){const t=await at.getOnrampOptions();Kt.purchaseCurrencies=t.purchaseCurrencies,Kt.paymentCurrencies=t.paymentCurrencies,Kt.paymentCurrency=t.paymentCurrencies[0]||lR,Kt.purchaseCurrency=t.purchaseCurrencies[0]||Jb,await Qe.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Qe.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Kt.quotesLoading=!0;try{const r=await at.getOnrampQuote({purchaseCurrency:Kt.purchaseCurrency,paymentCurrency:Kt.paymentCurrency,amount:((t=Kt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Kt.purchaseCurrency)==null?void 0:e.symbol});return Kt.quotesLoading=!1,Kt.purchaseAmount=Number(r==null?void 0:r.purchaseAmount.amount),r}catch(r){return Kt.error=r.message,Kt.quotesLoading=!1,null}finally{Kt.quotesLoading=!1}},resetState(){Kt.selectedProvider=null,Kt.error=null,Kt.purchaseCurrency=Jb,Kt.paymentCurrency=lR,Kt.purchaseCurrencies=[Jb],Kt.paymentCurrencies=[],Kt.paymentAmount=void 0,Kt.purchaseAmount=void 0,Kt.quotesLoading=!1}},dR=To(mpe);var gv={exports:{}},Zk;function cY(){if(Zk)return gv.exports;Zk=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(v,A,C){return Function.prototype.apply.call(v,A,C)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:r=function(v){return Object.getOwnPropertyNames(v)};function n(g){console&&console.warn&&console.warn(g)}var s=Number.isNaN||function(v){return v!==v};function i(){i.init.call(this)}gv.exports=i,gv.exports.once=E,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(g){if(typeof g!="number"||g<0||s(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");o=g}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||s(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function c(g){return g._maxListeners===void 0?i.defaultMaxListeners:g._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(v){for(var A=[],C=1;C<arguments.length;C++)A.push(arguments[C]);var x=v==="error",T=this._events;if(T!==void 0)x=x&&T.error===void 0;else if(!x)return!1;if(x){var N;if(A.length>0&&(N=A[0]),N instanceof Error)throw N;var M=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw M.context=N,M}var k=T[v];if(k===void 0)return!1;if(typeof k=="function")e(k,this,A);else for(var B=k.length,U=p(k,B),C=0;C<B;++C)e(U[C],this,A);return!0};function u(g,v,A,C){var x,T,N;if(a(A),T=g._events,T===void 0?(T=g._events=Object.create(null),g._eventsCount=0):(T.newListener!==void 0&&(g.emit("newListener",v,A.listener?A.listener:A),T=g._events),N=T[v]),N===void 0)N=T[v]=A,++g._eventsCount;else if(typeof N=="function"?N=T[v]=C?[A,N]:[N,A]:C?N.unshift(A):N.push(A),x=c(g),x>0&&N.length>x&&!N.warned){N.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=g,M.type=v,M.count=N.length,n(M)}return g}i.prototype.addListener=function(v,A){return u(this,v,A,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(v,A){return u(this,v,A,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(g,v,A){var C={fired:!1,wrapFn:void 0,target:g,type:v,listener:A},x=l.bind(C);return x.listener=A,C.wrapFn=x,x}i.prototype.once=function(v,A){return a(A),this.on(v,d(this,v,A)),this},i.prototype.prependOnceListener=function(v,A){return a(A),this.prependListener(v,d(this,v,A)),this},i.prototype.removeListener=function(v,A){var C,x,T,N,M;if(a(A),x=this._events,x===void 0)return this;if(C=x[v],C===void 0)return this;if(C===A||C.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete x[v],x.removeListener&&this.emit("removeListener",v,C.listener||A));else if(typeof C!="function"){for(T=-1,N=C.length-1;N>=0;N--)if(C[N]===A||C[N].listener===A){M=C[N].listener,T=N;break}if(T<0)return this;T===0?C.shift():m(C,T),C.length===1&&(x[v]=C[0]),x.removeListener!==void 0&&this.emit("removeListener",v,M||A)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(v){var A,C,x;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[v]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[v]),this;if(arguments.length===0){var T=Object.keys(C),N;for(x=0;x<T.length;++x)N=T[x],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=C[v],typeof A=="function")this.removeListener(v,A);else if(A!==void 0)for(x=A.length-1;x>=0;x--)this.removeListener(v,A[x]);return this};function f(g,v,A){var C=g._events;if(C===void 0)return[];var x=C[v];return x===void 0?[]:typeof x=="function"?A?[x.listener||x]:[x]:A?y(x):p(x,x.length)}i.prototype.listeners=function(v){return f(this,v,!0)},i.prototype.rawListeners=function(v){return f(this,v,!1)},i.listenerCount=function(g,v){return typeof g.listenerCount=="function"?g.listenerCount(v):h.call(g,v)},i.prototype.listenerCount=h;function h(g){var v=this._events;if(v!==void 0){var A=v[g];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function p(g,v){for(var A=new Array(v),C=0;C<v;++C)A[C]=g[C];return A}function m(g,v){for(;v+1<g.length;v++)g[v]=g[v+1];g.pop()}function y(g){for(var v=new Array(g.length),A=0;A<v.length;++A)v[A]=g[A].listener||g[A];return v}function E(g,v){return new Promise(function(A,C){function x(N){g.removeListener(v,T),C(N)}function T(){typeof g.removeListener=="function"&&g.removeListener("error",x),A([].slice.call(arguments))}b(g,v,T,{once:!0}),v!=="error"&&w(g,x,{once:!0})})}function w(g,v,A){typeof g.on=="function"&&b(g,"error",v,A)}function b(g,v,A,C){if(typeof g.on=="function")C.once?g.once(v,A):g.on(v,A);else if(typeof g.addEventListener=="function")g.addEventListener(v,function x(T){C.once&&g.removeEventListener(v,x),A(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g)}return gv.exports}var Po=cY();const j8=bg(Po);var Ax={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fR=function(t,e){return fR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},fR(t,e)};function gpe(t,e){fR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hR=function(){return hR=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hR.apply(this,arguments)};function ype(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function bpe(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function wpe(t,e){return function(r,n){e(r,n,t)}}function Epe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function vpe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function _pe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ape(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Cpe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function pR(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uY(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Spe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uY(arguments[e]));return t}function Ipe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ow(t){return this instanceof ow?(this.v=t,this):new ow(t)}function Tpe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(h){return new Promise(function(p,m){i.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(p){d(i[0][3],p)}}function c(f){f.value instanceof ow?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Ppe(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:ow(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function xpe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof pR=="function"?pR(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function Ope(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Rpe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Npe(t){return t&&t.__esModule?t:{default:t}}function Bpe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function kpe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const jpe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return hR},__asyncDelegator:Ppe,__asyncGenerator:Tpe,__asyncValues:xpe,__await:ow,__awaiter:vpe,__classPrivateFieldGet:Bpe,__classPrivateFieldSet:kpe,__createBinding:Ape,__decorate:bpe,__exportStar:Cpe,__extends:gpe,__generator:_pe,__importDefault:Npe,__importStar:Rpe,__makeTemplateObject:Ope,__metadata:Epe,__param:wpe,__read:uY,__rest:ype,__spread:Spe,__spreadArrays:Ipe,__values:pR},Symbol.toStringTag,{value:"Module"})),Yw=JK(jpe);var Cx={},ey={},Yk;function Dpe(){if(Yk)return ey;Yk=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return ey.delay=t,ey}var sf={},Sx={},of={},Jk;function Mpe(){return Jk||(Jk=1,Object.defineProperty(of,"__esModule",{value:!0}),of.ONE_THOUSAND=of.ONE_HUNDRED=void 0,of.ONE_HUNDRED=100,of.ONE_THOUSAND=1e3),of}var Ix={},Qk;function Upe(){return Qk||(Qk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(Ix)),Ix}var Xk;function lY(){return Xk||(Xk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yw;e.__exportStar(Mpe(),t),e.__exportStar(Upe(),t)})(Sx)),Sx}var ej;function Lpe(){if(ej)return sf;ej=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.fromMiliseconds=sf.toMiliseconds=void 0;const t=lY();function e(n){return n*t.ONE_THOUSAND}sf.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return sf.fromMiliseconds=r,sf}var tj;function Fpe(){return tj||(tj=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yw;e.__exportStar(Dpe(),t),e.__exportStar(Lpe(),t)})(Cx)),Cx}var Up={},rj;function Hpe(){if(rj)return Up;rj=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Up.Watch=t,Up.default=t,Up}var Tx={},ty={},nj;function qpe(){if(nj)return ty;nj=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.IWatch=void 0;class t{}return ty.IWatch=t,ty}var sj;function zpe(){return sj||(sj=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Yw.__exportStar(qpe(),t)})(Tx)),Tx}var ij;function $pe(){return ij||(ij=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yw;e.__exportStar(Fpe(),t),e.__exportStar(Hpe(),t),e.__exportStar(zpe(),t),e.__exportStar(lY(),t)})(Ax)),Ax}var je=$pe();class mp{}let Vpe=class extends mp{constructor(e){super()}};const oj=je.FIVE_SECONDS,gp={pulse:"heartbeat_pulse"};let Gpe=class dY extends Vpe{constructor(e){super(e),this.events=new Po.EventEmitter,this.interval=oj,this.interval=(e==null?void 0:e.interval)||oj}static async init(e){const r=new dY(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),je.toMiliseconds(this.interval))}pulse(){this.events.emit(gp.pulse)}};const Wpe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Kpe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Zpe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Ype(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Jpe(t);return}return e}function Jpe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function yv(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Zpe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Wpe.test(t)||Kpe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Ype)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function Qpe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function In(t,...e){try{return Qpe(t(...e))}catch(r){return Promise.reject(r)}}function Xpe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function e0e(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function IS(t){if(Xpe(t))return String(t);if(e0e(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return IS(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const mR="base64:";function t0e(t){return typeof t=="string"?t:mR+s0e(t)}function r0e(t){return typeof t!="string"||!t.startsWith(mR)?t:n0e(t.slice(mR.length))}function n0e(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function s0e(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Qs(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function i0e(...t){return Qs(t.join(":"))}function bv(t){return t=Qs(t),t?t+":":""}function o0e(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function a0e(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const c0e="memory",u0e=()=>{const t=new Map;return{name:c0e,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function l0e(t={}){const e={mounts:{"":t.driver||u0e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(const l of e.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:u,driver:e.mounts[""]}},n=(u,l)=>e.mountpoints.filter(d=>d.startsWith(u)||l&&u.startsWith(d)).map(d=>({relativeBase:u.length>d.length?u.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(u,l)=>{if(e.watching){l=Qs(l);for(const d of e.watchListeners)d(u,l)}},i=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await aj(e.mounts[u],s,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,l,d)=>{const f=new Map,h=p=>{let m=f.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},f.set(p.base,m)),m};for(const p of u){const m=typeof p=="string",y=Qs(m?p:p.key),E=m?void 0:p.value,w=m||!p.options?l:{...l,...p.options},b=r(y);h(b).items.push({key:y,value:E,relativeKey:b.relativeKey,options:w})}return Promise.all([...f.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(u,l={}){u=Qs(u);const{relativeKey:d,driver:f}=r(u);return In(f.hasItem,d,l)},getItem(u,l={}){u=Qs(u);const{relativeKey:d,driver:f}=r(u);return In(f.getItem,d,l).then(h=>yv(h))},getItems(u,l={}){return a(u,l,d=>d.driver.getItems?In(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),l).then(f=>f.map(h=>({key:i0e(d.base,h.key),value:yv(h.value)}))):Promise.all(d.items.map(f=>In(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:yv(h)})))))},getItemRaw(u,l={}){u=Qs(u);const{relativeKey:d,driver:f}=r(u);return f.getItemRaw?In(f.getItemRaw,d,l):In(f.getItem,d,l).then(h=>r0e(h))},async setItem(u,l,d={}){if(l===void 0)return c.removeItem(u);u=Qs(u);const{relativeKey:f,driver:h}=r(u);h.setItem&&(await In(h.setItem,f,IS(l),d),h.watch||s("update",u))},async setItems(u,l){await a(u,l,async d=>{if(d.driver.setItems)return In(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:IS(f.value),options:f.options})),l);d.driver.setItem&&await Promise.all(d.items.map(f=>In(d.driver.setItem,f.relativeKey,IS(f.value),f.options)))})},async setItemRaw(u,l,d={}){if(l===void 0)return c.removeItem(u,d);u=Qs(u);const{relativeKey:f,driver:h}=r(u);if(h.setItemRaw)await In(h.setItemRaw,f,l,d);else if(h.setItem)await In(h.setItem,f,t0e(l),d);else return;h.watch||s("update",u)},async removeItem(u,l={}){typeof l=="boolean"&&(l={removeMeta:l}),u=Qs(u);const{relativeKey:d,driver:f}=r(u);f.removeItem&&(await In(f.removeItem,d,l),(l.removeMeta||l.removeMata)&&await In(f.removeItem,d+"$",l),f.watch||s("remove",u))},async getMeta(u,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),u=Qs(u);const{relativeKey:d,driver:f}=r(u),h=Object.create(null);if(f.getMeta&&Object.assign(h,await In(f.getMeta,d,l)),!l.nativeOnly){const p=await In(f.getItem,d+"$",l).then(m=>yv(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(u,l,d={}){return this.setItem(u+"$",l,d)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){var y;u=bv(u);const d=n(u,!0);let f=[];const h=[];let p=!0;for(const E of d){(y=E.driver.flags)!=null&&y.maxDepth||(p=!1);const w=await In(E.driver.getKeys,E.relativeBase,l);for(const b of w){const g=E.mountpoint+Qs(b);f.some(v=>g.startsWith(v))||h.push(g)}f=[E.mountpoint,...f.filter(b=>!b.startsWith(E.mountpoint))]}const m=l.maxDepth!==void 0&&!p;return h.filter(E=>(!m||o0e(E,l.maxDepth))&&a0e(E,u))},async clear(u,l={}){u=bv(u),await Promise.all(n(u,!1).map(async d=>{if(d.driver.clear)return In(d.driver.clear,d.relativeBase,l);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",l);return Promise.all(f.map(h=>d.driver.removeItem(h,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>cj(u)))},async watch(u){return await i(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,l){if(u=bv(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[u]=l,e.watching&&Promise.resolve(aj(l,s,u)).then(d=>{e.unwatch[u]=d}).catch(console.error),c},async unmount(u,l=!0){var d,f;u=bv(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((f=(d=e.unwatch)[u])==null||f.call(d),delete e.unwatch[u]),l&&await cj(e.mounts[u]),e.mountpoints=e.mountpoints.filter(h=>h!==u),delete e.mounts[u])},getMount(u=""){u=Qs(u)+":";const l=r(u);return{driver:l.driver,base:l.base}},getMounts(u="",l={}){return u=Qs(u),n(u,l.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,d={})=>c.setItem(u,l,d),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function aj(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function cj(t){typeof t.dispose=="function"&&await In(t.dispose)}function yp(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function fY(t,e){let r;const n=()=>{if(r)return r;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),r=yp(s),r.then(i=>{i.onclose=()=>r=void 0},()=>{}),r};return(s,i)=>n().then(o=>i(o.transaction(e,s).objectStore(e)))}let Px;function Jw(){return Px||(Px=fY("keyval-store","keyval")),Px}function uj(t,e=Jw()){return e("readonly",r=>yp(r.get(t)))}function d0e(t,e,r=Jw()){return r("readwrite",n=>(n.put(e,t),yp(n.transaction)))}function f0e(t,e=Jw()){return e("readwrite",r=>(r.delete(t),yp(r.transaction)))}function h0e(t=Jw()){return t("readwrite",e=>(e.clear(),yp(e.transaction)))}function p0e(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},yp(t.transaction)}function m0e(t=Jw()){return t("readonly",e=>{if(e.getAllKeys)return yp(e.getAllKeys());const r=[];return p0e(e,n=>r.push(n.key)).then(()=>r)})}const g0e="idb-keyval";var y0e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=fY(t.dbName,t.storeName)),{name:g0e,options:t,async hasItem(s){return!(typeof await uj(r(s),n)>"u")},async getItem(s){return await uj(r(s),n)??null},setItem(s,i){return d0e(r(s),i,n)},removeItem(s){return f0e(r(s),n)},getKeys(){return m0e(n)},clear(){return h0e(n)}}};const b0e="WALLET_CONNECT_V2_INDEXED_DB",w0e="keyvaluestorage";let E0e=class{constructor(){this.indexedDb=l0e({driver:y0e({dbName:b0e,storeName:w0e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Du(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TS={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof xx<"u"&&xx.localStorage?TS.exports=xx.localStorage:typeof window<"u"&&window.localStorage?TS.exports=window.localStorage:TS.exports=new e})();function v0e(t){var e;return[t[0],Yh((e=t[1])!=null?e:"")]}let _0e=class{constructor(){this.localStorage=TS.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(v0e)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Yh(r)}async setItem(e,r){this.localStorage.setItem(e,Du(r))}async removeItem(e){this.localStorage.removeItem(e)}};const A0e="wc_storage_version",lj=1,C0e=async(t,e,r)=>{const n=A0e,s=await e.getItem(n);if(s&&s>=lj){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(n,lj),r(e),S0e(t,o)},S0e=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let I0e=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new _0e;this.storage=e;try{const r=new E0e;C0e(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var T0e=Object.defineProperty,P0e=(t,e,r)=>e in t?T0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dj=(t,e,r)=>P0e(t,typeof e!="symbol"?e+"":e,r);let x0e=class extends mp{constructor(e){super(),this.opts=e,dj(this,"protocol","wc"),dj(this,"version",2)}};var O0e=Object.defineProperty,R0e=(t,e,r)=>e in t?O0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,N0e=(t,e,r)=>R0e(t,e+"",r);let B0e=class extends mp{constructor(e,r){super(),this.core=e,this.logger=r,N0e(this,"records",new Map)}},k0e=class{constructor(e,r){this.logger=e,this.core=r}},j0e=class extends mp{constructor(e,r){super(),this.relayer=e,this.logger=r}},D0e=class extends mp{constructor(e){super()}},M0e=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},U0e=class extends mp{constructor(e,r){super(),this.relayer=e,this.logger=r}},L0e=class extends mp{constructor(e,r){super(),this.core=e,this.logger=r}},F0e=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},H0e=class{constructor(e,r){this.projectId=e,this.logger=r}},q0e=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var z0e=Object.defineProperty,$0e=(t,e,r)=>e in t?z0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fj=(t,e,r)=>$0e(t,typeof e!="symbol"?e+"":e,r);let V0e=class{constructor(e){this.opts=e,fj(this,"protocol","wc"),fj(this,"version",2)}},G0e=class{constructor(e){this.client=e}};function W0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hY(t,...e){if(!W0e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function hj(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function K0e(t,e){hY(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Lp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ox=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Z0e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function pY(t){return typeof t=="string"&&(t=Z0e(t)),hY(t),t}let Y0e=class{clone(){return this._cloneInto()}};function J0e(t){const e=n=>t().update(pY(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function mY(t=32){if(Lp&&typeof Lp.getRandomValues=="function")return Lp.getRandomValues(new Uint8Array(t));if(Lp&&typeof Lp.randomBytes=="function")return Lp.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Q0e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}let X0e=class extends Y0e{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Ox(this.buffer)}update(e){hj(this);const{view:r,buffer:n,blockLen:s}=this;e=pY(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Ox(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hj(this),K0e(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;Q0e(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Ox(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};const wv=BigInt(2**32-1),gR=BigInt(32);function gY(t,e=!1){return e?{h:Number(t&wv),l:Number(t>>gR&wv)}:{h:Number(t>>gR&wv)|0,l:Number(t&wv)|0}}function eme(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=gY(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const tme=(t,e)=>BigInt(t>>>0)<<gR|BigInt(e>>>0),rme=(t,e,r)=>t>>>r,nme=(t,e,r)=>t<<32-r|e>>>r,sme=(t,e,r)=>t>>>r|e<<32-r,ime=(t,e,r)=>t<<32-r|e>>>r,ome=(t,e,r)=>t<<64-r|e>>>r-32,ame=(t,e,r)=>t>>>r-32|e<<64-r,cme=(t,e)=>e,ume=(t,e)=>t,lme=(t,e,r)=>t<<r|e>>>32-r,dme=(t,e,r)=>e<<r|t>>>32-r,fme=(t,e,r)=>e<<r-32|t>>>64-r,hme=(t,e,r)=>t<<r-32|e>>>64-r;function pme(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const mme=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),gme=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,yme=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),bme=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,wme=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Eme=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,St={fromBig:gY,split:eme,toBig:tme,shrSH:rme,shrSL:nme,rotrSH:sme,rotrSL:ime,rotrBH:ome,rotrBL:ame,rotr32H:cme,rotr32L:ume,rotlSH:lme,rotlSL:dme,rotlBH:fme,rotlBL:hme,add:pme,add3L:mme,add3H:gme,add4L:yme,add4H:bme,add5H:Eme,add5L:wme},[vme,_me]=St.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),sl=new Uint32Array(80),il=new Uint32Array(80);let Ame=class extends X0e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)sl[b]=e.getUint32(r),il[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=sl[b-15]|0,v=il[b-15]|0,A=St.rotrSH(g,v,1)^St.rotrSH(g,v,8)^St.shrSH(g,v,7),C=St.rotrSL(g,v,1)^St.rotrSL(g,v,8)^St.shrSL(g,v,7),x=sl[b-2]|0,T=il[b-2]|0,N=St.rotrSH(x,T,19)^St.rotrBH(x,T,61)^St.shrSH(x,T,6),M=St.rotrSL(x,T,19)^St.rotrBL(x,T,61)^St.shrSL(x,T,6),k=St.add4L(C,M,il[b-7],il[b-16]),B=St.add4H(k,A,N,sl[b-7],sl[b-16]);sl[b]=B|0,il[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=St.rotrSH(d,f,14)^St.rotrSH(d,f,18)^St.rotrBH(d,f,41),v=St.rotrSL(d,f,14)^St.rotrSL(d,f,18)^St.rotrBL(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=St.add5L(w,v,C,_me[b],il[b]),T=St.add5H(x,E,g,A,vme[b],sl[b]),N=x|0,M=St.rotrSH(n,s,28)^St.rotrBH(n,s,34)^St.rotrBH(n,s,39),k=St.rotrSL(n,s,28)^St.rotrBL(n,s,34)^St.rotrBL(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=St.add(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=St.add3L(N,k,U);n=St.add3H(I,T,M,B),s=I|0}({h:n,l:s}=St.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=St.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=St.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=St.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=St.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=St.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=St.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=St.add(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){sl.fill(0),il.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Cme=J0e(()=>new Ame);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const D8=BigInt(0),yY=BigInt(1),Sme=BigInt(2);function M8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function U8(t){if(!M8(t))throw new Error("Uint8Array expected")}function Rx(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Ime=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function L8(t){U8(t);let e="";for(let r=0;r<t.length;r++)e+=Ime[t[r]];return e}function bY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?D8:BigInt("0x"+t)}const Ac={_0:48,_9:57,A:65,F:70,a:97,f:102};function pj(t){if(t>=Ac._0&&t<=Ac._9)return t-Ac._0;if(t>=Ac.A&&t<=Ac.F)return t-(Ac.A-10);if(t>=Ac.a&&t<=Ac.f)return t-(Ac.a-10)}function wY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=pj(t.charCodeAt(i)),a=pj(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Tme(t){return bY(L8(t))}function PS(t){return U8(t),bY(L8(Uint8Array.from(t).reverse()))}function EY(t,e){return wY(t.toString(16).padStart(e*2,"0"))}function yR(t,e){return EY(t,e).reverse()}function Cc(t,e,r){let n;if(typeof e=="string")try{n=wY(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(M8(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function mj(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];U8(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const Nx=t=>typeof t=="bigint"&&D8<=t;function Pme(t,e,r){return Nx(t)&&Nx(e)&&Nx(r)&&e<=t&&t<r}function ry(t,e,r,n){if(!Pme(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function xme(t){let e;for(e=0;t>D8;t>>=yY,e+=1);return e}const Ome=t=>(Sme<<BigInt(t-1))-yY,Rme={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||M8(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function F8(t,e,r={}){const n=(s,i,o)=>{const a=Rme[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function gj(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const Bn=BigInt(0),on=BigInt(1),zf=BigInt(2),Nme=BigInt(3),bR=BigInt(4),yj=BigInt(5),bj=BigInt(8);function _n(t,e){const r=t%e;return r>=Bn?r:e+r}function Bme(t,e,r){if(e<Bn)throw new Error("invalid exponent, negatives unsupported");if(r<=Bn)throw new Error("invalid modulus");if(r===on)return Bn;let n=on;for(;e>Bn;)e&on&&(n=n*t%r),t=t*t%r,e>>=on;return n}function Sa(t,e,r){let n=t;for(;e-- >Bn;)n*=n,n%=r;return n}function wj(t,e){if(t===Bn)throw new Error("invert: expected non-zero number");if(e<=Bn)throw new Error("invert: expected positive modulus, got "+e);let r=_n(t,e),n=e,s=Bn,i=on;for(;r!==Bn;){const o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==on)throw new Error("invert: does not exist");return _n(s,e)}function kme(t){const e=(t-on)/zf;let r,n,s;for(r=t-on,n=0;r%zf===Bn;r/=zf,n++);for(s=zf;s<t&&Bme(s,e,t)!==t-on;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+on)/bR;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const i=(r+on)/zf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,s),r),l=o.pow(a,i),d=o.pow(a,r);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(u,on<<BigInt(c-f-1));u=o.sqr(h),l=o.mul(l,h),d=o.mul(d,u),c=f}return l}}function jme(t){if(t%bR===Nme){const e=(t+on)/bR;return function(r,n){const s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%bj===yj){const e=(t-yj)/bj;return function(r,n){const s=r.mul(n,zf),i=r.pow(s,e),o=r.mul(n,i),a=r.mul(r.mul(o,zf),i),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return kme(t)}const Dme=(t,e)=>(_n(t,e)&on)===on,Mme=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ume(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Mme.reduce((n,s)=>(n[s]="function",n),e);return F8(t,r)}function Lme(t,e,r){if(r<Bn)throw new Error("invalid exponent, negatives unsupported");if(r===Bn)return t.ONE;if(r===on)return e;let n=t.ONE,s=e;for(;r>Bn;)r&on&&(n=t.mul(n,s)),s=t.sqr(s),r>>=on;return n}function Fme(t,e){const r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function vY(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function _Y(t,e,r=!1,n={}){if(t<=Bn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=vY(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:Ome(s),ZERO:Bn,ONE:on,create:c=>_n(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Bn<=c&&c<t},is0:c=>c===Bn,isOdd:c=>(c&on)===on,neg:c=>_n(-c,t),eql:(c,u)=>c===u,sqr:c=>_n(c*c,t),add:(c,u)=>_n(c+u,t),sub:(c,u)=>_n(c-u,t),mul:(c,u)=>_n(c*u,t),pow:(c,u)=>Lme(a,c,u),div:(c,u)=>_n(c*wj(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>wj(c,t),sqrt:n.sqrt||(c=>(o||(o=jme(t)),o(a,c))),invertBatch:c=>Fme(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?yR(c,i):EY(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?PS(c):Tme(c)}});return Object.freeze(a)}const Ej=BigInt(0),Ev=BigInt(1);function Bx(t,e){const r=e.negate();return t?r:e}function AY(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function kx(t,e){AY(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function Hme(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function qme(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const jx=new WeakMap,CY=new WeakMap;function Dx(t){return CY.get(t)||1}function zme(t,e){return{constTimeNegate:Bx,hasPrecomputes(r){return Dx(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>Ej;)n&Ev&&(s=s.add(i)),i=i.double(),n>>=Ev;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=kx(n,e),o=[];let a=r,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){const{windows:i,windowSize:o}=kx(r,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let f=0;f<i;f++){const h=f*o;let p=Number(s&u);s>>=d,p>o&&(p-=l,s+=Ev);const m=h,y=h+Math.abs(p)-1,E=f%2!==0,w=p<0;p===0?c=c.add(Bx(E,n[m])):a=a.add(Bx(w,n[y]))}return{p:a,f:c}},wNAFUnsafe(r,n,s,i=t.ZERO){const{windows:o,windowSize:a}=kx(r,e),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let d=0;d<o;d++){const f=d*a;if(s===Ej)break;let h=Number(s&c);if(s>>=l,h>a&&(h-=u,s+=Ev),h===0)continue;let p=n[f+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(r,n,s){let i=jx.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&jx.set(n,s(i))),i},wNAFCached(r,n,s){const i=Dx(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=Dx(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){AY(n,e),CY.set(r,n),jx.delete(r)}}}function $me(t,e,r,n){if(Hme(r,t),qme(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=xme(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),u=Math.floor((e.BITS-1)/o)*o;let l=s;for(let d=u;d>=0;d-=o){c.fill(s);for(let h=0;h<n.length;h++){const p=n[h],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(r[h])}let f=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),f=f.add(p);if(l=l.add(f),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function Vme(t){return Ume(t.Fp),F8(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vY(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Oo=BigInt(0),Gs=BigInt(1),vv=BigInt(2),Gme=BigInt(8),Wme={zip215:!0};function Kme(t){const e=Vme(t);return F8(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Zme(t){const e=Kme(t),{Fp:r,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=vv<<BigInt(a*8)-Gs,l=r.create,d=_Y(e.n,e.nBitLength),f=e.uvRatio||((I,S)=>{try{return{isValid:!0,value:r.sqrt(I*r.inv(S))}}catch{return{isValid:!1,value:Oo}}}),h=e.adjustScalarBytes||(I=>I),p=e.domain||((I,S,_)=>{if(Rx("phflag",_),S.length||_)throw new Error("Contexts/pre-hash are not supported");return I});function m(I,S){ry("coordinate "+I,S,Oo,u)}function y(I){if(!(I instanceof b))throw new Error("ExtendedPoint expected")}const E=gj((I,S)=>{const{ex:_,ey:R,ez:O}=I,P=I.is0();S==null&&(S=P?Gme:r.inv(O));const D=l(_*S),j=l(R*S),F=l(O*S);if(P)return{x:Oo,y:Gs};if(F!==Gs)throw new Error("invZ was invalid");return{x:D,y:j}}),w=gj(I=>{const{a:S,d:_}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:R,ey:O,ez:P,et:D}=I,j=l(R*R),F=l(O*O),q=l(P*P),z=l(q*q),W=l(j*S),K=l(q*l(W+F)),re=l(z+l(_*l(j*F)));if(K!==re)throw new Error("bad point: equation left != right (1)");const Q=l(R*O),X=l(P*D);if(Q!==X)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(S,_,R,O){this.ex=S,this.ey=_,this.ez=R,this.et=O,m("x",S),m("y",_),m("z",R),m("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof b)throw new Error("extended point not allowed");const{x:_,y:R}=S||{};return m("x",_),m("y",R),new b(_,R,Gs,l(_*R))}static normalizeZ(S){const _=r.invertBatch(S.map(R=>R.ez));return S.map((R,O)=>R.toAffine(_[O])).map(b.fromAffine)}static msm(S,_){return $me(b,d,S,_)}_setWindowSize(S){A.setWindowSize(this,S)}assertValidity(){w(this)}equals(S){y(S);const{ex:_,ey:R,ez:O}=this,{ex:P,ey:D,ez:j}=S,F=l(_*j),q=l(P*O),z=l(R*j),W=l(D*O);return F===q&&z===W}is0(){return this.equals(b.ZERO)}negate(){return new b(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:S}=e,{ex:_,ey:R,ez:O}=this,P=l(_*_),D=l(R*R),j=l(vv*l(O*O)),F=l(S*P),q=_+R,z=l(l(q*q)-P-D),W=F+D,K=W-j,re=F-D,Q=l(z*K),X=l(W*re),ie=l(z*re),Y=l(K*W);return new b(Q,X,Y,ie)}add(S){y(S);const{a:_,d:R}=e,{ex:O,ey:P,ez:D,et:j}=this,{ex:F,ey:q,ez:z,et:W}=S;if(_===BigInt(-1)){const we=l((P-O)*(q+F)),me=l((P+O)*(q-F)),ae=l(me-we);if(ae===Oo)return this.double();const Oe=l(D*vv*W),Se=l(j*vv*z),Be=Se+Oe,de=me+we,oe=Se-Oe,$=l(Be*ae),L=l(de*oe),H=l(Be*oe),ee=l(ae*de);return new b($,L,ee,H)}const K=l(O*F),re=l(P*q),Q=l(j*R*W),X=l(D*z),ie=l((O+P)*(F+q)-K-re),Y=X-Q,V=X+Q,Z=l(re-_*K),ne=l(ie*Y),ue=l(V*Z),ce=l(ie*Z),ge=l(Y*V);return new b(ne,ue,ge,ce)}subtract(S){return this.add(S.negate())}wNAF(S){return A.wNAFCached(this,S,b.normalizeZ)}multiply(S){const _=S;ry("scalar",_,Gs,n);const{p:R,f:O}=this.wNAF(_);return b.normalizeZ([R,O])[0]}multiplyUnsafe(S,_=b.ZERO){const R=S;return ry("scalar",R,Oo,n),R===Oo?v:this.is0()||R===Gs?this:A.wNAFCachedUnsafe(this,R,b.normalizeZ,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,n).is0()}toAffine(S){return E(this,S)}clearCofactor(){const{h:S}=e;return S===Gs?this:this.multiplyUnsafe(S)}static fromHex(S,_=!1){const{d:R,a:O}=e,P=r.BYTES;S=Cc("pointHex",S,P),Rx("zip215",_);const D=S.slice(),j=S[P-1];D[P-1]=j&-129;const F=PS(D),q=_?u:r.ORDER;ry("pointHex.y",F,Oo,q);const z=l(F*F),W=l(z-Gs),K=l(R*z-O);let{isValid:re,value:Q}=f(W,K);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const X=(Q&Gs)===Gs,ie=(j&128)!==0;if(!_&&Q===Oo&&ie)throw new Error("Point.fromHex: x=0 and x_0=1");return ie!==X&&(Q=l(-Q)),b.fromAffine({x:Q,y:F})}static fromPrivateKey(S){return T(S).point}toRawBytes(){const{x:S,y:_}=this.toAffine(),R=yR(_,r.BYTES);return R[R.length-1]|=S&Gs?128:0,R}toHex(){return L8(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Gs,l(e.Gx*e.Gy)),b.ZERO=new b(Oo,Gs,Gs,Oo);const{BASE:g,ZERO:v}=b,A=zme(b,a*8);function C(I){return _n(I,n)}function x(I){return C(PS(I))}function T(I){const S=r.BYTES;I=Cc("private key",I,S);const _=Cc("hashed private key",i(I),2*S),R=h(_.slice(0,S)),O=_.slice(S,2*S),P=x(R),D=g.multiply(P),j=D.toRawBytes();return{head:R,prefix:O,scalar:P,point:D,pointBytes:j}}function N(I){return T(I).pointBytes}function M(I=new Uint8Array,...S){const _=mj(...S);return x(i(p(_,Cc("context",I),!!s)))}function k(I,S,_={}){I=Cc("message",I),s&&(I=s(I));const{prefix:R,scalar:O,pointBytes:P}=T(S),D=M(_.context,R,I),j=g.multiply(D).toRawBytes(),F=M(_.context,j,P,I),q=C(D+F*O);ry("signature.s",q,Oo,n);const z=mj(j,yR(q,r.BYTES));return Cc("result",z,r.BYTES*2)}const B=Wme;function U(I,S,_,R=B){const{context:O,zip215:P}=R,D=r.BYTES;I=Cc("signature",I,2*D),S=Cc("message",S),_=Cc("publicKey",_,D),P!==void 0&&Rx("zip215",P),s&&(S=s(S));const j=PS(I.slice(D,2*D));let F,q,z;try{F=b.fromHex(_,P),q=b.fromHex(I.slice(0,D),P),z=g.multiplyUnsafe(j)}catch{return!1}if(!P&&F.isSmallOrder())return!1;const W=M(O,q.toRawBytes(),F.toRawBytes(),S);return q.add(F.multiplyUnsafe(W)).subtract(z).clearCofactor().equals(b.ZERO)}return g._setWindowSize(8),{CURVE:e,getPublicKey:N,sign:k,verify:U,ExtendedPoint:b,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(r.BYTES),precompute(I=8,S=b.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const H8=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),vj=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Yme=BigInt(1),_j=BigInt(2);BigInt(3);const Jme=BigInt(5),Qme=BigInt(8);function Xme(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=H8,o=t*t%i*t%i,a=Sa(o,_j,i)*o%i,c=Sa(a,Yme,i)*t%i,u=Sa(c,Jme,i)*c%i,l=Sa(u,e,i)*u%i,d=Sa(l,r,i)*l%i,f=Sa(d,n,i)*d%i,h=Sa(f,s,i)*f%i,p=Sa(h,s,i)*f%i,m=Sa(p,e,i)*u%i;return{pow_p_5_8:Sa(m,_j,i)*t%i,b2:o}}function ege(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function tge(t,e){const r=H8,n=_n(e*e*e,r),s=_n(n*n*e,r),i=Xme(t*s).pow_p_5_8;let o=_n(t*n*i,r);const a=_n(e*o*o,r),c=o,u=_n(o*vj,r),l=a===t,d=a===_n(-t,r),f=a===_n(-t*vj,r);return l&&(o=c),(d||f)&&(o=u),Dme(o,r)&&(o=_n(-o,r)),{isValid:l||d,value:o}}const rge=_Y(H8,void 0,!0),nge={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:rge,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Qme,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Cme,randomBytes:mY,adjustScalarBytes:ege,uvRatio:tge},SY=Zme(nge),sge="EdDSA",ige="JWT",TI=".",JT="base64url",IY="utf8",TY="utf8",oge=":",age="did",cge="key",Aj="base58btc",uge="z",lge="K36",dge=32;function q8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function PY(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?q8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function xY(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=PY(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return q8(r)}function fge(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,E=0,w=p.length;E!==w&&p[E]===0;)E++,m++;for(var b=(w-E)*l+1>>>0,g=new Uint8Array(b);E!==w;){for(var v=p[E],A=0,C=b-1;(v!==0||A<y)&&C!==-1;C--,A++)v+=256*g[C]>>>0,g[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");y=A,E++}for(var x=b-y;x!==b&&g[x]===0;)x++;for(var T=c.repeat(m);x<b;++x)T+=t.charAt(g[x]);return T}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,E=0;p[m]===c;)y++,m++;for(var w=(p.length-m)*u+1>>>0,b=new Uint8Array(w);p[m];){var g=r[p.charCodeAt(m)];if(g===255)return;for(var v=0,A=w-1;(g!==0||v<E)&&A!==-1;A--,v++)g+=a*b[A]>>>0,b[A]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=v,m++}if(p[m]!==" "){for(var C=w-E;C!==w&&b[C]===0;)C++;for(var x=new Uint8Array(y+(w-C)),T=y;C!==w;)x[T++]=b[C++];return x}}}function h(p){var m=f(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var hge=fge,pge=hge;const OY=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},mge=t=>new TextEncoder().encode(t),gge=t=>new TextDecoder().decode(t);let yge=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},bge=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return RY(this,e)}},wge=class{constructor(e){this.decoders=e}or(e){return RY(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const RY=(t,e)=>new wge({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Ege=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new yge(e,r,n),this.decoder=new bge(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const QT=({name:t,prefix:e,encode:r,decode:n})=>new Ege(t,e,r,n),Qw=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=pge(r,e);return QT({prefix:t,name:e,encode:n,decode:i=>OY(s(i))})},vge=(t,e,r,n)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const d=s[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},_ge=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Yn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>QT({prefix:e,name:t,encode(s){return _ge(s,n,r)},decode(s){return vge(s,n,r,t)}}),Age=QT({prefix:"\0",name:"identity",encode:t=>gge(t),decode:t=>mge(t)});var Cge=Object.freeze({__proto__:null,identity:Age});const Sge=Yn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ige=Object.freeze({__proto__:null,base2:Sge});const Tge=Yn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Pge=Object.freeze({__proto__:null,base8:Tge});const xge=Qw({prefix:"9",name:"base10",alphabet:"0123456789"});var Oge=Object.freeze({__proto__:null,base10:xge});const Rge=Yn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nge=Yn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Bge=Object.freeze({__proto__:null,base16:Rge,base16upper:Nge});const kge=Yn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jge=Yn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Dge=Yn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Mge=Yn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Uge=Yn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Lge=Yn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fge=Yn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Hge=Yn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qge=Yn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var zge=Object.freeze({__proto__:null,base32:kge,base32upper:jge,base32pad:Dge,base32padupper:Mge,base32hex:Uge,base32hexupper:Lge,base32hexpad:Fge,base32hexpadupper:Hge,base32z:qge});const $ge=Qw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vge=Qw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Gge=Object.freeze({__proto__:null,base36:$ge,base36upper:Vge});const Wge=Qw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Kge=Qw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Zge=Object.freeze({__proto__:null,base58btc:Wge,base58flickr:Kge});const Yge=Yn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jge=Yn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Qge=Yn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Xge=Yn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var eye=Object.freeze({__proto__:null,base64:Yge,base64pad:Jge,base64url:Qge,base64urlpad:Xge});const NY=Array.from(""),tye=NY.reduce((t,e,r)=>(t[r]=e,t),[]),rye=NY.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function nye(t){return t.reduce((e,r)=>(e+=tye[r],e),"")}function sye(t){const e=[];for(const r of t){const n=rye[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const iye=QT({prefix:"",name:"base256emoji",encode:nye,decode:sye});var oye=Object.freeze({__proto__:null,base256emoji:iye}),aye=BY,Cj=128,cye=-128,uye=Math.pow(2,31);function BY(t,e,r){e=e||[],r=r||0;for(var n=r;t>=uye;)e[r++]=t&255|Cj,t/=128;for(;t&cye;)e[r++]=t&255|Cj,t>>>=7;return e[r]=t|0,BY.bytes=r-n+1,e}var lye=wR,dye=128,Sj=127;function wR(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw wR.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&Sj)<<s:(o&Sj)*Math.pow(2,s),s+=7}while(o>=dye);return wR.bytes=i-n,r}var fye=Math.pow(2,7),hye=Math.pow(2,14),pye=Math.pow(2,21),mye=Math.pow(2,28),gye=Math.pow(2,35),yye=Math.pow(2,42),bye=Math.pow(2,49),wye=Math.pow(2,56),Eye=Math.pow(2,63),vye=function(t){return t<fye?1:t<hye?2:t<pye?3:t<mye?4:t<gye?5:t<yye?6:t<bye?7:t<wye?8:t<Eye?9:10},_ye={encode:aye,decode:lye,encodingLength:vye},kY=_ye;const Ij=(t,e,r=0)=>(kY.encode(t,e,r),e),Tj=t=>kY.encodingLength(t),ER=(t,e)=>{const r=e.byteLength,n=Tj(t),s=n+Tj(r),i=new Uint8Array(s+r);return Ij(t,i,0),Ij(r,i,n),i.set(e,s),new Aye(t,r,e,i)};let Aye=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const jY=({name:t,code:e,encode:r})=>new Cye(t,e,r);let Cye=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?ER(this.code,r):r.then(n=>ER(this.code,n))}else throw Error("Unknown type, must be binary type")}};const DY=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Sye=jY({name:"sha2-256",code:18,encode:DY("SHA-256")}),Iye=jY({name:"sha2-512",code:19,encode:DY("SHA-512")});var Tye=Object.freeze({__proto__:null,sha256:Sye,sha512:Iye});const MY=0,Pye="identity",UY=OY,xye=t=>ER(MY,UY(t)),Oye={code:MY,name:Pye,encode:UY,digest:xye};var Rye=Object.freeze({__proto__:null,identity:Oye});new TextEncoder,new TextDecoder;const Pj={...Cge,...Ige,...Pge,...Oge,...Bge,...zge,...Gge,...Zge,...eye,...oye};({...Tye,...Rye});function LY(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const xj=LY("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Mx=LY("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=PY(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),FY={utf8:xj,"utf-8":xj,hex:Pj.base16,latin1:Mx,ascii:Mx,binary:Mx,...Pj};function XT(t,e="utf8"){const r=FY[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function vg(t,e="utf8"){const r=FY[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?q8(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Oj(t){return Yh(XT(vg(t,JT),IY))}function PI(t){return XT(vg(Du(t),IY),JT)}function HY(t){const e=vg(lge,Aj),r=uge+XT(xY([e,t]),Aj);return[age,cge,r].join(oge)}function Nye(t){return XT(t,JT)}function Bye(t){return vg(t,JT)}function kye(t){return vg([PI(t.header),PI(t.payload)].join(TI),TY)}function jye(t){return[PI(t.header),PI(t.payload),Nye(t.signature)].join(TI)}function vR(t){const e=t.split(TI),r=Oj(e[0]),n=Oj(e[1]),s=Bye(e[2]),i=vg(e.slice(0,2).join(TI),TY);return{header:r,payload:n,signature:s,data:i}}function Rj(t=mY(dge)){const e=SY.getPublicKey(t);return{secretKey:xY([t,e]),publicKey:e}}async function Dye(t,e,r,n,s=je.fromMiliseconds(Date.now())){const i={alg:sge,typ:ige},o=HY(n.publicKey),a=s+r,c={iss:o,sub:t,aud:e,iat:s,exp:a},u=kye({header:i,payload:c}),l=SY.sign(u,n.secretKey.slice(0,32));return jye({header:i,payload:c,signature:l})}var Nj=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Mye=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),Uye=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),Lye=(function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t})(),Fye=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),Hye=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),qye=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,zye=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Bj=3,$ye=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",qye]],kj=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Vye(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Hye:typeof navigator<"u"?Wye(navigator.userAgent):Zye()}function Gye(t){return t!==""&&$ye.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function Wye(t){var e=Gye(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Fye;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<Bj&&(s=Nj(Nj([],s,!0),Yye(Bj-s.length),!0)):s=[];var i=s.join("."),o=Kye(t),a=zye.exec(t);return a&&a[1]?new Lye(r,i,o,a[1]):new Mye(r,i,o)}function Kye(t){for(var e=0,r=kj.length;e<r;e++){var n=kj[e],s=n[0],i=n[1],o=i.exec(t);if(o)return s}return null}function Zye(){var t=typeof process<"u"&&process.version;return t?new Uye(process.version.slice(1)):null}function Yye(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var yr={},jj;function qY(){if(jj)return yr;jj=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.getLocalStorage=yr.getLocalStorageOrThrow=yr.getCrypto=yr.getCryptoOrThrow=yr.getLocation=yr.getLocationOrThrow=yr.getNavigator=yr.getNavigatorOrThrow=yr.getDocument=yr.getDocumentOrThrow=yr.getFromWindowOrThrow=yr.getFromWindow=void 0;function t(f){let h;return typeof window<"u"&&typeof window[f]<"u"&&(h=window[f]),h}yr.getFromWindow=t;function e(f){const h=t(f);if(!h)throw new Error(`${f} is not defined in Window`);return h}yr.getFromWindowOrThrow=e;function r(){return e("document")}yr.getDocumentOrThrow=r;function n(){return t("document")}yr.getDocument=n;function s(){return e("navigator")}yr.getNavigatorOrThrow=s;function i(){return t("navigator")}yr.getNavigator=i;function o(){return e("location")}yr.getLocationOrThrow=o;function a(){return t("location")}yr.getLocation=a;function c(){return e("crypto")}yr.getCryptoOrThrow=c;function u(){return t("crypto")}yr.getCrypto=u;function l(){return e("localStorage")}yr.getLocalStorageOrThrow=l;function d(){return t("localStorage")}return yr.getLocalStorage=d,yr}var Mu=qY(),ny={},Dj;function Jye(){if(Dj)return ny;Dj=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.getWindowMetadata=void 0;const t=qY();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function s(){const h=r.getElementsByTagName("link"),p=[];for(let m=0;m<h.length;m++){const y=h[m],E=y.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const w=y.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let b=n.protocol+"//"+n.host;if(w.indexOf("/")===0)b+=w;else{const g=n.pathname.split("/");g.pop();const v=g.join("/");b+=v+"/"+w}p.push(b)}else if(w.indexOf("//")===0){const b=n.protocol+w;p.push(b)}else p.push(w)}}return p}function i(...h){const p=r.getElementsByTagName("meta");for(let m=0;m<p.length;m++){const y=p[m],E=["itemprop","property","name"].map(w=>y.getAttribute(w)).filter(w=>w?h.includes(w):!1);if(E.length&&E){const w=y.getAttribute("content");if(w)return w}}return""}function o(){let h=i("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),u=a(),l=n.origin,d=s();return{description:u,url:l,icons:d,name:c}}return ny.getWindowMetadata=e,ny}var Qye=Jye();const Xye="0.1.1";function ebe(){return Xye}class Fr extends Error{constructor(e,r={}){const n=(()=>{var c;if(r.cause instanceof Fr){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof Fr&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${ebe()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return zY(this,e)}}function zY(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?zY(t.cause,e):e?null:t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z8=BigInt(0),_R=BigInt(1);function Xw(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $8(t){if(!Xw(t))throw new Error("Uint8Array expected")}function aw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function _v(t){const e=t.toString(16);return e.length&1?"0"+e:e}function $Y(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?z8:BigInt("0x"+t)}const VY=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",tbe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cw(t){if($8(t),VY)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=tbe[t[r]];return e}const Sc={_0:48,_9:57,A:65,F:70,a:97,f:102};function Mj(t){if(t>=Sc._0&&t<=Sc._9)return t-Sc._0;if(t>=Sc.A&&t<=Sc.F)return t-(Sc.A-10);if(t>=Sc.a&&t<=Sc.f)return t-(Sc.a-10)}function xI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(VY)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=Mj(t.charCodeAt(i)),a=Mj(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Fh(t){return $Y(cw(t))}function GY(t){return $8(t),$Y(cw(Uint8Array.from(t).reverse()))}function eE(t,e){return xI(t.toString(16).padStart(e*2,"0"))}function WY(t,e){return eE(t,e).reverse()}function mo(t,e,r){let n;if(typeof e=="string")try{n=xI(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Xw(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function OI(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];$8(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const Ux=t=>typeof t=="bigint"&&z8<=t;function V8(t,e,r){return Ux(t)&&Ux(e)&&Ux(r)&&e<=t&&t<r}function V0(t,e,r,n){if(!V8(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function rbe(t){let e;for(e=0;t>z8;t>>=_R,e+=1);return e}const eP=t=>(_R<<BigInt(t))-_R,Lx=t=>new Uint8Array(t),Uj=t=>Uint8Array.from(t);function nbe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Lx(t),s=Lx(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...d)=>r(s,n,...d),c=(d=Lx(0))=>{s=a(Uj([0]),d),n=a(),d.length!==0&&(s=a(Uj([1]),d),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){n=a();const h=n.slice();f.push(h),d+=n.length}return OI(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(u()));)c();return o(),h}}const sbe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Xw(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tP(t,e,r={}){const n=(s,i,o)=>{const a=sbe[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function Lj(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}function ibe(t,e){if(zj(t)>e)throw new Ibe({givenSize:zj(t),maxSize:e})}const Ic={zero:48,nine:57,A:65,F:70,a:97,f:102};function Fj(t){if(t>=Ic.zero&&t<=Ic.nine)return t-Ic.zero;if(t>=Ic.A&&t<=Ic.F)return t-(Ic.A-10);if(t>=Ic.a&&t<=Ic.f)return t-(Ic.a-10)}function obe(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new Tbe({size:t.length,targetSize:n,type:"Bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const o=r==="right";s[o?i:n-i-1]=t[o?i:t.length-i-1]}return s}function KY(t,e){if(Sd(t)>e)throw new gbe({givenSize:Sd(t),maxSize:e})}function abe(t,e){if(typeof e=="number"&&e>0&&e>Sd(t)-1)throw new JY({offset:e,position:"start",size:Sd(t)})}function cbe(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Sd(t)!==r-e)throw new JY({offset:r,position:"end",size:Sd(t)})}function ZY(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const s=t.replace("0x","");if(s.length>n*2)throw new ybe({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const ube="#__bigint";function G8(t,e,r){return JSON.stringify(t,(n,s)=>typeof s=="bigint"?s.toString()+ube:s,r)}const lbe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dbe(t,e={}){const{strict:r=!1}=e;if(!t)throw new Hj(t);if(typeof t!="string")throw new Hj(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new qj(t);if(!t.startsWith("0x"))throw new qj(t)}function fbe(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function W8(t){return t instanceof Uint8Array?RI(t):Array.isArray(t)?RI(new Uint8Array(t)):t}function RI(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=lbe[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(KY(n,e.size),YY(n,e.size)):n}function Fx(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const u=typeof t=="bigint"?"n":"";throw new mbe({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${t}${u}`})}const c=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?hbe(c,n):c}function hbe(t,e){return ZY(t,{dir:"left",size:e})}function YY(t,e){return ZY(t,{dir:"right",size:e})}function tu(t,e,r,n={}){const{strict:s}=n;abe(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return s&&cbe(i,e,r),i}function Sd(t){return Math.ceil((t.length-2)/2)}function pbe(t,e={}){const{strict:r=!1}=e;try{return dbe(t,{strict:r}),!0}catch{return!1}}class mbe extends Fr{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Hj extends Fr{constructor(e){super(`Value \`${typeof e=="object"?G8(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class qj extends Fr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let gbe=class extends Fr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class JY extends Fr{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let ybe=class extends Fr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const bbe=new TextEncoder;function wbe(t){if(!(t instanceof Uint8Array)){if(!t)throw new Av(t);if(typeof t!="object")throw new Av(t);if(!("BYTES_PER_ELEMENT"in t))throw new Av(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new Av(t)}}function Ebe(t){return t instanceof Uint8Array?t:typeof t=="string"?_be(t):vbe(t)}function vbe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function _be(t,e={}){const{size:r}=e;let n=t;r&&(KY(t,r),n=YY(t,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=Fj(s.charCodeAt(c++)),l=Fj(s.charCodeAt(c++));if(u===void 0||l===void 0)throw new Fr(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+l}return o}function Abe(t,e={}){const{size:r}=e,n=bbe.encode(t);return typeof r=="number"?(ibe(n,r),Cbe(n,r)):n}function Cbe(t,e){return obe(t,{dir:"right",size:e})}function zj(t){return t.length}function Sbe(t){try{return wbe(t),!0}catch{return!1}}class Av extends Fr{constructor(e){super(`Value \`${typeof e=="object"?G8(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class Ibe extends Fr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Tbe extends Fr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function QY(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=OZ(Ebe(t));return r==="Bytes"?n:RI(n)}class Pbe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const xbe={checksum:new Pbe(8192)},Hx=xbe.checksum;function XY(t,e={}){const{compressed:r}=e,{prefix:n,x:s,y:i}=t;if(r===!1||typeof s=="bigint"&&typeof i=="bigint"){if(n!==4)throw new $j({prefix:n,cause:new jbe});return}if(r===!0||typeof s=="bigint"&&typeof i>"u"){if(n!==3&&n!==2)throw new $j({prefix:n,cause:new kbe});return}throw new Bbe({publicKey:t})}function Obe(t){const e=(()=>{if(pbe(t))return eJ(t);if(Sbe(t))return Rbe(t);const{prefix:r,x:n,y:s}=t;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r??4,x:n,y:s}:{prefix:r,x:n}})();return XY(e),e}function Rbe(t){return eJ(RI(t))}function eJ(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new Dbe({publicKey:t});if(t.length===130){const n=BigInt(tu(t,0,32)),s=BigInt(tu(t,32,64));return{prefix:4,x:n,y:s}}if(t.length===132){const n=Number(tu(t,0,1)),s=BigInt(tu(t,1,33)),i=BigInt(tu(t,33,65));return{prefix:n,x:s,y:i}}const e=Number(tu(t,0,1)),r=BigInt(tu(t,1,33));return{prefix:e,x:r}}function Nbe(t,e={}){XY(t);const{prefix:r,x:n,y:s}=t,{includePrefix:i=!0}=e;return fbe(i?Fx(r,{size:1}):"0x",Fx(n,{size:32}),typeof s=="bigint"?Fx(s,{size:32}):"0x")}class Bbe extends Fr{constructor({publicKey:e}){super(`Value \`${G8(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class $j extends Fr{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class kbe extends Fr{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class jbe extends Fr{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Dbe=class extends Fr{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Sd(W8(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Mbe=/^0x[a-fA-F0-9]{40}$/;function tJ(t,e={}){const{strict:r=!0}=e;if(!Mbe.test(t))throw new Vj({address:t,cause:new Fbe});if(r){if(t.toLowerCase()===t)return;if(rJ(t)!==t)throw new Vj({address:t,cause:new Hbe})}}function rJ(t){if(Hx.has(t))return Hx.get(t);tJ(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=QY(Abe(e),{as:"Bytes"}),n=e.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&n[i]&&(n[i]=n[i].toUpperCase()),(r[i>>1]&15)>=8&&n[i+1]&&(n[i+1]=n[i+1].toUpperCase());const s=`0x${n.join("")}`;return Hx.set(t,s),s}function Ube(t,e={}){const{checksum:r=!1}=e;return tJ(t),r?rJ(t):t}function Lbe(t,e={}){const r=QY(`0x${Nbe(t).slice(4)}`).substring(26);return Ube(`0x${r}`,e)}class Vj extends Fr{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Fbe extends Fr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Hbe extends Fr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const di=BigInt(0),Us=BigInt(1),th=BigInt(2),qbe=BigInt(3),nJ=BigInt(4),sJ=BigInt(5),iJ=BigInt(8);function si(t,e){const r=t%e;return r>=di?r:e+r}function so(t,e,r){let n=t;for(;e-- >di;)n*=n,n%=r;return n}function AR(t,e){if(t===di)throw new Error("invert: expected non-zero number");if(e<=di)throw new Error("invert: expected positive modulus, got "+e);let r=si(t,e),n=e,s=di,i=Us;for(;r!==di;){const a=n/r,c=n%r,u=s-i*a;n=r,r=c,s=i,i=u}if(n!==Us)throw new Error("invert: does not exist");return si(s,e)}function oJ(t,e){const r=(t.ORDER+Us)/nJ,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function zbe(t,e){const r=(t.ORDER-sJ)/iJ,n=t.mul(e,th),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,th),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function $be(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Us,r=0;for(;e%th===di;)e/=th,r++;let n=th;const s=K8(t);for(;Gj(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return oJ;let i=s.pow(n,e);const o=(e+Us)/th;return function(c,u){if(c.is0(u))return u;if(Gj(c,u)!==1)throw new Error("Cannot find square root");let l=r,d=c.mul(c.ONE,i),f=c.pow(u,e),h=c.pow(u,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,m=c.sqr(f);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===l)throw new Error("Cannot find square root");const y=Us<<BigInt(l-p-1),E=c.pow(d,y);l=p,d=c.sqr(E),f=c.mul(f,d),h=c.mul(h,E)}return h}}function Vbe(t){return t%nJ===qbe?oJ:t%iJ===sJ?zbe:$be(t)}const Gbe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wbe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Gbe.reduce((n,s)=>(n[s]="function",n),e);return tP(t,r)}function Kbe(t,e,r){if(r<di)throw new Error("invalid exponent, negatives unsupported");if(r===di)return t.ONE;if(r===Us)return e;let n=t.ONE,s=e;for(;r>di;)r&Us&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Us;return n}function aJ(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function Gj(t,e){const r=(t.ORDER-Us)/th,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function cJ(t,e){e!==void 0&&L1(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function K8(t,e,r=!1,n={}){if(t<=di)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=cJ(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:eP(s),ZERO:di,ONE:Us,create:c=>si(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return di<=c&&c<t},is0:c=>c===di,isOdd:c=>(c&Us)===Us,neg:c=>si(-c,t),eql:(c,u)=>c===u,sqr:c=>si(c*c,t),add:(c,u)=>si(c+u,t),sub:(c,u)=>si(c-u,t),mul:(c,u)=>si(c*u,t),pow:(c,u)=>Kbe(a,c,u),div:(c,u)=>si(c*AR(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>AR(c,t),sqrt:n.sqrt||(c=>(o||(o=Vbe(t)),o(a,c))),toBytes:c=>r?WY(c,i):eE(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?GY(c):Fh(c)},invertBatch:c=>aJ(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function uJ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function lJ(t){const e=uJ(t);return e+Math.ceil(e/2)}function Zbe(t,e,r=!1){const n=t.length,s=uJ(e),i=lJ(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=r?GY(t):Fh(t),a=si(o,e-Us)+Us;return r?WY(a,s):eE(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wj=BigInt(0),CR=BigInt(1);function qx(t,e){const r=e.negate();return t?r:e}function dJ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function zx(t,e){dJ(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=eP(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function Kj(t,e,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r;let a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=CR);const u=e*n,l=u+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:u}}function Ybe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Jbe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const $x=new WeakMap,fJ=new WeakMap;function Vx(t){return fJ.get(t)||1}function Qbe(t,e){return{constTimeNegate:qx,hasPrecomputes(r){return Vx(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>Wj;)n&CR&&(s=s.add(i)),i=i.double(),n>>=CR;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=zx(n,e),o=[];let a=r,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){let i=t.ZERO,o=t.BASE;const a=zx(r,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:p}=Kj(s,c,a);s=u,d?o=o.add(qx(h,n[p])):i=i.add(qx(f,n[l]))}return{p:i,f:o}},wNAFUnsafe(r,n,s,i=t.ZERO){const o=zx(r,e);for(let a=0;a<o.windows&&s!==Wj;a++){const{nextN:c,offset:u,isZero:l,isNeg:d}=Kj(s,a,o);if(s=c,!l){const f=n[u];i=i.add(d?f.negate():f)}}return i},getPrecomputes(r,n,s){let i=$x.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&$x.set(n,s(i))),i},wNAFCached(r,n,s){const i=Vx(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=Vx(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){dJ(n,e),fJ.set(r,n),$x.delete(r)}}}function Xbe(t,e,r,n){Ybe(r,t),Jbe(n,e);const s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=rbe(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=eP(c),l=new Array(Number(u)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){l.fill(o);for(let m=0;m<i;m++){const y=n[m],E=Number(y>>BigInt(h)&u);l[E]=l[E].add(r[m])}let p=o;for(let m=l.length-1,y=o;m>0;m--)y=y.add(l[m]),p=p.add(y);if(f=f.add(p),h!==0)for(let m=0;m<c;m++)f=f.double()}return f}function hJ(t){return Wbe(t.Fp),tP(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cJ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zj(t){t.lowS!==void 0&&aw("lowS",t.lowS),t.prehash!==void 0&&aw("prehash",t.prehash)}function e1e(t){const e=hJ(t);tP(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class t1e extends Error{constructor(e=""){super(e)}}const ou={Err:t1e,_tlv:{encode:(t,e)=>{const{Err:r}=ou;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=_v(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?_v(s.length/2|128):"";return _v(t)+i+s+e},decode(t,e){const{Err:r}=ou;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=ou;if(t<_u)throw new e("integer: negative integers are not allowed");let r=_v(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ou;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Fh(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ou,s=mo("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,i),{v:u,l}=n.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=ou,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}};function Gx(t,e){return cw(eE(t,e))}const _u=BigInt(0),Pn=BigInt(1);BigInt(2);const Wx=BigInt(3),r1e=BigInt(4);function n1e(t){const e=e1e(t),{Fp:r}=e,n=K8(e.n,e.nBitLength),s=e.toBytes||((b,g,v)=>{const A=g.toAffine();return OI(Uint8Array.from([4]),r.toBytes(A.x),r.toBytes(A.y))}),i=e.fromBytes||(b=>{const g=b.subarray(1),v=r.fromBytes(g.subarray(0,r.BYTES)),A=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:v,y:A}});function o(b){const{a:g,b:v}=e,A=r.sqr(b),C=r.mul(A,b);return r.add(r.add(C,r.mul(b,g)),v)}function a(b,g){const v=r.sqr(g),A=o(b);return r.eql(v,A)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(e.a,Wx),r1e),u=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,u)))throw new Error("bad curve params: a or b");function l(b){return V8(b,Pn,e.n)}function d(b){const{allowedPrivateKeyLengths:g,nByteLength:v,wrapPrivateKey:A,n:C}=e;if(g&&typeof b!="bigint"){if(Xw(b)&&(b=cw(b)),typeof b!="string"||!g.includes(b.length))throw new Error("invalid private key");b=b.padStart(v*2,"0")}let x;try{x=typeof b=="bigint"?b:Fh(mo("private key",b,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof b)}return A&&(x=si(x,C)),V0("private key",x,Pn,C),x}function f(b){if(!(b instanceof m))throw new Error("ProjectivePoint expected")}const h=Lj((b,g)=>{const{px:v,py:A,pz:C}=b;if(r.eql(C,r.ONE))return{x:v,y:A};const x=b.is0();g==null&&(g=x?r.ONE:r.inv(C));const T=r.mul(v,g),N=r.mul(A,g),M=r.mul(C,g);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x:T,y:N}}),p=Lj(b=>{if(b.is0()){if(e.allowInfinityPoint&&!r.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:g,y:v}=b.toAffine();if(!r.isValid(g)||!r.isValid(v))throw new Error("bad point: x or y not FE");if(!a(g,v))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(g,v,A){if(g==null||!r.isValid(g))throw new Error("x required");if(v==null||!r.isValid(v)||r.is0(v))throw new Error("y required");if(A==null||!r.isValid(A))throw new Error("z required");this.px=g,this.py=v,this.pz=A,Object.freeze(this)}static fromAffine(g){const{x:v,y:A}=g||{};if(!g||!r.isValid(v)||!r.isValid(A))throw new Error("invalid affine point");if(g instanceof m)throw new Error("projective point not allowed");const C=x=>r.eql(x,r.ZERO);return C(v)&&C(A)?m.ZERO:new m(v,A,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const v=aJ(r,g.map(A=>A.pz));return g.map((A,C)=>A.toAffine(v[C])).map(m.fromAffine)}static fromHex(g){const v=m.fromAffine(i(mo("pointHex",g)));return v.assertValidity(),v}static fromPrivateKey(g){return m.BASE.multiply(d(g))}static msm(g,v){return Xbe(m,n,g,v)}_setWindowSize(g){w.setWindowSize(this,g)}assertValidity(){p(this)}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){f(g);const{px:v,py:A,pz:C}=this,{px:x,py:T,pz:N}=g,M=r.eql(r.mul(v,N),r.mul(x,C)),k=r.eql(r.mul(A,N),r.mul(T,C));return M&&k}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b:v}=e,A=r.mul(v,Wx),{px:C,py:x,pz:T}=this;let N=r.ZERO,M=r.ZERO,k=r.ZERO,B=r.mul(C,C),U=r.mul(x,x),I=r.mul(T,T),S=r.mul(C,x);return S=r.add(S,S),k=r.mul(C,T),k=r.add(k,k),N=r.mul(g,k),M=r.mul(A,I),M=r.add(N,M),N=r.sub(U,M),M=r.add(U,M),M=r.mul(N,M),N=r.mul(S,N),k=r.mul(A,k),I=r.mul(g,I),S=r.sub(B,I),S=r.mul(g,S),S=r.add(S,k),k=r.add(B,B),B=r.add(k,B),B=r.add(B,I),B=r.mul(B,S),M=r.add(M,B),I=r.mul(x,T),I=r.add(I,I),B=r.mul(I,S),N=r.sub(N,B),k=r.mul(I,U),k=r.add(k,k),k=r.add(k,k),new m(N,M,k)}add(g){f(g);const{px:v,py:A,pz:C}=this,{px:x,py:T,pz:N}=g;let M=r.ZERO,k=r.ZERO,B=r.ZERO;const U=e.a,I=r.mul(e.b,Wx);let S=r.mul(v,x),_=r.mul(A,T),R=r.mul(C,N),O=r.add(v,A),P=r.add(x,T);O=r.mul(O,P),P=r.add(S,_),O=r.sub(O,P),P=r.add(v,C);let D=r.add(x,N);return P=r.mul(P,D),D=r.add(S,R),P=r.sub(P,D),D=r.add(A,C),M=r.add(T,N),D=r.mul(D,M),M=r.add(_,R),D=r.sub(D,M),B=r.mul(U,P),M=r.mul(I,R),B=r.add(M,B),M=r.sub(_,B),B=r.add(_,B),k=r.mul(M,B),_=r.add(S,S),_=r.add(_,S),R=r.mul(U,R),P=r.mul(I,P),_=r.add(_,R),R=r.sub(S,R),R=r.mul(U,R),P=r.add(P,R),S=r.mul(_,P),k=r.add(k,S),S=r.mul(D,P),M=r.mul(O,M),M=r.sub(M,S),S=r.mul(O,_),B=r.mul(D,B),B=r.add(B,S),new m(M,k,B)}subtract(g){return this.add(g.negate())}is0(){return this.equals(m.ZERO)}wNAF(g){return w.wNAFCached(this,g,m.normalizeZ)}multiplyUnsafe(g){const{endo:v,n:A}=e;V0("scalar",g,_u,A);const C=m.ZERO;if(g===_u)return C;if(this.is0()||g===Pn)return this;if(!v||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,g,m.normalizeZ);let{k1neg:x,k1:T,k2neg:N,k2:M}=v.splitScalar(g),k=C,B=C,U=this;for(;T>_u||M>_u;)T&Pn&&(k=k.add(U)),M&Pn&&(B=B.add(U)),U=U.double(),T>>=Pn,M>>=Pn;return x&&(k=k.negate()),N&&(B=B.negate()),B=new m(r.mul(B.px,v.beta),B.py,B.pz),k.add(B)}multiply(g){const{endo:v,n:A}=e;V0("scalar",g,Pn,A);let C,x;if(v){const{k1neg:T,k1:N,k2neg:M,k2:k}=v.splitScalar(g);let{p:B,f:U}=this.wNAF(N),{p:I,f:S}=this.wNAF(k);B=w.constTimeNegate(T,B),I=w.constTimeNegate(M,I),I=new m(r.mul(I.px,v.beta),I.py,I.pz),C=B.add(I),x=U.add(S)}else{const{p:T,f:N}=this.wNAF(g);C=T,x=N}return m.normalizeZ([C,x])[0]}multiplyAndAddUnsafe(g,v,A){const C=m.BASE,x=(N,M)=>M===_u||M===Pn||!N.equals(C)?N.multiplyUnsafe(M):N.multiply(M),T=x(this,v).add(x(g,A));return T.is0()?void 0:T}toAffine(g){return h(this,g)}isTorsionFree(){const{h:g,isTorsionFree:v}=e;if(g===Pn)return!0;if(v)return v(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:v}=e;return g===Pn?this:v?v(m,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return aw("isCompressed",g),this.assertValidity(),s(m,this,g)}toHex(g=!0){return aw("isCompressed",g),cw(this.toRawBytes(g))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:y,nBitLength:E}=e,w=Qbe(m,y?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:l}}function s1e(t){const e=hJ(t);return tP(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function i1e(t){const e=s1e(t),{Fp:r,n,nByteLength:s,nBitLength:i}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(I){return si(I,n)}function u(I){return AR(I,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=n1e({...e,toBytes(I,S,_){const R=S.toAffine(),O=r.toBytes(R.x),P=OI;return aw("isCompressed",_),_?P(Uint8Array.from([S.hasEvenY()?2:3]),O):P(Uint8Array.from([4]),O,r.toBytes(R.y))},fromBytes(I){const S=I.length,_=I[0],R=I.subarray(1);if(S===o&&(_===2||_===3)){const O=Fh(R);if(!V8(O,Pn,r.ORDER))throw new Error("Point is not on curve");const P=f(O);let D;try{D=r.sqrt(P)}catch(q){const z=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+z)}const j=(D&Pn)===Pn;return(_&1)===1!==j&&(D=r.neg(D)),{x:O,y:D}}else if(S===a&&_===4){const O=r.fromBytes(R.subarray(0,r.BYTES)),P=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:O,y:P}}else{const O=o,P=a;throw new Error("invalid Point, expected length of "+O+", or uncompressed "+P+", got "+S)}}});function p(I){const S=n>>Pn;return I>S}function m(I){return p(I)?c(-I):I}const y=(I,S,_)=>Fh(I.slice(S,_));class E{constructor(S,_,R){V0("r",S,Pn,n),V0("s",_,Pn,n),this.r=S,this.s=_,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(S){const _=s;return S=mo("compactSignature",S,_*2),new E(y(S,0,_),y(S,_,2*_))}static fromDER(S){const{r:_,s:R}=ou.toSig(mo("DER",S));return new E(_,R)}assertValidity(){}addRecoveryBit(S){return new E(this.r,this.s,S)}recoverPublicKey(S){const{r:_,s:R,recovery:O}=this,P=C(mo("msgHash",S));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const D=O===2||O===3?_+e.n:_;if(D>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(O&1)===0?"02":"03",F=l.fromHex(j+Gx(D,r.BYTES)),q=u(D),z=c(-P*q),W=c(R*q),K=l.BASE.multiplyAndAddUnsafe(F,z,W);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return xI(this.toDERHex())}toDERHex(){return ou.hexFromSig(this)}toCompactRawBytes(){return xI(this.toCompactHex())}toCompactHex(){const S=s;return Gx(this.r,S)+Gx(this.s,S)}}const w={isValidPrivateKey(I){try{return d(I),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const I=lJ(e.n);return Zbe(e.randomBytes(I),e.n)},precompute(I=8,S=l.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}};function b(I,S=!0){return l.fromPrivateKey(I).toRawBytes(S)}function g(I){if(typeof I=="bigint")return!1;if(I instanceof l)return!0;const _=mo("key",I).length,R=r.BYTES,O=R+1,P=2*R+1;if(!(e.allowedPrivateKeyLengths||s===O))return _===O||_===P}function v(I,S,_=!0){if(g(I)===!0)throw new Error("first arg must be private key");if(g(S)===!1)throw new Error("second arg must be public key");return l.fromHex(S).multiply(d(I)).toRawBytes(_)}const A=e.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const S=Fh(I),_=I.length*8-i;return _>0?S>>BigInt(_):S},C=e.bits2int_modN||function(I){return c(A(I))},x=eP(i);function T(I){return V0("num < 2^"+i,I,_u,x),eE(I,s)}function N(I,S,_=M){if(["recovered","canonical"].some(Q=>Q in _))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:O}=e;let{lowS:P,prehash:D,extraEntropy:j}=_;P==null&&(P=!0),I=mo("msgHash",I),Zj(_),D&&(I=mo("prehashed msgHash",R(I)));const F=C(I),q=d(S),z=[T(q),T(F)];if(j!=null&&j!==!1){const Q=j===!0?O(r.BYTES):j;z.push(mo("extraEntropy",Q))}const W=OI(...z),K=F;function re(Q){const X=A(Q);if(!h(X))return;const ie=u(X),Y=l.BASE.multiply(X).toAffine(),V=c(Y.x);if(V===_u)return;const Z=c(ie*c(K+V*q));if(Z===_u)return;let ne=(Y.x===V?0:2)|Number(Y.y&Pn),ue=Z;return P&&p(Z)&&(ue=m(Z),ne^=1),new E(V,ue,ne)}return{seed:W,k2sig:re}}const M={lowS:e.lowS,prehash:!1},k={lowS:e.lowS,prehash:!1};function B(I,S,_=M){const{seed:R,k2sig:O}=N(I,S,_),P=e;return nbe(P.hash.outputLen,P.nByteLength,P.hmac)(R,O)}l.BASE._setWindowSize(8);function U(I,S,_,R=k){var ne;const O=I;S=mo("msgHash",S),_=mo("publicKey",_);const{lowS:P,prehash:D,format:j}=R;if(Zj(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&j!=="compact"&&j!=="der")throw new Error("format must be compact or der");const F=typeof O=="string"||Xw(O),q=!F&&!j&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!F&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,W;try{if(q&&(z=new E(O.r,O.s)),F){try{j!=="compact"&&(z=E.fromDER(O))}catch(ue){if(!(ue instanceof ou.Err))throw ue}!z&&j!=="der"&&(z=E.fromCompact(O))}W=l.fromHex(_)}catch{return!1}if(!z||P&&z.hasHighS())return!1;D&&(S=e.hash(S));const{r:K,s:re}=z,Q=C(S),X=u(re),ie=c(Q*X),Y=c(K*X),V=(ne=l.BASE.multiplyAndAddUnsafe(W,ie,Y))==null?void 0:ne.toAffine();return V?c(V.x)===K:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:v,sign:B,verify:U,ProjectivePoint:l,Signature:E,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function o1e(t){return{hash:t,hmac:(e,...r)=>eY(t,e,nfe(...r)),randomBytes:sfe}}function a1e(t,e){const r=n=>i1e({...t,...o1e(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pJ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c1e=BigInt(0),u1e=BigInt(1),SR=BigInt(2),Jj=(t,e)=>(t+e/SR)/e;function l1e(t){const e=pJ,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=so(l,r,e)*l%e,f=so(d,r,e)*l%e,h=so(f,SR,e)*u%e,p=so(h,s,e)*h%e,m=so(p,i,e)*p%e,y=so(m,a,e)*m%e,E=so(y,c,e)*y%e,w=so(E,a,e)*m%e,b=so(w,r,e)*l%e,g=so(b,o,e)*p%e,v=so(g,n,e)*u%e,A=so(v,SR,e);if(!IR.eql(IR.sqr(A),t))throw new Error("Cannot find square root");return A}const IR=K8(pJ,void 0,void 0,{sqrt:l1e}),d1e=a1e({a:c1e,b:BigInt(7),Fp:IR,n:Yj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Yj,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-u1e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=Jj(i*t,e),c=Jj(-n*t,e);let u=si(t-a*r-c*s,e),l=si(-a*n-c*i,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},GZ);function f1e(t){if(t.length!==130&&t.length!==132)throw new p1e({signature:t});const e=BigInt(tu(t,0,32)),r=BigInt(tu(t,32,64)),n=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return h1e(s)}catch{throw new m1e({value:s})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function h1e(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new g1e({value:t})}class p1e extends Fr{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Sd(W8(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class m1e extends Fr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class g1e extends Fr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function y1e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mJ(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function NI(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function Z8(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function TR(t){if(!Array.isArray(t))throw new Error("array expected")}function BI(t,e){if(!mJ(!0,e))throw new Error(`${t}: array of strings expected`)}function b1e(t,e){if(!mJ(!1,e))throw new Error(`${t}: array of numbers expected`)}function w1e(...t){const e=i=>i,r=(i,o)=>a=>i(o(a)),n=t.map(i=>i.encode).reduceRight(r,e),s=t.map(i=>i.decode).reduce(r,e);return{encode:n,decode:s}}function E1e(t){const e=typeof t=="string"?t.split(""):t,r=e.length;BI("alphabet",e);const n=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(TR(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(TR(s),s.map(i=>{NI("alphabet.decode",i);const o=n.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function v1e(t=""){return NI("join",t),{encode:e=>(BI("join.decode",e),e.join(t)),decode:e=>(NI("join.decode",e),e.split(t))}}function _1e(t,e="="){return Z8(t),NI("padding",e),{encode(r){for(BI("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){BI("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const gJ=(t,e)=>e===0?t:gJ(e,t%e),kI=(t,e)=>t+(e-gJ(t,e)),Kx=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function Qj(t,e,r,n){if(TR(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(kI(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${kI(e,r)}`);let s=0,i=0;const o=Kx[e],a=Kx[r]-1,c=[];for(const u of t){if(Z8(u),u>=o)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(s=s<<e|u,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=r;i-=r)c.push((s>>i-r&a)>>>0);const l=Kx[i];if(l===void 0)throw new Error("invalid carry");s&=l-1}if(s=s<<r-i&a,!n&&i>=e)throw new Error("Excess padding");if(!n&&s>0)throw new Error(`Non-zero padding: ${s}`);return n&&i>0&&c.push(s>>>0),c}function A1e(t,e=!1){if(Z8(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(kI(8,t)>32||kI(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!y1e(r))throw new Error("radix2.encode input should be Uint8Array");return Qj(Array.from(r),8,t,!e)},decode:r=>(b1e("radix2.decode",r),Uint8Array.from(Qj(r,t,8,e)))}}const C1e=w1e(A1e(5),E1e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),_1e(5),v1e(""));function S1e(t){return Lbe(I1e(t))}function I1e(t){const{payload:e,signature:r}=t,{r:n,s,yParity:i}=r,a=new d1e.Signature(BigInt(n),BigInt(s)).addRecoveryBit(i).recoverPublicKey(W8(e).substring(2));return Obe(a)}function T1e(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const l=t.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,f=0;const h=u.length;for(;f!==h&&u[f]===0;)f++,l++;const p=(h-f)*i+1>>>0,m=new Uint8Array(p);for(;f!==h;){let w=u[f],b=0;for(let g=p-1;(w!==0||b<d)&&g!==-1;g--,b++)w+=256*m[g]>>>0,m[g]=w%r>>>0,w=w/r>>>0;if(w!==0)throw new Error("Non-zero carry");d=b,f++}let y=p-d;for(;y!==p&&m[y]===0;)y++;let E=n.repeat(l);for(;y<p;++y)E+=t.charAt(m[y]);return E}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,f=0;for(;u[l]===n;)d++,l++;const h=(u.length-l)*s+1>>>0,p=new Uint8Array(h);for(;l<u.length;){const w=u.charCodeAt(l);if(w>255)return;let b=e[w];if(b===255)return;let g=0;for(let v=h-1;(b!==0||g<f)&&v!==-1;v--,g++)b+=r*p[v]>>>0,p[v]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");f=g,l++}let m=h-f;for(;m!==h&&p[m]===0;)m++;const y=new Uint8Array(d+(h-m));let E=d;for(;m!==h;)y[E++]=p[m++];return y}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var P1e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const _g=T1e(P1e);function x1e(t){const e=t.length;let r=0,n=0;for(;n<e;){let s=t.charCodeAt(n++);if((s&4294967168)===0){r++;continue}else if((s&4294965248)===0)r+=2;else{if(s>=55296&&s<=56319&&n<e){const i=t.charCodeAt(n);(i&64512)===56320&&(++n,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?r+=3:r+=4}}return r}function O1e(t,e,r){const n=t.length;let s=r,i=0;for(;i<n;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<n){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}const R1e=new TextEncoder,N1e=50;function B1e(t,e,r){R1e.encodeInto(t,e.subarray(r))}function k1e(t,e,r){t.length>N1e?B1e(t,e,r):O1e(t,e,r)}const j1e=4096;function yJ(t,e,r){let n=e;const s=n+r,i=[];let o="";for(;n<s;){const a=t[n++];if((a&128)===0)i.push(a);else if((a&224)===192){const c=t[n++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,u=t[n++]&63;i.push((a&31)<<12|c<<6|u)}else if((a&248)===240){const c=t[n++]&63,u=t[n++]&63,l=t[n++]&63;let d=(a&7)<<18|c<<12|u<<6|l;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=j1e&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const D1e=new TextDecoder,M1e=200;function U1e(t,e,r){const n=t.subarray(e,e+r);return D1e.decode(n)}function L1e(t,e,r){return r>M1e?U1e(t,e,r):yJ(t,e,r)}class Cv{constructor(e,r){this.type=e,this.data=r}}class zi extends Error{constructor(e){super(e);const r=Object.create(zi.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:zi.name})}}const sy=4294967295;function F1e(t,e,r){const n=r/4294967296,s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function bJ(t,e,r){const n=Math.floor(r/4294967296),s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function wJ(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function H1e(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const q1e=-1,z1e=4294967296-1,$1e=17179869184-1;function V1e({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=$1e)if(e===0&&t<=z1e){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|r&3),i.setUint32(4,n),s}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),bJ(n,4,t),r}}function G1e(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,s=Math.floor(n/1e9);return{sec:r+s,nsec:n-s*1e9}}function W1e(t){if(t instanceof Date){const e=G1e(t);return V1e(e)}else return null}function K1e(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),s=(r&3)*4294967296+n,i=r>>>2;return{sec:s,nsec:i}}case 12:{const r=wJ(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new zi(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Z1e(t){const e=K1e(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Y1e={type:q1e,encode:W1e,decode:Z1e};class jI{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Y1e)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const s=-1-e;this.builtInEncoders[s]=r,this.builtInDecoders[s]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const s=this.builtInEncoders[n];if(s!=null){const i=s(e,r);if(i!=null){const o=-1-n;return new Cv(o,i)}}}for(let n=0;n<this.encoders.length;n++){const s=this.encoders[n];if(s!=null){const i=s(e,r);if(i!=null){const o=n;return new Cv(o,i)}}}return e instanceof Cv?e:null}decode(e,r,n){const s=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return s?s(e,r,n):new Cv(r,e)}}jI.defaultCodec=new jI;function J1e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function PR(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):J1e(t)?new Uint8Array(t):Uint8Array.from(t)}const Q1e=100,X1e=2048;let ewe=class EJ{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??jI.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??Q1e,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??X1e,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new EJ({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),s=new DataView(r);n.set(this.bytes),this.view=s,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=x1e(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),k1e(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=PR(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const s of e)this.doEncode(s,r+1)}countWithoutUndefined(e,r){let n=0;for(const s of r)e[s]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of n){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),s=n.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),F1e(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),bJ(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function twe(t,e){return new ewe(e).encodeSharedRef(t)}function Zx(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const rwe=16,nwe=16;class swe{constructor(e=rwe,r=nwe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const s=this.caches[n-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return i.str}return null}store(e,r){const n=this.caches[e.length-1],s={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=s:n.push(s)}decode(e,r,n){const s=this.find(e,r,n);if(s!=null)return this.hit++,s;this.miss++;const i=yJ(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,i),i}}const xR="array",Qb="map_key",vJ="map_value",iwe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new zi("The type of key must be string or number but "+typeof t)};class owe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=xR,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=Qb,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===xR){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===Qb||e.type===vJ){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const iy=-1,Y8=new DataView(new ArrayBuffer(0)),awe=new Uint8Array(Y8.buffer);try{Y8.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const Xj=new RangeError("Insufficient data"),cwe=new swe;let uwe=class _J{constructor(e){this.totalPos=0,this.pos=0,this.view=Y8,this.bytes=awe,this.headByte=iy,this.stack=new owe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??jI.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??sy,this.maxBinLength=(e==null?void 0:e.maxBinLength)??sy,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??sy,this.maxMapLength=(e==null?void 0:e.maxMapLength)??sy,this.maxExtLength=(e==null?void 0:e.maxExtLength)??sy,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:cwe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??iwe}clone(){return new _J({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=iy,this.stack.reset()}setBuffer(e){const r=PR(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===iy&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=PR(e),s=new Uint8Array(r.length+n.length);s.set(r),s.set(n,r.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Zx(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,s=-1;for await(const i of e){if(r&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(s=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else{const s=e-160;r=this.decodeString(s,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const s=this.lookU8();r=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();r=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();r=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e===196){const s=this.lookU8();r=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();r=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();r=this.decodeBinary(s,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();r=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();r=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();r=this.decodeExtension(s,4)}else throw new zi(`Unrecognized type byte: ${Zx(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const s=n.top();if(s.type===xR)if(s.array[s.position]=r,s.position++,s.position===s.size)r=s.array,n.release(s);else continue e;else if(s.type===Qb){if(r==="__proto__")throw new zi("The key __proto__ is not allowed");s.key=this.mapKeyConverter(r),s.type=vJ;continue e}else if(s.map[s.key]=r,s.readCount++,s.readCount===s.size)r=s.map,n.release(s);else{s.key=null,s.type=Qb;continue e}}return r}}readHeadByte(){return this.headByte===iy&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=iy}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new zi(`Unrecognized array type byte: ${Zx(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new zi(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new zi(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){var i;if(e>this.maxStrLength)throw new zi(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw Xj;const n=this.pos+r;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,n,e):s=L1e(this.bytes,n,e),this.pos+=r+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Qb:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new zi(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw Xj;const n=this.pos+r,s=this.bytes.subarray(n,n+e);return this.pos+=r+e,s}decodeExtension(e,r){if(e>this.maxExtLength)throw new zi(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),s=this.decodeBinary(e,r+1);return this.extensionCodec.decode(s,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=H1e(this.view,this.pos);return this.pos+=8,e}readI64(){const e=wJ(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function lwe(t,e){return new uwe(e).decode(t)}function J8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function AJ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?J8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Xb(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=AJ(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return J8(r)}function dwe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,E=0,w=p.length;E!==w&&p[E]===0;)E++,m++;for(var b=(w-E)*l+1>>>0,g=new Uint8Array(b);E!==w;){for(var v=p[E],A=0,C=b-1;(v!==0||A<y)&&C!==-1;C--,A++)v+=256*g[C]>>>0,g[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");y=A,E++}for(var x=b-y;x!==b&&g[x]===0;)x++;for(var T=c.repeat(m);x<b;++x)T+=t.charAt(g[x]);return T}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,E=0;p[m]===c;)y++,m++;for(var w=(p.length-m)*u+1>>>0,b=new Uint8Array(w);p[m];){var g=r[p.charCodeAt(m)];if(g===255)return;for(var v=0,A=w-1;(g!==0||v<E)&&A!==-1;A--,v++)g+=a*b[A]>>>0,b[A]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=v,m++}if(p[m]!==" "){for(var C=w-E;C!==w&&b[C]===0;)C++;for(var x=new Uint8Array(y+(w-C)),T=y;C!==w;)x[T++]=b[C++];return x}}}function h(p){var m=f(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var fwe=dwe,hwe=fwe;const pwe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},mwe=t=>new TextEncoder().encode(t),gwe=t=>new TextDecoder().decode(t);class ywe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class bwe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return CJ(this,e)}}class wwe{constructor(e){this.decoders=e}or(e){return CJ(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const CJ=(t,e)=>new wwe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Ewe{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new ywe(e,r,n),this.decoder=new bwe(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const rP=({name:t,prefix:e,encode:r,decode:n})=>new Ewe(t,e,r,n),tE=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=hwe(r,e);return rP({prefix:t,name:e,encode:n,decode:i=>pwe(s(i))})},vwe=(t,e,r,n)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const d=s[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},_we=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Jn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>rP({prefix:e,name:t,encode(s){return _we(s,n,r)},decode(s){return vwe(s,n,r,t)}}),Awe=rP({prefix:"\0",name:"identity",encode:t=>gwe(t),decode:t=>mwe(t)}),Cwe=Object.freeze(Object.defineProperty({__proto__:null,identity:Awe},Symbol.toStringTag,{value:"Module"})),Swe=Jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Iwe=Object.freeze(Object.defineProperty({__proto__:null,base2:Swe},Symbol.toStringTag,{value:"Module"})),Twe=Jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Pwe=Object.freeze(Object.defineProperty({__proto__:null,base8:Twe},Symbol.toStringTag,{value:"Module"})),xwe=tE({prefix:"9",name:"base10",alphabet:"0123456789"}),Owe=Object.freeze(Object.defineProperty({__proto__:null,base10:xwe},Symbol.toStringTag,{value:"Module"})),Rwe=Jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nwe=Jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Bwe=Object.freeze(Object.defineProperty({__proto__:null,base16:Rwe,base16upper:Nwe},Symbol.toStringTag,{value:"Module"})),kwe=Jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jwe=Jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Dwe=Jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Mwe=Jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Uwe=Jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Lwe=Jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fwe=Jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Hwe=Jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qwe=Jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),zwe=Object.freeze(Object.defineProperty({__proto__:null,base32:kwe,base32hex:Uwe,base32hexpad:Fwe,base32hexpadupper:Hwe,base32hexupper:Lwe,base32pad:Dwe,base32padupper:Mwe,base32upper:jwe,base32z:qwe},Symbol.toStringTag,{value:"Module"})),$we=tE({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vwe=tE({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Gwe=Object.freeze(Object.defineProperty({__proto__:null,base36:$we,base36upper:Vwe},Symbol.toStringTag,{value:"Module"})),Wwe=tE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Kwe=tE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Zwe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Wwe,base58flickr:Kwe},Symbol.toStringTag,{value:"Module"})),Ywe=Jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jwe=Jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Qwe=Jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Xwe=Jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),eEe=Object.freeze(Object.defineProperty({__proto__:null,base64:Ywe,base64pad:Jwe,base64url:Qwe,base64urlpad:Xwe},Symbol.toStringTag,{value:"Module"})),SJ=Array.from(""),tEe=SJ.reduce((t,e,r)=>(t[r]=e,t),[]),rEe=SJ.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function nEe(t){return t.reduce((e,r)=>(e+=tEe[r],e),"")}function sEe(t){const e=[];for(const r of t){const n=rEe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const iEe=rP({prefix:"",name:"base256emoji",encode:nEe,decode:sEe}),oEe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:iEe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const eD={...Cwe,...Iwe,...Pwe,...Owe,...Bwe,...zwe,...Gwe,...Zwe,...eEe,...oEe};function IJ(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const tD=IJ("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Yx=IJ("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=AJ(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),TJ={utf8:tD,"utf-8":tD,hex:eD.base16,latin1:Yx,ascii:Yx,binary:Yx,...eD};function Ao(t,e="utf8"){const r=TJ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?J8(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function pi(t,e="utf8"){const r=TJ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const aEe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Jx,rD;function PJ(){if(rD)return Jx;rD=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function s(o,a,c){let u=`
`+o+" = ";for(let l=0;l<a.length;l+=2){if(c===32)u+=n(a[l]).toUpperCase(),u+=" ",u+=n(a[l+1]).toUpperCase();else if(c===64)u+=n(a[l+1]).toUpperCase(),u+=n(a[l]).toUpperCase();else throw new Error("Invalid size "+c);l%6===4?u+=`
`+new Array(o.length+4).join(" "):l<a.length-2&&(u+=" ")}console.log(u)}function i(o,a,c){let u=new Date().getTime();const l=new Uint8Array(a);for(let f=0;f<a;f++)l[f]=f%256;const d=new Date().getTime();console.log("Generated random input in "+(d-u)+"ms"),u=d;for(let f=0;f<c;f++){const h=o(l),p=new Date().getTime(),m=p-u;u=p,console.log("Hashed in "+m+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(m/1e3)*100)/100+" MB PER SECOND")}}return Jx={normalizeInput:e,toHex:r,debugPrint:s,testSpeed:i},Jx}var Qx,nD;function cEe(){if(nD)return Qx;nD=1;const t=PJ();function e(E,w,b){const g=E[w]+E[b];let v=E[w+1]+E[b+1];g>=4294967296&&v++,E[w]=g,E[w+1]=v}function r(E,w,b,g){let v=E[w]+b;b<0&&(v+=4294967296);let A=E[w+1]+g;v>=4294967296&&A++,E[w]=v,E[w+1]=A}function n(E,w){return E[w]^E[w+1]<<8^E[w+2]<<16^E[w+3]<<24}function s(E,w,b,g,v,A){const C=u[v],x=u[v+1],T=u[A],N=u[A+1];e(c,E,w),r(c,E,C,x);let M=c[g]^c[E],k=c[g+1]^c[E+1];c[g]=k,c[g+1]=M,e(c,b,g),M=c[w]^c[b],k=c[w+1]^c[b+1],c[w]=M>>>24^k<<8,c[w+1]=k>>>24^M<<8,e(c,E,w),r(c,E,T,N),M=c[g]^c[E],k=c[g+1]^c[E+1],c[g]=M>>>16^k<<16,c[g+1]=k>>>16^M<<16,e(c,b,g),M=c[w]^c[b],k=c[w+1]^c[b+1],c[w]=k>>>31^M<<1,c[w+1]=M>>>31^k<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(E){return E*2})),c=new Uint32Array(32),u=new Uint32Array(32);function l(E,w){let b=0;for(b=0;b<16;b++)c[b]=E.h[b],c[b+16]=i[b];for(c[24]=c[24]^E.t,c[25]=c[25]^E.t/4294967296,w&&(c[28]=~c[28],c[29]=~c[29]),b=0;b<32;b++)u[b]=n(E.b,4*b);for(b=0;b<12;b++)s(0,8,16,24,a[b*16+0],a[b*16+1]),s(2,10,18,26,a[b*16+2],a[b*16+3]),s(4,12,20,28,a[b*16+4],a[b*16+5]),s(6,14,22,30,a[b*16+6],a[b*16+7]),s(0,10,20,30,a[b*16+8],a[b*16+9]),s(2,12,22,24,a[b*16+10],a[b*16+11]),s(4,14,16,26,a[b*16+12],a[b*16+13]),s(6,8,18,28,a[b*16+14],a[b*16+15]);for(b=0;b<16;b++)E.h[b]=E.h[b]^c[b]^c[b+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function f(E,w,b,g){if(E===0||E>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(w&&w.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(b&&b.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(g&&g.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const v={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:E};d.fill(0),d[0]=E,w&&(d[1]=w.length),d[2]=1,d[3]=1,b&&d.set(b,32),g&&d.set(g,48);for(let A=0;A<16;A++)v.h[A]=i[A]^n(d,A*4);return w&&(h(v,w),v.c=128),v}function h(E,w){for(let b=0;b<w.length;b++)E.c===128&&(E.t+=E.c,l(E,!1),E.c=0),E.b[E.c++]=w[b]}function p(E){for(E.t+=E.c;E.c<128;)E.b[E.c++]=0;l(E,!0);const w=new Uint8Array(E.outlen);for(let b=0;b<E.outlen;b++)w[b]=E.h[b>>2]>>8*(b&3);return w}function m(E,w,b,g,v){b=b||64,E=t.normalizeInput(E),g&&(g=t.normalizeInput(g)),v&&(v=t.normalizeInput(v));const A=f(b,w,g,v);return h(A,E),p(A)}function y(E,w,b,g,v){const A=m(E,w,b,g,v);return t.toHex(A)}return Qx={blake2b:m,blake2bHex:y,blake2bInit:f,blake2bUpdate:h,blake2bFinal:p},Qx}var Xx,sD;function uEe(){if(sD)return Xx;sD=1;const t=PJ();function e(p,m){return p[m]^p[m+1]<<8^p[m+2]<<16^p[m+3]<<24}function r(p,m,y,E,w,b){o[p]=o[p]+o[m]+w,o[E]=n(o[E]^o[p],16),o[y]=o[y]+o[E],o[m]=n(o[m]^o[y],12),o[p]=o[p]+o[m]+b,o[E]=n(o[E]^o[p],8),o[y]=o[y]+o[E],o[m]=n(o[m]^o[y],7)}function n(p,m){return p>>>m^p<<32-m}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(p,m){let y=0;for(y=0;y<8;y++)o[y]=p.h[y],o[y+8]=s[y];for(o[12]^=p.t,o[13]^=p.t/4294967296,m&&(o[14]=~o[14]),y=0;y<16;y++)a[y]=e(p.b,4*y);for(y=0;y<10;y++)r(0,4,8,12,a[i[y*16+0]],a[i[y*16+1]]),r(1,5,9,13,a[i[y*16+2]],a[i[y*16+3]]),r(2,6,10,14,a[i[y*16+4]],a[i[y*16+5]]),r(3,7,11,15,a[i[y*16+6]],a[i[y*16+7]]),r(0,5,10,15,a[i[y*16+8]],a[i[y*16+9]]),r(1,6,11,12,a[i[y*16+10]],a[i[y*16+11]]),r(2,7,8,13,a[i[y*16+12]],a[i[y*16+13]]),r(3,4,9,14,a[i[y*16+14]],a[i[y*16+15]]);for(y=0;y<8;y++)p.h[y]^=o[y]^o[y+8]}function u(p,m){if(!(p>0&&p<=32))throw new Error("Incorrect output length, should be in [1, 32]");const y=m?m.length:0;if(m&&!(y>0&&y<=32))throw new Error("Incorrect key length, should be in [1, 32]");const E={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:p};return E.h[0]^=16842752^y<<8^p,y>0&&(l(E,m),E.c=64),E}function l(p,m){for(let y=0;y<m.length;y++)p.c===64&&(p.t+=p.c,c(p,!1),p.c=0),p.b[p.c++]=m[y]}function d(p){for(p.t+=p.c;p.c<64;)p.b[p.c++]=0;c(p,!0);const m=new Uint8Array(p.outlen);for(let y=0;y<p.outlen;y++)m[y]=p.h[y>>2]>>8*(y&3)&255;return m}function f(p,m,y){y=y||32,p=t.normalizeInput(p);const E=u(y,m);return l(E,p),d(E)}function h(p,m,y){const E=f(p,m,y);return t.toHex(E)}return Xx={blake2s:f,blake2sHex:h,blake2sInit:u,blake2sUpdate:l,blake2sFinal:d},Xx}var e5,iD;function lEe(){if(iD)return e5;iD=1;const t=cEe(),e=uEe();return e5={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},e5}var dEe=lEe(),fEe={};const hEe=":";function Pu(t){const[e,r]=t.split(hEe);return{namespace:e,reference:r}}function xJ(t,e){return t.includes(":")?[t]:e.chains||[]}var pEe=Object.defineProperty,mEe=Object.defineProperties,gEe=Object.getOwnPropertyDescriptors,oD=Object.getOwnPropertySymbols,yEe=Object.prototype.hasOwnProperty,bEe=Object.prototype.propertyIsEnumerable,OR=(t,e,r)=>e in t?pEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aD=(t,e)=>{for(var r in e||(e={}))yEe.call(e,r)&&OR(t,r,e[r]);if(oD)for(var r of oD(e))bEe.call(e,r)&&OR(t,r,e[r]);return t},wEe=(t,e)=>mEe(t,gEe(e)),cD=(t,e,r)=>OR(t,typeof e!="symbol"?e+"":e,r);const EEe="ReactNative",Ji={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},vEe="js";function DI(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Bd(){return!Mu.getDocument()&&!!Mu.getNavigator()&&navigator.product===EEe}function _Ee(){return Bd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function AEe(){return Bd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Ag(){return!DI()&&!!Mu.getNavigator()&&!!Mu.getDocument()}function rE(){return Bd()?Ji.reactNative:DI()?Ji.node:Ag()?Ji.browser:Ji.unknown}function uD(){var t;try{return Bd()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function CEe(t,e){const r=new URLSearchParams(t);return Object.entries(e).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function SEe(t){var e,r;const n=OJ();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),wEe(aD(aD({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(s){return console.warn("Error populating app metadata",s),t||n}}function OJ(){return Qye.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function IEe(){if(rE()===Ji.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=Vye();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function TEe(){var t;const e=rE();return e===Ji.browser?[e,((t=Mu.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function RJ(t,e,r){const n=IEe(),s=TEe();return[[t,e].join("-"),[vEe,r].join("-"),n,s].join("/")}function PEe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=r.split("?"),l=RJ(t,e,n),d={auth:s,ua:l,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},f=CEe(u[1]||"",d);return u[0]+"?"+f}function rh(t,e){return t.filter(r=>e.includes(r)).length===t.length}function RR(t){return Object.fromEntries(t.entries())}function NR(t){return new Map(Object.entries(t))}function Uf(t=je.FIVE_MINUTES,e){const r=je.toMiliseconds(t||je.FIVE_MINUTES);let n,s,i,o;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},r),n=a,s=c})}}function rc(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const o=await t;n(o)}catch(o){s(o)}clearTimeout(i)})}function NJ(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function xEe(t){return NJ("topic",t)}function OEe(t){return NJ("id",t)}function BJ(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function dn(t,e){return je.fromMiliseconds(Date.now()+je.toMiliseconds(t))}function Ya(t){return Date.now()>=je.toMiliseconds(t)}function hr(t,e){return`${t}${e?`:${e}`:""}`}function ac(t=[],e=[]){return[...new Set([...t,...e])]}async function REe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=NEe(i,t,e),a=rE();if(a===Ji.browser){if(!((n=Mu.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}BEe(o)}else a===Ji.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function NEe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${MEe(n,!0)}`}else s=`${s}/wc?${n}`;return s}function BEe(t){let e="_self";DEe()?e="_top":(jEe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function kEe(t,e){let r="";try{if(Ag()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function lD(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function dD(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Q8(){return typeof process<"u"&&fEe.IS_VITEST==="true"}function jEe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function DEe(){try{return window.self!==window.top}catch{return!1}}function MEe(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function kJ(t){return Buffer.from(t,"base64").toString("utf-8")}function UEe(t){return new Promise(e=>setTimeout(e,t))}let LEe=class{constructor({limit:e}){cD(this,"limit"),cD(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const Sv=BigInt(2**32-1),fD=BigInt(32);function jJ(t,e=!1){return e?{h:Number(t&Sv),l:Number(t>>fD&Sv)}:{h:Number(t>>fD&Sv)|0,l:Number(t&Sv)|0}}function DJ(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:o,l:a}=jJ(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}const hD=(t,e,r)=>t>>>r,pD=(t,e,r)=>t<<32-r|e>>>r,Ol=(t,e,r)=>t>>>r|e<<32-r,Rl=(t,e,r)=>t<<32-r|e>>>r,kb=(t,e,r)=>t<<64-r|e>>>r-32,jb=(t,e,r)=>t>>>r-32|e<<64-r,FEe=(t,e)=>e,HEe=(t,e)=>t,qEe=(t,e,r)=>t<<r|e>>>32-r,zEe=(t,e,r)=>e<<r|t>>>32-r,$Ee=(t,e,r)=>e<<r-32|t>>>64-r,VEe=(t,e,r)=>t<<r-32|e>>>64-r;function Fo(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const X8=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),e3=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,GEe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),WEe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,KEe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),ZEe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Fp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function nP(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Uu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function da(t,...e){if(!nP(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Uu(t.outputLen),Uu(t.blockLen)}function Id(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function t3(t,e){da(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function uw(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Io(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function t5(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ia(t,e){return t<<32-e|t>>>e}const MJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function UJ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Yc=MJ?t=>t:t=>UJ(t);function YEe(t){for(let e=0;e<t.length;e++)t[e]=UJ(t[e]);return t}const Nl=MJ?t=>t:YEe,LJ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",JEe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function G0(t){if(da(t),LJ)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=JEe[t[r]];return e}const Tc={_0:48,_9:57,A:65,F:70,a:97,f:102};function mD(t){if(t>=Tc._0&&t<=Tc._9)return t-Tc._0;if(t>=Tc.A&&t<=Tc.F)return t-(Tc.A-10);if(t>=Tc.a&&t<=Tc.f)return t-(Tc.a-10)}function MI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(LJ)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=mD(t.charCodeAt(i)),a=mD(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function FJ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function aa(t){return typeof t=="string"&&(t=FJ(t)),da(t),t}function Ml(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];da(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}let iP=class{};function nE(t){const e=n=>t().update(aa(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function QEe(t){const e=(n,s)=>t(s).update(aa(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function bp(t=32){if(Fp&&typeof Fp.getRandomValues=="function")return Fp.getRandomValues(new Uint8Array(t));if(Fp&&typeof Fp.randomBytes=="function")return Uint8Array.from(Fp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const XEe=BigInt(0),oy=BigInt(1),eve=BigInt(2),tve=BigInt(7),rve=BigInt(256),nve=BigInt(113),HJ=[],qJ=[],zJ=[];for(let t=0,e=oy,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],HJ.push(2*(5*n+r)),qJ.push((t+1)*(t+2)/2%64);let s=XEe;for(let i=0;i<7;i++)e=(e<<oy^(e>>tve)*nve)%rve,e&eve&&(s^=oy<<(oy<<BigInt(i))-oy);zJ.push(s)}const $J=DJ(zJ,!0),sve=$J[0],ive=$J[1],gD=(t,e,r)=>r>32?$Ee(t,e,r):qEe(t,e,r),yD=(t,e,r)=>r>32?VEe(t,e,r):zEe(t,e,r);function ove(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=gD(u,l,1)^r[a],f=yD(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=qJ[o],c=gD(s,i,a),u=yD(s,i,a),l=HJ[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=sve[n],t[1]^=ive[n]}Io(r)}let ave=class VJ extends iP{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Uu(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=uw(this.state)}clone(){return this._cloneInto()}keccak(){Nl(this.state32),ove(this.state32,this.rounds),Nl(this.state32),this.posOut=0,this.pos=0}update(e){Id(this),e=aa(e),da(e);const{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Id(this,!1),da(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Uu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(t3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Io(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new VJ(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const cve=(t,e,r)=>nE(()=>new ave(e,t,r)),uve=cve(1,136,256/8);function lve(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function dve(t,e,r){return t&e^~t&r}function fve(t,e,r){return t&e^t&r^e&r}let GJ=class extends iP{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=t5(this.buffer)}update(e){Id(this),e=aa(e),da(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=t5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Id(this),t3(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,Io(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;lve(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=t5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const ol=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ns=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ss=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),hve=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),al=new Uint32Array(64);class pve extends GJ{constructor(e=32){super(64,e,8,!1),this.A=ol[0]|0,this.B=ol[1]|0,this.C=ol[2]|0,this.D=ol[3]|0,this.E=ol[4]|0,this.F=ol[5]|0,this.G=ol[6]|0,this.H=ol[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)al[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=al[d-15],h=al[d-2],p=Ia(f,7)^Ia(f,18)^f>>>3,m=Ia(h,17)^Ia(h,19)^h>>>10;al[d]=m+al[d-7]+p+al[d-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=Ia(a,6)^Ia(a,11)^Ia(a,25),h=l+f+dve(a,c,u)+hve[d]+al[d]|0,p=(Ia(n,2)^Ia(n,13)^Ia(n,22))+fve(n,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+p|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,s,i,o,a,c,u,l)}roundClean(){Io(al)}destroy(){this.set(0,0,0,0,0,0,0,0),Io(this.buffer)}}const WJ=DJ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mve=WJ[0],gve=WJ[1],cl=new Uint32Array(80),ul=new Uint32Array(80);let r3=class extends GJ{constructor(e=64){super(128,e,16,!1),this.Ah=ss[0]|0,this.Al=ss[1]|0,this.Bh=ss[2]|0,this.Bl=ss[3]|0,this.Ch=ss[4]|0,this.Cl=ss[5]|0,this.Dh=ss[6]|0,this.Dl=ss[7]|0,this.Eh=ss[8]|0,this.El=ss[9]|0,this.Fh=ss[10]|0,this.Fl=ss[11]|0,this.Gh=ss[12]|0,this.Gl=ss[13]|0,this.Hh=ss[14]|0,this.Hl=ss[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)cl[b]=e.getUint32(r),ul[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=cl[b-15]|0,v=ul[b-15]|0,A=Ol(g,v,1)^Ol(g,v,8)^hD(g,v,7),C=Rl(g,v,1)^Rl(g,v,8)^pD(g,v,7),x=cl[b-2]|0,T=ul[b-2]|0,N=Ol(x,T,19)^kb(x,T,61)^hD(x,T,6),M=Rl(x,T,19)^jb(x,T,61)^pD(x,T,6),k=GEe(C,M,ul[b-7],ul[b-16]),B=WEe(k,A,N,cl[b-7],cl[b-16]);cl[b]=B|0,ul[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=Ol(d,f,14)^Ol(d,f,18)^kb(d,f,41),v=Rl(d,f,14)^Rl(d,f,18)^jb(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=KEe(w,v,C,gve[b],ul[b]),T=ZEe(x,E,g,A,mve[b],cl[b]),N=x|0,M=Ol(n,s,28)^kb(n,s,34)^kb(n,s,39),k=Rl(n,s,28)^jb(n,s,34)^jb(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Fo(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=X8(N,k,U);n=e3(I,T,M,B),s=I|0}({h:n,l:s}=Fo(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Fo(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Fo(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Fo(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=Fo(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Fo(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Fo(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=Fo(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){Io(cl,ul)}destroy(){Io(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class yve extends r3{constructor(){super(48),this.Ah=ns[0]|0,this.Al=ns[1]|0,this.Bh=ns[2]|0,this.Bl=ns[3]|0,this.Ch=ns[4]|0,this.Cl=ns[5]|0,this.Dh=ns[6]|0,this.Dl=ns[7]|0,this.Eh=ns[8]|0,this.El=ns[9]|0,this.Fh=ns[10]|0,this.Fl=ns[11]|0,this.Gh=ns[12]|0,this.Gl=ns[13]|0,this.Hh=ns[14]|0,this.Hl=ns[15]|0}}const is=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class bve extends r3{constructor(){super(32),this.Ah=is[0]|0,this.Al=is[1]|0,this.Bh=is[2]|0,this.Bl=is[3]|0,this.Ch=is[4]|0,this.Cl=is[5]|0,this.Dh=is[6]|0,this.Dl=is[7]|0,this.Eh=is[8]|0,this.El=is[9]|0,this.Fh=is[10]|0,this.Fl=is[11]|0,this.Gh=is[12]|0,this.Gl=is[13]|0,this.Hh=is[14]|0,this.Hl=is[15]|0}}const oP=nE(()=>new pve),wve=nE(()=>new r3),Eve=nE(()=>new yve),vve=nE(()=>new bve),_ve=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),bn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),He=new Uint32Array(32);function ll(t,e,r,n,s,i){const o=s[i],a=s[i+1];let c=He[2*t],u=He[2*t+1],l=He[2*e],d=He[2*e+1],f=He[2*r],h=He[2*r+1],p=He[2*n],m=He[2*n+1],y=X8(c,l,o);u=e3(y,u,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^u,Dl:p^c},{Dh:m,Dl:p}={Dh:FEe(m,p),Dl:HEe(m)},{h,l:f}=Fo(h,f,m,p),{Bh:d,Bl:l}={Bh:d^h,Bl:l^f},{Bh:d,Bl:l}={Bh:Ol(d,l,24),Bl:Rl(d,l,24)},He[2*t]=c,He[2*t+1]=u,He[2*e]=l,He[2*e+1]=d,He[2*r]=f,He[2*r+1]=h,He[2*n]=p,He[2*n+1]=m}function dl(t,e,r,n,s,i){const o=s[i],a=s[i+1];let c=He[2*t],u=He[2*t+1],l=He[2*e],d=He[2*e+1],f=He[2*r],h=He[2*r+1],p=He[2*n],m=He[2*n+1],y=X8(c,l,o);u=e3(y,u,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^u,Dl:p^c},{Dh:m,Dl:p}={Dh:Ol(m,p,16),Dl:Rl(m,p,16)},{h,l:f}=Fo(h,f,m,p),{Bh:d,Bl:l}={Bh:d^h,Bl:l^f},{Bh:d,Bl:l}={Bh:kb(d,l,63),Bl:jb(d,l,63)},He[2*t]=c,He[2*t+1]=u,He[2*e]=l,He[2*e+1]=d,He[2*r]=f,He[2*r+1]=h,He[2*n]=p,He[2*n+1]=m}function Ave(t,e={},r,n,s){if(Uu(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Cve extends iP{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Uu(e),Uu(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=uw(this.buffer)}update(e){Id(this),e=aa(e),da(e);const{blockLen:r,buffer:n,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===r&&(Nl(s),this.compress(s,0,!1),Nl(s),this.pos=0);const u=Math.min(r-this.pos,i-c),l=o+c;if(u===r&&!(l%4)&&c+u<i){const d=new Uint32Array(a,l,Math.floor((i-c)/4));Nl(d);for(let f=0;c+r<i;f+=s.length,c+=r)this.length+=r,this.compress(d,f,!1);Nl(d);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){Id(this),t3(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Io(this.buffer.subarray(r)),Nl(n),this.compress(n,0,!0),Nl(n);const s=uw(e);this.get().forEach((i,o)=>s[o]=Yc(i))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=i,e.finished=s,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Sve extends Cve{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=bn[0]|0,this.v0h=bn[1]|0,this.v1l=bn[2]|0,this.v1h=bn[3]|0,this.v2l=bn[4]|0,this.v2h=bn[5]|0,this.v3l=bn[6]|0,this.v3h=bn[7]|0,this.v4l=bn[8]|0,this.v4h=bn[9]|0,this.v5l=bn[10]|0,this.v5h=bn[11]|0,this.v6l=bn[12]|0,this.v6h=bn[13]|0,this.v7l=bn[14]|0,this.v7h=bn[15]|0,Ave(r,e,64,16,16);let{key:n,personalization:s,salt:i}=e,o=0;if(n!==void 0&&(n=aa(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=aa(i);const a=uw(i);this.v4l^=Yc(a[0]),this.v4h^=Yc(a[1]),this.v5l^=Yc(a[2]),this.v5h^=Yc(a[3])}if(s!==void 0){s=aa(s);const a=uw(s);this.v6l^=Yc(a[0]),this.v6h^=Yc(a[1]),this.v7l^=Yc(a[2]),this.v7h^=Yc(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:u,v4h:l,v5l:d,v5h:f,v6l:h,v6h:p,v7l:m,v7h:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=l|0,this.v5l=d|0,this.v5h=f|0,this.v6l=h|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(e,r,n){this.get().forEach((c,u)=>He[u]=c),He.set(bn,16);let{h:s,l:i}=jJ(BigInt(this.length));He[24]=bn[8]^i,He[25]=bn[9]^s,n&&(He[28]=~He[28],He[29]=~He[29]);let o=0;const a=_ve;for(let c=0;c<12;c++)ll(0,4,8,12,e,r+2*a[o++]),dl(0,4,8,12,e,r+2*a[o++]),ll(1,5,9,13,e,r+2*a[o++]),dl(1,5,9,13,e,r+2*a[o++]),ll(2,6,10,14,e,r+2*a[o++]),dl(2,6,10,14,e,r+2*a[o++]),ll(3,7,11,15,e,r+2*a[o++]),dl(3,7,11,15,e,r+2*a[o++]),ll(0,5,10,15,e,r+2*a[o++]),dl(0,5,10,15,e,r+2*a[o++]),ll(1,6,11,12,e,r+2*a[o++]),dl(1,6,11,12,e,r+2*a[o++]),ll(2,7,8,13,e,r+2*a[o++]),dl(2,7,8,13,e,r+2*a[o++]),ll(3,4,9,14,e,r+2*a[o++]),dl(3,4,9,14,e,r+2*a[o++]);this.v0l^=He[0]^He[16],this.v0h^=He[1]^He[17],this.v1l^=He[2]^He[18],this.v1h^=He[3]^He[19],this.v2l^=He[4]^He[20],this.v2h^=He[5]^He[21],this.v3l^=He[6]^He[22],this.v3h^=He[7]^He[23],this.v4l^=He[8]^He[24],this.v4h^=He[9]^He[25],this.v5l^=He[10]^He[26],this.v5h^=He[11]^He[27],this.v6l^=He[12]^He[28],this.v6h^=He[13]^He[29],this.v7l^=He[14]^He[30],this.v7h^=He[15]^He[31],Io(He)}destroy(){this.destroyed=!0,Io(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ive=QEe(t=>new Sve(t)),Tve="https://rpc.walletconnect.org/v1";function KJ(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(uve(r)).toString("hex")}async function Pve(t,e,r,n,s,i){switch(r.t){case"eip191":return await xve(t,e,r.s);case"eip1271":return await Ove(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function xve(t,e,r){const n=f1e(r);return S1e({payload:KJ(e),signature:n}).toLowerCase()===t.toLowerCase()}async function Ove(t,e,r,n,s,i){const o=Pu(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u=r.substring(2),l=(u.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:KJ(e)).substring(2),f=a+d+c+l+u,h=await fetch(`${i||Tve}/?chainId=${n}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Rve(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Rve(){return Date.now()+Math.floor(Math.random()*1e3)}function Nve(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return _g.encode(i)}function Bve(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const s=Ive(n,{dkLen:32});return _g.encode(s)}function bD(t){const e=new Uint8Array(oP(kve(t)));return _g.encode(e)}function kve(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function wD(t){const e=Buffer.from(t,"base64"),r=lwe(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=twe(r),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(n)]),o=vve(i);return C1e.encode(o).replace(/=+$/,"")}function r5(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function jve(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(r5(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(r5(r.length)),s.push(r),s.push(Buffer.from([26])),s.push(r5(n.length)),s.push(n);const i=Buffer.concat(s),o=oP(i);return Buffer.from(o).toString("hex").toUpperCase()}function Dve(t){var e,r;const n=[];try{if(typeof t=="string")return n.push(t),n;if(typeof t!="object")return n;t!=null&&t.id&&n.push(t.id);const s=(r=(e=t==null?void 0:t.capabilities)==null?void 0:e.caip345)==null?void 0:r.transactionHashes;s&&n.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return n}var Mve=Object.defineProperty,Uve=Object.defineProperties,Lve=Object.getOwnPropertyDescriptors,ED=Object.getOwnPropertySymbols,Fve=Object.prototype.hasOwnProperty,Hve=Object.prototype.propertyIsEnumerable,vD=(t,e,r)=>e in t?Mve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qve=(t,e)=>{for(var r in e||(e={}))Fve.call(e,r)&&vD(t,r,e[r]);if(ED)for(var r of ED(e))Hve.call(e,r)&&vD(t,r,e[r]);return t},zve=(t,e)=>Uve(t,Lve(e));const ZJ="did:pkh:",$ve={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},Vve=t=>t?$ve[t]||t:"",aP=t=>t==null?void 0:t.split(":"),Gve=t=>{const e=t&&aP(t);if(e)return t.includes(ZJ)?e[3]:e[1]},Wve=t=>{const e=t&&aP(t);if(e)return t.includes(ZJ)?e[2]:e[0]},BR=t=>{const e=t&&aP(t);if(e)return e[2]+":"+e[3]},UI=t=>{const e=t&&aP(t);if(e)return e.pop()};async function _D(t){const{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=YJ(s,s.iss),o=UI(s.iss);return await Pve(o,i,n,BR(s.iss),r)}const YJ=(t,e)=>{const r=Wve(e);if(!r)throw new Error("Invalid issuer: "+e);const n=`${t.domain} wants you to sign in with your ${Vve(r)} account:`,s=UI(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${Gve(e)}`,u=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(y=>`
- ${y}`).join("")}`:void 0,m=xS(t.resources);if(m){const y=lw(m);i=r_e(i,y)}return[n,s,"",i,"",o,a,c,u,l,d,f,h,p].filter(y=>y!=null).join(`
`)};function Kve(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Zve(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Xh(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{const i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function Yve(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:Jve(e,r,n)}}}function Jve(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function JJ(t){return Xh(t),`urn:recap:${Kve(t).replace(/=/g,"")}`}function lw(t){const e=Zve(t.replace("urn:recap:",""));return Xh(e),e}function Qve(t,e,r){const n=Yve(t,e,r);return JJ(n)}function Xve(t){return t&&t.includes("urn:recap:")}function e_e(t,e){const r=lw(t),n=lw(e),s=t_e(r,n);return JJ(s)}function t_e(t,e){Xh(t),Xh(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;n.att[s]=zve(qve({},n.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((u=e.att[s])==null?void 0:u[a])})})}),n}function r_e(t="",e){Xh(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const u={};c.forEach(d=>{u[d.ability]||(u[d.ability]=[]),u[d.ability].push(d.action)});const l=Object.keys(u).map(d=>(s++,`(${s}) '${d}': '${u[d].join("', '")}' for '${a}'.`));n.push(l.join(", ").replace(".,","."))});const i=n.join(" "),o=`${r}${i}`;return`${t?t+" ":""}${o}`}function AD(t){var e;const r=lw(t);Xh(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function CD(t){const e=lw(t);Xh(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function xS(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Xve(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function QJ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function n5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ii(t,...e){if(!QJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function SD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function n_e(t,e){ii(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ud(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Xm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function s_e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const i_e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function o_e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function jR(t){if(typeof t=="string")t=o_e(t);else if(QJ(t))t=DR(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function a_e(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function c_e(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const u_e=(t,e)=>{function r(n,...s){if(ii(n),!i_e)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=s[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?ii(u):ii(u,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&ii(s[1]);const o=e(n,...s),a=(u,l)=>{if(l!==void 0){if(u!==2)throw new Error("cipher output not supported");ii(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ii(u),a(o.encrypt.length,l),o.encrypt(u,l)},decrypt(u,l){if(ii(u),i&&u.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,l),o.decrypt(u,l)}}}return Object.assign(r,t),r};function ID(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!d_e(e))throw new Error("invalid output, must be aligned");return e}function TD(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function l_e(t,e,r){kR(r);const n=new Uint8Array(16),s=s_e(n);return TD(s,0,BigInt(e),r),TD(s,8,BigInt(t),r),n}function d_e(t){return t.byteOffset%4===0}function DR(t){return Uint8Array.from(t)}const XJ=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),f_e=XJ("expand 16-byte k"),h_e=XJ("expand 32-byte k"),p_e=ud(f_e),m_e=ud(h_e);function Jt(t,e){return t<<e|t>>>32-e}function MR(t){return t.byteOffset%4===0}const Iv=64,g_e=16,eQ=2**32-1,PD=new Uint32Array;function y_e(t,e,r,n,s,i,o,a){const c=s.length,u=new Uint8Array(Iv),l=ud(u),d=MR(s)&&MR(i),f=d?ud(s):PD,h=d?ud(i):PD;for(let p=0;p<c;o++){if(t(e,r,n,l,o,a),o>=eQ)throw new Error("arx: counter overflow");const m=Math.min(Iv,c-p);if(d&&m===Iv){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let E=0,w;E<g_e;E++)w=y+E,h[w]=f[w]^l[E];p+=Iv;continue}for(let y=0,E;y<m;y++)E=p+y,i[E]=s[E]^u[y];p+=m}}function b_e(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:o}=a_e({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return n5(s),n5(o),kR(i),kR(r),(a,c,u,l,d=0)=>{ii(a),ii(c),ii(u);const f=u.length;if(l===void 0&&(l=new Uint8Array(f)),ii(l),n5(d),d<0||d>=eQ)throw new Error("arx: counter overflow");if(l.length<f)throw new Error(`arx: output (${l.length}) is shorter than data (${f})`);const h=[];let p=a.length,m,y;if(p===32)h.push(m=DR(a)),y=m_e;else if(p===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),y=p_e,h.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);MR(c)||h.push(c=DR(c));const E=ud(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,E,ud(c.subarray(0,16)),E),c=c.subarray(16)}const w=16-s;if(w!==c.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(w!==12){const g=new Uint8Array(12);g.set(c,i?0:12-c.length),c=g,h.push(c)}const b=ud(c);return y_e(t,y,E,b,u,l,d,o),Xm(...h),l}}const Mn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class w_e{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=jR(e),ii(e,32);const r=Mn(e,0),n=Mn(e,2),s=Mn(e,4),i=Mn(e,6),o=Mn(e,8),a=Mn(e,10),c=Mn(e,12),u=Mn(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Mn(e,16+2*l)}process(e,r,n=!1){const s=n?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],u=o[2],l=o[3],d=o[4],f=o[5],h=o[6],p=o[7],m=o[8],y=o[9],E=Mn(e,r+0),w=Mn(e,r+2),b=Mn(e,r+4),g=Mn(e,r+6),v=Mn(e,r+8),A=Mn(e,r+10),C=Mn(e,r+12),x=Mn(e,r+14);let T=i[0]+(E&8191),N=i[1]+((E>>>13|w<<3)&8191),M=i[2]+((w>>>10|b<<6)&8191),k=i[3]+((b>>>7|g<<9)&8191),B=i[4]+((g>>>4|v<<12)&8191),U=i[5]+(v>>>1&8191),I=i[6]+((v>>>14|A<<2)&8191),S=i[7]+((A>>>11|C<<5)&8191),_=i[8]+((C>>>8|x<<8)&8191),R=i[9]+(x>>>5|s),O=0,P=O+T*a+N*(5*y)+M*(5*m)+k*(5*p)+B*(5*h);O=P>>>13,P&=8191,P+=U*(5*f)+I*(5*d)+S*(5*l)+_*(5*u)+R*(5*c),O+=P>>>13,P&=8191;let D=O+T*c+N*a+M*(5*y)+k*(5*m)+B*(5*p);O=D>>>13,D&=8191,D+=U*(5*h)+I*(5*f)+S*(5*d)+_*(5*l)+R*(5*u),O+=D>>>13,D&=8191;let j=O+T*u+N*c+M*a+k*(5*y)+B*(5*m);O=j>>>13,j&=8191,j+=U*(5*p)+I*(5*h)+S*(5*f)+_*(5*d)+R*(5*l),O+=j>>>13,j&=8191;let F=O+T*l+N*u+M*c+k*a+B*(5*y);O=F>>>13,F&=8191,F+=U*(5*m)+I*(5*p)+S*(5*h)+_*(5*f)+R*(5*d),O+=F>>>13,F&=8191;let q=O+T*d+N*l+M*u+k*c+B*a;O=q>>>13,q&=8191,q+=U*(5*y)+I*(5*m)+S*(5*p)+_*(5*h)+R*(5*f),O+=q>>>13,q&=8191;let z=O+T*f+N*d+M*l+k*u+B*c;O=z>>>13,z&=8191,z+=U*a+I*(5*y)+S*(5*m)+_*(5*p)+R*(5*h),O+=z>>>13,z&=8191;let W=O+T*h+N*f+M*d+k*l+B*u;O=W>>>13,W&=8191,W+=U*c+I*a+S*(5*y)+_*(5*m)+R*(5*p),O+=W>>>13,W&=8191;let K=O+T*p+N*h+M*f+k*d+B*l;O=K>>>13,K&=8191,K+=U*u+I*c+S*a+_*(5*y)+R*(5*m),O+=K>>>13,K&=8191;let re=O+T*m+N*p+M*h+k*f+B*d;O=re>>>13,re&=8191,re+=U*l+I*u+S*c+_*a+R*(5*y),O+=re>>>13,re&=8191;let Q=O+T*y+N*m+M*p+k*h+B*f;O=Q>>>13,Q&=8191,Q+=U*d+I*l+S*u+_*c+R*a,O+=Q>>>13,Q&=8191,O=(O<<2)+O|0,O=O+P|0,P=O&8191,O=O>>>13,D+=O,i[0]=P,i[1]=D,i[2]=j,i[3]=F,i[4]=q,i[5]=z,i[6]=W,i[7]=K,i[8]=re,i[9]=Q}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+s,s=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;Xm(n)}update(e){SD(this),e=jR(e),ii(e);const{buffer:r,blockLen:n}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);if(o===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Xm(this.h,this.r,this.buffer,this.pad)}digestInto(e){SD(this),n_e(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function E_e(t){const e=(n,s)=>t(s).update(jR(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const v_e=E_e(t=>new w_e(t));function __e(t,e,r,n,s,i=20){let o=t[0],a=t[1],c=t[2],u=t[3],l=e[0],d=e[1],f=e[2],h=e[3],p=e[4],m=e[5],y=e[6],E=e[7],w=s,b=r[0],g=r[1],v=r[2],A=o,C=a,x=c,T=u,N=l,M=d,k=f,B=h,U=p,I=m,S=y,_=E,R=w,O=b,P=g,D=v;for(let F=0;F<i;F+=2)A=A+N|0,R=Jt(R^A,16),U=U+R|0,N=Jt(N^U,12),A=A+N|0,R=Jt(R^A,8),U=U+R|0,N=Jt(N^U,7),C=C+M|0,O=Jt(O^C,16),I=I+O|0,M=Jt(M^I,12),C=C+M|0,O=Jt(O^C,8),I=I+O|0,M=Jt(M^I,7),x=x+k|0,P=Jt(P^x,16),S=S+P|0,k=Jt(k^S,12),x=x+k|0,P=Jt(P^x,8),S=S+P|0,k=Jt(k^S,7),T=T+B|0,D=Jt(D^T,16),_=_+D|0,B=Jt(B^_,12),T=T+B|0,D=Jt(D^T,8),_=_+D|0,B=Jt(B^_,7),A=A+M|0,D=Jt(D^A,16),S=S+D|0,M=Jt(M^S,12),A=A+M|0,D=Jt(D^A,8),S=S+D|0,M=Jt(M^S,7),C=C+k|0,R=Jt(R^C,16),_=_+R|0,k=Jt(k^_,12),C=C+k|0,R=Jt(R^C,8),_=_+R|0,k=Jt(k^_,7),x=x+B|0,O=Jt(O^x,16),U=U+O|0,B=Jt(B^U,12),x=x+B|0,O=Jt(O^x,8),U=U+O|0,B=Jt(B^U,7),T=T+N|0,P=Jt(P^T,16),I=I+P|0,N=Jt(N^I,12),T=T+N|0,P=Jt(P^T,8),I=I+P|0,N=Jt(N^I,7);let j=0;n[j++]=o+A|0,n[j++]=a+C|0,n[j++]=c+x|0,n[j++]=u+T|0,n[j++]=l+N|0,n[j++]=d+M|0,n[j++]=f+k|0,n[j++]=h+B|0,n[j++]=p+U|0,n[j++]=m+I|0,n[j++]=y+S|0,n[j++]=E+_|0,n[j++]=w+R|0,n[j++]=b+O|0,n[j++]=g+P|0,n[j++]=v+D|0}const A_e=b_e(__e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),C_e=new Uint8Array(16),xD=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(C_e.subarray(r))},S_e=new Uint8Array(32);function OD(t,e,r,n,s){const i=t(e,r,S_e),o=v_e.create(i);s&&xD(o,s),xD(o,n);const a=l_e(n.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Xm(i,a),c}const I_e=t=>(e,r,n)=>({encrypt(s,i){const o=s.length;i=ID(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,r,a,a,1);const c=OD(t,e,r,a,n);return i.set(c,o),Xm(c),i},decrypt(s,i){i=ID(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=OD(t,e,r,o,n);if(!c_e(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),Xm(c),i}}),tQ=u_e({blockSize:64,nonceLength:12,tagLength:16},I_e(A_e));let rQ=class extends iP{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sP(e);const n=aa(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Io(i)}update(e){return Id(this),this.iHash.update(e),this}digestInto(e){Id(this),da(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const cP=(t,e,r)=>new rQ(t,e).update(r).digest();cP.create=(t,e)=>new rQ(t,e);function T_e(t,e,r){return sP(t),r===void 0&&(r=new Uint8Array(t.outputLen)),cP(t,aa(r),aa(e))}const s5=Uint8Array.from([0]),RD=Uint8Array.of();function P_e(t,e,r,n=32){sP(t),Uu(n);const s=t.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/s);r===void 0&&(r=RD);const o=new Uint8Array(i*s),a=cP.create(t,e),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let l=0;l<i;l++)s5[0]=l+1,c.update(l===0?RD:u).update(r).update(s5).digestInto(u),o.set(u,s*l),a._cloneInto(c);return a.destroy(),c.destroy(),Io(u,s5),o.slice(0,n)}const x_e=(t,e,r,n,s)=>P_e(t,T_e(t,e,r),n,s),uP=oP,n3=BigInt(0),UR=BigInt(1);function LI(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function nh(t,e,r=""){const n=nP(t),s=t==null?void 0:t.length,i=e!==void 0;if(!n||i&&s!==e){const o=r&&`"${r}" `,a=i?` of length ${e}`:"",c=n?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function Tv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function nQ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?n3:BigInt("0x"+t)}function lP(t){return nQ(G0(t))}function FI(t){return da(t),nQ(G0(Uint8Array.from(t).reverse()))}function s3(t,e){return MI(t.toString(16).padStart(e*2,"0"))}function i3(t,e){return s3(t,e).reverse()}function ps(t,e,r){let n;if(typeof e=="string")try{n=MI(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(nP(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}const i5=t=>typeof t=="bigint"&&n3<=t;function O_e(t,e,r){return i5(t)&&i5(e)&&i5(r)&&e<=t&&t<r}function LR(t,e,r,n){if(!O_e(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function sQ(t){let e;for(e=0;t>n3;t>>=UR,e+=1);return e}const sE=t=>(UR<<BigInt(t))-UR;function R_e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=f=>new Uint8Array(f),s=f=>Uint8Array.of(f);let i=n(t),o=n(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},u=(...f)=>r(o,i,...f),l=(f=n(0))=>{o=u(s(0),f),i=u(),f.length!==0&&(o=u(s(1),f),i=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){i=u();const p=i.slice();h.push(p),f+=i.length}return Ml(...h)};return(f,h)=>{c(),l(f);let p;for(;!(p=h(d()));)l();return c(),p}}function dP(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}function ND(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const fi=BigInt(0),Ls=BigInt(1),sh=BigInt(2),iQ=BigInt(3),oQ=BigInt(4),aQ=BigInt(5),N_e=BigInt(7),cQ=BigInt(8),B_e=BigInt(9),uQ=BigInt(16);function $i(t,e){const r=t%e;return r>=fi?r:e+r}function Lo(t,e,r){let n=t;for(;e-- >fi;)n*=n,n%=r;return n}function BD(t,e){if(t===fi)throw new Error("invert: expected non-zero number");if(e<=fi)throw new Error("invert: expected positive modulus, got "+e);let r=$i(t,e),n=e,s=fi,i=Ls;for(;r!==fi;){const o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==Ls)throw new Error("invert: does not exist");return $i(s,e)}function o3(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function lQ(t,e){const r=(t.ORDER+Ls)/oQ,n=t.pow(e,r);return o3(t,n,e),n}function k_e(t,e){const r=(t.ORDER-aQ)/cQ,n=t.mul(e,sh),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,sh),s),a=t.mul(i,t.sub(o,t.ONE));return o3(t,a,e),a}function j_e(t){const e=kd(t),r=dQ(t),n=r(e,e.neg(e.ONE)),s=r(e,n),i=r(e,e.neg(n)),o=(t+N_e)/uQ;return(a,c)=>{let u=a.pow(c,o),l=a.mul(u,n);const d=a.mul(u,s),f=a.mul(u,i),h=a.eql(a.sqr(l),c),p=a.eql(a.sqr(d),c);u=a.cmov(u,l,h),l=a.cmov(f,d,p);const m=a.eql(a.sqr(l),c),y=a.cmov(u,l,m);return o3(a,y,c),y}}function dQ(t){if(t<iQ)throw new Error("sqrt is not defined for small field");let e=t-Ls,r=0;for(;e%sh===fi;)e/=sh,r++;let n=sh;const s=kd(t);for(;kD(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return lQ;let i=s.pow(n,e);const o=(e+Ls)/sh;return function(a,c){if(a.is0(c))return c;if(kD(a,c)!==1)throw new Error("Cannot find square root");let u=r,l=a.mul(a.ONE,i),d=a.pow(c,e),f=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let h=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===u)throw new Error("Cannot find square root");const m=Ls<<BigInt(u-h-1),y=a.pow(l,m);u=h,l=a.sqr(y),d=a.mul(d,l),f=a.mul(f,y)}return f}}function D_e(t){return t%oQ===iQ?lQ:t%cQ===aQ?k_e:t%uQ===B_e?j_e(t):dQ(t)}const M_e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function U_e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=M_e.reduce((n,s)=>(n[s]="function",n),e);return dP(t,r),t}function L_e(t,e,r){if(r<fi)throw new Error("invalid exponent, negatives unsupported");if(r===fi)return t.ONE;if(r===Ls)return e;let n=t.ONE,s=e;for(;r>fi;)r&Ls&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ls;return n}function fQ(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function kD(t,e){const r=(t.ORDER-Ls)/sh,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function hQ(t,e){e!==void 0&&Uu(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function kd(t,e,r=!1,n={}){if(t<=fi)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const f=e;f.BITS&&(s=f.BITS),f.sqrt&&(i=f.sqrt),typeof f.isLE=="boolean"&&(r=f.isLE),typeof f.modFromBytes=="boolean"&&(o=f.modFromBytes),a=f.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(i=n.sqrt);const{nBitLength:c,nByteLength:u}=hQ(t,s);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:u,MASK:sE(c),ZERO:fi,ONE:Ls,allowedLengths:a,create:f=>$i(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return fi<=f&&f<t},is0:f=>f===fi,isValidNot0:f=>!d.is0(f)&&d.isValid(f),isOdd:f=>(f&Ls)===Ls,neg:f=>$i(-f,t),eql:(f,h)=>f===h,sqr:f=>$i(f*f,t),add:(f,h)=>$i(f+h,t),sub:(f,h)=>$i(f-h,t),mul:(f,h)=>$i(f*h,t),pow:(f,h)=>L_e(d,f,h),div:(f,h)=>$i(f*BD(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>BD(f,t),sqrt:i||(f=>(l||(l=D_e(t)),l(d,f))),toBytes:f=>r?i3(f,u):s3(f,u),fromBytes:(f,h=!0)=>{if(a){if(!a.includes(f.length)||f.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);const m=new Uint8Array(u);m.set(f,r?0:m.length-f.length),f=m}if(f.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+f.length);let p=r?FI(f):lP(f);if(o&&(p=$i(p,t)),!h&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:f=>fQ(d,f),cmov:(f,h,p)=>p?h:f});return Object.freeze(d)}function pQ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function mQ(t){const e=pQ(t);return e+Math.ceil(e/2)}function F_e(t,e,r=!1){const n=t.length,s=pQ(e),i=mQ(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=r?FI(t):lP(t),a=$i(o,e-Ls)+Ls;return r?i3(a,s):s3(a,s)}const eg=BigInt(0),ih=BigInt(1);function HI(t,e){const r=e.negate();return t?r:e}function o5(t,e){const r=fQ(t.Fp,e.map(n=>n.Z));return e.map((n,s)=>t.fromAffine(n.toAffine(r[s])))}function gQ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function a5(t,e){gQ(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=sE(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function jD(t,e,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r;let a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=ih);const u=e*n,l=u+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:u}}function H_e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function q_e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const c5=new WeakMap,yQ=new WeakMap;function u5(t){return yQ.get(t)||1}function DD(t){if(t!==eg)throw new Error("invalid wNAF")}class z_e{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let s=e;for(;r>eg;)r&ih&&(n=n.add(s)),s=s.double(),r>>=ih;return n}precomputeWindow(e,r){const{windows:n,windowSize:s}=a5(r,this.bits),i=[];let o=e,a=o;for(let c=0;c<n;c++){a=o,i.push(a);for(let u=1;u<s;u++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=a5(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:l,isNeg:d,isNegF:f,offsetF:h}=jD(n,a,o);n=c,l?i=i.add(HI(f,r[h])):s=s.add(HI(d,r[u]))}return DD(n),{p:s,f:i}}wNAFUnsafe(e,r,n,s=this.ZERO){const i=a5(e,this.bits);for(let o=0;o<i.windows&&n!==eg;o++){const{nextN:a,offset:c,isZero:u,isNeg:l}=jD(n,o,i);if(n=a,!u){const d=r[c];s=s.add(l?d.negate():d)}}return DD(n),s}getPrecomputes(e,r,n){let s=c5.get(r);return s||(s=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(s=n(s)),c5.set(r,s))),s}cached(e,r,n){const s=u5(e);return this.wNAF(s,this.getPrecomputes(s,e,n),r)}unsafe(e,r,n,s){const i=u5(e);return i===1?this._unsafeLadder(e,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),r,s)}createCache(e,r){gQ(r,this.bits),yQ.set(e,r),c5.delete(e)}hasCache(e){return u5(e)!==1}}function $_e(t,e,r,n){let s=e,i=t.ZERO,o=t.ZERO;for(;r>eg||n>eg;)r&ih&&(i=i.add(s)),n&ih&&(o=o.add(s)),s=s.double(),r>>=ih,n>>=ih;return{p1:i,p2:o}}function V_e(t,e,r,n){H_e(r,t),q_e(n,e);const s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=sQ(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=sE(c),l=new Array(Number(u)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){l.fill(o);for(let m=0;m<i;m++){const y=n[m],E=Number(y>>BigInt(h)&u);l[E]=l[E].add(r[m])}let p=o;for(let m=l.length-1,y=o;m>0;m--)y=y.add(l[m]),p=p.add(y);if(f=f.add(p),h!==0)for(let m=0;m<c;m++)f=f.double()}return f}function MD(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return U_e(e),e}else return kd(t,{isLE:r})}function G_e(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>eg))throw new Error(`CURVE.${a} must be positive bigint`)}const s=MD(e.p,r.Fp,n),i=MD(e.n,r.Fn,n),o=["Gx","Gy","a","b"];for(const a of o)if(!s.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),FJ("HashToScalar-");const ay=BigInt(0),Hp=BigInt(1),Pv=BigInt(2);function W_e(t){return dP(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function K_e(t){const e=W_e(t),{P:r,type:n,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||bp,u=a?255:448,l=a?32:56,d=BigInt(a?9:5),f=BigInt(a?121665:39081),h=a?Pv**BigInt(254):Pv**BigInt(447),p=a?BigInt(8)*Pv**BigInt(251)-Hp:BigInt(4)*Pv**BigInt(445)-Hp,m=h+p+Hp,y=k=>$i(k,r),E=w(d);function w(k){return i3(y(k),l)}function b(k){const B=ps("u coordinate",k,l);return a&&(B[31]&=127),y(FI(B))}function g(k){return FI(s(ps("scalar",k,l)))}function v(k,B){const U=x(b(B),g(k));if(U===ay)throw new Error("invalid private or public key received");return w(U)}function A(k){return v(k,E)}function C(k,B,U){const I=y(k*(B-U));return B=y(B-I),U=y(U+I),{x_2:B,x_3:U}}function x(k,B){LR("u",k,ay,r),LR("scalar",B,h,m);const U=B,I=k;let S=Hp,_=ay,R=k,O=Hp,P=ay;for(let j=BigInt(u-1);j>=ay;j--){const F=U>>j&Hp;P^=F,{x_2:S,x_3:R}=C(P,S,R),{x_2:_,x_3:O}=C(P,_,O),P=F;const q=S+_,z=y(q*q),W=S-_,K=y(W*W),re=z-K,Q=R+O,X=R-O,ie=y(X*q),Y=y(Q*W),V=ie+Y,Z=ie-Y;R=y(V*V),O=y(I*y(Z*Z)),S=y(z*K),_=y(re*(z+y(f*re)))}({x_2:S,x_3:R}=C(P,S,R)),{x_2:_,x_3:O}=C(P,_,O);const D=i(_);return y(S*D)}const T={secretKey:l,publicKey:l,seed:l},N=(k=c(l))=>(da(k,T.seed),k);function M(k){const B=N(k);return{secretKey:B,publicKey:A(B)}}return{keygen:M,getSharedSecret:(k,B)=>v(k,B),getPublicKey:k=>A(k),scalarMult:v,scalarMultBase:A,utils:{randomSecretKey:N,randomPrivateKey:N},GuBytes:E.slice(),lengths:T}}const Z_e=BigInt(1),UD=BigInt(2),Y_e=BigInt(3),J_e=BigInt(5);BigInt(8);const bQ=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Q_e={p:bQ,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function X_e(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=bQ,o=t*t%i*t%i,a=Lo(o,UD,i)*o%i,c=Lo(a,Z_e,i)*t%i,u=Lo(c,J_e,i)*c%i,l=Lo(u,e,i)*u%i,d=Lo(l,r,i)*l%i,f=Lo(d,n,i)*d%i,h=Lo(f,s,i)*f%i,p=Lo(h,s,i)*f%i,m=Lo(p,e,i)*u%i;return{pow_p_5_8:Lo(m,UD,i)*t%i,b2:o}}function eAe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const tAe=kd(Q_e.p,{isLE:!0}),FR=(()=>{const t=tAe.ORDER;return K_e({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=X_e(e);return $i(Lo(r,Y_e,t)*n,t)},adjustScalarBytes:eAe})})(),LD=(t,e)=>(t+(t>=0?e:-e)/wQ)/e;function rAe(t,e,r){const[[n,s],[i,o]]=e,a=LD(o*t,r),c=LD(-s*t,r);let u=t-a*n-c*i,l=-a*s-c*o;const d=u<Su,f=l<Su;d&&(u=-u),f&&(l=-l);const h=sE(Math.ceil(sQ(r)/2))+W0;if(u<Su||u>=h||l<Su||l>=h)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}function HR(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function l5(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return LI(r.lowS,"lowS"),LI(r.prehash,"prehash"),r.format!==void 0&&HR(r.format),r}class nAe extends Error{constructor(e=""){super(e)}}const au={Err:nAe,_tlv:{encode:(t,e)=>{const{Err:r}=au;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=Tv(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?Tv(s.length/2|128):"";return Tv(t)+i+s+e},decode(t,e){const{Err:r}=au;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=au;if(t<Su)throw new e("integer: negative integers are not allowed");let r=Tv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=au;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return lP(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=au,s=ps("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,i),{v:u,l}=n.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=au,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},Su=BigInt(0),W0=BigInt(1),wQ=BigInt(2),xv=BigInt(3),sAe=BigInt(4);function x0(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let s=ps("private key",e);try{n=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function iAe(t,e={}){const r=G_e("weierstrass",t,e),{Fp:n,Fn:s}=r;let i=r.CURVE;const{h:o,n:a}=i;dP(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=vQ(n,s);function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(k,B,U){const{x:I,y:S}=B.toAffine(),_=n.toBytes(I);if(LI(U,"isCompressed"),U){l();const R=!n.isOdd(S);return Ml(EQ(R),_)}else return Ml(Uint8Array.of(4),_,n.toBytes(S))}function f(k){nh(k,void 0,"Point");const{publicKey:B,publicKeyUncompressed:U}=u,I=k.length,S=k[0],_=k.subarray(1);if(I===B&&(S===2||S===3)){const R=n.fromBytes(_);if(!n.isValid(R))throw new Error("bad point: is not on curve, wrong x");const O=m(R);let P;try{P=n.sqrt(O)}catch(j){const F=j instanceof Error?": "+j.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}l();const D=n.isOdd(P);return(S&1)===1!==D&&(P=n.neg(P)),{x:R,y:P}}else if(I===U&&S===4){const R=n.BYTES,O=n.fromBytes(_.subarray(0,R)),P=n.fromBytes(_.subarray(R,R*2));if(!y(O,P))throw new Error("bad point: is not on curve");return{x:O,y:P}}else throw new Error(`bad point: got length ${I}, expected compressed=${B} or uncompressed=${U}`)}const h=e.toBytes||d,p=e.fromBytes||f;function m(k){const B=n.sqr(k),U=n.mul(B,k);return n.add(n.add(U,n.mul(k,i.a)),i.b)}function y(k,B){const U=n.sqr(B),I=m(k);return n.eql(U,I)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const E=n.mul(n.pow(i.a,xv),sAe),w=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(E,w)))throw new Error("bad curve params: a or b");function b(k,B,U=!1){if(!n.isValid(B)||U&&n.is0(B))throw new Error(`bad point coordinate ${k}`);return B}function g(k){if(!(k instanceof T))throw new Error("ProjectivePoint expected")}function v(k){if(!c||!c.basises)throw new Error("no endo");return rAe(k,c.basises,s.ORDER)}const A=ND((k,B)=>{const{X:U,Y:I,Z:S}=k;if(n.eql(S,n.ONE))return{x:U,y:I};const _=k.is0();B==null&&(B=_?n.ONE:n.inv(S));const R=n.mul(U,B),O=n.mul(I,B),P=n.mul(S,B);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:R,y:O}}),C=ND(k=>{if(k.is0()){if(e.allowInfinityPoint&&!n.is0(k.Y))return;throw new Error("bad point: ZERO")}const{x:B,y:U}=k.toAffine();if(!n.isValid(B)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!y(B,U))throw new Error("bad point: equation left != right");if(!k.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(k,B,U,I,S){return U=new T(n.mul(U.X,k),U.Y,U.Z),B=HI(I,B),U=HI(S,U),B.add(U)}class T{constructor(B,U,I){this.X=b("x",B),this.Y=b("y",U,!0),this.Z=b("z",I),Object.freeze(this)}static CURVE(){return i}static fromAffine(B){const{x:U,y:I}=B||{};if(!B||!n.isValid(U)||!n.isValid(I))throw new Error("invalid affine point");if(B instanceof T)throw new Error("projective point not allowed");return n.is0(U)&&n.is0(I)?T.ZERO:new T(U,I,n.ONE)}static fromBytes(B){const U=T.fromAffine(p(nh(B,void 0,"point")));return U.assertValidity(),U}static fromHex(B){return T.fromBytes(ps("pointHex",B))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(B=8,U=!0){return M.createCache(this,B),U||this.multiply(xv),this}assertValidity(){C(this)}hasEvenY(){const{y:B}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(B)}equals(B){g(B);const{X:U,Y:I,Z:S}=this,{X:_,Y:R,Z:O}=B,P=n.eql(n.mul(U,O),n.mul(_,S)),D=n.eql(n.mul(I,O),n.mul(R,S));return P&&D}negate(){return new T(this.X,n.neg(this.Y),this.Z)}double(){const{a:B,b:U}=i,I=n.mul(U,xv),{X:S,Y:_,Z:R}=this;let O=n.ZERO,P=n.ZERO,D=n.ZERO,j=n.mul(S,S),F=n.mul(_,_),q=n.mul(R,R),z=n.mul(S,_);return z=n.add(z,z),D=n.mul(S,R),D=n.add(D,D),O=n.mul(B,D),P=n.mul(I,q),P=n.add(O,P),O=n.sub(F,P),P=n.add(F,P),P=n.mul(O,P),O=n.mul(z,O),D=n.mul(I,D),q=n.mul(B,q),z=n.sub(j,q),z=n.mul(B,z),z=n.add(z,D),D=n.add(j,j),j=n.add(D,j),j=n.add(j,q),j=n.mul(j,z),P=n.add(P,j),q=n.mul(_,R),q=n.add(q,q),j=n.mul(q,z),O=n.sub(O,j),D=n.mul(q,F),D=n.add(D,D),D=n.add(D,D),new T(O,P,D)}add(B){g(B);const{X:U,Y:I,Z:S}=this,{X:_,Y:R,Z:O}=B;let P=n.ZERO,D=n.ZERO,j=n.ZERO;const F=i.a,q=n.mul(i.b,xv);let z=n.mul(U,_),W=n.mul(I,R),K=n.mul(S,O),re=n.add(U,I),Q=n.add(_,R);re=n.mul(re,Q),Q=n.add(z,W),re=n.sub(re,Q),Q=n.add(U,S);let X=n.add(_,O);return Q=n.mul(Q,X),X=n.add(z,K),Q=n.sub(Q,X),X=n.add(I,S),P=n.add(R,O),X=n.mul(X,P),P=n.add(W,K),X=n.sub(X,P),j=n.mul(F,Q),P=n.mul(q,K),j=n.add(P,j),P=n.sub(W,j),j=n.add(W,j),D=n.mul(P,j),W=n.add(z,z),W=n.add(W,z),K=n.mul(F,K),Q=n.mul(q,Q),W=n.add(W,K),K=n.sub(z,K),K=n.mul(F,K),Q=n.add(Q,K),z=n.mul(W,Q),D=n.add(D,z),z=n.mul(X,Q),P=n.mul(re,P),P=n.sub(P,z),z=n.mul(re,W),j=n.mul(X,j),j=n.add(j,z),new T(P,D,j)}subtract(B){return this.add(B.negate())}is0(){return this.equals(T.ZERO)}multiply(B){const{endo:U}=e;if(!s.isValidNot0(B))throw new Error("invalid scalar: out of range");let I,S;const _=R=>M.cached(this,R,O=>o5(T,O));if(U){const{k1neg:R,k1:O,k2neg:P,k2:D}=v(B),{p:j,f:F}=_(O),{p:q,f:z}=_(D);S=F.add(z),I=x(U.beta,j,q,R,P)}else{const{p:R,f:O}=_(B);I=R,S=O}return o5(T,[I,S])[0]}multiplyUnsafe(B){const{endo:U}=e,I=this;if(!s.isValid(B))throw new Error("invalid scalar: out of range");if(B===Su||I.is0())return T.ZERO;if(B===W0)return I;if(M.hasCache(this))return this.multiply(B);if(U){const{k1neg:S,k1:_,k2neg:R,k2:O}=v(B),{p1:P,p2:D}=$_e(T,I,_,O);return x(U.beta,P,D,S,R)}else return M.unsafe(I,B)}multiplyAndAddUnsafe(B,U,I){const S=this.multiplyUnsafe(U).add(B.multiplyUnsafe(I));return S.is0()?void 0:S}toAffine(B){return A(this,B)}isTorsionFree(){const{isTorsionFree:B}=e;return o===W0?!0:B?B(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:B}=e;return o===W0?this:B?B(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(B=!0){return LI(B,"isCompressed"),this.assertValidity(),h(T,this,B)}toHex(B=!0){return G0(this.toBytes(B))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(B=!0){return this.toBytes(B)}_setWindowSize(B){this.precompute(B)}static normalizeZ(B){return o5(T,B)}static msm(B,U){return V_e(T,s,B,U)}static fromPrivateKey(B){return T.BASE.multiply(x0(s,B))}}T.BASE=new T(i.Gx,i.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=s;const N=s.BITS,M=new z_e(T,e.endo?Math.ceil(N/2):N);return T.BASE.precompute(8),T}function EQ(t){return Uint8Array.of(t?2:3)}function vQ(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function oAe(t,e={}){const{Fn:r}=t,n=e.randomBytes||bp,s=Object.assign(vQ(t.Fp,r),{seed:mQ(r.ORDER)});function i(f){try{return!!x0(r,f)}catch{return!1}}function o(f,h){const{publicKey:p,publicKeyUncompressed:m}=s;try{const y=f.length;return h===!0&&y!==p||h===!1&&y!==m?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=n(s.seed)){return F_e(nh(f,s.seed,"seed"),r.ORDER)}function c(f,h=!0){return t.BASE.multiply(x0(r,f)).toBytes(h)}function u(f){const h=a(f);return{secretKey:h,publicKey:c(h)}}function l(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:h,publicKey:p,publicKeyUncompressed:m}=s;if(r.allowedLengths||h===p)return;const y=ps("key",f).length;return y===p||y===m}function d(f,h,p=!0){if(l(f)===!0)throw new Error("first arg must be private key");if(l(h)===!1)throw new Error("second arg must be public key");const m=x0(r,f);return t.fromHex(h).multiply(m).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:u,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:f=>x0(r,f),precompute(f=8,h=t.BASE){return h.precompute(f,!1)}},lengths:s})}function aAe(t,e,r={}){sP(e),dP(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||bp,s=r.hmac||((U,...I)=>cP(e,U,Ml(...I))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:u,getPublicKey:l,getSharedSecret:d,utils:f,lengths:h}=oAe(t,r),p={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(U){const I=a>>W0;return U>I}function E(U,I){if(!o.isValidNot0(I))throw new Error(`invalid signature ${U}: out of range 1..Point.Fn.ORDER`);return I}function w(U,I){HR(I);const S=h.signature,_=I==="compact"?S:I==="recovered"?S+1:void 0;return nh(U,_,`${I} signature`)}class b{constructor(I,S,_){this.r=E("r",I),this.s=E("s",S),_!=null&&(this.recovery=_),Object.freeze(this)}static fromBytes(I,S=m){w(I,S);let _;if(S==="der"){const{r:D,s:j}=au.toSig(nh(I));return new b(D,j)}S==="recovered"&&(_=I[0],S="compact",I=I.subarray(1));const R=o.BYTES,O=I.subarray(0,R),P=I.subarray(R,R*2);return new b(o.fromBytes(O),o.fromBytes(P),_)}static fromHex(I,S){return this.fromBytes(MI(I),S)}addRecoveryBit(I){return new b(this.r,this.s,I)}recoverPublicKey(I){const S=i.ORDER,{r:_,s:R,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*wQ<S&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=O===2||O===3?_+a:_;if(!i.isValid(P))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(P),j=t.fromBytes(Ml(EQ((O&1)===0),D)),F=o.inv(P),q=v(ps("msgHash",I)),z=o.create(-q*F),W=o.create(R*F),K=t.BASE.multiplyUnsafe(z).add(j.multiplyUnsafe(W));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return y(this.s)}toBytes(I=m){if(HR(I),I==="der")return MI(au.hexFromSig(this));const S=o.toBytes(this.r),_=o.toBytes(this.s);if(I==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ml(Uint8Array.of(this.recovery),S,_)}return Ml(S,_)}toHex(I){return G0(this.toBytes(I))}assertValidity(){}static fromCompact(I){return b.fromBytes(ps("sig",I),"compact")}static fromDER(I){return b.fromBytes(ps("sig",I),"der")}normalizeS(){return this.hasHighS()?new b(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return G0(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return G0(this.toBytes("compact"))}}const g=r.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const I=lP(U),S=U.length*8-c;return S>0?I>>BigInt(S):I},v=r.bits2int_modN||function(U){return o.create(g(U))},A=sE(c);function C(U){return LR("num < 2^"+c,U,Su,A),o.toBytes(U)}function x(U,I){return nh(U,void 0,"message"),I?nh(e(U),void 0,"prehashed message"):U}function T(U,I,S){if(["recovered","canonical"].some(W=>W in S))throw new Error("sign() legacy options not supported");const{lowS:_,prehash:R,extraEntropy:O}=l5(S,p);U=x(U,R);const P=v(U),D=x0(o,I),j=[C(D),C(P)];if(O!=null&&O!==!1){const W=O===!0?n(h.secretKey):O;j.push(ps("extraEntropy",W))}const F=Ml(...j),q=P;function z(W){const K=g(W);if(!o.isValidNot0(K))return;const re=o.inv(K),Q=t.BASE.multiply(K).toAffine(),X=o.create(Q.x);if(X===Su)return;const ie=o.create(re*o.create(q+X*D));if(ie===Su)return;let Y=(Q.x===X?0:2)|Number(Q.y&W0),V=ie;return _&&y(ie)&&(V=o.neg(ie),Y^=1),new b(X,V,Y)}return{seed:F,k2sig:z}}function N(U,I,S={}){U=ps("message",U);const{seed:_,k2sig:R}=T(U,I,S);return R_e(e.outputLen,o.BYTES,s)(_,R)}function M(U){let I;const S=typeof U=="string"||nP(U),_=!S&&U!==null&&typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint";if(!S&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(_)I=new b(U.r,U.s);else if(S){try{I=b.fromBytes(ps("sig",U),"der")}catch(R){if(!(R instanceof au.Err))throw R}if(!I)try{I=b.fromBytes(ps("sig",U),"compact")}catch{return!1}}return I||!1}function k(U,I,S,_={}){const{lowS:R,prehash:O,format:P}=l5(_,p);if(S=ps("publicKey",S),I=x(ps("message",I),O),"strict"in _)throw new Error("options.strict was renamed to lowS");const D=P===void 0?M(U):b.fromBytes(ps("sig",U),P);if(D===!1)return!1;try{const j=t.fromBytes(S);if(R&&D.hasHighS())return!1;const{r:F,s:q}=D,z=v(I),W=o.inv(q),K=o.create(z*W),re=o.create(F*W),Q=t.BASE.multiplyUnsafe(K).add(j.multiplyUnsafe(re));return Q.is0()?!1:o.create(Q.x)===F}catch{return!1}}function B(U,I,S={}){const{prehash:_}=l5(S,p);return I=x(I,_),b.fromBytes(U,"recovered").recoverPublicKey(I).toBytes()}return Object.freeze({keygen:u,getPublicKey:l,getSharedSecret:d,utils:f,lengths:h,Point:t,sign:N,verify:k,recoverPublicKey:B,Signature:b,hash:e})}function cAe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=kd(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),i={Fp:r,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function uAe(t){const{CURVE:e,curveOpts:r}=cAe(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function lAe(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,hQ(r.Fn.ORDER,r.Fn.BITS))})}function dAe(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:s}=uAe(t),i=iAe(e,r),o=aAe(i,n,s);return lAe(t,o)}function qR(t,e){const r=n=>dAe({...t,hash:n});return{...r(e),create:r}}const _Q={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},AQ={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},CQ={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},fAe=kd(_Q.p),hAe=kd(AQ.p),pAe=kd(CQ.p),mAe=qR({..._Q,Fp:fAe,lowS:!1},oP);qR({...AQ,Fp:hAe,lowS:!1},Eve),qR({...CQ,Fp:pAe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},wve);const gAe=mAe,SQ="base10",Fs="base16",oi="base64pad",Ul="base64url",iE="utf8",IQ=0,xu=1,oE=2,yAe=0,FD=1,e1=12,a3=32;function bAe(){const t=FR.utils.randomPrivateKey(),e=FR.getPublicKey(t);return{privateKey:pi(t,Fs),publicKey:pi(e,Fs)}}function zR(){const t=bp(a3);return pi(t,Fs)}function wAe(t,e){const r=FR.getSharedSecret(Ao(t,Fs),Ao(e,Fs)),n=x_e(uP,r,void 0,void 0,a3);return pi(n,Fs)}function OS(t){const e=uP(Ao(t,Fs));return pi(e,Fs)}function Eo(t){const e=uP(Ao(t,iE));return pi(e,Fs)}function TQ(t){return Ao(`${t}`,SQ)}function ep(t){return Number(pi(t,SQ))}function PQ(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xQ(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function EAe(t){const e=TQ(typeof t.type<"u"?t.type:IQ);if(ep(e)===xu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Ao(t.senderPublicKey,Fs):void 0,n=typeof t.iv<"u"?Ao(t.iv,Fs):bp(e1),s=Ao(t.symKey,Fs),i=tQ(s,n).encrypt(Ao(t.message,iE)),o=OQ({type:e,sealed:i,iv:n,senderPublicKey:r});return t.encoding===Ul?PQ(o):o}function vAe(t){const e=Ao(t.symKey,Fs),{sealed:r,iv:n}=dw({encoded:t.encoded,encoding:t.encoding}),s=tQ(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return pi(s,iE)}function _Ae(t,e){const r=TQ(oE),n=bp(e1),s=Ao(t,iE),i=OQ({type:r,sealed:s,iv:n});return e===Ul?PQ(i):i}function AAe(t,e){const{sealed:r}=dw({encoded:t,encoding:e});return pi(r,iE)}function OQ(t){if(ep(t.type)===oE)return pi(Xb([t.type,t.sealed]),oi);if(ep(t.type)===xu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return pi(Xb([t.type,t.senderPublicKey,t.iv,t.sealed]),oi)}return pi(Xb([t.type,t.iv,t.sealed]),oi)}function dw(t){const e=(t.encoding||oi)===Ul?xQ(t.encoded):t.encoded,r=Ao(e,oi),n=r.slice(yAe,FD),s=FD;if(ep(n)===xu){const c=s+a3,u=c+e1,l=r.slice(s,c),d=r.slice(c,u),f=r.slice(u);return{type:n,sealed:f,iv:d,senderPublicKey:l}}if(ep(n)===oE){const c=r.slice(s),u=bp(e1);return{type:n,sealed:c,iv:u}}const i=s+e1,o=r.slice(s,i),a=r.slice(i);return{type:n,sealed:a,iv:o}}function CAe(t,e){const r=dw({encoded:t,encoding:e==null?void 0:e.encoding});return RQ({type:ep(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?pi(r.senderPublicKey,Fs):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function RQ(t){const e=(t==null?void 0:t.type)||IQ;if(e===xu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function HD(t){return t.type===xu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function qD(t){return t.type===oE}function SAe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Xb([new Uint8Array([4]),e,r])}function IAe(t,e){const[r,n,s]=t.split("."),i=Buffer.from(xQ(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${r}.${n}`,u=uP(c),l=SAe(e);if(!gAe.verify(Xb([o,a]),u,l))throw new Error("Invalid signature");return vR(t).payload}const TAe="irn";function qI(t){return(t==null?void 0:t.relay)||{protocol:TAe}}function O0(t){const e=aEe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var PAe=Object.defineProperty,xAe=Object.defineProperties,OAe=Object.getOwnPropertyDescriptors,zD=Object.getOwnPropertySymbols,RAe=Object.prototype.hasOwnProperty,NAe=Object.prototype.propertyIsEnumerable,$D=(t,e,r)=>e in t?PAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,d5=(t,e)=>{for(var r in e||(e={}))RAe.call(e,r)&&$D(t,r,e[r]);if(zD)for(var r of zD(e))NAe.call(e,r)&&$D(t,r,e[r]);return t},BAe=(t,e)=>xAe(t,OAe(e));function kAe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),o=t[s];r[i]=o}}),r}function VD(t){if(!t.includes("wc:")){const u=kJ(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(i),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:jAe(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:kAe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function jAe(t){return t.startsWith("//")?t.substring(2):t}function DAe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=s,o=r+e+i;t[i]&&(n[o]=t[i])}),n}function GD(t){const e=new URLSearchParams,r=d5(d5(BAe(d5({},DAe(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&e.append(n,String(s))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function Ov(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var MAe=Object.defineProperty,UAe=Object.defineProperties,LAe=Object.getOwnPropertyDescriptors,WD=Object.getOwnPropertySymbols,FAe=Object.prototype.hasOwnProperty,HAe=Object.prototype.propertyIsEnumerable,KD=(t,e,r)=>e in t?MAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qAe=(t,e)=>{for(var r in e||(e={}))FAe.call(e,r)&&KD(t,r,e[r]);if(WD)for(var r of WD(e))HAe.call(e,r)&&KD(t,r,e[r]);return t},zAe=(t,e)=>UAe(t,LAe(e));function Cg(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function NQ(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Cg(r.accounts))}),[...new Set(e)]}function $Ae(t){const e=[];return Object.values(t).forEach(r=>{e.push(...r.methods)}),[...new Set(e)]}function VAe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...r.events)}),[...new Set(e)]}function GAe(t,e){const r=[];return Object.values(t).forEach(n=>{Cg(n.accounts).includes(e)&&r.push(...n.methods)}),r}function WAe(t,e){const r=[];return Object.values(t).forEach(n=>{Cg(n.accounts).includes(e)&&r.push(...n.events)}),r}function fP(t){return t.includes(":")}function R0(t){return fP(t)?t.split(":")[0]:t}function ZD(t){var e,r,n;const s={};if(!cc(t))return s;for(const[i,o]of Object.entries(t)){const a=fP(i)?[i]:o.chains,c=o.methods||[],u=o.events||[],l=R0(i);s[l]=zAe(qAe({},s[l]),{chains:ac(a,(e=s[l])==null?void 0:e.chains),methods:ac(c,(r=s[l])==null?void 0:r.methods),events:ac(u,(n=s[l])==null?void 0:n.events)})}return s}function KAe(t){const e={};return t==null||t.forEach(r=>{var n;const[s,i]=r.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(r),(n=e[s].chains)==null||n.push(`${s}:${i}`)}),e}function YD(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=KAe(e);for(const[n,s]of Object.entries(r))s.methods?s.methods=ac(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}function ZAe(t,e){var r,n,s,i,o,a;const c=ZD(t),u=ZD(e),l={},d=Object.keys(c).concat(Object.keys(u));for(const f of d)l[f]={chains:ac((r=c[f])==null?void 0:r.chains,(n=u[f])==null?void 0:n.chains),methods:ac((s=c[f])==null?void 0:s.methods,(i=u[f])==null?void 0:i.methods),events:ac((o=c[f])==null?void 0:o.events,(a=u[f])==null?void 0:a.events)};return l}const YAe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},JAe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function De(t,e){const{message:r,code:n}=JAe[t];return{message:e?`${r} ${e}`:r,code:n}}function Lr(t,e){const{message:r,code:n}=YAe[t];return{message:e?`${r} ${e}`:r,code:n}}function Ou(t,e){return!!Array.isArray(t)}function cc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function xn(t){return typeof t>"u"}function pn(t,e){return e&&xn(t)?!0:typeof t=="string"&&!!t.trim().length}function c3(t,e){return typeof t=="number"&&!isNaN(t)}function QAe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let i=!0;return rh(s,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],l=Cg(a),d=r[o];(!rh(xJ(o,d),l)||!rh(d.methods,c)||!rh(d.events,u))&&(i=!1)}),i):!1}function zI(t){return pn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function XAe(t){if(pn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&zI(r)}}return!1}function e2e(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(pn(t,!1)){if(e(t))return!0;const r=kJ(t);return e(r)}}catch{}return!1}function t2e(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function r2e(t){return t==null?void 0:t.topic}function n2e(t,e){let r=null;return pn(t==null?void 0:t.publicKey,!1)||(r=De("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function JD(t){let e=!0;return Ou(t)?t.length&&(e=t.every(r=>pn(r,!1))):e=!1,e}function s2e(t,e,r){let n=null;return Ou(e)&&e.length?e.forEach(s=>{n||zI(s)||(n=Lr("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):zI(t)||(n=Lr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function i2e(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;const o=s2e(s,xJ(s,i),`${e} ${r}`);o&&(n=o)}),n}function o2e(t,e){let r=null;return Ou(t)?t.forEach(n=>{r||XAe(n)||(r=Lr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Lr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function a2e(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=o2e(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function c2e(t,e){let r=null;return JD(t==null?void 0:t.methods)?JD(t==null?void 0:t.events)||(r=Lr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Lr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function BQ(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=c2e(n,`${e}, namespace`);s&&(r=s)}),r}function u2e(t,e,r){let n=null;if(t&&cc(t)){const s=BQ(t,e);s&&(n=s);const i=i2e(t,e,r);i&&(n=i)}else n=De("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function f5(t,e){let r=null;if(t&&cc(t)){const n=BQ(t,e);n&&(r=n);const s=a2e(t,e);s&&(r=s)}else r=De("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function kQ(t){return pn(t.protocol,!0)}function l2e(t,e){let r=!1;return t?t&&Ou(t)&&t.length&&t.forEach(n=>{r=kQ(n)}):r=!0,r}function d2e(t){return typeof t=="number"}function Xs(t){return typeof t<"u"&&typeof t!==null}function f2e(t){return!(!t||typeof t!="object"||!t.code||!c3(t.code)||!t.message||!pn(t.message,!1))}function h2e(t){return!(xn(t)||!pn(t.method,!1))}function p2e(t){return!(xn(t)||xn(t.result)&&xn(t.error)||!c3(t.id)||!pn(t.jsonrpc,!1))}function m2e(t){return!(xn(t)||!pn(t.name,!1))}function QD(t,e){return!(!zI(e)||!NQ(t).includes(e))}function g2e(t,e,r){return pn(r,!1)?GAe(t,e).includes(r):!1}function y2e(t,e,r){return pn(r,!1)?WAe(t,e).includes(r):!1}function XD(t,e,r){let n=null;const s=b2e(t),i=w2e(e),o=Object.keys(s),a=Object.keys(i),c=eM(Object.keys(t)),u=eM(Object.keys(e)),l=c.filter(d=>!u.includes(d));return l.length&&(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),rh(o,a)||(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;const f=Cg(e[d].accounts);f.includes(d)||(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{n||(rh(s[d].methods,i[d].methods)?rh(s[d].events,i[d].events)||(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function b2e(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function eM(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function w2e(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Cg(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function E2e(t,e){return c3(t)&&t<=e.max&&t>=e.min}function tM(){const t=rE();return new Promise(e=>{switch(t){case Ji.browser:e(v2e());break;case Ji.reactNative:e(_2e());break;case Ji.node:e(A2e());break;default:e(!0)}})}function v2e(){return Ag()&&(navigator==null?void 0:navigator.onLine)}async function _2e(){if(Bd()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function A2e(){return!0}function C2e(t){switch(rE()){case Ji.browser:S2e(t);break;case Ji.reactNative:I2e(t);break}}function S2e(t){!Bd()&&Ag()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function I2e(t){Bd()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function T2e(){var t;return Ag()&&Mu.getDocument()?((t=Mu.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const h5={};class cy{static get(e){return h5[e]}static set(e,r){h5[e]=r}static delete(e){delete h5[e]}}function P2e(t){const e=_g.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function x2e({publicKey:t,signature:e,payload:r}){var n;const s=$R(r.method),i=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=N2e(r.address),a=r.era==="00"?new Uint8Array([0]):$R(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),u=new Uint8Array([c&255,c>>8&255]),l=BigInt(`0x${R2e(r.tip)}`),d=k2e(l),f=new Uint8Array([0,...t,o,...e,...a,...u,...d,...s]),h=B2e(f.length+1);return new Uint8Array([...h,i,...f])}function O2e(t){const e=$R(t),r=dEe.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function $R(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function R2e(t){return t.startsWith("0x")?t.slice(2):t}function N2e(t){const e=_g.decode(t)[0];return e===42?0:e===60?2:1}function B2e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function k2e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function j2e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=P2e(t.transaction.address),n=x2e({publicKey:r,signature:e,payload:t.transaction}),s=Buffer.from(n).toString("hex");return O2e(s)}function u3({logger:t,name:e}){const r=typeof t=="string"?zT({opts:{level:t,name:e}}).logger:t;return r.level=typeof t=="string"?t:t.level,r}const D2e="PARSE_ERROR",M2e="INVALID_REQUEST",U2e="METHOD_NOT_FOUND",L2e="INVALID_PARAMS",jQ="INTERNAL_ERROR",l3="SERVER_ERROR",F2e=[-32700,-32600,-32601,-32602,-32603],t1={[D2e]:{code:-32700,message:"Parse error"},[M2e]:{code:-32600,message:"Invalid Request"},[U2e]:{code:-32601,message:"Method not found"},[L2e]:{code:-32602,message:"Invalid params"},[jQ]:{code:-32603,message:"Internal error"},[l3]:{code:-32e3,message:"Server error"}},DQ=l3;function H2e(t){return F2e.includes(t)}function rM(t){return Object.keys(t1).includes(t)?t1[t]:t1[DQ]}function q2e(t){const e=Object.values(t1).find(r=>r.code===t);return e||t1[DQ]}function MQ(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var p5={},Pc={},nM;function z2e(){if(nM)return Pc;nM=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.isBrowserCryptoAvailable=Pc.getSubtleCrypto=Pc.getBrowerCrypto=void 0;function t(){return(Za==null?void 0:Za.crypto)||(Za==null?void 0:Za.msCrypto)||{}}Pc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Pc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Pc.isBrowserCryptoAvailable=r,Pc}var xc={},sM;function $2e(){if(sM)return xc;sM=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.isBrowser=xc.isNode=xc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}xc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}xc.isNode=e;function r(){return!t()&&!e()}return xc.isBrowser=r,xc}var iM;function V2e(){return iM||(iM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Yw;e.__exportStar(z2e(),t),e.__exportStar($2e(),t)})(p5)),p5}var G2e=V2e();function Da(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function sd(t=6){return BigInt(Da(t))}function Jo(t,e,r){return{id:r||Da(),jsonrpc:"2.0",method:t,params:e}}function fw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function hP(t,e,r){return{id:t,jsonrpc:"2.0",error:W2e(e)}}function W2e(t,e){return typeof t>"u"?rM(jQ):(typeof t=="string"&&(t=Object.assign(Object.assign({},rM(l3)),{message:t})),H2e(t.code)&&(t=q2e(t.code)),t)}let K2e=class{},Z2e=class extends K2e{constructor(){super()}},Y2e=class extends Z2e{constructor(e){super()}};const J2e="^https?:",Q2e="^wss?:";function X2e(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function UQ(t,e){const r=X2e(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function oM(t){return UQ(t,J2e)}function aM(t){return UQ(t,Q2e)}function eCe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function LQ(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function d3(t){return LQ(t)&&"method"in t}function pP(t){return LQ(t)&&(Ma(t)||vo(t))}function Ma(t){return"result"in t}function vo(t){return"error"in t}let f3=class extends Y2e{constructor(e){super(e),this.events=new Po.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Jo(e.method,e.params||[],e.id||sd().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{vo(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),pP(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const tCe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),rCe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",cM=t=>t.split("?")[0],uM=10,nCe=tCe();let sCe=class{constructor(e){if(this.url=e,this.events=new Po.EventEmitter,this.registering=!1,!aM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Du(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!aM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=G2e.isReactNative()?void 0:{rejectUnauthorized:!eCe(e)},i=new nCe(e,[],s);rCe()?i.onerror=o=>{const a=o;n(this.emitError(a.error))}:i.on("error",o=>{n(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Yh(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=hP(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return MQ(e,cM(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>uM&&this.events.setMaxListeners(uM)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${cM(this.url)}`));return this.events.emit("register_error",r),r}};var iCe={};const FQ="wc",HQ=2,VR="core",pc=`${FQ}@2:${VR}:`,oCe={logger:"error"},aCe={database:":memory:"},cCe="crypto",lM="client_ed25519_seed",uCe=je.ONE_DAY,lCe="keychain",dCe="0.3",fCe="messages",hCe="0.3",pCe=je.SIX_HOURS,mCe="publisher",qQ="irn",gCe="error",zQ="wss://relay.walletconnect.org",yCe="relayer",hn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},bCe="_subscription",io={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},wCe=.1,GR="2.23.0",Br={link_mode:"link_mode",relay:"relay"},RS={inbound:"inbound",outbound:"outbound"},ECe="0.3",vCe="WALLETCONNECT_CLIENT_ID",dM="WALLETCONNECT_LINK_MODE_APPS",Mi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},_Ce="subscription",ACe="0.3",CCe="pairing",SCe="0.3",uy={wc_pairingDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:je.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:je.ONE_DAY,prompt:!1,tag:0},res:{ttl:je.ONE_DAY,prompt:!1,tag:0}}},$f={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ro={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ICe="history",TCe="0.3",PCe="expirer",fo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},xCe="0.3",OCe="verify-api",RCe="https://verify.walletconnect.com",$Q="https://verify.walletconnect.org",r1=$Q,NCe=`${r1}/v3`,BCe=[RCe,$Q],kCe="echo",jCe="https://echo.walletconnect.com",ka={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Jc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},No={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},af={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},cf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ly={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},DCe=.1,MCe="event-client",UCe=86400,LCe="https://pulse.walletconnect.org/batch";function FCe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,E=0,w=p.length;E!==w&&p[E]===0;)E++,m++;for(var b=(w-E)*l+1>>>0,g=new Uint8Array(b);E!==w;){for(var v=p[E],A=0,C=b-1;(v!==0||A<y)&&C!==-1;C--,A++)v+=256*g[C]>>>0,g[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");y=A,E++}for(var x=b-y;x!==b&&g[x]===0;)x++;for(var T=c.repeat(m);x<b;++x)T+=t.charAt(g[x]);return T}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,E=0;p[m]===c;)y++,m++;for(var w=(p.length-m)*u+1>>>0,b=new Uint8Array(w);p[m];){var g=r[p.charCodeAt(m)];if(g===255)return;for(var v=0,A=w-1;(g!==0||v<E)&&A!==-1;A--,v++)g+=a*b[A]>>>0,b[A]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=v,m++}if(p[m]!==" "){for(var C=w-E;C!==w&&b[C]===0;)C++;for(var x=new Uint8Array(y+(w-C)),T=y;C!==w;)x[T++]=b[C++];return x}}}function h(p){var m=f(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var HCe=FCe,qCe=HCe;const VQ=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},zCe=t=>new TextEncoder().encode(t),$Ce=t=>new TextDecoder().decode(t);class VCe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class GCe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return GQ(this,e)}}class WCe{constructor(e){this.decoders=e}or(e){return GQ(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const GQ=(t,e)=>new WCe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class KCe{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new VCe(e,r,n),this.decoder=new GCe(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const mP=({name:t,prefix:e,encode:r,decode:n})=>new KCe(t,e,r,n),aE=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=qCe(r,e);return mP({prefix:t,name:e,encode:n,decode:i=>VQ(s(i))})},ZCe=(t,e,r,n)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const d=s[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},YCe=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Qn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>mP({prefix:e,name:t,encode(s){return YCe(s,n,r)},decode(s){return ZCe(s,n,r,t)}}),JCe=mP({prefix:"\0",name:"identity",encode:t=>$Ce(t),decode:t=>zCe(t)});var QCe=Object.freeze({__proto__:null,identity:JCe});const XCe=Qn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var eSe=Object.freeze({__proto__:null,base2:XCe});const tSe=Qn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var rSe=Object.freeze({__proto__:null,base8:tSe});const nSe=aE({prefix:"9",name:"base10",alphabet:"0123456789"});var sSe=Object.freeze({__proto__:null,base10:nSe});const iSe=Qn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oSe=Qn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var aSe=Object.freeze({__proto__:null,base16:iSe,base16upper:oSe});const cSe=Qn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uSe=Qn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lSe=Qn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),dSe=Qn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fSe=Qn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hSe=Qn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pSe=Qn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mSe=Qn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gSe=Qn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ySe=Object.freeze({__proto__:null,base32:cSe,base32upper:uSe,base32pad:lSe,base32padupper:dSe,base32hex:fSe,base32hexupper:hSe,base32hexpad:pSe,base32hexpadupper:mSe,base32z:gSe});const bSe=aE({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wSe=aE({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ESe=Object.freeze({__proto__:null,base36:bSe,base36upper:wSe});const vSe=aE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_Se=aE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ASe=Object.freeze({__proto__:null,base58btc:vSe,base58flickr:_Se});const CSe=Qn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),SSe=Qn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ISe=Qn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),TSe=Qn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var PSe=Object.freeze({__proto__:null,base64:CSe,base64pad:SSe,base64url:ISe,base64urlpad:TSe});const WQ=Array.from(""),xSe=WQ.reduce((t,e,r)=>(t[r]=e,t),[]),OSe=WQ.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function RSe(t){return t.reduce((e,r)=>(e+=xSe[r],e),"")}function NSe(t){const e=[];for(const r of t){const n=OSe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const BSe=mP({prefix:"",name:"base256emoji",encode:RSe,decode:NSe});var kSe=Object.freeze({__proto__:null,base256emoji:BSe}),jSe=KQ,fM=128,DSe=-128,MSe=Math.pow(2,31);function KQ(t,e,r){e=e||[],r=r||0;for(var n=r;t>=MSe;)e[r++]=t&255|fM,t/=128;for(;t&DSe;)e[r++]=t&255|fM,t>>>=7;return e[r]=t|0,KQ.bytes=r-n+1,e}var USe=WR,LSe=128,hM=127;function WR(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw WR.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&hM)<<s:(o&hM)*Math.pow(2,s),s+=7}while(o>=LSe);return WR.bytes=i-n,r}var FSe=Math.pow(2,7),HSe=Math.pow(2,14),qSe=Math.pow(2,21),zSe=Math.pow(2,28),$Se=Math.pow(2,35),VSe=Math.pow(2,42),GSe=Math.pow(2,49),WSe=Math.pow(2,56),KSe=Math.pow(2,63),ZSe=function(t){return t<FSe?1:t<HSe?2:t<qSe?3:t<zSe?4:t<$Se?5:t<VSe?6:t<GSe?7:t<WSe?8:t<KSe?9:10},YSe={encode:jSe,decode:USe,encodingLength:ZSe},ZQ=YSe;const pM=(t,e,r=0)=>(ZQ.encode(t,e,r),e),mM=t=>ZQ.encodingLength(t),KR=(t,e)=>{const r=e.byteLength,n=mM(t),s=n+mM(r),i=new Uint8Array(s+r);return pM(t,i,0),pM(r,i,n),i.set(e,s),new JSe(t,r,e,i)};class JSe{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const YQ=({name:t,code:e,encode:r})=>new QSe(t,e,r);class QSe{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?KR(this.code,r):r.then(n=>KR(this.code,n))}else throw Error("Unknown type, must be binary type")}}const JQ=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),XSe=YQ({name:"sha2-256",code:18,encode:JQ("SHA-256")}),eIe=YQ({name:"sha2-512",code:19,encode:JQ("SHA-512")});var tIe=Object.freeze({__proto__:null,sha256:XSe,sha512:eIe});const QQ=0,rIe="identity",XQ=VQ,nIe=t=>KR(QQ,XQ(t)),sIe={code:QQ,name:rIe,encode:XQ,digest:nIe};var iIe=Object.freeze({__proto__:null,identity:sIe});new TextEncoder,new TextDecoder;const gM={...QCe,...eSe,...rSe,...sSe,...aSe,...ySe,...ESe,...ASe,...PSe,...kSe};({...tIe,...iIe});function eX(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function oIe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?eX(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function tX(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const yM=tX("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),m5=tX("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=oIe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),aIe={utf8:yM,"utf-8":yM,hex:gM.base16,latin1:m5,ascii:m5,binary:m5,...gM};function cIe(t,e="utf8"){const r=aIe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?eX(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var uIe=Object.defineProperty,lIe=(t,e,r)=>e in t?uIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ta=(t,e,r)=>lIe(t,typeof e!="symbol"?e+"":e,r);class dIe{constructor(e,r){this.core=e,this.logger=r,Ta(this,"keychain",new Map),Ta(this,"name",lCe),Ta(this,"version",dCe),Ta(this,"initialized",!1),Ta(this,"storagePrefix",pc),Ta(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Ta(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Ta(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),Ta(this,"get",n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=De("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),Ta(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=wi(r,this.name)}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,RR(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NR(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var fIe=Object.defineProperty,hIe=(t,e,r)=>e in t?fIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cn=(t,e,r)=>hIe(t,typeof e!="symbol"?e+"":e,r);class pIe{constructor(e,r,n){this.core=e,this.logger=r,Cn(this,"name",cCe),Cn(this,"keychain"),Cn(this,"randomSessionIdentifier",zR()),Cn(this,"initialized",!1),Cn(this,"clientId"),Cn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Cn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Cn(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),i=Rj(s),o=HY(i.publicKey);return this.clientId=o,o}),Cn(this,"generateKeyPair",()=>{this.isInitialized();const s=bAe();return this.setPrivateKey(s.publicKey,s.privateKey)}),Cn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=Rj(i),a=this.randomSessionIdentifier;return await Dye(a,s,uCe,o)}),Cn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=wAe(a,i);return this.setSymKey(c,o)}),Cn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||OS(s);return await this.keychain.set(o,s),o}),Cn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Cn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Cn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=RQ(o),c=Du(i);if(qD(a))return _Ae(c,o==null?void 0:o.encoding);if(HD(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(f,h)}const u=this.getSymKey(s),{type:l,senderPublicKey:d}=a;return EAe({type:l,symKey:u,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Cn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=CAe(i,o);if(qD(a)){const c=AAe(i,o==null?void 0:o.encoding);return Yh(c)}if(HD(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;s=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(s),u=vAe({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Yh(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Cn(this,"getPayloadType",(s,i=oi)=>{const o=dw({encoded:s,encoding:i});return ep(o.type)}),Cn(this,"getPayloadSenderPublicKey",(s,i=oi)=>{const o=dw({encoded:s,encoding:i});return o.senderPublicKey?pi(o.senderPublicKey,Fs):void 0}),this.core=e,this.logger=wi(r,this.name),this.keychain=n||new dIe(this.core,this.logger)}get context(){return bi(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(lM)}catch{e=zR(),await this.keychain.set(lM,e)}return cIe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var mIe=Object.defineProperty,gIe=Object.defineProperties,yIe=Object.getOwnPropertyDescriptors,bM=Object.getOwnPropertySymbols,bIe=Object.prototype.hasOwnProperty,wIe=Object.prototype.propertyIsEnumerable,ZR=(t,e,r)=>e in t?mIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EIe=(t,e)=>{for(var r in e||(e={}))bIe.call(e,r)&&ZR(t,r,e[r]);if(bM)for(var r of bM(e))wIe.call(e,r)&&ZR(t,r,e[r]);return t},vIe=(t,e)=>gIe(t,yIe(e)),Ti=(t,e,r)=>ZR(t,typeof e!="symbol"?e+"":e,r);class _Ie extends k0e{constructor(e,r){super(e,r),this.logger=e,this.core=r,Ti(this,"messages",new Map),Ti(this,"messagesWithoutClientAck",new Map),Ti(this,"name",fCe),Ti(this,"version",hCe),Ti(this,"initialized",!1),Ti(this,"storagePrefix",pc),Ti(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Ti(this,"set",async(n,s,i)=>{this.isInitialized();const o=Eo(s);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(n,a),i===RS.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,vIe(EIe({},c),{[o]:s}))}return await this.persist(),o}),Ti(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Ti(this,"getWithoutAck",n=>{this.isInitialized();const s={};for(const i of n){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Ti(this,"has",(n,s)=>{this.isInitialized();const i=this.get(n),o=Eo(s);return typeof i[o]<"u"}),Ti(this,"ack",async(n,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;const o=Eo(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),Ti(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=wi(e,this.name),this.core=r}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,RR(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,RR(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NR(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?NR(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var AIe=Object.defineProperty,CIe=Object.defineProperties,SIe=Object.getOwnPropertyDescriptors,wM=Object.getOwnPropertySymbols,IIe=Object.prototype.hasOwnProperty,TIe=Object.prototype.propertyIsEnumerable,YR=(t,e,r)=>e in t?AIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qp=(t,e)=>{for(var r in e||(e={}))IIe.call(e,r)&&YR(t,r,e[r]);if(wM)for(var r of wM(e))TIe.call(e,r)&&YR(t,r,e[r]);return t},EM=(t,e)=>CIe(t,SIe(e)),oo=(t,e,r)=>YR(t,typeof e!="symbol"?e+"":e,r);class PIe extends j0e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,oo(this,"events",new Po.EventEmitter),oo(this,"name",mCe),oo(this,"queue",new Map),oo(this,"publishTimeout",je.toMiliseconds(je.ONE_MINUTE)),oo(this,"initialPublishTimeout",je.toMiliseconds(je.ONE_SECOND*15)),oo(this,"needsTransportRestart",!1),oo(this,"publish",async(n,s,i)=>{var o,a,c,u,l;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const d=(i==null?void 0:i.ttl)||pCe,f=(i==null?void 0:i.prompt)||!1,h=(i==null?void 0:i.tag)||0,p=(i==null?void 0:i.id)||sd().toString(),m=O0(qI().protocol),y={id:p,method:(i==null?void 0:i.publishMethod)||m.publish,params:qp({topic:n,message:s,ttl:d,prompt:f,tag:h,attestation:i==null?void 0:i.attestation},i==null?void 0:i.tvf)},E=`Failed to publish payload, please try again. id:${p} tag:${h}`;try{xn((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),xn((c=y.params)==null?void 0:c.tag)&&((u=y.params)==null||delete u.tag);const w=new Promise(async b=>{const g=({id:A})=>{var C;((C=y.id)==null?void 0:C.toString())===A.toString()&&(this.removeRequestFromQueue(A),this.relayer.events.removeListener(hn.publish,g),b())};this.relayer.events.on(hn.publish,g);const v=rc(new Promise((A,C)=>{this.rpcPublish(y,i).then(A).catch(x=>{this.logger.warn(x,x==null?void 0:x.message),C(x)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${h}`);try{await v,this.events.removeListener(hn.publish,g)}catch(A){this.queue.set(p,{request:y,opts:i,attempt:1}),this.logger.warn(A,A==null?void 0:A.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:n,message:s,opts:i}}),await rc(w,this.publishTimeout,E)}catch(w){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(w),(l=i==null?void 0:i.internal)!=null&&l.throwOnFailedPublish)throw w}finally{this.queue.delete(p)}}),oo(this,"publishCustom",async n=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:u,opts:l={}}=n,{attestation:d,tvf:f,publishMethod:h,prompt:p,tag:m,ttl:y=je.FIVE_MINUTES}=l,E=l.id||sd().toString(),w=O0(qI().protocol),b=h||w.publish,g={id:E,method:b,params:qp(EM(qp({},u),{ttl:y,prompt:p,tag:m,attestation:d}),f)},v=`Failed to publish custom payload, please try again. id:${E} tag:${m}`;try{xn((s=g.params)==null?void 0:s.prompt)&&((i=g.params)==null||delete i.prompt),xn((o=g.params)==null?void 0:o.tag)&&((a=g.params)==null||delete a.tag);const A=new Promise(async C=>{const x=({id:N})=>{var M;((M=g.id)==null?void 0:M.toString())===N.toString()&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(hn.publish,x),C())};this.relayer.events.on(hn.publish,x);const T=rc(new Promise((N,M)=>{this.rpcPublish(g,l).then(N).catch(k=>{this.logger.warn(k,k==null?void 0:k.message),M(k)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${b} id:${E} tag:${m}`);try{await T,this.events.removeListener(hn.publish,x)}catch(N){this.queue.set(E,{request:g,opts:l,attempt:1}),this.logger.warn(N,N==null?void 0:N.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:u,opts:l}}),await rc(A,this.publishTimeout,v)}catch(A){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(A),(c=l==null?void 0:l.internal)!=null&&c.throwOnFailedPublish)throw A}finally{this.queue.delete(E)}}),oo(this,"on",(n,s)=>{this.events.on(n,s)}),oo(this,"once",(n,s)=>{this.events.once(n,s)}),oo(this,"off",(n,s)=>{this.events.off(n,s)}),oo(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=wi(r,this.name),this.registerEventListeners()}get context(){return bi(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(hn.publish,qp(qp({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const s=e.attempt+1;this.queue.set(r,EM(qp({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(gp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(hn.connection_stalled);return}this.checkQueue()}),this.relayer.on(hn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var xIe=Object.defineProperty,OIe=(t,e,r)=>e in t?xIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zp=(t,e,r)=>OIe(t,typeof e!="symbol"?e+"":e,r);class RIe{constructor(){zp(this,"map",new Map),zp(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),zp(this,"get",e=>this.map.get(e)||[]),zp(this,"exists",(e,r)=>this.get(e).includes(r)),zp(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),zp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var NIe=Object.defineProperty,BIe=Object.defineProperties,kIe=Object.getOwnPropertyDescriptors,vM=Object.getOwnPropertySymbols,jIe=Object.prototype.hasOwnProperty,DIe=Object.prototype.propertyIsEnumerable,JR=(t,e,r)=>e in t?NIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dy=(t,e)=>{for(var r in e||(e={}))jIe.call(e,r)&&JR(t,r,e[r]);if(vM)for(var r of vM(e))DIe.call(e,r)&&JR(t,r,e[r]);return t},g5=(t,e)=>BIe(t,kIe(e)),br=(t,e,r)=>JR(t,typeof e!="symbol"?e+"":e,r);class MIe extends U0e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,br(this,"subscriptions",new Map),br(this,"topicMap",new RIe),br(this,"events",new Po.EventEmitter),br(this,"name",_Ce),br(this,"version",ACe),br(this,"pending",new Map),br(this,"cached",[]),br(this,"initialized",!1),br(this,"storagePrefix",pc),br(this,"subscribeTimeout",je.toMiliseconds(je.ONE_MINUTE)),br(this,"initialSubscribeTimeout",je.toMiliseconds(je.ONE_SECOND*15)),br(this,"clientId"),br(this,"batchSubscribeTopicsLimit",500),br(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),br(this,"subscribe",async(n,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const o=qI(s),a={topic:n,relay:o,transportType:s==null?void 0:s.transportType};(i=s==null?void 0:s.internal)!=null&&i.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),br(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),br(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),br(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),br(this,"on",(n,s)=>{this.events.on(n,s)}),br(this,"once",(n,s)=>{this.events.once(n,s)}),br(this,"off",(n,s)=>{this.events.off(n,s)}),br(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),br(this,"start",async()=>{await this.onConnect()}),br(this,"stop",async()=>{await this.onDisconnect()}),br(this,"restart",async()=>{await this.restore(),await this.onRestart()}),br(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),br(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(gp.pulse,async()=>{await this.checkPending()}),this.events.on(Mi.created,async n=>{const s=Mi.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(Mi.deleted,async n=>{const s=Mi.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=wi(r,this.name),this.clientId=""}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=qI(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);const i=Lr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s,i;const o=await this.getSubscriptionId(e);if((s=n==null?void 0:n.internal)!=null&&s.skipSubscribe)return o;(!n||(n==null?void 0:n.transportType)===Br.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:O0(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===Br.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},je.toMiliseconds(je.ONE_SECOND)),o;const u=new Promise(async d=>{const f=h=>{h.topic===e&&(this.events.removeListener(Mi.created,f),d(h.id))};this.events.on(Mi.created,f);try{const h=await rc(new Promise((p,m)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),m(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Mi.created,f),d(h)}catch{}}),l=await rc(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return l?o:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(hn.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:O0(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await rc(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:O0(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await rc(new Promise((i,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:O0(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,g5(dy({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,dy({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,dy({},r)),this.topicMap.set(r.topic,e),this.events.emit(Mi.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Mi.deleted,g5(dy({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Mi.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Mi.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>g5(dy({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await UEe(je.toMiliseconds(je.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Eo(e+await this.getClientId())}}var UIe=Object.defineProperty,_M=Object.getOwnPropertySymbols,LIe=Object.prototype.hasOwnProperty,FIe=Object.prototype.propertyIsEnumerable,QR=(t,e,r)=>e in t?UIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AM=(t,e)=>{for(var r in e||(e={}))LIe.call(e,r)&&QR(t,r,e[r]);if(_M)for(var r of _M(e))FIe.call(e,r)&&QR(t,r,e[r]);return t},Qt=(t,e,r)=>QR(t,typeof e!="symbol"?e+"":e,r);class HIe extends D0e{constructor(e){var r;super(e),Qt(this,"protocol","wc"),Qt(this,"version",2),Qt(this,"core"),Qt(this,"logger"),Qt(this,"events",new Po.EventEmitter),Qt(this,"provider"),Qt(this,"messages"),Qt(this,"subscriber"),Qt(this,"publisher"),Qt(this,"name",yCe),Qt(this,"transportExplicitlyClosed",!1),Qt(this,"initialized",!1),Qt(this,"connectionAttemptInProgress",!1),Qt(this,"relayUrl"),Qt(this,"projectId"),Qt(this,"packageName"),Qt(this,"bundleId"),Qt(this,"hasExperiencedNetworkDisruption",!1),Qt(this,"pingTimeout"),Qt(this,"heartBeatTimeout",je.toMiliseconds(je.THIRTY_SECONDS+je.FIVE_SECONDS)),Qt(this,"reconnectTimeout"),Qt(this,"connectPromise"),Qt(this,"reconnectInProgress",!1),Qt(this,"requestsInFlight",[]),Qt(this,"connectTimeout",je.toMiliseconds(je.ONE_SECOND*15)),Qt(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");const o=n.id||sd().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");const a=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);const c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),Qt(this,"resetPingTimeout",()=>{DI()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),Qt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Qt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(hn.connect)}),Qt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Qt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(hn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Qt(this,"registerProviderListeners",()=>{this.provider.on(io.payload,this.onPayloadHandler),this.provider.on(io.connect,this.onConnectHandler),this.provider.on(io.disconnect,this.onDisconnectHandler),this.provider.on(io.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=u3({logger:(r=e.logger)!=null?r:gCe,name:this.name}),this.messages=new _Ie(this.logger,e.core),this.subscriber=new MIe(this,this.logger),this.publisher=new PIe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||zQ,_Ee()?this.packageName=uD():AEe()&&(this.bundleId=uD()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return bi(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Br.relay},RS.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const u=l=>{l.topic===e&&(this.subscriber.off(Mi.created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(Mi.created,u)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,AM({internal:{throwOnFailedPublish:o}},r)).catch(f=>{o&&d(f)})||a,l()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await rc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await tM())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=dn(je.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(hn.message,e),await this.recordMessageEvent(e,RS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(io.disconnect,i),await rc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(io.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(io.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(io.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,je.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if(DI())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new f3(new sCe(PEe({sdkVersion:GR,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),d3(e)){if(!e.method.endsWith(bCe))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:o}=r.data,a={topic:n,message:s,publishedAt:i,transportType:Br.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(AM({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else pP(e)&&this.events.emit(hn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,RS.inbound),this.events.emit(hn.message,e))}async acknowledgePayload(e){const r=fw(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(io.payload,this.onPayloadHandler),this.provider.off(io.connect,this.onConnectHandler),this.provider.off(io.disconnect,this.onDisconnectHandler),this.provider.off(io.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await tM();C2e(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(gp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&T2e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(hn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},je.toMiliseconds(wCe)))))}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function qIe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function CM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function SM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const zIe="[object RegExp]",$Ie="[object String]",VIe="[object Number]",GIe="[object Boolean]",IM="[object Arguments]",WIe="[object Symbol]",KIe="[object Date]",ZIe="[object Map]",YIe="[object Set]",JIe="[object Array]",QIe="[object Function]",XIe="[object ArrayBuffer]",y5="[object Object]",eTe="[object Error]",tTe="[object DataView]",rTe="[object Uint8Array]",nTe="[object Uint8ClampedArray]",sTe="[object Uint16Array]",iTe="[object Uint32Array]",oTe="[object BigUint64Array]",aTe="[object Int8Array]",cTe="[object Int16Array]",uTe="[object Int32Array]",lTe="[object BigInt64Array]",dTe="[object Float32Array]",fTe="[object Float64Array]";function hTe(){}function TM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function pTe(t,e,r){return Db(t,e,void 0,void 0,void 0,void 0,r)}function Db(t,e,r,n,s,i,o){const a=o(t,e,r,n,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return n1(t,e,i,o)}return n1(t,e,i,o)}function n1(t,e,r,n){if(Object.is(t,e))return!0;let s=SM(t),i=SM(e);if(s===IM&&(s=y5),i===IM&&(i=y5),s!==i)return!1;switch(s){case $Ie:return t.toString()===e.toString();case VIe:{const c=t.valueOf(),u=e.valueOf();return qIe(c,u)}case GIe:case KIe:case WIe:return Object.is(t.valueOf(),e.valueOf());case zIe:return t.source===e.source&&t.flags===e.flags;case QIe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(s){case ZIe:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!Db(u,e.get(c),c,t,e,r,n))return!1;return!0}case YIe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],f=u.findIndex(h=>Db(d,h,void 0,t,e,r,n));if(f===-1)return!1;u.splice(f,1)}return!0}case JIe:case rTe:case nTe:case sTe:case iTe:case oTe:case aTe:case cTe:case uTe:case lTe:case dTe:case fTe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Db(t[c],e[c],c,t,e,r,n))return!1;return!0}case XIe:return t.byteLength!==e.byteLength?!1:n1(new Uint8Array(t),new Uint8Array(e),r,n);case tTe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:n1(new Uint8Array(t),new Uint8Array(e),r,n);case eTe:return t.name===e.name&&t.message===e.message;case y5:{if(!(n1(t.constructor,e.constructor,r,n)||TM(t)&&TM(e)))return!1;const c=[...Object.keys(t),...CM(t)],u=[...Object.keys(e),...CM(e)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const d=c[l],f=t[d];if(!Object.hasOwn(e,d))return!1;const h=e[d];if(!Db(f,h,d,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function mTe(t,e){return pTe(t,e,hTe)}var gTe=Object.defineProperty,PM=Object.getOwnPropertySymbols,yTe=Object.prototype.hasOwnProperty,bTe=Object.prototype.propertyIsEnumerable,XR=(t,e,r)=>e in t?gTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xM=(t,e)=>{for(var r in e||(e={}))yTe.call(e,r)&&XR(t,r,e[r]);if(PM)for(var r of PM(e))bTe.call(e,r)&&XR(t,r,e[r]);return t},Ws=(t,e,r)=>XR(t,typeof e!="symbol"?e+"":e,r);class wp extends M0e{constructor(e,r,n,s=pc,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,Ws(this,"map",new Map),Ws(this,"version",ECe),Ws(this,"cached",[]),Ws(this,"initialized",!1),Ws(this,"getKey"),Ws(this,"storagePrefix",pc),Ws(this,"recentlyDeleted",[]),Ws(this,"recentlyDeletedLimit",200),Ws(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!xn(o)?this.map.set(this.getKey(o),o):t2e(o)?this.map.set(o.id,o):r2e(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ws(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ws(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ws(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>mTe(a[c],o[c]))):this.values)),Ws(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=xM(xM({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ws(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=wi(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=De("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wTe=Object.defineProperty,ETe=(t,e,r)=>e in t?wTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kt=(t,e,r)=>ETe(t,typeof e!="symbol"?e+"":e,r);class vTe{constructor(e,r){this.core=e,this.logger=r,kt(this,"name",CCe),kt(this,"version",SCe),kt(this,"events",new j8),kt(this,"pairings"),kt(this,"initialized",!1),kt(this,"storagePrefix",pc),kt(this,"ignoredPayloadTypes",[xu]),kt(this,"registeredMethods",[]),kt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),kt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),kt(this,"create",async n=>{this.isInitialized();const s=zR(),i=await this.core.crypto.setSymKey(s),o=dn(je.FIVE_MINUTES),a={protocol:qQ},c={topic:i,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},u=GD({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit($f.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:i,uri:u}}),kt(this,"pair",async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[ka.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:u}=VD(n.uri);s.props.properties.topic=i,s.addTrace(ka.pairing_uri_validation_success),s.addTrace(ka.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(i)){if(l=this.pairings.get(i),s.addTrace(ka.existing_pairing),l.active)throw s.setError(Jc.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ka.pairing_not_expired)}const d=c||dn(je.FIVE_MINUTES),f={topic:i,relay:a,expiry:d,active:!1,methods:u};this.core.expirer.set(i,d),await this.pairings.set(i,f),s.addTrace(ka.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit($f.create,f),s.addTrace(ka.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ka.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Jc.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(Jc.subscribe_pairing_topic_failure),h}return s.addTrace(ka.subscribe_pairing_topic_success),f}),kt(this,"activate",async({topic:n})=>{this.isInitialized();const s=dn(je.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),kt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Uf();this.events.once(hr("pairing_ping",i),({error:u})=>{u?c(u):a()}),await o()}}),kt(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),kt(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),kt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),kt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Lr("USER_DISCONNECTED")),await this.deletePairing(s))}),kt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(s);return GD({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),kt(this,"sendRequest",async(n,s,i)=>{const o=Jo(s,i),a=await this.core.crypto.encode(n,o),c=uy[s].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),kt(this,"sendResult",async(n,s,i)=>{const o=fw(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,u=uy[c].res;await this.core.relayer.publish(s,a,u),await this.core.history.resolve(o)}),kt(this,"sendError",async(n,s,i)=>{const o=hP(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,u=uy[c]?uy[c].res:uy.unregistered_method.res;await this.core.relayer.publish(s,a,u),await this.core.history.resolve(o)}),kt(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Lr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),kt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(s=>Ya(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),kt(this,"onRelayEventRequest",async n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),kt(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i}=n,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),kt(this,"onPairingPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit($f.ping,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),kt(this,"onPairingPingResponse",(n,s)=>{const{id:i}=s;setTimeout(()=>{Ma(s)?this.events.emit(hr("pairing_ping",i),{}):vo(s)&&this.events.emit(hr("pairing_ping",i),{error:s.error})},500)}),kt(this,"onPairingDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit($f.delete,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),kt(this,"onUnknownRpcMethodRequest",async(n,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Lr("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,n,a),this.logger.error(a)}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),kt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Lr("WC_METHOD_UNSUPPORTED",n))}),kt(this,"isValidPair",(n,s)=>{var i;if(!Xs(n)){const{message:a}=De("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(Jc.malformed_pairing_uri),new Error(a)}if(!e2e(n.uri)){const{message:a}=De("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(Jc.malformed_pairing_uri),new Error(a)}const o=VD(n==null?void 0:n.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=De("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Jc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=De("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Jc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&je.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(Jc.pairing_expired);const{message:a}=De("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),kt(this,"isValidPing",async n=>{if(!Xs(n)){const{message:i}=De("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),kt(this,"isValidDisconnect",async n=>{if(!Xs(n)){const{message:i}=De("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),kt(this,"isValidPairingTopic",async n=>{if(!pn(n,!1)){const{message:s}=De("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=De("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(Ya(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=De("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=wi(r,this.name),this.pairings=new wp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return bi(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(hn.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==Br.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const i=await this.core.crypto.decode(r,n);d3(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):pP(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(fo.expired,async e=>{const{topic:r}=BJ(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit($f.expire,{topic:r}))})}}var _Te=Object.defineProperty,ATe=(t,e,r)=>e in t?_Te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Un=(t,e,r)=>ATe(t,typeof e!="symbol"?e+"":e,r);class CTe extends B0e{constructor(e,r){super(e,r),this.core=e,this.logger=r,Un(this,"records",new Map),Un(this,"events",new Po.EventEmitter),Un(this,"name",ICe),Un(this,"version",TCe),Un(this,"cached",[]),Un(this,"initialized",!1),Un(this,"storagePrefix",pc),Un(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Un(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:dn(je.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ro.created,o)}),Un(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=vo(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Ro.updated,s))}),Un(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),Un(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Ro.deleted,i)}}),this.persist()}),Un(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),Un(this,"on",(n,s)=>{this.events.on(n,s)}),Un(this,"once",(n,s)=>{this.events.once(n,s)}),Un(this,"off",(n,s)=>{this.events.off(n,s)}),Un(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=wi(r,this.name)}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Jo(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ro.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ro.created,e=>{const r=Ro.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ro.updated,e=>{const r=Ro.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ro.deleted,e=>{const r=Ro.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(gp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{je.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Ro.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var STe=Object.defineProperty,ITe=(t,e,r)=>e in t?STe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,os=(t,e,r)=>ITe(t,typeof e!="symbol"?e+"":e,r);class TTe extends L0e{constructor(e,r){super(e,r),this.core=e,this.logger=r,os(this,"expirations",new Map),os(this,"events",new Po.EventEmitter),os(this,"name",PCe),os(this,"version",xCe),os(this,"cached",[]),os(this,"initialized",!1),os(this,"storagePrefix",pc),os(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),os(this,"has",n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),os(this,"set",(n,s)=>{this.isInitialized();const i=this.formatTarget(n),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(fo.created,{target:i,expiration:o})}),os(this,"get",n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)}),os(this,"del",n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(fo.deleted,{target:s,expiration:i})}}),os(this,"on",(n,s)=>{this.events.on(n,s)}),os(this,"once",(n,s)=>{this.events.once(n,s)}),os(this,"off",(n,s)=>{this.events.off(n,s)}),os(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=wi(r,this.name)}get context(){return bi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return xEe(e);if(typeof e=="number")return OEe(e);const{message:r}=De("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(fo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;je.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(fo.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(gp.pulse,()=>this.checkExpirations()),this.events.on(fo.created,e=>{const r=fo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(fo.expired,e=>{const r=fo.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(fo.deleted,e=>{const r=fo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var PTe=Object.defineProperty,xTe=(t,e,r)=>e in t?PTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ln=(t,e,r)=>xTe(t,typeof e!="symbol"?e+"":e,r);class OTe extends F0e{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,ln(this,"name",OCe),ln(this,"abortController"),ln(this,"isDevEnv"),ln(this,"verifyUrlV3",NCe),ln(this,"storagePrefix",pc),ln(this,"version",HQ),ln(this,"publicKey"),ln(this,"fetchPromise"),ln(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&je.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ln(this,"register",async s=>{if(!Ag()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const u=Mu.getDocument(),l=this.startAbortTimer(je.ONE_SECOND*5),d=await new Promise((f,h)=>{const p=()=>{window.removeEventListener("message",y),u.body.removeChild(m),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=u.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const y=E=>{if(E.data&&typeof E.data=="string")try{const w=JSON.parse(E.data);if(w.type==="verify_attestation"){if(vR(w.attestation).payload.id!==o)return;clearInterval(l),u.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),f(w.attestation===null?"":w.attestation)}}catch(w){this.logger.warn(w)}};u.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(u){this.logger.warn(u)}return""}),ln(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(vR(i).payload.id!==a)return;const u=await this.isValidJwtAttestation(i);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),ln(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(je.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),ln(this,"getVerifyUrl",s=>{let i=s||r1;return BCe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${r1}`),i=r1),i}),ln(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(je.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),ln(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),ln(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ln(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),ln(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ln(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),ln(this,"validateAttestation",(s,i)=>{const o=IAe(s,i.publicKey),a={hasExpired:je.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=wi(r,this.name),this.abortController=new AbortController,this.isDevEnv=Q8(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return bi(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),je.toMiliseconds(e))}}var RTe=Object.defineProperty,NTe=(t,e,r)=>e in t?RTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OM=(t,e,r)=>NTe(t,typeof e!="symbol"?e+"":e,r);class BTe extends H0e{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,OM(this,"context",kCe),OM(this,"registerDeviceToken",async n=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=n,c=`${jCe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=wi(r,this.context)}}var kTe=Object.defineProperty,RM=Object.getOwnPropertySymbols,jTe=Object.prototype.hasOwnProperty,DTe=Object.prototype.propertyIsEnumerable,eN=(t,e,r)=>e in t?kTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fy=(t,e)=>{for(var r in e||(e={}))jTe.call(e,r)&&eN(t,r,e[r]);if(RM)for(var r of RM(e))DTe.call(e,r)&&eN(t,r,e[r]);return t},Sn=(t,e,r)=>eN(t,typeof e!="symbol"?e+"":e,r);class MTe extends q0e{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Sn(this,"context",MCe),Sn(this,"storagePrefix",pc),Sn(this,"storageVersion",DCe),Sn(this,"events",new Map),Sn(this,"shouldPersist",!1),Sn(this,"init",async()=>{if(!Q8())try{const s={eventId:dD(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:RJ(this.core.relayer.protocol,this.core.relayer.version,GR)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Sn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,u=dD(),l=this.core.projectId||"",d=Date.now(),f=fy({eventId:u,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,f),this.shouldPersist=!0),f}),Sn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return fy(fy({},a),this.setMethods(a.eventId))}),Sn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Sn(this,"setEventListeners",()=>{this.core.heartbeat.on(gp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{je.fromMiliseconds(Date.now())-je.fromMiliseconds(s.timestamp)>UCe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Sn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Sn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Sn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Sn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Sn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,fy(fy({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Sn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Sn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${LCe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${GR}${i}`,{method:"POST",body:JSON.stringify(s)})}),Sn(this,"getAppDomain",()=>OJ().url),this.logger=wi(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var UTe=Object.defineProperty,NM=Object.getOwnPropertySymbols,LTe=Object.prototype.hasOwnProperty,FTe=Object.prototype.propertyIsEnumerable,tN=(t,e,r)=>e in t?UTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BM=(t,e)=>{for(var r in e||(e={}))LTe.call(e,r)&&tN(t,r,e[r]);if(NM)for(var r of NM(e))FTe.call(e,r)&&tN(t,r,e[r]);return t},Sr=(t,e,r)=>tN(t,typeof e!="symbol"?e+"":e,r);let HTe=class rX extends x0e{constructor(e){var r;super(e),Sr(this,"protocol",FQ),Sr(this,"version",HQ),Sr(this,"name",VR),Sr(this,"relayUrl"),Sr(this,"projectId"),Sr(this,"customStoragePrefix"),Sr(this,"events",new Po.EventEmitter),Sr(this,"logger"),Sr(this,"heartbeat"),Sr(this,"relayer"),Sr(this,"crypto"),Sr(this,"storage"),Sr(this,"history"),Sr(this,"expirer"),Sr(this,"pairing"),Sr(this,"verify"),Sr(this,"echoClient"),Sr(this,"linkModeSupportedApps"),Sr(this,"eventClient"),Sr(this,"initialized",!1),Sr(this,"logChunkController"),Sr(this,"on",(a,c)=>this.events.on(a,c)),Sr(this,"once",(a,c)=>this.events.once(a,c)),Sr(this,"off",(a,c)=>this.events.off(a,c)),Sr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Sr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:Br.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||zQ,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=C8({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:oCe.logger,name:VR}),{logger:i,chunkLoggerController:o}=zT({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=wi(i,this.name),this.heartbeat=new Gpe,this.crypto=new pIe(this,this.logger,e==null?void 0:e.keychain),this.history=new CTe(this,this.logger),this.expirer=new TTe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new I0e(BM(BM({},aCe),e==null?void 0:e.storageOptions)),this.relayer=new HIe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new vTe(this,this.logger),this.verify=new OTe(this,this.logger,this.storage),this.echoClient=new BTe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new MTe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new rX(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(vCe,n),r}get context(){return bi(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(dM,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(dM)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&iCe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const qTe=HTe,nX="wc",sX=2,iX="client",h3=`${nX}@${sX}:${iX}:`,b5={name:iX,logger:"error"},kM="WALLETCONNECT_DEEPLINK_CHOICE",zTe="proposal",jM="Proposal expired",$Te="session",$p=je.SEVEN_DAYS,VTe="engine",Ln={wc_sessionPropose:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1104},res:{ttl:je.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1106},res:{ttl:je.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1112},res:{ttl:je.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1114},res:{ttl:je.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:je.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:je.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1119}}},w5={min:je.FIVE_MINUTES,max:je.SEVEN_DAYS},Pa={idle:"IDLE",active:"ACTIVE"},GTe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},WTe="request",KTe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ZTe="wc",YTe="auth",JTe="authKeys",QTe="pairingTopics",XTe="requests",gP=`${ZTe}@${1.5}:${YTe}:`,NS=`${gP}:PUB_KEY`;var ePe=Object.defineProperty,tPe=Object.defineProperties,rPe=Object.getOwnPropertyDescriptors,DM=Object.getOwnPropertySymbols,nPe=Object.prototype.hasOwnProperty,sPe=Object.prototype.propertyIsEnumerable,rN=(t,e,r)=>e in t?ePe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nr=(t,e)=>{for(var r in e||(e={}))nPe.call(e,r)&&rN(t,r,e[r]);if(DM)for(var r of DM(e))sPe.call(e,r)&&rN(t,r,e[r]);return t},Fn=(t,e)=>tPe(t,rPe(e)),xe=(t,e,r)=>rN(t,typeof e!="symbol"?e+"":e,r);class iPe extends G0e{constructor(e){super(e),xe(this,"name",VTe),xe(this,"events",new j8),xe(this,"initialized",!1),xe(this,"requestQueue",{state:Pa.idle,queue:[]}),xe(this,"sessionRequestQueue",{state:Pa.idle,queue:[]}),xe(this,"emittedSessionRequests",new LEe({limit:500})),xe(this,"requestQueueDelay",je.ONE_SECOND),xe(this,"expectedPairingMethodMap",new Map),xe(this,"recentlyDeletedMap",new Map),xe(this,"recentlyDeletedLimit",200),xe(this,"relayMessageCache",[]),xe(this,"pendingSessions",new Map),xe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ln)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay)))}),xe(this,"connect",async r=>{var n;this.isInitialized(),await this.confirmOnlineStateOrThrow();const s=Fn(nr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=ZAe(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:l,authentication:d,walletPay:f}=s,h=((n=d==null?void 0:d[0])==null?void 0:n.ttl)||Ln.wc_sessionPropose.req.ttl||je.FIVE_MINUTES;this.validateRequestExpiry(h);let p=i,m,y=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!y){const{topic:T,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=T,m=N}if(!p){const{message:T}=De("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(T)}const E=await this.client.core.crypto.generateKeyPair(),w=dn(h),b=nr(Fn(nr(nr({requiredNamespaces:o,optionalNamespaces:a,relays:l??[{protocol:qQ}],proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:p},c&&{sessionProperties:c}),u&&{scopedProperties:u}),{id:Da()}),(d||f)&&{requests:{authentication:d==null?void 0:d.map(T=>{const{domain:N,chains:M,nonce:k,uri:B,exp:U,nbf:I,type:S,statement:_,requestId:R,resources:O,signatureTypes:P}=T;return{domain:N,chains:M,nonce:k,type:S??"caip122",aud:B,version:"1",iat:new Date().toISOString(),exp:U,nbf:I,statement:_,requestId:R,resources:O,signatureTypes:P}}),walletPay:f}}),g=hr("session_connect",b.id),{reject:v,resolve:A,done:C}=Uf(h,jM),x=({id:T})=>{T===b.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(b.id),this.events.emit(g,{error:{message:jM,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(g,({error:T,session:N})=>{this.client.events.off("proposal_expire",x),T?v(T):N&&A(N)}),await this.setProposal(b.id,b),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}).catch(T=>{throw this.deleteProposal(b.id),T}),{uri:m,approval:C}}),xe(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),xe(this,"approve",async r=>{var n,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[No.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(af.no_internet_connection),N}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(af.proposal_not_found),N}try{await this.isValidApprove(r)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(af.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f,proposalRequestsResponses:h}=r,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:y,requiredNamespaces:E,optionalNamespaces:w}=p;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:m});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:No.session_approve_started,properties:{topic:m,trace:[No.session_approve_started,No.session_namespaces_validation_success]}}));const g=await this.client.core.crypto.generateKeyPair(),v=y.publicKey,A=await this.client.core.crypto.generateSharedKey(g,v),C=Fn(nr(nr(nr({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:g,metadata:this.client.metadata},expiry:dn($p)},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{proposalRequestsResponses:h}),x=Br.relay;b.addTrace(No.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:x,internal:{skipSubscribe:!0}})}catch(N){throw b.setError(af.subscribe_session_topic_failure),N}b.addTrace(No.subscribe_session_topic_success);const T=Fn(nr({},C),{topic:A,requiredNamespaces:E,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:C.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:g,transportType:Br.relay,authentication:h==null?void 0:h.authentication,walletPayResult:h==null?void 0:h.walletPay});await this.client.session.set(A,T),b.addTrace(No.store_session);try{await this.sendApproveSession({sessionTopic:A,proposal:p,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:g},sessionSettleRequest:C,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:nr({correlationId:a},this.getTVFApproveParams(T))}}),b.addTrace(No.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(A,Lr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(A),N}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:y.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(A,dn($p)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),xe(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:s}=r;let i;try{i=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}i&&await this.sendError({id:n,topic:i,error:s,rpcOpts:Ln.wc_sessionPropose.reject}),await this.deleteProposal(n)}),xe(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:n,namespaces:s}=r,{done:i,resolve:o,reject:a}=Uf(je.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=Da(),u=sd().toString(),l=this.client.session.get(n).namespaces;return this.events.once(hr("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:l}),a(d)}),{acknowledged:i}}),xe(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,s=Da(),{done:i,resolve:o,reject:a}=Uf(je.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(hr("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,dn($p)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),xe(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:s,topic:i,expiry:o=Ln.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(i);(a==null?void 0:a.transportType)===Br.relay&&await this.confirmOnlineStateOrThrow();const c=Da(),u=sd().toString(),{done:l,resolve:d,reject:f}=Uf(o,"Request expired. Please try again.");this.events.once(hr("session_request",c),({error:y,result:E})=>{y?f(y):d(E)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:i,method:h,params:{request:Fn(nr({},s),{expiryTimestamp:dn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),await l();const m={request:Fn(nr({},s),{expiryTimestamp:dn(o)}),chainId:n};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:i,method:h,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(E=>f(E)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),y()}),new Promise(async y=>{var E;if(!((E=a.sessionConfig)!=null&&E.disableDeepLink)){const w=await kEe(this.client.core.storage,kM);await REe({id:c,topic:i,wcDeepLink:w})}y()}),l()]).then(y=>y[2])}),xe(this,"respond",async r=>{var n,s;this.isInitialized();const i=this.client.core.eventClient.createEvent({properties:{topic:(r==null?void 0:r.topic)||((s=(n=r==null?void 0:r.response)==null?void 0:n.id)==null?void 0:s.toString()),trace:[No.session_request_response_started]}});try{await this.isValidRespond(r)}catch(d){throw i.addTrace(d==null?void 0:d.message),i.setError(af.session_request_response_validation_failure),d}i.addTrace(No.session_request_response_validation_success);const{topic:o,response:a}=r,{id:c}=a,u=this.client.session.get(o);u.transportType===Br.relay&&await this.confirmOnlineStateOrThrow();const l=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);try{i.addTrace(No.session_request_response_publish_started),Ma(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:l}):vo(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:l}),this.cleanupAfterResponse(r)}catch(d){throw i.addTrace(d==null?void 0:d.message),i.setError(af.session_request_response_publish_failure),d}}),xe(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=Da(),i=sd().toString(),{done:o,resolve:a,reject:c}=Uf(je.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(hr("session_ping",s),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),xe(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:s,chainId:i}=r,o=sd().toString(),a=Da();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),xe(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Lr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:s}=De("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),xe(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>QAe(n,r)))),xe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),xe(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?Br.link_mode:Br.relay;o===Br.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:d,type:f,exp:h,nbf:p,methods:m=[],expiry:y}=r,E=[...r.resources||[]],{topic:w,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:b}});const g=await this.client.core.crypto.generateKeyPair(),v=OS(g);if(await Promise.all([this.client.auth.authKeys.set(NS,{responseTopic:v,publicKey:g}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:w})]),await this.client.core.relayer.subscribe(v,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${w}`),m.length>0){const{namespace:O}=Pu(a[0]);let P=Qve(O,"request",m);xS(E)&&(P=e_e(P,E.pop())),E.push(P)}const A=y&&y>Ln.wc_sessionAuthenticate.req.ttl?y:Ln.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:f??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:p,resources:E},requester:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:dn(A)},x={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},T={requiredNamespaces:{},optionalNamespaces:x,relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:dn(Ln.wc_sessionPropose.req.ttl),id:Da()},{done:N,resolve:M,reject:k}=Uf(A,"Request expired"),B=Da(),U=hr("session_connect",T.id),I=hr("session_request",B),S=async({error:O,session:P})=>{this.events.off(I,_),O?k(O):P&&M({session:P})},_=async O=>{var P,D,j;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),O.error){const Q=Lr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return O.error.code===Q.code?void 0:(this.events.off(U,S),k(O.error.message))}await this.deleteProposal(T.id),this.events.off(U,S);const{cacaos:F,responder:q}=O.result,z=[],W=[];for(const Q of F){await _D({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,"Signature verification failed"),k(Lr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:X}=Q,ie=xS(X.resources),Y=[BR(X.iss)],V=UI(X.iss);if(ie){const Z=AD(ie),ne=CD(ie);z.push(...Z),Y.push(...ne)}for(const Z of Y)W.push(`${Z}:${V}`)}const K=await this.client.core.crypto.generateSharedKey(g,q.publicKey);let re;z.length>0&&(re={topic:K,acknowledged:!0,self:{publicKey:g,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:dn($p),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:YD([...new Set(z)],[...new Set(W)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,re),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:q.metadata}),re=this.client.session.get(K)),(P=this.client.metadata.redirect)!=null&&P.linkMode&&(D=q.metadata.redirect)!=null&&D.linkMode&&(j=q.metadata.redirect)!=null&&j.universal&&n&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(K,{transportType:Br.link_mode})),M({auths:F,session:re})};this.events.once(U,S),this.events.once(I,_);let R;try{if(i){const O=Jo("wc_sessionAuthenticate",C,B);this.client.core.history.set(w,O);const P=await this.client.core.crypto.encode("",O,{type:oE,encoding:Ul});R=Ov(n,w,P)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:C,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:T,expiry:Ln.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:T.id})])}catch(O){throw this.events.off(U,S),this.events.off(I,_),O}return await this.setProposal(T.id,T),await this.setAuthRequest(B,{request:Fn(nr({},C),{verifyContext:{}}),pairingTopic:w,transportType:o}),{uri:R??b,response:N}}),xe(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[cf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(ly.no_internet_connection),y}const o=this.getPendingAuthRequest(n);if(!o)throw i.setError(ly.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Br.relay;a===Br.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=OS(c),d={type:xu,receiverPublicKey:c,senderPublicKey:u},f=[],h=[];for(const y of s){if(!await _D({cacao:y,projectId:this.client.core.projectId})){i.setError(ly.invalid_cacao);const v=Lr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:l,error:v,encodeOpts:d}),new Error(v.message)}i.addTrace(cf.cacaos_verified);const{p:E}=y,w=xS(E.resources),b=[BR(E.iss)],g=UI(E.iss);if(w){const v=AD(w),A=CD(w);f.push(...v),b.push(...A)}for(const v of b)h.push(`${v}:${g}`)}const p=await this.client.core.crypto.generateSharedKey(u,c);i.addTrace(cf.create_authenticated_session_topic);let m;if((f==null?void 0:f.length)>0){m={topic:p,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:dn($p),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:YD([...new Set(f)],[...new Set(h)]),transportType:a},i.addTrace(cf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(ly.subscribe_authenticated_session_topic_failure),y}i.addTrace(cf.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),i.addTrace(cf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(cf.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:n,result:{cacaos:s,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(ly.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),xe(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===Br.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=OS(o),u={type:xu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:s,encodeOpts:u,rpcOpts:Ln.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),xe(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:s}=r;return YJ(n,s)}),xe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),xe(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),xe(this,"deleteSession",async r=>{var n;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Lr("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(kM).catch(u=>this.client.logger.warn(u)),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Pa.idle),await Promise.all(this.getPendingSessionRequests().filter(u=>u.topic===s).map(u=>this.deletePendingSessionRequest(u.id,Lr("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),xe(this,"deleteProposal",async(r,n)=>{if(n)try{const s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(af.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Lr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),xe(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=Pa.idle,this.client.events.emit("session_request_expire",{id:r}))}),xe(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),xe(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),xe(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,dn(Ln.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),xe(this,"setAuthRequest",async(r,n)=>{const{request:s,pairingTopic:i,transportType:o=Br.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),xe(this,"setPendingSessionRequest",async r=>{const{id:n,topic:s,params:i,verifyContext:o}=r,a=i.request.expiryTimestamp||dn(Ln.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:o})}),xe(this,"sendRequest",async r=>{const{topic:n,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:d,publishOpts:f={}}=r,h=Jo(s,i,c);let p;const m=!!l;try{const w=m?Ul:oi;p=await this.client.core.crypto.encode(n,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),w}let y;if(KTe.includes(s)){const w=Eo(JSON.stringify(h)),b=Eo(p);y=await this.client.core.verify.register({id:b,decryptedId:w})}const E=nr(nr({},Ln[s].req),f);if(E.attestation=y,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(n,h),m){const w=Ov(l,n,p);await global.Linking.openURL(w,this.client.name)}else E.tvf=Fn(nr({},d),{correlationId:h.id}),u?(E.internal=Fn(nr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,p,E)):this.client.core.relayer.publish(n,p,E).catch(w=>this.client.logger.error(w));return h.id}),xe(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:s}=r,i=Jo("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,i);const o=await this.client.core.crypto.encode(n.pairingTopic,i,{encoding:oi}),a=Eo(JSON.stringify(i)),c=Eo(o),u=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Fn(nr({},s),{publishMethod:"wc_proposeSession",attestation:u})})}),xe(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=r,c=fw(i.id,s),u=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:oi}),l=Jo("wc_sessionSettle",o,a==null?void 0:a.id),d=await this.client.core.crypto.encode(n,l,{encoding:oi});this.client.core.history.set(n,l),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:i.pairingTopic,sessionProposalResponse:u,sessionSettlementRequest:d},opts:Fn(nr({},a),{publishMethod:"wc_approveSession"})})}),xe(this,"sendResult",async r=>{const{id:n,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,u=fw(n,i);let l;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Ul:oi;l=await this.client.core.crypto.encode(s,u,Fn(nr({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let f,h;try{f=await this.client.core.history.get(s,n);const p=f.request;try{h=this.getTVFParams(n,p.params,i)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),p}if(d){const p=Ov(c,s,l);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,m=Ln[p].res;m.tvf=Fn(nr({},h),{correlationId:n}),o?(m.internal=Fn(nr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,l,m)):this.client.core.relayer.publish(s,l,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(u)}),xe(this,"sendError",async r=>{const{id:n,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=r,u=hP(n,i);let l;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?Ul:oi;l=await this.client.core.crypto.encode(s,u,Fn(nr({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let f;try{f=await this.client.core.history.get(s,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),h}if(d){const h=Ov(c,s,l);await global.Linking.openURL(h,this.client.name)}else{const h=f.request.method,p=a||Ln[h].res;this.client.core.relayer.publish(s,l,p)}await this.client.core.history.resolve(u)}),xe(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;Ya(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Ya(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),xe(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),xe(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),xe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Pa.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Pa.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Pa.idle}),xe(this,"processRequest",async r=>{const{topic:n,payload:s,attestation:i,transportType:o,encryptedId:a}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),xe(this,"onRelayEventResponse",async r=>{const{topic:n,payload:s,transportType:i}=r,o=(await this.client.core.history.get(n,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),xe(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:s}=De("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),xe(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),xe(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:s,attestation:i,encryptedId:o}=r,{params:a,id:c}=s;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError(Jc.proposal_listener_not_found)),this.isValidConnect(nr({},s.params));const l=a.expiryTimestamp||dn(Ln.wc_sessionPropose.req.ttl),d=nr({id:c,pairingTopic:n,expiryTimestamp:l,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:i,hash:Eo(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});u==null||u.addTrace(ka.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(u){await this.sendError({id:c,topic:n,error:u,rpcOpts:Ln.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),xe(this,"onSessionProposeResponse",async(r,n,s)=>{const{id:i}=n;if(Ma(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(i,{sessionTopic:l,pairingTopic:r,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(l,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(vo(n)){await this.deleteProposal(i);const o=hr("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),xe(this,"onSessionSettleRequest",async(r,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f,proposalRequestsResponses:h}=n.params,p=[...this.pendingSessions.values()].find(E=>E.sessionTopic===r);if(!p)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(p.proposalId),y=Fn(nr(nr(nr({topic:r,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:Br.relay,authentication:h==null?void 0:h.authentication,walletPayResult:h==null?void 0:h.walletPay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:y.peer.metadata}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:n.id,topic:r,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:y}),this.events.emit(hr("session_connect",p.proposalId),{session:y})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionSettleResponse",async(r,n)=>{const{id:s}=n;Ma(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(hr("session_approve",s),{})):vo(n)&&(await this.client.session.delete(r,Lr("USER_DISCONNECTED")),this.events.emit(hr("session_approve",s),{error:n.error}))}),xe(this,"onSessionUpdateRequest",async(r,n)=>{const{params:s,id:i}=n;try{const o=`${r}_session_update`,a=cy.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:Lr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(nr({topic:r},s));try{cy.set(o,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0})}catch(c){throw cy.delete(o),c}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),xe(this,"onSessionUpdateResponse",(r,n)=>{const{id:s}=n,i=hr("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ma(n)?this.events.emit(hr("session_update",s),{}):vo(n)&&this.events.emit(hr("session_update",s),{error:n.error})}),xe(this,"onSessionExtendRequest",async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,dn($p)),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionExtendResponse",(r,n)=>{const{id:s}=n,i=hr("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ma(n)?this.events.emit(hr("session_extend",s),{}):vo(n)&&this.events.emit(hr("session_extend",s),{error:n.error})}),xe(this,"onSessionPingRequest",async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionPingResponse",(r,n)=>{const{id:s}=n,i=hr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Ma(n)?this.events.emit(hr("session_ping",s),{}):vo(n)&&this.events.emit(hr("session_ping",s),{error:n.error})},500)}),xe(this,"onSessionDeleteRequest",async(r,n)=>{const{id:s}=n;try{await this.isValidDisconnect({topic:r,reason:n.params}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Lr("USER_DISCONNECTED")}),await this.deleteSession({topic:r,id:s})}catch(i){this.client.logger.error(i)}}),xe(this,"onSessionRequest",async r=>{var n,s,i;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:l}=r,{id:d,params:f}=a;try{await this.isValidRequest(nr({topic:o},f));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Eo(JSON.stringify(Jo("wc_sessionRequest",f,d))),encryptedId:u,metadata:h.peer.metadata,transportType:l}),m={id:d,topic:o,params:f,verifyContext:p};await this.setPendingSessionRequest(m),l===Br.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),xe(this,"onSessionRequestResponse",(r,n)=>{const{id:s}=n,i=hr("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ma(n)?this.events.emit(hr("session_request",s),{result:n.result}):vo(n)&&this.events.emit(hr("session_request",s),{error:n.error})}),xe(this,"onSessionEventRequest",async(r,n)=>{const{id:s,params:i}=n;try{const o=`${r}_session_event_${i.event.name}`,a=cy.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(nr({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),cy.set(o,s)}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Ma(n)?this.events.emit(hr("session_request",s),{result:n.result}):vo(n)&&this.events.emit(hr("session_request",s),{error:n.error})}),xe(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:u,authPayload:l,expiryTimestamp:d}=i.params,f=await this.getVerifyContext({attestationId:o,hash:Eo(JSON.stringify(i)),encryptedId:a,metadata:u.metadata,transportType:c}),h={requester:u,pairingTopic:s,id:i.id,authPayload:l,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===Br.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:f})}catch(u){this.client.logger.error(u);const l=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:xu,receiverPublicKey:l,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:u,encodeOpts:h,rpcOpts:Ln.wc_sessionAuthenticate.autoReject,appLink:f})}}),xe(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),xe(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Pa.idle,this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay))}),xe(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{this.events.emit(hr("session_request",i.request.id),{error:n})})}),xe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Pa.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),xe(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Pa.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),xe(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Jo("wc_sessionPropose",Fn(nr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),xe(this,"isValidConnect",async r=>{if(!Xs(r)){const{message:u}=De("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=r;if(xn(n)||await this.isValidPairingTopic(n),!l2e(c)){const{message:u}=De("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(s&&!xn(s)&&cc(s)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(s,"requiredNamespaces")}if(i&&!xn(i)&&cc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),o&&!xn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!xn(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(l=>u.includes(l.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),xe(this,"validateNamespaces",(r,n)=>{const s=u2e(r,"connect()",n);if(s)throw new Error(s.message)}),xe(this,"isValidApprove",async r=>{if(!Xs(r))throw new Error(De("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),u=f5(s,"approve()");if(u)throw new Error(u.message);const l=XD(c.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!pn(i,!0)){const{message:d}=De("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(o&&!xn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!xn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(f=>d.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),xe(this,"isValidReject",async r=>{if(!Xs(r)){const{message:i}=De("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!f2e(s)){const{message:i}=De("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),xe(this,"isValidSessionSettleRequest",r=>{if(!Xs(r)){const{message:u}=De("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:s,namespaces:i,expiry:o}=r;if(!kQ(n)){const{message:u}=De("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=n2e(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=f5(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ya(o)){const{message:u}=De("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),xe(this,"isValidUpdate",async r=>{if(!Xs(r)){const{message:c}=De("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const i=this.client.session.get(n),o=f5(s,"update()");if(o)throw new Error(o.message);const a=XD(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),xe(this,"isValidExtend",async r=>{if(!Xs(r)){const{message:s}=De("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),xe(this,"isValidRequest",async r=>{if(!Xs(r)){const{message:c}=De("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:s,chainId:i,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!QD(a,i)){const{message:c}=De("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!h2e(s)){const{message:c}=De("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!g2e(a,i,s.method)){const{message:c}=De("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}this.validateRequestExpiry(o)}),xe(this,"isValidRespond",async r=>{var n;if(!Xs(r)){const{message:a}=De("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!p2e(i)){const{message:a}=De("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}const o=this.client.pendingRequest.get(i.id);if(o.topic!==s){const{message:a}=De("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${o.topic}, received topic: ${s}`);throw new Error(a)}}),xe(this,"isValidPing",async r=>{if(!Xs(r)){const{message:s}=De("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),xe(this,"isValidEmit",async r=>{if(!Xs(r)){const{message:a}=De("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!QD(o,i)){const{message:a}=De("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!m2e(s)){const{message:a}=De("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!y2e(o,i,s.name)){const{message:a}=De("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),xe(this,"isValidDisconnect",async r=>{if(!Xs(r)){const{message:s}=De("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),xe(this,"isValidAuthenticate",r=>{const{chains:n,uri:s,domain:i,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!pn(s,!1))throw new Error("uri is required parameter");if(!pn(i,!1))throw new Error("domain is required parameter");if(!pn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Pu(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Pu(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),xe(this,"getVerifyContext",async r=>{const{attestationId:n,hash:s,encryptedId:i,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||r1,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Br.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),xe(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,i)=>{if(s==null){const{message:o}=De("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[i]}`);throw new Error(o)}})}),xe(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),xe(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),xe(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:s}=De("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),xe(this,"isLinkModeEnabled",(r,n)=>{var s,i,o,a,c,u,l,d,f;return!r||n!==Br.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((l=r==null?void 0:r.redirect)==null?void 0:l.universal)!==void 0&&((d=r==null?void 0:r.redirect)==null?void 0:d.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),xe(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0}),xe(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=lD(r,"topic")||"",s=decodeURIComponent(lD(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:Br.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})}),xe(this,"registerLinkModeListeners",async()=>{var r;if(Q8()||Bd()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),xe(this,"getTVFApproveParams",r=>{try{const n=NQ(r.namespaces),s=$Ae(r.namespaces),i=VAe(r.namespaces),o=r.sessionProperties,a=r.scopedProperties;return{approvedChains:n,approvedMethods:s,approvedEvents:i,sessionProperties:o,scopedProperties:a}}catch(n){return this.client.logger.warn(n,"Error getting TVF approve params"),{}}}),xe(this,"getTVFParams",(r,n,s)=>{var i,o,a;if(!((i=n.request)!=null&&i.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const u=this.extractTxHashesFromResult(n.request,s);c.txHashes=u,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(u){this.client.logger.warn(u,"Error getting TVF params")}return c}),xe(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const s=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),xe(this,"extractTxHashesFromResult",(r,n)=>{var s;try{if(!n)return[];const i=r.method,o=GTe[i];if(i==="sui_signTransaction")return[Bve(n.transactionBytes)];if(i==="near_signTransaction")return[bD(n)];if(i==="near_signTransactions")return n.map(c=>bD(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=n.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[j2e({transaction:r.params.transactionPayload,signature:n.signature})];if(i==="algo_signTxn")return Ou(n)?n.map(c=>wD(c)):[wD(n)];if(i==="cosmos_signDirect")return[jve(n)];if(i==="wallet_sendCalls")return Dve(n);if(typeof n=="string")return[n];const a=n[o.key];if(Ou(a))return i==="solana_signAllTransactions"?a.map(c=>Nve(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn(i,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,s]of Object.entries(r))for(const i of s)try{await this.onProviderMessageEvent({topic:n,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${i}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(hn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(NS)?this.client.auth.authKeys.get(NS):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:i===Br.link_mode?Ul:oi});d3(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:s,transportType:i,encryptedId:Eo(n)})):pP(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:i}),this.client.core.history.delete(r,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:i})),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(fo.expired,async e=>{const{topic:r,id:n}=BJ(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,De("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,De("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on($f.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on($f.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!pn(e,!1)){const{message:r}=De("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=De("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Ya(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=De("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!pn(e,!1)){const{message:r}=De("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=De("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Ya(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=De("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=De("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(pn(e,!1)){const{message:r}=De("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=De("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!d2e(e)){const{message:r}=De("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=De("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Ya(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=De("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}validateRequestExpiry(e){if(e&&!E2e(e,w5)){const{message:r}=De("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${w5.min} and ${w5.max}`);throw new Error(r)}}}class oPe extends wp{constructor(e,r){super(e,r,zTe,h3),this.core=e,this.logger=r}}let aPe=class extends wp{constructor(e,r){super(e,r,$Te,h3),this.core=e,this.logger=r}};class cPe extends wp{constructor(e,r){super(e,r,WTe,h3,n=>n.id),this.core=e,this.logger=r}}class uPe extends wp{constructor(e,r){super(e,r,JTe,gP,()=>NS),this.core=e,this.logger=r}}class lPe extends wp{constructor(e,r){super(e,r,QTe,gP),this.core=e,this.logger=r}}class dPe extends wp{constructor(e,r){super(e,r,XTe,gP,n=>n.id),this.core=e,this.logger=r}}var fPe=Object.defineProperty,hPe=(t,e,r)=>e in t?fPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,E5=(t,e,r)=>hPe(t,typeof e!="symbol"?e+"":e,r);class pPe{constructor(e,r){this.core=e,this.logger=r,E5(this,"authKeys"),E5(this,"pairingTopics"),E5(this,"requests"),this.authKeys=new uPe(this.core,this.logger),this.pairingTopics=new lPe(this.core,this.logger),this.requests=new dPe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var mPe=Object.defineProperty,gPe=(t,e,r)=>e in t?mPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jt=(t,e,r)=>gPe(t,typeof e!="symbol"?e+"":e,r);class p3 extends V0e{constructor(e){super(e),jt(this,"protocol",nX),jt(this,"version",sX),jt(this,"name",b5.name),jt(this,"metadata"),jt(this,"core"),jt(this,"logger"),jt(this,"events",new Po.EventEmitter),jt(this,"engine"),jt(this,"session"),jt(this,"proposal"),jt(this,"pendingRequest"),jt(this,"auth"),jt(this,"signConfig"),jt(this,"on",(n,s)=>this.events.on(n,s)),jt(this,"once",(n,s)=>this.events.once(n,s)),jt(this,"off",(n,s)=>this.events.off(n,s)),jt(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),jt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),jt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),jt(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}}),jt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),jt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||b5.name,this.metadata=SEe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=u3({logger:(e==null?void 0:e.logger)||b5.logger,name:this.name});this.logger=r,this.core=(e==null?void 0:e.core)||new qTe(e),this.session=new aPe(this.core,this.logger),this.proposal=new oPe(this.core,this.logger),this.pendingRequest=new cPe(this.core,this.logger),this.engine=new iPe(this),this.auth=new pPe(this.core,this.logger)}static async init(e){const r=new p3(e);return await r.initialize(),r}get context(){return bi(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const yPe=p3;var Rv={exports:{}},MM;function bPe(){return MM||(MM=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Za<"u"&&Za,n=(function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i})();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof Za<"u"&&Za||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&l.indexOf(Object.prototype.toString.call(I))>-1};function f(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function h(I){return typeof I!="string"&&(I=String(I)),I}function p(I){var S={next:function(){var _=I.shift();return{done:_===void 0,value:_}}};return c.iterable&&(S[Symbol.iterator]=function(){return S}),S}function m(I){this.map={},I instanceof m?I.forEach(function(S,_){this.append(_,S)},this):Array.isArray(I)?I.forEach(function(S){if(S.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+S.length);this.append(S[0],S[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(S){this.append(S,I[S])},this)}m.prototype.append=function(I,S){I=f(I),S=h(S);var _=this.map[I];this.map[I]=_?_+", "+S:S},m.prototype.delete=function(I){delete this.map[f(I)]},m.prototype.get=function(I){return I=f(I),this.has(I)?this.map[I]:null},m.prototype.has=function(I){return this.map.hasOwnProperty(f(I))},m.prototype.set=function(I,S){this.map[f(I)]=h(S)},m.prototype.forEach=function(I,S){for(var _ in this.map)this.map.hasOwnProperty(_)&&I.call(S,this.map[_],_,this)},m.prototype.keys=function(){var I=[];return this.forEach(function(S,_){I.push(_)}),p(I)},m.prototype.values=function(){var I=[];return this.forEach(function(S){I.push(S)}),p(I)},m.prototype.entries=function(){var I=[];return this.forEach(function(S,_){I.push([_,S])}),p(I)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function E(I){return new Promise(function(S,_){I.onload=function(){S(I.result)},I.onerror=function(){_(I.error)}})}function w(I){var S=new FileReader,_=E(S);return S.readAsArrayBuffer(I),_}function b(I){var S=new FileReader,_=E(S),R=/charset=([A-Za-z0-9_-]+)/.exec(I.type),O=R?R[1]:"utf-8";return S.readAsText(I,O),_}function g(I){for(var S=new Uint8Array(I),_=new Array(S.length),R=0;R<S.length;R++)_[R]=String.fromCharCode(S[R]);return _.join("")}function v(I){if(I.slice)return I.slice(0);var S=new Uint8Array(I.byteLength);return S.set(new Uint8Array(I)),S.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&u(I)?(this._bodyArrayBuffer=v(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=v(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=y(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(I){var S=I.toUpperCase();return C.indexOf(S)>-1?S:I}function T(I,S){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var _=S.body;if(I instanceof T){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,S.headers||(this.headers=new m(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!_&&I._bodyInit!=null&&(_=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new m(S.headers)),this.method=x(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal||(function(){if("AbortController"in a){var P=new AbortController;return P.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(_),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var O=/\?/;this.url+=(O.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function N(I){var S=new FormData;return I.trim().split("&").forEach(function(_){if(_){var R=_.split("="),O=R.shift().replace(/\+/g," "),P=R.join("=").replace(/\+/g," ");S.append(decodeURIComponent(O),decodeURIComponent(P))}}),S}function M(I){var S=new m,_=I.replace(/\r?\n[\t ]+/g," ");return _.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var O=R.split(":"),P=O.shift().trim();if(P){var D=O.join(":").trim();try{S.append(P,D)}catch(j){console.warn("Response "+j.message)}}}),S}A.call(T.prototype);function k(I,S){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new m(S.headers),this.url=S.url||"",this._initBody(I)}A.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var I=new k(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var B=[301,302,303,307,308];k.redirect=function(I,S){if(B.indexOf(S)===-1)throw new RangeError("Invalid status code");return new k(null,{status:S,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(S,_){this.message=S,this.name=_;var R=Error(S);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function U(I,S){return new Promise(function(_,R){var O=new T(I,S);if(O.signal&&O.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var P=new XMLHttpRequest;function D(){P.abort()}P.onload=function(){var q={statusText:P.statusText,headers:M(P.getAllResponseHeaders()||"")};O.url.indexOf("file://")===0&&(P.status<200||P.status>599)?q.status=200:q.status=P.status,q.url="responseURL"in P?P.responseURL:q.headers.get("X-Request-URL");var z="response"in P?P.response:P.responseText;setTimeout(function(){_(new k(z,q))},0)},P.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},P.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request timed out"))},0)},P.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function j(q){try{return q===""&&a.location.href?a.location.href:q}catch{return q}}if(P.open(O.method,j(O.url),!0),O.credentials==="include"?P.withCredentials=!0:O.credentials==="omit"&&(P.withCredentials=!1),"responseType"in P&&(c.blob?P.responseType="blob":c.arrayBuffer&&(P.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof m||a.Headers&&S.headers instanceof a.Headers)){var F=[];Object.getOwnPropertyNames(S.headers).forEach(function(q){F.push(f(q)),P.setRequestHeader(q,h(S.headers[q]))}),O.headers.forEach(function(q,z){F.indexOf(z)===-1&&P.setRequestHeader(z,q)})}else O.headers.forEach(function(q,z){P.setRequestHeader(z,q)});O.signal&&(O.signal.addEventListener("abort",D),P.onreadystatechange=function(){P.readyState===4&&O.signal.removeEventListener("abort",D)}),P.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}return U.polyfill=!0,a.fetch||(a.fetch=U,a.Headers=m,a.Request=T,a.Response=k),o.Headers=m,o.Request=T,o.Response=k,o.fetch=U,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=r.fetch?r:n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Rv,Rv.exports)),Rv.exports}var wPe=bPe();const UM=bg(wPe);var EPe=Object.defineProperty,vPe=Object.defineProperties,_Pe=Object.getOwnPropertyDescriptors,LM=Object.getOwnPropertySymbols,APe=Object.prototype.hasOwnProperty,CPe=Object.prototype.propertyIsEnumerable,FM=(t,e,r)=>e in t?EPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HM=(t,e)=>{for(var r in e||(e={}))APe.call(e,r)&&FM(t,r,e[r]);if(LM)for(var r of LM(e))CPe.call(e,r)&&FM(t,r,e[r]);return t},qM=(t,e)=>vPe(t,_Pe(e));const SPe={Accept:"application/json","Content-Type":"application/json"},IPe="POST",zM={headers:SPe,method:IPe},$M=10;let oX=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Po.EventEmitter,this.isAvailable=!1,this.registering=!1,!oM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Du(e),n=await(await UM(this.url,qM(HM({},zM),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!oM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Du({id:1,jsonrpc:"2.0",method:"test",params:[]});await UM(e,qM(HM({},zM),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Yh(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=hP(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return MQ(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>$M&&this.events.setMaxListeners($M)}};function m3(t){return t==null||typeof t!="object"&&typeof t!="function"}function aX(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function cX(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const TPe="[object RegExp]",uX="[object String]",lX="[object Number]",dX="[object Boolean]",fX="[object Arguments]",PPe="[object Symbol]",xPe="[object Date]",OPe="[object Map]",RPe="[object Set]",NPe="[object Array]",BPe="[object ArrayBuffer]",kPe="[object Object]",jPe="[object DataView]",DPe="[object Uint8Array]",MPe="[object Uint8ClampedArray]",UPe="[object Uint16Array]",LPe="[object Uint32Array]",FPe="[object Int8Array]",HPe="[object Int16Array]",qPe="[object Int32Array]",zPe="[object Float32Array]",$Pe="[object Float64Array]";function g3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function VPe(t,e){return N0(t,void 0,t,new Map,e)}function N0(t,e,r,n=new Map,s=void 0){const i=s==null?void 0:s(t,e,r,n);if(i!=null)return i;if(m3(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=N0(t[a],a,r,n,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,N0(c,a,r,n,s));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(N0(a,void 0,r,n,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(g3(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=N0(t[a],a,r,n,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Vf(o,t,r,n,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Vf(o,t,r,n,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Vf(o,t,r,n,s),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Vf(o,t,r,n,s),o}if(typeof t=="object"&&GPe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Vf(o,t,r,n,s),o}return t}function Vf(t,e,r=t,n,s){const i=[...Object.keys(e),...aX(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=N0(e[a],a,r,n,s))}}function GPe(t){switch(cX(t)){case fX:case NPe:case BPe:case jPe:case dX:case xPe:case zPe:case $Pe:case FPe:case HPe:case qPe:case OPe:case lX:case kPe:case TPe:case RPe:case uX:case PPe:case DPe:case MPe:case UPe:case LPe:return!0;default:return!1}}function WPe(t,e){return VPe(t,(r,n,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case lX:case uX:case dX:{const o=new t.constructor(t==null?void 0:t.valueOf());return Vf(o,t),o}case fX:{const o={};return Vf(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function VM(t){return WPe(t)}function GM(t){return t!==null&&typeof t=="object"&&cX(t)==="[object Arguments]"}function WM(t){return typeof t=="object"&&t!==null}function KPe(){}function ZPe(t){return g3(t)}function YPe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function JPe(t){if(m3(t))return t;if(Array.isArray(t)||g3(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function QPe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let s=t;for(let i=0;i<r.length;i++){const o=r[i];s=nN(s,o,n,new Map)}return s}function nN(t,e,r,n){if(m3(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return JPe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...aX(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(GM(a)&&(a={...a}),GM(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=VM(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];l[h]=c[h]}c=l}else c=[];const u=r(c,a,o,t,e,n);u!=null?t[o]=u:Array.isArray(a)||WM(c)&&WM(a)?t[o]=nN(c,a,r,n):c==null&&YPe(a)?t[o]=nN({},a,r,n):c==null&&ZPe(a)?t[o]=VM(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function XPe(t,...e){return QPe(t,...e,KPe)}const KM="error",e6e="wss://relay.walletconnect.org",t6e="wc",hX="universal_provider",Nv=`${t6e}@2:${hX}:`,pX="https://rpc.walletconnect.org/v1/",mX="generic",r6e=`${pX}bundler`,K0="call_status",n6e=86400,y3={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var s6e=Object.defineProperty,i6e=Object.defineProperties,o6e=Object.getOwnPropertyDescriptors,ZM=Object.getOwnPropertySymbols,a6e=Object.prototype.hasOwnProperty,c6e=Object.prototype.propertyIsEnumerable,YM=(t,e,r)=>e in t?s6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bv=(t,e)=>{for(var r in e||(e={}))a6e.call(e,r)&&YM(t,r,e[r]);if(ZM)for(var r of ZM(e))c6e.call(e,r)&&YM(t,r,e[r]);return t},u6e=(t,e)=>i6e(t,o6e(e));function gX(t,e,r){var n;const s=Pu(t);return((n=e.rpcMap)==null?void 0:n[s.reference])||`${pX}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function l6e(t){return t.includes(":")?t.split(":")[1]:t}function yX(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function d6e(t,e){const r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];const n=[];return r.forEach(s=>{const i=e.namespaces[s].accounts;n.push(...i)}),n}function JM(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,s;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((s=r==null?void 0:r.chains)==null?void 0:s.length)>0}))}function kv(t={},e={}){const r=JM(QM(t)),n=JM(QM(e));return XPe(r,n)}function QM(t){var e,r,n,s,i;const o={};if(!cc(t))return o;for(const[a,c]of Object.entries(t)){const u=fP(a)?[a]:c.chains,l=c.methods||[],d=c.events||[],f=c.rpcMap||{},h=R0(a);o[h]=u6e(Bv(Bv({},o[h]),c),{chains:ac(u,(e=o[h])==null?void 0:e.chains),methods:ac(l,(r=o[h])==null?void 0:r.methods),events:ac(d,(n=o[h])==null?void 0:n.events)}),(cc(f)||cc(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=Bv(Bv({},f),(i=o[h])==null?void 0:i.rpcMap))}return o}function XM(t){return t.includes(":")?t.split(":")[2]:t}function eU(t){const e={};for(const[r,n]of Object.entries(t)){const s=n.methods||[],i=n.events||[],o=n.accounts||[],a=fP(r)?[r]:n.chains?n.chains:yX(n.accounts);e[r]={chains:a,methods:s,events:i,accounts:o}}return e}function v5(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function f6e(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const bX={},Z0=t=>bX[t],_5=(t,e)=>{bX[t]=e};var h6e=Object.defineProperty,tU=Object.getOwnPropertySymbols,p6e=Object.prototype.hasOwnProperty,m6e=Object.prototype.propertyIsEnumerable,rU=(t,e,r)=>e in t?h6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nU=(t,e)=>{for(var r in e||(e={}))p6e.call(e,r)&&rU(t,r,e[r]);if(tU)for(var r of tU(e))m6e.call(e,r)&&rU(t,r,e[r]);return t};const sU="eip155",g6e=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],y6e=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,A5=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,iU=t=>Object.keys(t).filter(e=>g6e.includes(e)).reduce((e,r)=>(e[r]=b6e(t[r]),e),{}),b6e=t=>typeof t=="string"&&f6e(t)?JSON.parse(t):t,w6e=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:s={}}=t,i={};if(!cc(s)&&!cc(n))return;const o=iU(n);for(const a of r){const c=y6e(a);if(!c)continue;i[A5(c)]=o;const u=s==null?void 0:s[`${sU}:${c}`];if(u){const l=u==null?void 0:u[`${sU}:${c}:${e}`];i[A5(c)]=nU(nU({},i[A5(c)]),iU(l||u))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var E6e=Object.defineProperty,v6e=(t,e,r)=>e in t?E6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_6e=(t,e,r)=>v6e(t,e+"",r);let C5;class b3{constructor(e){_6e(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,r){return await this.storage.setItem(e,r)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return C5||(C5=new b3(e)),C5}}var A6e=Object.defineProperty,C6e=Object.defineProperties,S6e=Object.getOwnPropertyDescriptors,oU=Object.getOwnPropertySymbols,I6e=Object.prototype.hasOwnProperty,T6e=Object.prototype.propertyIsEnumerable,aU=(t,e,r)=>e in t?A6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P6e=(t,e)=>{for(var r in e||(e={}))I6e.call(e,r)&&aU(t,r,e[r]);if(oU)for(var r of oU(e))T6e.call(e,r)&&aU(t,r,e[r]);return t},x6e=(t,e)=>C6e(t,S6e(e));async function O6e(t,e){const r=Pu(t.result.capabilities.caip345.caip2),n=t.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(n.map(d=>R6e(r.reference,d,e))),i=s.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);s.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));const o=!i.length||i.some(d=>!d),a=i.every(d=>(d==null?void 0:d.status)==="0x1"),c=i.every(d=>(d==null?void 0:d.status)==="0x0"),u=i.some(d=>(d==null?void 0:d.status)==="0x0");let l;return o?l=100:a?l=200:c?l=500:u&&(l=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:i,status:l}}async function R6e(t,e,r){return await r(parseInt(t)).request(Jo("eth_getTransactionReceipt",[e]))}async function N6e({sendCalls:t,storage:e}){const r=await e.getItem(K0);await e.setItem(K0,x6e(P6e({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:dn(n6e)}}))}async function B6e({resultId:t,storage:e}){const r=await e.getItem(K0);if(r){delete r[t],await e.setItem(K0,r);for(const n in r)Ya(r[n].expiry)&&delete r[n];await e.setItem(K0,r)}}async function k6e({resultId:t,storage:e}){const r=await e.getItem(K0),n=r==null?void 0:r[t];if(n&&!Ya(n.expiry))return n;await B6e({resultId:t,storage:e})}var j6e=Object.defineProperty,D6e=Object.defineProperties,M6e=Object.getOwnPropertyDescriptors,cU=Object.getOwnPropertySymbols,U6e=Object.prototype.hasOwnProperty,L6e=Object.prototype.propertyIsEnumerable,sN=(t,e,r)=>e in t?j6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S5=(t,e)=>{for(var r in e||(e={}))U6e.call(e,r)&&sN(t,r,e[r]);if(cU)for(var r of cU(e))L6e.call(e,r)&&sN(t,r,e[r]);return t},I5=(t,e)=>D6e(t,M6e(e)),uf=(t,e,r)=>sN(t,typeof e!="symbol"?e+"":e,r);class F6e{constructor(e){uf(this,"name","eip155"),uf(this,"client"),uf(this,"chainId"),uf(this,"namespace"),uf(this,"httpProviders"),uf(this,"events"),uf(this,"storage"),this.namespace=e.namespace,this.events=Z0("events"),this.client=Z0("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=b3.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(y3.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||gX(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new f3(new oX(n,Z0("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=parseInt(l6e(r));e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(e){const r=e||this.chainId;return this.httpProviders[r]||(this.httpProviders=I5(S5({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(e){var r,n;let s=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,s,i,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),l=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,f=l==null?void 0:l[d];if(f)return f;let h;try{h=w6e(u,a,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(h)return h;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:I5(S5({},u.sessionProperties||{}),{capabilities:I5(S5({},l||{}),{[d]:p})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return p}async getCallStatus(e){var r,n,s;const i=this.client.session.get(e.topic),o=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(o){const u=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(u,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,u)}}const a=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,a)}const c=await k6e({resultId:(s=e.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await O6e(c,this.getHttpProvider.bind(this))}catch(u){console.warn("Failed to fetch call status from stored send calls",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Jo("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,r){return`${r6e}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}async sendCalls(e){var r,n,s;const i=await this.client.request(e),o=(r=e.request.params)==null?void 0:r[0],a=i==null?void 0:i.id,c=(i==null?void 0:i.capabilities)||{},u=(n=c==null?void 0:c.caip345)==null?void 0:n.caip2,l=(s=c==null?void 0:c.caip345)==null?void 0:s.transactionHashes;return!a||!u||!(l!=null&&l.length)||await N6e({sendCalls:{request:o,result:i},storage:this.storage}),i}}var H6e=Object.defineProperty,q6e=(t,e,r)=>e in t?H6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vp=(t,e,r)=>q6e(t,typeof e!="symbol"?e+"":e,r);class z6e{constructor(e){Vp(this,"name",mX),Vp(this,"client"),Vp(this,"httpProviders"),Vp(this,"events"),Vp(this,"namespace"),Vp(this,"chainId"),this.namespace=e.namespace,this.events=Z0("events"),this.client=Z0("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r);const n=this.chainId;this.chainId=e,this.events.emit(y3.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Pu(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(s=>{var i,o;const a=Pu(s),c=(o=(i=this.namespace)==null?void 0:i.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(s,c)}),n}getHttpProvider(e){const r=Pu(e).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||gX(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new f3(new oX(n,Z0("disableProviderPing")))}}var $6e=Object.defineProperty,V6e=Object.defineProperties,G6e=Object.getOwnPropertyDescriptors,uU=Object.getOwnPropertySymbols,W6e=Object.prototype.hasOwnProperty,K6e=Object.prototype.propertyIsEnumerable,iN=(t,e,r)=>e in t?$6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hy=(t,e)=>{for(var r in e||(e={}))W6e.call(e,r)&&iN(t,r,e[r]);if(uU)for(var r of uU(e))K6e.call(e,r)&&iN(t,r,e[r]);return t},jv=(t,e)=>V6e(t,G6e(e)),Pi=(t,e,r)=>iN(t,typeof e!="symbol"?e+"":e,r);let Z6e=class wX{constructor(e){Pi(this,"client"),Pi(this,"namespaces"),Pi(this,"optionalNamespaces"),Pi(this,"sessionProperties"),Pi(this,"scopedProperties"),Pi(this,"events",new j8),Pi(this,"rpcProviders",{}),Pi(this,"session"),Pi(this,"providerOpts"),Pi(this,"logger"),Pi(this,"uri"),Pi(this,"disableProviderPing",!1),Pi(this,"connectParams");var r,n;this.providerOpts=e,this.logger=u3({logger:(r=e.logger)!=null?r:KM,name:(n=this.providerOpts.name)!=null?n:hX}),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new wX(e);return await r.initialize(),r}async request(e,r,n){const[s,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:hy({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,s){const i=new Date().getTime();this.request(e,n,s).then(o=>r(null,fw(i,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Lr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:s}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await s();if(this.session=i.session,this.session){const o=eU(this.session.namespaces);this.namespaces=kv(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){var r,n;const{uri:s,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(r=this.connectParams)==null?void 0:r.authentication,walletPay:(n=this.connectParams)==null?void 0:n.walletPay});s&&(this.uri=s,this.events.emit("display_uri",s));const o=await i();this.session=o;const a=eU(o.namespaces);return this.namespaces=kv(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,s]=this.validateChain(e);this.getProvider(n).setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Ou(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn(r,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await yPe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||KM,relayUrl:this.providerOpts.relayUrl||e6e,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>R0(r)))];_5("client",this.client),_5("events",this.events),_5("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=d6e(r,this.session);if((n==null?void 0:n.length)===0)return;const s=yX(n),i=kv(this.namespaces,this.optionalNamespaces),o=jv(hy({},i[r]),{accounts:n,chains:s});switch(r){case"eip155":this.rpcProviders[r]=new F6e({namespace:o});break;default:this.rpcProviders[r]=new z6e({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:s}=e;if(s!==((r=this.session)==null?void 0:r.topic))return;const{event:i}=n;if(i.name==="accountsChanged"){const o=i.data;o&&Ou(o)&&this.events.emit("accountsChanged",o.map(XM))}else if(i.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=R0(o),u=v5(o)!==v5(a)?`${c}:${v5(a)}`:o;this.onChainChanged({currentCaipChainId:u})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,s;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:i}=r,o=(s=this.client)==null?void 0:s.session.get(e);this.session=jv(hy({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",jv(hy({},Lr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(y3.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(jv(hy({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[mX]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=kv(r,n),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>R0(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const s=R0(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;const[s,i]=this.validateChain(e);i&&(this.updateNamespaceChain(s,i),n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:e,previousCaipChainId:r})):this.getProvider(s).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:r,previousCaipChainId:n}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(XM);if(!Ou(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,s={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Nv}/${e}${s}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Nv}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Nv}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Nv)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn(r,"Failed to cleanup storage")}}};const lU=2147483648,Y6e={convertEVMChainIdToCoinType(t){if(t>=lU)throw new Error("Invalid chainId");return(lU|t)>>>0}},ao=jr({suggestions:[],loading:!1}),J6e={state:ao,subscribe(t){return Kn(ao,()=>t(ao))},subscribeKey(t,e){return Zn(ao,t,e)},async resolveName(t){var e,r;try{return await at.lookupEnsName(t)}catch(n){const s=n;throw new Error(((r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await at.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ao.loading=!0,ao.suggestions=[];const e=await at.getEnsNameSuggestions(t);return ao.suggestions=e.suggestions||[],ao.suggestions}catch(e){const r=s1.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{ao.loading=!1}},async getNamesForAddress(t){try{if(!te.state.activeCaipNetwork)return[];const r=Te.getEnsFromCacheForAddress(t);if(r)return r;const n=await at.reverseLookupEnsName({address:t});return Te.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=s1.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){var s;const e=te.state.activeCaipNetwork,r=(s=te.getAccountData(e==null?void 0:e.chainNamespace))==null?void 0:s.address,n=Ne.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");ao.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});st.pushTransactionStack({onCancel(){st.replace("RegisterAccountName")}});const o=await Me.signMessage(i);ao.loading=!1;const a=e.id;if(!a)throw new Error("Network not found");const c=Y6e.convertEVMChainIdToCoinType(Number(a));await at.registerEnsName({coinType:c,address:r,signature:o,message:i}),te.setAccountProp("profileName",t,e.chainNamespace),Te.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),st.replace("RegisterAccountNameSuccess")}catch(i){const o=s1.parseEnsApiError(i,`Error registering name ${t}`);throw st.replace("RegisterAccountName"),new Error(o)}finally{ao.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,s;const r=t;return((s=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:s.description)||e}},s1=To(J6e);function oN(t){try{return new URL(t)}catch{return null}}function Q6e(t){const e=t.split("/"),r=e.length>0&&e[0]!==void 0?e[0]:"",n=r.lastIndexOf(":");return n===-1?{host:r}:{host:r.slice(0,n),port:r.slice(n+1)}}function X6e(t){const e=t.indexOf("://");if(e===-1)return null;const r=t.slice(0,e),n=e+3;let s=t.indexOf("/",n);s===-1&&(s=t.length);const i=t.slice(n,s),o=i.lastIndexOf(":");return o===-1?{scheme:r,host:i}:{scheme:r,host:i.slice(0,o),port:i.slice(o+1)}}function exe(t,e){if(e.includes("://")){const o=oN(e);return o?o.origin===t:!1}const{host:r,port:n}=Q6e(e),s=t.indexOf("://");if(s!==-1){const o=s+3;let a=t.indexOf("/",o);a===-1&&(a=t.length);const c=t.slice(o,a);if(n!==void 0)return`${r}:${n}`===c;const u=c.split(":")[0];return r===u}const i=oN(t);return i?n!==void 0?r===i.hostname&&n===(i.port||void 0):r===i.hostname:!1}function txe(t,e,r){let n=r,s;const i=n.indexOf("://");i!==-1&&(s=n.slice(0,i),n=n.slice(i+3));const o=n.indexOf("/");o!==-1&&(n=n.slice(0,o));let a=n,c;const u=a.lastIndexOf(":");u!==-1&&(c=a.slice(u+1),a=a.slice(0,u));const l=a.split(".");for(const m of l)if(m.includes("*")&&m!=="*")return!1;const d=t.protocol.replace(/:$/u,"");if(s&&s!==d||c!==void 0&&c!=="*"&&c!==t.port)return!1;const f=X6e(e),p=(f?f.host:t.hostname).split(".");if(l.length!==p.length)return!1;for(let m=l.length-1;m>=0;m-=1){const y=l[m],E=p[m];if(y!=="*"&&y!==E)return!1}return!0}const rxe={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},uc={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(t){return rxe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>n.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>n.add(s)),e.events&&Object.keys(e.events).forEach(s=>n.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&n.add(i)}),n.forEach(s=>{r[s]||(r[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{r[s]&&(r[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{r[s]&&(r[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{r[s]&&(r[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),s.has(a)||(r[a].rpcMap={},s.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const u=`${o}:${i}`,l=n[o];switch(l.chains.push(u),u){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":l.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":l.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break}return l!=null&&l.rpcMap&&c&&(l.rpcMap[i]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var n;const e=await s1.resolveName(t);return((n=(e!=null&&e.addresses?Object.values(e.addresses):[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isUserRejectedRequestError(t){try{if(typeof t=="object"&&t!==null){const e=t,r=typeof e.code=="number",n=r&&e.code===uc.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=r&&e.code===uc.RPC_ERROR_CODE.USER_REJECTED;return n||s}return!1}catch{return!1}},isOriginAllowed(t,e,r){const n=[...e,...r];if(e.length===0)return!0;const s=oN(t);if(!s)return n.some(i=>!i.includes("*")&&i===t);if(s.hostname==="localhost"||s.hostname==="127.0.0.1")return!0;for(const i of n)if(i.includes("*")){if(txe(s,t,i))return!0}else if(exe(t,i))return!0;return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){r&&t.on("connect",()=>{const a=uc.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),s&&t.on("accountsChanged",a=>{var c,u,l,d,f;try{const h=((l=(u=(c=t.session)==null?void 0:c.namespaces)==null?void 0:u[e])==null?void 0:l.accounts)||[],p=(f=(d=t.rpcProviders)==null?void 0:d[e])==null?void 0:f.getDefaultChain(),m=a.map(y=>{const E=h.find(g=>g.includes(`${e}:${p}:${y}`));if(!E)return;const{chainId:w,chainNamespace:b}=mn.parseCaipAddress(E);return{address:y,chainId:w,chainNamespace:b}}).filter(y=>y!==void 0);m.length>0&&s(m)}catch(h){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,h)}}),i&&t.on("chainChanged",a=>{i(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){var s,i,o,a;const r=new Set,n=(a=(o=(i=(s=t==null?void 0:t.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>mn.parseCaipAddress(c)).filter(({address:c})=>r.has(c.toLowerCase())?!1:(r.add(c.toLowerCase()),!0));return n&&n.length>0?n:[]}},nxe=[Ee.CONNECTOR_ID.AUTH,Ee.CONNECTOR_ID.WALLET_CONNECT];class EX{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>te.getCaipNetworks(r),this.getConnectorId=r=>Ne.getConnectorId(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===(r==null?void 0:r.toString()));e&&n&&this.addConnection({connectorId:Ee.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:Ee.CONNECTOR_ID.AUTH,type:"AUTH",name:Ee.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>r.connectorId.toLowerCase()!==e.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){te.setAccountProp("status",e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(s=>s(r))}async connectWalletConnect(e){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(r){throw uc.isUserRejectedRequestError(r)?new _8(r):r}}async switchNetwork(e){var i;const{caipNetwork:r}=e,n=Zt.getProviderId(r.chainNamespace),s=Zt.getProvider(r.chainNamespace);if(!s)throw new Error("Provider not found");if(n==="WALLET_CONNECT"){s.setDefaultChain(r.caipNetworkId);return}if(n==="AUTH"){const o=(i=Ne.getAuthConnector())==null?void 0:i.provider;if(!o)throw new Error("Auth provider not found");const a=ks(r.chainNamespace);await o.switchNetwork({chainId:r.caipNetworkId});const c=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r.id==="walletConnect");if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:s}=Ue.getAccount(e[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===(s==null?void 0:s.toString())),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:s,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=Ue.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(e,r,n=!0){var s,i;if(e.length>0){const{address:o}=Ue.getAccount(e[0]),a=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});o&&((s=this.getConnectorId(Ee.CHAIN.EVM))==null?void 0:s.toLowerCase())===r.toLowerCase()&&this.emit("accountChanged",{address:o,chainId:(i=a==null?void 0:a.caipNetwork)==null?void 0:i.id,connector:a==null?void 0:a.connector}),this.addConnection({connectorId:r,accounts:e.map(c=>{const{address:u}=Ue.getAccount(c);return{address:u}}),caipNetwork:a==null?void 0:a.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){var r;this.removeProviderListeners(e),this.deleteConnection(e),((r=this.getConnectorId(Ee.CHAIN.EVM))==null?void 0:r.toLowerCase())===e.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){var o;const n=typeof e=="string"&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),s=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===n);s&&this.addConnection({connectorId:r,accounts:s.accounts,caipNetwork:i}),((o=this.getConnectorId(Ee.CHAIN.EVM))==null?void 0:o.toLowerCase())===r.toLowerCase()&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(nxe.includes(e))return;const n=o=>this.onAccountsChanged(o,e),s=o=>this.onChainChanged(o,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",i),r.on("accountsChanged",n),r.on("chainChanged",s),this.providerHandlers[e]={provider:r,disconnect:i,accountsChanged:n,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:s,chainChanged:i}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",s),r.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var r;const e=this.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n==null?void 0:n.address,chainId:(r=e.caipNetwork)==null?void 0:r.id,connector:e.connector})}}getConnection({address:e,connectorId:r,connections:n,connectors:s}){if(r){const o=n.find(u=>u.connectorId.toLowerCase()===r.toLowerCase());if(!o)return null;const a=s.find(u=>u.id.toLowerCase()===o.connectorId.toLowerCase()),c=e?o.accounts.find(u=>u.address.toLowerCase()===e.toLowerCase()):o.accounts[0];return{...o,account:c,connector:a}}const i=n.find(o=>o.accounts.length>0&&s.some(a=>a.id.toLowerCase()===o.connectorId.toLowerCase()));if(i){const[o]=i.accounts,a=s.find(c=>c.id.toLowerCase()===i.connectorId.toLowerCase());return{...i,account:o,connector:a}}return null}}let lf=null;const ai={getSIWX(){return Ce.state.siwx},async initializeIfEnabled(t=te.getActiveCaipAddress()){var i,o,a;const e=Ce.state.siwx;if(!(e&&t))return;const[r,n,s]=t.split(":");if(te.checkIfSupportedNetwork(r,`${r}:${n}`))try{if((i=Ce.state.remoteFeatures)!=null&&i.emailCapture){const u=(o=te.getAccountData(r))==null?void 0:o.user;await Nt.open({view:"DataCapture",data:{email:(u==null?void 0:u.email)??void 0}});return}if(lf&&await lf,(await e.getSessions(`${r}:${n}`,s)).length)return;await Nt.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),bt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(c)}),await((a=Me._getClient())==null?void 0:a.disconnect().catch(console.error)),st.reset("Connect"),tc.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(t=te.getActiveCaipAddress()){if(!Ce.state.siwx||!t)return!0;const{chainNamespace:r,chainId:n,address:s}=mn.parseCaipAddress(t),i=`${r}:${n}`;return(await ai.getSessions({address:s,caipNetworkId:i})).length>0},async requestSignMessage(){const t=Ce.state.siwx,e=Ue.getPlainAddress(te.getActiveCaipAddress()),r=Bb();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");try{const n=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=n.toString();let i="";t.signMessage?i=await t.signMessage({message:s,chainId:r.caipNetworkId,accountAddress:e}):(Ne.getConnectorId(r.chainNamespace)===Ee.CONNECTOR_ID.AUTH&&st.pushTransactionStack({}),i=await Me.signMessage(s)||""),await t.addSession({data:n,message:s,signature:i}),te.setLastConnectedSIWECaipNetwork(r),Nt.close(),bt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){(!Nt.state.open||st.state.view==="ApproveTransaction")&&await Nt.open({view:"SIWXSignMessage"}),tc.showError("Error signing message"),bt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(n)}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const n=te.getLastConnectedSIWECaipNetwork();if(n){const s=await(e==null?void 0:e.getSessions(n==null?void 0:n.caipNetworkId,Ue.getPlainAddress(te.getActiveCaipAddress())||""));s&&s.length>0?await te.switchActiveNetwork(n):await Me.disconnect()}else await Me.disconnect()}else Nt.close();Nt.close(),bt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=te.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const s=await(t==null?void 0:t.getSessions(n.caipNetworkId,Ue.getPlainAddress(te.getActiveCaipAddress())||""));s&&r.push(...s)})),r},async getSessions(t){const e=Ce.state.siwx;let r=t==null?void 0:t.address;if(!r){const s=te.getActiveCaipAddress();r=Ue.getPlainAddress(s)}let n=t==null?void 0:t.caipNetworkId;if(!n){const s=te.getActiveCaipNetwork();n=s==null?void 0:s.caipNetworkId}return e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=st.state.view==="ApproveTransaction",n=st.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:s}){var d;const i=ai.getSIWX(),o=Bb();if(!i||!s.includes(Ee.CHAIN.EVM)||(d=Ce.state.remoteFeatures)!=null&&d.emailCapture){const f=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${s}:${e}`,c=await i.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),u={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},l=await t.connect({chainId:e,socialUri:r,siwxMessage:u,preferredAccountType:n});return u.accountAddress=l.address,u.serializedMessage=l.message||"",l.signature&&l.message&&await ai.addEmbeddedWalletSession(u,l.message,l.signature),te.setLastConnectedSIWECaipNetwork(o),{address:l.address,chainId:l.chainId,accounts:l.accounts}},async addEmbeddedWalletSession(t,e,r){if(lf)return lf;const n=ai.getSIWX();return n?(lf=n.addSession({data:t,message:e,signature:r}).finally(()=>{lf=null}),lf):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var u,l,d;const n=ai.getSIWX(),s=Bb(),i=new Set(e.map(f=>f.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const o=await n.createMessage({chainId:((u=Bb())==null?void 0:u.caipNetworkId)||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(f=>f!==o.chainId)]});tc.showLoading("Authenticating...",{autoClose:!1});const c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(l=a.session.peer.metadata.icons)==null?void 0:l[0],type:"WALLET_CONNECT"};if(te.setAccountProp("connectedWalletInfo",c,Array.from(i)[0]),(d=a==null?void 0:a.auths)!=null&&d.length){const f=a.auths.map(h=>{const p=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud??"",version:h.p.version||o.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:p,signature:h.s.s,cacao:h}});try{await n.setSessions(f),s&&te.setLastConnectedSIWECaipNetwork(s),bt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ai.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),bt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ai.getSIWXEventProperties(h)}),await t.disconnect().catch(console.error),h}finally{tc.hide()}}return!0},getSIWXEventProperties(t){var r;const e=te.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||"",isSmartAccount:ks(e)===cn.ACCOUNT_TYPES.SMART_ACCOUNT,message:t?Ue.parseError(t):void 0}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}};class vX{constructor({provider:e,namespace:r}){this.id=Ee.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=te.getCaipNetworks.bind(te),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=Ce.state.universalProviderConfigOverride,s=uc.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return ai.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:sxe})}}const sxe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Bo=jr({message:"",variant:"info",open:!1}),ixe={state:Bo,subscribeKey(t,e){return Zn(Bo,t,e)},open(t,e){const{debug:r}=Ce.state,{code:n,displayMessage:s,debugMessage:i}=t;s&&r&&(Bo.message=s,Bo.variant=e,Bo.open=!0),i&&console.error(typeof i=="function"?i():i,n?{code:n}:void 0)},warn(t,e,r){Bo.open=!0,Bo.message=t,Bo.variant="warning",e&&console.warn(e,r)},close(){Bo.open=!1,Bo.message="",Bo.variant="info"}},ds=To(ixe),oxe={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};class axe extends Error{}function cxe(){const{sdkType:t,sdkVersion:e,projectId:r}=Ce.getSnapshot(),n=new URL("https://rpc.walletconnect.org/v1/json-rpc");return n.searchParams.set("projectId",r),n.searchParams.set("st",t),n.searchParams.set("sv",e),n.searchParams.set("source","fund-wallet"),n.toString()}async function w3(t,e){const r=cxe(),{projectId:n}=Ce.getSnapshot(),s={jsonrpc:"2.0",id:1,method:t,params:{...e||{},projectId:n}},o=await(await fetch(r,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).json();if(o.error)throw new axe(o.error.message);return o}async function iqe(t){return(await w3("reown_getExchanges",t)).result}async function oqe(t){return(await w3("reown_getExchangePayUrl",t)).result}async function aqe(t){return(await w3("reown_getExchangeBuyStatus",t)).result}function cqe(t,e){const{chainNamespace:r,chainId:n}=mn.parseCaipNetworkId(t),s=oxe[r];if(!s)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${r}`);let i=s.native.assetNamespace,o=s.native.assetReference;return e!=="native"&&(i=s.defaultTokenNamespace,o=e),`${`${r}:${n}`}/${i}:${o}`}const uxe={network:"eip155:1",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},lxe={network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},_X={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},dxe={asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"},fxe={network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},hxe={network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},pxe={network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},mxe={network:"eip155:137",asset:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},gxe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},yxe={network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},bxe={network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},wxe={network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},Exe={network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},vxe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},_xe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}},Axe={ethereumETH:uxe,baseETH:lxe,baseUSDC:_X,baseSepoliaETH:fxe,ethereumUSDC:hxe,arbitrumUSDC:pxe,polygonUSDC:mxe,solanaUSDC:gxe,ethereumUSDT:yxe,optimismUSDT:bxe,arbitrumUSDT:wxe,polygonUSDT:Exe,solanaUSDT:vxe,solanaSOL:_xe};function uqe(t){return Object.values(Axe).filter(e=>e.network===t)}const xt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:Ee.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(t,e){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${t} is outdated. Latest version is ${e}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},Zi={ConnectorExplorerIds:{[Ee.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ee.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ee.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[xt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[xt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[xt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[xt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[xt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[xt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[xt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[xt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[xt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[xt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[xt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[xt.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[xt.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[Ee.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ee.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ee.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[Ee.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ee.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ee.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ee.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ee.CONNECTOR_ID.COINBASE]:"Coinbase",[Ee.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ee.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[Ee.CONNECTOR_ID.LEDGER]:"Ledger",[Ee.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ee.CONNECTOR_ID.INJECTED]:"INJECTED",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ee.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ee.CONNECTOR_ID.AUTH]:"AUTH",[xt.CONNECTOR_TYPE_AUTH]:"AUTH"}},na={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${xt.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=te.state.activeChain;return Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Ne.getConnectorId(e)===Ee.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(s=>{async function i(){return n+=1,await t()?s(!0):n>=r?s(!1):(setTimeout(i,e),null)}i()})},userChainIdToChainNamespace(t){if(typeof t=="number")return Ee.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]},getConnectorStorageInfo(t,e){const n=Te.getConnections()[e]??[];return{hasDisconnected:Te.isConnectorDisconnected(t,e),hasConnected:n.some(s=>na.isLowerCaseMatch(s.connectorId,t))}}},Cxe=new AbortController,fs={EmbeddedWalletAbortController:Cxe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Nb()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${Ce.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},AX={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:_X.asset,84532:dxe.asset}},getTokenSymbolByAddress(t){if(!t)return;const[e]=Object.entries(AX.TOKEN_ADDRESSES_BY_SYMBOL).find(([r,n])=>Object.values(n).includes(t))??[];return e}},Sxe={createLogger(t,e="error"){const r=C8({level:e}),{logger:n}=zT({opts:r});return n.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},n}},Ixe="rpc.walletconnect.org";function dU(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const T5=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],_0={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===Ixe}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ee.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ee.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var s,i,o;const n=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return T5.includes(e)?dU(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var f,h,p,m,y,E,w;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(p=(h=(f=t.rpcUrls)==null?void 0:f.default)==null?void 0:h.http)==null?void 0:p[0],a=this.getDefaultRpcUrl(t,i,r),c=((E=(y=(m=t==null?void 0:t.rpcUrls)==null?void 0:m.chainDefault)==null?void 0:y.http)==null?void 0:E[0])||o,u=((w=n==null?void 0:n[i])==null?void 0:w.map(b=>b.url))||[],l=[...u,...a?[a]:[]],d=[...u];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Zi.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:l},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(s=>_0.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){var s,i,o;const n=[];return r==null||r.forEach(a=>{n.push(pv(a.url,a.config))}),T5.includes(t.caipNetworkId)&&n.push(pv(dU(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{n.push(pv(a))}),$k(n)},extendWagmiTransports(t,e,r){if(T5.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return $k([r,pv(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Ee.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=Te.getActiveCaipNetworkId(),r=te.getAllRequestedCaipNetworks(),n=Array.from(((c=te.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?n.includes(s):!1,o=r==null?void 0:r.find(u=>u.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}};class i1{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a}){var d;const{metadata:c,sdkVersion:u,sdkType:l}=Ce.getSnapshot();return i1.instance||(i1.instance=new Ide({projectId:e,chainId:r,enableLogger:n,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!((d=Ce.state.remoteFeatures)!=null&&d.emailCapture),metadata:c,sdkVersion:u,sdkType:l})),i1.instance}}var fU={};const Txe={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof fU<"u"?fU.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},Pxe=[Zi.ConnectorExplorerIds[Ee.CONNECTOR_ID.COINBASE],Zi.ConnectorExplorerIds[Ee.CONNECTOR_ID.COINBASE_SDK],Zi.ConnectorExplorerIds[Ee.CONNECTOR_ID.BASE_ACCOUNT],Zi.ConnectorExplorerIds[xt.SOLFLARE_CONNECTOR_NAME],Zi.ConnectorExplorerIds[xt.PHANTOM_CONNECTOR_NAME],Zi.ConnectorExplorerIds[xt.BINANCE_CONNECTOR_NAME]],Mb={filterOutDuplicatesByRDNS(t){const e=Ce.state.enableEIP6963?Ne.state.connectors:[],r=Te.getRecentWallets(),n=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=r.map(a=>a.rdns).filter(Boolean),i=n.concat(s);if(i.includes("io.metamask.mobile")&&Ue.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!(a!=null&&a.rdns&&i.includes(String(a.rdns))||!(a!=null&&a.rdns)&&e.some(u=>u.name===a.name)))},filterOutDuplicatesByIds(t){const e=Ne.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"||a.type==="MULTI_CHAIN"),r=Te.getRecentWallets(),n=e.map(a=>{var c;return a.explorerId||((c=a.explorerWallet)==null?void 0:c.id)||a.id}),s=r.map(a=>a.id),i=n.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ne.state,{featuredWalletIds:r}=Ce.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r!=null&&r.length){const u=r.indexOf(o.id),l=r.indexOf(a.id);if(u!==-1&&l!==-1)return u-l;if(u!==-1)return-1;if(l!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const r=(t==null?void 0:t.connectMethodsOrder)||((c=Ce.state.features)==null?void 0:c.connectMethodsOrder),n=e||Ne.state.connectors;if(r)return r;const{injected:s,announced:i}=BS.getConnectorsByType(n,Qe.state.recommended,Qe.state.featured),o=s.filter(BS.showConnector),a=i.filter(BS.showConnector);return o.length||a.length?["wallet","email","social"]:Txe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Qe.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&Qe.state.excludedWallets.some(n=>na.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))},filterWalletsByWcSupport(t){return Me.state.wcBasic?t.filter(e=>e.supports_wc):Ue.isMobile()?t.filter(e=>e.supports_wc||Pxe.includes(e.id)):t}},BS={getConnectorsByType(t,e,r){const{customWallets:n}=Ce.state,s=Te.getRecentWallets(),i=Mb.filterOutDuplicateWallets(e),o=Mb.filterOutDuplicateWallets(r),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),u=t.filter(d=>d.type==="INJECTED"),l=t.filter(d=>d.type==="EXTERNAL");return{custom:n,recent:s,external:l,multiChain:a,announced:c,injected:u,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,r=!!e&&Qe.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&Qe.state.excludedWallets.some(i=>na.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Ue.isMobile()||Ue.isMobile()&&!e&&!Me.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(te.state.chains.values()).some(r=>Ne.getConnectorId(r.namespace)===Ee.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(u=>(u=Ce.state.features)==null?void 0:u.connectorTypeOrder)()??[]}){const d=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),f=new Set(d.map(m=>m.type)),h=c.filter(m=>f.has(m)).map(m=>({type:m,isEnabled:!0})),p=d.filter(({type:m})=>!h.some(({type:E})=>E===m));return Array.from(new Set([...h,...p].map(({type:m})=>m)))},sortConnectorsByExplorerWallet(t){return[...t].sort((e,r)=>e.explorerWallet&&r.explorerWallet?(e.explorerWallet.order??0)-(r.explorerWallet.order??0):e.explorerWallet?-1:r.explorerWallet?1:0)},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,r;try{if(t.name==="Browser Wallet"&&!Ue.isMobile())return{accounts:[],chainId:void 0};if(t.id===Ee.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[n,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(r=t.provider)==null?void 0:r.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:n,chainId:s}}catch(n){return console.warn(`Failed to fetch provider data for ${t.name}`,n),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(t){const e=Te.getRecentWallets(),r=Ne.state.connectors.map(o=>{var a;return(a=o.info)==null?void 0:a.rdns}).filter(Boolean),n=e.map(o=>o.rdns).filter(Boolean),s=r.concat(n);if(s.includes("io.metamask.mobile")&&Ue.isMobile()){const o=s.indexOf("io.metamask.mobile");s[o]="io.metamask"}return t.filter(o=>!s.includes(String(o==null?void 0:o.rdns)))},hasWalletConnector(t){return Ne.state.connectors.some(e=>e.id===t.id||e.name===t.name)},isWalletCompatibleWithCurrentChain(t){const e=te.state.activeChain;return e&&t.chains?t.chains.some(r=>{const n=r.split(":")[0];return e===n}):!0},getFilteredRecentWallets(){return Te.getRecentWallets().filter(r=>!Mb.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r))},getCappedRecommendedWallets(t){const{connectors:e}=Ne.state,{customWallets:r,featuredWalletIds:n}=Ce.state,s=e.find(w=>w.id==="walletConnect"),i=e.filter(w=>w.type==="INJECTED"||w.type==="ANNOUNCED"||w.type==="MULTI_CHAIN");if(!s&&!i.length&&!(r!=null&&r.length))return[];const o=aR.isEmailEnabled(),a=aR.isSocialsEnabled(),c=i.filter(w=>w.name!=="Browser Wallet"&&w.name!=="WalletConnect"),u=(n==null?void 0:n.length)||0,l=(r==null?void 0:r.length)||0,d=c.length||0,f=o?1:0,h=a?1:0,p=u+l+d+f+h,y=Math.max(0,4-p);return y<=0?[]:Mb.filterOutDuplicateWallets(t).slice(0,y)}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kS=globalThis,E3=kS.ShadowRoot&&(kS.ShadyCSS===void 0||kS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,v3=Symbol(),hU=new WeakMap;let CX=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==v3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(E3&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=hU.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&hU.set(r,e))}return e}toString(){return this.cssText}};const qo=t=>new CX(typeof t=="string"?t:t+"",void 0,v3),Ll=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((n,s,i)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1]),t[0]);return new CX(r,t,v3)},xxe=(t,e)=>{if(E3)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const n=document.createElement("style"),s=kS.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,t.appendChild(n)}},pU=E3?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return qo(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Oxe,defineProperty:Rxe,getOwnPropertyDescriptor:Nxe,getOwnPropertyNames:Bxe,getOwnPropertySymbols:kxe,getPrototypeOf:jxe}=Object,ld=globalThis,mU=ld.trustedTypes,Dxe=mU?mU.emptyScript:"",P5=ld.reactiveElementPolyfillSupport,o1=(t,e)=>t,aN={toAttribute(t,e){switch(e){case Boolean:t=t?Dxe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},SX=(t,e)=>!Oxe(t,e),gU={attribute:!0,type:String,converter:aN,reflect:!1,useDefault:!1,hasChanged:SX};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ld.litPropertyMetadata??(ld.litPropertyMetadata=new WeakMap);let A0=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=gU){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),s=this.getPropertyDescriptor(e,n,r);s!==void 0&&Rxe(this.prototype,e,s)}}static getPropertyDescriptor(e,r,n){const{get:s,set:i}=Nxe(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??gU}static _$Ei(){if(this.hasOwnProperty(o1("elementProperties")))return;const e=jxe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(o1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(o1("properties"))){const r=this.properties,n=[...Bxe(r),...kxe(r)];for(const s of n)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const s of n)r.unshift(pU(s))}else e!==void 0&&r.push(pU(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise((r=>this.enableUpdating=r)),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach((r=>r(this)))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return xxe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach((r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)}))}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach((r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)}))}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var i;const n=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)==null?void 0:i.toAttribute)!==void 0?n.converter:aN).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,r){var i,o;const n=this.constructor,s=n._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=n.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:aN;this._$Em=s;const u=c.fromAttribute(r,a.type);this[s]=u??((o=this._$Ej)==null?void 0:o.get(s))??u,this._$Em=null}}requestUpdate(e,r,n){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(n??(n=i.getPropertyOptions(e)),!((n.hasChanged??SX)(o,r)||n.useDefault&&n.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:s,wrapped:i},o){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??r??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach((s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)})),this.update(r)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach((n=>{var s;return(s=n.hostUpdated)==null?void 0:s.call(n)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach((r=>this._$ET(r,this[r])))),this._$EM()}updated(e){}firstUpdated(e){}};A0.elementStyles=[],A0.shadowRootOptions={mode:"open"},A0[o1("elementProperties")]=new Map,A0[o1("finalized")]=new Map,P5==null||P5({ReactiveElement:A0}),(ld.reactiveElementVersions??(ld.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const a1=globalThis,$I=a1.trustedTypes,yU=$I?$I.createPolicy("lit-html",{createHTML:t=>t}):void 0,IX="$lit$",Fl=`lit$${Math.random().toFixed(9).slice(2)}$`,TX="?"+Fl,Mxe=`<${TX}>`,tp=document,hw=()=>tp.createComment(""),pw=t=>t===null||typeof t!="object"&&typeof t!="function",_3=Array.isArray,Uxe=t=>_3(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",x5=`[ 	
\f\r]`,py=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,bU=/-->/g,wU=/>/g,df=RegExp(`>|${x5}(?:([^\\s"'>=/]+)(${x5}*=${x5}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),EU=/'/g,vU=/"/g,PX=/^(?:script|style|textarea|title)$/i,xX=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),fqe=xX(1),hqe=xX(2),tg=Symbol.for("lit-noChange"),Nn=Symbol.for("lit-nothing"),_U=new WeakMap,oh=tp.createTreeWalker(tp,129);function OX(t,e){if(!_3(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return yU!==void 0?yU.createHTML(e):e}const Lxe=(t,e)=>{const r=t.length-1,n=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=py;for(let a=0;a<r;a++){const c=t[a];let u,l,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,l=o.exec(c),l!==null);)f=o.lastIndex,o===py?l[1]==="!--"?o=bU:l[1]!==void 0?o=wU:l[2]!==void 0?(PX.test(l[2])&&(s=RegExp("</"+l[2],"g")),o=df):l[3]!==void 0&&(o=df):o===df?l[0]===">"?(o=s??py,d=-1):l[1]===void 0?d=-2:(d=o.lastIndex-l[2].length,u=l[1],o=l[3]===void 0?df:l[3]==='"'?vU:EU):o===vU||o===EU?o=df:o===bU||o===wU?o=py:(o=df,s=void 0);const h=o===df&&t[a+1].startsWith("/>")?" ":"";i+=o===py?c+Mxe:d>=0?(n.push(u),c.slice(0,d)+IX+c.slice(d)+Fl+h):c+Fl+(d===-2?a:h)}return[OX(t,i+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class mw{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[u,l]=Lxe(e,r);if(this.el=mw.createElement(u,n),oh.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=oh.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(IX)){const f=l[o++],h=s.getAttribute(d).split(Fl),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?Hxe:p[1]==="?"?qxe:p[1]==="@"?zxe:yP}),s.removeAttribute(d)}else d.startsWith(Fl)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(PX.test(s.tagName)){const d=s.textContent.split(Fl),f=d.length-1;if(f>0){s.textContent=$I?$I.emptyScript:"";for(let h=0;h<f;h++)s.append(d[h],hw()),oh.nextNode(),c.push({type:2,index:++i});s.append(d[f],hw())}}}else if(s.nodeType===8)if(s.data===TX)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(Fl,d+1))!==-1;)c.push({type:7,index:i}),d+=Fl.length-1}i++}}static createElement(e,r){const n=tp.createElement("template");return n.innerHTML=e,n}}function rg(t,e,r=t,n){var o,a;if(e===tg)return e;let s=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const i=pw(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=s:r._$Cl=s),s!==void 0&&(e=rg(t,s._$AS(t,e.values),s,n)),e}class Fxe{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,s=((e==null?void 0:e.creationScope)??tp).importNode(r,!0);oh.currentNode=s;let i=oh.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new cE(i,i.nextSibling,this,e):c.type===1?u=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(u=new $xe(i,this,e)),this._$AV.push(u),c=n[++a]}o!==(c==null?void 0:c.index)&&(i=oh.nextNode(),o++)}return oh.currentNode=tp,s}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class cE{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,s){this.type=2,this._$AH=Nn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=rg(this,e,r),pw(e)?e===Nn||e==null||e===""?(this._$AH!==Nn&&this._$AR(),this._$AH=Nn):e!==this._$AH&&e!==tg&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Uxe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Nn&&pw(this._$AH)?this._$AA.nextSibling.data=e:this.T(tp.createTextNode(e)),this._$AH=e}$(e){var i;const{values:r,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=mw.createElement(OX(n.h,n.h[0]),this.options)),n);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(r);else{const o=new Fxe(s,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=_U.get(e.strings);return r===void 0&&_U.set(e.strings,r=new mw(e)),r}k(e){_3(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const i of e)s===r.length?r.push(n=new cE(this.O(hw()),this.O(hw()),this,this.options)):n=r[s],n._$AI(i),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class yP{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,i){this.type=1,this._$AH=Nn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Nn}_$AI(e,r=this,n,s){const i=this.strings;let o=!1;if(i===void 0)e=rg(this,e,r,0),o=!pw(e)||e!==this._$AH&&e!==tg,o&&(this._$AH=e);else{const a=e;let c,u;for(e=i[0],c=0;c<i.length-1;c++)u=rg(this,a[n+c],r,c),u===tg&&(u=this._$AH[c]),o||(o=!pw(u)||u!==this._$AH[c]),u===Nn?e=Nn:e!==Nn&&(e+=(u??"")+i[c+1]),this._$AH[c]=u}o&&!s&&this.j(e)}j(e){e===Nn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Hxe extends yP{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Nn?void 0:e}}class qxe extends yP{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Nn)}}class zxe extends yP{constructor(e,r,n,s,i){super(e,r,n,s,i),this.type=5}_$AI(e,r=this){if((e=rg(this,e,r,0)??Nn)===tg)return;const n=this._$AH,s=e===Nn&&n!==Nn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==Nn&&(n===Nn||s);s&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class $xe{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){rg(this,e)}}const O5=a1.litHtmlPolyfillSupport;O5==null||O5(mw,cE),(a1.litHtmlVersions??(a1.litHtmlVersions=[])).push("3.3.1");const Vxe=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let s=n._$litPart$;if(s===void 0){const i=(r==null?void 0:r.renderBefore)??null;n._$litPart$=s=new cE(e.insertBefore(hw(),i),i,void 0,r??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Hh=globalThis;class jS extends A0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Vxe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return tg}}var TW;jS._$litElement$=!0,jS.finalized=!0,(TW=Hh.litElementHydrateSupport)==null||TW.call(Hh,{LitElement:jS});const R5=Hh.litElementPolyfillSupport;R5==null||R5({LitElement:jS});(Hh.litElementVersions??(Hh.litElementVersions=[])).push("4.2.1");const Gxe={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},VI={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Wxe={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},Kxe={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Zxe={regular:"KHTeka",mono:"KHTekaMono"},Yxe={regular:"400",medium:"500"},Jxe={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},Qxe={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},Xxe={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},e5e={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},cN={colors:Gxe,fontFamily:Zxe,fontWeight:Yxe,textSize:Jxe,typography:Qxe,tokens:{core:VI.core,theme:VI.dark},borderRadius:Wxe,spacing:Kxe,durations:e5e,easings:Xxe},AU="--apkt";function Dv(t){if(!t)return{};const e={};return e["font-family"]=t["--apkt-font-family"]??t["--w3m-font-family"]??"KHTeka",e.accent=t["--apkt-accent"]??t["--w3m-accent"]??"#0988F0",e["color-mix"]=t["--apkt-color-mix"]??t["--w3m-color-mix"]??"#000",e["color-mix-strength"]=t["--apkt-color-mix-strength"]??t["--w3m-color-mix-strength"]??0,e["font-size-master"]=t["--apkt-font-size-master"]??t["--w3m-font-size-master"]??"10px",e["border-radius-master"]=t["--apkt-border-radius-master"]??t["--w3m-border-radius-master"]??"4px",t["--apkt-z-index"]!==void 0?e["z-index"]=t["--apkt-z-index"]:t["--w3m-z-index"]!==void 0&&(e["z-index"]=t["--w3m-z-index"]),e}const ru={createCSSVariables(t){const e={},r={};function n(i,o,a=""){for(const[c,u]of Object.entries(i)){const l=a?`${a}-${c}`:c;u&&typeof u=="object"&&Object.keys(u).length?(o[c]={},n(u,o[c],l)):typeof u=="string"&&(o[c]=`${AU}-${l}`)}}function s(i,o){for(const[a,c]of Object.entries(i))c&&typeof c=="object"?(o[a]={},s(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),s(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(s,i,o){for(const[a,c]of Object.entries(s)){const u=o?`${o}-${a}`:a,l=i[a];c&&typeof c=="object"?n(c,l,u):typeof l=="string"&&(r[`${AU}-${u}`]=l)}}return n(t,e),r},createRootStyles(t,e){const r={...cN,tokens:{...cN.tokens,theme:t==="light"?VI.light:VI.dark}},{cssVariables:n}=ru.createCSSVariables(r),s=ru.assignCSSVariables(n,r),i=ru.generateW3MVariables(e),o=ru.generateW3MOverrides(e),a=ru.generateScaledVariables(e),c=ru.generateBaseVariables(s),u={...s,...c,...i,...o,...a},l=ru.applyColorMixToVariables(e,u),d={...u,...l};return`:root {${Object.entries(d).map(([h,p])=>`${h}:${p.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e=Dv(t),r={};return r["--w3m-font-family"]=e["font-family"],r["--w3m-accent"]=e.accent,r["--w3m-color-mix"]=e["color-mix"],r["--w3m-color-mix-strength"]=`${e["color-mix-strength"]}%`,r["--w3m-font-size-master"]=e["font-size-master"],r["--w3m-border-radius-master"]=e["border-radius-master"],r},generateW3MOverrides(t){if(!t)return{};const e=Dv(t),r={};if(t["--apkt-accent"]||t["--w3m-accent"]){const n=e.accent;r["--apkt-tokens-core-iconAccentPrimary"]=n,r["--apkt-tokens-core-borderAccentPrimary"]=n,r["--apkt-tokens-core-textAccentPrimary"]=n,r["--apkt-tokens-core-backgroundAccentPrimary"]=n}return(t["--apkt-font-family"]||t["--w3m-font-family"])&&(r["--apkt-fontFamily-regular"]=e["font-family"]),e["z-index"]!==void 0&&(r["--apkt-tokens-core-zIndex"]=`${e["z-index"]}`),r},generateScaledVariables(t){if(!t)return{};const e=Dv(t),r={};if(t["--apkt-font-size-master"]||t["--w3m-font-size-master"]){const n=parseFloat(e["font-size-master"].replace("px",""));r["--apkt-textSize-h1"]=`${Number(n)*5}px`,r["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,r["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,r["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,r["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,r["--apkt-textSize-h6"]=`${Number(n)*2}px`,r["--apkt-textSize-large"]=`${Number(n)*1.6}px`,r["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,r["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(t["--apkt-border-radius-master"]||t["--w3m-border-radius-master"]){const n=parseFloat(e["border-radius-master"].replace("px",""));r["--apkt-borderRadius-1"]=`${Number(n)}px`,r["--apkt-borderRadius-2"]=`${Number(n)*2}px`,r["--apkt-borderRadius-3"]=`${Number(n)*3}px`,r["--apkt-borderRadius-4"]=`${Number(n)*4}px`,r["--apkt-borderRadius-5"]=`${Number(n)*5}px`,r["--apkt-borderRadius-6"]=`${Number(n)*6}px`,r["--apkt-borderRadius-8"]=`${Number(n)*8}px`,r["--apkt-borderRadius-16"]=`${Number(n)*16}px`,r["--apkt-borderRadius-20"]=`${Number(n)*20}px`,r["--apkt-borderRadius-32"]=`${Number(n)*32}px`,r["--apkt-borderRadius-64"]=`${Number(n)*64}px`,r["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return r},generateColorMixCSS(t,e){if(!(t!=null&&t["--w3m-color-mix"])||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(o=>{const a=(e==null?void 0:e[o])||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};e!=null&&e["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e!=null&&e["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");const n=Dv(t),s=n["color-mix"],i=n["color-mix-strength"];if(!i||i===0)return r;const o=Object.keys(e||{}).filter(a=>{const c=a.includes("-tokens-core-background")||a.includes("-tokens-core-text")||a.includes("-tokens-core-border")||a.includes("-tokens-core-foreground")||a.includes("-tokens-core-icon")||a.includes("-tokens-theme-background")||a.includes("-tokens-theme-text")||a.includes("-tokens-theme-border")||a.includes("-tokens-theme-foreground")||a.includes("-tokens-theme-icon")||a.includes("-tokens-theme-overlay"),u=a.includes("-borderRadius-")||a.includes("-spacing-")||a.includes("-textSize-")||a.includes("-fontFamily-")||a.includes("-fontWeight-")||a.includes("-typography-")||a.includes("-duration-")||a.includes("-ease-")||a.includes("-path-")||a.includes("-width-")||a.includes("-height-")||a.includes("-visual-size-")||a.includes("-modal-width")||a.includes("-cover");return c&&!u});return o.length===0||o.forEach(a=>{const c=(e==null?void 0:e[a])||"";a.endsWith("-base")||(a==="--apkt-tokens-theme-backgroundPrimary"||a==="--apkt-tokens-core-backgroundAccentPrimary"?r[a]=`color-mix(in srgb, ${s} ${i}%, var(${a}-base))`:c.includes("color-mix")||c.startsWith("#")||c.startsWith("rgb")?r[a]=`color-mix(in srgb, ${s} ${i}%, ${c})`:r[a]=`color-mix(in srgb, ${s} ${i}%, var(${a}-base, ${c}))`)}),r}},{cssVariablesVarPrefix:t5e}=ru.createCSSVariables(cN);function pqe(t,...e){return Ll(t,...e.map(r=>qo(typeof r=="function"?r(t5e):r)))}let Gf,ah,nc,Gi,GI;const Qc={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function WI(t,e="dark"){Gf&&document.head.removeChild(Gf),Gf=document.createElement("style"),Gf.textContent=ru.createRootStyles(e,t),document.head.appendChild(Gf)}function mqe(t,e="dark"){if(GI=t,ah=document.createElement("style"),nc=document.createElement("style"),Gi=document.createElement("style"),ah.textContent=Y0(t).core.cssText,nc.textContent=Y0(t).dark.cssText,Gi.textContent=Y0(t).light.cssText,document.head.appendChild(ah),document.head.appendChild(nc),document.head.appendChild(Gi),WI(t,e),uN(e),!((t==null?void 0:t["--apkt-font-family"])||(t==null?void 0:t["--w3m-font-family"])))for(const[n,s]of Object.entries(Qc)){const i=document.createElement("link");i.rel="preload",i.href=s,i.as="font",i.type=n.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}uN(e)}function uN(t="dark"){nc&&Gi&&Gf&&(t==="light"?(WI(GI,t),nc.removeAttribute("media"),Gi.media="enabled"):(WI(GI,t),Gi.removeAttribute("media"),nc.media="enabled"))}function r5e(t){var e,r,n;if(GI=t,ah&&nc&&Gi){ah.textContent=Y0(t).core.cssText,nc.textContent=Y0(t).dark.cssText,Gi.textContent=Y0(t).light.cssText;const s=(t==null?void 0:t["--apkt-font-family"])||(t==null?void 0:t["--w3m-font-family"]);s&&(ah.textContent=(e=ah.textContent)==null?void 0:e.replace("font-family: KHTeka",`font-family: ${s}`),nc.textContent=(r=nc.textContent)==null?void 0:r.replace("font-family: KHTeka",`font-family: ${s}`),Gi.textContent=(n=Gi.textContent)==null?void 0:n.replace("font-family: KHTeka",`font-family: ${s}`))}if(Gf){const s=(Gi==null?void 0:Gi.media)==="enabled"?"light":"dark";WI(t,s)}}function Y0(t){const e=!!(t!=null&&t["--apkt-font-family"]||t!=null&&t["--w3m-font-family"]);return{core:Ll`
      ${e?Ll``:Ll`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${qo(Qc["KHTeka-400-woff2"])}) format('woff2'),
                url(${qo(Qc["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${qo(Qc["KHTeka-300-woff2"])}) format('woff2'),
                url(${qo(Qc["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${qo(Qc["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${qo(Qc["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${qo(Qc["KHTeka-400-woff2"])}) format('woff2'),
                url(${qo(Qc["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Ll`
      :root {
      }
    `,light:Ll`
      :root {
      }
    `}}const gqe=Ll`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,yqe=Ll`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,id={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};class n5e extends EX{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new vX({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){var s,i,o,a;const r=this.provider,n=((a=(o=(i=(s=r==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,u]=c.split(":");return u}).filter((c,u,l)=>l.indexOf(c)===u))||[];return Promise.resolve({accounts:n.map(c=>Ue.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var o,a,c,u,l;if(!(e.caipNetwork&&Lt.BALANCE_SUPPORTED_CHAINS.includes((o=e.caipNetwork)==null?void 0:o.chainNamespace))||(a=e.caipNetwork)!=null&&a.testnet)return{balance:"0.00",symbol:((c=e.caipNetwork)==null?void 0:c.nativeCurrency.symbol)||""};const n=te.getAccountData();if(n!=null&&n.balanceLoading&&e.chainId===((u=te.state.activeCaipNetwork)==null?void 0:u.id))return{balance:(n==null?void 0:n.balance)||"0.00",symbol:(n==null?void 0:n.balanceSymbol)||""};const i=(await te.fetchTokenBalance()).find(d=>{var f,h;return d.chainId===`${(f=e.caipNetwork)==null?void 0:f.chainNamespace}:${e.chainId}`&&d.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:r,message:n,address:s}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=te.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Ee.CHAIN.SOLANA?i=(await r.request({method:"solana_signMessage",params:{message:_g.encode(new TextEncoder().encode(n)),pubkey:s}},(a=te.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await r.request({method:"personal_sign",params:[n,s]},(c=te.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,u;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===Ee.CHAIN.EVM)try{await((s=n.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:cd(r.id)}]}))}catch(l){if(l.code===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||l.code===id.ERROR_INVALID_CHAIN_ID||l.code===id.ERROR_CODE_DEFAULT||((o=(i=l==null?void 0:l.data)==null?void 0:i.originalError)==null?void 0:o.code)===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((u=n.provider)==null?void 0:u.request({method:"wallet_addEthereumChain",params:[{chainId:cd(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const s5e=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],Mv={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Lt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?Lt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Lt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Lt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Lt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Lt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Lt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Lt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Lt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Lt.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Lt.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Lt.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?Lt.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},i5e={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=Mv[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,s){const i=Mv[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(i.apiFeatureName,r);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Mv[t].processApi(e)},processFallbackFeature(t,e){return Mv[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,s=!1;try{n=await Qe.fetchProjectConfig(),s=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?Lt.DEFAULT_REMOTE_FEATURES:Lt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of s5e){const a=this.processFeature(o,r,n,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Lt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ds.open({debugMessage:fs.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return i}};class o5e{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{var s,i,o;if(r){const a=(s=te.getCaipNetworks(r))==null?void 0:s.find(l=>l.id===n);if(a)return a;const c=(i=te.getNetworkData(r))==null?void 0:i.caipNetwork;return c||((o=te.getRequestedCaipNetworks(r).filter(l=>l.chainNamespace===r))==null?void 0:o[0])}return te.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>te.getCaipNetworks(r),this.getActiveChainNamespace=()=>te.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{te.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>te.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>{var n,s;return te.state.activeChain===r||!r?te.state.activeCaipAddress:(s=(n=te.state.chains.get(r))==null?void 0:n.accountState)==null?void 0:s.caipAddress},this.setClientId=r=>{at.setClientId(r)},this.getProvider=r=>Zt.getProvider(r),this.getProviderType=r=>Zt.getProviderId(r),this.getPreferredAccountType=r=>ks(r),this.setCaipAddress=(r,n,s=!1)=>{te.setAccountProp("caipAddress",r,n,s),te.setAccountProp("address",Ue.getPlainAddress(r),n,s)},this.setBalance=(r,n,s)=>{te.setAccountProp("balance",r,s),te.setAccountProp("balanceSymbol",n,s)},this.setProfileName=(r,n)=>{te.setAccountProp("profileName",r,n)},this.setProfileImage=(r,n)=>{te.setAccountProp("profileImage",r,n)},this.setUser=(r,n)=>{te.setAccountProp("user",r,n)},this.resetAccount=r=>{te.resetAccount(r)},this.setCaipNetwork=r=>{te.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{te.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{te.setAccountProp("status",r,n),Ne.isConnected()?Te.setConnectionStatus("connected"):Te.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>{var n;return(n=te.getAccountData(r))==null?void 0:n.address},this.setConnectors=r=>{const n=[...Ne.state.allConnectors,...r];Ne.setConnectors(n)},this.setConnections=(r,n)=>{Te.setConnections(r,n),Me.setConnections(r,n)},this.fetchIdentity=r=>at.fetchIdentity(r),this.getReownName=r=>s1.getNamesForAddress(r),this.getConnectors=()=>Ne.getConnectors(),this.getConnectorImage=r=>nY.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?SI.getConnectionsData(r).connections:(ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?SI.getConnectionsData(r).recentConnections:(ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Me.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}Te.deleteAddressFromConnection(r),Me.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const s=Zt.getProviderId(n),i=r?{...r,type:s}:void 0;te.setAccountProp("connectedWalletInfo",i,n)},this.getIsConnectedState=()=>!!te.state.activeCaipAddress,this.addAddressLabel=(r,n,s)=>{var o;const i=((o=te.getAccountData(s))==null?void 0:o.addressLabels)||{};te.setAccountProp("addressLabels",{...i,[r]:n},s)},this.removeAddressLabel=(r,n)=>{var i;const s=((i=te.getAccountData(n))==null?void 0:i.addressLabels)||{};te.setAccountProp("addressLabels",{...s,[r]:void 0},n)},this.getAddress=r=>{var s;const n=r||te.state.activeChain;return(s=te.getAccountData(n))==null?void 0:s.address},this.resetNetwork=r=>{te.resetNetwork(r)},this.addConnector=r=>{Ne.addConnector(r)},this.resetWcConnection=()=>{Me.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{te.setAccountProp("addressExplorerUrl",r,n)},this.setSmartAccountDeployed=(r,n)=>{te.setAccountProp("smartAccountDeployed",r,n)},this.setPreferredAccountType=(r,n)=>{te.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{Ce.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(n!=null&&n.length)return[...new Set(n)];const s=r==null?void 0:r.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var r,n,s,i,o;if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),Ce.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),!e.basic&&!e.manualWCControl&&(this.remoteFeatures=await i5e.fetchRemoteFeatures(e)),await Qe.fetchUsage(),Ce.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&dR.setOnrampProviders(this.remoteFeatures.onramp),((r=Ce.state.remoteFeatures)!=null&&r.email||Array.isArray((n=Ce.state.remoteFeatures)==null?void 0:n.socials)&&((s=Ce.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins(),(i=Ce.state.features)!=null&&i.reownAuthentication||(o=Ce.state.remoteFeatures)!=null&&o.reownAuthentication){const{ReownAuthentication:a}=await vn(async()=>{const{ReownAuthentication:u}=await import("./features-DVNZ7Itd.js");return{ReownAuthentication:u}},[],import.meta.url),c=Ce.state.siwx;c instanceof a||(c&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),Ce.setSIWX(new a))}}async openSend(e){var i;const r=e.namespace||te.state.activeChain,n=this.getCaipAddress(r),s=(i=this.getCaipNetwork(r))==null?void 0:i.id;if(!n)throw new Error("openSend: caipAddress not found");if((s==null?void 0:s.toString())!==e.chainId.toString()){const o=te.getCaipNetworkById(e.chainId,r);if(!o)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(o,{throwOnFailure:!0})}try{const o=AX.getTokenSymbolByAddress(e.assetAddress);o&&await Qe.fetchTokenImages([o])}catch{}return await Nt.open({view:"WalletSend",data:{send:e}}),new Promise((o,a)=>{const c=Tt.subscribeKey("hash",d=>{d&&(l(),o({hash:d}))}),u=Nt.subscribe(d=>{d.open||(l(),a(new Error("Modal closed")))}),l=this.createCleanupHandler([c,u])})}toModalOptions(){function e(n){return(n==null?void 0:n.view)==="Swap"}function r(n){return(n==null?void 0:n.view)==="WalletSend"}return{isSwap:e,isSend:r}}async checkAllowedOrigins(){try{const e=await Qe.fetchAllowedOrigins();if(!Ue.isClient())return;const r=window.location.origin;uc.isOriginAllowed(r,e,Ee.DEFAULT_ALLOWED_ANCESTORS)||ds.open(fs.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":ds.open(fs.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;ds.open({displayMessage:fs.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:fs.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}createCleanupHandler(e){return()=>{e.forEach(r=>{try{r()}catch{}})}}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,delete r.universalProvider,bt.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(s=>s.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initAdapterController(){oY.initialize(this.chainAdapters)}initializeThemeController(e){e.themeMode&&ri.setThemeMode(e.themeMode),e.themeVariables&&ri.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");te.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const r=this.getDefaultNetwork();r&&te.setActiveCaipNetwork(r)}initializeConnectionController(e){Me.initialize(e.adapters??[]),Me.setWcBasic(e.basic??!1)}initializeConnectorController(){Ne.initialize(this.chainNamespaces)}initializeProjectSettings(e){Ce.setProjectId(e.projectId),Ce.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var s;Ce.setDebug(e.debug!==!1),Ce.setEnableWalletGuide(e.enableWalletGuide!==!1),Ce.setEnableWallets(e.enableWallets!==!1),Ce.setEIP6963Enabled(e.enableEIP6963!==!1),Ce.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Ce.setEnableReconnect(e.enableReconnect!==!1),Ce.setEnableMobileFullScreen(e.enableMobileFullScreen===!0),Ce.setCoinbasePreference(e.coinbasePreference),Ce.setEnableAuthLogger(e.enableAuthLogger!==!1),Ce.setCustomRpcUrls(e.customRpcUrls),Ce.setEnableEmbedded(e.enableEmbedded),Ce.setAllWallets(e.allWallets),Ce.setIncludeWalletIds(e.includeWalletIds),Ce.setExcludeWalletIds(e.excludeWalletIds),Ce.setFeaturedWalletIds(e.featuredWalletIds),Ce.setTokens(e.tokens),Ce.setTermsConditionsUrl(e.termsConditionsUrl),Ce.setPrivacyPolicyUrl(e.privacyPolicyUrl),Ce.setCustomWallets(e.customWallets),Ce.setFeatures(e.features),Ce.setAllowUnsupportedChain(e.allowUnsupportedChain),Ce.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Ce.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Ce.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),Ce.setMetadata(e.metadata),Ce.setDisableAppend(e.disableAppend),Ce.setEnableEmbedded(e.enableEmbedded),Ce.setSIWX(e.siwx),this.features=Ce.state.features??{},!e.projectId){ds.open(fs.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=e.adapters)==null?void 0:s.find(i=>i.namespace===Ee.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Ce.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,s;return Ue.isClient()?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=_0.getUnsupportedNetwork(`${r}:${e}`);te.setActiveCaipNetwork(n)}}getDefaultNetwork(){return _0.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return _0.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return _0.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return r?_0.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,r){var n,s;try{this.setLoading(!0,e);let i={connections:[]};const o=this.getAdapter(e);return(((s=(n=te.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:s.caipAddress)||!Ce.state.enableReconnect)&&(o!=null&&o.disconnect)&&(i=await o.disconnect({id:r})),this.setLoading(!1,e),i}catch(i){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${i.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var u;const e=te.state.activeChain,r=this.getAdapter(e),n=(u=this.getCaipNetwork(e))==null?void 0:u.id,s=Me.getConnections(e),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!i)&&this.close(),this.setClientId((a==null?void 0:a.clientId)||null),Te.setConnectedNamespaces([...te.state.chains.keys()]),await this.syncWalletConnectAccount(),await ai.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:s})=>{var a;const i=te.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Te.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{var u;const{id:r,chainNamespace:n,initialDisconnect:s}=e||{},i=n||te.state.activeChain,o=Ne.getConnectorId(i),a=r===Ee.CONNECTOR_ID.AUTH||o===Ee.CONNECTOR_ID.AUTH,c=r===Ee.CONNECTOR_ID.WALLET_CONNECT||o===Ee.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(te.state.chains.keys());let d=n?[n]:l;(c||a)&&(d=l);const f=d.map(async m=>{const y=Ne.getConnectorId(m),E=r||y,w=await this.disconnectConnector(m,E);w&&(a&&Te.deleteConnectedSocialProvider(),w.connections.forEach(b=>{Te.addDisconnectedConnectorId(b.connectorId,m)})),s&&this.onDisconnectNamespace({chainNamespace:m,closeModal:!1})}),h=await Promise.allSettled(f);Tt.resetSend(),Me.resetWcConnection(),(u=ai.getSIWX())!=null&&u.signOutOnDisconnect&&await ai.clearSessions(),Ne.setFilterByNamespace(void 0),Me.syncStorageConnections();const p=h.filter(m=>m.status==="rejected");if(p.length>0)throw new Error(p.map(m=>m.reason.message).join(", "));bt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=te.state.activeChain,n=this.getAdapter(te.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");const s=this.getAddress(r);if(!s)throw new Error("signMessage: address not found");const i=await(n==null?void 0:n.signMessage({message:e,address:s,provider:Zt.getProvider(r)}));return(i==null?void 0:i.signature)||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(Lt.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const s=Zt.getProvider(r),i=await(n==null?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===Ee.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const s=Zt.getProvider(r),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");const o=await(n==null?void 0:n.estimateGas({...e,provider:s,caipNetwork:i}));return(o==null?void 0:o.gas)||0n}return 0n},getEnsAvatar:async()=>{var s;const e=te.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");const r=this.getAddress(e);if(!r)throw new Error("getEnsAvatar: address not found");await this.syncIdentity({address:r,chainId:Number((s=this.getCaipNetwork())==null?void 0:s.id),chainNamespace:e});const n=te.getAccountData();return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>await uc.resolveReownName(e),writeContract:async e=>{const r=te.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=Zt.getProvider(r);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const a=await(n==null?void 0:n.writeContract({...e,caipNetwork:s,provider:o,caipAddress:i}));return a==null?void 0:a.hash},parseUnits:(e,r)=>{const n=this.getAdapter(te.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return(n==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const n=this.getAdapter(te.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return(n==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await(r==null?void 0:r.walletGetAssets(e))??{}},updateBalance:e=>{const r=this.getAddress(e),n=this.getCaipNetwork(e);!n||!r||this.updateNativeBalance(r,n==null?void 0:n.id,e)}},Me.setClient(this.connectionControllerClient)}async onConnectExternal(e){var u,l,d,f,h,p,m,y;const r=te.state.activeChain,n=e.chain||r,s=this.getAdapter(n);let i=!0;if(e.type===xt.CONNECTOR_TYPE_AUTH&&Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(b=>Ne.getConnectorId(b)===Ee.CONNECTOR_ID.AUTH)&&e.chain!==r&&(i=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const E=this.getCaipNetworks().find(w=>w.chainNamespace===e.chain);E&&i&&this.setCaipNetwork(E)}if(!n)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await s.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:((u=e.caipNetwork)==null?void 0:u.id)||(o==null?void 0:o.id),rpcUrl:((h=(f=(d=(l=e.caipNetwork)==null?void 0:l.rpcUrls)==null?void 0:d.default)==null?void 0:f.http)==null?void 0:h[0])||((y=(m=(p=o==null?void 0:o.rpcUrls)==null?void 0:p.default)==null?void 0:m.http)==null?void 0:y[0])});if(c)return Te.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),Te.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){var a;const n=e.type===xt.CONNECTOR_TYPE_AUTH,s=na.getOtherAuthNamespaces((a=r==null?void 0:r.connectedCaipNetwork)==null?void 0:a.chainNamespace),i=te.state.activeCaipNetwork,o=this.getAdapter(i==null?void 0:i.chainNamespace);n&&(await Promise.all(s.map(async c=>{var u,l,d;try{const f=Zt.getProvider(c),h=this.getCaipNetwork(c),p=this.getAdapter(c);await(p==null?void 0:p.connect({...e,provider:f,socialUri:void 0,chainId:h==null?void 0:h.id,rpcUrl:(d=(l=(u=h==null?void 0:h.rpcUrls)==null?void 0:u.default)==null?void 0:l.http)==null?void 0:d[0]}))&&(Te.addConnectedNamespace(c),Te.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(f){ds.warn(fs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,fs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,f instanceof Error?f.message:void 0),fs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await(o==null?void 0:o.switchNetwork({caipNetwork:i})))}getApprovedCaipNetworksData(){var r,n,s,i,o;if(Zt.getProviderId(te.state.activeChain)===xt.CONNECTOR_TYPE_WALLET_CONNECT){const a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Zt.getProviderId(r);if(e.chainNamespace===te.state.activeChain){const i=this.getAdapter(r);await(i==null?void 0:i.switchNetwork({caipNetwork:e}))}else if(this.setCaipNetwork(e),s===xt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const i=this.getAddressByChainNamespace(r);i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],s=r.accounts.map(i=>{const{chainId:o,chainNamespace:a}=mn.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...n,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var i,o;const s=e==null?void 0:e.find(a=>a.namespace===n);return s?(s.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:(o=this.caipNetworks)==null?void 0:o.filter(({chainNamespace:a})=>a===n)}),r[n]=s):r[n]=new n5e({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e);const r=this.getAdapter(e);if(!r)throw new Error("adapter not found");await r.syncConnectors(),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)})),this.initAdapterController()}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=Te.getConnectionStatus();Ce.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(Te.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:s,chainId:i})=>{var u,l;const o=this.getCaipNetworks().find(d=>d.id.toString()===i.toString()||d.caipNetworkId.toString()===i.toString()),a=te.state.activeChain===e,c=(l=(u=te.state.chains.get(e))==null?void 0:u.accountState)==null?void 0:l.address;if(o){const d=a&&s?s:c;d&&this.syncAccount({address:d,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),r.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(Me.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!s||i.length===0})}),r.on("connections",s=>{this.setConnections(s,e)}),r.on("pendingTransactions",()=>{const s=this.getAddress(e),i=te.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),r.on("accountChanged",({address:s,chainId:i,connector:o})=>{var l,d;this.handlePreviousConnectorConnection(o);const a=te.state.activeChain===e;o!=null&&o.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o==null?void 0:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=(d=(l=te.getNetworkData(e))==null?void 0:l.caipNetwork)==null?void 0:d.id,u=i||c;a&&u?this.syncAccount({address:s,chainId:u,chainNamespace:e}):!a&&u?(this.syncAccountInfo(s,u,e),this.syncBalance({address:s,chainId:u,chainNamespace:e})):this.syncAccountInfo(s,i,e),Te.addConnectedNamespace(e)})}async handlePreviousConnectorConnection(e){var c;const r=e==null?void 0:e.chain,n=e==null?void 0:e.id,s=Ne.getConnectorId(r),i=(c=Ce.state.remoteFeatures)==null?void 0:c.multiWallet,a=r&&n&&s&&s!==n&&!i;try{a&&await Me.disconnect({id:s,namespace:r})}catch(u){console.warn("Error disconnecting previous connector",u)}}async createUniversalProviderForAdapter(e){var r,n,s;await this.getUniversalProvider(),this.universalProvider&&await((s=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null?void 0:s.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Me.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();this.getCaipAddress()||Te.deleteRecentWallet();const r=Te.getRecentWallet();bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:Ue.isMobile()?"mobile":"qrcode",name:(r==null?void 0:r.name)||"Unknown",reconnect:!0,view:st.state.view,walletRank:r==null?void 0:r.order}})}async syncNamespaceConnection(e){try{e===Ee.CHAIN.EVM&&Ue.isSafeApp()&&Ne.setConnectorId(Ee.CONNECTOR_ID.SAFE,e);const r=Ne.getConnectorId(e);switch(this.setStatus("connecting",e),r){case Ee.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case Ee.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};te.resetAccount(r),te.resetNetwork(r),Te.removeConnectedNamespace(r);const s=Array.from(te.state.chains.keys());(r?[r]:s).forEach(o=>Te.addDisconnectedConnectorId(Ne.getConnectorId(o)||"",o)),Ne.removeConnectorId(r),Zt.resetChain(r),this.setUser(null,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(null,r),n!==!1&&Nt.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getAdapter(e),n=this.getCaipAddress(e),s=this.getCaipNetwork(e);return r==null?void 0:r.syncConnections({connectToFirstConnector:!n,caipNetwork:s})}))}async syncAdapterConnection(e){var a,c,u,l,d;const r=this.getAdapter(e),n=this.getCaipNetwork(e),s=Ne.getConnectorId(e),o=Ne.getConnectors(e).find(f=>f.id===s);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(n!=null&&n.id))throw new Error("CaipNetwork not found");const f=await(r==null?void 0:r.syncConnection({namespace:e,id:o.id,chainId:n.id,rpcUrl:(u=(c=(a=n==null?void 0:n.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:u[0]}));f?(this.syncProvider({...f,chainNamespace:e}),await this.syncAccount({...f,chainNamespace:e}),this.setStatus("connected",e),bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:f.address,properties:{method:"browser",name:((l=o.info)==null?void 0:l.name)||o.name||"Unknown",reconnect:!0,view:st.state.view,walletRank:(d=o==null?void 0:o.explorerWallet)==null?void 0:d.order}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var n,s;const e=Object.keys(((s=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:s.namespaces)||{}),r=this.chainNamespaces.map(async i=>{var d,f,h,p,m;const o=this.getAdapter(i);if(!o)return;const a=((p=(h=(f=(d=this.universalProvider)==null?void 0:d.session)==null?void 0:f.namespaces)==null?void 0:h[i])==null?void 0:p.accounts)||[],c=(m=te.state.activeCaipNetwork)==null?void 0:m.id,u=a.find(y=>{const{chainId:E}=mn.parseCaipAddress(y);return E===(c==null?void 0:c.toString())})||a[0];if(u){const y=mn.validateCaipAddress(u),{chainId:E,address:w}=mn.parseCaipAddress(y);if(Zt.setProviderId(i,xt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&te.state.activeCaipNetwork&&o.namespace!==Ee.CHAIN.EVM){const b=o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:te.state.activeCaipNetwork});Zt.setProvider(i,b)}else Zt.setProvider(i,this.universalProvider);Ne.setConnectorId(Ee.CONNECTOR_ID.WALLET_CONNECT,i),Te.addConnectedNamespace(i),await this.syncAccount({address:w,chainId:E,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);const l=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(i),te.setApprovedCaipNetworksData(i,{approvedCaipNetworkIds:l.approvedCaipNetworkIds,supportsAllNetworks:l.supportsAllNetworks})});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:s}){Zt.setProviderId(s,e),Zt.setProvider(s,r),Ne.setConnectorId(n,s)}async syncAccount(e){var d,f;const r=e.chainNamespace===te.state.activeChain,n=te.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=Te.getActiveNetworkProps(),c=(n==null?void 0:n.id)||a,u=((d=te.state.activeCaipNetwork)==null?void 0:d.name)===Ee.UNSUPPORTED_NETWORK_NAME,l=te.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!l)&&c){let h=this.getCaipNetworks().find(E=>E.id.toString()===c.toString()),p=this.getCaipNetworks().find(E=>E.chainNamespace===o);if(!l&&!h&&!p){const E=this.getApprovedCaipNetworkIds()||[],w=E.find(g=>{var v;return((v=mn.parseCaipNetworkId(g))==null?void 0:v.chainId)===c.toString()}),b=E.find(g=>{var v;return((v=mn.parseCaipNetworkId(g))==null?void 0:v.chainNamespace)===o});h=this.getCaipNetworks().find(g=>g.caipNetworkId===w),p=this.getCaipNetworks().find(g=>g.caipNetworkId===b||"deprecatedCaipNetworkId"in g&&g.deprecatedCaipNetworkId===b)}const m=h||p;(m==null?void 0:m.chainNamespace)===te.state.activeChain?Ce.state.enableNetworkSwitch&&!Ce.state.allowUnsupportedChain&&((f=te.state.activeCaipNetwork)==null?void 0:f.name)===Ee.UNSUPPORTED_NETWORK_NAME?te.showUnsupportedChainUI():this.setCaipNetwork(m):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o);const y=this.getAddress(o);na.isLowerCaseMatch(s,y)||this.syncAccountInfo(s,m==null?void 0:m.id,o),r?await this.syncBalance({address:s,chainId:m==null?void 0:m.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:n==null?void 0:n.id,chainNamespace:o}),this.syncIdentity({address:s,chainId:i,chainNamespace:o})}}async syncAccountInfo(e,r,n){const s=this.getCaipAddress(n),i=r||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${n}:${i}:${e}`;this.setCaipAddress(o,n,!0),await this.syncIdentity({address:e,chainId:i,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const s=n[0];this.setProfileName(s.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var s;const r=Ne.getConnectorId(e),n=Zt.getProviderId(e);if(n===xt.CONNECTOR_TYPE_ANNOUNCED||n===xt.CONNECTOR_TYPE_INJECTED){if(r){const o=this.getConnectors().find(a=>{var d,f;const c=a.id===r,u=((d=a.info)==null?void 0:d.rdns)===r,l=(f=a.connectors)==null?void 0:f.some(h=>{var p;return h.id===r||((p=h.info)==null?void 0:p.rdns)===r});return c||u||!!l});if(o){const{info:a,name:c,imageUrl:u}=o,l=u||this.getConnectorImage(o);this.setConnectedWalletInfo({name:c,icon:l,...a},e)}}}else if(n===xt.CONNECTOR_TYPE_WALLET_CONNECT){const i=Zt.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(r&&(r===Ee.CONNECTOR_ID.COINBASE_SDK||r===Ee.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(u=>u.id===r),o=(i==null?void 0:i.name)||"Coinbase Wallet",a=(i==null?void 0:i.imageUrl)||this.getConnectorImage(i),c=i==null?void 0:i.info;this.setConnectedWalletInfo({...c,name:o,icon:a},e)}}async syncBalance(e){!eZ.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>{var s;return n.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const s=this.getAdapter(n),i=te.getCaipNetworkByNamespace(n,r);if(s){const o=await s.getBalance({address:e,chainId:r,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){var s,i,o,a,c,u,l,d,f,h;const e=Sxe.createLogger((p,...m)=>{p&&this.handleAlertError(p),console.error(...m)}),r={projectId:(s=this.options)==null?void 0:s.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(o=this.options)==null?void 0:o.metadata.name:"",description:(a=this.options)!=null&&a.metadata?(c=this.options)==null?void 0:c.metadata.description:"",url:(u=this.options)!=null&&u.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(d=this.options)!=null&&d.metadata?(f=this.options)==null?void 0:f.metadata.icons:[""]},logger:e};Ce.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await Z6e.init(r);const n=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await n()}catch(p){if(p instanceof Error&&p.message.includes("Missing or invalid. Record was recently deleted"))return;throw p}},Ce.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{uc.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{Me.setUri(r)},onConnect:r=>{const{address:n}=Ue.getAccount(r[0]);Me.finalizeWcConnection(n)},onDisconnect:()=>{te.state.noAdapters&&this.resetAccount(e),Me.resetWcConnection()},onChainChanged:r=>{const n=te.state.activeChain,s=n&&Ne.state.activeConnectorIds[n]===Ee.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(te.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(r);return}(o==null?void 0:o.id.toString())!==(i==null?void 0:i.id.toString())&&(o==null?void 0:o.chainNamespace)===(i==null?void 0:i.chainNamespace)&&this.setCaipNetwork(i)}},onAccountsChanged:r=>{const n=te.state.activeChain,s=n&&Ne.state.activeConnectorIds[n]===Ee.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(te.state.noAdapters||s)){const i=r==null?void 0:r[0];i&&this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ue.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){bt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}getDisabledCaipNetworks(){const e=te.getAllApprovedCaipNetworkIds(),r=te.getAllRequestedCaipNetworks();return Ue.sortRequestedNetworks(e,r).filter(s=>te.isCaipNetworkDisabled(s))}handleAlertError(e){const r=Object.entries(fs.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,s]=r??[],{message:i,alertErrorKey:o}=s??{};if(n&&i&&!this.reportedAlertErrors[n]){const a=fs.ALERT_ERRORS[o];a&&(ds.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var s,i;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:(i=this.caipNetworks)==null?void 0:i.filter(({chainNamespace:o})=>o===r)}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&Me.setUri(e.uri);const{isSwap:r,isSend:n}=this.toModalOptions();return r(e)?Nt.open({...e,data:{swap:e.arguments}}):n(e)&&e.arguments?this.openSend(e.arguments):Nt.open(e)}async close(){await this.injectModalUi(),Nt.close()}setLoading(e,r){Nt.setLoading(e,r)}async disconnect(e){await Me.disconnect({namespace:e})}getSIWX(){return Ce.state.siwx}getError(){return""}getChainId(){var e;return(e=te.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e,{throwOnFailure:r=!1}={}){const n=this.getCaipNetworks().find(s=>s.id===e.id);if(!n){ds.open(fs.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await te.switchActiveNetwork(n,{throwOnFailure:r})}getWalletProvider(){return te.state.activeChain?Zt.state.providers[te.state.activeChain]:null}getWalletProviderType(){return Zt.getProviderId(te.state.activeChain)}subscribeProviders(e){return Zt.subscribeProviders(e)}getThemeMode(){return ri.state.themeMode}getThemeVariables(){return ri.state.themeVariables}setThemeMode(e){ri.setThemeMode(e),uN(ri.state.themeMode)}setTermsConditionsUrl(e){Ce.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Ce.setPrivacyPolicyUrl(e)}setThemeVariables(e){ri.setThemeVariables(e),r5e(ri.state.themeVariables)}subscribeTheme(e){return ri.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Me.subscribe(e):(ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){var n,s;if(e)return(s=(n=te.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:s.connectedWalletInfo;const r=te.getAccountData();return r==null?void 0:r.connectedWalletInfo}getAccount(e){const r=e||te.state.activeChain,n=Ne.getAuthConnector(r),s=te.getAccountData(r),i=Te.getConnectedConnectorId(te.state.activeChain),o=Me.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:u,type:l,publicKey:d})=>Ue.createAccount(r,u,l||"eoa",d)));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:Ue.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:n&&i===Ee.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:Te.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:ks(r),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const s=this.getAccount(r);s&&e(s)};r?te.subscribeChainProp("accountState",n,r):te.subscribe(n),Ne.subscribe(n)}subscribeNetwork(e){return te.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e,r){return r?te.subscribeChainProp("accountState",n=>e(n==null?void 0:n.connectedWalletInfo),r):te.subscribeChainProp("accountState",n=>e(n==null?void 0:n.connectedWalletInfo))}subscribeShouldUpdateToAddress(e){te.subscribeChainProp("accountState",r=>e(r==null?void 0:r.shouldUpdateToAddress))}subscribeCaipNetworkChange(e){te.subscribeKey("activeCaipNetwork",e)}getState(){return ra.state}getRemoteFeatures(){return Ce.state.remoteFeatures}subscribeState(e){return ra.subscribe(e)}subscribeRemoteFeatures(e){return Ce.subscribeKey("remoteFeatures",e)}showErrorMessage(e){tc.showError(e)}showSuccessMessage(e){tc.showSuccess(e)}getEvent(){return{...bt.state}}subscribeEvents(e){return bt.subscribe(e)}replace(e){st.replace(e)}redirect(e){st.push(e)}popTransactionStack(e){st.popTransactionStack(e)}isOpen(){return Nt.state.open}isTransactionStackEmpty(){return st.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Ce.setFeatures(e)}updateRemoteFeatures(e){Ce.setRemoteFeatures(e)}updateOptions(e){const n={...Ce.state||{},...e};Ce.setOptions(n)}setConnectMethodsOrder(e){Ce.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Ce.setWalletFeaturesOrder(e)}setCollapseWallets(e){Ce.setCollapseWallets(e)}setSocialsOrder(e){Ce.setSocialsOrder(e)}getConnectMethodsOrder(){return Mb.getConnectOrderMethod(Ce.state.features,Ne.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(s=>s.id===n.id)||te.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===r)&&te.removeNetwork(e,r)}}let CU=!1;class a5e extends o5e{async onAuthProviderConnected(e){const r=na.userChainIdToChainNamespace(e==null?void 0:e.chainId);if(e.message&&e.signature&&e.siwxMessage&&await ai.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!r)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const n=r===Ee.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,s=Ce.state.defaultAccountTypes[r],i=ks(r),o=e.preferredAccountType||i||s;this.setCaipAddress(n,r);const{signature:a,siwxMessage:c,message:u,...l}=e,d=te.getAccountData(r);this.setUser({...(d==null?void 0:d.user)||{},...l},r),this.setSmartAccountDeployed(!!e.smartAccountDeployed,r),this.setPreferredAccountType(o,r),await Promise.all([this.syncAuthConnectorTheme(this.authProvider),this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:r})]),this.setLoading(!1,r)}setupAuthConnectorListeners(e){e.onRpcRequest(r=>{Ki.checkIfRequestExists(r)?Ki.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(cn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(cn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((r,n)=>{const s=Ki.checkIfRequestIsSafe(n),i=this.getAddress(),o=te.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const r=te.state.activeChain;if(!r)throw new Error("AppKit:onNotConnected - namespace is required");Ne.getConnectorId(r)===Ee.CONNECTOR_ID.AUTH&&(this.setCaipAddress(null,r),this.setLoading(!1,r))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:r,type:n})=>{const s=te.state.activeChain;if(!s)throw new Error("AppKit:onSetPreferredAccount - namespace is required");r&&this.setPreferredAccountType(n,s)})}async syncAuthConnectorTheme(e){if(!e)return;const r=ri.getSnapshot();await e.syncTheme({themeMode:r.themeMode,themeVariables:r.themeVariables,w3mThemeVariables:I1(r.themeVariables,r.themeMode)})}async syncAuthConnector(e,r){var l,d,f,h,p,m,y,E,w;const n=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r),s=r===te.state.activeChain;if(!n)return;this.setLoading(!0,r);const i=e.getLoginEmailUsed();this.setLoading(i,r),i&&this.setStatus("connecting",r);const o=e.getEmail(),a=e.getUsername(),c=((l=te.getAccountData(r))==null?void 0:l.user)||{};this.setUser({...c,username:a,email:o},r),this.setupAuthConnectorListeners(e);const{isConnected:u}=await e.isConnected();if(r&&n&&s)if(u&&((d=this.connectionControllerClient)!=null&&d.connectExternal)){await e.init(),await this.syncAuthConnectorTheme(e),await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:Ee.CONNECTOR_ID.AUTH,info:{name:Ee.CONNECTOR_ID.AUTH},type:xt.CONNECTOR_TYPE_AUTH,provider:e,chainId:(h=(f=te.getNetworkData(r))==null?void 0:f.caipNetwork)==null?void 0:h.id,chain:r})),this.setStatus("connected",r);const b=Te.getConnectedSocialProvider();b?bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:this.getAddress(),properties:{provider:b,reconnect:!0}}):bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:this.getAddress(),properties:{method:"email",name:((w=(E=(y=(m=this.universalProvider)==null?void 0:m.session)==null?void 0:y.peer)==null?void 0:E.metadata)==null?void 0:w.name)||"Unknown",reconnect:!0,view:st.state.view,walletRank:void 0}})}else Ne.getConnectorId(r)===Ee.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),Te.removeConnectedNamespace(r));this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!Ue.isTelegram())return;const n=Te.getTelegramSocialProvider();if(!n||!Ue.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;n&&te.setAccountProp("socialProvider",n,e),await((r=this.authProvider)==null?void 0:r.init());const o=Ne.getAuthConnector();n&&o&&(this.setLoading(!0,e),await Me.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),Te.setConnectedSocialProvider(n),Te.removeTelegramSocialProvider(),bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var u,l,d,f;if(!Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=(u=this.remoteFeatures)==null?void 0:u.email,s=Array.isArray((l=this.remoteFeatures)==null?void 0:l.socials)&&this.remoteFeatures.socials.length>0,i=n||s,a=na.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=i1.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(f=this.getCaipNetwork(a))==null?void 0:f.caipNetworkId,abortController:fs.EmbeddedWalletAbortController,onTimeout:h=>{h==="iframe_load_failed"?ds.open(fs.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):h==="iframe_request_timeout"?ds.open(fs.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):h==="unverified_domain"&&ds.open(fs.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:h=>Bb(h),getCaipNetworks:h=>te.getCaipNetworks(h)}),ra.subscribeOpen(h=>{var p;!h&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===te.state.activeChain&&Ce.state.enableReconnect;Ce.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,n,s;this.createAuthProvider(e),this.authProvider&&((s=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setAuthProvider)==null||s.call(n,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Qe.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a,c;if(!e)return;const r=te.state.activeChain,n=e.chainNamespace,s=this.getAddressByChainNamespace(n);if(n===r&&((o=te.getAccountData(n))!=null&&o.caipAddress)){const u=this.getAdapter(n);await(u==null?void 0:u.switchNetwork({caipNetwork:e})),this.setCaipNetwork(e)}else{const l=Zt.getProviderId(r)===xt.CONNECTOR_TYPE_AUTH,d=Zt.getProviderId(n),f=d===xt.CONNECTOR_TYPE_AUTH,h=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!n)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((l&&d===void 0||f)&&h)try{if(te.state.activeChain=e.chainNamespace,s){const p=this.getAdapter(n);await(p==null?void 0:p.switchNetwork({caipNetwork:e}))}else await((c=(a=this.connectionControllerClient)==null?void 0:a.connectExternal)==null?void 0:c.call(a,{id:Ee.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:xt.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const m=this.getAdapter(n);await(m==null?void 0:m.switchNetwork({caipNetwork:e}))}else if(d===xt.CONNECTOR_TYPE_WALLET_CONNECT){if(!te.state.noAdapters){const p=this.getAdapter(n);await(p==null?void 0:p.switchNetwork({caipNetwork:e}))}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:n})}}async initialize(e){var r;await super.initialize(e),(r=this.chainNamespaces)==null||r.forEach(n=>{this.createAuthProviderForAdapter(n)}),await this.injectModalUi(),ra.set({initialized:!0})}async syncIdentity({address:e,chainId:r,chainNamespace:n}){var a;const s=`${n}:${r}`,i=(a=this.caipNetworks)==null?void 0:a.find(c=>c.caipNetworkId===s);if(i!=null&&i.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}const o=Ne.getConnectorId(n)===Ee.CONNECTOR_ID.AUTH;try{const{name:c,avatar:u}=await this.fetchIdentity({address:e});!c&&o?await this.syncReownName(e,n):(this.setProfileName(c,n),this.setProfileImage(u,n))}catch{r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=Zt.getProviderId(e);if(r===xt.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const s=Te.getConnectedSocialProvider()??"email",i=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Ue.isClient()&&!CU)try{const e={...Lt.DEFAULT_FEATURES,...this.options.features},r=this.remoteFeatures;if(await this.loadModalComponents(e,r),Ue.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!Ce.state.disableAppend&&!Ce.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}CU=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,r){if(!Ue.isClient())return;const n=[];(r.email||r.socials&&r.socials.length>0)&&n.push(vn(()=>import("./embedded-wallet-LEKVqqGI.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url)),r.email&&n.push(vn(()=>import("./email-71MAdWG6.js"),__vite__mapDeps([16,4,17,14,8,13,6,7,12,18,10]),import.meta.url)),r.socials&&n.push(vn(()=>import("./socials-DewSNBKX.js"),__vite__mapDeps([19,4,6,20,7,21,13,22,12,8,23,5,24]),import.meta.url)),r.swaps&&r.swaps.length>0&&n.push(vn(()=>import("./swaps-CPKPDxvR.js"),__vite__mapDeps([25,4,12,8,13,6,26,27,28,24,29,5,10,7]),import.meta.url)),e.send&&n.push(vn(()=>import("./send-qBW_YxNH.js"),__vite__mapDeps([30,4,12,8,13,6,31,7,32,14,29,5,24,28,10,33,34]),import.meta.url)),e.receive&&n.push(vn(()=>import("./receive-D1suf6li.js"),__vite__mapDeps([35,4,6,5,23]),import.meta.url)),r.onramp&&r.onramp.length>0&&n.push(vn(()=>import("./onramp-DRIAruEu.js"),__vite__mapDeps([36,4,6,37,8,20,7,5,38,39,14,12,13,22,10]),import.meta.url)),r.payWithExchange&&n.push(vn(()=>import("./pay-with-exchange-jrWUVISY.js"),__vite__mapDeps([40,4,6,5,11,37,8,24,12,32,7,14,41,13,10,33,31]),import.meta.url)),r.activity&&n.push(vn(()=>import("./transactions-Dl8F-U-q.js"),__vite__mapDeps([42,4,43,13,6,14,5,24]),import.meta.url)),(e.pay||r.payments)&&n.push(vn(()=>import("./index-Ci6CgOFa.js"),__vite__mapDeps([44,4,6,12,8,45,11,5,37,46,31,47,13,22]),import.meta.url)),r.emailCapture&&n.push(vn(()=>import("./data-capture-nsz5EWkg.js"),__vite__mapDeps([48,4,17,14,8,49]),import.meta.url)),await Promise.all([...n,vn(()=>import("./index-oW5L7tvX.js"),__vite__mapDeps([50,4,6,5,8,34,13,51,39,14,9,47,11,37,12,41,43,24,33,26,27,31,7,10,46,18,20,21,22,23,15,38]),import.meta.url),vn(()=>import("./w3m-modal-BNBGTA_d.js"),__vite__mapDeps([52,4,6,45,5,9,8,13,27,51,39,14,47,28,12]),import.meta.url)])}}function c5e(){async function t(e){await Me.disconnect(e)}return{disconnect:t}}let ci;function u5e(t){t&&(ci=t)}function l5e(){if(!ci)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){return ci==null?void 0:ci.open(r)}async function e(){await(ci==null?void 0:ci.close())}return dp({open:t,close:e})}function d5e(){if(!ci)throw new Error('Please call "createAppKit" before using "useAppKitState" composable');const t=ci.getState(),e=ci.getRemoteFeatures(),r=qt(t.open),n=qt(e),s=qt(t.selectedNetworkId),i=ci==null?void 0:ci.subscribeState(o=>{r.value=o.open,s.value=o.selectedNetworkId});return jT(()=>{i==null||i()}),dp({open:r,remoteFeatures:n,selectedNetworkId:s})}const f5e="1.8.14";let Uv;function h5e(t){return Uv||(Uv=new a5e({...t,sdkVersion:Ue.generateSdkVersion(t.adapters??[],"html",f5e)}),u5e(Uv)),Uv}const p5e="6.15.0";function m5e(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function Rs(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function ct(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&m5e(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function B0(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>B0(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let s=0;s<t.length;s++)n+=r[t[s]>>4],n+=r[t[s]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return B0(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${B0(n,e)}: ${B0(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Vn(t,e){return t&&t.code===e}function A3(t){return Vn(t,"CALL_EXCEPTION")}function Ur(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${B0(r)}`);for(const o in r){if(o==="shortMessage")continue;const a=r[o];i.push(o+"="+B0(a))}}i.push(`code=${e}`),i.push(`version=${p5e}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return ct(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&ct(s,{shortMessage:n}),s}function Pe(t,e,r,n){if(!t)throw Ur(e,r,n)}function pe(t,e,r,n){Pe(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function RX(t,e,r){r==null&&(r=""),r&&(r=": "+r),Pe(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Pe(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function uE(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),Pe(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function NX(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}pe(!1,"invalid BytesLike value",e||"value",t)}function Ot(t,e){return NX(t,e,!1)}function Bs(t,e){return NX(t,e,!0)}function Ar(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function C3(t){return Ar(t,!0)||t instanceof Uint8Array}const SU="0123456789abcdef";function Fe(t){const e=Ot(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=SU[(s&240)>>4]+SU[s&15]}return r}function en(t){return"0x"+t.map(e=>Fe(e).substring(2)).join("")}function J0(t){return Ar(t,!0)?(t.length-2)/2:Ot(t).length}function Qr(t,e,r){const n=Ot(t);return r!=null&&r>n.length&&Pe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Fe(n.slice(e??0,r??n.length))}function BX(t,e,r){const n=Ot(t);Pe(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),Fe(s)}function Lu(t,e){return BX(t,e,!0)}function g5e(t,e){return BX(t,e,!1)}const bP=BigInt(0),Xo=BigInt(1),k0=9007199254740991;function KI(t,e){const r=wP(t,"value"),n=BigInt(_t(e,"width"));if(Pe(r>>n===bP,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-Xo){const s=(Xo<<n)-Xo;return-((~r&s)+Xo)}return r}function kX(t,e){let r=Ye(t,"value");const n=BigInt(_t(e,"width")),s=Xo<<n-Xo;if(r<bP){r=-r,Pe(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Xo<<n)-Xo;return(~r&i)+Xo}else Pe(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function ch(t,e){const r=wP(t,"value"),n=BigInt(_t(e,"bits"));return r&(Xo<<n)-Xo}function Ye(t,e){switch(typeof t){case"bigint":return t;case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-k0&&t<=k0,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){pe(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}pe(!1,"invalid BigNumberish value",e||"value",t)}function wP(t,e){const r=Ye(t,e);return Pe(r>=bP,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const IU="0123456789abcdef";function EP(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=IU[r>>4],e+=IU[r&15];return BigInt(e)}return Ye(t)}function _t(t,e){switch(typeof t){case"bigint":return pe(t>=-k0&&t<=k0,"overflow",e||"value",t),Number(t);case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-k0&&t<=k0,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return _t(BigInt(t),e)}catch(r){pe(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}pe(!1,"invalid numeric value",e||"value",t)}function y5e(t){return _t(EP(t))}function Td(t,e){let n=wP(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=_t(e,"width");for(Pe(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function An(t){const e=wP(t,"value");if(e===bP)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(r.substring(i,i+2),16)}return n}function Qo(t){let e=Fe(C3(t)?t:An(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const TU="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const PU=BigInt(58);function b5e(t){const e=Ot(t);let r=EP(e),n="";for(;r;)n=TU[Number(r%PU)]+n,r/=PU;for(let s=0;s<e.length&&!e[s];s++)n=TU[0]+n;return n}function w5e(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Ot(e)}function E5e(t){const e=Ot(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var sm;class jX{constructor(e,r,n){be(this,"filter");be(this,"emitter");ve(this,sm);se(this,sm,r),ct(this,{emitter:e,filter:n})}async removeListener(){G(this,sm)!=null&&await this.emitter.off(this.filter,G(this,sm))}}sm=new WeakMap;function v5e(t,e,r,n,s){pe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function DX(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function _5e(t,e,r,n,s){return t==="OVERLONG"?(pe(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),DX(t,e,r))}const A5e=Object.freeze({error:v5e,ignore:DX,replace:_5e});function C5e(t,e){e==null&&(e=A5e.error);const r=Ot(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+o>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let c=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let l=r[s];if((l&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),c=null;break}c=c<<6|l&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,r,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,r,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,r,n,c);continue}n.push(c)}}return n}function lc(t,e){pe(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);pe(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function S5e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function ZI(t,e){return S5e(C5e(t,e))}function MX(t){async function e(r,n){Pe(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();Pe(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),Pe(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=Ur("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{i=Ur("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal});let u;try{u=await fetch(r.url,c)}catch(h){throw clearTimeout(a),i||h}clearTimeout(a);const l={};u.headers.forEach((h,p)=>{l[p.toLowerCase()]=h});const d=await u.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:u.status,statusMessage:u.statusText,headers:l,body:f}}return e}const I5e=12,T5e=250;let xU=MX();const P5e=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),x5e=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let N5=!1;async function UX(t,e){try{const r=t.match(P5e);if(!r)throw new Error("invalid data");return new dd(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?w5e(r[3]):R5e(r[3]))}catch{return new dd(599,"BAD REQUEST (invalid data: URI)",{},null,new Fu(t))}}function LX(t){async function e(r,n){try{const s=r.match(x5e);if(!s)throw new Error("invalid link");return new Fu(`${t}${s[2]}`)}catch{return new dd(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Fu(r))}}return e}const Lv={data:UX,ipfs:LX("https://gateway.ipfs.io/ipfs/")},FX=new WeakMap;var ph,Hl;class O5e{constructor(e){ve(this,ph);ve(this,Hl);se(this,ph,[]),se(this,Hl,!1),FX.set(e,()=>{if(!G(this,Hl)){se(this,Hl,!0);for(const r of G(this,ph))setTimeout(()=>{r()},0);se(this,ph,[])}})}addListener(e){Pe(!G(this,Hl),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),G(this,ph).push(e)}get cancelled(){return G(this,Hl)}checkSignal(){Pe(!this.cancelled,"cancelled","CANCELLED",{})}}ph=new WeakMap,Hl=new WeakMap;function Fv(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var im,om,$o,uu,am,cm,Tn,Li,lu,mh,gh,yh,La,Vo,ql,bh,Ub;const yT=class yT{constructor(e){ve(this,bh);ve(this,im);ve(this,om);ve(this,$o);ve(this,uu);ve(this,am);ve(this,cm);ve(this,Tn);ve(this,Li);ve(this,lu);ve(this,mh);ve(this,gh);ve(this,yh);ve(this,La);ve(this,Vo);ve(this,ql);se(this,cm,String(e)),se(this,im,!1),se(this,om,!0),se(this,$o,{}),se(this,uu,""),se(this,am,3e5),se(this,Vo,{slotInterval:T5e,maxAttempts:I5e}),se(this,ql,null)}get url(){return G(this,cm)}set url(e){se(this,cm,String(e))}get body(){return G(this,Tn)==null?null:new Uint8Array(G(this,Tn))}set body(e){if(e==null)se(this,Tn,void 0),se(this,Li,void 0);else if(typeof e=="string")se(this,Tn,lc(e)),se(this,Li,"text/plain");else if(e instanceof Uint8Array)se(this,Tn,e),se(this,Li,"application/octet-stream");else if(typeof e=="object")se(this,Tn,lc(JSON.stringify(e))),se(this,Li,"application/json");else throw new Error("invalid body")}hasBody(){return G(this,Tn)!=null}get method(){return G(this,uu)?G(this,uu):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),se(this,uu,String(e).toUpperCase())}get headers(){const e=Object.assign({},G(this,$o));return G(this,lu)&&(e.authorization=`Basic ${E5e(lc(G(this,lu)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&G(this,Li)&&(e["content-type"]=G(this,Li)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){G(this,$o)[String(e).toLowerCase()]=String(r)}clearHeaders(){se(this,$o,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return G(this,lu)||null}setCredentials(e,r){pe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),se(this,lu,`${e}:${r}`)}get allowGzip(){return G(this,om)}set allowGzip(e){se(this,om,!!e)}get allowInsecureAuthentication(){return!!G(this,im)}set allowInsecureAuthentication(e){se(this,im,!!e)}get timeout(){return G(this,am)}set timeout(e){pe(e>=0,"timeout must be non-zero","timeout",e),se(this,am,e)}get preflightFunc(){return G(this,mh)||null}set preflightFunc(e){se(this,mh,e)}get processFunc(){return G(this,gh)||null}set processFunc(e){se(this,gh,e)}get retryFunc(){return G(this,yh)||null}set retryFunc(e){se(this,yh,e)}get getUrlFunc(){return G(this,ql)||xU}set getUrlFunc(e){se(this,ql,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${G(this,Tn)?Fe(G(this,Tn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(G(this,Vo).slotInterval=e.slotInterval),e.maxAttempts!=null&&(G(this,Vo).maxAttempts=e.maxAttempts)}send(){return Pe(G(this,La)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),se(this,La,new O5e(this)),Re(this,bh,Ub).call(this,0,OU()+this.timeout,0,this,new dd(0,"",{},null,this))}cancel(){Pe(G(this,La)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=FX.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Pe(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new yT(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,se(s,$o,Object.assign({},G(this,$o))),G(this,Tn)&&se(s,Tn,new Uint8Array(G(this,Tn))),se(s,Li,G(this,Li)),s}clone(){const e=new yT(this.url);return se(e,uu,G(this,uu)),G(this,Tn)&&se(e,Tn,G(this,Tn)),se(e,Li,G(this,Li)),se(e,$o,Object.assign({},G(this,$o))),se(e,lu,G(this,lu)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),se(e,mh,G(this,mh)),se(e,gh,G(this,gh)),se(e,yh,G(this,yh)),se(e,Vo,Object.assign({},G(this,Vo))),se(e,ql,G(this,ql)),e}static lockConfig(){N5=!0}static getGateway(e){return Lv[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(N5)throw new Error("gateways locked");Lv[e]=r}static registerGetUrl(e){if(N5)throw new Error("gateways locked");xU=e}static createGetUrlFunc(e){return MX(e)}static createDataGateway(){return UX}static createIpfsGatewayFunc(e){return LX(e)}};im=new WeakMap,om=new WeakMap,$o=new WeakMap,uu=new WeakMap,am=new WeakMap,cm=new WeakMap,Tn=new WeakMap,Li=new WeakMap,lu=new WeakMap,mh=new WeakMap,gh=new WeakMap,yh=new WeakMap,La=new WeakMap,Vo=new WeakMap,ql=new WeakMap,bh=new WeakSet,Ub=async function(e,r,n,s,i){var l,d,f;if(e>=G(this,Vo).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Pe(OU()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await N5e(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Lv){const h=await Lv[a](o.url,Fv(G(s,La)));if(h instanceof dd){let p=h;if(this.processFunc){Fv(G(s,La));try{p=await this.processFunc(o,p)}catch(m){(m.throttle==null||typeof m.stall!="number")&&p.makeServerError("error in post-processing function",m).assertOk()}}return p}o=h}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,Fv(G(s,La)));let u=new dd(c.statusCode,c.statusMessage,c.headers,c.body,s);if(u.statusCode===301||u.statusCode===302){try{const h=u.headers.location||"";return Re(l=o.redirect(h),bh,Ub).call(l,e+1,r,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const h=u.headers["retry-after"];let p=G(this,Vo).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof h=="string"&&h.match(/^[1-9][0-9]*$/)&&(p=parseInt(h)),Re(d=o.clone(),bh,Ub).call(d,e+1,r,p,s,u)}if(this.processFunc){Fv(G(s,La));try{u=await this.processFunc(o,u)}catch(h){(h.throttle==null||typeof h.stall!="number")&&u.makeServerError("error in post-processing function",h).assertOk();let p=G(this,Vo).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(p=h.stall),Re(f=o.clone(),bh,Ub).call(f,e+1,r,p,s,u)}}return u};let Fu=yT;var Ow,Rw,Nw,Fi,um,wh;const bB=class bB{constructor(e,r,n,s,i){ve(this,Ow);ve(this,Rw);ve(this,Nw);ve(this,Fi);ve(this,um);ve(this,wh);se(this,Ow,e),se(this,Rw,r),se(this,Nw,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),se(this,Fi,s==null?null:new Uint8Array(s)),se(this,um,i||null),se(this,wh,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${G(this,Fi)?Fe(G(this,Fi)):"null"}>`}get statusCode(){return G(this,Ow)}get statusMessage(){return G(this,Rw)}get headers(){return Object.assign({},G(this,Nw))}get body(){return G(this,Fi)==null?null:new Uint8Array(G(this,Fi))}get bodyText(){try{return G(this,Fi)==null?"":ZI(G(this,Fi))}catch{Pe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Pe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new bB(599,n,this.headers,this.body,G(this,um)||void 0);return se(s,wh,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:pe(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw ct(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return G(this,Fi)!=null}get request(){return G(this,um)}ok(){return G(this,wh).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=G(this,wh);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{G(this,Fi)&&(s=ZI(G(this,Fi)))}catch{}Pe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Ow=new WeakMap,Rw=new WeakMap,Nw=new WeakMap,Fi=new WeakMap,um=new WeakMap,wh=new WeakMap;let dd=bB;function OU(){return new Date().getTime()}function R5e(t){return lc(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function N5e(t){return new Promise(e=>setTimeout(e,t))}const B5e=BigInt(-1),Ho=BigInt(0),j0=BigInt(1),k5e=BigInt(5),Gp={};let Q0="0000";for(;Q0.length<80;)Q0+=Q0;function ff(t){let e=Q0;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function my(t,e,r){const n=BigInt(e.width);if(e.signed){const s=j0<<n-j0;Pe(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>Ho?t=KI(ch(t,n),n):t=-KI(ch(-t,n),n)}else{const s=j0<<n;Pe(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-j0}return t}function B5(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);pe(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,o=(a,c,u)=>i[a]==null?u:(pe(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}pe(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),pe(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function j5e(t,e){let r="";t<Ho&&(r="-",t*=B5e);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Q0+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Go,mr,Ps,lr,Lf,Xc,lN,dN,fN,hN;const kl=class kl{constructor(e,r,n){ve(this,lr);be(this,"format");ve(this,Go);ve(this,mr);ve(this,Ps);be(this,"_value");uE(e,Gp,"FixedNumber"),se(this,mr,r),se(this,Go,n);const s=j5e(r,n.decimals);ct(this,{format:n.name,_value:s}),se(this,Ps,ff(n.decimals))}get signed(){return G(this,Go).signed}get width(){return G(this,Go).width}get decimals(){return G(this,Go).decimals}get value(){return G(this,mr)}addUnsafe(e){return Re(this,lr,lN).call(this,e)}add(e){return Re(this,lr,lN).call(this,e,"add")}subUnsafe(e){return Re(this,lr,dN).call(this,e)}sub(e){return Re(this,lr,dN).call(this,e,"sub")}mulUnsafe(e){return Re(this,lr,fN).call(this,e)}mul(e){return Re(this,lr,fN).call(this,e,"mul")}mulSignal(e){Re(this,lr,Lf).call(this,e);const r=G(this,mr)*G(e,mr);return Pe(r%G(this,Ps)===Ho,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Re(this,lr,Xc).call(this,r/G(this,Ps),"mulSignal")}divUnsafe(e){return Re(this,lr,hN).call(this,e)}div(e){return Re(this,lr,hN).call(this,e,"div")}divSignal(e){Pe(G(e,mr)!==Ho,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Re(this,lr,Lf).call(this,e);const r=G(this,mr)*G(this,Ps);return Pe(r%G(e,mr)===Ho,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Re(this,lr,Xc).call(this,r/G(e,mr),"divSignal")}cmp(e){let r=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=ff(s):s<0&&(r*=ff(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=G(this,mr);return G(this,mr)<Ho&&(e-=G(this,Ps)-j0),e=G(this,mr)/G(this,Ps)*G(this,Ps),Re(this,lr,Xc).call(this,e,"floor")}ceiling(){let e=G(this,mr);return G(this,mr)>Ho&&(e+=G(this,Ps)-j0),e=G(this,mr)/G(this,Ps)*G(this,Ps),Re(this,lr,Xc).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=k5e*ff(r-1);let s=this.value+n;const i=ff(r);return s=s/i*i,my(s,G(this,Go),"round"),new kl(Gp,s,G(this,Go))}isZero(){return G(this,mr)===Ho}isNegative(){return G(this,mr)<Ho}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return kl.fromString(this.toString(),e)}static fromValue(e,r,n){const s=r==null?0:_t(r),i=B5(n);let o=Ye(e,"value");const a=s-i.decimals;if(a>0){const c=ff(a);Pe(o%c===Ho,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=ff(-a));return my(o,i,"fromValue"),new kl(Gp,o,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);pe(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=B5(r);let i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=Q0;Pe(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(n[1]+i+o);return my(a,s,"fromString"),new kl(Gp,a,s)}static fromBytes(e,r){let n=EP(Ot(e,"value"));const s=B5(r);return s.signed&&(n=KI(n,s.width)),my(n,s,"fromBytes"),new kl(Gp,n,s)}};Go=new WeakMap,mr=new WeakMap,Ps=new WeakMap,lr=new WeakSet,Lf=function(e){pe(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Xc=function(e,r){return e=my(e,G(this,Go),r),new kl(Gp,e,G(this,Go))},lN=function(e,r){return Re(this,lr,Lf).call(this,e),Re(this,lr,Xc).call(this,G(this,mr)+G(e,mr),r)},dN=function(e,r){return Re(this,lr,Lf).call(this,e),Re(this,lr,Xc).call(this,G(this,mr)-G(e,mr),r)},fN=function(e,r){return Re(this,lr,Lf).call(this,e),Re(this,lr,Xc).call(this,G(this,mr)*G(e,mr)/G(this,Ps),r)},hN=function(e,r){return Pe(G(e,mr)!==Ho,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Re(this,lr,Lf).call(this,e),Re(this,lr,Xc).call(this,G(this,mr)*G(this,Ps)/G(e,mr),r)};let YI=kl;function D5e(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function RU(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function NU(t,e,r,n){const s=[];for(;r<e+1+n;){const i=HX(t,r);s.push(i.result),r+=i.consumed,Pe(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function HX(t,e){Pe(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{Pe(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=RU(t,e+1,n);return r(e+1+n+s),NU(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),NU(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=RU(t,e+1,n);r(e+1+n+s);const i=Fe(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=Fe(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:D5e(t[e])}}function lE(t){const e=Ot(t,"data"),r=HX(e,0);return pe(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function BU(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function qX(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(qX(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=BU(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(Ot(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=BU(e.length);return r.unshift(183+r.length),r.concat(e)}const kU="0123456789abcdef";function Pd(t){let e="0x";for(const r of qX(t))e+=kU[r>>4],e+=kU[r&15];return e}const zX=["wei","kwei","mwei","gwei","szabo","finney","ether"];function $X(t,e){let r=18;if(typeof e=="string"){const n=zX.indexOf(e);pe(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=_t(e,"unit"));return YI.fromValue(t,r,{decimals:r,width:512}).toString()}function M5e(t,e){pe(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=zX.indexOf(e);pe(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=_t(e,"unit"));return YI.fromString(t,{decimals:r,width:512}).value}function U5e(t){return $X(t,18)}const js=32,pN=new Uint8Array(js),L5e=["then"],Hv={},VX=new WeakMap;function Wf(t){return VX.get(t)}function jU(t,e){VX.set(t,e)}function gy(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function mN(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof ng?mN(Wf(n),n,r):n):t.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(r&&o instanceof ng&&(o=mN(Wf(o),o,r)),n[s]=o),n},{})}var lm;const D0=class D0 extends Array{constructor(...r){const n=r[0];let s=r[1],i=(r[2]||[]).slice(),o=!0;n!==Hv&&(s=r,i=[],o=!1);super(s.length);ve(this,lm);s.forEach((u,l)=>{this[l]=u});const a=i.reduce((u,l)=>(typeof l=="string"&&u.set(l,(u.get(l)||0)+1),u),new Map);if(jU(this,Object.freeze(s.map((u,l)=>{const d=i[l];return d!=null&&a.get(d)===1?d:null}))),se(this,lm,[]),G(this,lm)==null&&G(this,lm),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(u,l,d)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const h=_t(l,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=u[h];return p instanceof Error&&gy(`index ${h}`,p),p}if(L5e.indexOf(l)>=0)return Reflect.get(u,l,d);const f=u[l];if(f instanceof Function)return function(...h){return f.apply(this===d?u:this,h)};if(!(l in u))return u.getValue.apply(this===d?u:this,[l])}return Reflect.get(u,l,d)}});return jU(c,Wf(this)),c}toArray(r){const n=[];return this.forEach((s,i)=>{s instanceof Error&&gy(`index ${i}`,s),r&&s instanceof D0&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){const n=Wf(this);return n.reduce((s,i,o)=>(Pe(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),mN(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=Wf(this),i=[],o=[];for(let a=r;a<n;a++)i.push(this[a]),o.push(s[a]);return new D0(Hv,i,o)}filter(r,n){const s=Wf(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&gy(`index ${a}`,c),r.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new D0(Hv,i,o)}map(r,n){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&gy(`index ${i}`,o),s.push(r.call(n,o,i,this))}return s}getValue(r){const n=Wf(this).indexOf(r);if(n===-1)return;const s=this[n];return s instanceof Error&&gy(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new D0(Hv,r,n)}};lm=new WeakMap;let ng=D0;function DU(t){let e=An(t);return Pe(e.length<=js,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:js,offset:e.length}),e.length!==js&&(e=Bs(en([pN.slice(e.length%js),e]))),e}class $u{constructor(e,r,n,s){be(this,"name");be(this,"type");be(this,"localName");be(this,"dynamic");ct(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){pe(!1,e,this.localName,r)}}var du,Eh,dm,DS;class gN{constructor(){ve(this,dm);ve(this,du);ve(this,Eh);se(this,du,[]),se(this,Eh,0)}get data(){return en(G(this,du))}get length(){return G(this,Eh)}appendWriter(e){return Re(this,dm,DS).call(this,Bs(e.data))}writeBytes(e){let r=Bs(e);const n=r.length%js;return n&&(r=Bs(en([r,pN.slice(n)]))),Re(this,dm,DS).call(this,r)}writeValue(e){return Re(this,dm,DS).call(this,DU(e))}writeUpdatableValue(){const e=G(this,du).length;return G(this,du).push(pN),se(this,Eh,G(this,Eh)+js),r=>{G(this,du)[e]=DU(r)}}}du=new WeakMap,Eh=new WeakMap,dm=new WeakSet,DS=function(e){return G(this,du).push(e),se(this,Eh,G(this,Eh)+e.length),e.length};var ei,Hi,vh,_h,zl,up,bN,GX;const wB=class wB{constructor(e,r,n){ve(this,up);be(this,"allowLoose");ve(this,ei);ve(this,Hi);ve(this,vh);ve(this,_h);ve(this,zl);ct(this,{allowLoose:!!r}),se(this,ei,Bs(e)),se(this,vh,0),se(this,_h,null),se(this,zl,n??1024),se(this,Hi,0)}get data(){return Fe(G(this,ei))}get dataLength(){return G(this,ei).length}get consumed(){return G(this,Hi)}get bytes(){return new Uint8Array(G(this,ei))}subReader(e){const r=new wB(G(this,ei).slice(G(this,Hi)+e),this.allowLoose,G(this,zl));return se(r,_h,this),r}readBytes(e,r){let n=Re(this,up,GX).call(this,0,e,!!r);return Re(this,up,bN).call(this,e),se(this,Hi,G(this,Hi)+n.length),n.slice(0,e)}readValue(){return EP(this.readBytes(js))}readIndex(){return y5e(this.readBytes(js))}};ei=new WeakMap,Hi=new WeakMap,vh=new WeakMap,_h=new WeakMap,zl=new WeakMap,up=new WeakSet,bN=function(e){var r;if(G(this,_h))return Re(r=G(this,_h),up,bN).call(r,e);se(this,vh,G(this,vh)+e),Pe(G(this,zl)<1||G(this,vh)<=G(this,zl)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${G(this,zl)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Bs(G(this,ei)),offset:G(this,Hi),length:e,info:{bytesRead:G(this,vh),dataLength:this.dataLength}})},GX=function(e,r,n){let s=Math.ceil(r/js)*js;return G(this,Hi)+s>G(this,ei).length&&(this.allowLoose&&n&&G(this,Hi)+r<=G(this,ei).length?s=r:Pe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Bs(G(this,ei)),length:G(this,ei).length,offset:G(this,Hi)+s})),G(this,ei).slice(G(this,Hi),G(this,Hi)+s)};let yN=wB;function JI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function S3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function F5e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");JI(t.outputLen),JI(t.blockLen)}function sg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function WX(t,e){S3(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const k5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KX=t=>t instanceof Uint8Array,H5e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),j5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),xa=(t,e)=>t<<32-e|t>>>e,q5e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!q5e)throw new Error("Non little-endian hardware is not supported");function z5e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function vP(t){if(typeof t=="string"&&(t=z5e(t)),!KX(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function $5e(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!KX(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let I3=class{clone(){return this._cloneInto()}};function T3(t){const e=n=>t().update(vP(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function V5e(t=32){if(k5&&typeof k5.getRandomValues=="function")return k5.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class ZX extends I3{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,F5e(e);const n=vP(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return sg(this),this.iHash.update(e),this}digestInto(e){sg(this),S3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const YX=(t,e,r)=>new ZX(t,e).update(r).digest();YX.create=(t,e)=>new ZX(t,e);function G5e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}class JX extends I3{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=j5(this.buffer)}update(e){sg(this);const{view:r,buffer:n,blockLen:s}=this;e=vP(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=j5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sg(this),WX(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;G5e(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=j5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}}const W5e=(t,e,r)=>t&e^~t&r,K5e=(t,e,r)=>t&e^t&r^e&r,Z5e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hl=new Uint32Array(64);class Y5e extends JX{constructor(){super(64,32,8,!1),this.A=fl[0]|0,this.B=fl[1]|0,this.C=fl[2]|0,this.D=fl[3]|0,this.E=fl[4]|0,this.F=fl[5]|0,this.G=fl[6]|0,this.H=fl[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)hl[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=hl[d-15],h=hl[d-2],p=xa(f,7)^xa(f,18)^f>>>3,m=xa(h,17)^xa(h,19)^h>>>10;hl[d]=m+hl[d-7]+p+hl[d-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=xa(a,6)^xa(a,11)^xa(a,25),h=l+f+W5e(a,c,u)+Z5e[d]+hl[d]|0,m=(xa(n,2)^xa(n,13)^xa(n,22))+K5e(n,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,s,i,o,a,c,u,l)}roundClean(){hl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const QX=T3(()=>new Y5e),qv=BigInt(2**32-1),wN=BigInt(32);function XX(t,e=!1){return e?{h:Number(t&qv),l:Number(t>>wN&qv)}:{h:Number(t>>wN&qv)|0,l:Number(t&qv)|0}}function eee(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=XX(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const J5e=(t,e)=>BigInt(t>>>0)<<wN|BigInt(e>>>0),Q5e=(t,e,r)=>t>>>r,X5e=(t,e,r)=>t<<32-r|e>>>r,eOe=(t,e,r)=>t>>>r|e<<32-r,tOe=(t,e,r)=>t<<32-r|e>>>r,rOe=(t,e,r)=>t<<64-r|e>>>r-32,nOe=(t,e,r)=>t>>>r-32|e<<64-r,sOe=(t,e)=>e,iOe=(t,e)=>t,tee=(t,e,r)=>t<<r|e>>>32-r,ree=(t,e,r)=>e<<r|t>>>32-r,nee=(t,e,r)=>e<<r-32|t>>>64-r,see=(t,e,r)=>t<<r-32|e>>>64-r;function oOe(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const aOe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),cOe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,uOe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),lOe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,dOe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),fOe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,It={fromBig:XX,split:eee,toBig:J5e,shrSH:Q5e,shrSL:X5e,rotrSH:eOe,rotrSL:tOe,rotrBH:rOe,rotrBL:nOe,rotr32H:sOe,rotr32L:iOe,rotlSH:tee,rotlSL:ree,rotlBH:nee,rotlBL:see,add:oOe,add3L:aOe,add3H:cOe,add4L:uOe,add4H:lOe,add5H:fOe,add5L:dOe},[hOe,pOe]=It.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),pl=new Uint32Array(80),ml=new Uint32Array(80);class mOe extends JX{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)pl[b]=e.getUint32(r),ml[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=pl[b-15]|0,v=ml[b-15]|0,A=It.rotrSH(g,v,1)^It.rotrSH(g,v,8)^It.shrSH(g,v,7),C=It.rotrSL(g,v,1)^It.rotrSL(g,v,8)^It.shrSL(g,v,7),x=pl[b-2]|0,T=ml[b-2]|0,N=It.rotrSH(x,T,19)^It.rotrBH(x,T,61)^It.shrSH(x,T,6),M=It.rotrSL(x,T,19)^It.rotrBL(x,T,61)^It.shrSL(x,T,6),k=It.add4L(C,M,ml[b-7],ml[b-16]),B=It.add4H(k,A,N,pl[b-7],pl[b-16]);pl[b]=B|0,ml[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=It.rotrSH(d,f,14)^It.rotrSH(d,f,18)^It.rotrBH(d,f,41),v=It.rotrSL(d,f,14)^It.rotrSL(d,f,18)^It.rotrBL(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=It.add5L(w,v,C,pOe[b],ml[b]),T=It.add5H(x,E,g,A,hOe[b],pl[b]),N=x|0,M=It.rotrSH(n,s,28)^It.rotrBH(n,s,34)^It.rotrBH(n,s,39),k=It.rotrSL(n,s,28)^It.rotrBL(n,s,34)^It.rotrBL(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=It.add(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=It.add3L(N,k,U);n=It.add3H(I,T,M,B),s=I|0}({h:n,l:s}=It.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=It.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=It.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=It.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=It.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=It.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=It.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=It.add(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){pl.fill(0),ml.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gOe=T3(()=>new mOe);function yOe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const MU=yOe();MU.crypto||MU.msCrypto;function bOe(t){switch(t){case"sha256":return QX.create();case"sha512":return gOe.create()}pe(!1,"invalid hashing algorithm name","algorithm",t)}const[iee,oee,aee]=[[],[],[]],wOe=BigInt(0),yy=BigInt(1),EOe=BigInt(2),vOe=BigInt(7),_Oe=BigInt(256),AOe=BigInt(113);for(let t=0,e=yy,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],iee.push(2*(5*n+r)),oee.push((t+1)*(t+2)/2%64);let s=wOe;for(let i=0;i<7;i++)e=(e<<yy^(e>>vOe)*AOe)%_Oe,e&EOe&&(s^=yy<<(yy<<BigInt(i))-yy);aee.push(s)}const[COe,SOe]=eee(aee,!0),UU=(t,e,r)=>r>32?nee(t,e,r):tee(t,e,r),LU=(t,e,r)=>r>32?see(t,e,r):ree(t,e,r);function IOe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=UU(u,l,1)^r[a],f=LU(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=oee[o],c=UU(s,i,a),u=LU(s,i,a),l=iee[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=COe[n],t[1]^=SOe[n]}r.fill(0)}class P3 extends I3{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,JI(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=H5e(this.state)}keccak(){IOe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){sg(this);const{blockLen:r,state:n}=this;e=vP(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){sg(this,!1),S3(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return JI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(WX(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new P3(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const TOe=(t,e,r)=>T3(()=>new P3(e,t,r)),POe=TOe(1,136,256/8);let cee=!1;const uee=function(t){return POe(t)};let lee=uee;function gn(t){const e=Ot(t,"data");return Fe(lee(e))}gn._=uee;gn.lock=function(){cee=!0};gn.register=function(t){if(cee)throw new TypeError("keccak256 is locked");lee=t};Object.freeze(gn);const dee=function(t){return bOe("sha256").update(t).digest()};let fee=dee,hee=!1;function Sg(t){const e=Ot(t,"data");return Fe(fee(e))}Sg._=dee;Sg.lock=function(){hee=!0};Sg.register=function(t){if(hee)throw new Error("sha256 is locked");fee=t};Object.freeze(Sg);Object.freeze(Sg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pee=BigInt(0),_P=BigInt(1),xOe=BigInt(2),AP=t=>t instanceof Uint8Array,OOe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ig(t){if(!AP(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=OOe[t[r]];return e}function mee(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function x3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function og(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function qh(t){return x3(ig(t))}function O3(t){if(!AP(t))throw new Error("Uint8Array expected");return x3(ig(Uint8Array.from(t).reverse()))}function ag(t,e){return og(t.toString(16).padStart(e*2,"0"))}function R3(t,e){return ag(t,e).reverse()}function ROe(t){return og(mee(t))}function zo(t,e,r){let n;if(typeof e=="string")try{n=og(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(AP(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function gw(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!AP(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function NOe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function BOe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function kOe(t){let e;for(e=0;t>pee;t>>=_P,e+=1);return e}function jOe(t,e){return t>>BigInt(e)&_P}const DOe=(t,e,r)=>t|(r?_P:pee)<<BigInt(e),N3=t=>(xOe<<BigInt(t-1))-_P,D5=t=>new Uint8Array(t),FU=t=>Uint8Array.from(t);function gee(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=D5(t),s=D5(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...d)=>r(s,n,...d),c=(d=D5())=>{s=a(FU([0]),d),n=a(),d.length!==0&&(s=a(FU([1]),d),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){n=a();const h=n.slice();f.push(h),d+=n.length}return gw(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(u()));)c();return o(),h}}const MOe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dE(t,e,r={}){const n=(s,i,o)=>{const a=MOe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const UOe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:jOe,bitLen:kOe,bitMask:N3,bitSet:DOe,bytesToHex:ig,bytesToNumberBE:qh,bytesToNumberLE:O3,concatBytes:gw,createHmacDrbg:gee,ensureBytes:zo,equalBytes:NOe,hexToBytes:og,hexToNumber:x3,numberToBytesBE:ag,numberToBytesLE:R3,numberToHexUnpadded:mee,numberToVarBytesBE:ROe,utf8ToBytes:BOe,validateObject:dE},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kn=BigInt(0),an=BigInt(1),Kf=BigInt(2),LOe=BigInt(3),EN=BigInt(4),HU=BigInt(5),qU=BigInt(8);BigInt(9);BigInt(16);function ui(t,e){const r=t%e;return r>=kn?r:e+r}function FOe(t,e,r){if(r<=kn||e<kn)throw new Error("Expected power/modulo > 0");if(r===an)return kn;let n=an;for(;e>kn;)e&an&&(n=n*t%r),t=t*t%r,e>>=an;return n}function co(t,e,r){let n=t;for(;e-- >kn;)n*=n,n%=r;return n}function vN(t,e){if(t===kn||e<=kn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ui(t,e),n=e,s=kn,i=an;for(;r!==kn;){const a=n/r,c=n%r,u=s-i*a;n=r,r=c,s=i,i=u}if(n!==an)throw new Error("invert: does not exist");return ui(s,e)}function HOe(t){const e=(t-an)/Kf;let r,n,s;for(r=t-an,n=0;r%Kf===kn;r/=Kf,n++);for(s=Kf;s<t&&FOe(s,e,t)!==t-an;s++);if(n===1){const o=(t+an)/EN;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(r+an)/Kf;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,s),r),d=a.pow(c,i),f=a.pow(c,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let m=a.sqr(f);h<u&&!a.eql(m,a.ONE);h++)m=a.sqr(m);const p=a.pow(l,an<<BigInt(u-h-1));l=a.sqr(p),d=a.mul(d,p),f=a.mul(f,l),u=h}return d}}function qOe(t){if(t%EN===LOe){const e=(t+an)/EN;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%qU===HU){const e=(t-HU)/qU;return function(n,s){const i=n.mul(s,Kf),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,Kf),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),s))throw new Error("Cannot find square root");return u}}return HOe(t)}const zOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $Oe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=zOe.reduce((n,s)=>(n[s]="function",n),e);return dE(t,r)}function VOe(t,e,r){if(r<kn)throw new Error("Expected power > 0");if(r===kn)return t.ONE;if(r===an)return e;let n=t.ONE,s=e;for(;r>kn;)r&an&&(n=t.mul(n,s)),s=t.sqr(s),r>>=an;return n}function GOe(t,e){const r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function yee(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function WOe(t,e,r=!1,n={}){if(t<=kn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=yee(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=qOe(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:N3(s),ZERO:kn,ONE:an,create:c=>ui(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return kn<=c&&c<t},is0:c=>c===kn,isOdd:c=>(c&an)===an,neg:c=>ui(-c,t),eql:(c,u)=>c===u,sqr:c=>ui(c*c,t),add:(c,u)=>ui(c+u,t),sub:(c,u)=>ui(c-u,t),mul:(c,u)=>ui(c*u,t),pow:(c,u)=>VOe(a,c,u),div:(c,u)=>ui(c*vN(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>vN(c,t),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>GOe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?R3(c,i):ag(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?O3(c):qh(c)}});return Object.freeze(a)}function bee(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function wee(t){const e=bee(t);return e+Math.ceil(e/2)}function KOe(t,e,r=!1){const n=t.length,s=bee(e),i=wee(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=r?qh(t):O3(t),a=ui(o,e-an)+an;return r?R3(a,s):ag(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZOe=BigInt(0),M5=BigInt(1);function YOe(t,e){const r=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>ZOe;)i&M5&&(o=o.add(a)),a=a.double(),i>>=M5;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=n(i),c=[];let u=s,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let f=1;f<a;f++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=n(s);let u=t.ZERO,l=t.BASE;const d=BigInt(2**s-1),f=2**s,h=BigInt(s);for(let p=0;p<a;p++){const m=p*c;let y=Number(o&d);o>>=h,y>c&&(y-=f,o+=M5);const E=m,w=m+Math.abs(y)-1,b=p%2!==0,g=y<0;y===0?l=l.add(r(b,i[E])):u=u.add(r(g,i[w]))}return{p:u,f:l}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function Eee(t){return $Oe(t.Fp),dE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yee(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function JOe(t){const e=Eee(t);dE(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:QOe,hexToBytes:XOe}=UOe,uh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=uh;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:QOe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=uh,r=typeof t=="string"?XOe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=uh._parseInt(r.subarray(2)),{d:o,l:a}=uh._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,a=r(i),c=r(o);return`30${r(o+i+4)}02${c}${s}02${a}${n}`}},Au=BigInt(0),_o=BigInt(1);BigInt(2);const zU=BigInt(3);BigInt(4);function eRe(t){const e=JOe(t),{Fp:r}=e,n=e.toBytes||((p,m,y)=>{const E=m.toAffine();return gw(Uint8Array.from([4]),r.toBytes(E.x),r.toBytes(E.y))}),s=e.fromBytes||(p=>{const m=p.subarray(1),y=r.fromBytes(m.subarray(0,r.BYTES)),E=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:y,y:E}});function i(p){const{a:m,b:y}=e,E=r.sqr(p),w=r.mul(E,p);return r.add(r.add(w,r.mul(p,m)),y)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(p){return typeof p=="bigint"&&Au<p&&p<e.n}function a(p){if(!o(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:E,n:w}=e;if(m&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=ig(p)),typeof p!="string"||!m.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let b;try{b=typeof p=="bigint"?p:qh(zo("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return E&&(b=ui(b,w)),a(b),b}const u=new Map;function l(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,y,E){if(this.px=m,this.py=y,this.pz=E,m==null||!r.isValid(m))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(E==null||!r.isValid(E))throw new Error("z required")}static fromAffine(m){const{x:y,y:E}=m||{};if(!m||!r.isValid(y)||!r.isValid(E))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const w=b=>r.eql(b,r.ZERO);return w(y)&&w(E)?d.ZERO:new d(y,E,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=r.invertBatch(m.map(E=>E.pz));return m.map((E,w)=>E.toAffine(y[w])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(s(zo("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!r.isValid(m)||!r.isValid(y))throw new Error("bad point: x or y not FE");const E=r.sqr(y),w=i(m);if(!r.eql(E,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:y,py:E,pz:w}=this,{px:b,py:g,pz:v}=m,A=r.eql(r.mul(y,v),r.mul(b,w)),C=r.eql(r.mul(E,v),r.mul(g,w));return A&&C}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,E=r.mul(y,zU),{px:w,py:b,pz:g}=this;let v=r.ZERO,A=r.ZERO,C=r.ZERO,x=r.mul(w,w),T=r.mul(b,b),N=r.mul(g,g),M=r.mul(w,b);return M=r.add(M,M),C=r.mul(w,g),C=r.add(C,C),v=r.mul(m,C),A=r.mul(E,N),A=r.add(v,A),v=r.sub(T,A),A=r.add(T,A),A=r.mul(v,A),v=r.mul(M,v),C=r.mul(E,C),N=r.mul(m,N),M=r.sub(x,N),M=r.mul(m,M),M=r.add(M,C),C=r.add(x,x),x=r.add(C,x),x=r.add(x,N),x=r.mul(x,M),A=r.add(A,x),N=r.mul(b,g),N=r.add(N,N),x=r.mul(N,M),v=r.sub(v,x),C=r.mul(N,T),C=r.add(C,C),C=r.add(C,C),new d(v,A,C)}add(m){l(m);const{px:y,py:E,pz:w}=this,{px:b,py:g,pz:v}=m;let A=r.ZERO,C=r.ZERO,x=r.ZERO;const T=e.a,N=r.mul(e.b,zU);let M=r.mul(y,b),k=r.mul(E,g),B=r.mul(w,v),U=r.add(y,E),I=r.add(b,g);U=r.mul(U,I),I=r.add(M,k),U=r.sub(U,I),I=r.add(y,w);let S=r.add(b,v);return I=r.mul(I,S),S=r.add(M,B),I=r.sub(I,S),S=r.add(E,w),A=r.add(g,v),S=r.mul(S,A),A=r.add(k,B),S=r.sub(S,A),x=r.mul(T,I),A=r.mul(N,B),x=r.add(A,x),A=r.sub(k,x),x=r.add(k,x),C=r.mul(A,x),k=r.add(M,M),k=r.add(k,M),B=r.mul(T,B),I=r.mul(N,I),k=r.add(k,B),B=r.sub(M,B),B=r.mul(T,B),I=r.add(I,B),M=r.mul(k,I),C=r.add(C,M),M=r.mul(S,I),A=r.mul(U,A),A=r.sub(A,M),M=r.mul(U,k),x=r.mul(S,x),x=r.add(x,M),new d(A,C,x)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return h.wNAFCached(this,u,m,y=>{const E=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(E[b])).map(d.fromAffine)})}multiplyUnsafe(m){const y=d.ZERO;if(m===Au)return y;if(a(m),m===_o)return this;const{endo:E}=e;if(!E)return h.unsafeLadder(this,m);let{k1neg:w,k1:b,k2neg:g,k2:v}=E.splitScalar(m),A=y,C=y,x=this;for(;b>Au||v>Au;)b&_o&&(A=A.add(x)),v&_o&&(C=C.add(x)),x=x.double(),b>>=_o,v>>=_o;return w&&(A=A.negate()),g&&(C=C.negate()),C=new d(r.mul(C.px,E.beta),C.py,C.pz),A.add(C)}multiply(m){a(m);let y=m,E,w;const{endo:b}=e;if(b){const{k1neg:g,k1:v,k2neg:A,k2:C}=b.splitScalar(y);let{p:x,f:T}=this.wNAF(v),{p:N,f:M}=this.wNAF(C);x=h.constTimeNegate(g,x),N=h.constTimeNegate(A,N),N=new d(r.mul(N.px,b.beta),N.py,N.pz),E=x.add(N),w=T.add(M)}else{const{p:g,f:v}=this.wNAF(y);E=g,w=v}return d.normalizeZ([E,w])[0]}multiplyAndAddUnsafe(m,y,E){const w=d.BASE,b=(v,A)=>A===Au||A===_o||!v.equals(w)?v.multiplyUnsafe(A):v.multiply(A),g=b(this,y).add(b(m,E));return g.is0()?void 0:g}toAffine(m){const{px:y,py:E,pz:w}=this,b=this.is0();m==null&&(m=b?r.ONE:r.inv(w));const g=r.mul(y,m),v=r.mul(E,m),A=r.mul(w,m);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(A,r.ONE))throw new Error("invZ was invalid");return{x:g,y:v}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===_o)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===_o?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(d,this,m)}toHex(m=!0){return ig(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,h=YOe(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function tRe(t){const e=Eee(t);return dE(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function rRe(t){const e=tRe(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(I){return Au<I&&I<r.ORDER}function a(I){return ui(I,n)}function c(I){return vN(I,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=eRe({...e,toBytes(I,S,_){const R=S.toAffine(),O=r.toBytes(R.x),P=gw;return _?P(Uint8Array.from([S.hasEvenY()?2:3]),O):P(Uint8Array.from([4]),O,r.toBytes(R.y))},fromBytes(I){const S=I.length,_=I[0],R=I.subarray(1);if(S===s&&(_===2||_===3)){const O=qh(R);if(!o(O))throw new Error("Point is not on curve");const P=d(O);let D=r.sqrt(P);const j=(D&_o)===_o;return(_&1)===1!==j&&(D=r.neg(D)),{x:O,y:D}}else if(S===i&&_===4){const O=r.fromBytes(R.subarray(0,r.BYTES)),P=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:O,y:P}}else throw new Error(`Point of length ${S} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=I=>ig(ag(I,e.nByteLength));function p(I){const S=n>>_o;return I>S}function m(I){return p(I)?a(-I):I}const y=(I,S,_)=>qh(I.slice(S,_));class E{constructor(S,_,R){this.r=S,this.s=_,this.recovery=R,this.assertValidity()}static fromCompact(S){const _=e.nByteLength;return S=zo("compactSignature",S,_*2),new E(y(S,0,_),y(S,_,2*_))}static fromDER(S){const{r:_,s:R}=uh.toSig(zo("DER",S));return new E(_,R)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new E(this.r,this.s,S)}recoverPublicKey(S){const{r:_,s:R,recovery:O}=this,P=C(zo("msgHash",S));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const D=O===2||O===3?_+e.n:_;if(D>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(O&1)===0?"02":"03",F=u.fromHex(j+h(D)),q=c(D),z=a(-P*q),W=a(R*q),K=u.BASE.multiplyAndAddUnsafe(F,z,W);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return og(this.toDERHex())}toDERHex(){return uh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return og(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const w={isValidPrivateKey(I){try{return l(I),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const I=wee(e.n);return KOe(e.randomBytes(I),e.n)},precompute(I=8,S=u.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}};function b(I,S=!0){return u.fromPrivateKey(I).toRawBytes(S)}function g(I){const S=I instanceof Uint8Array,_=typeof I=="string",R=(S||_)&&I.length;return S?R===s||R===i:_?R===2*s||R===2*i:I instanceof u}function v(I,S,_=!0){if(g(I))throw new Error("first arg must be private key");if(!g(S))throw new Error("second arg must be public key");return u.fromHex(S).multiply(l(I)).toRawBytes(_)}const A=e.bits2int||function(I){const S=qh(I),_=I.length*8-e.nBitLength;return _>0?S>>BigInt(_):S},C=e.bits2int_modN||function(I){return a(A(I))},x=N3(e.nBitLength);function T(I){if(typeof I!="bigint")throw new Error("bigint expected");if(!(Au<=I&&I<x))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ag(I,e.nByteLength)}function N(I,S,_=M){if(["recovered","canonical"].some(Q=>Q in _))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:O}=e;let{lowS:P,prehash:D,extraEntropy:j}=_;P==null&&(P=!0),I=zo("msgHash",I),D&&(I=zo("prehashed msgHash",R(I)));const F=C(I),q=l(S),z=[T(q),T(F)];if(j!=null){const Q=j===!0?O(r.BYTES):j;z.push(zo("extraEntropy",Q))}const W=gw(...z),K=F;function re(Q){const X=A(Q);if(!f(X))return;const ie=c(X),Y=u.BASE.multiply(X).toAffine(),V=a(Y.x);if(V===Au)return;const Z=a(ie*a(K+V*q));if(Z===Au)return;let ne=(Y.x===V?0:2)|Number(Y.y&_o),ue=Z;return P&&p(Z)&&(ue=m(Z),ne^=1),new E(V,ue,ne)}return{seed:W,k2sig:re}}const M={lowS:e.lowS,prehash:!1},k={lowS:e.lowS,prehash:!1};function B(I,S,_=M){const{seed:R,k2sig:O}=N(I,S,_),P=e;return gee(P.hash.outputLen,P.nByteLength,P.hmac)(R,O)}u.BASE._setWindowSize(8);function U(I,S,_,R=k){var Y;const O=I;if(S=zo("msgHash",S),_=zo("publicKey",_),"strict"in R)throw new Error("options.strict was renamed to lowS");const{lowS:P,prehash:D}=R;let j,F;try{if(typeof O=="string"||O instanceof Uint8Array)try{j=E.fromDER(O)}catch(V){if(!(V instanceof uh.Err))throw V;j=E.fromCompact(O)}else if(typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint"){const{r:V,s:Z}=O;j=new E(V,Z)}else throw new Error("PARSE");F=u.fromHex(_)}catch(V){if(V.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&j.hasHighS())return!1;D&&(S=e.hash(S));const{r:q,s:z}=j,W=C(S),K=c(z),re=a(W*K),Q=a(q*K),X=(Y=u.BASE.multiplyAndAddUnsafe(F,re,Q))==null?void 0:Y.toAffine();return X?a(X.x)===q:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:v,sign:B,verify:U,ProjectivePoint:u,Signature:E,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nRe(t){return{hash:t,hmac:(e,...r)=>YX(t,e,$5e(...r)),randomBytes:V5e}}function sRe(t,e){const r=n=>rRe({...t,...nRe(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vee=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$U=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),iRe=BigInt(1),_N=BigInt(2),VU=(t,e)=>(t+e/_N)/e;function oRe(t){const e=vee,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=co(l,r,e)*l%e,f=co(d,r,e)*l%e,h=co(f,_N,e)*u%e,p=co(h,s,e)*h%e,m=co(p,i,e)*p%e,y=co(m,a,e)*m%e,E=co(y,c,e)*y%e,w=co(E,a,e)*m%e,b=co(w,r,e)*l%e,g=co(b,o,e)*p%e,v=co(g,n,e)*u%e,A=co(v,_N,e);if(!AN.eql(AN.sqr(A),t))throw new Error("Cannot find square root");return A}const AN=WOe(vee,void 0,void 0,{sqrt:oRe}),Sl=sRe({a:BigInt(0),b:BigInt(7),Fp:AN,n:$U,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=$U,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-iRe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=VU(i*t,e),c=VU(-n*t,e);let u=ui(t-a*r-c*s,e),l=ui(-a*n-c*i,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},QX);BigInt(0);Sl.ProjectivePoint;const yw="0x0000000000000000000000000000000000000000",GU="0x0000000000000000000000000000000000000000000000000000000000000000",WU=BigInt(0),KU=BigInt(1),ZU=BigInt(2),YU=BigInt(27),JU=BigInt(28),zv=BigInt(35),Wp={};function QU(t){return Lu(An(t),32)}var fm,Fa,hm,Ah,ni;let Co=(ni=class{constructor(e,r,n,s){ve(this,fm);ve(this,Fa);ve(this,hm);ve(this,Ah);uE(e,Wp,"Signature"),se(this,fm,r),se(this,Fa,n),se(this,hm,s),se(this,Ah,null)}get r(){return G(this,fm)}set r(e){pe(J0(e)===32,"invalid r","value",e),se(this,fm,Fe(e))}get s(){return pe(parseInt(G(this,Fa).substring(0,3))<8,"non-canonical s; use ._s","s",G(this,Fa)),G(this,Fa)}set s(e){pe(J0(e)===32,"invalid s","value",e),se(this,Fa,Fe(e))}get _s(){return G(this,Fa)}isValid(){return parseInt(G(this,Fa).substring(0,3))<8}get v(){return G(this,hm)}set v(e){const r=_t(e,"value");pe(r===27||r===28,"invalid v","v",e),se(this,hm,r)}get networkV(){return G(this,Ah)}get legacyChainId(){const e=this.networkV;return e==null?null:ni.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ot(this.s);return this.yParity&&(e[0]|=128),Fe(e)}get compactSerialized(){return en([this.r,this.yParityAndS])}get serialized(){return en([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ni(Wp,this.r,this._s,this.v);return this.networkV&&se(e,Ah,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const r=Ye(e,"v");return r==YU||r==JU?WU:(pe(r>=zv,"invalid EIP-155 v","v",e),(r-zv)/ZU)}static getChainIdV(e,r){return Ye(e)*ZU+BigInt(35+r-27)}static getNormalizedV(e){const r=Ye(e);return r===WU||r===YU?27:r===KU||r===JU?28:(pe(r>=zv,"invalid v","v",e),r&KU?27:28)}static from(e){function r(u,l){pe(u,l,"signature",e)}if(e==null)return new ni(Wp,GU,GU,27);if(typeof e=="string"){const u=Ot(e,"signature");if(u.length===64){const l=Fe(u.slice(0,32)),d=u.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new ni(Wp,l,Fe(d),f)}if(u.length===65){const l=Fe(u.slice(0,32)),d=Fe(u.slice(32,64)),f=ni.getNormalizedV(u[64]);return new ni(Wp,l,d,f)}r(!1,"invalid raw signature length")}if(e instanceof ni)return e.clone();const n=e.r;r(n!=null,"missing r");const s=QU(n),i=(function(u,l){if(u!=null)return QU(u);if(l!=null){r(Ar(l,32),"invalid yParityAndS");const d=Ot(l);return d[0]&=127,Fe(d)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(u,l,d){if(u!=null){const f=Ye(u);return{networkV:f>=zv?f:void 0,v:ni.getNormalizedV(f)}}if(l!=null)return r(Ar(l,32),"invalid yParityAndS"),{v:Ot(l)[0]&128?28:27};if(d!=null){switch(_t(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new ni(Wp,s,i,a);return o&&se(c,Ah,o),r(e.yParity==null||_t(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},fm=new WeakMap,Fa=new WeakMap,hm=new WeakMap,Ah=new WeakMap,ni);var fu;const Jf=class Jf{constructor(e){ve(this,fu);pe(J0(e)===32,"invalid private key","privateKey","[REDACTED]"),se(this,fu,Fe(e))}get privateKey(){return G(this,fu)}get publicKey(){return Jf.computePublicKey(G(this,fu))}get compressedPublicKey(){return Jf.computePublicKey(G(this,fu),!0)}sign(e){pe(J0(e)===32,"invalid digest length","digest",e);const r=Sl.sign(Bs(e),Bs(G(this,fu)),{lowS:!0});return Co.from({r:Td(r.r,32),s:Td(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Jf.computePublicKey(e);return Fe(Sl.getSharedSecret(Bs(G(this,fu)),Ot(r),!1))}static computePublicKey(e,r){let n=Ot(e,"key");if(n.length===32){const i=Sl.getPublicKey(n,!!r);return Fe(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=Sl.ProjectivePoint.fromHex(n);return Fe(s.toRawBytes(r))}static recoverPublicKey(e,r){pe(J0(e)===32,"invalid digest length","digest",e);const n=Co.from(r);let s=Sl.Signature.fromCompact(Bs(en([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(Bs(e));return pe(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=Sl.ProjectivePoint.fromHex(Jf.computePublicKey(e).substring(2)),i=Sl.ProjectivePoint.fromHex(Jf.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};fu=new WeakMap;let bw=Jf;const aRe=BigInt(0),cRe=BigInt(36);function XU(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=Ot(gn(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const B3={};for(let t=0;t<10;t++)B3[String(t)]=String(t);for(let t=0;t<26;t++)B3[String.fromCharCode(65+t)]=String(10+t);const eL=15;function uRe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>B3[n]).join("");for(;e.length>=eL;){let n=e.substring(0,eL);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const lRe=(function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function dRe(t){t=t.toLowerCase();let e=aRe;for(let r=0;r<t.length;r++)e=e*cRe+lRe[t[r]];return e}function or(t){if(pe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=XU(t);return pe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pe(t.substring(2,4)===uRe(t),"bad icap checksum","address",t);let e=dRe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return XU("0x"+e)}pe(!1,"invalid address","address",t)}function fRe(t){const e=or(t.from);let n=Ye(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,or(Qr(gn(Pd([e,n])),12))}function _ee(t){return t&&typeof t.getAddress=="function"}async function U5(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Pe(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),pe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),or(r)}function Ds(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?or(t):(Pe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),U5(t,e.resolveName(t)));if(_ee(t))return U5(t,t.getAddress());if(t&&typeof t.then=="function")return U5(t,t);pe(!1,"unsupported addressable value","target",t)}const nu={};function Ke(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new ws(nu,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Xt(t,e){return new ws(nu,`bytes${e||""}`,t,{size:e})}const tL=Symbol.for("_ethers_typed");var Ch;const su=class su{constructor(e,r,n,s){be(this,"type");be(this,"value");ve(this,Ch);be(this,"_typedSymbol");s==null&&(s=null),uE(nu,e,"Typed"),ct(this,{_typedSymbol:tL,type:r,value:n}),se(this,Ch,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return G(this,Ch)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return G(this,Ch)===!0?-1:G(this,Ch)===!1?this.value.length:null}static from(e,r){return new su(nu,e,r)}static uint8(e){return Ke(e,8)}static uint16(e){return Ke(e,16)}static uint24(e){return Ke(e,24)}static uint32(e){return Ke(e,32)}static uint40(e){return Ke(e,40)}static uint48(e){return Ke(e,48)}static uint56(e){return Ke(e,56)}static uint64(e){return Ke(e,64)}static uint72(e){return Ke(e,72)}static uint80(e){return Ke(e,80)}static uint88(e){return Ke(e,88)}static uint96(e){return Ke(e,96)}static uint104(e){return Ke(e,104)}static uint112(e){return Ke(e,112)}static uint120(e){return Ke(e,120)}static uint128(e){return Ke(e,128)}static uint136(e){return Ke(e,136)}static uint144(e){return Ke(e,144)}static uint152(e){return Ke(e,152)}static uint160(e){return Ke(e,160)}static uint168(e){return Ke(e,168)}static uint176(e){return Ke(e,176)}static uint184(e){return Ke(e,184)}static uint192(e){return Ke(e,192)}static uint200(e){return Ke(e,200)}static uint208(e){return Ke(e,208)}static uint216(e){return Ke(e,216)}static uint224(e){return Ke(e,224)}static uint232(e){return Ke(e,232)}static uint240(e){return Ke(e,240)}static uint248(e){return Ke(e,248)}static uint256(e){return Ke(e,256)}static uint(e){return Ke(e,256)}static int8(e){return Ke(e,-8)}static int16(e){return Ke(e,-16)}static int24(e){return Ke(e,-24)}static int32(e){return Ke(e,-32)}static int40(e){return Ke(e,-40)}static int48(e){return Ke(e,-48)}static int56(e){return Ke(e,-56)}static int64(e){return Ke(e,-64)}static int72(e){return Ke(e,-72)}static int80(e){return Ke(e,-80)}static int88(e){return Ke(e,-88)}static int96(e){return Ke(e,-96)}static int104(e){return Ke(e,-104)}static int112(e){return Ke(e,-112)}static int120(e){return Ke(e,-120)}static int128(e){return Ke(e,-128)}static int136(e){return Ke(e,-136)}static int144(e){return Ke(e,-144)}static int152(e){return Ke(e,-152)}static int160(e){return Ke(e,-160)}static int168(e){return Ke(e,-168)}static int176(e){return Ke(e,-176)}static int184(e){return Ke(e,-184)}static int192(e){return Ke(e,-192)}static int200(e){return Ke(e,-200)}static int208(e){return Ke(e,-208)}static int216(e){return Ke(e,-216)}static int224(e){return Ke(e,-224)}static int232(e){return Ke(e,-232)}static int240(e){return Ke(e,-240)}static int248(e){return Ke(e,-248)}static int256(e){return Ke(e,-256)}static int(e){return Ke(e,-256)}static bytes1(e){return Xt(e,1)}static bytes2(e){return Xt(e,2)}static bytes3(e){return Xt(e,3)}static bytes4(e){return Xt(e,4)}static bytes5(e){return Xt(e,5)}static bytes6(e){return Xt(e,6)}static bytes7(e){return Xt(e,7)}static bytes8(e){return Xt(e,8)}static bytes9(e){return Xt(e,9)}static bytes10(e){return Xt(e,10)}static bytes11(e){return Xt(e,11)}static bytes12(e){return Xt(e,12)}static bytes13(e){return Xt(e,13)}static bytes14(e){return Xt(e,14)}static bytes15(e){return Xt(e,15)}static bytes16(e){return Xt(e,16)}static bytes17(e){return Xt(e,17)}static bytes18(e){return Xt(e,18)}static bytes19(e){return Xt(e,19)}static bytes20(e){return Xt(e,20)}static bytes21(e){return Xt(e,21)}static bytes22(e){return Xt(e,22)}static bytes23(e){return Xt(e,23)}static bytes24(e){return Xt(e,24)}static bytes25(e){return Xt(e,25)}static bytes26(e){return Xt(e,26)}static bytes27(e){return Xt(e,27)}static bytes28(e){return Xt(e,28)}static bytes29(e){return Xt(e,29)}static bytes30(e){return Xt(e,30)}static bytes31(e){return Xt(e,31)}static bytes32(e){return Xt(e,32)}static address(e){return new su(nu,"address",e)}static bool(e){return new su(nu,"bool",!!e)}static bytes(e){return new su(nu,"bytes",e)}static string(e){return new su(nu,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new su(nu,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===tL}static dereference(e,r){if(su.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};Ch=new WeakMap;let ws=su;class hRe extends $u{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=ws.dereference(r,"string");try{n=or(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return or(Td(e.readValue(),20))}}class pRe extends $u{constructor(r){super(r.name,r.type,"_",r.dynamic);be(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function Aee(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{const l=u.localName;return Pe(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),Pe(!c[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),c[l]=!0,r[l]})}else pe(!1,"invalid tuple value","tuple",r);pe(e.length===n.length,"types/value length mismatch","tuple",r);let s=new gN,i=new gN,o=[];e.forEach((c,u)=>{let l=n[u];if(c.dynamic){let d=i.length;c.encode(i,l);let f=s.writeUpdatableValue();o.push(h=>{f(h+d)})}else c.encode(s,l)}),o.forEach(c=>{c(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function Cee(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(u){if(Vn(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Vn(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");r.push(o),n.push(i.localName||null)}),ng.fromItems(r,n)}class mRe extends $u{constructor(r,n,s){const i=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",i,s,o);be(this,"coder");be(this,"length");ct(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){const s=ws.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),RX(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return Aee(r,o,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),Pe(n*js<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*js,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new pRe(this.coder));return Cee(r,s)}}class gRe extends $u{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=ws.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class See extends $u{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Bs(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class yRe extends See{constructor(e){super("bytes",e)}decode(e){return Fe(super.decode(e))}}class bRe extends $u{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);be(this,"size");ct(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=Bs(ws.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return Fe(r.readBytes(this.size))}}const wRe=new Uint8Array([]);class ERe extends $u{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(wRe)}decode(e){return e.readBytes(0),null}}const vRe=BigInt(0),_Re=BigInt(1),ARe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class CRe extends $u{constructor(r,n,s){const i=(n?"int":"uint")+r*8;super(i,i,s,!1);be(this,"size");be(this,"signed");ct(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=Ye(ws.dereference(n,this.type)),i=ch(ARe,js*8);if(this.signed){let o=ch(i,this.size*8-1);(s>o||s<-(o+_Re))&&this._throwError("value out-of-bounds",n),s=kX(s,8*js)}else(s<vRe||s>ch(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=ch(r.readValue(),this.size*8);return this.signed&&(n=KI(n,this.size*8)),n}}class SRe extends See{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,lc(ws.dereference(r,"string")))}decode(e){return ZI(super.decode(e))}}class $v extends $u{constructor(r,n){let s=!1;const i=[];r.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,s);be(this,"coders");ct(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[i]))}),Object.freeze(r)}encode(r,n){const s=ws.dereference(n,"tuple");return Aee(r,this.coders,s)}decode(r){return Cee(r,this.coders)}}function L5(t,e){return{address:or(t),storageKeys:e.map((r,n)=>(pe(Ar(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Ep(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(pe(r.length===2,"invalid slot set",`value[${n}]`,r),L5(r[0],r[1])):(pe(r!=null&&typeof r=="object","invalid address-slot set","value",t),L5(r.address,r.storageKeys)));pe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return L5(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Iee(t){return{address:or(t.address),nonce:Ye(t.nonce!=null?t.nonce:0),chainId:Ye(t.chainId!=null?t.chainId:0),signature:Co.from(t.signature)}}function IRe(t){let e;return typeof t=="string"?e=bw.computePublicKey(t,!1):e=t.publicKey,or(gn("0x"+e.substring(4)).substring(26))}function TRe(t,e){return IRe(bw.recoverPublicKey(t,e))}const On=BigInt(0),PRe=BigInt(2),xRe=BigInt(27),ORe=BigInt(28),RRe=BigInt(35),NRe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),F5=4096*32;function BRe(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ot(t.blobToKzgCommitment(Fe(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ot(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Ot(t.blobToKZGCommitment(Fe(n)));pe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Ot(t.computeBlobProof(Fe(n),Fe(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Ot(t.computeBlobKZGProof(Fe(n),Fe(s)));pe(!1,"unsupported KZG library","kzg",t)}}}function rL(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Sg(e).substring(4),"0x"+r}function Ig(t){return t==="0x"?null:or(t)}function CP(t,e){try{return Ep(t)}catch(r){pe(!1,r.message,e,t)}}function kRe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const s=t[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);r.push({address:Ig(s[1]),nonce:gr(s[2],"nonce"),chainId:gr(s[0],"chainId"),signature:Co.from({yParity:vp(s[3],"yParity"),r:Lu(s[4],32),s:Lu(s[5],32)})})}return r}catch(r){pe(!1,r.message,e,t)}}function vp(t,e){return t==="0x"?0:_t(t,e)}function gr(t,e){if(t==="0x")return On;const r=Ye(t,e);return pe(r<=NRe,"value exceeds uint size",e,r),r}function Ft(t,e){const r=Ye(t,"value"),n=An(r);return pe(n.length<=32,"value too large",`tx.${e}`,r),n}function SP(t){return Ep(t).map(e=>[e.address,e.storageKeys])}function jRe(t){return t.map(e=>[Ft(e.chainId,"chainId"),e.address,Ft(e.nonce,"nonce"),Ft(e.signature.yParity,"yParity"),An(e.signature.r),An(e.signature.s)])}function DRe(t,e){pe(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)pe(Ar(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function MRe(t){const e=lE(t);pe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:vp(e[0],"nonce"),gasPrice:gr(e[1],"gasPrice"),gasLimit:gr(e[2],"gasLimit"),to:Ig(e[3]),value:gr(e[4],"value"),data:Fe(e[5]),chainId:On};if(e.length===6)return r;const n=gr(e[6],"v"),s=gr(e[7],"r"),i=gr(e[8],"s");if(s===On&&i===On)r.chainId=n;else{let o=(n-RRe)/PRe;o<On&&(o=On),r.chainId=o,pe(o!==On||n===xRe||n===ORe,"non-canonical legacy v","v",e[6]),r.signature=Co.from({r:Lu(e[7],32),s:Lu(e[8],32),v:n})}return r}function URe(t,e){const r=[Ft(t.nonce,"nonce"),Ft(t.gasPrice||0,"gasPrice"),Ft(t.gasLimit,"gasLimit"),t.to||"0x",Ft(t.value,"value"),t.data];let n=On;if(t.chainId!=On)n=Ye(t.chainId,"tx.chainId"),pe(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==On&&(r.push(An(n)),r.push("0x"),r.push("0x")),Pd(r);let s=BigInt(27+e.yParity);return n!==On?s=Co.getChainIdV(n,e.v):BigInt(e.v)!==s&&pe(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(An(s)),r.push(An(e.r)),r.push(An(e.s)),Pd(r)}function IP(t,e){let r;try{if(r=vp(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{pe(!1,"invalid yParity","yParity",e[0])}const n=Lu(e[1],32),s=Lu(e[2],32),i=Co.from({r:n,s,yParity:r});t.signature=i}function LRe(t){const e=lE(Ot(t).slice(1));pe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Fe(t));const r={type:2,chainId:gr(e[0],"chainId"),nonce:vp(e[1],"nonce"),maxPriorityFeePerGas:gr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gr(e[4],"gasLimit"),to:Ig(e[5]),value:gr(e[6],"value"),data:Fe(e[7]),accessList:CP(e[8],"accessList")};return e.length===9||IP(r,e.slice(9)),r}function FRe(t,e){const r=[Ft(t.chainId,"chainId"),Ft(t.nonce,"nonce"),Ft(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ft(t.maxFeePerGas||0,"maxFeePerGas"),Ft(t.gasLimit,"gasLimit"),t.to||"0x",Ft(t.value,"value"),t.data,SP(t.accessList||[])];return e&&(r.push(Ft(e.yParity,"yParity")),r.push(An(e.r)),r.push(An(e.s))),en(["0x02",Pd(r)])}function HRe(t){const e=lE(Ot(t).slice(1));pe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Fe(t));const r={type:1,chainId:gr(e[0],"chainId"),nonce:vp(e[1],"nonce"),gasPrice:gr(e[2],"gasPrice"),gasLimit:gr(e[3],"gasLimit"),to:Ig(e[4]),value:gr(e[5],"value"),data:Fe(e[6]),accessList:CP(e[7],"accessList")};return e.length===8||IP(r,e.slice(8)),r}function qRe(t,e){const r=[Ft(t.chainId,"chainId"),Ft(t.nonce,"nonce"),Ft(t.gasPrice||0,"gasPrice"),Ft(t.gasLimit,"gasLimit"),t.to||"0x",Ft(t.value,"value"),t.data,SP(t.accessList||[])];return e&&(r.push(Ft(e.yParity,"recoveryParam")),r.push(An(e.r)),r.push(An(e.s))),en(["0x01",Pd(r)])}function zRe(t){let e=lE(Ot(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const i=e[1],o=e[2],a=e[3];pe(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),pe(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),pe(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),pe(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),pe(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}pe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",Fe(t));const s={type:3,chainId:gr(e[0],"chainId"),nonce:vp(e[1],"nonce"),maxPriorityFeePerGas:gr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gr(e[4],"gasLimit"),to:Ig(e[5]),value:gr(e[6],"value"),data:Fe(e[7]),accessList:CP(e[8],"accessList"),maxFeePerBlobGas:gr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),pe(s.to!=null,`invalid address for transaction type: ${r}`,"data",t),pe(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)pe(Ar(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||IP(s,e.slice(11)),s}function $Re(t,e,r){const n=[Ft(t.chainId,"chainId"),Ft(t.nonce,"nonce"),Ft(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ft(t.maxFeePerGas||0,"maxFeePerGas"),Ft(t.gasLimit,"gasLimit"),t.to||yw,Ft(t.value,"value"),t.data,SP(t.accessList||[]),Ft(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),DRe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Ft(e.yParity,"yParity")),n.push(An(e.r)),n.push(An(e.s)),r)?en(["0x03",Pd([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])]):en(["0x03",Pd(n)])}function VRe(t){const e=lE(Ot(t).slice(1));pe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Fe(t));const r={type:4,chainId:gr(e[0],"chainId"),nonce:vp(e[1],"nonce"),maxPriorityFeePerGas:gr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gr(e[4],"gasLimit"),to:Ig(e[5]),value:gr(e[6],"value"),data:Fe(e[7]),accessList:CP(e[8],"accessList"),authorizationList:kRe(e[9],"authorizationList")};return e.length===10||IP(r,e.slice(10)),r}function GRe(t,e){const r=[Ft(t.chainId,"chainId"),Ft(t.nonce,"nonce"),Ft(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ft(t.maxFeePerGas||0,"maxFeePerGas"),Ft(t.gasLimit,"gasLimit"),t.to||"0x",Ft(t.value,"value"),t.data,SP(t.accessList||[]),jRe(t.authorizationList||[])];return e&&(r.push(Ft(e.yParity,"yParity")),r.push(An(e.r)),r.push(An(e.s))),en(["0x04",Pd(r)])}var Wo,pm,mm,gm,ym,bm,wm,Em,vm,_m,Am,Cm,Sh,$l,Ha,Vl,Sm,Im,MS;const Ua=class Ua{constructor(){ve(this,Im);ve(this,Wo);ve(this,pm);ve(this,mm);ve(this,gm);ve(this,ym);ve(this,bm);ve(this,wm);ve(this,Em);ve(this,vm);ve(this,_m);ve(this,Am);ve(this,Cm);ve(this,Sh);ve(this,$l);ve(this,Ha);ve(this,Vl);ve(this,Sm);se(this,Wo,null),se(this,pm,null),se(this,gm,0),se(this,ym,On),se(this,bm,null),se(this,wm,null),se(this,Em,null),se(this,mm,"0x"),se(this,vm,On),se(this,_m,On),se(this,Am,null),se(this,Cm,null),se(this,Sh,null),se(this,$l,null),se(this,Ha,null),se(this,Vl,null),se(this,Sm,null)}get type(){return G(this,Wo)}set type(e){switch(e){case null:se(this,Wo,null);break;case 0:case"legacy":se(this,Wo,0);break;case 1:case"berlin":case"eip-2930":se(this,Wo,1);break;case 2:case"london":case"eip-1559":se(this,Wo,2);break;case 3:case"cancun":case"eip-4844":se(this,Wo,3);break;case 4:case"pectra":case"eip-7702":se(this,Wo,4);break;default:pe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=G(this,pm);return e==null&&this.type===3?yw:e}set to(e){se(this,pm,e==null?null:or(e))}get nonce(){return G(this,gm)}set nonce(e){se(this,gm,_t(e,"value"))}get gasLimit(){return G(this,ym)}set gasLimit(e){se(this,ym,Ye(e))}get gasPrice(){const e=G(this,bm);return e==null&&(this.type===0||this.type===1)?On:e}set gasPrice(e){se(this,bm,e==null?null:Ye(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=G(this,wm);return e??(this.type===2||this.type===3?On:null)}set maxPriorityFeePerGas(e){se(this,wm,e==null?null:Ye(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=G(this,Em);return e??(this.type===2||this.type===3?On:null)}set maxFeePerGas(e){se(this,Em,e==null?null:Ye(e,"maxFeePerGas"))}get data(){return G(this,mm)}set data(e){se(this,mm,Fe(e))}get value(){return G(this,vm)}set value(e){se(this,vm,Ye(e,"value"))}get chainId(){return G(this,_m)}set chainId(e){se(this,_m,Ye(e))}get signature(){return G(this,Am)||null}set signature(e){se(this,Am,e==null?null:Co.from(e))}get accessList(){const e=G(this,Cm)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){se(this,Cm,e==null?null:Ep(e))}get authorizationList(){const e=G(this,Sm)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){se(this,Sm,e==null?null:e.map(r=>Iee(r)))}get maxFeePerBlobGas(){const e=G(this,Sh);return e==null&&this.type===3?On:e}set maxFeePerBlobGas(e){se(this,Sh,e==null?null:Ye(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=G(this,$l);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){pe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)pe(Ar(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}se(this,$l,e)}get blobs(){return G(this,Vl)==null?null:G(this,Vl).map(e=>Object.assign({},e))}set blobs(e){if(e==null){se(this,Vl,null);return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(C3(i)){Pe(G(this,Ha),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Ot(i);if(pe(o.length<=F5,"blob is too large",`blobs[${s}]`,i),o.length!==F5){const u=new Uint8Array(F5);u.set(o),o=u}const a=G(this,Ha).blobToKzgCommitment(o),c=Fe(G(this,Ha).computeBlobKzgProof(o,a));r.push({data:Fe(o),commitment:Fe(a),proof:c}),n.push(rL(1,a))}else{const o=Fe(i.commitment);r.push({data:Fe(i.data),commitment:o,proof:Fe(i.proof)}),n.push(rL(1,o))}}se(this,Vl,r),se(this,$l,n)}get kzg(){return G(this,Ha)}set kzg(e){e==null?se(this,Ha,null):se(this,Ha,BRe(e))}get hash(){return this.signature==null?null:gn(Re(this,Im,MS).call(this,!0,!1))}get unsignedHash(){return gn(this.unsignedSerialized)}get from(){return this.signature==null?null:TRe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:bw.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Re(this,Im,MS).call(this,!0,!0)}get unsignedSerialized(){return Re(this,Im,MS).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=G(this,Sh)!=null||G(this,$l);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Pe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Pe(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Pe(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ua.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ua;if(typeof e=="string"){const n=Ot(e);if(n[0]>=127)return Ua.from(MRe(n));switch(n[0]){case 1:return Ua.from(HRe(n));case 2:return Ua.from(LRe(n));case 3:return Ua.from(zRe(n));case 4:return Ua.from(VRe(n))}Pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new Ua;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Co.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(pe(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),pe(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(pe(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),pe(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};Wo=new WeakMap,pm=new WeakMap,mm=new WeakMap,gm=new WeakMap,ym=new WeakMap,bm=new WeakMap,wm=new WeakMap,Em=new WeakMap,vm=new WeakMap,_m=new WeakMap,Am=new WeakMap,Cm=new WeakMap,Sh=new WeakMap,$l=new WeakMap,Ha=new WeakMap,Vl=new WeakMap,Sm=new WeakMap,Im=new WeakSet,MS=function(e,r){Pe(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return URe(this,n);case 1:return qRe(this,n);case 2:return FRe(this,n);case 3:return $Re(this,n,r?this.blobs:null);case 4:return GRe(this,n)}Pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let QI=Ua;function rp(t){return gn(lc(t))}var WRe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const nL=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),sL=4;function KRe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let v=1;v<n;v++)i.push(s+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let v=0;v<d;v++)y=y<<1|l();let E=[],w=0,b=f;for(;;){let v=Math.floor(((y-w+1)*s-1)/b),A=0,C=n;for(;C-A>1;){let N=A+C>>>1;v<i[N]?C=N:A=N}if(A==0)break;E.push(A);let x=w+Math.floor(b*i[A]/s),T=w+Math.floor(b*i[A+1]/s)-1;for(;((x^T)&h)==0;)y=y<<1&m|l(),x=x<<1&m,T=T<<1&m|1;for(;x&~T&p;)y=y&h|y<<1&m>>>1|l(),x=x<<1^h,T=(T^h)<<1|h|1;w=x,b=1+T-x}let g=n-4;return E.map(v=>{switch(v-g){case 3:return g+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return g+256+(t[a++]<<8|t[a++]);case 1:return g+t[a++];default:return v-1}})}function ZRe(t){let e=0;return()=>t[e++]}function Tee(t){return ZRe(KRe(YRe(t)))}function YRe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,o=0,a=0;s<r;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function JRe(t){return t&1?~t>>1:t>>1}function QRe(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=JRe(e());return r}function ww(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function Pee(t){return Ew(()=>{let e=ww(t);if(e.length)return e})}function xee(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(XRe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(eNe(r,t))}return e.flat()}function Ew(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Oee(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)QRe(t,r).forEach((i,o)=>n[o].push(i));return n}function XRe(t,e){let r=1+e(),n=e(),s=Ew(e);return Oee(s.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(s[a]).fill().map((l,d)=>{let f=d*n;return[c+d*r,u.map(h=>h+f)]})})}function eNe(t,e){let r=1+e();return Oee(r,1+t,e).map(s=>[s[0],s.slice(1)])}function tNe(t){let e=[],r=ww(t);return s(n([]),[]),e;function n(i){let o=t(),a=Ew(()=>{let c=ww(t).map(u=>r[u]);if(c.length)return n(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let u of o)for(let l of u.Q)s(u,[...a,l],c)}}}function rNe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Ree(t){return`{${rNe(t)}}`}function nNe(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function cg(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function sNe(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var iNe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const vw=44032,XI=4352,eT=4449,tT=4519,Nee=19,Bee=21,ug=28,rT=Bee*ug,oNe=Nee*rT,aNe=vw+oNe,cNe=XI+Nee,uNe=eT+Bee,lNe=tT+ug;function Lb(t){return t>>24&255}function kee(t){return t&16777215}let CN,iL,SN,US;function dNe(){let t=Tee(iNe);CN=new Map(Pee(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),iL=new Set(ww(t)),SN=new Map,US=new Map;for(let[e,r]of xee(t)){if(!iL.has(e)&&r.length==2){let[n,s]=r,i=US.get(n);i||(i=new Map,US.set(n,i)),i.set(s,e)}SN.set(e,r.reverse())}}function jee(t){return t>=vw&&t<aNe}function fNe(t,e){if(t>=XI&&t<cNe&&e>=eT&&e<uNe)return vw+(t-XI)*rT+(e-eT)*ug;if(jee(t)&&e>tT&&e<lNe&&(t-vw)%ug==0)return t+(e-tT);{let r=US.get(t);return r&&(r=r.get(e),r)?r:-1}}function Dee(t){CN||dNe();let e=[],r=[],n=!1;function s(i){let o=CN.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(jee(i)){let o=i-vw,a=o/rT|0,c=o%rT/ug|0,u=o%ug;s(XI+a),s(eT+c),u>0&&s(tT+u)}else{let o=SN.get(i);o?r.push(...o):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=Lb(e[0]);for(let o=1;o<e.length;o++){let a=Lb(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(i=Lb(e[--c]),i<=a))break}i=Lb(e[o])}}return e}function hNe(t){let e=[],r=[],n=-1,s=0;for(let i of t){let o=Lb(i),a=kee(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),s=o;else{let c=fNe(n,a);c>=0?n=c:s==0&&o==0?(e.push(n),n=a):(r.push(a),s=o)}}return n>=0&&e.push(n,...r),e}function Mee(t){return Dee(t).map(kee)}function pNe(t){return hNe(Dee(t))}const oL=45,Uee=".",Lee=65039,Fee=1,nT=t=>Array.from(t);function _w(t,e){return t.P.has(e)||t.Q.has(e)}class mNe extends Array{get is_emoji(){return!0}}let IN,Hee,lh,TN,qee,X0,H5,C0,Ff,aL,PN;function k3(){if(IN)return;let t=Tee(WRe);const e=()=>ww(t),r=()=>new Set(e()),n=(l,d)=>d.forEach(f=>l.add(f));IN=new Map(xee(t)),Hee=r(),lh=e(),TN=new Set(e().map(l=>lh[l])),lh=new Set(lh),qee=r(),r();let s=Pee(t),i=t();const o=()=>{let l=new Set;return e().forEach(d=>n(l,s[d])),n(l,e()),l};X0=Ew(l=>{let d=Ew(t).map(f=>f+96);if(d.length){let f=l>=i;d[0]-=32,d=cg(d),f&&(d=`Restricted[${d}]`);let h=o(),p=o(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),H5=r(),C0=new Map;let a=e().concat(nT(H5)).sort((l,d)=>l-d);a.forEach((l,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(l),H5.has(l)||C0.set(l,h)});for(let{V:l,M:d}of new Set(C0.values())){let f=[];for(let p of l){let m=X0.filter(E=>_w(E,p)),y=f.find(({G:E})=>m.some(w=>E.has(w)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),n(y.G,m)}let h=f.flatMap(p=>nT(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(E=>!p.has(E)));for(let E of m)d.set(E,y)}}Ff=new Set;let c=new Set;const u=l=>Ff.has(l)?c.add(l):Ff.add(l);for(let l of X0){for(let d of l.P)u(d);for(let d of l.Q)u(d)}for(let l of Ff)!C0.has(l)&&!c.has(l)&&C0.set(l,Fee);n(Ff,Mee(Ff)),aL=tNe(t).map(l=>mNe.from(l)).sort(sNe),PN=new Map;for(let l of aL){let d=[PN];for(let f of l){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===Lee?d.push(...h):d=h}for(let f of d)f.V=l}}function j3(t){return(zee(t)?"":`${D3(TP([t]))} `)+Ree(t)}function D3(t){return`"${t}"`}function gNe(t){if(t.length>=4&&t[2]==oL&&t[3]==oL)throw new Error(`invalid label extension: "${cg(t.slice(0,4))}"`)}function yNe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function bNe(t){let e=t[0],r=nL.get(e);if(r)throw c1(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let o=nL.get(e);if(o){if(s==i)throw c1(`${r} + ${o}`);s=i+1,r=o}}if(s==n)throw c1(`trailing ${r}`)}function TP(t,e=1/0,r=Ree){let n=[];wNe(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];zee(a)&&(n.push(cg(t.slice(s,o))),n.push(r(a)),s=o+1)}return n.push(cg(t.slice(s,i))),n.join("")}function wNe(t){return k3(),lh.has(t)}function zee(t){return k3(),qee.has(t)}function ENe(t){return CNe(vNe(t,pNe,TNe))}function vNe(t,e,r){if(!t)return[];k3();let n=0;return t.split(Uee).map(s=>{let i=nNe(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=INe(i,e,r),c=a.length,u;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(yNe(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(f=>f<128))gNe(l),u="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)u="Emoji";else{if(lh.has(l[0]))throw c1("leading combining mark");for(let m=1;m<c;m++){let y=a[m];if(!y.is_emoji&&lh.has(y[0]))throw c1(`emoji + combining mark: "${cg(a[m-1])} + ${TP([y[0]])}"`)}bNe(l);let h=nT(new Set(f)),[p]=ANe(h);SNe(p,f),_Ne(p,h),u=p.N}}o.type=u}catch(a){o.error=a}return o})}function _Ne(t,e){let r,n=[];for(let s of e){let i=C0.get(s);if(i===Fee)return;if(i){let o=i.M.get(s);if(r=r?r.filter(a=>o.has(a)):nT(o),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>_w(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function ANe(t){let e=X0;for(let r of t){let n=e.filter(s=>_w(s,r));if(!n.length)throw X0.some(s=>_w(s,r))?Vee(e[0],r):$ee(r);if(e=n,n.length==1)break}return e}function CNe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${D3(TP(e,63))}: ${s}`)}return cg(n)}).join(Uee)}function $ee(t){return new Error(`disallowed character: ${j3(t)}`)}function Vee(t,e){let r=j3(e),n=X0.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function c1(t){return new Error(`illegal placement: ${t}`)}function SNe(t,e){for(let r of e)if(!_w(t,r))throw Vee(t,r);if(t.M){let r=Mee(e);for(let n=1,s=r.length;n<s;n++)if(TN.has(r[n])){let i=n+1;for(let o;i<s&&TN.has(o=r[i]);i++)for(let a=n;a<i;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${j3(o)}`);if(i-n>sL)throw new Error(`excessive non-spacing marks: ${D3(TP(r.slice(n-1,i)))} (${i-n}/${sL})`);n=i}}}function INe(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=PNe(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let o=t.pop();if(Ff.has(o))s.push(o);else{let a=IN.get(o);if(a)s.push(...a);else if(!Hee.has(o))throw $ee(o)}}}return s.length&&n.push(e(s)),n}function TNe(t){return t.filter(e=>e!=Lee)}function PNe(t,e){let r=PN,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const Gee=new Uint8Array(32);Gee.fill(0);function cL(t){return pe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Wee(t){const e=lc(xNe(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(cL(e.slice(n,s))),n=s+1);return pe(n<e.length,"invalid ENS name; empty component","name",t),r.push(cL(e.slice(n))),r}function xNe(t){try{if(t.length===0)throw new Error("empty label");return ENe(t)}catch(e){pe(!1,`invalid ENS name (${e.message})`,"name",t)}}function xN(t){pe(typeof t=="string","invalid ENS name; not a string","name",t),pe(t.length,"invalid ENS name (empty label)","name",t);let e=Gee;const r=Wee(t);for(;r.length;)e=gn(en([e,gn(r.pop())]));return Fe(e)}function ONe(t,e){const r=e;return pe(r<=255,"DNS encoded label cannot exceed 255","length",r),Fe(en(Wee(t).map(n=>{pe(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}const Kee=new Uint8Array(32);Kee.fill(0);const RNe=BigInt(-1),Zee=BigInt(0),Yee=BigInt(1),NNe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function BNe(t){const e=Ot(t),r=e.length%32;return r?en([e,Kee.slice(r)]):Fe(e)}const kNe=Td(Yee,32),jNe=Td(Zee,32),uL={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},q5=["name","version","chainId","verifyingContract","salt"];function lL(t){return function(e){return pe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const DNe={name:lL("name"),version:lL("version"),chainId:function(t){const e=Ye(t,"domain.chainId");return pe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Qo(e)},verifyingContract:function(t){try{return or(t).toLowerCase()}catch{}pe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Ot(t,"domain.salt");return pe(e.length===32,'invalid domain value "salt"',"domain.salt",t),Fe(e)}};function z5(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);pe(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=ch(NNe,r?n-1:n),i=r?(s+Yee)*RNe:Zee;return function(o){const a=Ye(o,"value");return pe(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),Td(r?kX(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return pe(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=Ot(n);return pe(s.length===r,`invalid length for ${t}`,"value",n),BNe(n)}}}switch(t){case"address":return function(e){return Lu(or(e),32)};case"bool":return function(e){return e?kNe:jNe};case"bytes":return function(e){return gn(e)};case"string":return function(e){return rp(e)}}return null}function dL(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function Vv(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Bw,hu,Tm,bT,Jee;const ho=class ho{constructor(e){ve(this,bT);be(this,"primaryType");ve(this,Bw);ve(this,hu);ve(this,Tm);se(this,hu,new Map),se(this,Tm,new Map);const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:u,type:l})=>{let{base:d,index:f}=Vv(l);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:u,type:d+(f||"")}}),r.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),se(this,Bw,JSON.stringify(i));for(const c in i){const u=new Set;for(const l of i[c]){pe(!u.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(c)}`,"types",e),u.add(l.name);const d=Vv(l.type).base;pe(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!z5(d)&&(pe(n.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),n.get(d).push(c),r.get(c).add(d))}}const o=Array.from(n.keys()).filter(c=>n.get(c).length===0);pe(o.length!==0,"missing primary type","types",e),pe(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),ct(this,{primaryType:o[0]});function a(c,u){pe(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const l of r.get(c))if(n.has(l)){a(l,u);for(const d of u)s.get(d).add(l)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of s){const l=Array.from(u);l.sort(),G(this,hu).set(c,dL(c,i[c])+l.map(d=>dL(d,i[d])).join(""))}}get types(){return JSON.parse(G(this,Bw))}getEncoder(e){let r=G(this,Tm).get(e);return r||(r=Re(this,bT,Jee).call(this,e),G(this,Tm).set(e,r)),r}encodeType(e){const r=G(this,hu).get(e);return pe(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return gn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(z5(e))return n(e,r);const s=Vv(e).array;if(s)return pe(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(o=>this._visit(s.prefix,o,n));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{});pe(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new ho(e)}static getPrimaryType(e){return ho.from(e).primaryType}static hashStruct(e,r,n){return ho.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=uL[n];pe(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>q5.indexOf(n.name)-q5.indexOf(s.name)),ho.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return en(["0x1901",ho.hashDomain(e),ho.from(r).hash(n)])}static hash(e,r,n){return gn(ho.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!Ar(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=ho.from(r);o.visit(n,(a,c)=>(a==="address"&&!Ar(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){ho.hashDomain(e);const s={},i=[];q5.forEach(c=>{const u=e[c];u!=null&&(s[c]=DNe[c](u),i.push({name:c,type:uL[c]}))});const o=ho.from(r);r=o.types;const a=Object.assign({},r);return pe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return Fe(Ot(u));if(c.match(/^u?int/))return Ye(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return pe(typeof u=="string","invalid string","value",u),u}pe(!1,"unsupported type","type",c)})}}};Bw=new WeakMap,hu=new WeakMap,Tm=new WeakMap,bT=new WeakSet,Jee=function(e){{const s=z5(e);if(s)return s}const r=Vv(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return o=>{pe(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(i);return G(this,hu).has(s)&&(a=a.map(gn)),gn(en(a))}}const n=this.types[e];if(n){const s=rp(G(this,hu).get(e));return i=>{const o=n.map(({name:a,type:c})=>{const u=this.getEncoder(c)(i[a]);return G(this,hu).has(c)?gn(u):u});return o.unshift(s),en(o)}}pe(!1,`unknown type: ${e}`,"type",e)};let sT=ho;function Ms(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const MNe="external public payable override",UNe=Ms(MNe.split(" ")),Qee="constant external internal payable private public pure view override",LNe=Ms(Qee.split(" ")),Xee="constructor error event fallback function receive struct",ete=Ms(Xee.split(" ")),tte="calldata memory storage payable indexed",FNe=Ms(tte.split(" ")),HNe="tuple returns",qNe=[Xee,tte,HNe,Qee].join(" "),zNe=Ms(qNe.split(" ")),$Ne={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},VNe=new RegExp("^(\\s*)"),GNe=new RegExp("^([0-9]+)"),WNe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),rte=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),nte=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var zn,Ko,kw,ON;const wT=class wT{constructor(e){ve(this,kw);ve(this,zn);ve(this,Ko);se(this,zn,0),se(this,Ko,e.slice())}get offset(){return G(this,zn)}get length(){return G(this,Ko).length-G(this,zn)}clone(){return new wT(G(this,Ko))}reset(){se(this,zn,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=Re(this,kw,ON).call(this,G(this,zn)+1,e.match+1);return se(this,zn,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;G(this,zn)<e.match-1;){const n=this.peek().linkNext;r.push(Re(this,kw,ON).call(this,G(this,zn)+1,n)),se(this,zn,n)}return se(this,zn,e.match+1),r}peek(){if(G(this,zn)>=G(this,Ko).length)throw new Error("out-of-bounds");return G(this,Ko)[G(this,zn)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return $g(this,zn)._++,e}toString(){const e=[];for(let r=G(this,zn);r<G(this,Ko).length;r++){const n=G(this,Ko)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};zn=new WeakMap,Ko=new WeakMap,kw=new WeakSet,ON=function(e=0,r=0){return new wT(G(this,Ko).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let fa=wT;function jd(t){const e=[],r=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let n=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(VNe);a&&(i+=a[1].length,o=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let u=$Ne[o[0]]||"";if(u){if(c.type=u,c.text=o[0],i++,u==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let l=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;l=d+l,e[e.length-1].value=_t(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=l}continue}if(a=o.match(WNe),a){if(c.text=a[1],i+=c.text.length,zNe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(nte)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(GNe),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new fa(e.map(o=>Object.freeze(o)))}function fL(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function PP(t,e){if(e.peekKeyword(ete)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Hu(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function ste(t){let e=Hu(t,LNe);return fL(e,Ms("constant payable nonpayable".split(" "))),fL(e,Ms("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ru(t,e){return t.popParams().map(r=>Wn.from(r,e))}function ite(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ye(t.pop().text);throw new Error("invalid gas")}return null}function np(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const KNe=new RegExp(/^(.*)\[([0-9]*)\]$/);function hL(t){const e=t.match(nte);if(pe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);pe(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);pe(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const Vr={},yi=Symbol.for("_ethers_internal"),pL="_ParamTypeInternal",mL="_ErrorInternal",gL="_EventInternal",yL="_ConstructorInternal",bL="_FallbackInternal",wL="_FunctionInternal",EL="_StructInternal";var Pm,LS;const po=class po{constructor(e,r,n,s,i,o,a,c){ve(this,Pm);be(this,"name");be(this,"type");be(this,"baseType");be(this,"indexed");be(this,"components");be(this,"arrayLength");be(this,"arrayChildren");if(uE(e,Vr,"ParamType"),Object.defineProperty(this,yi,{value:pL}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");ct(this,{name:r,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],s=[e];return Re(this,Pm,LS).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(po.isParamType(e))return e;if(typeof e=="string")try{return po.from(jd(e),r)}catch{pe(!1,"invalid param type","obj",e)}else if(e instanceof fa){let a="",c="",u=null;Hu(e,Ms(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(m=>po.from(m)),a=`tuple(${u.map(m=>m.format()).join(",")})`):(a=hL(e.popType("TYPE")),c=a);let l=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();l=new po(Vr,"",a,c,null,u,d,l),d=m.value,a+=m.text,c="array",u=null}let f=null;if(Hu(e,FNe).has("indexed")){if(!r)throw new Error("");f=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new po(Vr,p,a,c,f,u,d,l)}const n=e.name;pe(!n||typeof n=="string"&&n.match(rte),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(pe(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(KNe);if(o){const a=parseInt(o[2]||"-1"),c=po.from({type:o[1],components:e.components});return new po(Vr,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(u=>po.from(u)):null;return new po(Vr,n||"",i,"tuple",s,a,null,null)}return i=hL(e.type),new po(Vr,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[yi]===pL}};Pm=new WeakSet,LS=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=r.slice();a.forEach((c,u)=>{var l;Re(l=o,Pm,LS).call(l,e,c,n,d=>{a[u]=d})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{var l;Re(l=o[u],Pm,LS).call(l,e,c,n,d=>{a[u]=d})}),s(a);return}const i=n(this.type,r);i.then?e.push((async function(){s(await i)})()):s(i)};let Wn=po;class sp{constructor(e,r,n){be(this,"type");be(this,"inputs");uE(e,Vr,"Fragment"),n=Object.freeze(n.slice()),ct(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{sp.from(JSON.parse(e))}catch{}return sp.from(jd(e))}if(e instanceof fa)switch(e.peekKeyword(ete)){case"constructor":return Iu.from(e);case"error":return li.from(e);case"event":return Xa.from(e);case"fallback":case"receive":return cu.from(e);case"function":return ec.from(e);case"struct":return zh.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Iu.from(e);case"error":return li.from(e);case"event":return Xa.from(e);case"fallback":case"receive":return cu.from(e);case"function":return ec.from(e);case"struct":return zh.from(e)}Pe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}pe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Iu.isFragment(e)}static isError(e){return li.isFragment(e)}static isEvent(e){return Xa.isFragment(e)}static isFunction(e){return ec.isFragment(e)}static isStruct(e){return zh.isFragment(e)}}class xP extends sp{constructor(r,n,s,i){super(r,n,i);be(this,"name");pe(typeof s=="string"&&s.match(rte),"invalid identifier","name",s),i=Object.freeze(i.slice()),ct(this,{name:s})}}function Aw(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class li extends xP{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,yi,{value:mL})}get selector(){return rp(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+Aw(e,this.inputs)),r.join(" ")}static from(e){if(li.isFragment(e))return e;if(typeof e=="string")return li.from(jd(e));if(e instanceof fa){const r=PP("error",e),n=Ru(e);return np(e),new li(Vr,r,n)}return new li(Vr,e.name,e.inputs?e.inputs.map(Wn.from):[])}static isFragment(e){return e&&e[yi]===mL}}class Xa extends xP{constructor(r,n,s,i){super(r,"event",n,s);be(this,"anonymous");Object.defineProperty(this,yi,{value:gL}),ct(this,{anonymous:i})}get topicHash(){return rp(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+Aw(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>Wn.from(i)),new Xa(Vr,r,n,!1).topicHash}static from(r){if(Xa.isFragment(r))return r;if(typeof r=="string")try{return Xa.from(jd(r))}catch{pe(!1,"invalid event fragment","obj",r)}else if(r instanceof fa){const n=PP("event",r),s=Ru(r,!0),i=!!Hu(r,Ms(["anonymous"])).has("anonymous");return np(r),new Xa(Vr,n,s,i)}return new Xa(Vr,r.name,r.inputs?r.inputs.map(n=>Wn.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[yi]===gL}}class Iu extends sp{constructor(r,n,s,i,o){super(r,n,s);be(this,"payable");be(this,"gas");Object.defineProperty(this,yi,{value:yL}),ct(this,{payable:i,gas:o})}format(r){if(Pe(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[`constructor${Aw(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Iu.isFragment(r))return r;if(typeof r=="string")try{return Iu.from(jd(r))}catch{pe(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof fa){Hu(r,Ms(["constructor"]));const n=Ru(r),s=!!Hu(r,UNe).has("payable"),i=ite(r);return np(r),new Iu(Vr,"constructor",n,s,i)}return new Iu(Vr,"constructor",r.inputs?r.inputs.map(Wn.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[yi]===yL}}class cu extends sp{constructor(r,n,s){super(r,"fallback",n);be(this,"payable");Object.defineProperty(this,yi,{value:bL}),ct(this,{payable:s})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(cu.isFragment(r))return r;if(typeof r=="string")try{return cu.from(jd(r))}catch{pe(!1,"invalid fallback fragment","obj",r)}else if(r instanceof fa){const n=r.toString(),s=r.peekKeyword(Ms(["fallback","receive"]));if(pe(s,"type must be fallback or receive","obj",n),r.popKeyword(Ms(["fallback","receive"]))==="receive"){const c=Ru(r);return pe(c.length===0,"receive cannot have arguments","obj.inputs",c),Hu(r,Ms(["payable"])),np(r),new cu(Vr,[],!0)}let o=Ru(r);o.length?pe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Wn.from("bytes")];const a=ste(r);if(pe(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Hu(r,Ms(["returns"])).has("returns")){const c=Ru(r);pe(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return np(r),new cu(Vr,o,a==="payable")}if(r.type==="receive")return new cu(Vr,[],!0);if(r.type==="fallback"){const n=[Wn.from("bytes")],s=r.stateMutability==="payable";return new cu(Vr,n,s)}pe(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[yi]===bL}}class ec extends xP{constructor(r,n,s,i,o,a){super(r,"function",n,i);be(this,"constant");be(this,"outputs");be(this,"stateMutability");be(this,"payable");be(this,"gas");Object.defineProperty(this,yi,{value:wL}),o=Object.freeze(o.slice()),ct(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return rp(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+Aw(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Aw(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>Wn.from(i)),new ec(Vr,r,"view",n,[],null).selector}static from(r){if(ec.isFragment(r))return r;if(typeof r=="string")try{return ec.from(jd(r))}catch{pe(!1,"invalid function fragment","obj",r)}else if(r instanceof fa){const s=PP("function",r),i=Ru(r),o=ste(r);let a=[];Hu(r,Ms(["returns"])).has("returns")&&(a=Ru(r));const c=ite(r);return np(r),new ec(Vr,s,o,i,a,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new ec(Vr,r.name,n,r.inputs?r.inputs.map(Wn.from):[],r.outputs?r.outputs.map(Wn.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[yi]===wL}}class zh extends xP{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,yi,{value:EL})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return zh.from(jd(e))}catch{pe(!1,"invalid struct fragment","obj",e)}else if(e instanceof fa){const r=PP("struct",e),n=Ru(e);return np(e),new zh(Vr,r,n)}return new zh(Vr,e.name,e.inputs?e.inputs.map(Wn.from):[])}static isFragment(e){return e&&e[yi]===EL}}const pa=new Map;pa.set(0,"GENERIC_PANIC");pa.set(1,"ASSERT_FALSE");pa.set(17,"OVERFLOW");pa.set(18,"DIVIDE_BY_ZERO");pa.set(33,"ENUM_RANGE_ERROR");pa.set(34,"BAD_STORAGE_DATA");pa.set(49,"STACK_UNDERFLOW");pa.set(50,"ARRAY_RANGE_ERROR");pa.set(65,"OUT_OF_MEMORY");pa.set(81,"UNINITIALIZED_FUNCTION_CALL");const ZNe=new RegExp(/^bytes([0-9]*)$/),YNe=new RegExp(/^(u?int)([0-9]*)$/);let $5=null,vL=1024;function JNe(t,e,r,n){let s="missing revert data",i=null;const o=null;let a=null;if(r){s="execution reverted";const u=Ot(r);if(r=Fe(r),u.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Fe(u.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Fe(u.slice(0,4))==="0x4e487b71")try{const l=Number(n.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[l]},i=`Panic due to ${pa.get(l)||"UNKNOWN"}(${l})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?or(e.to):null,data:e.data||"0x"};return e.from&&(c.from=or(e.from)),Ur(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:o,revert:a})}var Gl,S0;const ET=class ET{constructor(){ve(this,Gl)}getDefaultValue(e){const r=e.map(s=>Re(this,Gl,S0).call(this,Wn.from(s)));return new $v(r,"_").defaultValue()}encode(e,r){RX(r.length,e.length,"types/values length mismatch");const n=e.map(o=>Re(this,Gl,S0).call(this,Wn.from(o))),s=new $v(n,"_"),i=new gN;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(o=>Re(this,Gl,S0).call(this,Wn.from(o)));return new $v(s,"_").decode(new yN(r,n,vL))}static _setDefaultMaxInflation(e){pe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),vL=e}static defaultAbiCoder(){return $5==null&&($5=new ET),$5}static getBuiltinCallException(e,r,n){return JNe(e,r,n,ET.defaultAbiCoder())}};Gl=new WeakSet,S0=function(e){if(e.isArray())return new mRe(Re(this,Gl,S0).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new $v(e.components.map(n=>Re(this,Gl,S0).call(this,n)),e.name);switch(e.baseType){case"address":return new hRe(e.name);case"bool":return new gRe(e.name);case"string":return new SRe(e.name);case"bytes":return new yRe(e.name);case"":return new ERe(e.name)}let r=e.type.match(YNe);if(r){let n=parseInt(r[2]||"256");return pe(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new CRe(n/8,r[1]==="int",e.name)}if(r=e.type.match(ZNe),r){let n=parseInt(r[1]);return pe(n!==0&&n<=32,"invalid bytes length","param",e),new bRe(n,e.name)}pe(!1,"invalid type","type",e.type)};let Cw=ET;class QNe{constructor(e,r,n){be(this,"fragment");be(this,"name");be(this,"signature");be(this,"topic");be(this,"args");const s=e.name,i=e.format();ct(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class XNe{constructor(e,r,n,s){be(this,"fragment");be(this,"name");be(this,"args");be(this,"signature");be(this,"selector");be(this,"value");const i=e.name,o=e.format();ct(this,{fragment:e,name:i,args:n,signature:o,selector:r,value:s})}}class e8e{constructor(e,r,n){be(this,"fragment");be(this,"name");be(this,"args");be(this,"signature");be(this,"selector");const s=e.name,i=e.format();ct(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class _L{constructor(e){be(this,"hash");be(this,"_isIndexed");ct(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const AL={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},CL={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&AL[t.toString()]&&(e=AL[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var qa,za,$a,cs,dc,FS,HS;const Qf=class Qf{constructor(e){ve(this,dc);be(this,"fragments");be(this,"deploy");be(this,"fallback");be(this,"receive");ve(this,qa);ve(this,za);ve(this,$a);ve(this,cs);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,se(this,$a,new Map),se(this,qa,new Map),se(this,za,new Map);const n=[];for(const o of r)try{n.push(sp.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}ct(this,{fragments:Object.freeze(n)});let s=null,i=!1;se(this,cs,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ct(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(pe(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=G(this,$a);break;case"event":c=G(this,za);break;case"error":c=G(this,qa);break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||ct(this,{deploy:Iu.from("constructor()")}),ct(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return Cw.defaultAbiCoder()}getFunctionName(e){const r=Re(this,dc,FS).call(this,e,null,!1);return pe(r,"no matching function","key",e),r.name}hasFunction(e){return!!Re(this,dc,FS).call(this,e,null,!1)}getFunction(e,r){return Re(this,dc,FS).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(G(this,$a).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(G(this,$a).get(s),n)}}getEventName(e){const r=Re(this,dc,HS).call(this,e,null,!1);return pe(r,"no matching event","key",e),r.name}hasEvent(e){return!!Re(this,dc,HS).call(this,e,null,!1)}getEvent(e,r){return Re(this,dc,HS).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(G(this,za).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(G(this,za).get(s),n)}}getError(e,r){if(Ar(e)){const s=e.toLowerCase();if(CL[s])return li.from(CL[s].signature);for(const i of G(this,qa).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of G(this,qa))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?li.from("error Error(string)"):e==="Panic"?li.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");pe(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=li.from(e).format(),e==="Error(string)")return li.from("error Error(string)");if(e==="Panic(uint256)")return li.from("error Panic(uint256)");const n=G(this,qa).get(e);return n||null}forEachError(e){const r=Array.from(G(this,qa).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(G(this,qa).get(s),n)}}_decodeParams(e,r){return G(this,cs).decode(e,r)}_encodeParams(e,r){return G(this,cs).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);pe(n,"unknown error","fragment",e),e=n}return pe(Qr(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Qr(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);pe(n,"unknown error","fragment",e),e=n}return en([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);pe(n,"unknown function","fragment",e),e=n}return pe(Qr(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Qr(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);pe(n,"unknown function","fragment",e),e=n}return en([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);pe(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=Bs(r);if(s.length%32===0)try{return G(this,cs).decode(e.outputs,s)}catch{n="could not decode result data"}Pe(!1,n,"BAD_DATA",{value:Fe(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=Ot(e,"data"),s=Cw.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=Fe(n.slice(0,4)),c=this.getError(a);if(c)try{const u=G(this,cs).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);pe(n,"unknown function","fragment",e),e=n}return Fe(G(this,cs).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);pe(i,"unknown event","eventFragment",e),e=i}Pe(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,o)=>i.type==="string"?rp(o):i.type==="bytes"?gn(Fe(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Td(o):i.type.match(/^bytes/)?o=g5e(o,32):i.type==="address"&&G(this,cs).encode(["address"],[o]),Lu(Fe(o),32));for(r.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){pe(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?pe(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);pe(o,"unknown event","eventFragment",e),e=o}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),pe(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(rp(c));else if(o.type==="bytes")n.push(gn(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(G(this,cs).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:G(this,cs).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const h=this.getEvent(e);pe(h,"unknown event","eventFragment",e),e=h}if(n!=null&&!e.anonymous){const h=e.topicHash;pe(Ar(n[0],32)&&n[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(s.push(Wn.from({type:"bytes32",name:h.name})),o.push(!0)):(s.push(h),o.push(!1)):(i.push(h),o.push(!1))});const a=n!=null?G(this,cs).decode(s,en(n)):null,c=G(this,cs).decode(i,r,!0),u=[],l=[];let d=0,f=0;return e.inputs.forEach((h,p)=>{let m=null;if(h.indexed)if(a==null)m=new _L(null);else if(o[p])m=new _L(a[f++]);else try{m=a[f++]}catch(y){m=y}else try{m=c[d++]}catch(y){m=y}u.push(m),l.push(h.name||null)}),ng.fromItems(u,l)}parseTransaction(e){const r=Ot(e.data,"tx.data"),n=Ye(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Fe(r.slice(0,4)));if(!s)return null;const i=G(this,cs).decode(s.inputs,r.slice(4));return new XNe(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new QNe(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=Fe(e),n=this.getError(Qr(r,0,4));if(!n)return null;const s=G(this,cs).decode(n.inputs,Qr(r,4));return new e8e(n,n.selector,s)}static from(e){return e instanceof Qf?e:typeof e=="string"?new Qf(JSON.parse(e)):typeof e.formatJson=="function"?new Qf(e.formatJson()):typeof e.format=="function"?new Qf(e.format("json")):new Qf(e)}};qa=new WeakMap,za=new WeakMap,$a=new WeakMap,cs=new WeakMap,dc=new WeakSet,FS=function(e,r,n){if(Ar(e)){const i=e.toLowerCase();for(const o of G(this,$a).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of G(this,$a))o.split("(")[0]===e&&i.push(a);if(r){const o=r.length>0?r[r.length-1]:null;let a=r.length,c=!0;ws.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let u=i.length-1;u>=0;u--){const l=i[u].inputs.length;l!==a&&(!c||l!==a-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const l=i[u].inputs;for(let d=0;d<r.length;d++)if(ws.isTyped(r[d])){if(d>=l.length){if(r[d].type==="overrides")continue;i.splice(u,1);break}if(r[d].type!==l[d].baseType){i.splice(u,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=G(this,$a).get(ec.from(e).format());return s||null},HS=function(e,r,n){if(Ar(e)){const i=e.toLowerCase();for(const o of G(this,za).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of G(this,za))o.split("(")[0]===e&&i.push(a);if(r){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<r.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<r.length;c++)if(ws.isTyped(r[c])&&r[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=G(this,za).get(Xa.from(e).format());return s||null};let RN=Qf;const ote=BigInt(0);function em(t){return t??null}function sn(t){return t==null?null:t.toString()}class SL{constructor(e,r,n){be(this,"gasPrice");be(this,"maxFeePerGas");be(this,"maxPriorityFeePerGas");ct(this,{gasPrice:em(e),maxFeePerGas:em(r),maxPriorityFeePerGas:em(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:sn(e),maxFeePerGas:sn(r),maxPriorityFeePerGas:sn(n)}}}function iT(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Fe(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=Ye(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=_t(t[s],`request.${s}`));return t.accessList&&(e.accessList=Ep(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>C3(s)?Fe(s):Object.assign({},s))),e}var pu;class t8e{constructor(e,r){be(this,"provider");be(this,"number");be(this,"hash");be(this,"timestamp");be(this,"parentHash");be(this,"parentBeaconBlockRoot");be(this,"nonce");be(this,"difficulty");be(this,"gasLimit");be(this,"gasUsed");be(this,"stateRoot");be(this,"receiptsRoot");be(this,"blobGasUsed");be(this,"excessBlobGas");be(this,"miner");be(this,"prevRandao");be(this,"extraData");be(this,"baseFeePerGas");ve(this,pu);se(this,pu,e.transactions.map(n=>typeof n!="string"?new Sw(n,r):n)),ct(this,{provider:r,hash:em(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:em(e.prevRandao),extraData:e.extraData,baseFeePerGas:em(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return G(this,pu).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=G(this,pu).slice();return e.length===0?[]:(Pe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:u,number:l,parentHash:d,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:sn(e),difficulty:sn(r),extraData:n,gasLimit:sn(s),gasUsed:sn(i),blobGasUsed:sn(this.blobGasUsed),excessBlobGas:sn(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:u,number:l,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,transactions:y}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return G(this,pu).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=G(this,pu)[e];else{const n=e.toLowerCase();for(const s of G(this,pu))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash!==n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;pe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return r8e(this)}}pu=new WeakMap;class fE{constructor(e,r){be(this,"provider");be(this,"transactionHash");be(this,"blockHash");be(this,"blockNumber");be(this,"removed");be(this,"address");be(this,"data");be(this,"topics");be(this,"index");be(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());ct(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Pe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return n8e(this)}}var jw;class ate{constructor(e,r){be(this,"provider");be(this,"to");be(this,"from");be(this,"contractAddress");be(this,"hash");be(this,"index");be(this,"blockHash");be(this,"blockNumber");be(this,"logsBloom");be(this,"gasUsed");be(this,"blobGasUsed");be(this,"cumulativeGasUsed");be(this,"gasPrice");be(this,"blobGasPrice");be(this,"type");be(this,"status");be(this,"root");ve(this,jw);se(this,jw,Object.freeze(e.logs.map(s=>new fE(s,r))));let n=ote;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),ct(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return G(this,jw)}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:u,status:l,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:sn(this.cumulativeGasUsed),from:r,gasPrice:sn(this.gasPrice),blobGasUsed:sn(this.blobGasUsed),blobGasPrice:sn(this.blobGasPrice),gasUsed:sn(this.gasUsed),hash:s,index:i,logs:u,logsBloom:c,root:d,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ute(this)}reorderedEvent(e){return Pe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),cte(this,e)}}jw=new WeakMap;var Wl;const EB=class EB{constructor(e,r){be(this,"provider");be(this,"blockNumber");be(this,"blockHash");be(this,"index");be(this,"hash");be(this,"type");be(this,"to");be(this,"from");be(this,"nonce");be(this,"gasLimit");be(this,"gasPrice");be(this,"maxPriorityFeePerGas");be(this,"maxFeePerGas");be(this,"maxFeePerBlobGas");be(this,"data");be(this,"value");be(this,"chainId");be(this,"signature");be(this,"accessList");be(this,"blobVersionedHashes");be(this,"authorizationList");ve(this,Wl);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,se(this,Wl,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:u,signature:l,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:r,blobVersionedHashes:f,chainId:sn(this.chainId),data:u,from:a,gasLimit:sn(this.gasLimit),gasPrice:sn(this.gasPrice),hash:s,maxFeePerGas:sn(this.maxFeePerGas),maxPriorityFeePerGas:sn(this.maxPriorityFeePerGas),maxFeePerBlobGas:sn(this.maxFeePerBlobGas),nonce:c,signature:l,to:o,index:n,type:i,value:sn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Rs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=G(this,Wl),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:f,nonce:h}=await Rs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){i=f;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(o===-1&&(o=i-3,o<G(this,Wl)&&(o=G(this,Wl)));o<=f;){if(a)return null;const m=await this.provider.getBlock(o,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const E=await m.getTransaction(y);if(E.from===this.from&&E.nonce===this.nonce){if(a)return null;const w=await this.provider.getTransactionReceipt(E.hash);if(w==null||f-w.blockNumber+1<n)return;let b="replaced";E.data===this.data&&E.to===this.to&&E.value===this.value?b="repriced":E.data==="0x"&&E.from===E.to&&E.value===ote&&(b="cancelled"),Pe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:E.replaceableTransaction(i),hash:E.hash,receipt:w})}}o++}},u=f=>{if(f==null||f.status!==0)return f;Pe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},l=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(l);if(l){if(n===1||await l.confirmations()>=n)return u(l)}else if(await c(),n===0)return null;return await new Promise((f,h)=>{const p=[],m=()=>{p.forEach(E=>E())};if(p.push(()=>{a=!0}),s>0){const E=setTimeout(()=>{m(),h(Ur("wait for transaction timeout","TIMEOUT"))},s);p.push(()=>{clearTimeout(E)})}const y=async E=>{if(await E.confirmations()>=n){m();try{f(u(E))}catch(w){h(w)}}};if(p.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),i>=0){const E=async()=>{try{await c()}catch(w){if(Vn(w,"TRANSACTION_REPLACED")){m(),h(w);return}}a||this.provider.once("block",E)};p.push(()=>{this.provider.off("block",E)}),this.provider.once("block",E)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ute(this)}reorderedEvent(e){return Pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Pe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),cte(this,e)}replaceableTransaction(e){pe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new EB(this,this.provider);return se(r,Wl,e),r}};Wl=new WeakMap;let Sw=EB;function r8e(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function cte(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function ute(t){return{orphan:"drop-transaction",tx:t}}function n8e(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class M3 extends fE{constructor(r,n,s){super(r,r.provider);be(this,"interface");be(this,"fragment");be(this,"args");const i=n.decodeEventLog(s,r.data,r.topics);ct(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class lte extends fE{constructor(r,n){super(r,r.provider);be(this,"error");ct(this,{error:n})}}var xm;class s8e extends ate{constructor(r,n,s){super(s,n);ve(this,xm);se(this,xm,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?G(this,xm).getEvent(r.topics[0]):null;if(n)try{return new M3(r,G(this,xm),n)}catch(s){return new lte(r,s)}return r})}}xm=new WeakMap;var Dw;class U3 extends Sw{constructor(r,n,s){super(s,n);ve(this,Dw);se(this,Dw,r)}async wait(r,n){const s=await super.wait(r,n);return s==null?null:new s8e(G(this,Dw),this.provider,s)}}Dw=new WeakMap;class dte extends jX{constructor(r,n,s,i){super(r,n,s);be(this,"log");ct(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class i8e extends dte{constructor(e,r,n,s,i){super(e,r,n,new M3(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);ct(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const IL=BigInt(0);function fte(t){return t&&typeof t.call=="function"}function hte(t){return t&&typeof t.estimateGas=="function"}function OP(t){return t&&typeof t.resolveName=="function"}function pte(t){return t&&typeof t.sendTransaction=="function"}function mte(t){if(t!=null){if(OP(t))return t;if(t.provider)return t.provider}}var Mw;class o8e{constructor(e,r,n){ve(this,Mw);be(this,"fragment");if(ct(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=ip(e.runner,"resolveName"),i=OP(s)?s:null;se(this,Mw,(async function(){const o=await Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(l,d)=>l==="address"?Array.isArray(d)?Promise.all(d.map(f=>Ds(f,i))):Ds(d,i):d)));return e.interface.encodeFilterTopics(r,o)})())}getTopicFilter(){return G(this,Mw)}}Mw=new WeakMap;function ip(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function dh(t){return t==null?null:t.provider||null}async function gte(t,e){const r=ws.dereference(t,"overrides");pe(typeof r=="object","invalid overrides parameter","overrides",t);const n=iT(r);return pe(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),pe(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function a8e(t,e,r){const n=ip(t,"resolveName"),s=OP(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(r[o],(a,c)=>(c=ws.dereference(c,a),a==="address"?Ds(c,s):c))))}function c8e(t){const e=async function(o){const a=await gte(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Ds(a.from,mte(t.runner)));const c=t.interface,u=Ye(a.value||IL,"overrides.value")===IL,l=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!l&&!u&&pe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),pe(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data);const d=c.receive||c.fallback&&c.fallback.payable;return pe(d||u,"cannot send value to non-payable fallback","overrides.value",a.value),pe(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){const a=ip(t.runner,"call");Pe(fte(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(u){throw A3(u)&&u.data?t.interface.makeError(u.data,c):u}},n=async function(o){const a=t.runner;Pe(pte(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),u=dh(t.runner);return new U3(t.interface,u,c)},s=async function(o){const a=ip(t.runner,"estimateGas");return Pe(hte(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return ct(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function u8e(t,e){const r=function(...u){const l=t.interface.getFunction(e,u);return Pe(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),l},n=async function(...u){const l=r(...u);let d={};if(l.inputs.length+1===u.length&&(d=await gte(u.pop()),d.from&&(d.from=await Ds(d.from,mte(t.runner)))),l.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await a8e(t.runner,l.inputs,u);return Object.assign({},d,await Rs({to:t.getAddress(),data:t.interface.encodeFunctionData(l,f)}))},s=async function(...u){const l=await a(...u);return l.length===1?l[0]:l},i=async function(...u){const l=t.runner;Pe(pte(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await l.sendTransaction(await n(...u)),f=dh(t.runner);return new U3(t.interface,f,d)},o=async function(...u){const l=ip(t.runner,"estimateGas");return Pe(hte(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await n(...u))},a=async function(...u){const l=ip(t.runner,"call");Pe(fte(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await n(...u);let f="0x";try{f=await l.call(d)}catch(p){throw A3(p)&&p.data?t.interface.makeError(p.data,d):p}const h=r(...u);return t.interface.decodeFunctionResult(h,f)},c=async(...u)=>r(...u).constant?await s(...u):await i(...u);return ct(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return Pe(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function l8e(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return Pe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new o8e(t,r(...s),s)};return ct(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return Pe(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const oT=Symbol.for("_ethersInternal_contract"),yte=new WeakMap;function d8e(t,e){yte.set(t[oT],e)}function Ui(t){return yte.get(t[oT])}function f8e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function L3(t,e){let r,n=null;if(Array.isArray(e)){const i=function(o){if(Ar(o,32))return o;const a=t.interface.getEvent(o);return pe(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?r=[null]:typeof e=="string"?Ar(e,32)?r=[e]:(n=t.interface.getEvent(e),pe(n,"unknown fragment","event",e),r=[n.topicHash]):f8e(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):pe(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function Fb(t,e){const{subs:r}=Ui(t);return r.get((await L3(t,e)).tag)||null}async function TL(t,e,r){const n=dh(t.runner);Pe(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await L3(t,r),{addr:a,subs:c}=Ui(t);let u=c.get(i);if(!u){const d={address:a||t,topics:o},f=y=>{let E=s;if(E==null)try{E=t.interface.getEvent(y.topics[0])}catch{}if(E){const w=E,b=s?t.interface.decodeEventLog(s,y.data,y.topics):[];BN(t,r,b,g=>new i8e(t,g,r,w,y))}else BN(t,r,[],w=>new dte(t,w,r,y))};let h=[];u={tag:i,listeners:[],start:()=>{h.length||h.push(n.on(d,f))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),n.off(d,f)}},c.set(i,u)}return u}let NN=Promise.resolve();async function h8e(t,e,r,n){await NN;const s=await Fb(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(r);n&&c.push(n(a?null:o));try{o.call(t,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Ui(t).subs.delete(s.tag)),i>0}async function BN(t,e,r,n){try{await NN}catch{}const s=h8e(t,e,r,n);return NN=s,await s}const Gv=["then"];var PW;PW=oT;const p1=class p1{constructor(e,r,n,s){be(this,"target");be(this,"interface");be(this,"runner");be(this,"filters");be(this,PW);be(this,"fallback");pe(typeof e=="string"||_ee(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=RN.from(r);ct(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,oT,{value:{}});let o,a=null,c=null;if(s){const d=dh(n);c=new U3(this.interface,d,s)}let u=new Map;if(typeof e=="string")if(Ar(e))a=e,o=Promise.resolve(e);else{const d=ip(n,"resolveName");if(!OP(d))throw Ur("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(f=>{if(f==null)throw Ur("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ui(this).addr=f,f})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Ui(this).addr=d,d});d8e(this,{addrPromise:o,addr:a,deployTx:c,subs:u});const l=new Proxy({},{get:(d,f,h)=>{if(typeof f=="symbol"||Gv.indexOf(f)>=0)return Reflect.get(d,f,h);try{return this.getEvent(f)}catch(p){if(!Vn(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>Gv.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return ct(this,{filters:l}),ct(this,{fallback:i.receive||i.fallback?c8e(this):null}),new Proxy(this,{get:(d,f,h)=>{if(typeof f=="symbol"||f in d||Gv.indexOf(f)>=0)return Reflect.get(d,f,h);try{return d.getFunction(f)}catch(p){if(!Vn(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>typeof f=="symbol"||f in d||Gv.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new p1(this.target,this.interface,e)}attach(e){return new p1(e,this.interface,this.runner)}async getAddress(){return await Ui(this).addrPromise}async getDeployedCode(){const e=dh(this.runner);Pe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=dh(this.runner);return Pe(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Ui(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),u8e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),l8e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Ui(this),o=s||await i,{fragment:a,topics:c}=await L3(this,e),u={address:o,topics:c,fromBlock:r,toBlock:n},l=dh(this.runner);return Pe(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(u)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new M3(d,this.interface,f)}catch(h){return new lte(d,h)}return new fE(d,l)})}async on(e,r){const n=await TL(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await TL(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await BN(this,e,r,null)}async listenerCount(e){if(e){const s=await Fb(this,e);return s?s.listeners.length:0}const{subs:r}=Ui(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await Fb(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Ui(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await Fb(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Ui(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await Fb(this,e);if(!r)return this;r.stop(),Ui(this).subs.delete(r.tag)}else{const{subs:r}=Ui(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends p1{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let kN=p1;function p8e(){return kN}class tm extends p8e(){}function V5(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class m8e{constructor(e){be(this,"name");ct(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const bte=new RegExp("^(ipfs)://(.*)$","i"),PL=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),bte,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Kl,Ih,Zl,I0,vT,wte;const M0=class M0{constructor(e,r,n){ve(this,Zl);be(this,"provider");be(this,"address");be(this,"name");ve(this,Kl);ve(this,Ih);ct(this,{provider:e,address:r,name:n}),se(this,Kl,null),se(this,Ih,new tm(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return G(this,Kl)==null&&se(this,Kl,(async()=>{try{return await G(this,Ih).supportsInterface("0x9061b923")}catch(e){if(Vn(e,"CALL_EXCEPTION"))return!1;throw se(this,Kl,null),e}})()),await G(this,Kl)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await Re(this,Zl,I0).call(this,"addr(bytes32)");return i==null||i===yw?null:i}catch(i){if(Vn(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await Re(this,Zl,I0).call(this,"addr(bytes32,uint)",[i]);if(Ar(o,20))return or(o)}let r=null;for(const i of this.provider.plugins)if(i instanceof m8e&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await Re(this,Zl,I0).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;Pe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await Re(this,Zl,I0).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await Re(this,Zl,I0).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${b5e("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;Pe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<PL.length;n++){const s=r.match(PL[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=V5(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const u=c[1],l=new tm(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const m=await l.ownerOf(u);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(i==="erc1155"){const m=await l.balanceOf(a,u);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await l[o](u);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",Td(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=V5(d)),e.push({type:"metadata-url",value:d});let f={};const h=await new Fu(d).send();h.assertOk();try{f=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const E=h.body;return E&&e.push({type:"!metadata",value:Fe(E)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let p=f.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(bte)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=V5(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return Pe(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await Re(s=M0,vT,wte).call(s,e,n);if(i!=null){const o=new M0(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Kl=new WeakMap,Ih=new WeakMap,Zl=new WeakSet,I0=async function(e,r){r=(r||[]).slice();const n=G(this,Ih).interface;r.unshift(xN(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),Pe(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[ONe(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await G(this,Ih)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Vn(i,"CALL_EXCEPTION"))throw i}return null},vT=new WeakSet,wte=async function(e,r){const n=await M0.getEnsAddress(e);try{const i=await new tm(n,["function resolver(bytes32) view returns (address)"],e).resolver(xN(r),{enableCcipRead:!0});return i===yw?null:i}catch(s){throw s}return null},ve(M0,vT);let aT=M0;const xL=BigInt(0);function Ut(t,e){return(function(r){return r==null?e:t(r)})}function Iw(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function hE(t,e){return(r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const o of e[s])if(o in r){i=o;break}}try{const o=t[s](r[i]);o!==void 0&&(n[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Pe(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:r})}}return n})}function g8e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}pe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function lg(t){return pe(Ar(t,!0),"invalid data","value",t),t}function $n(t){return pe(Ar(t,32),"invalid hash","value",t),t}const y8e=hE({address:or,blockHash:$n,blockNumber:_t,data:lg,index:_t,removed:Ut(g8e,!1),topics:Iw($n),transactionHash:$n,transactionIndex:_t},{index:["logIndex"]});function b8e(t){return y8e(t)}const w8e=hE({hash:Ut($n),parentHash:$n,parentBeaconBlockRoot:Ut($n,null),number:_t,timestamp:_t,nonce:Ut(lg),difficulty:Ye,gasLimit:Ye,gasUsed:Ye,stateRoot:Ut($n,null),receiptsRoot:Ut($n,null),blobGasUsed:Ut(Ye,null),excessBlobGas:Ut(Ye,null),miner:Ut(or),prevRandao:Ut($n,null),extraData:lg,baseFeePerGas:Ut(Ye)},{prevRandao:["mixHash"]});function E8e(t){const e=w8e(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:Ete(r)),e}const v8e=hE({transactionIndex:_t,blockNumber:_t,transactionHash:$n,address:or,topics:Iw($n),data:lg,index:_t,blockHash:$n},{index:["logIndex"]});function _8e(t){return v8e(t)}const A8e=hE({to:Ut(or,null),from:Ut(or,null),contractAddress:Ut(or,null),index:_t,root:Ut(Fe),gasUsed:Ye,blobGasUsed:Ut(Ye,null),logsBloom:Ut(lg),blockHash:$n,hash:$n,logs:Iw(_8e),blockNumber:_t,cumulativeGasUsed:Ye,effectiveGasPrice:Ut(Ye),blobGasPrice:Ut(Ye,null),status:Ut(_t),type:Ut(_t,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function C8e(t){return A8e(t)}function Ete(t){t.to&&Ye(t.to)===xL&&(t.to="0x0000000000000000000000000000000000000000");const e=hE({hash:$n,index:Ut(_t,void 0),type:r=>r==="0x"||r==null?0:_t(r),accessList:Ut(Ep,null),blobVersionedHashes:Ut(Iw($n,!0),null),authorizationList:Ut(Iw(r=>{let n;if(r.signature)n=r.signature;else{let s=r.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},r,{yParity:s})}return{address:or(r.address),chainId:Ye(r.chainId),nonce:Ye(r.nonce),signature:Co.from(n)}},!1),null),blockHash:Ut($n,null),blockNumber:Ut(_t,null),transactionIndex:Ut(_t,null),from:or,gasPrice:Ut(Ye),maxPriorityFeePerGas:Ut(Ye),maxFeePerGas:Ut(Ye),maxFeePerBlobGas:Ut(Ye,null),gasLimit:Ye,to:Ut(or,null),value:Ye,nonce:_t,data:lg,creates:Ut(or,null),chainId:Ut(Ye,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=fRe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Co.from(t.signature):e.signature=Co.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ye(e.blockHash)===xL&&(e.blockHash=null),e}const S8e="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class pE{constructor(e){be(this,"name");ct(this,{name:e})}clone(){return new pE(this.name)}}class RP extends pE{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);be(this,"effectiveBlock");be(this,"txBase");be(this,"txCreate");be(this,"txDataZero");be(this,"txDataNonzero");be(this,"txAccessListStorageKey");be(this,"txAccessListAddress");const s={effectiveBlock:r};function i(o,a){let c=(n||{})[o];c==null&&(c=a),pe(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),ct(this,s)}clone(){return new RP(this.effectiveBlock,this)}}class NP extends pE{constructor(r,n){super("org.ethers.plugins.network.Ens");be(this,"address");be(this,"targetNetwork");ct(this,{address:r||S8e,targetNetwork:n??1})}clone(){return new NP(this.address,this.targetNetwork)}}var Uw,Lw;class I8e extends pE{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ve(this,Uw);ve(this,Lw);se(this,Uw,r),se(this,Lw,n)}get url(){return G(this,Uw)}get processFunc(){return G(this,Lw)}clone(){return this}}Uw=new WeakMap,Lw=new WeakMap;const G5=new Map;var Om,Rm,Yl;const U0=class U0{constructor(e,r){ve(this,Om);ve(this,Rm);ve(this,Yl);se(this,Om,e),se(this,Rm,Ye(r)),se(this,Yl,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return G(this,Om)}set name(e){se(this,Om,e)}get chainId(){return G(this,Rm)}set chainId(e){se(this,Rm,Ye(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ye(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ye(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ye(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(G(this,Yl).values())}attachPlugin(e){if(G(this,Yl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return G(this,Yl).set(e.name,e.clone()),this}getPlugin(e){return G(this,Yl).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new U0(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new RP;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=Ep(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(T8e(),e==null)return U0.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=G5.get(e);if(r)return r();if(typeof e=="bigint")return new U0("unknown",e);pe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){pe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new U0(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new NP(e.ensAddress,e.ensNetwork)),r}pe(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=G5.get(e);n&&pe(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),G5.set(e,r)}};Om=new WeakMap,Rm=new WeakMap,Yl=new WeakMap;let sc=U0;function OL(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function RL(t){return new I8e(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([n.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:OL(a.maxFee,9),maxPriorityFeePerGas:OL(a.maxPriorityFee,9)}}catch(i){Pe(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let NL=!1;function T8e(){if(NL)return;NL=!0;function t(e,r,n){const s=function(){const i=new sc(e,r);return n.ensNetwork!=null&&i.attachPlugin(new NP(null,n.ensNetwork)),i.attachPlugin(new RP),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};sc.register(e,s),sc.register(r,s),n.altNames&&n.altNames.forEach(i=>{sc.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[RL("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[RL("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function jN(t){return JSON.parse(JSON.stringify(t))}var mu,go,Jl,Va,Nm,qS;class P8e{constructor(e){ve(this,Nm);ve(this,mu);ve(this,go);ve(this,Jl);ve(this,Va);se(this,mu,e),se(this,go,null),se(this,Jl,4e3),se(this,Va,-2)}get pollingInterval(){return G(this,Jl)}set pollingInterval(e){se(this,Jl,e)}start(){G(this,go)||(se(this,go,G(this,mu)._setTimeout(Re(this,Nm,qS).bind(this),G(this,Jl))),Re(this,Nm,qS).call(this))}stop(){G(this,go)&&(G(this,mu)._clearTimeout(G(this,go)),se(this,go,null))}pause(e){this.stop(),e&&se(this,Va,-2)}resume(){this.start()}}mu=new WeakMap,go=new WeakMap,Jl=new WeakMap,Va=new WeakMap,Nm=new WeakSet,qS=async function(){try{const e=await G(this,mu).getBlockNumber();if(G(this,Va)===-2){se(this,Va,e);return}if(e!==G(this,Va)){for(let r=G(this,Va)+1;r<=e;r++){if(G(this,go)==null)return;await G(this,mu).emit("block",r)}se(this,Va,e)}}catch{}G(this,go)!=null&&se(this,go,G(this,mu)._setTimeout(Re(this,Nm,qS).bind(this),G(this,Jl)))};var Th,Ph,Ql;class F3{constructor(e){ve(this,Th);ve(this,Ph);ve(this,Ql);se(this,Th,e),se(this,Ql,!1),se(this,Ph,r=>{this._poll(r,G(this,Th))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){G(this,Ql)||(se(this,Ql,!0),G(this,Ph).call(this,-2),G(this,Th).on("block",G(this,Ph)))}stop(){G(this,Ql)&&(se(this,Ql,!1),G(this,Th).off("block",G(this,Ph)))}pause(e){this.stop()}resume(){this.start()}}Th=new WeakMap,Ph=new WeakMap,Ql=new WeakMap;var Bm,gu;class x8e extends F3{constructor(r,n){super(r);ve(this,Bm);ve(this,gu);se(this,Bm,n),se(this,gu,-2)}pause(r){r&&se(this,gu,-2),super.pause(r)}async _poll(r,n){const s=await n.getBlock(G(this,Bm));s!=null&&(G(this,gu)===-2?se(this,gu,s.number):s.number>G(this,gu)&&(n.emit(G(this,Bm),s.number),se(this,gu,s.number)))}}Bm=new WeakMap,gu=new WeakMap;var _T;class O8e extends F3{constructor(r,n){super(r);ve(this,_T);se(this,_T,jN(n))}async _poll(r,n){throw new Error("@TODO")}}_T=new WeakMap;var km;class R8e extends F3{constructor(r,n){super(r);ve(this,km);se(this,km,n)}async _poll(r,n){const s=await n.getTransactionReceipt(G(this,km));s&&n.emit(G(this,km),s)}}km=new WeakMap;var yu,jm,Dm,Xl,yo,AT,vte;class H3{constructor(e,r){ve(this,AT);ve(this,yu);ve(this,jm);ve(this,Dm);ve(this,Xl);ve(this,yo);se(this,yu,e),se(this,jm,jN(r)),se(this,Dm,Re(this,AT,vte).bind(this)),se(this,Xl,!1),se(this,yo,-2)}start(){G(this,Xl)||(se(this,Xl,!0),G(this,yo)===-2&&G(this,yu).getBlockNumber().then(e=>{se(this,yo,e)}),G(this,yu).on("block",G(this,Dm)))}stop(){G(this,Xl)&&(se(this,Xl,!1),G(this,yu).off("block",G(this,Dm)))}pause(e){this.stop(),e&&se(this,yo,-2)}resume(){this.start()}}yu=new WeakMap,jm=new WeakMap,Dm=new WeakMap,Xl=new WeakMap,yo=new WeakMap,AT=new WeakSet,vte=async function(e){if(G(this,yo)===-2)return;const r=jN(G(this,jm));r.fromBlock=G(this,yo)+1,r.toBlock=e;const n=await G(this,yu).getLogs(r);if(n.length===0){G(this,yo)<e-60&&se(this,yo,e-60);return}for(const s of n)G(this,yu).emit(G(this,jm),s),se(this,yo,s.blockNumber)};const N8e=BigInt(2),B8e=10;function Wv(t){return t&&typeof t.then=="function"}function zS(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}class _te{constructor(e){be(this,"name");ct(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function k8e(t){return JSON.parse(JSON.stringify(t))}function DN(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function W5(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ar(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:zS("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:zS("orphan",r),filter:k8e(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?DN(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],o=a=>{Ar(a)?s.push(a):i.push((async()=>{s.push(await Ds(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),i.length&&await Promise.all(i),n.address=DN(s.map(a=>a.toLowerCase()))}return{filter:n,tag:zS("event",n),type:"event"}}pe(!1,"unknown ProviderEvent","event",t)}function K5(){return new Date().getTime()}const j8e={cacheTimeout:250,pollingInterval:4e3};var us,ed,ls,Mm,qi,xh,td,bu,Fw,bo,Um,Lm,Rt,ji,MN,UN,Hb,LN,qb,$S;class D8e{constructor(e,r){ve(this,Rt);ve(this,us);ve(this,ed);ve(this,ls);ve(this,Mm);ve(this,qi);ve(this,xh);ve(this,td);ve(this,bu);ve(this,Fw);ve(this,bo);ve(this,Um);ve(this,Lm);if(se(this,Lm,Object.assign({},j8e,r||{})),e==="any")se(this,xh,!0),se(this,qi,null);else if(e){const n=sc.from(e);se(this,xh,!1),se(this,qi,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else se(this,xh,!1),se(this,qi,null);se(this,bu,-1),se(this,td,new Map),se(this,us,new Map),se(this,ed,new Map),se(this,ls,null),se(this,Mm,!1),se(this,Fw,1),se(this,bo,new Map),se(this,Um,!1)}get pollingInterval(){return G(this,Lm).pollingInterval}get provider(){return this}get plugins(){return Array.from(G(this,ed).values())}attachPlugin(e){if(G(this,ed).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return G(this,ed).set(e.name,e.connect(this)),this}getPlugin(e){return G(this,ed).get(e)||null}get disableCcipRead(){return G(this,Um)}set disableCcipRead(e){se(this,Um,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],u=c.replace("{sender}",s).replace("{data}",i),l=new Fu(u);c.indexOf("{data}")===-1&&(l.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let d="unknown error",f;try{f=await l.send()}catch(h){o.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:h}});continue}try{const h=f.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:h}),h.data;h.message&&(d=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:h})}catch{}Pe(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),o.push(d)}Pe(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new t8e(E8e(e),this)}_wrapLog(e,r){return new fE(b8e(e),this)}_wrapTransactionReceipt(e,r){return new ate(C8e(e),this)}_wrapTransactionResponse(e,r){return new Sw(Ete(e),this)}_detectNetwork(){Pe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Pe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=_t(await Re(this,Rt,ji).call(this,{method:"getBlockNumber"}),"%response");return G(this,bu)>=0&&se(this,bu,e),e}_getAddress(e){return Ds(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ar(e))return Ar(e,32)?e:Qo(e);if(typeof e=="bigint"&&(e=_t(e,"blockTag")),typeof e=="number")return e>=0?Qo(e):G(this,bu)>=0?Qo(G(this,bu)+e):this.getBlockNumber().then(r=>Qo(r+e));pe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?DN(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,u,l)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(n&&(u!=null||l!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),r.length&&(f.topics=r),u&&(f.fromBlock=u),l&&(f.toBlock=l),n&&(f.blockHash=n),f};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const r=iT(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=Ds(r[s],this);Wv(i)?n.push((async function(){r[s]=await i})()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);Wv(s)?n.push((async function(){r.blockTag=await s})()):r.blockTag=s}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(G(this,qi)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw G(this,qi)===s&&se(this,qi,null),i}})();return se(this,qi,s),(await s).clone()}const e=G(this,qi),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(G(this,xh)?(this.emit("network",n,r),G(this,qi)===e&&se(this,qi,Promise.resolve(n))):Pe(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await Rs({_block:Re(this,Rt,LN).call(this,"latest",!1),gasPrice:(async()=>{try{const l=await Re(this,Rt,ji).call(this,{method:"getGasPrice"});return Ye(l,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const l=await Re(this,Rt,ji).call(this,{method:"getPriorityFee"});return Ye(l,"%response")}catch{}return null})()});let a=null,c=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),a=u.baseFeePerGas*N8e+c),new SL(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new Fu(n.url),i=await n.processFunc(r,this,s);return new SL(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return Wv(r)&&(r=await r),Ye(await Re(this,Rt,ji).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Rs({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Re(this,Rt,UN).call(this,Re(this,Rt,MN).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Ye(await Re(this,Rt,Hb).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return _t(await Re(this,Rt,Hb).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return Fe(await Re(this,Rt,Hb).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const s=Ye(r,"position");return Fe(await Re(this,Rt,Hb).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await Rs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=QI.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:s}=await Rs({network:this.getNetwork(),params:Re(this,Rt,LN).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await Rs({network:this.getNetwork(),params:Re(this,Rt,ji).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Rs({network:this.getNetwork(),params:Re(this,Rt,ji).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await Re(this,Rt,ji).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Rs({network:this.getNetwork(),result:Re(this,Rt,ji).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:Fe(r)}async getLogs(e){let r=this._getFilter(e);Wv(r)&&(r=await r);const{network:n,params:s}=await Rs({network:this.getNetwork(),params:Re(this,Rt,ji).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){Pe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await aT.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=or(e);const r=xN(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await aT.getEnsAddress(this),i=await new tm(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===yw)return null;const a=await new tm(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(Vn(n,"BAD_DATA")&&n.value==="0x"||Vn(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=(async u=>{try{const l=await this.getTransactionReceipt(e);if(l!=null&&u-l.blockNumber+1>=s){i(l),a&&(clearTimeout(a),a=null);return}}catch(l){console.log("EEE",l)}this.once("block",c)});n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Ur("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){Pe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=G(this,bo).get(e);r&&(r.timer&&clearTimeout(r.timer),G(this,bo).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=$g(this,Fw)._++,s=()=>{G(this,bo).delete(n),e()};if(this.paused)G(this,bo).set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);G(this,bo).set(n,{timer:i,func:s,time:K5()})}return n}_forEachSubscriber(e){for(const r of G(this,us).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new _te(e.type);case"block":{const r=new P8e(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new x8e(this,e.type);case"event":return new H3(this,e.filter);case"transaction":return new R8e(this,e.hash);case"orphan":return new O8e(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of G(this,us).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),G(this,ls)!=null&&r.pause(G(this,ls));break}}async on(e,r){const n=await Re(this,Rt,$S).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,G(this,ls)!=null&&n.subscriber.pause(G(this,ls))),this}async once(e,r){const n=await Re(this,Rt,$S).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,G(this,ls)!=null&&n.subscriber.pause(G(this,ls))),this}async emit(e,...r){const n=await Re(this,Rt,qb).call(this,e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{const a=new jX(this,o?null:i,e);try{i.call(this,...r,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),G(this,us).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await Re(this,Rt,qb).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of G(this,us).values())r+=n.length;return r}async listeners(e){if(e){const n=await Re(this,Rt,qb).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of G(this,us).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await Re(this,Rt,qb).call(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),G(this,us).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await Re(this,Rt,$S).call(this,e);n&&s.stop(),G(this,us).delete(r)}else for(const[r,{started:n,subscriber:s}]of G(this,us))n&&s.stop(),G(this,us).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return G(this,Mm)}destroy(){this.removeAllListeners();for(const e of G(this,bo).keys())this._clearTimeout(e);se(this,Mm,!0)}get paused(){return G(this,ls)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(se(this,bu,-1),G(this,ls)!=null){if(G(this,ls)==!!e)return;Pe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),se(this,ls,!!e);for(const r of G(this,bo).values())r.timer&&clearTimeout(r.timer),r.time=K5()-r.time}resume(){if(G(this,ls)!=null){this._forEachSubscriber(e=>e.resume()),se(this,ls,null);for(const e of G(this,bo).values()){let r=e.time;r<0&&(r=0),e.time=K5(),setTimeout(e.func,r)}}}}us=new WeakMap,ed=new WeakMap,ls=new WeakMap,Mm=new WeakMap,qi=new WeakMap,xh=new WeakMap,td=new WeakMap,bu=new WeakMap,Fw=new WeakMap,bo=new WeakMap,Um=new WeakMap,Lm=new WeakMap,Rt=new WeakSet,ji=async function(e){const r=G(this,Lm).cacheTimeout;if(r<0)return await this._perform(e);const n=zS(e.method,e);let s=G(this,td).get(n);return s||(s=this._perform(e),G(this,td).set(n,s),setTimeout(()=>{G(this,td).get(n)===s&&G(this,td).delete(n)},r)),await s},MN=async function(e,r,n){Pe(n<B8e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=iT(e);try{return Fe(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&A3(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&Qr(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Ds(s.to,this);let c;try{c=H8e(Qr(i.data,4))}catch(d){Pe(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}Pe(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(s,c.calldata,c.urls);Pe(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const l={to:a,data:en([c.selector,F8e([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const d=await Re(this,Rt,MN).call(this,l,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:d}),d}}throw i}},UN=async function(e){const{value:r}=await Rs({network:this.getNetwork(),value:e});return r},Hb=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await Re(this,Rt,UN).call(this,Re(this,Rt,ji).call(this,Object.assign(e,{address:s,blockTag:i})))},LN=async function(e,r){if(Ar(e,32))return await Re(this,Rt,ji).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await Re(this,Rt,ji).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},qb=async function(e,r){let n=await W5(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await W5({orphan:"drop-log",log:r[0]},this)),G(this,us).get(n.tag)||null},$S=async function(e){const r=await W5(e,this),n=r.tag;let s=G(this,us).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},G(this,us).set(n,s)),s};function M8e(t,e){try{const r=FN(t,e);if(r)return ZI(r)}catch{}return null}function FN(t,e){if(t==="0x")return null;try{const r=_t(Qr(t,e,e+32)),n=_t(Qr(t,r,r+32));return Qr(t,r+32,r+32+n)}catch{}return null}function BL(t){const e=An(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function U8e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const L8e=new Uint8Array([]);function F8e(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(L8e),r+=32;for(let n=0;n<t.length;n++){const s=Ot(t[n]);e[n]=BL(r),e.push(BL(s.length)),e.push(U8e(s)),r+=32+Math.ceil(s.length/32)*32}return en(e)}const kL="0x0000000000000000000000000000000000000000000000000000000000000000";function H8e(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Pe(J0(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Qr(t,0,32);Pe(Qr(r,0,12)===Qr(kL,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Qr(r,12);try{const n=[],s=_t(Qr(t,32,64)),i=_t(Qr(t,s,s+32)),o=Qr(t,s+32);for(let a=0;a<i;a++){const c=M8e(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{Pe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=FN(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{Pe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Pe(Qr(t,100,128)===Qr(kL,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Qr(t,96,100);try{const n=FN(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{Pe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function hf(t,e){if(t.provider)return t.provider;Pe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function jL(t,e){let r=iT(e);if(r.to!=null&&(r.to=Ds(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),Ds(n,t)]).then(([s,i])=>(pe(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await Rs(r)}class q8e{constructor(e){be(this,"provider");ct(this,{provider:e||null})}async getNonce(e){return hf(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await jL(this,e)}async populateTransaction(e){const r=hf(this,"populateTransaction"),n=await jL(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const o=Ye(n.chainId);pe(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?pe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&pe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();Pe(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Pe(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):Pe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Rs(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await hf(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return hf(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return hf(this,"call").call(await this.populateCall(e))}async resolveName(e){return await hf(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=hf(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=QI.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){Pe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function z8e(t){return JSON.parse(JSON.stringify(t))}var xs,Ga,Oh,rd,Rh,Fm,Od,HN,qN;class Ate{constructor(e){ve(this,Od);ve(this,xs);ve(this,Ga);ve(this,Oh);ve(this,rd);ve(this,Rh);ve(this,Fm);se(this,xs,e),se(this,Ga,null),se(this,Oh,Re(this,Od,HN).bind(this)),se(this,rd,!1),se(this,Rh,null),se(this,Fm,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){G(this,rd)||(se(this,rd,!0),Re(this,Od,HN).call(this,-2))}stop(){G(this,rd)&&(se(this,rd,!1),se(this,Fm,!0),Re(this,Od,qN).call(this),G(this,xs).off("block",G(this,Oh)))}pause(e){e&&Re(this,Od,qN).call(this),G(this,xs).off("block",G(this,Oh))}resume(){this.start()}}xs=new WeakMap,Ga=new WeakMap,Oh=new WeakMap,rd=new WeakMap,Rh=new WeakMap,Fm=new WeakMap,Od=new WeakSet,HN=async function(e){try{G(this,Ga)==null&&se(this,Ga,this._subscribe(G(this,xs)));let r=null;try{r=await G(this,Ga)}catch(i){if(!Vn(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){se(this,Ga,null),G(this,xs)._recoverSubscriber(this,this._recover(G(this,xs)));return}const n=await G(this,xs).getNetwork();if(G(this,Rh)||se(this,Rh,n),G(this,Rh).chainId!==n.chainId)throw new Error("chaid changed");if(G(this,Fm))return;const s=await G(this,xs).send("eth_getFilterChanges",[r]);await this._emitResults(G(this,xs),s)}catch(r){console.log("@TODO",r)}G(this,xs).once("block",G(this,Oh))},qN=function(){const e=G(this,Ga);e&&(se(this,Ga,null),e.then(r=>{G(this,xs).destroyed||G(this,xs).send("eth_uninstallFilter",[r])}))};var Nh;class $8e extends Ate{constructor(r,n){super(r);ve(this,Nh);se(this,Nh,z8e(n))}_recover(r){return new H3(r,G(this,Nh))}async _subscribe(r){return await r.send("eth_newFilter",[G(this,Nh)])}async _emitResults(r,n){for(const s of n)r.emit(G(this,Nh),r._wrapLog(s,r._network))}}Nh=new WeakMap;class V8e extends Ate{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const G8e="bigint,boolean,function,number,string,symbol".split(/,/g);function VS(t){if(t==null||G8e.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(VS);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function W8e(t){return new Promise(e=>{setTimeout(e,t)})}function Kp(t){return t&&t.toLowerCase()}function DL(t){return t&&typeof t.pollingInterval=="number"}const Cte={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class rm extends q8e{constructor(r,n){super(r);be(this,"address");n=or(n),ct(this,{address:n})}connect(r){Pe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=VS(r),s=[];if(n.from){const o=n.from;s.push((async()=>{const a=await Ds(o,this.provider);pe(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;s.push((async()=>{n.to=await Ds(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const u=async()=>{try{const l=await this.provider.getTransaction(s);if(l!=null){i(l.replaceableTransaction(n));return}}catch(l){if(Vn(l,"CANCELLED")||Vn(l,"BAD_DATA")||Vn(l,"NETWORK_ERROR")||Vn(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=s,o(l);return}if(Vn(l,"INVALID_ARGUMENT")&&(c++,l.info==null&&(l.info={}),l.info.sendTransactionHash=s,c>10)){o(l);return}this.provider.emit("error",Ur("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{u()},a.pop()||4e3)};u()})}async signTransaction(r){const n=VS(r);if(n.from){const i=await Ds(n.from,this.provider);pe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){const n=typeof r=="string"?lc(r):r;return await this.provider.send("personal_sign",[Fe(n),this.address.toLowerCase()])}async signTypedData(r,n,s){const i=VS(s),o=await sT.resolveNames(r,n,i,async a=>{const c=await Ds(a);return pe(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(sT.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?lc(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Fe(n)])}}var Bh,Hm,wu,Wa,Zo,wo,ti,Hw,zN;class K8e extends D8e{constructor(r,n){super(r,n);ve(this,Hw);ve(this,Bh);ve(this,Hm);ve(this,wu);ve(this,Wa);ve(this,Zo);ve(this,wo);ve(this,ti);se(this,Hm,1),se(this,Bh,Object.assign({},Cte,n||{})),se(this,wu,[]),se(this,Wa,null),se(this,wo,null),se(this,ti,null);{let i=null;const o=new Promise(a=>{i=a});se(this,Zo,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(pe(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&se(this,wo,sc.from(r))):s&&(pe(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),se(this,wo,s))}_getOption(r){return G(this,Bh)[r]}get _network(){return Pe(G(this,wo),"network is not available yet","NETWORK_ERROR"),G(this,wo)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&Ye(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(G(this,wo))return G(this,wo)}else return r;return G(this,ti)?await G(this,ti):this.ready?(se(this,ti,(async()=>{try{const n=sc.from(Ye(await this.send("eth_chainId",[])));return se(this,ti,null),n}catch(n){throw se(this,ti,null),n}})()),await G(this,ti)):(se(this,ti,(async()=>{const n={id:$g(this,Hm)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],se(this,ti,null)}catch(i){throw se(this,ti,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return sc.from(Ye(s.result));throw this.getRpcError(n,s)})()),await G(this,ti))}_start(){G(this,Zo)==null||G(this,Zo).resolve==null||(G(this,Zo).resolve(),se(this,Zo,null),(async()=>{for(;G(this,wo)==null&&!this.destroyed;)try{se(this,wo,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ur("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await W8e(1e3)}Re(this,Hw,zN).call(this)})())}async _waitUntilReady(){if(G(this,Zo)!=null)return await G(this,Zo).promise}_getSubscriber(r){return r.type==="pending"?new V8e(this):r.type==="event"?this._getOption("polling")?new H3(this,r.filter):new $8e(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new _te("orphan"):super._getSubscriber(r)}get ready(){return G(this,Zo)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=Qo(Ye(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=Fe(r[s]))}),r.accessList&&(n.accessList=Ep(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(s=>{const i=Iee(s);return{address:i.address,nonce:Qo(i.nonce),chainId:Qo(i.chainId),yParity:Qo(i.signature.yParity),r:Qo(i.signature.r),s:Qo(i.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Kp(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Kp(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Kp(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Kp(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Kp):r.filter.address=Kp(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Ur("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return Ur("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=$N(i),u=Cw.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return u.info={error:i,payload:r},u}const o=JSON.stringify(Y8e(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Ur("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ur("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ur("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ur("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Ur("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?Ur("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):Ur("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(Ur("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const s=$g(this,Hm)._++,i=new Promise((o,a)=>{G(this,wu).push({resolve:o,reject:a,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return Re(this,Hw,zN).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new rm(this,i[r])}const{accounts:s}=await Rs({network:this.getNetwork(),accounts:n});r=or(r);for(const i of s)if(or(i)===r)return new rm(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new rm(this,n))}destroy(){G(this,Wa)&&(clearTimeout(G(this,Wa)),se(this,Wa,null));for(const{payload:r,reject:n}of G(this,wu))n(Ur("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));se(this,wu,[]),super.destroy()}}Bh=new WeakMap,Hm=new WeakMap,wu=new WeakMap,Wa=new WeakMap,Zo=new WeakMap,wo=new WeakMap,ti=new WeakMap,Hw=new WeakSet,zN=function(){if(G(this,Wa))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");se(this,Wa,setTimeout(()=>{se(this,Wa,null);const n=G(this,wu);for(se(this,wu,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==G(this,Bh).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>G(this,Bh).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:u}of s){if(this.destroyed){c(Ur("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const l=o.filter(d=>d.id===u.id)[0];if(l==null){const d=Ur("missing response for request","BAD_DATA",{value:o,info:{payload:u}});this.emit("error",d),c(d);continue}if("error"in l){c(this.getRpcError(u,l));continue}a(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},r))};var nd;class Ste extends K8e{constructor(r,n){super(r,n);ve(this,nd);let s=this._getOption("pollingInterval");s==null&&(s=Cte.pollingInterval),se(this,nd,s)}_getSubscriber(r){const n=super._getSubscriber(r);return DL(n)&&(n.pollingInterval=G(this,nd)),n}get pollingInterval(){return G(this,nd)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");se(this,nd,r),this._forEachSubscriber(n=>{DL(n)&&(n.pollingInterval=G(this,nd))})}}nd=new WeakMap;var qm;class Z8e extends Ste{constructor(r,n,s){r==null&&(r="http://localhost:8545");super(n,s);ve(this,qm);typeof r=="string"?se(this,qm,new Fu(r)):se(this,qm,r.clone())}_getConnection(){return G(this,qm).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}qm=new WeakMap;function $N(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ar(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=$N(t[e]);if(r)return r}return null}if(typeof t=="string")try{return $N(JSON.parse(t))}catch{}return null}function VN(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)VN(t[r],e);if(typeof t=="string")try{return VN(JSON.parse(t),e)}catch{}}}function Y8e(t){const e=[];return VN(t,e),e}var zm,$m;const Xf=class Xf extends Ste{constructor(r,n,s){const i=Object.assign({},s??{},{batchMaxCount:1});pe(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,i);ve(this,zm);ve(this,$m);se(this,$m,null),s&&s.providerInfo&&se(this,$m,s.providerInfo),se(this,zm,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const l=new Error(u.message);throw l.code=u.code,l.data=u.data,l.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}get providerInfo(){return G(this,$m)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){pe(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await G(this,zm).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(s=>s.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await G(this,zm).call(this,"eth_requestAccounts",[])}catch(n){const s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new Xf(r.provider);const n=r.window?r.window:typeof window<"u"?window:null;if(n==null)return null;const s=r.anyProvider;if(s&&n.ethereum)return new Xf(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=r.timeout?r.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[];const u=f=>{c.push(f.detail),s&&l()},l=()=>{if(clearTimeout(d),c.length)if(r&&r.filter){const f=r.filter(c.map(h=>Object.assign({},h.info)));if(f==null)o(null);else if(f instanceof Xf)o(f);else{let h=null;if(f.uuid&&(h=c.filter(m=>f.uuid===m.info.uuid)[0]),h){const{provider:p,info:m}=h;o(new Xf(p,void 0,{providerInfo:m}))}else a(Ur("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:h}=c[0];o(new Xf(f,void 0,{providerInfo:h}))}else o(null);n.removeEventListener("eip6963:announceProvider",u)},d=setTimeout(()=>{l()},i);n.addEventListener("eip6963:announceProvider",u),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};zm=new WeakMap,$m=new WeakMap;let u1=Xf;const nm={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([nm.getAddresses(t),nm.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var n,s;const r=((n=e.rpcUrls.chainDefault)==null?void 0:n.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:nm.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(s=e.blockExplorers)==null?void 0:s.default.url],iconUrls:[Zi.NetworkImageIds[e.id]]}]})}};class q3{constructor(){this.initialized=!1}async getProvider(){return Promise.resolve(this.provider)}}class J8e extends q3{async initialize(){const e=te.getCaipNetworks(),{metadata:r,coinbasePreference:n}=Ce.state;try{const{createBaseAccountSDK:s}=await vn(async()=>{const{createBaseAccountSDK:o}=await import("./index-BjigDnh9.js");return{createBaseAccountSDK:o}},__vite__mapDeps([53,1,2]),import.meta.url);if(typeof window>"u")return Promise.resolve();const i=s({appName:r==null?void 0:r.name,appLogoUrl:r==null?void 0:r.icons[0],appChainIds:(e==null?void 0:e.map(o=>o.id))||[1,84532],preference:{options:n??"all"}});return this.provider=i.getProvider(),this.initialized=!0,Promise.resolve()}catch(s){return console.error("Failed to import Coinbase Wallet SDK:",s),Promise.resolve()}}async getProvider(){return Promise.resolve(this.provider)}}var Z5={},by={},Oc={},Zp={},pf={},wy={},Ey={},ML;function Ite(){if(ML)return Ey;ML=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.getSDKVersion=void 0;const t=()=>"9.1.0";return Ey.getSDKVersion=t,Ey}var vy={},UL;function Q8e(){if(UL)return vy;UL=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.generateRequestId=void 0;const t=n=>n.toString(16).padStart(2,"0"),e=n=>{const s=new Uint8Array(n/2);return window.crypto.getRandomValues(s),Array.from(s,t).join("")},r=()=>typeof window<"u"?e(10):new Date().getTime().toString(36);return vy.generateRequestId=r,vy}var LL;function Tte(){if(LL)return wy;LL=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.MessageFormatter=void 0;const t=Ite(),e=Q8e();class r{}return wy.MessageFormatter=r,r.makeRequest=(n,s)=>({id:(0,e.generateRequestId)(),method:n,params:s,env:{sdkVersion:(0,t.getSDKVersion)()}}),r.makeResponse=(n,s,i)=>({id:n,success:!0,version:i,data:s}),r.makeErrorResponse=(n,s,i)=>({id:n,success:!1,error:s,version:i}),wy}var mf={},FL;function _p(){if(FL)return mf;FL=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.RestrictedMethods=mf.Methods=void 0;var t;(function(r){r.sendTransactions="sendTransactions",r.rpcCall="rpcCall",r.getChainInfo="getChainInfo",r.getSafeInfo="getSafeInfo",r.getTxBySafeTxHash="getTxBySafeTxHash",r.getSafeBalances="getSafeBalances",r.signMessage="signMessage",r.signTypedMessage="signTypedMessage",r.getEnvironmentInfo="getEnvironmentInfo",r.getOffChainSignature="getOffChainSignature",r.requestAddressBook="requestAddressBook",r.wallet_getPermissions="wallet_getPermissions",r.wallet_requestPermissions="wallet_requestPermissions"})(t||(mf.Methods=t={}));var e;return(function(r){r.requestAddressBook="requestAddressBook"})(e||(mf.RestrictedMethods=e={})),mf}var HL;function X8e(){return HL||(HL=1,(function(t){var e=pf&&pf.__createBinding||(Object.create?(function(i,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,c,u)}):(function(i,o,a,c){c===void 0&&(c=a),i[c]=o[a]})),r=pf&&pf.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,i,a)};Object.defineProperty(t,"__esModule",{value:!0});const n=Tte();class s{constructor(o=null,a=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:c,data:u,source:l})=>{const d=!u,f=!this.isServer&&l===window.parent,h=typeof u.version<"u"&&parseInt(u.version.split(".")[0]),p=typeof h=="number"&&h>=1;let m=!0;return Array.isArray(this.allowedOrigins)&&(m=this.allowedOrigins.find(y=>y.test(c))!==void 0),!d&&f&&p&&m},this.logIncomingMessage=c=>{console.info(`Safe Apps SDK v1: A message was received from origin ${c.origin}. `,c.data)},this.onParentMessage=c=>{this.isValidMessage(c)&&(this.debugMode&&this.logIncomingMessage(c),this.handleIncomingMessage(c.data))},this.handleIncomingMessage=c=>{const{id:u}=c,l=this.callbacks.get(u);l&&(l(c),this.callbacks.delete(u))},this.send=(c,u)=>{const l=n.MessageFormatter.makeRequest(c,u);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(l,"*"),new Promise((d,f)=>{this.callbacks.set(l.id,h=>{if(!h.success){f(new Error(h.error));return}d(h)})})},this.allowedOrigins=o,this.debugMode=a,this.isServer||window.addEventListener("message",this.onParentMessage)}}t.default=s,r(_p(),t)})(pf)),pf}var _y={},gf={},Ay={},qL;function e3e(){if(qL)return Ay;qL=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.isObjectEIP712TypedData=void 0;const t=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;return Ay.isObjectEIP712TypedData=t,Ay}var Y5={},zL;function t3e(){return zL||(zL=1,Object.defineProperty(Y5,"__esModule",{value:!0})),Y5}var J5={},yf={},bf={},Rc={},$L;function r3e(){if($L)return Rc;$L=1;var t=Rc&&Rc.__awaiter||function(c,u,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function m(w){try{E(d.next(w))}catch(b){p(b)}}function y(w){try{E(d.throw(w))}catch(b){p(b)}}function E(w){w.done?h(w.value):f(w.value).then(m,y)}E((d=d.apply(c,u||[])).next())})};Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.insertParams=n,Rc.stringifyQuery=s,Rc.fetchData=o,Rc.getData=a;const e=c=>typeof c=="object"&&c!==null&&("code"in c||"statusCode"in c)&&"message"in c;function r(c,u,l){return c.replace(new RegExp(`\\{${u}\\}`,"g"),l)}function n(c,u){return u?Object.keys(u).reduce((l,d)=>r(l,d,String(u[d])),c):c}function s(c){if(!c)return"";const u=new URLSearchParams;Object.keys(c).forEach(d=>{c[d]!=null&&u.append(d,String(c[d]))});const l=u.toString();return l?`?${l}`:""}function i(c){return t(this,void 0,void 0,function*(){var u;let l;try{l=yield c.json()}catch{l={}}if(!c.ok){const d=e(l)?`CGW error - ${(u=l.code)!==null&&u!==void 0?u:l.statusCode}: ${l.message}`:`CGW error - status ${c.statusText}`;throw new Error(d)}return l})}function o(c,u,l,d,f){return t(this,void 0,void 0,function*(){const h=Object.assign({"Content-Type":"application/json"},d),p={method:u??"POST",headers:h};f&&(p.credentials=f),l!=null&&(p.body=typeof l=="string"?l:JSON.stringify(l));const m=yield fetch(c,p);return i(m)})}function a(c,u,l){return t(this,void 0,void 0,function*(){const d={method:"GET"};u&&(d.headers=Object.assign(Object.assign({},u),{"Content-Type":"application/json"})),l&&(d.credentials=l);const f=yield fetch(c,d);return i(f)})}return Rc}var VL;function n3e(){if(VL)return bf;VL=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.postEndpoint=r,bf.putEndpoint=n,bf.deleteEndpoint=s,bf.getEndpoint=i;const t=r3e();function e(o,a,c,u){const l=(0,t.insertParams)(a,c),d=(0,t.stringifyQuery)(u);return`${o}${l}${d}`}function r(o,a,c){const u=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.fetchData)(u,"POST",c==null?void 0:c.body,c==null?void 0:c.headers,c==null?void 0:c.credentials)}function n(o,a,c){const u=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.fetchData)(u,"PUT",c==null?void 0:c.body,c==null?void 0:c.headers,c==null?void 0:c.credentials)}function s(o,a,c){const u=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.fetchData)(u,"DELETE",c==null?void 0:c.body,c==null?void 0:c.headers,c==null?void 0:c.credentials)}function i(o,a,c,u){if(u)return(0,t.getData)(u,void 0,c==null?void 0:c.credentials);const l=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.getData)(l,c==null?void 0:c.headers,c==null?void 0:c.credentials)}return bf}var Cy={},GL;function s3e(){return GL||(GL=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.DEFAULT_BASE_URL=void 0,Cy.DEFAULT_BASE_URL="https://safe-client.safe.global"),Cy}var Sy={},WL;function i3e(){if(WL)return Sy;WL=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.ImplementationVersionState=void 0;var t;return(function(e){e.UP_TO_DATE="UP_TO_DATE",e.OUTDATED="OUTDATED",e.UNKNOWN="UNKNOWN"})(t||(Sy.ImplementationVersionState=t={})),Sy}var Nc={},KL;function o3e(){if(KL)return Nc;KL=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.SafeAppSocialPlatforms=Nc.SafeAppFeatures=Nc.SafeAppAccessPolicyTypes=void 0;var t;(function(n){n.NoRestrictions="NO_RESTRICTIONS",n.DomainAllowlist="DOMAIN_ALLOWLIST"})(t||(Nc.SafeAppAccessPolicyTypes=t={}));var e;(function(n){n.BATCHED_TRANSACTIONS="BATCHED_TRANSACTIONS"})(e||(Nc.SafeAppFeatures=e={}));var r;return(function(n){n.TWITTER="TWITTER",n.GITHUB="GITHUB",n.DISCORD="DISCORD",n.TELEGRAM="TELEGRAM"})(r||(Nc.SafeAppSocialPlatforms=r={})),Nc}var wr={},ZL;function a3e(){if(ZL)return wr;ZL=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.LabelValue=wr.StartTimeValue=wr.DurationType=wr.DetailedExecutionInfoType=wr.TransactionListItemType=wr.ConflictType=wr.TransactionInfoType=wr.SettingsInfoType=wr.TransactionTokenType=wr.TransferDirection=wr.TransactionStatus=wr.Operation=void 0;var t;(function(f){f[f.CALL=0]="CALL",f[f.DELEGATE=1]="DELEGATE"})(t||(wr.Operation=t={}));var e;(function(f){f.AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",f.AWAITING_EXECUTION="AWAITING_EXECUTION",f.CANCELLED="CANCELLED",f.FAILED="FAILED",f.SUCCESS="SUCCESS"})(e||(wr.TransactionStatus=e={}));var r;(function(f){f.INCOMING="INCOMING",f.OUTGOING="OUTGOING",f.UNKNOWN="UNKNOWN"})(r||(wr.TransferDirection=r={}));var n;(function(f){f.ERC20="ERC20",f.ERC721="ERC721",f.NATIVE_COIN="NATIVE_COIN"})(n||(wr.TransactionTokenType=n={}));var s;(function(f){f.SET_FALLBACK_HANDLER="SET_FALLBACK_HANDLER",f.ADD_OWNER="ADD_OWNER",f.REMOVE_OWNER="REMOVE_OWNER",f.SWAP_OWNER="SWAP_OWNER",f.CHANGE_THRESHOLD="CHANGE_THRESHOLD",f.CHANGE_IMPLEMENTATION="CHANGE_IMPLEMENTATION",f.ENABLE_MODULE="ENABLE_MODULE",f.DISABLE_MODULE="DISABLE_MODULE",f.SET_GUARD="SET_GUARD",f.DELETE_GUARD="DELETE_GUARD"})(s||(wr.SettingsInfoType=s={}));var i;(function(f){f.TRANSFER="Transfer",f.SETTINGS_CHANGE="SettingsChange",f.CUSTOM="Custom",f.CREATION="Creation",f.SWAP_ORDER="SwapOrder",f.TWAP_ORDER="TwapOrder",f.SWAP_TRANSFER="SwapTransfer",f.NATIVE_STAKING_DEPOSIT="NativeStakingDeposit",f.NATIVE_STAKING_VALIDATORS_EXIT="NativeStakingValidatorsExit",f.NATIVE_STAKING_WITHDRAW="NativeStakingWithdraw"})(i||(wr.TransactionInfoType=i={}));var o;(function(f){f.NONE="None",f.HAS_NEXT="HasNext",f.END="End"})(o||(wr.ConflictType=o={}));var a;(function(f){f.TRANSACTION="TRANSACTION",f.LABEL="LABEL",f.CONFLICT_HEADER="CONFLICT_HEADER",f.DATE_LABEL="DATE_LABEL"})(a||(wr.TransactionListItemType=a={}));var c;(function(f){f.MULTISIG="MULTISIG",f.MODULE="MODULE"})(c||(wr.DetailedExecutionInfoType=c={}));var u;(function(f){f.AUTO="AUTO",f.LIMIT_DURATION="LIMIT_DURATION"})(u||(wr.DurationType=u={}));var l;(function(f){f.AT_MINING_TIME="AT_MINING_TIME",f.AT_EPOCH="AT_EPOCH"})(l||(wr.StartTimeValue=l={}));var d;return(function(f){f.Queued="Queued",f.Next="Next"})(d||(wr.LabelValue=d={})),wr}var Bc={},YL;function c3e(){if(YL)return Bc;YL=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.FEATURES=Bc.GAS_PRICE_TYPE=Bc.RPC_AUTHENTICATION=void 0;var t;(function(n){n.API_KEY_PATH="API_KEY_PATH",n.NO_AUTHENTICATION="NO_AUTHENTICATION",n.UNKNOWN="UNKNOWN"})(t||(Bc.RPC_AUTHENTICATION=t={}));var e;(function(n){n.ORACLE="ORACLE",n.FIXED="FIXED",n.FIXED_1559="FIXED1559",n.UNKNOWN="UNKNOWN"})(e||(Bc.GAS_PRICE_TYPE=e={}));var r;return(function(n){n.ERC721="ERC721",n.SAFE_APPS="SAFE_APPS",n.CONTRACT_INTERACTION="CONTRACT_INTERACTION",n.DOMAIN_LOOKUP="DOMAIN_LOOKUP",n.SPENDING_LIMIT="SPENDING_LIMIT",n.EIP1559="EIP1559",n.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL",n.TX_SIMULATION="TX_SIMULATION",n.EIP1271="EIP1271"})(r||(Bc.FEATURES=r={})),Bc}var Iy={},JL;function u3e(){if(JL)return Iy;JL=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.TokenType=void 0;var t;return(function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_TOKEN="NATIVE_TOKEN",e.UNKNOWN="UNKNOWN"})(t||(Iy.TokenType=t={})),Iy}var Q5={},QL;function l3e(){return QL||(QL=1,Object.defineProperty(Q5,"__esModule",{value:!0})),Q5}var wf={},XL;function d3e(){if(XL)return wf;XL=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.NativeStakingStatus=wf.ConfirmationViewTypes=void 0;var t;(function(r){r.GENERIC="GENERIC",r.COW_SWAP_ORDER="COW_SWAP_ORDER",r.COW_SWAP_TWAP_ORDER="COW_SWAP_TWAP_ORDER",r.KILN_NATIVE_STAKING_DEPOSIT="KILN_NATIVE_STAKING_DEPOSIT",r.KILN_NATIVE_STAKING_VALIDATORS_EXIT="KILN_NATIVE_STAKING_VALIDATORS_EXIT",r.KILN_NATIVE_STAKING_WITHDRAW="KILN_NATIVE_STAKING_WITHDRAW"})(t||(wf.ConfirmationViewTypes=t={}));var e;return(function(r){r.NOT_STAKED="NOT_STAKED",r.ACTIVATING="ACTIVATING",r.DEPOSIT_IN_PROGRESS="DEPOSIT_IN_PROGRESS",r.ACTIVE="ACTIVE",r.EXIT_REQUESTED="EXIT_REQUESTED",r.EXITING="EXITING",r.EXITED="EXITED",r.SLASHED="SLASHED"})(e||(wf.NativeStakingStatus=e={})),wf}var Ef={},e9;function f3e(){if(e9)return Ef;e9=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.SafeMessageStatus=Ef.SafeMessageListItemType=void 0;var t;(function(r){r.DATE_LABEL="DATE_LABEL",r.MESSAGE="MESSAGE"})(t||(Ef.SafeMessageListItemType=t={}));var e;return(function(r){r.NEEDS_CONFIRMATION="NEEDS_CONFIRMATION",r.CONFIRMED="CONFIRMED"})(e||(Ef.SafeMessageStatus=e={})),Ef}var Ty={},t9;function h3e(){if(t9)return Ty;t9=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.DeviceType=void 0;var t;return(function(e){e.ANDROID="ANDROID",e.IOS="IOS",e.WEB="WEB"})(t||(Ty.DeviceType=t={})),Ty}var X5={},r9;function p3e(){return r9||(r9=1,Object.defineProperty(X5,"__esModule",{value:!0})),X5}var n9;function m3e(){return n9||(n9=1,(function(t){var e=yf&&yf.__createBinding||(Object.create?(function(de,oe,$,L){L===void 0&&(L=$);var H=Object.getOwnPropertyDescriptor(oe,$);(!H||("get"in H?!oe.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return oe[$]}}),Object.defineProperty(de,L,H)}):(function(de,oe,$,L){L===void 0&&(L=$),de[L]=oe[$]})),r=yf&&yf.__exportStar||function(de,oe){for(var $ in de)$!=="default"&&!Object.prototype.hasOwnProperty.call(oe,$)&&e(oe,de,$)};Object.defineProperty(t,"__esModule",{value:!0}),t.setBaseUrl=void 0,t.relayTransaction=a,t.getRelayCount=c,t.getSafeInfo=u,t.getIncomingTransfers=l,t.getModuleTransactions=d,t.getMultisigTransactions=f,t.getBalances=h,t.getFiatCurrencies=p,t.getOwnedSafes=m,t.getAllOwnedSafes=y,t.getCollectibles=E,t.getCollectiblesPage=w,t.getTransactionHistory=b,t.getTransactionQueue=g,t.getTransactionDetails=v,t.deleteTransaction=A,t.postSafeGasEstimation=C,t.getNonces=x,t.proposeTransaction=T,t.getConfirmationView=N,t.getTxPreview=M,t.getChainsConfig=k,t.getChainConfig=B,t.getSafeApps=U,t.getMasterCopies=I,t.getDecodedData=S,t.getSafeMessages=_,t.getSafeMessage=R,t.proposeSafeMessage=O,t.confirmSafeMessage=P,t.getDelegates=D,t.registerDevice=j,t.unregisterSafe=F,t.unregisterDevice=q,t.registerEmail=z,t.changeEmail=W,t.resendEmailVerificationCode=K,t.verifyEmail=re,t.getRegisteredEmail=Q,t.deleteRegisteredEmail=X,t.registerRecoveryModule=ie,t.unsubscribeSingle=Y,t.unsubscribeAll=V,t.getSafeOverviews=Z,t.getContract=ne,t.getAuthNonce=ue,t.verifyAuth=ce,t.createAccount=ge,t.getAccount=we,t.deleteAccount=me,t.getAccountDataTypes=ae,t.getAccountDataSettings=Oe,t.putAccountDataSettings=Se,t.getIndexingStatus=Be;const n=n3e(),s=s3e();r(i3e(),t),r(o3e(),t),r(a3e(),t),r(c3e(),t),r(u3e(),t),r(l3e(),t),r(d3e(),t),r(f3e(),t),r(h3e(),t),r(p3e(),t);let i=s.DEFAULT_BASE_URL;const o=de=>{i=de};t.setBaseUrl=o;function a(de,oe){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/relay",{path:{chainId:de},body:oe})}function c(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/relay/{address}",{path:{chainId:de,address:oe}})}function u(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:de,address:oe}})}function l(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/incoming-transfers/",{path:{chainId:de,address:oe},query:$},L)}function d(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/module-transactions/",{path:{chainId:de,address:oe},query:$},L)}function f(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/multisig-transactions/",{path:{chainId:de,address:oe},query:$},L)}function h(de,oe,$="usd",L={}){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:de,address:oe,currency:$},query:L})}function p(){return(0,n.getEndpoint)(i,"/v1/balances/supported-fiat-codes")}function m(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:de,address:oe}})}function y(de){return(0,n.getEndpoint)(i,"/v1/owners/{address}/safes",{path:{address:de}})}function E(de,oe,$={}){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:de,address:oe},query:$})}function w(de,oe,$={},L){return(0,n.getEndpoint)(i,"/v2/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:de,address:oe},query:$},L)}function b(de,oe,$={},L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:de,safe_address:oe},query:$},L)}function g(de,oe,$={},L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:de,safe_address:oe},query:$},L)}function v(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:de,transactionId:oe}})}function A(de,oe,$){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/transactions/{safeTxHash}",{path:{chainId:de,safeTxHash:oe},body:{signature:$}})}function C(de,oe,$){return(0,n.postEndpoint)(i,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:de,safe_address:oe},body:$})}function x(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/nonces",{path:{chainId:de,safe_address:oe}})}function T(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:de,safe_address:oe},body:$})}function N(de,oe,$,L,H,ee){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/views/transaction-confirmation",{path:{chainId:de,safe_address:oe},body:{operation:$,data:L,to:H,value:ee}})}function M(de,oe,$,L,H,ee){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/transactions/{safe_address}/preview",{path:{chainId:de,safe_address:oe},body:{operation:$,data:L,to:H,value:ee}})}function k(de){return(0,n.getEndpoint)(i,"/v1/chains",{query:de})}function B(de){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}",{path:{chainId:de}})}function U(de,oe={}){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safe-apps",{path:{chainId:de},query:oe})}function I(de){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:de}})}function S(de,oe,$,L){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/data-decoder",{path:{chainId:de},body:{operation:oe,data:$,to:L}})}function _(de,oe,$){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:de,safe_address:oe},query:{}},$)}function R(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/messages/{message_hash}",{path:{chainId:de,message_hash:oe}})}function O(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:de,safe_address:oe},body:$})}function P(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/messages/{message_hash}/signatures",{path:{chainId:de,message_hash:oe},body:$})}function D(de,oe={}){return(0,n.getEndpoint)(i,"/v2/chains/{chainId}/delegates",{path:{chainId:de},query:oe})}function j(de){return(0,n.postEndpoint)(i,"/v1/register/notifications",{body:de})}function F(de,oe,$){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/notifications/devices/{uuid}/safes/{safe_address}",{path:{chainId:de,safe_address:oe,uuid:$}})}function q(de,oe){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/notifications/devices/{uuid}",{path:{chainId:de,uuid:oe}})}function z(de,oe,$,L){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails",{path:{chainId:de,safe_address:oe},body:$,headers:L})}function W(de,oe,$,L,H){return(0,n.putEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:de,safe_address:oe,signer:$},body:L,headers:H})}function K(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify-resend",{path:{chainId:de,safe_address:oe,signer:$},body:""})}function re(de,oe,$,L){return(0,n.putEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify",{path:{chainId:de,safe_address:oe,signer:$},body:L})}function Q(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:de,safe_address:oe,signer:$},headers:L})}function X(de,oe,$,L){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:de,safe_address:oe,signer:$},headers:L})}function ie(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/recovery",{path:{chainId:de,safe_address:oe},body:$})}function Y(de){return(0,n.deleteEndpoint)(i,"/v1/subscriptions",{query:de})}function V(de){return(0,n.deleteEndpoint)(i,"/v1/subscriptions/all",{query:de})}function Z(de,oe){return(0,n.getEndpoint)(i,"/v1/safes",{query:Object.assign(Object.assign({},oe),{safes:de.join(",")})})}function ne(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/contracts/{contractAddress}",{path:{chainId:de,contractAddress:oe}})}function ue(){return(0,n.getEndpoint)(i,"/v1/auth/nonce",{credentials:"include"})}function ce(de){return(0,n.postEndpoint)(i,"/v1/auth/verify",{body:de,credentials:"include"})}function ge(de){return(0,n.postEndpoint)(i,"/v1/accounts",{body:de,credentials:"include"})}function we(de){return(0,n.getEndpoint)(i,"/v1/accounts/{address}",{path:{address:de},credentials:"include"})}function me(de){return(0,n.deleteEndpoint)(i,"/v1/accounts/{address}",{path:{address:de},credentials:"include"})}function ae(){return(0,n.getEndpoint)(i,"/v1/accounts/data-types")}function Oe(de){return(0,n.getEndpoint)(i,"/v1/accounts/{address}/data-settings",{path:{address:de},credentials:"include"})}function Se(de,oe){return(0,n.putEndpoint)(i,"/v1/accounts/{address}/data-settings",{path:{address:de},body:oe,credentials:"include"})}function Be(de){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/about/indexing",{path:{chainId:de}})}})(yf)),yf}var s9;function g3e(){return s9||(s9=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TransferDirection=t.TransactionStatus=t.TokenType=t.Operation=void 0;var e=m3e();Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return e.Operation}}),Object.defineProperty(t,"TokenType",{enumerable:!0,get:function(){return e.TokenType}}),Object.defineProperty(t,"TransactionStatus",{enumerable:!0,get:function(){return e.TransactionStatus}}),Object.defineProperty(t,"TransferDirection",{enumerable:!0,get:function(){return e.TransferDirection}})})(J5)),J5}var eO={},i9;function y3e(){return i9||(i9=1,Object.defineProperty(eO,"__esModule",{value:!0}),_p()),eO}var o9;function z3(){return o9||(o9=1,(function(t){var e=gf&&gf.__createBinding||(Object.create?(function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}):(function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]})),r=gf&&gf.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(e3e(),t),r(t3e(),t),r(g3e(),t),r(y3e(),t)})(gf)),gf}var a9;function b3e(){if(a9)return _y;a9=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.TXs=void 0;const t=_p(),e=z3();class r{constructor(s){this.communicator=s}async getBySafeTxHash(s){if(!s)throw new Error("Invalid safeTxHash");return(await this.communicator.send(t.Methods.getTxBySafeTxHash,{safeTxHash:s})).data}async signMessage(s){const i={message:s};return(await this.communicator.send(t.Methods.signMessage,i)).data}async signTypedMessage(s){if(!(0,e.isObjectEIP712TypedData)(s))throw new Error("Invalid typed data");return(await this.communicator.send(t.Methods.signTypedMessage,{typedData:s})).data}async send({txs:s,params:i}){if(!s||!s.length)throw new Error("No transactions were passed");const o={txs:s,params:i};return(await this.communicator.send(t.Methods.sendTransactions,o)).data}}return _y.TXs=r,_y}var Py={},xy={},c9;function $3(){return c9||(c9=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.RPC_CALLS=void 0,xy.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"}),xy}var u9;function w3e(){if(u9)return Py;u9=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.Eth=void 0;const t=$3(),e=_p(),r={defaultBlockParam:(s="latest")=>s,returnFullTxObjectParam:(s=!1)=>s,blockNumberToHex:s=>Number.isInteger(s)?`0x${s.toString(16)}`:s};class n{constructor(i){this.communicator=i,this.call=this.buildRequest({call:t.RPC_CALLS.eth_call,formatters:[null,r.defaultBlockParam]}),this.getBalance=this.buildRequest({call:t.RPC_CALLS.eth_getBalance,formatters:[null,r.defaultBlockParam]}),this.getCode=this.buildRequest({call:t.RPC_CALLS.eth_getCode,formatters:[null,r.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:t.RPC_CALLS.eth_getStorageAt,formatters:[null,r.blockNumberToHex,r.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:t.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByHash,formatters:[null,r.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByNumber,formatters:[r.blockNumberToHex,r.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionCount,formatters:[null,r.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:t.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=o=>this.buildRequest({call:t.RPC_CALLS.eth_estimateGas})([o]),this.setSafeSettings=this.buildRequest({call:t.RPC_CALLS.safe_setSettings})}buildRequest(i){const{call:o,formatters:a}=i;return async c=>{a&&Array.isArray(c)&&a.forEach((d,f)=>{d&&(c[f]=d(c[f]))});const u={call:o,params:c||[]};return(await this.communicator.send(e.Methods.rpcCall,u)).data}}}return Py.Eth=n,Py}var kc={},tO={},rO={},Oy={},Ry={},l9;function E3e(){return l9||(l9=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.version=void 0,Ry.version="1.1.0"),Ry}var d9;function Tg(){if(d9)return Oy;d9=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.BaseError=void 0;const t=E3e();class e extends Error{constructor(n,s={}){var c;const i=s.cause instanceof e?s.cause.details:(c=s.cause)!=null&&c.message?s.cause.message:s.details,o=s.cause instanceof e&&s.cause.docsPath||s.docsPath,a=[n||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${t.version}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),s.cause&&(this.cause=s.cause),this.details=i,this.docsPath=o,this.metaMessages=s.metaMessages,this.shortMessage=n}}return Oy.BaseError=e,Oy}var Kv={},f9;function v3e(){if(f9)return Kv;f9=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.narrow=t;function t(e){return e}return Kv}var Zv={},Yv={},Jv={},Qv={},Oa={},h9;function BP(){if(h9)return Oa;h9=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.isTupleRegex=Oa.integerRegex=Oa.bytesRegex=void 0,Oa.execTyped=t;function t(e,r){const n=e.exec(r);return n==null?void 0:n.groups}return Oa.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Oa.integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Oa.isTupleRegex=/^\(.+?\).*?$/,Oa}var p9;function Pte(){if(p9)return Qv;p9=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.formatAbiParameter=r;const t=BP(),e=/^tuple(?<array>(\[(\d*)\])*)$/;function r(n){let s=n.type;if(e.test(n.type)&&"components"in n){s="(";const i=n.components.length;for(let a=0;a<i;a++){const c=n.components[a];s+=r(c),a<i-1&&(s+=", ")}const o=(0,t.execTyped)(e,n.type);return s+=`)${(o==null?void 0:o.array)??""}`,r({...n,type:s})}return"indexed"in n&&n.indexed&&(s=`${s} indexed`),n.name?`${s} ${n.name}`:s}return Qv}var m9;function xte(){if(m9)return Jv;m9=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.formatAbiParameters=e;const t=Pte();function e(r){let n="";const s=r.length;for(let i=0;i<s;i++){const o=r[i];n+=(0,t.formatAbiParameter)(o),i!==s-1&&(n+=", ")}return n}return Jv}var g9;function Ote(){if(g9)return Yv;g9=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.formatAbiItem=e;const t=xte();function e(r){var n;return r.type==="function"?`function ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability&&r.stateMutability!=="nonpayable"?` ${r.stateMutability}`:""}${(n=r.outputs)!=null&&n.length?` returns (${(0,t.formatAbiParameters)(r.outputs)})`:""}`:r.type==="event"?`event ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="error"?`error ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="constructor"?`constructor(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability==="payable"?" payable":""}`:r.type==="fallback"?`fallback() external${r.stateMutability==="payable"?" payable":""}`:"receive() external payable"}return Yv}var y9;function _3e(){if(y9)return Zv;y9=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.formatAbi=e;const t=Ote();function e(r){const n=[],s=r.length;for(let i=0;i<s;i++){const o=r[i],a=(0,t.formatAbiItem)(o);n.push(a)}return n}return Zv}var Xv={},Zr={},b9;function Pg(){if(b9)return Zr;b9=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.functionModifiers=Zr.eventModifiers=Zr.modifiers=void 0,Zr.isErrorSignature=r,Zr.execErrorSignature=n,Zr.isEventSignature=i,Zr.execEventSignature=o,Zr.isFunctionSignature=c,Zr.execFunctionSignature=u,Zr.isStructSignature=d,Zr.execStructSignature=f,Zr.isConstructorSignature=p,Zr.execConstructorSignature=m,Zr.isFallbackSignature=E,Zr.execFallbackSignature=w,Zr.isReceiveSignature=g;const t=BP(),e=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function r(v){return e.test(v)}function n(v){return(0,t.execTyped)(e,v)}const s=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function i(v){return s.test(v)}function o(v){return(0,t.execTyped)(s,v)}const a=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function c(v){return a.test(v)}function u(v){return(0,t.execTyped)(a,v)}const l=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function d(v){return l.test(v)}function f(v){return(0,t.execTyped)(l,v)}const h=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function p(v){return h.test(v)}function m(v){return(0,t.execTyped)(h,v)}const y=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function E(v){return y.test(v)}function w(v){return(0,t.execTyped)(y,v)}const b=/^receive\(\) external payable$/;function g(v){return b.test(v)}return Zr.modifiers=new Set(["memory","indexed","storage","calldata"]),Zr.eventModifiers=new Set(["indexed"]),Zr.functionModifiers=new Set(["calldata","memory","storage"]),Zr}var e_={},jc={},w9;function kP(){if(w9)return jc;w9=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.UnknownSolidityTypeError=jc.UnknownTypeError=jc.InvalidAbiItemError=void 0;const t=Tg();class e extends t.BaseError{constructor({signature:i}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(i,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}jc.InvalidAbiItemError=e;class r extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}jc.UnknownTypeError=r;class n extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}return jc.UnknownSolidityTypeError=n,jc}var Hn={},E9;function mE(){if(E9)return Hn;E9=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.InvalidAbiTypeParameterError=Hn.InvalidFunctionModifierError=Hn.InvalidModifierError=Hn.SolidityProtectedKeywordError=Hn.InvalidParameterError=Hn.InvalidAbiParametersError=Hn.InvalidAbiParameterError=void 0;const t=Tg();class e extends t.BaseError{constructor({param:u}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}Hn.InvalidAbiParameterError=e;class r extends t.BaseError{constructor({params:u}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}Hn.InvalidAbiParametersError=r;class n extends t.BaseError{constructor({param:u}){super("Invalid ABI parameter.",{details:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}Hn.InvalidParameterError=n;class s extends t.BaseError{constructor({param:u,name:l}){super("Invalid ABI parameter.",{details:u,metaMessages:[`"${l}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}Hn.SolidityProtectedKeywordError=s;class i extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}Hn.InvalidModifierError=i;class o extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${d}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}Hn.InvalidFunctionModifierError=o;class a extends t.BaseError{constructor({abiParameter:u}){super("Invalid ABI parameter.",{details:JSON.stringify(u,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}return Hn.InvalidAbiTypeParameterError=a,Hn}var Dc={},v9;function V3(){if(v9)return Dc;v9=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.InvalidStructSignatureError=Dc.UnknownSignatureError=Dc.InvalidSignatureError=void 0;const t=Tg();class e extends t.BaseError{constructor({signature:i,type:o}){super(`Invalid ${o} signature.`,{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}Dc.InvalidSignatureError=e;class r extends t.BaseError{constructor({signature:i}){super("Unknown signature.",{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}Dc.UnknownSignatureError=r;class n extends t.BaseError{constructor({signature:i}){super("Invalid struct signature.",{details:i,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}return Dc.InvalidStructSignatureError=n,Dc}var Ny={},_9;function Rte(){if(_9)return Ny;_9=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.CircularReferenceError=void 0;const t=Tg();class e extends t.BaseError{constructor({type:n}){super("Circular reference detected.",{metaMessages:[`Struct "${n}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}return Ny.CircularReferenceError=e,Ny}var Ks={},By={},A9;function Nte(){if(A9)return By;A9=1,Object.defineProperty(By,"__esModule",{value:!0}),By.InvalidParenthesisError=void 0;const t=Tg();class e extends t.BaseError{constructor({current:n,depth:s}){super("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${s>0?"opening":"closing"} parentheses.`],details:`Depth "${s}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}return By.InvalidParenthesisError=e,By}var Yp={},C9;function A3e(){if(C9)return Yp;C9=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.parameterCache=void 0,Yp.getParameterCacheKey=t;function t(e,r,n){let s="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const a of i[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;s+=`(${i[0]}{${o}})`}return r?`${r}:${e}${s}`:e}return Yp.parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),Yp}var S9;function dg(){if(S9)return Ks;S9=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.parseSignature=a,Ks.parseFunctionSignature=c,Ks.parseEventSignature=u,Ks.parseErrorSignature=l,Ks.parseConstructorSignature=d,Ks.parseFallbackSignature=f,Ks.parseAbiParameter=y,Ks.splitParameters=E,Ks.isSolidityType=w,Ks.isSolidityKeyword=g,Ks.isValidDataLocation=v;const t=BP(),e=kP(),r=mE(),n=V3(),s=Nte(),i=A3e(),o=Pg();function a(A,C={}){if((0,o.isFunctionSignature)(A))return c(A,C);if((0,o.isEventSignature)(A))return u(A,C);if((0,o.isErrorSignature)(A))return l(A,C);if((0,o.isConstructorSignature)(A))return d(A,C);if((0,o.isFallbackSignature)(A))return f(A);if((0,o.isReceiveSignature)(A))return{type:"receive",stateMutability:"payable"};throw new n.UnknownSignatureError({signature:A})}function c(A,C={}){const x=(0,o.execFunctionSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"function"});const T=E(x.parameters),N=[],M=T.length;for(let B=0;B<M;B++)N.push(y(T[B],{modifiers:o.functionModifiers,structs:C,type:"function"}));const k=[];if(x.returns){const B=E(x.returns),U=B.length;for(let I=0;I<U;I++)k.push(y(B[I],{modifiers:o.functionModifiers,structs:C,type:"function"}))}return{name:x.name,type:"function",stateMutability:x.stateMutability??"nonpayable",inputs:N,outputs:k}}function u(A,C={}){const x=(0,o.execEventSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"event"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{modifiers:o.eventModifiers,structs:C,type:"event"}));return{name:x.name,type:"event",inputs:N}}function l(A,C={}){const x=(0,o.execErrorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"error"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"error"}));return{name:x.name,type:"error",inputs:N}}function d(A,C={}){const x=(0,o.execConstructorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"constructor"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"constructor"}));return{type:"constructor",stateMutability:x.stateMutability??"nonpayable",inputs:N}}function f(A){const C=(0,o.execFallbackSignature)(A);if(!C)throw new n.InvalidSignatureError({signature:A,type:"fallback"});return{type:"fallback",stateMutability:C.stateMutability??"nonpayable"}}const h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m=/^u?int$/;function y(A,C){var _,R;const x=(0,i.getParameterCacheKey)(A,C==null?void 0:C.type,C==null?void 0:C.structs);if(i.parameterCache.has(x))return i.parameterCache.get(x);const T=t.isTupleRegex.test(A),N=(0,t.execTyped)(T?p:h,A);if(!N)throw new r.InvalidParameterError({param:A});if(N.name&&g(N.name))throw new r.SolidityProtectedKeywordError({param:A,name:N.name});const M=N.name?{name:N.name}:{},k=N.modifier==="indexed"?{indexed:!0}:{},B=(C==null?void 0:C.structs)??{};let U,I={};if(T){U="tuple";const O=E(N.type),P=[],D=O.length;for(let j=0;j<D;j++)P.push(y(O[j],{structs:B}));I={components:P}}else if(N.type in B)U="tuple",I={components:B[N.type]};else if(m.test(N.type))U=`${N.type}256`;else if(N.type==="address payable")U="address";else if(U=N.type,(C==null?void 0:C.type)!=="struct"&&!w(U))throw new e.UnknownSolidityTypeError({type:U});if(N.modifier){if(!((R=(_=C==null?void 0:C.modifiers)==null?void 0:_.has)!=null&&R.call(_,N.modifier)))throw new r.InvalidModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier});if(o.functionModifiers.has(N.modifier)&&!v(U,!!N.array))throw new r.InvalidFunctionModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier})}const S={type:`${U}${N.array??""}`,...M,...k,...I};return i.parameterCache.set(x,S),S}function E(A,C=[],x="",T=0){const N=A.trim().length;for(let M=0;M<N;M++){const k=A[M],B=A.slice(M+1);switch(k){case",":return T===0?E(B,[...C,x.trim()]):E(B,C,`${x}${k}`,T);case"(":return E(B,C,`${x}${k}`,T+1);case")":return E(B,C,`${x}${k}`,T-1);default:return E(B,C,`${x}${k}`,T)}}if(x==="")return C;if(T!==0)throw new s.InvalidParenthesisError({current:x,depth:T});return C.push(x.trim()),C}function w(A){return A==="address"||A==="bool"||A==="function"||A==="string"||t.bytesRegex.test(A)||t.integerRegex.test(A)}const b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function g(A){return A==="address"||A==="bool"||A==="function"||A==="string"||A==="tuple"||t.bytesRegex.test(A)||t.integerRegex.test(A)||b.test(A)}function v(A,C){return C||A==="bytes"||A==="string"||A==="tuple"}return Ks}var I9;function jP(){if(I9)return e_;I9=1,Object.defineProperty(e_,"__esModule",{value:!0}),e_.parseStructs=a;const t=BP(),e=kP(),r=mE(),n=V3(),s=Rte(),i=Pg(),o=dg();function a(l){const d={},f=l.length;for(let y=0;y<f;y++){const E=l[y];if(!(0,i.isStructSignature)(E))continue;const w=(0,i.execStructSignature)(E);if(!w)throw new n.InvalidSignatureError({signature:E,type:"struct"});const b=w.properties.split(";"),g=[],v=b.length;for(let A=0;A<v;A++){const x=b[A].trim();if(!x)continue;const T=(0,o.parseAbiParameter)(x,{type:"struct"});g.push(T)}if(!g.length)throw new n.InvalidStructSignatureError({signature:E});d[w.name]=g}const h={},p=Object.entries(d),m=p.length;for(let y=0;y<m;y++){const[E,w]=p[y];h[E]=u(w,d)}return h}const c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function u(l,d,f=new Set){const h=[],p=l.length;for(let m=0;m<p;m++){const y=l[m];if(t.isTupleRegex.test(y.type))h.push(y);else{const w=(0,t.execTyped)(c,y.type);if(!(w!=null&&w.type))throw new r.InvalidAbiTypeParameterError({abiParameter:y});const{array:b,type:g}=w;if(g in d){if(f.has(g))throw new s.CircularReferenceError({type:g});h.push({...y,type:`tuple${b??""}`,components:u(d[g]??[],d,new Set([...f,g]))})}else if((0,o.isSolidityType)(g))h.push(y);else throw new e.UnknownTypeError({type:g})}}return h}return e_}var T9;function C3e(){if(T9)return Xv;T9=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.parseAbi=n;const t=Pg(),e=jP(),r=dg();function n(s){const i=(0,e.parseStructs)(s),o=[],a=s.length;for(let c=0;c<a;c++){const u=s[c];(0,t.isStructSignature)(u)||o.push((0,r.parseSignature)(u,i))}return o}return Xv}var t_={},P9;function S3e(){if(P9)return t_;P9=1,Object.defineProperty(t_,"__esModule",{value:!0}),t_.parseAbiItem=s;const t=kP(),e=Pg(),r=jP(),n=dg();function s(i){let o;if(typeof i=="string")o=(0,n.parseSignature)(i);else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseSignature)(l,a);break}}}if(!o)throw new t.InvalidAbiItemError({signature:i});return o}return t_}var r_={},x9;function I3e(){if(x9)return r_;x9=1,Object.defineProperty(r_,"__esModule",{value:!0}),r_.parseAbiParameter=s;const t=mE(),e=Pg(),r=jP(),n=dg();function s(i){let o;if(typeof i=="string")o=(0,n.parseAbiParameter)(i,{modifiers:e.modifiers});else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseAbiParameter)(l,{modifiers:e.modifiers,structs:a});break}}}if(!o)throw new t.InvalidAbiParameterError({param:i});return o}return r_}var n_={},O9;function T3e(){if(O9)return n_;O9=1,Object.defineProperty(n_,"__esModule",{value:!0}),n_.parseAbiParameters=i;const t=mE(),e=Pg(),r=jP(),n=dg(),s=dg();function i(o){const a=[];if(typeof o=="string"){const c=(0,n.splitParameters)(o),u=c.length;for(let l=0;l<u;l++)a.push((0,s.parseAbiParameter)(c[l],{modifiers:e.modifiers}))}else{const c=(0,r.parseStructs)(o),u=o.length;for(let l=0;l<u;l++){const d=o[l];if((0,e.isStructSignature)(d))continue;const f=(0,n.splitParameters)(d),h=f.length;for(let p=0;p<h;p++)a.push((0,s.parseAbiParameter)(f[p],{modifiers:e.modifiers,structs:c}))}}if(a.length===0)throw new t.InvalidAbiParametersError({params:o});return a}return n_}var R9;function DP(){return R9||(R9=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularReferenceError=t.InvalidParenthesisError=t.UnknownSignatureError=t.InvalidSignatureError=t.InvalidStructSignatureError=t.InvalidAbiParameterError=t.InvalidAbiParametersError=t.InvalidParameterError=t.SolidityProtectedKeywordError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.UnknownSolidityTypeError=t.InvalidAbiItemError=t.UnknownTypeError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.formatAbiParameters=t.formatAbiParameter=t.formatAbiItem=t.formatAbi=t.narrow=t.BaseError=void 0;var e=Tg();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return e.BaseError}});var r=v3e();Object.defineProperty(t,"narrow",{enumerable:!0,get:function(){return r.narrow}});var n=_3e();Object.defineProperty(t,"formatAbi",{enumerable:!0,get:function(){return n.formatAbi}});var s=Ote();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return s.formatAbiItem}});var i=Pte();Object.defineProperty(t,"formatAbiParameter",{enumerable:!0,get:function(){return i.formatAbiParameter}});var o=xte();Object.defineProperty(t,"formatAbiParameters",{enumerable:!0,get:function(){return o.formatAbiParameters}});var a=C3e();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return a.parseAbi}});var c=S3e();Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return c.parseAbiItem}});var u=I3e();Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return u.parseAbiParameter}});var l=T3e();Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return l.parseAbiParameters}});var d=kP();Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return d.UnknownTypeError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return d.InvalidAbiItemError}}),Object.defineProperty(t,"UnknownSolidityTypeError",{enumerable:!0,get:function(){return d.UnknownSolidityTypeError}});var f=mE();Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return f.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return f.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return f.InvalidModifierError}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return f.SolidityProtectedKeywordError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return f.InvalidParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return f.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return f.InvalidAbiParameterError}});var h=V3();Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return h.InvalidStructSignatureError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return h.InvalidSignatureError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return h.UnknownSignatureError}});var p=Nte();Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return p.InvalidParenthesisError}});var m=Rte();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return m.CircularReferenceError}})})(rO)),rO}var Jp={},s_={},N9;function Yt(){if(N9)return s_;N9=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.getAction=t;function t(e,r,n){const s=e[r.name];if(typeof s=="function")return s;const i=e[n];return typeof i=="function"?i:o=>r(e,o)}return s_}var i_={},o_={},nt={},ky={},B9;function Vu(){if(B9)return ky;B9=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.formatAbiItem=e,ky.formatAbiParams=r;const t=Hr();function e(s,{includeName:i=!1}={}){if(s.type!=="function"&&s.type!=="event"&&s.type!=="error")throw new t.InvalidDefinitionTypeError(s.type);return`${s.name}(${r(s.inputs,{includeName:i})})`}function r(s,{includeName:i=!1}={}){return s?s.map(o=>n(o,{includeName:i})).join(i?", ":","):""}function n(s,{includeName:i}){return s.type.startsWith("tuple")?`(${r(s.components,{includeName:i})})${s.type.slice(5)}`:s.type+(i&&s.name?` ${s.name}`:"")}return ky}var a_={},c_={},k9;function zs(){if(k9)return c_;k9=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.isHex=t;function t(e,{strict:r=!0}={}){return!e||typeof e!="string"?!1:r?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}return c_}var j9;function vi(){if(j9)return a_;j9=1,Object.defineProperty(a_,"__esModule",{value:!0}),a_.size=e;const t=zs();function e(r){return(0,t.isHex)(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}return a_}var Qp={},jy={},D9;function P3e(){return D9||(D9=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.version=void 0,jy.version="2.40.3"),jy}var M9;function yt(){if(M9)return Qp;M9=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.BaseError=void 0,Qp.setErrorConfig=r;const t=P3e();let e={getDocsUrl:({docsBaseUrl:i,docsPath:o="",docsSlug:a})=>o?`${i??"https://viem.sh"}${o}${a?`#${a}`:""}`:void 0,version:`viem@${t.version}`};function r(i){e=i}class n extends Error{constructor(o,a={}){var f;const c=(()=>{var h;return a.cause instanceof n?a.cause.details:(h=a.cause)!=null&&h.message?a.cause.message:a.details})(),u=a.cause instanceof n&&a.cause.docsPath||a.docsPath,l=(f=e.getDocsUrl)==null?void 0:f.call(e,{...a,docsPath:u}),d=[o||"An error occurred.","",...a.metaMessages?[...a.metaMessages,""]:[],...l?[`Docs: ${l}`]:[],...c?[`Details: ${c}`]:[],...e.version?[`Version: ${e.version}`]:[]].join(`
`);super(d,a.cause?{cause:a.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=c,this.docsPath=u,this.metaMessages=a.metaMessages,this.name=a.name??this.name,this.shortMessage=o,this.version=t.version}walk(o){return s(this,o)}}Qp.BaseError=n;function s(i,o){return o!=null&&o(i)?i:i&&typeof i=="object"&&"cause"in i&&i.cause!==void 0?s(i.cause,o):o?null:i}return Qp}var U9;function Hr(){if(U9)return nt;U9=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.UnsupportedPackedAbiType=nt.InvalidDefinitionTypeError=nt.InvalidArrayError=nt.InvalidAbiDecodingTypeError=nt.InvalidAbiEncodingTypeError=nt.DecodeLogTopicsMismatch=nt.DecodeLogDataMismatch=nt.BytesSizeMismatchError=nt.AbiItemAmbiguityError=nt.AbiFunctionSignatureNotFoundError=nt.AbiFunctionOutputsNotFoundError=nt.AbiFunctionNotFoundError=nt.AbiEventNotFoundError=nt.AbiEventSignatureNotFoundError=nt.AbiEventSignatureEmptyTopicsError=nt.AbiErrorSignatureNotFoundError=nt.AbiErrorNotFoundError=nt.AbiErrorInputsNotFoundError=nt.AbiEncodingLengthMismatchError=nt.AbiEncodingBytesSizeMismatchError=nt.AbiEncodingArrayLengthMismatchError=nt.AbiDecodingZeroDataError=nt.AbiDecodingDataSizeTooSmallError=nt.AbiDecodingDataSizeInvalidError=nt.AbiConstructorParamsNotFoundError=nt.AbiConstructorNotFoundError=void 0;const t=Vu(),e=vi(),r=yt();class n extends r.BaseError{constructor({docsPath:U}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:U,name:"AbiConstructorNotFoundError"})}}nt.AbiConstructorNotFoundError=n;class s extends r.BaseError{constructor({docsPath:U}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:U,name:"AbiConstructorParamsNotFoundError"})}}nt.AbiConstructorParamsNotFoundError=s;class i extends r.BaseError{constructor({data:U,size:I}){super([`Data size of ${I} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${U} (${I} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}nt.AbiDecodingDataSizeInvalidError=i;class o extends r.BaseError{constructor({data:U,params:I,size:S}){super([`Data size of ${S} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${(0,t.formatAbiParams)(I,{includeName:!0})})`,`Data:   ${U} (${S} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=U,this.params=I,this.size=S}}nt.AbiDecodingDataSizeTooSmallError=o;class a extends r.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}nt.AbiDecodingZeroDataError=a;class c extends r.BaseError{constructor({expectedLength:U,givenLength:I,type:S}){super([`ABI encoding array length mismatch for type ${S}.`,`Expected length: ${U}`,`Given length: ${I}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}nt.AbiEncodingArrayLengthMismatchError=c;class u extends r.BaseError{constructor({expectedSize:U,value:I}){super(`Size of bytes "${I}" (bytes${(0,e.size)(I)}) does not match expected size (bytes${U}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}nt.AbiEncodingBytesSizeMismatchError=u;class l extends r.BaseError{constructor({expectedLength:U,givenLength:I}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${U}`,`Given length (values): ${I}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}nt.AbiEncodingLengthMismatchError=l;class d extends r.BaseError{constructor(U,{docsPath:I}){super([`Arguments (\`args\`) were provided to "${U}", but "${U}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:I,name:"AbiErrorInputsNotFoundError"})}}nt.AbiErrorInputsNotFoundError=d;class f extends r.BaseError{constructor(U,{docsPath:I}={}){super([`Error ${U?`"${U}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:I,name:"AbiErrorNotFoundError"})}}nt.AbiErrorNotFoundError=f;class h extends r.BaseError{constructor(U,{docsPath:I}){super([`Encoded error signature "${U}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${U}.`].join(`
`),{docsPath:I,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=U}}nt.AbiErrorSignatureNotFoundError=h;class p extends r.BaseError{constructor({docsPath:U}){super("Cannot extract event signature from empty topics.",{docsPath:U,name:"AbiEventSignatureEmptyTopicsError"})}}nt.AbiEventSignatureEmptyTopicsError=p;class m extends r.BaseError{constructor(U,{docsPath:I}){super([`Encoded event signature "${U}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${U}.`].join(`
`),{docsPath:I,name:"AbiEventSignatureNotFoundError"})}}nt.AbiEventSignatureNotFoundError=m;class y extends r.BaseError{constructor(U,{docsPath:I}={}){super([`Event ${U?`"${U}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:I,name:"AbiEventNotFoundError"})}}nt.AbiEventNotFoundError=y;class E extends r.BaseError{constructor(U,{docsPath:I}={}){super([`Function ${U?`"${U}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:I,name:"AbiFunctionNotFoundError"})}}nt.AbiFunctionNotFoundError=E;class w extends r.BaseError{constructor(U,{docsPath:I}){super([`Function "${U}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:I,name:"AbiFunctionOutputsNotFoundError"})}}nt.AbiFunctionOutputsNotFoundError=w;class b extends r.BaseError{constructor(U,{docsPath:I}){super([`Encoded function signature "${U}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${U}.`].join(`
`),{docsPath:I,name:"AbiFunctionSignatureNotFoundError"})}}nt.AbiFunctionSignatureNotFoundError=b;class g extends r.BaseError{constructor(U,I){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${U.type}\` in \`${(0,t.formatAbiItem)(U.abiItem)}\`, and`,`\`${I.type}\` in \`${(0,t.formatAbiItem)(I.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}nt.AbiItemAmbiguityError=g;class v extends r.BaseError{constructor({expectedSize:U,givenSize:I}){super(`Expected bytes${U}, got bytes${I}.`,{name:"BytesSizeMismatchError"})}}nt.BytesSizeMismatchError=v;class A extends r.BaseError{constructor({abiItem:U,data:I,params:S,size:_}){super([`Data size of ${_} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${(0,t.formatAbiParams)(S,{includeName:!0})})`,`Data:   ${I} (${_} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=U,this.data=I,this.params=S,this.size=_}}nt.DecodeLogDataMismatch=A;class C extends r.BaseError{constructor({abiItem:U,param:I}){super([`Expected a topic for indexed event parameter${I.name?` "${I.name}"`:""} on event "${(0,t.formatAbiItem)(U,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=U}}nt.DecodeLogTopicsMismatch=C;class x extends r.BaseError{constructor(U,{docsPath:I}){super([`Type "${U}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:I,name:"InvalidAbiEncodingType"})}}nt.InvalidAbiEncodingTypeError=x;class T extends r.BaseError{constructor(U,{docsPath:I}){super([`Type "${U}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:I,name:"InvalidAbiDecodingType"})}}nt.InvalidAbiDecodingTypeError=T;class N extends r.BaseError{constructor(U){super([`Value "${U}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}nt.InvalidArrayError=N;class M extends r.BaseError{constructor(U){super([`"${U}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}nt.InvalidDefinitionTypeError=M;class k extends r.BaseError{constructor(U){super(`Type "${U}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}return nt.UnsupportedPackedAbiType=k,nt}var Dy={},L9;function Bte(){if(L9)return Dy;L9=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.FilterTypeNotSupportedError=void 0;const t=yt();class e extends t.BaseError{constructor(n){super(`Filter type "${n}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}return Dy.FilterTypeNotSupportedError=e,Dy}var gl={},Xp={},Mc={},F9;function MP(){if(F9)return Mc;F9=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.InvalidBytesLengthError=Mc.SizeExceedsPaddingSizeError=Mc.SliceOffsetOutOfBoundsError=void 0;const t=yt();class e extends t.BaseError{constructor({offset:i,position:o,size:a}){super(`Slice ${o==="start"?"starting":"ending"} at offset "${i}" is out-of-bounds (size: ${a}).`,{name:"SliceOffsetOutOfBoundsError"})}}Mc.SliceOffsetOutOfBoundsError=e;class r extends t.BaseError{constructor({size:i,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${i}) exceeds padding size (${o}).`,{name:"SizeExceedsPaddingSizeError"})}}Mc.SizeExceedsPaddingSizeError=r;class n extends t.BaseError{constructor({size:i,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${o} ${a} long, but is ${i} ${a} long.`,{name:"InvalidBytesLengthError"})}}return Mc.InvalidBytesLengthError=n,Mc}var H9;function Dd(){if(H9)return Xp;H9=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.pad=e,Xp.padHex=r,Xp.padBytes=n;const t=MP();function e(s,{dir:i,size:o=32}={}){return typeof s=="string"?r(s,{dir:i,size:o}):n(s,{dir:i,size:o})}function r(s,{dir:i,size:o=32}={}){if(o===null)return s;const a=s.replace("0x","");if(a.length>o*2)throw new t.SizeExceedsPaddingSizeError({size:Math.ceil(a.length/2),targetSize:o,type:"hex"});return`0x${a[i==="right"?"padEnd":"padStart"](o*2,"0")}`}function n(s,{dir:i,size:o=32}={}){if(o===null)return s;if(s.length>o)throw new t.SizeExceedsPaddingSizeError({size:s.length,targetSize:o,type:"bytes"});const a=new Uint8Array(o);for(let c=0;c<o;c++){const u=i==="right";a[u?c:o-c-1]=s[u?c:s.length-c-1]}return a}return Xp}var Uc={},xi={},q9;function xg(){if(q9)return xi;q9=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.SizeOverflowError=xi.InvalidHexValueError=xi.InvalidHexBooleanError=xi.InvalidBytesBooleanError=xi.IntegerOutOfRangeError=void 0;const t=yt();class e extends t.BaseError{constructor({max:a,min:c,signed:u,size:l,value:d}){super(`Number "${d}" is not in safe ${l?`${l*8}-bit ${u?"signed":"unsigned"} `:""}integer range ${a?`(${c} to ${a})`:`(above ${c})`}`,{name:"IntegerOutOfRangeError"})}}xi.IntegerOutOfRangeError=e;class r extends t.BaseError{constructor(a){super(`Bytes value "${a}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}xi.InvalidBytesBooleanError=r;class n extends t.BaseError{constructor(a){super(`Hex value "${a}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}xi.InvalidHexBooleanError=n;class s extends t.BaseError{constructor(a){super(`Hex value "${a}" is an odd length (${a.length}). It must be an even length.`,{name:"InvalidHexValueError"})}}xi.InvalidHexValueError=s;class i extends t.BaseError{constructor({givenSize:a,maxSize:c}){super(`Size cannot exceed ${c} bytes. Given size: ${a} bytes.`,{name:"SizeOverflowError"})}}return xi.SizeOverflowError=i,xi}var u_={},z9;function Gu(){if(z9)return u_;z9=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.trim=t;function t(e,{dir:r="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,s=0;for(let i=0;i<n.length-1&&n[r==="left"?i:n.length-i-1].toString()==="0";i++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),typeof e=="string"?(n.length===1&&r==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}return u_}var $9;function tn(){if($9)return Uc;$9=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.assertSize=s,Uc.fromHex=i,Uc.hexToBigInt=o,Uc.hexToBool=a,Uc.hexToNumber=c,Uc.hexToString=u;const t=xg(),e=vi(),r=Gu(),n=Cr();function s(l,{size:d}){if((0,e.size)(l)>d)throw new t.SizeOverflowError({givenSize:(0,e.size)(l),maxSize:d})}function i(l,d){const f=typeof d=="string"?{to:d}:d,h=f.to;return h==="number"?c(l,f):h==="bigint"?o(l,f):h==="string"?u(l,f):h==="boolean"?a(l,f):(0,n.hexToBytes)(l,f)}function o(l,d={}){const{signed:f}=d;d.size&&s(l,{size:d.size});const h=BigInt(l);if(!f)return h;const p=(l.length-2)/2,m=(1n<<BigInt(p)*8n-1n)-1n;return h<=m?h:h-BigInt(`0x${"f".padStart(p*2,"f")}`)-1n}function a(l,d={}){let f=l;if(d.size&&(s(f,{size:d.size}),f=(0,r.trim)(f)),(0,r.trim)(f)==="0x00")return!1;if((0,r.trim)(f)==="0x01")return!0;throw new t.InvalidHexBooleanError(f)}function c(l,d={}){return Number(o(l,d))}function u(l,d={}){let f=(0,n.hexToBytes)(l);return d.size&&(s(f,{size:d.size}),f=(0,r.trim)(f,{dir:"right"})),new TextDecoder().decode(f)}return Uc}var yl={},V9;function ze(){if(V9)return yl;V9=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.toHex=s,yl.boolToHex=i,yl.bytesToHex=o,yl.numberToHex=a,yl.stringToHex=u;const t=xg(),e=Dd(),r=tn(),n=Array.from({length:256},(l,d)=>d.toString(16).padStart(2,"0"));function s(l,d={}){return typeof l=="number"||typeof l=="bigint"?a(l,d):typeof l=="string"?u(l,d):typeof l=="boolean"?i(l,d):o(l,d)}function i(l,d={}){const f=`0x${Number(l)}`;return typeof d.size=="number"?((0,r.assertSize)(f,{size:d.size}),(0,e.pad)(f,{size:d.size})):f}function o(l,d={}){let f="";for(let p=0;p<l.length;p++)f+=n[l[p]];const h=`0x${f}`;return typeof d.size=="number"?((0,r.assertSize)(h,{size:d.size}),(0,e.pad)(h,{dir:"right",size:d.size})):h}function a(l,d={}){const{signed:f,size:h}=d,p=BigInt(l);let m;h?f?m=(1n<<BigInt(h)*8n-1n)-1n:m=2n**(BigInt(h)*8n)-1n:typeof l=="number"&&(m=BigInt(Number.MAX_SAFE_INTEGER));const y=typeof m=="bigint"&&f?-m-1n:0;if(m&&p>m||p<y){const w=typeof l=="bigint"?"n":"";throw new t.IntegerOutOfRangeError({max:m?`${m}${w}`:void 0,min:`${y}${w}`,signed:f,size:h,value:`${l}${w}`})}const E=`0x${(f&&p<0?(1n<<BigInt(h*8))+BigInt(p):p).toString(16)}`;return h?(0,e.pad)(E,{size:h}):E}const c=new TextEncoder;function u(l,d={}){const f=c.encode(l);return o(f,d)}return yl}var G9;function Cr(){if(G9)return gl;G9=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.toBytes=o,gl.boolToBytes=a,gl.hexToBytes=l,gl.numberToBytes=d,gl.stringToBytes=f;const t=yt(),e=zs(),r=Dd(),n=tn(),s=ze(),i=new TextEncoder;function o(h,p={}){return typeof h=="number"||typeof h=="bigint"?d(h,p):typeof h=="boolean"?a(h,p):(0,e.isHex)(h)?l(h,p):f(h,p)}function a(h,p={}){const m=new Uint8Array(1);return m[0]=Number(h),typeof p.size=="number"?((0,n.assertSize)(m,{size:p.size}),(0,r.pad)(m,{size:p.size})):m}const c={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(h){if(h>=c.zero&&h<=c.nine)return h-c.zero;if(h>=c.A&&h<=c.F)return h-(c.A-10);if(h>=c.a&&h<=c.f)return h-(c.a-10)}function l(h,p={}){let m=h;p.size&&((0,n.assertSize)(m,{size:p.size}),m=(0,r.pad)(m,{dir:"right",size:p.size}));let y=m.slice(2);y.length%2&&(y=`0${y}`);const E=y.length/2,w=new Uint8Array(E);for(let b=0,g=0;b<E;b++){const v=u(y.charCodeAt(g++)),A=u(y.charCodeAt(g++));if(v===void 0||A===void 0)throw new t.BaseError(`Invalid byte sequence ("${y[g-2]}${y[g-1]}" in "${y}").`);w[b]=v*16+A}return w}function d(h,p){const m=(0,s.numberToHex)(h,p);return l(m)}function f(h,p={}){const m=i.encode(h);return typeof p.size=="number"?((0,n.assertSize)(m,{size:p.size}),(0,r.pad)(m,{dir:"right",size:p.size})):m}return gl}var l_={},Ir={},mt={},W9;function kte(){if(W9)return mt;W9=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.toBig=mt.shrSL=mt.shrSH=mt.rotrSL=mt.rotrSH=mt.rotrBL=mt.rotrBH=mt.rotr32L=mt.rotr32H=mt.rotlSL=mt.rotlSH=mt.rotlBL=mt.rotlBH=mt.add5L=mt.add5H=mt.add4L=mt.add4H=mt.add3L=mt.add3H=void 0,mt.add=E,mt.fromBig=r,mt.split=n;const t=BigInt(2**32-1),e=BigInt(32);function r(T,N=!1){return N?{h:Number(T&t),l:Number(T>>e&t)}:{h:Number(T>>e&t)|0,l:Number(T&t)|0}}function n(T,N=!1){const M=T.length;let k=new Uint32Array(M),B=new Uint32Array(M);for(let U=0;U<M;U++){const{h:I,l:S}=r(T[U],N);[k[U],B[U]]=[I,S]}return[k,B]}const s=(T,N)=>BigInt(T>>>0)<<e|BigInt(N>>>0);mt.toBig=s;const i=(T,N,M)=>T>>>M;mt.shrSH=i;const o=(T,N,M)=>T<<32-M|N>>>M;mt.shrSL=o;const a=(T,N,M)=>T>>>M|N<<32-M;mt.rotrSH=a;const c=(T,N,M)=>T<<32-M|N>>>M;mt.rotrSL=c;const u=(T,N,M)=>T<<64-M|N>>>M-32;mt.rotrBH=u;const l=(T,N,M)=>T>>>M-32|N<<64-M;mt.rotrBL=l;const d=(T,N)=>N;mt.rotr32H=d;const f=(T,N)=>T;mt.rotr32L=f;const h=(T,N,M)=>T<<M|N>>>32-M;mt.rotlSH=h;const p=(T,N,M)=>N<<M|T>>>32-M;mt.rotlSL=p;const m=(T,N,M)=>N<<M-32|T>>>64-M;mt.rotlBH=m;const y=(T,N,M)=>T<<M-32|N>>>64-M;mt.rotlBL=y;function E(T,N,M,k){const B=(N>>>0)+(k>>>0);return{h:T+M+(B/2**32|0)|0,l:B|0}}const w=(T,N,M)=>(T>>>0)+(N>>>0)+(M>>>0);mt.add3L=w;const b=(T,N,M,k)=>N+M+k+(T/2**32|0)|0;mt.add3H=b;const g=(T,N,M,k)=>(T>>>0)+(N>>>0)+(M>>>0)+(k>>>0);mt.add4L=g;const v=(T,N,M,k,B)=>N+M+k+B+(T/2**32|0)|0;mt.add4H=v;const A=(T,N,M,k,B)=>(T>>>0)+(N>>>0)+(M>>>0)+(k>>>0)+(B>>>0);mt.add5L=A;const C=(T,N,M,k,B,U)=>N+M+k+B+U+(T/2**32|0)|0;mt.add5H=C;const x={fromBig:r,split:n,toBig:s,shrSH:i,shrSL:o,rotrSH:a,rotrSL:c,rotrBH:u,rotrBL:l,rotr32H:d,rotr32L:f,rotlSH:h,rotlSL:p,rotlBH:m,rotlBL:y,add:E,add3L:w,add3H:b,add4L:g,add4H:v,add5H:C,add5L:A};return mt.default=x,mt}var nO={},My={},K9;function x3e(){return K9||(K9=1,Object.defineProperty(My,"__esModule",{value:!0}),My.crypto=void 0,My.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),My}var Z9;function ma(){return Z9||(Z9=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=r,t.anumber=n,t.abytes=s,t.ahash=i,t.aexists=o,t.aoutput=a,t.u8=c,t.u32=u,t.clean=l,t.createView=d,t.rotr=f,t.rotl=h,t.byteSwap=p,t.byteSwap32=m,t.bytesToHex=w,t.hexToBytes=v,t.asyncLoop=C,t.utf8ToBytes=x,t.bytesToUtf8=T,t.toBytes=N,t.kdfInputToBytes=M,t.concatBytes=k,t.checkOpts=B,t.createHasher=I,t.createOptHasher=S,t.createXOFer=_,t.randomBytes=R;const e=x3e();function r(O){return O instanceof Uint8Array||ArrayBuffer.isView(O)&&O.constructor.name==="Uint8Array"}function n(O){if(!Number.isSafeInteger(O)||O<0)throw new Error("positive integer expected, got "+O)}function s(O,...P){if(!r(O))throw new Error("Uint8Array expected");if(P.length>0&&!P.includes(O.length))throw new Error("Uint8Array expected of length "+P+", got length="+O.length)}function i(O){if(typeof O!="function"||typeof O.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(O.outputLen),n(O.blockLen)}function o(O,P=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(P&&O.finished)throw new Error("Hash#digest() has already been called")}function a(O,P){s(O);const D=P.outputLen;if(O.length<D)throw new Error("digestInto() expects output buffer of length at least "+D)}function c(O){return new Uint8Array(O.buffer,O.byteOffset,O.byteLength)}function u(O){return new Uint32Array(O.buffer,O.byteOffset,Math.floor(O.byteLength/4))}function l(...O){for(let P=0;P<O.length;P++)O[P].fill(0)}function d(O){return new DataView(O.buffer,O.byteOffset,O.byteLength)}function f(O,P){return O<<32-P|O>>>P}function h(O,P){return O<<P|O>>>32-P>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function p(O){return O<<24&4278190080|O<<8&16711680|O>>>8&65280|O>>>24&255}t.swap8IfBE=t.isLE?O=>O:O=>p(O),t.byteSwapIfBE=t.swap8IfBE;function m(O){for(let P=0;P<O.length;P++)O[P]=p(O[P]);return O}t.swap32IfBE=t.isLE?O=>O:m;const y=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",E=Array.from({length:256},(O,P)=>P.toString(16).padStart(2,"0"));function w(O){if(s(O),y)return O.toHex();let P="";for(let D=0;D<O.length;D++)P+=E[O[D]];return P}const b={_0:48,_9:57,A:65,F:70,a:97,f:102};function g(O){if(O>=b._0&&O<=b._9)return O-b._0;if(O>=b.A&&O<=b.F)return O-(b.A-10);if(O>=b.a&&O<=b.f)return O-(b.a-10)}function v(O){if(typeof O!="string")throw new Error("hex string expected, got "+typeof O);if(y)return Uint8Array.fromHex(O);const P=O.length,D=P/2;if(P%2)throw new Error("hex string expected, got unpadded hex of length "+P);const j=new Uint8Array(D);for(let F=0,q=0;F<D;F++,q+=2){const z=g(O.charCodeAt(q)),W=g(O.charCodeAt(q+1));if(z===void 0||W===void 0){const K=O[q]+O[q+1];throw new Error('hex string expected, got non-hex character "'+K+'" at index '+q)}j[F]=z*16+W}return j}const A=async()=>{};t.nextTick=A;async function C(O,P,D){let j=Date.now();for(let F=0;F<O;F++){D(F);const q=Date.now()-j;q>=0&&q<P||(await(0,t.nextTick)(),j+=q)}}function x(O){if(typeof O!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(O))}function T(O){return new TextDecoder().decode(O)}function N(O){return typeof O=="string"&&(O=x(O)),s(O),O}function M(O){return typeof O=="string"&&(O=x(O)),s(O),O}function k(...O){let P=0;for(let j=0;j<O.length;j++){const F=O[j];s(F),P+=F.length}const D=new Uint8Array(P);for(let j=0,F=0;j<O.length;j++){const q=O[j];D.set(q,F),F+=q.length}return D}function B(O,P){if(P!==void 0&&{}.toString.call(P)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(O,P)}class U{}t.Hash=U;function I(O){const P=j=>O().update(N(j)).digest(),D=O();return P.outputLen=D.outputLen,P.blockLen=D.blockLen,P.create=()=>O(),P}function S(O){const P=(j,F)=>O(F).update(N(j)).digest(),D=O({});return P.outputLen=D.outputLen,P.blockLen=D.blockLen,P.create=j=>O(j),P}function _(O){const P=(j,F)=>O(F).update(N(j)).digest(),D=O({});return P.outputLen=D.outputLen,P.blockLen=D.blockLen,P.create=j=>O(j),P}t.wrapConstructor=I,t.wrapConstructorWithOpts=S,t.wrapXOFConstructorWithOpts=_;function R(O=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(O));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(O));throw new Error("crypto.getRandomValues must be defined")}})(nO)),nO}var Y9;function jte(){if(Y9)return Ir;Y9=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.shake256=Ir.shake128=Ir.keccak_512=Ir.keccak_384=Ir.keccak_256=Ir.keccak_224=Ir.sha3_512=Ir.sha3_384=Ir.sha3_256=Ir.sha3_224=Ir.Keccak=void 0,Ir.keccakP=y;const t=kte(),e=ma(),r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(7),o=BigInt(256),a=BigInt(113),c=[],u=[],l=[];for(let g=0,v=n,A=1,C=0;g<24;g++){[A,C]=[C,(2*A+3*C)%5],c.push(2*(5*C+A)),u.push((g+1)*(g+2)/2%64);let x=r;for(let T=0;T<7;T++)v=(v<<n^(v>>i)*a)%o,v&s&&(x^=n<<(n<<BigInt(T))-n);l.push(x)}const d=(0,t.split)(l,!0),f=d[0],h=d[1],p=(g,v,A)=>A>32?(0,t.rotlBH)(g,v,A):(0,t.rotlSH)(g,v,A),m=(g,v,A)=>A>32?(0,t.rotlBL)(g,v,A):(0,t.rotlSL)(g,v,A);function y(g,v=24){const A=new Uint32Array(10);for(let C=24-v;C<24;C++){for(let N=0;N<10;N++)A[N]=g[N]^g[N+10]^g[N+20]^g[N+30]^g[N+40];for(let N=0;N<10;N+=2){const M=(N+8)%10,k=(N+2)%10,B=A[k],U=A[k+1],I=p(B,U,1)^A[M],S=m(B,U,1)^A[M+1];for(let _=0;_<50;_+=10)g[N+_]^=I,g[N+_+1]^=S}let x=g[2],T=g[3];for(let N=0;N<24;N++){const M=u[N],k=p(x,T,M),B=m(x,T,M),U=c[N];x=g[U],T=g[U+1],g[U]=k,g[U+1]=B}for(let N=0;N<50;N+=10){for(let M=0;M<10;M++)A[M]=g[N+M];for(let M=0;M<10;M++)g[N+M]^=~A[(M+2)%10]&A[(M+4)%10]}g[0]^=f[C],g[1]^=h[C]}(0,e.clean)(A)}class E extends e.Hash{constructor(v,A,C,x=!1,T=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=v,this.suffix=A,this.outputLen=C,this.enableXOF=x,this.rounds=T,(0,e.anumber)(C),!(0<v&&v<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),y(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(v){(0,e.aexists)(this),v=(0,e.toBytes)(v),(0,e.abytes)(v);const{blockLen:A,state:C}=this,x=v.length;for(let T=0;T<x;){const N=Math.min(A-this.pos,x-T);for(let M=0;M<N;M++)C[this.pos++]^=v[T++];this.pos===A&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:v,suffix:A,pos:C,blockLen:x}=this;v[C]^=A,(A&128)!==0&&C===x-1&&this.keccak(),v[x-1]^=128,this.keccak()}writeInto(v){(0,e.aexists)(this,!1),(0,e.abytes)(v),this.finish();const A=this.state,{blockLen:C}=this;for(let x=0,T=v.length;x<T;){this.posOut>=C&&this.keccak();const N=Math.min(C-this.posOut,T-x);v.set(A.subarray(this.posOut,this.posOut+N),x),this.posOut+=N,x+=N}return v}xofInto(v){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(v)}xof(v){return(0,e.anumber)(v),this.xofInto(new Uint8Array(v))}digestInto(v){if((0,e.aoutput)(v,this),this.finished)throw new Error("digest() was already called");return this.writeInto(v),this.destroy(),v}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(v){const{blockLen:A,suffix:C,outputLen:x,rounds:T,enableXOF:N}=this;return v||(v=new E(A,C,x,N,T)),v.state32.set(this.state32),v.pos=this.pos,v.posOut=this.posOut,v.finished=this.finished,v.rounds=T,v.suffix=C,v.outputLen=x,v.enableXOF=N,v.destroyed=this.destroyed,v}}Ir.Keccak=E;const w=(g,v,A)=>(0,e.createHasher)(()=>new E(v,g,A));Ir.sha3_224=w(6,144,224/8),Ir.sha3_256=w(6,136,256/8),Ir.sha3_384=w(6,104,384/8),Ir.sha3_512=w(6,72,512/8),Ir.keccak_224=w(1,144,224/8),Ir.keccak_256=w(1,136,256/8),Ir.keccak_384=w(1,104,384/8),Ir.keccak_512=w(1,72,512/8);const b=(g,v,A)=>(0,e.createXOFer)((C={})=>new E(v,g,C.dkLen===void 0?A:C.dkLen,!0));return Ir.shake128=b(31,168,128/8),Ir.shake256=b(31,136,256/8),Ir}var J9;function _i(){if(J9)return l_;J9=1,Object.defineProperty(l_,"__esModule",{value:!0}),l_.keccak256=s;const t=jte(),e=zs(),r=Cr(),n=ze();function s(i,o){const a=o||"hex",c=(0,t.keccak_256)((0,e.isHex)(i,{strict:!1})?(0,r.toBytes)(i):i);return a==="bytes"?c:(0,n.toHex)(c)}return l_}var Uy={},d_={},f_={},Q9;function O3e(){if(Q9)return f_;Q9=1,Object.defineProperty(f_,"__esModule",{value:!0}),f_.hashSignature=n;const t=Cr(),e=_i(),r=s=>(0,e.keccak256)((0,t.toBytes)(s));function n(s){return r(s)}return f_}var Ly={},h_={},X9;function R3e(){if(X9)return h_;X9=1,Object.defineProperty(h_,"__esModule",{value:!0}),h_.normalizeSignature=e;const t=yt();function e(r){let n=!0,s="",i=0,o="",a=!1;for(let c=0;c<r.length;c++){const u=r[c];if(["(",")",","].includes(u)&&(n=!0),u==="("&&i++,u===")"&&i--,!!n){if(i===0){if(u===" "&&["event","function",""].includes(o))o="";else if(o+=u,u===")"){a=!0;break}continue}if(u===" "){r[c-1]!==","&&s!==","&&s!==",("&&(s="",n=!1);continue}o+=u,s+=u}}if(!a)throw new t.BaseError("Unable to normalize signature.");return o}return h_}var eF;function G3(){if(eF)return Ly;eF=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.toSignature=void 0;const t=DP(),e=R3e(),r=n=>{const s=typeof n=="string"?n:(0,t.formatAbiItem)(n);return(0,e.normalizeSignature)(s)};return Ly.toSignature=r,Ly}var tF;function UP(){if(tF)return d_;tF=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.toSignatureHash=r;const t=O3e(),e=G3();function r(n){return(0,t.hashSignature)((0,e.toSignature)(n))}return d_}var rF;function Og(){if(rF)return Uy;rF=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.toEventSelector=void 0;const t=UP();return Uy.toEventSelector=t.toSignatureHash,Uy}var Fy={},Hy={},nF;function ga(){if(nF)return Hy;nF=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.InvalidAddressError=void 0;const t=yt();class e extends t.BaseError{constructor({address:n}){super(`Address "${n}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}return Hy.InvalidAddressError=e,Hy}var sO={},qy={},sF;function Ap(){if(sF)return qy;sF=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.LruMap=void 0;class t extends Map{constructor(r){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=r}get(r){const n=super.get(r);return super.has(r)&&n!==void 0&&(this.delete(r),super.set(r,n)),n}set(r,n){if(super.set(r,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}return qy.LruMap=t,qy}var zy={},iF;function to(){if(iF)return zy;iF=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.checksumAddress=o,zy.getAddress=a;const t=ga(),e=Cr(),r=_i(),n=Ap(),s=Ai(),i=new n.LruMap(8192);function o(c,u){if(i.has(`${c}.${u}`))return i.get(`${c}.${u}`);const l=u?`${u}${c.toLowerCase()}`:c.substring(2).toLowerCase(),d=(0,r.keccak256)((0,e.stringToBytes)(l),"bytes"),f=(u?l.substring(`${u}0x`.length):l).split("");for(let p=0;p<40;p+=2)d[p>>1]>>4>=8&&f[p]&&(f[p]=f[p].toUpperCase()),(d[p>>1]&15)>=8&&f[p+1]&&(f[p+1]=f[p+1].toUpperCase());const h=`0x${f.join("")}`;return i.set(`${c}.${u}`,h),h}function a(c,u){if(!(0,s.isAddress)(c,{strict:!1}))throw new t.InvalidAddressError({address:c});return o(c,u)}return zy}var oF;function Ai(){return oF||(oF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAddressCache=void 0,t.isAddress=s;const e=Ap(),r=to(),n=/^0x[a-fA-F0-9]{40}$/;t.isAddressCache=new e.LruMap(8192);function s(i,o){const{strict:a=!0}=o??{},c=`${i}.${a}`;if(t.isAddressCache.has(c))return t.isAddressCache.get(c);const u=n.test(i)?i.toLowerCase()===i?!0:a?(0,r.checksumAddress)(i)===i:!0:!1;return t.isAddressCache.set(c,u),u}})(sO)),sO}var e0={},aF;function Dn(){if(aF)return e0;aF=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.concat=t,e0.concatBytes=e,e0.concatHex=r;function t(n){return typeof n[0]=="string"?r(n):e(n)}function e(n){let s=0;for(const a of n)s+=a.length;const i=new Uint8Array(s);let o=0;for(const a of n)i.set(a,o),o+=a.length;return i}function r(n){return`0x${n.reduce((s,i)=>s+i.replace("0x",""),"")}`}return e0}var t0={},cF;function xo(){if(cF)return t0;cF=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.slice=n,t0.sliceBytes=o,t0.sliceHex=a;const t=MP(),e=zs(),r=vi();function n(c,u,l,{strict:d}={}){return(0,e.isHex)(c,{strict:!1})?a(c,u,l,{strict:d}):o(c,u,l,{strict:d})}function s(c,u){if(typeof u=="number"&&u>0&&u>(0,r.size)(c)-1)throw new t.SliceOffsetOutOfBoundsError({offset:u,position:"start",size:(0,r.size)(c)})}function i(c,u,l){if(typeof u=="number"&&typeof l=="number"&&(0,r.size)(c)!==l-u)throw new t.SliceOffsetOutOfBoundsError({offset:l,position:"end",size:(0,r.size)(c)})}function o(c,u,l,{strict:d}={}){s(c,u);const f=c.slice(u,l);return d&&i(f,u,l),f}function a(c,u,l,{strict:d}={}){s(c,u);const f=`0x${c.replace("0x","").slice((u??0)*2,(l??c.length)*2)}`;return d&&i(f,u,l),f}return t0}var Lc={},uF;function LP(){return uF||(uF=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.integerRegex=Lc.bytesRegex=Lc.arrayRegex=void 0,Lc.arrayRegex=/^(.*)\[([0-9]*)\]$/,Lc.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Lc.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/),Lc}var lF;function ya(){if(lF)return Fy;lF=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.encodeAbiParameters=d,Fy.getArrayComponents=A;const t=Hr(),e=ga(),r=yt(),n=xg(),s=Ai(),i=Dn(),o=Dd(),a=vi(),c=xo(),u=ze(),l=LP();function d(C,x){if(C.length!==x.length)throw new t.AbiEncodingLengthMismatchError({expectedLength:C.length,givenLength:x.length});const T=f({params:C,values:x}),N=p(T);return N.length===0?"0x":N}function f({params:C,values:x}){const T=[];for(let N=0;N<C.length;N++)T.push(h({param:C[N],value:x[N]}));return T}function h({param:C,value:x}){const T=A(C.type);if(T){const[N,M]=T;return y(x,{length:N,param:{...C,type:M}})}if(C.type==="tuple")return v(x,{param:C});if(C.type==="address")return m(x);if(C.type==="bool")return w(x);if(C.type.startsWith("uint")||C.type.startsWith("int")){const N=C.type.startsWith("int"),[,,M="256"]=l.integerRegex.exec(C.type)??[];return b(x,{signed:N,size:Number(M)})}if(C.type.startsWith("bytes"))return E(x,{param:C});if(C.type==="string")return g(x);throw new t.InvalidAbiEncodingTypeError(C.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p(C){let x=0;for(let k=0;k<C.length;k++){const{dynamic:B,encoded:U}=C[k];B?x+=32:x+=(0,a.size)(U)}const T=[],N=[];let M=0;for(let k=0;k<C.length;k++){const{dynamic:B,encoded:U}=C[k];B?(T.push((0,u.numberToHex)(x+M,{size:32})),N.push(U),M+=(0,a.size)(U)):T.push(U)}return(0,i.concat)([...T,...N])}function m(C){if(!(0,s.isAddress)(C))throw new e.InvalidAddressError({address:C});return{dynamic:!1,encoded:(0,o.padHex)(C.toLowerCase())}}function y(C,{length:x,param:T}){const N=x===null;if(!Array.isArray(C))throw new t.InvalidArrayError(C);if(!N&&C.length!==x)throw new t.AbiEncodingArrayLengthMismatchError({expectedLength:x,givenLength:C.length,type:`${T.type}[${x}]`});let M=!1;const k=[];for(let B=0;B<C.length;B++){const U=h({param:T,value:C[B]});U.dynamic&&(M=!0),k.push(U)}if(N||M){const B=p(k);if(N){const U=(0,u.numberToHex)(k.length,{size:32});return{dynamic:!0,encoded:k.length>0?(0,i.concat)([U,B]):U}}if(M)return{dynamic:!0,encoded:B}}return{dynamic:!1,encoded:(0,i.concat)(k.map(({encoded:B})=>B))}}function E(C,{param:x}){const[,T]=x.type.split("bytes"),N=(0,a.size)(C);if(!T){let M=C;return N%32!==0&&(M=(0,o.padHex)(M,{dir:"right",size:Math.ceil((C.length-2)/2/32)*32})),{dynamic:!0,encoded:(0,i.concat)([(0,o.padHex)((0,u.numberToHex)(N,{size:32})),M])}}if(N!==Number.parseInt(T,10))throw new t.AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(T,10),value:C});return{dynamic:!1,encoded:(0,o.padHex)(C,{dir:"right"})}}function w(C){if(typeof C!="boolean")throw new r.BaseError(`Invalid boolean value: "${C}" (type: ${typeof C}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,o.padHex)((0,u.boolToHex)(C))}}function b(C,{signed:x,size:T=256}){if(typeof T=="number"){const N=2n**(BigInt(T)-(x?1n:0n))-1n,M=x?-N-1n:0n;if(C>N||C<M)throw new n.IntegerOutOfRangeError({max:N.toString(),min:M.toString(),signed:x,size:T/8,value:C.toString()})}return{dynamic:!1,encoded:(0,u.numberToHex)(C,{size:32,signed:x})}}function g(C){const x=(0,u.stringToHex)(C),T=Math.ceil((0,a.size)(x)/32),N=[];for(let M=0;M<T;M++)N.push((0,o.padHex)((0,c.slice)(x,M*32,(M+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,i.concat)([(0,o.padHex)((0,u.numberToHex)((0,a.size)(x),{size:32})),...N])}}function v(C,{param:x}){let T=!1;const N=[];for(let M=0;M<x.components.length;M++){const k=x.components[M],B=Array.isArray(C)?M:k.name,U=h({param:k,value:C[B]});N.push(U),U.dynamic&&(T=!0)}return{dynamic:T,encoded:T?p(N):(0,i.concat)(N.map(({encoded:M})=>M))}}function A(C){const x=C.match(/^(.*)\[(\d+)?\]$/);return x?[x[2]?Number(x[2]):null,x[1]]:void 0}return Fy}var r0={},$y={},dF;function Cp(){if(dF)return $y;dF=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.toFunctionSelector=void 0;const t=xo(),e=UP(),r=n=>(0,t.slice)((0,e.toSignatureHash)(n),0,4);return $y.toFunctionSelector=r,$y}var fF;function Wu(){if(fF)return r0;fF=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.getAbiItem=i,r0.isArgOfType=o,r0.getAmbiguousTypes=a;const t=Hr(),e=zs(),r=Ai(),n=Og(),s=Cp();function i(c){const{abi:u,args:l=[],name:d}=c,f=(0,e.isHex)(d,{strict:!1}),h=u.filter(m=>f?m.type==="function"?(0,s.toFunctionSelector)(m)===d:m.type==="event"?(0,n.toEventSelector)(m)===d:!1:"name"in m&&m.name===d);if(h.length===0)return;if(h.length===1)return h[0];let p;for(const m of h){if(!("inputs"in m))continue;if(!l||l.length===0){if(!m.inputs||m.inputs.length===0)return m;continue}if(!m.inputs||m.inputs.length===0||m.inputs.length!==l.length)continue;if(l.every((E,w)=>{const b="inputs"in m&&m.inputs[w];return b?o(E,b):!1})){if(p&&"inputs"in p&&p.inputs){const E=a(m.inputs,p.inputs,l);if(E)throw new t.AbiItemAmbiguityError({abiItem:m,type:E[0]},{abiItem:p,type:E[1]})}p=m}}return p||h[0]}function o(c,u){const l=typeof c,d=u.type;switch(d){case"address":return(0,r.isAddress)(c,{strict:!1});case"bool":return l==="boolean";case"function":return l==="string";case"string":return l==="string";default:return d==="tuple"&&"components"in u?Object.values(u.components).every((f,h)=>o(Object.values(c)[h],f)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(d)?l==="number"||l==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(d)?l==="string"||c instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(d)?Array.isArray(c)&&c.every(f=>o(f,{...u,type:d.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function a(c,u,l){for(const d in c){const f=c[d],h=u[d];if(f.type==="tuple"&&h.type==="tuple"&&"components"in f&&"components"in h)return a(f.components,h.components,l[d]);const p=[f.type,h.type];if(p.includes("address")&&p.includes("bytes20")?!0:p.includes("address")&&p.includes("string")?(0,r.isAddress)(l[d],{strict:!1}):p.includes("address")&&p.includes("bytes")?(0,r.isAddress)(l[d],{strict:!1}):!1)return p}}return r0}var hF;function Sp(){if(hF)return o_;hF=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.encodeEventTopics=u;const t=Hr(),e=Bte(),r=Cr(),n=_i(),s=Og(),i=ya(),o=Vu(),a=Wu(),c="/docs/contract/encodeEventTopics";function u(d){var b;const{abi:f,eventName:h,args:p}=d;let m=f[0];if(h){const g=(0,a.getAbiItem)({abi:f,name:h});if(!g)throw new t.AbiEventNotFoundError(h,{docsPath:c});m=g}if(m.type!=="event")throw new t.AbiEventNotFoundError(void 0,{docsPath:c});const y=(0,o.formatAbiItem)(m),E=(0,s.toEventSelector)(y);let w=[];if(p&&"inputs"in m){const g=(b=m.inputs)==null?void 0:b.filter(A=>"indexed"in A&&A.indexed),v=Array.isArray(p)?p:Object.values(p).length>0?(g==null?void 0:g.map(A=>p[A.name]))??[]:[];v.length>0&&(w=(g==null?void 0:g.map((A,C)=>Array.isArray(v[C])?v[C].map((x,T)=>l({param:A,value:v[C][T]})):typeof v[C]<"u"&&v[C]!==null?l({param:A,value:v[C]}):null))??[])}return[E,...w]}function l({param:d,value:f}){if(d.type==="string"||d.type==="bytes")return(0,n.keccak256)((0,r.toBytes)(f));if(d.type==="tuple"||d.type.match(/^(.*)\[(\d+)?\]$/))throw new e.FilterTypeNotSupportedError(d.type);return(0,i.encodeAbiParameters)([d],[f])}return o_}var p_={},pF;function FP(){if(pF)return p_;pF=1,Object.defineProperty(p_,"__esModule",{value:!0}),p_.createFilterRequestScope=t;function t(e,{method:r}){var s,i;const n={};return e.transport.type==="fallback"&&((i=(s=e.transport).onResponse)==null||i.call(s,({method:o,response:a,status:c,transport:u})=>{c==="success"&&r===o&&(n[a]=u.request)})),(o=>n[o]||e.request)}return p_}var mF;function W3(){if(mF)return i_;mF=1,Object.defineProperty(i_,"__esModule",{value:!0}),i_.createContractEventFilter=n;const t=Sp(),e=ze(),r=FP();async function n(s,i){const{address:o,abi:a,args:c,eventName:u,fromBlock:l,strict:d,toBlock:f}=i,h=(0,r.createFilterRequestScope)(s,{method:"eth_newFilter"}),p=u?(0,t.encodeEventTopics)({abi:a,args:c,eventName:u}):void 0,m=await s.request({method:"eth_newFilter",params:[{address:o,fromBlock:typeof l=="bigint"?(0,e.numberToHex)(l):l,toBlock:typeof f=="bigint"?(0,e.numberToHex)(f):f,topics:p}]});return{abi:a,args:c,eventName:u,id:m,request:h(m),strict:!!d,type:"event"}}return i_}var m_={},g_={},gF;function Gr(){if(gF)return g_;gF=1,Object.defineProperty(g_,"__esModule",{value:!0}),g_.parseAccount=t;function t(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}return g_}var y_={},b_={},yF;function Dte(){if(yF)return b_;yF=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.prepareEncodeFunctionData=i;const t=Hr(),e=Cp(),r=Vu(),n=Wu(),s="/docs/contract/encodeFunctionData";function i(o){const{abi:a,args:c,functionName:u}=o;let l=a[0];if(u){const d=(0,n.getAbiItem)({abi:a,args:c,name:u});if(!d)throw new t.AbiFunctionNotFoundError(u,{docsPath:s});l=d}if(l.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:s});return{abi:[l],functionName:(0,e.toFunctionSelector)((0,r.formatAbiItem)(l))}}return b_}var bF;function Ci(){if(bF)return y_;bF=1,Object.defineProperty(y_,"__esModule",{value:!0}),y_.encodeFunctionData=n;const t=Dn(),e=ya(),r=Dte();function n(s){const{args:i}=s,{abi:o,functionName:a}=(()=>{var d;return s.abi.length===1&&((d=s.functionName)!=null&&d.startsWith("0x"))?s:(0,r.prepareEncodeFunctionData)(s)})(),c=o[0],u=a,l="inputs"in c&&c.inputs?(0,e.encodeAbiParameters)(c.inputs,i??[]):void 0;return(0,t.concatHex)([u,l??"0x"])}return y_}var w_={},As={},Fc={},wF;function K3(){return wF||(wF=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.solidityPanic=Fc.solidityError=Fc.panicReasons=void 0,Fc.panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Fc.solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Fc.solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}),Fc}var E_={},v_={},__={},Hc={},EF;function Mte(){if(EF)return Hc;EF=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.RecursiveReadLimitExceededError=Hc.PositionOutOfBoundsError=Hc.NegativeOffsetError=void 0;const t=yt();class e extends t.BaseError{constructor({offset:i}){super(`Offset \`${i}\` cannot be negative.`,{name:"NegativeOffsetError"})}}Hc.NegativeOffsetError=e;class r extends t.BaseError{constructor({length:i,position:o}){super(`Position \`${o}\` is out of bounds (\`0 < position < ${i}\`).`,{name:"PositionOutOfBoundsError"})}}Hc.PositionOutOfBoundsError=r;class n extends t.BaseError{constructor({count:i,limit:o}){super(`Recursive read limit of \`${o}\` exceeded (recursive read count: \`${i}\`).`,{name:"RecursiveReadLimitExceededError"})}}return Hc.RecursiveReadLimitExceededError=n,Hc}var vF;function gE(){if(vF)return __;vF=1,Object.defineProperty(__,"__esModule",{value:!0}),__.createCursor=r;const t=Mte(),e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new t.RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new t.PositionOutOfBoundsError({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new t.NegativeOffsetError({offset:n});const s=this.position-n;this.assertPosition(s),this.position=s},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new t.NegativeOffsetError({offset:n});const s=this.position+n;this.assertPosition(s),this.position=s},inspectByte(n){const s=n??this.position;return this.assertPosition(s),this.bytes[s]},inspectBytes(n,s){const i=s??this.position;return this.assertPosition(i+n-1),this.bytes.subarray(i,i+n)},inspectUint8(n){const s=n??this.position;return this.assertPosition(s),this.bytes[s]},inspectUint16(n){const s=n??this.position;return this.assertPosition(s+1),this.dataView.getUint16(s)},inspectUint24(n){const s=n??this.position;return this.assertPosition(s+2),(this.dataView.getUint16(s)<<8)+this.dataView.getUint8(s+2)},inspectUint32(n){const s=n??this.position;return this.assertPosition(s+3),this.dataView.getUint32(s)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,s){this.assertReadLimit(),this._touch();const i=this.inspectBytes(n);return this.position+=s??n,i},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const s=this.position;return this.assertPosition(n),this.position=n,()=>this.position=s},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function r(n,{recursiveReadLimit:s=8192}={}){const i=Object.create(e);return i.bytes=n,i.dataView=new DataView(n.buffer,n.byteOffset,n.byteLength),i.positionReadCount=new Map,i.recursiveReadLimit=s,i}return __}var bl={},_F;function Z3(){if(_F)return bl;_F=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.fromBytes=s,bl.bytesToBigInt=i,bl.bytesToBool=o,bl.bytesToNumber=a,bl.bytesToString=c;const t=xg(),e=Gu(),r=tn(),n=ze();function s(u,l){const d=typeof l=="string"?{to:l}:l,f=d.to;return f==="number"?a(u,d):f==="bigint"?i(u,d):f==="boolean"?o(u,d):f==="string"?c(u,d):(0,n.bytesToHex)(u,d)}function i(u,l={}){typeof l.size<"u"&&(0,r.assertSize)(u,{size:l.size});const d=(0,n.bytesToHex)(u,l);return(0,r.hexToBigInt)(d,l)}function o(u,l={}){let d=u;if(typeof l.size<"u"&&((0,r.assertSize)(d,{size:l.size}),d=(0,e.trim)(d)),d.length>1||d[0]>1)throw new t.InvalidBytesBooleanError(d);return!!d[0]}function a(u,l={}){typeof l.size<"u"&&(0,r.assertSize)(u,{size:l.size});const d=(0,n.bytesToHex)(u,l);return(0,r.hexToNumber)(d,l)}function c(u,l={}){let d=u;return typeof l.size<"u"&&((0,r.assertSize)(d,{size:l.size}),d=(0,e.trim)(d,{dir:"right"})),new TextDecoder().decode(d)}return bl}var AF;function Md(){if(AF)return v_;AF=1,Object.defineProperty(v_,"__esModule",{value:!0}),v_.decodeAbiParameters=l;const t=Hr(),e=to(),r=gE(),n=vi(),s=xo(),i=Gu(),o=Z3(),a=Cr(),c=ze(),u=ya();function l(A,C){const x=typeof C=="string"?(0,a.hexToBytes)(C):C,T=(0,r.createCursor)(x);if((0,n.size)(x)===0&&A.length>0)throw new t.AbiDecodingZeroDataError;if((0,n.size)(C)&&(0,n.size)(C)<32)throw new t.AbiDecodingDataSizeTooSmallError({data:typeof C=="string"?C:(0,c.bytesToHex)(C),params:A,size:(0,n.size)(C)});let N=0;const M=[];for(let k=0;k<A.length;++k){const B=A[k];T.setPosition(N);const[U,I]=d(T,B,{staticPosition:0});N+=I,M.push(U)}return M}function d(A,C,{staticPosition:x}){const T=(0,u.getArrayComponents)(C.type);if(T){const[N,M]=T;return m(A,{...C,type:M},{length:N,staticPosition:x})}if(C.type==="tuple")return b(A,C,{staticPosition:x});if(C.type==="address")return p(A);if(C.type==="bool")return y(A);if(C.type.startsWith("bytes"))return E(A,C,{staticPosition:x});if(C.type.startsWith("uint")||C.type.startsWith("int"))return w(A,C);if(C.type==="string")return g(A,{staticPosition:x});throw new t.InvalidAbiDecodingTypeError(C.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const f=32,h=32;function p(A){const C=A.readBytes(32);return[(0,e.checksumAddress)((0,c.bytesToHex)((0,s.sliceBytes)(C,-20))),32]}function m(A,C,{length:x,staticPosition:T}){if(!x){const k=(0,o.bytesToNumber)(A.readBytes(h)),B=T+k,U=B+f;A.setPosition(B);const I=(0,o.bytesToNumber)(A.readBytes(f)),S=v(C);let _=0;const R=[];for(let O=0;O<I;++O){A.setPosition(U+(S?O*32:_));const[P,D]=d(A,C,{staticPosition:U});_+=D,R.push(P)}return A.setPosition(T+32),[R,32]}if(v(C)){const k=(0,o.bytesToNumber)(A.readBytes(h)),B=T+k,U=[];for(let I=0;I<x;++I){A.setPosition(B+I*32);const[S]=d(A,C,{staticPosition:B});U.push(S)}return A.setPosition(T+32),[U,32]}let N=0;const M=[];for(let k=0;k<x;++k){const[B,U]=d(A,C,{staticPosition:T+N});N+=U,M.push(B)}return[M,N]}function y(A){return[(0,o.bytesToBool)(A.readBytes(32),{size:32}),32]}function E(A,C,{staticPosition:x}){const[T,N]=C.type.split("bytes");if(!N){const k=(0,o.bytesToNumber)(A.readBytes(32));A.setPosition(x+k);const B=(0,o.bytesToNumber)(A.readBytes(32));if(B===0)return A.setPosition(x+32),["0x",32];const U=A.readBytes(B);return A.setPosition(x+32),[(0,c.bytesToHex)(U),32]}return[(0,c.bytesToHex)(A.readBytes(Number.parseInt(N,10),32)),32]}function w(A,C){const x=C.type.startsWith("int"),T=Number.parseInt(C.type.split("int")[1]||"256",10),N=A.readBytes(32);return[T>48?(0,o.bytesToBigInt)(N,{signed:x}):(0,o.bytesToNumber)(N,{signed:x}),32]}function b(A,C,{staticPosition:x}){const T=C.components.length===0||C.components.some(({name:k})=>!k),N=T?[]:{};let M=0;if(v(C)){const k=(0,o.bytesToNumber)(A.readBytes(h)),B=x+k;for(let U=0;U<C.components.length;++U){const I=C.components[U];A.setPosition(B+M);const[S,_]=d(A,I,{staticPosition:B});M+=_,N[T?U:I==null?void 0:I.name]=S}return A.setPosition(x+32),[N,32]}for(let k=0;k<C.components.length;++k){const B=C.components[k],[U,I]=d(A,B,{staticPosition:x});N[T?k:B==null?void 0:B.name]=U,M+=I}return[N,M]}function g(A,{staticPosition:C}){const x=(0,o.bytesToNumber)(A.readBytes(32)),T=C+x;A.setPosition(T);const N=(0,o.bytesToNumber)(A.readBytes(32));if(N===0)return A.setPosition(C+32),["",32];const M=A.readBytes(N,32),k=(0,o.bytesToString)((0,i.trim)(M));return A.setPosition(C+32),[k,32]}function v(A){var T;const{type:C}=A;if(C==="string"||C==="bytes"||C.endsWith("[]"))return!0;if(C==="tuple")return(T=A.components)==null?void 0:T.some(v);const x=(0,u.getArrayComponents)(A.type);return!!(x&&v({...A,type:x[1]}))}return v_}var CF;function HP(){if(CF)return E_;CF=1,Object.defineProperty(E_,"__esModule",{value:!0}),E_.decodeErrorResult=o;const t=K3(),e=Hr(),r=xo(),n=Cp(),s=Md(),i=Vu();function o(a){const{abi:c,data:u}=a,l=(0,r.slice)(u,0,4);if(l==="0x")throw new e.AbiDecodingZeroDataError;const f=[...c||[],t.solidityError,t.solidityPanic].find(h=>h.type==="error"&&l===(0,n.toFunctionSelector)((0,i.formatAbiItem)(h)));if(!f)throw new e.AbiErrorSignatureNotFoundError(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:f,args:"inputs"in f&&f.inputs&&f.inputs.length>0?(0,s.decodeAbiParameters)(f.inputs,(0,r.slice)(u,4)):void 0,errorName:f.name}}return E_}var A_={},Vy={},SF;function Xn(){if(SF)return Vy;SF=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.stringify=void 0;const t=(e,r,n)=>JSON.stringify(e,(s,i)=>{const o=typeof i=="bigint"?i.toString():i;return typeof r=="function"?r(s,o):o},n);return Vy.stringify=t,Vy}var IF;function Ute(){if(IF)return A_;IF=1,Object.defineProperty(A_,"__esModule",{value:!0}),A_.formatAbiItemWithArgs=e;const t=Xn();function e({abiItem:r,args:n,includeFunctionName:s=!0,includeName:i=!1}){if("name"in r&&"inputs"in r&&r.inputs)return`${s?r.name:""}(${r.inputs.map((o,a)=>`${i&&o.name?`${o.name}: `:""}${typeof n[a]=="object"?(0,t.stringify)(n[a]):n[a]}`).join(", ")})`}return A_}var C_={},qc={},TF;function yE(){return TF||(TF=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.weiUnits=qc.gweiUnits=qc.etherUnits=void 0,qc.etherUnits={gwei:9,wei:18},qc.gweiUnits={ether:-9,wei:9},qc.weiUnits={ether:-18,gwei:-9}),qc}var S_={},PF;function qP(){if(PF)return S_;PF=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.formatUnits=t;function t(e,r){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(r,"0");let[i,o]=[n.slice(0,n.length-r),n.slice(n.length-r)];return o=o.replace(/(0+)$/,""),`${s?"-":""}${i||"0"}${o?`.${o}`:""}`}return S_}var xF;function bE(){if(xF)return C_;xF=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.formatEther=r;const t=yE(),e=qP();function r(n,s="wei"){return(0,e.formatUnits)(n,t.etherUnits[s])}return C_}var I_={},OF;function Ip(){if(OF)return I_;OF=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.formatGwei=r;const t=yE(),e=qP();function r(n,s="wei"){return(0,e.formatUnits)(n,t.gweiUnits[s])}return I_}var zc={},RF;function Y3(){if(RF)return zc;RF=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.StateAssignmentConflictError=zc.AccountStateConflictError=void 0,zc.prettyStateMapping=n,zc.prettyStateOverride=s;const t=yt();class e extends t.BaseError{constructor({address:o}){super(`State for account "${o}" is set multiple times.`,{name:"AccountStateConflictError"})}}zc.AccountStateConflictError=e;class r extends t.BaseError{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}zc.StateAssignmentConflictError=r;function n(i){return i.reduce((o,{slot:a,value:c})=>`${o}        ${a}: ${c}
`,"")}function s(i){return i.reduce((o,{address:a,...c})=>{let u=`${o}    ${a}:
`;return c.nonce&&(u+=`      nonce: ${c.nonce}
`),c.balance&&(u+=`      balance: ${c.balance}
`),c.code&&(u+=`      code: ${c.code}
`),c.state&&(u+=`      state:
`,u+=n(c.state)),c.stateDiff&&(u+=`      stateDiff:
`,u+=n(c.stateDiff)),u},`  State Override:
`).slice(0,-1)}return zc}var Tr={},NF;function Si(){if(NF)return Tr;NF=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.WaitForTransactionReceiptTimeoutError=Tr.TransactionReceiptRevertedError=Tr.TransactionReceiptNotFoundError=Tr.TransactionNotFoundError=Tr.TransactionExecutionError=Tr.InvalidStorageKeySizeError=Tr.InvalidSerializedTransactionError=Tr.InvalidSerializedTransactionTypeError=Tr.InvalidSerializableTransactionError=Tr.InvalidLegacyVError=Tr.FeeConflictError=void 0,Tr.prettyPrint=n;const t=bE(),e=Ip(),r=yt();function n(m){const y=Object.entries(m).map(([w,b])=>b===void 0||b===!1?null:[w,b]).filter(Boolean),E=y.reduce((w,[b])=>Math.max(w,b.length),0);return y.map(([w,b])=>`  ${`${w}:`.padEnd(E+1)}  ${b}`).join(`
`)}class s extends r.BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}Tr.FeeConflictError=s;class i extends r.BaseError{constructor({v:y}){super(`Invalid \`v\` value "${y}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}Tr.InvalidLegacyVError=i;class o extends r.BaseError{constructor({transaction:y}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",n(y),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}Tr.InvalidSerializableTransactionError=o;class a extends r.BaseError{constructor({serializedType:y}){super(`Serialized transaction type "${y}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=y}}Tr.InvalidSerializedTransactionTypeError=a;class c extends r.BaseError{constructor({attributes:y,serializedTransaction:E,type:w}){const b=Object.entries(y).map(([g,v])=>typeof v>"u"?g:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${w}" was provided.`,{metaMessages:[`Serialized Transaction: "${E}"`,b.length>0?`Missing Attributes: ${b.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=E,this.type=w}}Tr.InvalidSerializedTransactionError=c;class u extends r.BaseError{constructor({storageKey:y}){super(`Size for storage key "${y}" is invalid. Expected 32 bytes. Got ${Math.floor((y.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}Tr.InvalidStorageKeySizeError=u;class l extends r.BaseError{constructor(y,{account:E,docsPath:w,chain:b,data:g,gas:v,gasPrice:A,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:T,to:N,value:M}){var B;const k=n({chain:b&&`${b==null?void 0:b.name} (id: ${b==null?void 0:b.id})`,from:E==null?void 0:E.address,to:N,value:typeof M<"u"&&`${(0,t.formatEther)(M)} ${((B=b==null?void 0:b.nativeCurrency)==null?void 0:B.symbol)||"ETH"}`,data:g,gas:v,gasPrice:typeof A<"u"&&`${(0,e.formatGwei)(A)} gwei`,maxFeePerGas:typeof C<"u"&&`${(0,e.formatGwei)(C)} gwei`,maxPriorityFeePerGas:typeof x<"u"&&`${(0,e.formatGwei)(x)} gwei`,nonce:T});super(y.shortMessage,{cause:y,docsPath:w,metaMessages:[...y.metaMessages?[...y.metaMessages," "]:[],"Request Arguments:",k].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=y}}Tr.TransactionExecutionError=l;class d extends r.BaseError{constructor({blockHash:y,blockNumber:E,blockTag:w,hash:b,index:g}){let v="Transaction";w&&g!==void 0&&(v=`Transaction at block time "${w}" at index "${g}"`),y&&g!==void 0&&(v=`Transaction at block hash "${y}" at index "${g}"`),E&&g!==void 0&&(v=`Transaction at block number "${E}" at index "${g}"`),b&&(v=`Transaction with hash "${b}"`),super(`${v} could not be found.`,{name:"TransactionNotFoundError"})}}Tr.TransactionNotFoundError=d;class f extends r.BaseError{constructor({hash:y}){super(`Transaction receipt with hash "${y}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}Tr.TransactionReceiptNotFoundError=f;class h extends r.BaseError{constructor({receipt:y}){super(`Transaction with hash "${y.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=y}}Tr.TransactionReceiptRevertedError=h;class p extends r.BaseError{constructor({hash:y}){super(`Timed out while waiting for transaction with hash "${y}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}return Tr.WaitForTransactionReceiptTimeoutError=p,Tr}var vf={},BF;function J3(){if(BF)return vf;BF=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.getUrl=vf.getContractAddress=void 0;const t=r=>r;vf.getContractAddress=t;const e=r=>r;return vf.getUrl=e,vf}var kF;function Ud(){if(kF)return As;kF=1,Object.defineProperty(As,"__esModule",{value:!0}),As.RawContractError=As.CounterfactualDeploymentFailedError=As.ContractFunctionZeroDataError=As.ContractFunctionRevertedError=As.ContractFunctionExecutionError=As.CallExecutionError=void 0;const t=Gr(),e=K3(),r=HP(),n=Vu(),s=Ute(),i=Wu(),o=bE(),a=Ip(),c=Hr(),u=yt(),l=Y3(),d=Si(),f=J3();class h extends u.BaseError{constructor(g,{account:v,docsPath:A,chain:C,data:x,gas:T,gasPrice:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,to:U,value:I,stateOverride:S}){var O;const _=v?(0,t.parseAccount)(v):void 0;let R=(0,d.prettyPrint)({from:_==null?void 0:_.address,to:U,value:typeof I<"u"&&`${(0,o.formatEther)(I)} ${((O=C==null?void 0:C.nativeCurrency)==null?void 0:O.symbol)||"ETH"}`,data:x,gas:T,gasPrice:typeof N<"u"&&`${(0,a.formatGwei)(N)} gwei`,maxFeePerGas:typeof M<"u"&&`${(0,a.formatGwei)(M)} gwei`,maxPriorityFeePerGas:typeof k<"u"&&`${(0,a.formatGwei)(k)} gwei`,nonce:B});S&&(R+=`
${(0,l.prettyStateOverride)(S)}`),super(g.shortMessage,{cause:g,docsPath:A,metaMessages:[...g.metaMessages?[...g.metaMessages," "]:[],"Raw Call Arguments:",R].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=g}}As.CallExecutionError=h;class p extends u.BaseError{constructor(g,{abi:v,args:A,contractAddress:C,docsPath:x,functionName:T,sender:N}){const M=(0,i.getAbiItem)({abi:v,args:A,name:T}),k=M?(0,s.formatAbiItemWithArgs)({abiItem:M,args:A,includeFunctionName:!1,includeName:!1}):void 0,B=M?(0,n.formatAbiItem)(M,{includeName:!0}):void 0,U=(0,d.prettyPrint)({address:C&&(0,f.getContractAddress)(C),function:B,args:k&&k!=="()"&&`${[...Array((T==null?void 0:T.length)??0).keys()].map(()=>" ").join("")}${k}`,sender:N});super(g.shortMessage||`An unknown error occurred while executing the contract function "${T}".`,{cause:g,docsPath:x,metaMessages:[...g.metaMessages?[...g.metaMessages," "]:[],U&&"Contract Call:",U].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=v,this.args=A,this.cause=g,this.contractAddress=C,this.functionName=T,this.sender=N}}As.ContractFunctionExecutionError=p;class m extends u.BaseError{constructor({abi:g,data:v,functionName:A,message:C}){let x,T,N,M;if(v&&v!=="0x")try{T=(0,r.decodeErrorResult)({abi:g,data:v});const{abiItem:B,errorName:U,args:I}=T;if(U==="Error")M=I[0];else if(U==="Panic"){const[S]=I;M=e.panicReasons[S]}else{const S=B?(0,n.formatAbiItem)(B,{includeName:!0}):void 0,_=B&&I?(0,s.formatAbiItemWithArgs)({abiItem:B,args:I,includeFunctionName:!1,includeName:!1}):void 0;N=[S?`Error: ${S}`:"",_&&_!=="()"?`       ${[...Array((U==null?void 0:U.length)??0).keys()].map(()=>" ").join("")}${_}`:""]}}catch(B){x=B}else C&&(M=C);let k;x instanceof c.AbiErrorSignatureNotFoundError&&(k=x.signature,N=[`Unable to decode signature "${k}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${k}.`]),super(M&&M!=="execution reverted"||k?[`The contract function "${A}" reverted with the following ${k?"signature":"reason"}:`,M||k].join(`
`):`The contract function "${A}" reverted.`,{cause:x,metaMessages:N,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=T,this.raw=v,this.reason=M,this.signature=k}}As.ContractFunctionRevertedError=m;class y extends u.BaseError{constructor({functionName:g}){super(`The contract function "${g}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${g}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}As.ContractFunctionZeroDataError=y;class E extends u.BaseError{constructor({factory:g}){super(`Deployment for counterfactual contract call failed${g?` for factory "${g}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}As.CounterfactualDeploymentFailedError=E;class w extends u.BaseError{constructor({data:g,message:v}){super(v||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=g}}return As.RawContractError=w,As}var Oi={},jF;function ba(){if(jF)return Oi;jF=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.TimeoutError=Oi.SocketClosedError=Oi.RpcRequestError=Oi.WebSocketRequestError=Oi.HttpRequestError=void 0;const t=Xn(),e=yt(),r=J3();class n extends e.BaseError{constructor({body:u,cause:l,details:d,headers:f,status:h,url:p}){super("HTTP request failed.",{cause:l,details:d,metaMessages:[h&&`Status: ${h}`,`URL: ${(0,r.getUrl)(p)}`,u&&`Request body: ${(0,t.stringify)(u)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=u,this.headers=f,this.status=h,this.url=p}}Oi.HttpRequestError=n;class s extends e.BaseError{constructor({body:u,cause:l,details:d,url:f}){super("WebSocket request failed.",{cause:l,details:d,metaMessages:[`URL: ${(0,r.getUrl)(f)}`,u&&`Request body: ${(0,t.stringify)(u)}`].filter(Boolean),name:"WebSocketRequestError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=f}}Oi.WebSocketRequestError=s;class i extends e.BaseError{constructor({body:u,error:l,url:d}){super("RPC Request failed.",{cause:l,details:l.message,metaMessages:[`URL: ${(0,r.getUrl)(d)}`,`Request body: ${(0,t.stringify)(u)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=l.code,this.data=l.data,this.url=d}}Oi.RpcRequestError=i;class o extends e.BaseError{constructor({url:u}={}){super("The socket has been closed.",{metaMessages:[u&&`URL: ${(0,r.getUrl)(u)}`].filter(Boolean),name:"SocketClosedError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=u}}Oi.SocketClosedError=o;class a extends e.BaseError{constructor({body:u,url:l}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,r.getUrl)(l)}`,`Request body: ${(0,t.stringify)(u)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=l}}return Oi.TimeoutError=a,Oi}var rt={},DF;function Ld(){if(DF)return rt;DF=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.UnknownRpcError=rt.AtomicityNotSupportedError=rt.AtomicReadyWalletRejectedUpgradeError=rt.BundleTooLargeError=rt.UnknownBundleIdError=rt.DuplicateIdError=rt.UnsupportedChainIdError=rt.UnsupportedNonOptionalCapabilityError=rt.SwitchChainError=rt.ChainDisconnectedError=rt.ProviderDisconnectedError=rt.UnsupportedProviderMethodError=rt.UnauthorizedProviderError=rt.UserRejectedRequestError=rt.JsonRpcVersionUnsupportedError=rt.LimitExceededRpcError=rt.MethodNotSupportedRpcError=rt.TransactionRejectedRpcError=rt.ResourceUnavailableRpcError=rt.ResourceNotFoundRpcError=rt.InvalidInputRpcError=rt.InternalRpcError=rt.InvalidParamsRpcError=rt.MethodNotFoundRpcError=rt.InvalidRequestRpcError=rt.ParseRpcError=rt.ProviderRpcError=rt.RpcError=void 0;const t=yt(),e=ba(),r=-1;class n extends t.BaseError{constructor(S,{code:_,docsPath:R,metaMessages:O,name:P,shortMessage:D}){super(D,{cause:S,docsPath:R,metaMessages:O||(S==null?void 0:S.metaMessages),name:P||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=P||S.name,this.code=S instanceof e.RpcRequestError?S.code:_??r}}rt.RpcError=n;class s extends n{constructor(S,_){super(S,_),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=_.data}}rt.ProviderRpcError=s;class i extends n{constructor(S){super(S,{code:i.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}rt.ParseRpcError=i,Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class o extends n{constructor(S){super(S,{code:o.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}rt.InvalidRequestRpcError=o,Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class a extends n{constructor(S,{method:_}={}){super(S,{code:a.code,name:"MethodNotFoundRpcError",shortMessage:`The method${_?` "${_}"`:""} does not exist / is not available.`})}}rt.MethodNotFoundRpcError=a,Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class c extends n{constructor(S){super(S,{code:c.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}rt.InvalidParamsRpcError=c,Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class u extends n{constructor(S){super(S,{code:u.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}rt.InternalRpcError=u,Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class l extends n{constructor(S){super(S,{code:l.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}rt.InvalidInputRpcError=l,Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class d extends n{constructor(S){super(S,{code:d.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}rt.ResourceNotFoundRpcError=d,Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class f extends n{constructor(S){super(S,{code:f.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}rt.ResourceUnavailableRpcError=f,Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class h extends n{constructor(S){super(S,{code:h.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}rt.TransactionRejectedRpcError=h,Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class p extends n{constructor(S,{method:_}={}){super(S,{code:p.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${_?` "${_}"`:""} is not supported.`})}}rt.MethodNotSupportedRpcError=p,Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class m extends n{constructor(S){super(S,{code:m.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}rt.LimitExceededRpcError=m,Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class y extends n{constructor(S){super(S,{code:y.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}rt.JsonRpcVersionUnsupportedError=y,Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class E extends s{constructor(S){super(S,{code:E.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}rt.UserRejectedRequestError=E,Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends s{constructor(S){super(S,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}rt.UnauthorizedProviderError=w,Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class b extends s{constructor(S,{method:_}={}){super(S,{code:b.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${_?` " ${_}"`:""}.`})}}rt.UnsupportedProviderMethodError=b,Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class g extends s{constructor(S){super(S,{code:g.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}rt.ProviderDisconnectedError=g,Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class v extends s{constructor(S){super(S,{code:v.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}rt.ChainDisconnectedError=v,Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class A extends s{constructor(S){super(S,{code:A.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}rt.SwitchChainError=A,Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class C extends s{constructor(S){super(S,{code:C.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}rt.UnsupportedNonOptionalCapabilityError=C,Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class x extends s{constructor(S){super(S,{code:x.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}rt.UnsupportedChainIdError=x,Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class T extends s{constructor(S){super(S,{code:T.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}rt.DuplicateIdError=T,Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class N extends s{constructor(S){super(S,{code:N.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}rt.UnknownBundleIdError=N,Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class M extends s{constructor(S){super(S,{code:M.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}rt.BundleTooLargeError=M,Object.defineProperty(M,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class k extends s{constructor(S){super(S,{code:k.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}rt.AtomicReadyWalletRejectedUpgradeError=k,Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class B extends s{constructor(S){super(S,{code:B.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}rt.AtomicityNotSupportedError=B,Object.defineProperty(B,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class U extends n{constructor(S){super(S,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}return rt.UnknownRpcError=U,rt}var MF;function Fd(){if(MF)return w_;MF=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.getContractError=o;const t=Hr(),e=yt(),r=Ud(),n=ba(),s=Ld(),i=3;function o(a,{abi:c,address:u,args:l,docsPath:d,functionName:f,sender:h}){const p=a instanceof r.RawContractError?a:a instanceof e.BaseError?a.walk(v=>"data"in v)||a.walk():{},{code:m,data:y,details:E,message:w,shortMessage:b}=p,g=a instanceof t.AbiDecodingZeroDataError?new r.ContractFunctionZeroDataError({functionName:f}):[i,s.InternalRpcError.code].includes(m)&&(y||E||w||b)||m===s.InvalidInputRpcError.code&&E==="execution reverted"&&y?new r.ContractFunctionRevertedError({abi:c,data:typeof y=="object"?y.data:y,functionName:f,message:p instanceof n.RpcRequestError?E:b??w}):a;return new r.ContractFunctionExecutionError(g,{abi:c,args:l,contractAddress:u,docsPath:d,functionName:f,sender:h})}return w_}var T_={},P_={},x_={},O_={},UF;function Lte(){if(UF)return O_;UF=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.publicKeyToAddress=r;const t=to(),e=_i();function r(n){const s=(0,e.keccak256)(`0x${n.substring(4)}`).substring(26);return(0,t.checksumAddress)(`0x${s}`)}return O_}var R_={},iO={},Er={},as={},LF;function Fte(){if(LF)return as;LF=1,Object.defineProperty(as,"__esModule",{value:!0}),as.SHA512_IV=as.SHA384_IV=as.SHA224_IV=as.SHA256_IV=as.HashMD=void 0,as.setBigUint64=e,as.Chi=r,as.Maj=n;const t=ma();function e(i,o,a,c){if(typeof i.setBigUint64=="function")return i.setBigUint64(o,a,c);const u=BigInt(32),l=BigInt(4294967295),d=Number(a>>u&l),f=Number(a&l),h=c?4:0,p=c?0:4;i.setUint32(o+h,d,c),i.setUint32(o+p,f,c)}function r(i,o,a){return i&o^~i&a}function n(i,o,a){return i&o^i&a^o&a}class s extends t.Hash{constructor(o,a,c,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=o,this.outputLen=a,this.padOffset=c,this.isLE=u,this.buffer=new Uint8Array(o),this.view=(0,t.createView)(this.buffer)}update(o){(0,t.aexists)(this),o=(0,t.toBytes)(o),(0,t.abytes)(o);const{view:a,buffer:c,blockLen:u}=this,l=o.length;for(let d=0;d<l;){const f=Math.min(u-this.pos,l-d);if(f===u){const h=(0,t.createView)(o);for(;u<=l-d;d+=u)this.process(h,d);continue}c.set(o.subarray(d,d+f),this.pos),this.pos+=f,d+=f,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,t.aexists)(this),(0,t.aoutput)(o,this),this.finished=!0;const{buffer:a,view:c,blockLen:u,isLE:l}=this;let{pos:d}=this;a[d++]=128,(0,t.clean)(this.buffer.subarray(d)),this.padOffset>u-d&&(this.process(c,0),d=0);for(let y=d;y<u;y++)a[y]=0;e(c,u-8,BigInt(this.length*8),l),this.process(c,0);const f=(0,t.createView)(o),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=h/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,m[y],l)}digest(){const{buffer:o,outputLen:a}=this;this.digestInto(o);const c=o.slice(0,a);return this.destroy(),c}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:a,buffer:c,length:u,finished:l,destroyed:d,pos:f}=this;return o.destroyed=d,o.finished=l,o.length=u,o.pos=f,u%a&&o.buffer.set(c),o}clone(){return this._cloneInto()}}return as.HashMD=s,as.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),as.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),as.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),as.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),as}var FF;function Q3(){if(FF)return Er;FF=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.sha512_224=Er.sha512_256=Er.sha384=Er.sha512=Er.sha224=Er.sha256=Er.SHA512_256=Er.SHA512_224=Er.SHA384=Er.SHA512=Er.SHA224=Er.SHA256=void 0;const t=Fte(),e=kte(),r=ma(),n=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array(64);class i extends t.HashMD{constructor(b=32){super(64,b,8,!1),this.A=t.SHA256_IV[0]|0,this.B=t.SHA256_IV[1]|0,this.C=t.SHA256_IV[2]|0,this.D=t.SHA256_IV[3]|0,this.E=t.SHA256_IV[4]|0,this.F=t.SHA256_IV[5]|0,this.G=t.SHA256_IV[6]|0,this.H=t.SHA256_IV[7]|0}get(){const{A:b,B:g,C:v,D:A,E:C,F:x,G:T,H:N}=this;return[b,g,v,A,C,x,T,N]}set(b,g,v,A,C,x,T,N){this.A=b|0,this.B=g|0,this.C=v|0,this.D=A|0,this.E=C|0,this.F=x|0,this.G=T|0,this.H=N|0}process(b,g){for(let B=0;B<16;B++,g+=4)s[B]=b.getUint32(g,!1);for(let B=16;B<64;B++){const U=s[B-15],I=s[B-2],S=(0,r.rotr)(U,7)^(0,r.rotr)(U,18)^U>>>3,_=(0,r.rotr)(I,17)^(0,r.rotr)(I,19)^I>>>10;s[B]=_+s[B-7]+S+s[B-16]|0}let{A:v,B:A,C,D:x,E:T,F:N,G:M,H:k}=this;for(let B=0;B<64;B++){const U=(0,r.rotr)(T,6)^(0,r.rotr)(T,11)^(0,r.rotr)(T,25),I=k+U+(0,t.Chi)(T,N,M)+n[B]+s[B]|0,_=((0,r.rotr)(v,2)^(0,r.rotr)(v,13)^(0,r.rotr)(v,22))+(0,t.Maj)(v,A,C)|0;k=M,M=N,N=T,T=x+I|0,x=C,C=A,A=v,v=I+_|0}v=v+this.A|0,A=A+this.B|0,C=C+this.C|0,x=x+this.D|0,T=T+this.E|0,N=N+this.F|0,M=M+this.G|0,k=k+this.H|0,this.set(v,A,C,x,T,N,M,k)}roundClean(){(0,r.clean)(s)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,r.clean)(this.buffer)}}Er.SHA256=i;class o extends i{constructor(){super(28),this.A=t.SHA224_IV[0]|0,this.B=t.SHA224_IV[1]|0,this.C=t.SHA224_IV[2]|0,this.D=t.SHA224_IV[3]|0,this.E=t.SHA224_IV[4]|0,this.F=t.SHA224_IV[5]|0,this.G=t.SHA224_IV[6]|0,this.H=t.SHA224_IV[7]|0}}Er.SHA224=o;const a=e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(w=>BigInt(w))),c=a[0],u=a[1],l=new Uint32Array(80),d=new Uint32Array(80);class f extends t.HashMD{constructor(b=64){super(128,b,16,!1),this.Ah=t.SHA512_IV[0]|0,this.Al=t.SHA512_IV[1]|0,this.Bh=t.SHA512_IV[2]|0,this.Bl=t.SHA512_IV[3]|0,this.Ch=t.SHA512_IV[4]|0,this.Cl=t.SHA512_IV[5]|0,this.Dh=t.SHA512_IV[6]|0,this.Dl=t.SHA512_IV[7]|0,this.Eh=t.SHA512_IV[8]|0,this.El=t.SHA512_IV[9]|0,this.Fh=t.SHA512_IV[10]|0,this.Fl=t.SHA512_IV[11]|0,this.Gh=t.SHA512_IV[12]|0,this.Gl=t.SHA512_IV[13]|0,this.Hh=t.SHA512_IV[14]|0,this.Hl=t.SHA512_IV[15]|0}get(){const{Ah:b,Al:g,Bh:v,Bl:A,Ch:C,Cl:x,Dh:T,Dl:N,Eh:M,El:k,Fh:B,Fl:U,Gh:I,Gl:S,Hh:_,Hl:R}=this;return[b,g,v,A,C,x,T,N,M,k,B,U,I,S,_,R]}set(b,g,v,A,C,x,T,N,M,k,B,U,I,S,_,R){this.Ah=b|0,this.Al=g|0,this.Bh=v|0,this.Bl=A|0,this.Ch=C|0,this.Cl=x|0,this.Dh=T|0,this.Dl=N|0,this.Eh=M|0,this.El=k|0,this.Fh=B|0,this.Fl=U|0,this.Gh=I|0,this.Gl=S|0,this.Hh=_|0,this.Hl=R|0}process(b,g){for(let D=0;D<16;D++,g+=4)l[D]=b.getUint32(g),d[D]=b.getUint32(g+=4);for(let D=16;D<80;D++){const j=l[D-15]|0,F=d[D-15]|0,q=e.rotrSH(j,F,1)^e.rotrSH(j,F,8)^e.shrSH(j,F,7),z=e.rotrSL(j,F,1)^e.rotrSL(j,F,8)^e.shrSL(j,F,7),W=l[D-2]|0,K=d[D-2]|0,re=e.rotrSH(W,K,19)^e.rotrBH(W,K,61)^e.shrSH(W,K,6),Q=e.rotrSL(W,K,19)^e.rotrBL(W,K,61)^e.shrSL(W,K,6),X=e.add4L(z,Q,d[D-7],d[D-16]),ie=e.add4H(X,q,re,l[D-7],l[D-16]);l[D]=ie|0,d[D]=X|0}let{Ah:v,Al:A,Bh:C,Bl:x,Ch:T,Cl:N,Dh:M,Dl:k,Eh:B,El:U,Fh:I,Fl:S,Gh:_,Gl:R,Hh:O,Hl:P}=this;for(let D=0;D<80;D++){const j=e.rotrSH(B,U,14)^e.rotrSH(B,U,18)^e.rotrBH(B,U,41),F=e.rotrSL(B,U,14)^e.rotrSL(B,U,18)^e.rotrBL(B,U,41),q=B&I^~B&_,z=U&S^~U&R,W=e.add5L(P,F,z,u[D],d[D]),K=e.add5H(W,O,j,q,c[D],l[D]),re=W|0,Q=e.rotrSH(v,A,28)^e.rotrBH(v,A,34)^e.rotrBH(v,A,39),X=e.rotrSL(v,A,28)^e.rotrBL(v,A,34)^e.rotrBL(v,A,39),ie=v&C^v&T^C&T,Y=A&x^A&N^x&N;O=_|0,P=R|0,_=I|0,R=S|0,I=B|0,S=U|0,{h:B,l:U}=e.add(M|0,k|0,K|0,re|0),M=T|0,k=N|0,T=C|0,N=x|0,C=v|0,x=A|0;const V=e.add3L(re,X,Y);v=e.add3H(V,K,Q,ie),A=V|0}({h:v,l:A}=e.add(this.Ah|0,this.Al|0,v|0,A|0)),{h:C,l:x}=e.add(this.Bh|0,this.Bl|0,C|0,x|0),{h:T,l:N}=e.add(this.Ch|0,this.Cl|0,T|0,N|0),{h:M,l:k}=e.add(this.Dh|0,this.Dl|0,M|0,k|0),{h:B,l:U}=e.add(this.Eh|0,this.El|0,B|0,U|0),{h:I,l:S}=e.add(this.Fh|0,this.Fl|0,I|0,S|0),{h:_,l:R}=e.add(this.Gh|0,this.Gl|0,_|0,R|0),{h:O,l:P}=e.add(this.Hh|0,this.Hl|0,O|0,P|0),this.set(v,A,C,x,T,N,M,k,B,U,I,S,_,R,O,P)}roundClean(){(0,r.clean)(l,d)}destroy(){(0,r.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Er.SHA512=f;class h extends f{constructor(){super(48),this.Ah=t.SHA384_IV[0]|0,this.Al=t.SHA384_IV[1]|0,this.Bh=t.SHA384_IV[2]|0,this.Bl=t.SHA384_IV[3]|0,this.Ch=t.SHA384_IV[4]|0,this.Cl=t.SHA384_IV[5]|0,this.Dh=t.SHA384_IV[6]|0,this.Dl=t.SHA384_IV[7]|0,this.Eh=t.SHA384_IV[8]|0,this.El=t.SHA384_IV[9]|0,this.Fh=t.SHA384_IV[10]|0,this.Fl=t.SHA384_IV[11]|0,this.Gh=t.SHA384_IV[12]|0,this.Gl=t.SHA384_IV[13]|0,this.Hh=t.SHA384_IV[14]|0,this.Hl=t.SHA384_IV[15]|0}}Er.SHA384=h;const p=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),m=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class y extends f{constructor(){super(28),this.Ah=p[0]|0,this.Al=p[1]|0,this.Bh=p[2]|0,this.Bl=p[3]|0,this.Ch=p[4]|0,this.Cl=p[5]|0,this.Dh=p[6]|0,this.Dl=p[7]|0,this.Eh=p[8]|0,this.El=p[9]|0,this.Fh=p[10]|0,this.Fl=p[11]|0,this.Gh=p[12]|0,this.Gl=p[13]|0,this.Hh=p[14]|0,this.Hl=p[15]|0}}Er.SHA512_224=y;class E extends f{constructor(){super(32),this.Ah=m[0]|0,this.Al=m[1]|0,this.Bh=m[2]|0,this.Bl=m[3]|0,this.Ch=m[4]|0,this.Cl=m[5]|0,this.Dh=m[6]|0,this.Dl=m[7]|0,this.Eh=m[8]|0,this.El=m[9]|0,this.Fh=m[10]|0,this.Fl=m[11]|0,this.Gh=m[12]|0,this.Gl=m[13]|0,this.Hh=m[14]|0,this.Hl=m[15]|0}}return Er.SHA512_256=E,Er.sha256=(0,r.createHasher)(()=>new i),Er.sha224=(0,r.createHasher)(()=>new o),Er.sha512=(0,r.createHasher)(()=>new f),Er.sha384=(0,r.createHasher)(()=>new h),Er.sha512_256=(0,r.createHasher)(()=>new E),Er.sha512_224=(0,r.createHasher)(()=>new y),Er}var Gy={},oO={},HF;function Hte(){return HF||(HF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=ma();class r extends e.Hash{constructor(i,o){super(),this.finished=!1,this.destroyed=!1,(0,e.ahash)(i);const a=(0,e.toBytes)(o);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,u=new Uint8Array(c);u.set(a.length>c?i.create().update(a).digest():a);for(let l=0;l<u.length;l++)u[l]^=54;this.iHash.update(u),this.oHash=i.create();for(let l=0;l<u.length;l++)u[l]^=106;this.oHash.update(u),(0,e.clean)(u)}update(i){return(0,e.aexists)(this),this.iHash.update(i),this}digestInto(i){(0,e.aexists)(this),(0,e.abytes)(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:a,finished:c,destroyed:u,blockLen:l,outputLen:d}=this;return i=i,i.finished=c,i.destroyed=u,i.blockLen=l,i.outputLen=d,i.oHash=o._cloneInto(i.oHash),i.iHash=a._cloneInto(i.iHash),i}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r;const n=(s,i,o)=>new r(s,i).update(o).digest();t.hmac=n,t.hmac.create=(s,i)=>new r(s,i)})(oO)),oO}var aO={},_f={},Rr={},sr={},qF;function wE(){if(qF)return sr;qF=1;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(sr,"__esModule",{value:!0}),sr.notImplemented=sr.bitMask=void 0,sr.isBytes=r,sr.abytes=n,sr.abool=s,sr.numberToHexUnpadded=i,sr.hexToNumber=o,sr.bytesToHex=u,sr.hexToBytes=f,sr.bytesToNumberBE=h,sr.bytesToNumberLE=p,sr.numberToBytesBE=m,sr.numberToBytesLE=y,sr.numberToVarBytesBE=E,sr.ensureBytes=w,sr.concatBytes=b,sr.equalBytes=g,sr.utf8ToBytes=v,sr.inRange=C,sr.aInRange=x,sr.bitLen=T,sr.bitGet=N,sr.bitSet=M,sr.createHmacDrbg=I,sr.validateObject=_,sr.memoized=O;const t=BigInt(0),e=BigInt(1);function r(P){return P instanceof Uint8Array||ArrayBuffer.isView(P)&&P.constructor.name==="Uint8Array"}function n(P){if(!r(P))throw new Error("Uint8Array expected")}function s(P,D){if(typeof D!="boolean")throw new Error(P+" boolean expected, got "+D)}function i(P){const D=P.toString(16);return D.length&1?"0"+D:D}function o(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);return P===""?t:BigInt("0x"+P)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(P,D)=>D.toString(16).padStart(2,"0"));function u(P){if(n(P),a)return P.toHex();let D="";for(let j=0;j<P.length;j++)D+=c[P[j]];return D}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function d(P){if(P>=l._0&&P<=l._9)return P-l._0;if(P>=l.A&&P<=l.F)return P-(l.A-10);if(P>=l.a&&P<=l.f)return P-(l.a-10)}function f(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);if(a)return Uint8Array.fromHex(P);const D=P.length,j=D/2;if(D%2)throw new Error("hex string expected, got unpadded hex of length "+D);const F=new Uint8Array(j);for(let q=0,z=0;q<j;q++,z+=2){const W=d(P.charCodeAt(z)),K=d(P.charCodeAt(z+1));if(W===void 0||K===void 0){const re=P[z]+P[z+1];throw new Error('hex string expected, got non-hex character "'+re+'" at index '+z)}F[q]=W*16+K}return F}function h(P){return o(u(P))}function p(P){return n(P),o(u(Uint8Array.from(P).reverse()))}function m(P,D){return f(P.toString(16).padStart(D*2,"0"))}function y(P,D){return m(P,D).reverse()}function E(P){return f(i(P))}function w(P,D,j){let F;if(typeof D=="string")try{F=f(D)}catch(z){throw new Error(P+" must be hex string or Uint8Array, cause: "+z)}else if(r(D))F=Uint8Array.from(D);else throw new Error(P+" must be hex string or Uint8Array");const q=F.length;if(typeof j=="number"&&q!==j)throw new Error(P+" of length "+j+" expected, got "+q);return F}function b(...P){let D=0;for(let F=0;F<P.length;F++){const q=P[F];n(q),D+=q.length}const j=new Uint8Array(D);for(let F=0,q=0;F<P.length;F++){const z=P[F];j.set(z,q),q+=z.length}return j}function g(P,D){if(P.length!==D.length)return!1;let j=0;for(let F=0;F<P.length;F++)j|=P[F]^D[F];return j===0}function v(P){if(typeof P!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(P))}const A=P=>typeof P=="bigint"&&t<=P;function C(P,D,j){return A(P)&&A(D)&&A(j)&&D<=P&&P<j}function x(P,D,j,F){if(!C(D,j,F))throw new Error("expected valid "+P+": "+j+" <= n < "+F+", got "+D)}function T(P){let D;for(D=0;P>t;P>>=e,D+=1);return D}function N(P,D){return P>>BigInt(D)&e}function M(P,D,j){return P|(j?e:t)<<BigInt(D)}const k=P=>(e<<BigInt(P))-e;sr.bitMask=k;const B=P=>new Uint8Array(P),U=P=>Uint8Array.from(P);function I(P,D,j){if(typeof P!="number"||P<2)throw new Error("hashLen must be a number");if(typeof D!="number"||D<2)throw new Error("qByteLen must be a number");if(typeof j!="function")throw new Error("hmacFn must be a function");let F=B(P),q=B(P),z=0;const W=()=>{F.fill(1),q.fill(0),z=0},K=(...ie)=>j(q,F,...ie),re=(ie=B(0))=>{q=K(U([0]),ie),F=K(),ie.length!==0&&(q=K(U([1]),ie),F=K())},Q=()=>{if(z++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const Y=[];for(;ie<D;){F=K();const V=F.slice();Y.push(V),ie+=F.length}return b(...Y)};return(ie,Y)=>{W(),re(ie);let V;for(;!(V=Y(Q()));)re();return W(),V}}const S={bigint:P=>typeof P=="bigint",function:P=>typeof P=="function",boolean:P=>typeof P=="boolean",string:P=>typeof P=="string",stringOrUint8Array:P=>typeof P=="string"||r(P),isSafeInteger:P=>Number.isSafeInteger(P),array:P=>Array.isArray(P),field:(P,D)=>D.Fp.isValid(P),hash:P=>typeof P=="function"&&Number.isSafeInteger(P.outputLen)};function _(P,D,j={}){const F=(q,z,W)=>{const K=S[z];if(typeof K!="function")throw new Error("invalid validator function");const re=P[q];if(!(W&&re===void 0)&&!K(re,P))throw new Error("param "+String(q)+" is invalid. Expected "+z+", got "+re)};for(const[q,z]of Object.entries(D))F(q,z,!1);for(const[q,z]of Object.entries(j))F(q,z,!0);return P}const R=()=>{throw new Error("not implemented")};sr.notImplemented=R;function O(P){const D=new WeakMap;return(j,...F)=>{const q=D.get(j);if(q!==void 0)return q;const z=P(j,...F);return D.set(j,z),z}}return sr}var zF;function zP(){if(zF)return Rr;zF=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.isNegativeLE=void 0,Rr.mod=u,Rr.pow=l,Rr.pow2=d,Rr.invert=f,Rr.tonelliShanks=m,Rr.FpSqrt=y,Rr.validateField=b,Rr.FpPow=g,Rr.FpInvertBatch=v,Rr.FpDiv=A,Rr.FpLegendre=C,Rr.FpIsSquare=x,Rr.nLength=T,Rr.Field=N,Rr.FpSqrtOdd=M,Rr.FpSqrtEven=k,Rr.hashToPrivateScalar=B,Rr.getFieldBytesLength=U,Rr.getMinHashLength=I,Rr.mapHashToField=S;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ma(),e=wE(),r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function u(_,R){const O=_%R;return O>=r?O:R+O}function l(_,R,O){return g(N(O),_,R)}function d(_,R,O){let P=_;for(;R-- >r;)P*=P,P%=O;return P}function f(_,R){if(_===r)throw new Error("invert: expected non-zero number");if(R<=r)throw new Error("invert: expected positive modulus, got "+R);let O=u(_,R),P=R,D=r,j=n;for(;O!==r;){const q=P/O,z=P%O,W=D-j*q;P=O,O=z,D=j,j=W}if(P!==n)throw new Error("invert: does not exist");return u(D,R)}function h(_,R){const O=(_.ORDER+n)/o,P=_.pow(R,O);if(!_.eql(_.sqr(P),R))throw new Error("Cannot find square root");return P}function p(_,R){const O=(_.ORDER-a)/c,P=_.mul(R,s),D=_.pow(P,O),j=_.mul(R,D),F=_.mul(_.mul(j,s),D),q=_.mul(j,_.sub(F,_.ONE));if(!_.eql(_.sqr(q),R))throw new Error("Cannot find square root");return q}function m(_){if(_<BigInt(3))throw new Error("sqrt is not defined for small field");let R=_-n,O=0;for(;R%s===r;)R/=s,O++;let P=s;const D=N(_);for(;C(D,P)===1;)if(P++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(O===1)return h;let j=D.pow(P,R);const F=(R+n)/s;return function(z,W){if(z.is0(W))return W;if(C(z,W)!==1)throw new Error("Cannot find square root");let K=O,re=z.mul(z.ONE,j),Q=z.pow(W,R),X=z.pow(W,F);for(;!z.eql(Q,z.ONE);){if(z.is0(Q))return z.ZERO;let ie=1,Y=z.sqr(Q);for(;!z.eql(Y,z.ONE);)if(ie++,Y=z.sqr(Y),ie===K)throw new Error("Cannot find square root");const V=n<<BigInt(K-ie-1),Z=z.pow(re,V);K=ie,re=z.sqr(Z),Q=z.mul(Q,re),X=z.mul(X,Z)}return X}}function y(_){return _%o===i?h:_%c===a?p:m(_)}const E=(_,R)=>(u(_,R)&n)===n;Rr.isNegativeLE=E;const w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(_){const R={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},O=w.reduce((P,D)=>(P[D]="function",P),R);return(0,e.validateObject)(_,O)}function g(_,R,O){if(O<r)throw new Error("invalid exponent, negatives unsupported");if(O===r)return _.ONE;if(O===n)return R;let P=_.ONE,D=R;for(;O>r;)O&n&&(P=_.mul(P,D)),D=_.sqr(D),O>>=n;return P}function v(_,R,O=!1){const P=new Array(R.length).fill(O?_.ZERO:void 0),D=R.reduce((F,q,z)=>_.is0(q)?F:(P[z]=F,_.mul(F,q)),_.ONE),j=_.inv(D);return R.reduceRight((F,q,z)=>_.is0(q)?F:(P[z]=_.mul(F,P[z]),_.mul(F,q)),j),P}function A(_,R,O){return _.mul(R,typeof O=="bigint"?f(O,_.ORDER):_.inv(O))}function C(_,R){const O=(_.ORDER-n)/s,P=_.pow(R,O),D=_.eql(P,_.ONE),j=_.eql(P,_.ZERO),F=_.eql(P,_.neg(_.ONE));if(!D&&!j&&!F)throw new Error("invalid Legendre symbol result");return D?1:j?0:-1}function x(_,R){return C(_,R)===1}function T(_,R){R!==void 0&&(0,t.anumber)(R);const O=R!==void 0?R:_.toString(2).length,P=Math.ceil(O/8);return{nBitLength:O,nByteLength:P}}function N(_,R,O=!1,P={}){if(_<=r)throw new Error("invalid field: expected ORDER > 0, got "+_);const{nBitLength:D,nByteLength:j}=T(_,R);if(j>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let F;const q=Object.freeze({ORDER:_,isLE:O,BITS:D,BYTES:j,MASK:(0,e.bitMask)(D),ZERO:r,ONE:n,create:z=>u(z,_),isValid:z=>{if(typeof z!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof z);return r<=z&&z<_},is0:z=>z===r,isOdd:z=>(z&n)===n,neg:z=>u(-z,_),eql:(z,W)=>z===W,sqr:z=>u(z*z,_),add:(z,W)=>u(z+W,_),sub:(z,W)=>u(z-W,_),mul:(z,W)=>u(z*W,_),pow:(z,W)=>g(q,z,W),div:(z,W)=>u(z*f(W,_),_),sqrN:z=>z*z,addN:(z,W)=>z+W,subN:(z,W)=>z-W,mulN:(z,W)=>z*W,inv:z=>f(z,_),sqrt:P.sqrt||(z=>(F||(F=y(_)),F(q,z))),toBytes:z=>O?(0,e.numberToBytesLE)(z,j):(0,e.numberToBytesBE)(z,j),fromBytes:z=>{if(z.length!==j)throw new Error("Field.fromBytes: expected "+j+" bytes, got "+z.length);return O?(0,e.bytesToNumberLE)(z):(0,e.bytesToNumberBE)(z)},invertBatch:z=>v(q,z),cmov:(z,W,K)=>K?W:z});return Object.freeze(q)}function M(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?O:_.neg(O)}function k(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?_.neg(O):O}function B(_,R,O=!1){_=(0,e.ensureBytes)("privateHash",_);const P=_.length,D=T(R).nByteLength+8;if(D<24||P<D||P>1024)throw new Error("hashToPrivateScalar: expected "+D+"-1024 bytes of input, got "+P);const j=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_);return u(j,R-n)+n}function U(_){if(typeof _!="bigint")throw new Error("field order must be bigint");const R=_.toString(2).length;return Math.ceil(R/8)}function I(_){const R=U(_);return R+Math.ceil(R/2)}function S(_,R,O=!1){const P=_.length,D=U(R),j=I(R);if(P<16||P<j||P>1024)throw new Error("expected "+j+"-1024 bytes of input, got "+P);const F=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_),q=u(F,R-n)+n;return O?(0,e.numberToBytesLE)(q,D):(0,e.numberToBytesBE)(q,D)}return Rr}var $F;function N3e(){if($F)return _f;$F=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.wNAF=h,_f.pippenger=p,_f.precomputeMSMUnsafe=m,_f.validateBasic=y;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=zP(),e=wE(),r=BigInt(0),n=BigInt(1);function s(E,w){const b=w.negate();return E?b:w}function i(E,w){if(!Number.isSafeInteger(E)||E<=0||E>w)throw new Error("invalid window size, expected [1.."+w+"], got W="+E)}function o(E,w){i(E,w);const b=Math.ceil(w/E)+1,g=2**(E-1),v=2**E,A=(0,e.bitMask)(E),C=BigInt(E);return{windows:b,windowSize:g,mask:A,maxNumber:v,shiftBy:C}}function a(E,w,b){const{windowSize:g,mask:v,maxNumber:A,shiftBy:C}=b;let x=Number(E&v),T=E>>C;x>g&&(x-=A,T+=n);const N=w*g,M=N+Math.abs(x)-1,k=x===0,B=x<0,U=w%2!==0;return{nextN:T,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:N}}function c(E,w){if(!Array.isArray(E))throw new Error("array expected");E.forEach((b,g)=>{if(!(b instanceof w))throw new Error("invalid point at index "+g)})}function u(E,w){if(!Array.isArray(E))throw new Error("array of scalars expected");E.forEach((b,g)=>{if(!w.isValid(b))throw new Error("invalid scalar at index "+g)})}const l=new WeakMap,d=new WeakMap;function f(E){return d.get(E)||1}function h(E,w){return{constTimeNegate:s,hasPrecomputes(b){return f(b)!==1},unsafeLadder(b,g,v=E.ZERO){let A=b;for(;g>r;)g&n&&(v=v.add(A)),A=A.double(),g>>=n;return v},precomputeWindow(b,g){const{windows:v,windowSize:A}=o(g,w),C=[];let x=b,T=x;for(let N=0;N<v;N++){T=x,C.push(T);for(let M=1;M<A;M++)T=T.add(x),C.push(T);x=T.double()}return C},wNAF(b,g,v){let A=E.ZERO,C=E.BASE;const x=o(b,w);for(let T=0;T<x.windows;T++){const{nextN:N,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:I}=a(v,T,x);v=N,k?C=C.add(s(U,g[I])):A=A.add(s(B,g[M]))}return{p:A,f:C}},wNAFUnsafe(b,g,v,A=E.ZERO){const C=o(b,w);for(let x=0;x<C.windows&&v!==r;x++){const{nextN:T,offset:N,isZero:M,isNeg:k}=a(v,x,C);if(v=T,!M){const B=g[N];A=A.add(k?B.negate():B)}}return A},getPrecomputes(b,g,v){let A=l.get(g);return A||(A=this.precomputeWindow(g,b),b!==1&&l.set(g,v(A))),A},wNAFCached(b,g,v){const A=f(b);return this.wNAF(A,this.getPrecomputes(A,b,v),g)},wNAFCachedUnsafe(b,g,v,A){const C=f(b);return C===1?this.unsafeLadder(b,g,A):this.wNAFUnsafe(C,this.getPrecomputes(C,b,v),g,A)},setWindowSize(b,g){i(g,w),d.set(b,g),l.delete(b)}}}function p(E,w,b,g){c(b,E),u(g,w);const v=b.length,A=g.length;if(v!==A)throw new Error("arrays of points and scalars must have equal length");const C=E.ZERO,x=(0,e.bitLen)(BigInt(v));let T=1;x>12?T=x-3:x>4?T=x-2:x>0&&(T=2);const N=(0,e.bitMask)(T),M=new Array(Number(N)+1).fill(C),k=Math.floor((w.BITS-1)/T)*T;let B=C;for(let U=k;U>=0;U-=T){M.fill(C);for(let S=0;S<A;S++){const _=g[S],R=Number(_>>BigInt(U)&N);M[R]=M[R].add(b[S])}let I=C;for(let S=M.length-1,_=C;S>0;S--)_=_.add(M[S]),I=I.add(_);if(B=B.add(I),U!==0)for(let S=0;S<T;S++)B=B.double()}return B}function m(E,w,b,g){i(g,w.BITS),c(b,E);const v=E.ZERO,A=2**g-1,C=Math.ceil(w.BITS/g),x=(0,e.bitMask)(g),T=b.map(N=>{const M=[];for(let k=0,B=N;k<A;k++)M.push(B),B=B.add(N);return M});return N=>{if(u(N,w),N.length>b.length)throw new Error("array of scalars must be smaller than array of points");let M=v;for(let k=0;k<C;k++){if(M!==v)for(let U=0;U<g;U++)M=M.double();const B=BigInt(C*g-(k+1)*g);for(let U=0;U<N.length;U++){const I=N[U],S=Number(I>>B&x);S&&(M=M.add(T[U][S-1]))}}return M}}function y(E){return(0,t.validateField)(E.Fp),(0,e.validateObject)(E,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(E.n,E.nBitLength),...E,p:E.Fp.ORDER})}return _f}var VF;function qte(){return VF||(VF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=h,t.weierstrass=m,t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=E;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=N3e(),r=zP(),n=wE();function s(w){w.lowS!==void 0&&(0,n.abool)("lowS",w.lowS),w.prehash!==void 0&&(0,n.abool)("prehash",w.prehash)}function i(w){const b=(0,e.validateBasic)(w);(0,n.validateObject)(b,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:g,Fp:v,a:A}=b;if(g){if(!v.eql(A,v.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof g!="object"||typeof g.beta!="bigint"||typeof g.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...b})}class o extends Error{constructor(b=""){super(b)}}t.DERErr=o,t.DER={Err:o,_tlv:{encode:(w,b)=>{const{Err:g}=t.DER;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length&1)throw new g("tlv.encode: unpadded data");const v=b.length/2,A=(0,n.numberToHexUnpadded)(v);if(A.length/2&128)throw new g("tlv.encode: long form length too big");const C=v>127?(0,n.numberToHexUnpadded)(A.length/2|128):"";return(0,n.numberToHexUnpadded)(w)+C+A+b},decode(w,b){const{Err:g}=t.DER;let v=0;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length<2||b[v++]!==w)throw new g("tlv.decode: wrong tlv");const A=b[v++],C=!!(A&128);let x=0;if(!C)x=A;else{const N=A&127;if(!N)throw new g("tlv.decode(long): indefinite length not supported");if(N>4)throw new g("tlv.decode(long): byte length is too big");const M=b.subarray(v,v+N);if(M.length!==N)throw new g("tlv.decode: length bytes not complete");if(M[0]===0)throw new g("tlv.decode(long): zero leftmost byte");for(const k of M)x=x<<8|k;if(v+=N,x<128)throw new g("tlv.decode(long): not minimal encoding")}const T=b.subarray(v,v+x);if(T.length!==x)throw new g("tlv.decode: wrong value length");return{v:T,l:b.subarray(v+x)}}},_int:{encode(w){const{Err:b}=t.DER;if(w<c)throw new b("integer: negative integers are not allowed");let g=(0,n.numberToHexUnpadded)(w);if(Number.parseInt(g[0],16)&8&&(g="00"+g),g.length&1)throw new b("unexpected DER parsing assertion: unpadded hex");return g},decode(w){const{Err:b}=t.DER;if(w[0]&128)throw new b("invalid signature integer: negative");if(w[0]===0&&!(w[1]&128))throw new b("invalid signature integer: unnecessary leading zero");return(0,n.bytesToNumberBE)(w)}},toSig(w){const{Err:b,_int:g,_tlv:v}=t.DER,A=(0,n.ensureBytes)("signature",w),{v:C,l:x}=v.decode(48,A);if(x.length)throw new b("invalid signature: left bytes after parsing");const{v:T,l:N}=v.decode(2,C),{v:M,l:k}=v.decode(2,N);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:g.decode(T),s:g.decode(M)}},hexFromSig(w){const{_tlv:b,_int:g}=t.DER,v=b.encode(2,g.encode(w.r)),A=b.encode(2,g.encode(w.s)),C=v+A;return b.encode(48,C)}};function a(w,b){return(0,n.bytesToHex)((0,n.numberToBytesBE)(w,b))}const c=BigInt(0),u=BigInt(1),l=BigInt(2),d=BigInt(3),f=BigInt(4);function h(w){const b=i(w),{Fp:g}=b,v=(0,r.Field)(b.n,b.nBitLength),A=b.toBytes||((D,j,F)=>{const q=j.toAffine();return(0,n.concatBytes)(Uint8Array.from([4]),g.toBytes(q.x),g.toBytes(q.y))}),C=b.fromBytes||(D=>{const j=D.subarray(1),F=g.fromBytes(j.subarray(0,g.BYTES)),q=g.fromBytes(j.subarray(g.BYTES,2*g.BYTES));return{x:F,y:q}});function x(D){const{a:j,b:F}=b,q=g.sqr(D),z=g.mul(q,D);return g.add(g.add(z,g.mul(D,j)),F)}function T(D,j){const F=g.sqr(j),q=x(D);return g.eql(F,q)}if(!T(b.Gx,b.Gy))throw new Error("bad curve params: generator point");const N=g.mul(g.pow(b.a,d),f),M=g.mul(g.sqr(b.b),BigInt(27));if(g.is0(g.add(N,M)))throw new Error("bad curve params: a or b");function k(D){return(0,n.inRange)(D,u,b.n)}function B(D){const{allowedPrivateKeyLengths:j,nByteLength:F,wrapPrivateKey:q,n:z}=b;if(j&&typeof D!="bigint"){if((0,n.isBytes)(D)&&(D=(0,n.bytesToHex)(D)),typeof D!="string"||!j.includes(D.length))throw new Error("invalid private key");D=D.padStart(F*2,"0")}let W;try{W=typeof D=="bigint"?D:(0,n.bytesToNumberBE)((0,n.ensureBytes)("private key",D,F))}catch{throw new Error("invalid private key, expected hex or "+F+" bytes, got "+typeof D)}return q&&(W=(0,r.mod)(W,z)),(0,n.aInRange)("private key",W,u,z),W}function U(D){if(!(D instanceof _))throw new Error("ProjectivePoint expected")}const I=(0,n.memoized)((D,j)=>{const{px:F,py:q,pz:z}=D;if(g.eql(z,g.ONE))return{x:F,y:q};const W=D.is0();j==null&&(j=W?g.ONE:g.inv(z));const K=g.mul(F,j),re=g.mul(q,j),Q=g.mul(z,j);if(W)return{x:g.ZERO,y:g.ZERO};if(!g.eql(Q,g.ONE))throw new Error("invZ was invalid");return{x:K,y:re}}),S=(0,n.memoized)(D=>{if(D.is0()){if(b.allowInfinityPoint&&!g.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:j,y:F}=D.toAffine();if(!g.isValid(j)||!g.isValid(F))throw new Error("bad point: x or y not FE");if(!T(j,F))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _{constructor(j,F,q){if(j==null||!g.isValid(j))throw new Error("x required");if(F==null||!g.isValid(F)||g.is0(F))throw new Error("y required");if(q==null||!g.isValid(q))throw new Error("z required");this.px=j,this.py=F,this.pz=q,Object.freeze(this)}static fromAffine(j){const{x:F,y:q}=j||{};if(!j||!g.isValid(F)||!g.isValid(q))throw new Error("invalid affine point");if(j instanceof _)throw new Error("projective point not allowed");const z=W=>g.eql(W,g.ZERO);return z(F)&&z(q)?_.ZERO:new _(F,q,g.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(j){const F=(0,r.FpInvertBatch)(g,j.map(q=>q.pz));return j.map((q,z)=>q.toAffine(F[z])).map(_.fromAffine)}static fromHex(j){const F=_.fromAffine(C((0,n.ensureBytes)("pointHex",j)));return F.assertValidity(),F}static fromPrivateKey(j){return _.BASE.multiply(B(j))}static msm(j,F){return(0,e.pippenger)(_,v,j,F)}_setWindowSize(j){P.setWindowSize(this,j)}assertValidity(){S(this)}hasEvenY(){const{y:j}=this.toAffine();if(g.isOdd)return!g.isOdd(j);throw new Error("Field doesn't support isOdd")}equals(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j,Q=g.eql(g.mul(F,re),g.mul(W,z)),X=g.eql(g.mul(q,re),g.mul(K,z));return Q&&X}negate(){return new _(this.px,g.neg(this.py),this.pz)}double(){const{a:j,b:F}=b,q=g.mul(F,d),{px:z,py:W,pz:K}=this;let re=g.ZERO,Q=g.ZERO,X=g.ZERO,ie=g.mul(z,z),Y=g.mul(W,W),V=g.mul(K,K),Z=g.mul(z,W);return Z=g.add(Z,Z),X=g.mul(z,K),X=g.add(X,X),re=g.mul(j,X),Q=g.mul(q,V),Q=g.add(re,Q),re=g.sub(Y,Q),Q=g.add(Y,Q),Q=g.mul(re,Q),re=g.mul(Z,re),X=g.mul(q,X),V=g.mul(j,V),Z=g.sub(ie,V),Z=g.mul(j,Z),Z=g.add(Z,X),X=g.add(ie,ie),ie=g.add(X,ie),ie=g.add(ie,V),ie=g.mul(ie,Z),Q=g.add(Q,ie),V=g.mul(W,K),V=g.add(V,V),ie=g.mul(V,Z),re=g.sub(re,ie),X=g.mul(V,Y),X=g.add(X,X),X=g.add(X,X),new _(re,Q,X)}add(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j;let Q=g.ZERO,X=g.ZERO,ie=g.ZERO;const Y=b.a,V=g.mul(b.b,d);let Z=g.mul(F,W),ne=g.mul(q,K),ue=g.mul(z,re),ce=g.add(F,q),ge=g.add(W,K);ce=g.mul(ce,ge),ge=g.add(Z,ne),ce=g.sub(ce,ge),ge=g.add(F,z);let we=g.add(W,re);return ge=g.mul(ge,we),we=g.add(Z,ue),ge=g.sub(ge,we),we=g.add(q,z),Q=g.add(K,re),we=g.mul(we,Q),Q=g.add(ne,ue),we=g.sub(we,Q),ie=g.mul(Y,ge),Q=g.mul(V,ue),ie=g.add(Q,ie),Q=g.sub(ne,ie),ie=g.add(ne,ie),X=g.mul(Q,ie),ne=g.add(Z,Z),ne=g.add(ne,Z),ue=g.mul(Y,ue),ge=g.mul(V,ge),ne=g.add(ne,ue),ue=g.sub(Z,ue),ue=g.mul(Y,ue),ge=g.add(ge,ue),Z=g.mul(ne,ge),X=g.add(X,Z),Z=g.mul(we,ge),Q=g.mul(ce,Q),Q=g.sub(Q,Z),Z=g.mul(ce,ne),ie=g.mul(we,ie),ie=g.add(ie,Z),new _(Q,X,ie)}subtract(j){return this.add(j.negate())}is0(){return this.equals(_.ZERO)}wNAF(j){return P.wNAFCached(this,j,_.normalizeZ)}multiplyUnsafe(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,c,q);const z=_.ZERO;if(j===c)return z;if(this.is0()||j===u)return this;if(!F||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,j,_.normalizeZ);let{k1neg:W,k1:K,k2neg:re,k2:Q}=F.splitScalar(j),X=z,ie=z,Y=this;for(;K>c||Q>c;)K&u&&(X=X.add(Y)),Q&u&&(ie=ie.add(Y)),Y=Y.double(),K>>=u,Q>>=u;return W&&(X=X.negate()),re&&(ie=ie.negate()),ie=new _(g.mul(ie.px,F.beta),ie.py,ie.pz),X.add(ie)}multiply(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,u,q);let z,W;if(F){const{k1neg:K,k1:re,k2neg:Q,k2:X}=F.splitScalar(j);let{p:ie,f:Y}=this.wNAF(re),{p:V,f:Z}=this.wNAF(X);ie=P.constTimeNegate(K,ie),V=P.constTimeNegate(Q,V),V=new _(g.mul(V.px,F.beta),V.py,V.pz),z=ie.add(V),W=Y.add(Z)}else{const{p:K,f:re}=this.wNAF(j);z=K,W=re}return _.normalizeZ([z,W])[0]}multiplyAndAddUnsafe(j,F,q){const z=_.BASE,W=(re,Q)=>Q===c||Q===u||!re.equals(z)?re.multiplyUnsafe(Q):re.multiply(Q),K=W(this,F).add(W(j,q));return K.is0()?void 0:K}toAffine(j){return I(this,j)}isTorsionFree(){const{h:j,isTorsionFree:F}=b;if(j===u)return!0;if(F)return F(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:j,clearCofactor:F}=b;return j===u?this:F?F(_,this):this.multiplyUnsafe(b.h)}toRawBytes(j=!0){return(0,n.abool)("isCompressed",j),this.assertValidity(),A(_,this,j)}toHex(j=!0){return(0,n.abool)("isCompressed",j),(0,n.bytesToHex)(this.toRawBytes(j))}}_.BASE=new _(b.Gx,b.Gy,g.ONE),_.ZERO=new _(g.ZERO,g.ONE,g.ZERO);const{endo:R,nBitLength:O}=b,P=(0,e.wNAF)(_,R?Math.ceil(O/2):O);return{CURVE:b,ProjectivePoint:_,normPrivateKeyToScalar:B,weierstrassEquation:x,isWithinCurveOrder:k}}function p(w){const b=(0,e.validateBasic)(w);return(0,n.validateObject)(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})}function m(w){const b=p(w),{Fp:g,n:v,nByteLength:A,nBitLength:C}=b,x=g.BYTES+1,T=2*g.BYTES+1;function N(V){return(0,r.mod)(V,v)}function M(V){return(0,r.invert)(V,v)}const{ProjectivePoint:k,normPrivateKeyToScalar:B,weierstrassEquation:U,isWithinCurveOrder:I}=h({...b,toBytes(V,Z,ne){const ue=Z.toAffine(),ce=g.toBytes(ue.x),ge=n.concatBytes;return(0,n.abool)("isCompressed",ne),ne?ge(Uint8Array.from([Z.hasEvenY()?2:3]),ce):ge(Uint8Array.from([4]),ce,g.toBytes(ue.y))},fromBytes(V){const Z=V.length,ne=V[0],ue=V.subarray(1);if(Z===x&&(ne===2||ne===3)){const ce=(0,n.bytesToNumberBE)(ue);if(!(0,n.inRange)(ce,u,g.ORDER))throw new Error("Point is not on curve");const ge=U(ce);let we;try{we=g.sqrt(ge)}catch(Oe){const Se=Oe instanceof Error?": "+Oe.message:"";throw new Error("Point is not on curve"+Se)}const me=(we&u)===u;return(ne&1)===1!==me&&(we=g.neg(we)),{x:ce,y:we}}else if(Z===T&&ne===4){const ce=g.fromBytes(ue.subarray(0,g.BYTES)),ge=g.fromBytes(ue.subarray(g.BYTES,2*g.BYTES));return{x:ce,y:ge}}else{const ce=x,ge=T;throw new Error("invalid Point, expected length of "+ce+", or uncompressed "+ge+", got "+Z)}}});function S(V){const Z=v>>u;return V>Z}function _(V){return S(V)?N(-V):V}const R=(V,Z,ne)=>(0,n.bytesToNumberBE)(V.slice(Z,ne));class O{constructor(Z,ne,ue){(0,n.aInRange)("r",Z,u,v),(0,n.aInRange)("s",ne,u,v),this.r=Z,this.s=ne,ue!=null&&(this.recovery=ue),Object.freeze(this)}static fromCompact(Z){const ne=A;return Z=(0,n.ensureBytes)("compactSignature",Z,ne*2),new O(R(Z,0,ne),R(Z,ne,2*ne))}static fromDER(Z){const{r:ne,s:ue}=t.DER.toSig((0,n.ensureBytes)("DER",Z));return new O(ne,ue)}assertValidity(){}addRecoveryBit(Z){return new O(this.r,this.s,Z)}recoverPublicKey(Z){const{r:ne,s:ue,recovery:ce}=this,ge=z((0,n.ensureBytes)("msgHash",Z));if(ce==null||![0,1,2,3].includes(ce))throw new Error("recovery id invalid");const we=ce===2||ce===3?ne+b.n:ne;if(we>=g.ORDER)throw new Error("recovery id 2 or 3 invalid");const me=(ce&1)===0?"02":"03",ae=k.fromHex(me+a(we,g.BYTES)),Oe=M(we),Se=N(-ge*Oe),Be=N(ue*Oe),de=k.BASE.multiplyAndAddUnsafe(ae,Se,Be);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,N(-this.s),this.recovery):this}toDERRawBytes(){return(0,n.hexToBytes)(this.toDERHex())}toDERHex(){return t.DER.hexFromSig(this)}toCompactRawBytes(){return(0,n.hexToBytes)(this.toCompactHex())}toCompactHex(){const Z=A;return a(this.r,Z)+a(this.s,Z)}}const P={isValidPrivateKey(V){try{return B(V),!0}catch{return!1}},normPrivateKeyToScalar:B,randomPrivateKey:()=>{const V=(0,r.getMinHashLength)(b.n);return(0,r.mapHashToField)(b.randomBytes(V),b.n)},precompute(V=8,Z=k.BASE){return Z._setWindowSize(V),Z.multiply(BigInt(3)),Z}};function D(V,Z=!0){return k.fromPrivateKey(V).toRawBytes(Z)}function j(V){if(typeof V=="bigint")return!1;if(V instanceof k)return!0;const ne=(0,n.ensureBytes)("key",V).length,ue=g.BYTES,ce=ue+1,ge=2*ue+1;if(!(b.allowedPrivateKeyLengths||A===ce))return ne===ce||ne===ge}function F(V,Z,ne=!0){if(j(V)===!0)throw new Error("first arg must be private key");if(j(Z)===!1)throw new Error("second arg must be public key");return k.fromHex(Z).multiply(B(V)).toRawBytes(ne)}const q=b.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const Z=(0,n.bytesToNumberBE)(V),ne=V.length*8-C;return ne>0?Z>>BigInt(ne):Z},z=b.bits2int_modN||function(V){return N(q(V))},W=(0,n.bitMask)(C);function K(V){return(0,n.aInRange)("num < 2^"+C,V,c,W),(0,n.numberToBytesBE)(V,A)}function re(V,Z,ne=Q){if(["recovered","canonical"].some($=>$ in ne))throw new Error("sign() legacy options not supported");const{hash:ue,randomBytes:ce}=b;let{lowS:ge,prehash:we,extraEntropy:me}=ne;ge==null&&(ge=!0),V=(0,n.ensureBytes)("msgHash",V),s(ne),we&&(V=(0,n.ensureBytes)("prehashed msgHash",ue(V)));const ae=z(V),Oe=B(Z),Se=[K(Oe),K(ae)];if(me!=null&&me!==!1){const $=me===!0?ce(g.BYTES):me;Se.push((0,n.ensureBytes)("extraEntropy",$))}const Be=(0,n.concatBytes)(...Se),de=ae;function oe($){const L=q($);if(!I(L))return;const H=M(L),ee=k.BASE.multiply(L).toAffine(),le=N(ee.x);if(le===c)return;const ye=N(H*N(de+le*Oe));if(ye===c)return;let Ae=(ee.x===le?0:2)|Number(ee.y&u),tt=ye;return ge&&S(ye)&&(tt=_(ye),Ae^=1),new O(le,tt,Ae)}return{seed:Be,k2sig:oe}}const Q={lowS:b.lowS,prehash:!1},X={lowS:b.lowS,prehash:!1};function ie(V,Z,ne=Q){const{seed:ue,k2sig:ce}=re(V,Z,ne),ge=b;return(0,n.createHmacDrbg)(ge.hash.outputLen,ge.nByteLength,ge.hmac)(ue,ce)}k.BASE._setWindowSize(8);function Y(V,Z,ne,ue=X){var Ae;const ce=V;Z=(0,n.ensureBytes)("msgHash",Z),ne=(0,n.ensureBytes)("publicKey",ne);const{lowS:ge,prehash:we,format:me}=ue;if(s(ue),"strict"in ue)throw new Error("options.strict was renamed to lowS");if(me!==void 0&&me!=="compact"&&me!=="der")throw new Error("format must be compact or der");const ae=typeof ce=="string"||(0,n.isBytes)(ce),Oe=!ae&&!me&&typeof ce=="object"&&ce!==null&&typeof ce.r=="bigint"&&typeof ce.s=="bigint";if(!ae&&!Oe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Se,Be;try{if(Oe&&(Se=new O(ce.r,ce.s)),ae){try{me!=="compact"&&(Se=O.fromDER(ce))}catch(tt){if(!(tt instanceof t.DER.Err))throw tt}!Se&&me!=="der"&&(Se=O.fromCompact(ce))}Be=k.fromHex(ne)}catch{return!1}if(!Se||ge&&Se.hasHighS())return!1;we&&(Z=b.hash(Z));const{r:de,s:oe}=Se,$=z(Z),L=M(oe),H=N($*L),ee=N(de*L),le=(Ae=k.BASE.multiplyAndAddUnsafe(Be,H,ee))==null?void 0:Ae.toAffine();return le?N(le.x)===de:!1}return{CURVE:b,getPublicKey:D,getSharedSecret:F,sign:ie,verify:Y,ProjectivePoint:k,Signature:O,utils:P}}function y(w,b){const g=w.ORDER;let v=c;for(let S=g-u;S%l===c;S/=l)v+=u;const A=v,C=l<<A-u-u,x=C*l,T=(g-u)/x,N=(T-u)/l,M=x-u,k=C,B=w.pow(b,T),U=w.pow(b,(T+u)/l);let I=(S,_)=>{let R=B,O=w.pow(_,M),P=w.sqr(O);P=w.mul(P,_);let D=w.mul(S,P);D=w.pow(D,N),D=w.mul(D,O),O=w.mul(D,_),P=w.mul(D,S);let j=w.mul(P,O);D=w.pow(j,k);let F=w.eql(D,w.ONE);O=w.mul(P,U),D=w.mul(j,R),P=w.cmov(O,P,F),j=w.cmov(D,j,F);for(let q=A;q>u;q--){let z=q-l;z=l<<z-u;let W=w.pow(j,z);const K=w.eql(W,w.ONE);O=w.mul(P,R),R=w.mul(R,R),W=w.mul(j,R),P=w.cmov(O,P,K),j=w.cmov(W,j,K)}return{isValid:F,value:P}};if(w.ORDER%f===d){const S=(w.ORDER-d)/f,_=w.sqrt(w.neg(b));I=(R,O)=>{let P=w.sqr(O);const D=w.mul(R,O);P=w.mul(P,D);let j=w.pow(P,S);j=w.mul(j,D);const F=w.mul(j,_),q=w.mul(w.sqr(j),O),z=w.eql(q,R);let W=w.cmov(F,j,z);return{isValid:z,value:W}}}return I}function E(w,b){if((0,r.validateField)(w),!w.isValid(b.A)||!w.isValid(b.B)||!w.isValid(b.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const g=y(w,b.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return v=>{let A,C,x,T,N,M,k,B;A=w.sqr(v),A=w.mul(A,b.Z),C=w.sqr(A),C=w.add(C,A),x=w.add(C,w.ONE),x=w.mul(x,b.B),T=w.cmov(b.Z,w.neg(C),!w.eql(C,w.ZERO)),T=w.mul(T,b.A),C=w.sqr(x),M=w.sqr(T),N=w.mul(M,b.A),C=w.add(C,N),C=w.mul(C,x),M=w.mul(M,T),N=w.mul(M,b.B),C=w.add(C,N),k=w.mul(A,x);const{isValid:U,value:I}=g(C,M);B=w.mul(A,v),B=w.mul(B,I),k=w.cmov(k,x,U),B=w.cmov(B,I,U);const S=w.isOdd(v)===w.isOdd(B);B=w.cmov(w.neg(B),B,S);const _=(0,r.FpInvertBatch)(w,[T],!0)[0];return k=w.mul(k,_),{x:k,y:B}}}})(aO)),aO}var GF;function B3e(){if(GF)return Gy;GF=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.getHash=n,Gy.createCurve=s;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Hte(),e=ma(),r=qte();function n(i){return{hash:i,hmac:(o,...a)=>(0,t.hmac)(i,o,(0,e.concatBytes)(...a)),randomBytes:e.randomBytes}}function s(i,o){const a=c=>(0,r.weierstrass)({...i,...n(c)});return{...a(o),create:a}}return Gy}var wl={},WF;function k3e(){if(WF)return wl;WF=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.expand_message_xmd=o,wl.expand_message_xof=a,wl.hash_to_field=c,wl.isogenyMap=u,wl.createHasher=l;const t=zP(),e=wE(),r=e.bytesToNumberBE;function n(d,f){if(i(d),i(f),d<0||d>=1<<8*f)throw new Error("invalid I2OSP input: "+d);const h=Array.from({length:f}).fill(0);for(let p=f-1;p>=0;p--)h[p]=d&255,d>>>=8;return new Uint8Array(h)}function s(d,f){const h=new Uint8Array(d.length);for(let p=0;p<d.length;p++)h[p]=d[p]^f[p];return h}function i(d){if(!Number.isSafeInteger(d))throw new Error("number expected")}function o(d,f,h,p){(0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255&&(f=p((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),f)));const{outputLen:m,blockLen:y}=p,E=Math.ceil(h/m);if(h>65535||E>255)throw new Error("expand_message_xmd: invalid lenInBytes");const w=(0,e.concatBytes)(f,n(f.length,1)),b=n(0,y),g=n(h,2),v=new Array(E),A=p((0,e.concatBytes)(b,d,g,n(0,1),w));v[0]=p((0,e.concatBytes)(A,n(1,1),w));for(let x=1;x<=E;x++){const T=[s(A,v[x-1]),n(x+1,1),w];v[x]=p((0,e.concatBytes)(...T))}return(0,e.concatBytes)(...v).slice(0,h)}function a(d,f,h,p,m){if((0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255){const y=Math.ceil(2*p/8);f=m.create({dkLen:y}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(f).digest()}if(h>65535||f.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return m.create({dkLen:h}).update(d).update(n(h,2)).update(f).update(n(f.length,1)).digest()}function c(d,f,h){(0,e.validateObject)(h,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p,k:m,m:y,hash:E,expand:w,DST:b}=h;(0,e.abytes)(d),i(f);const g=typeof b=="string"?(0,e.utf8ToBytes)(b):b,v=p.toString(2).length,A=Math.ceil((v+m)/8),C=f*y*A;let x;if(w==="xmd")x=o(d,g,C,E);else if(w==="xof")x=a(d,g,C,m,E);else if(w==="_internal_pass")x=d;else throw new Error('expand must be "xmd" or "xof"');const T=new Array(f);for(let N=0;N<f;N++){const M=new Array(y);for(let k=0;k<y;k++){const B=A*(k+N*y),U=x.subarray(B,B+A);M[k]=(0,t.mod)(r(U),p)}T[N]=M}return T}function u(d,f){const h=f.map(p=>Array.from(p).reverse());return(p,m)=>{const[y,E,w,b]=h.map(A=>A.reduce((C,x)=>d.add(d.mul(C,p),x))),[g,v]=(0,t.FpInvertBatch)(d,[E,b],!0);return p=d.mul(y,g),m=d.mul(m,d.mul(w,v)),{x:p,y:m}}}function l(d,f,h){if(typeof f!="function")throw new Error("mapToCurve() must be defined");function p(y){return d.fromAffine(f(y))}function m(y){const E=y.clearCofactor();return E.equals(d.ZERO)?d.ZERO:(E.assertValidity(),E)}return{defaults:h,hashToCurve(y,E){const w=c(y,2,{...h,DST:h.DST,...E}),b=p(w[0]),g=p(w[1]);return m(b.add(g))},encodeToCurve(y,E){const w=c(y,1,{...h,DST:h.encodeDST,...E});return m(p(w[0]))},mapToCurve(y){if(!Array.isArray(y))throw new Error("expected array of bigints");for(const E of y)if(typeof E!="bigint")throw new Error("expected array of bigints");return m(p(y))}}}return wl}var KF;function EE(){return KF||(KF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.secp256k1_hasher=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Q3(),r=ma(),n=B3e(),s=k3e(),i=zP(),o=wE(),a=qte(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(0),d=BigInt(1),f=BigInt(2),h=(_,R)=>(_+R/f)/R;function p(_){const R=c,O=BigInt(3),P=BigInt(6),D=BigInt(11),j=BigInt(22),F=BigInt(23),q=BigInt(44),z=BigInt(88),W=_*_*_%R,K=W*W*_%R,re=(0,i.pow2)(K,O,R)*K%R,Q=(0,i.pow2)(re,O,R)*K%R,X=(0,i.pow2)(Q,f,R)*W%R,ie=(0,i.pow2)(X,D,R)*X%R,Y=(0,i.pow2)(ie,j,R)*ie%R,V=(0,i.pow2)(Y,q,R)*Y%R,Z=(0,i.pow2)(V,z,R)*V%R,ne=(0,i.pow2)(Z,q,R)*Y%R,ue=(0,i.pow2)(ne,O,R)*K%R,ce=(0,i.pow2)(ue,F,R)*ie%R,ge=(0,i.pow2)(ce,P,R)*W%R,we=(0,i.pow2)(ge,f,R);if(!m.eql(m.sqr(we),_))throw new Error("Cannot find square root");return we}const m=(0,i.Field)(c,void 0,void 0,{sqrt:p});t.secp256k1=(0,n.createCurve)({a:l,b:BigInt(7),Fp:m,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:_=>{const R=u,O=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),P=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),D=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),j=O,F=BigInt("0x100000000000000000000000000000000"),q=h(j*_,R),z=h(-P*_,R);let W=(0,i.mod)(_-q*O-z*D,R),K=(0,i.mod)(-q*P-z*j,R);const re=W>F,Q=K>F;if(re&&(W=R-W),Q&&(K=R-K),W>F||K>F)throw new Error("splitScalar: Endomorphism failed, k="+_);return{k1neg:re,k1:W,k2neg:Q,k2:K}}}},e.sha256);const y={};function E(_,...R){let O=y[_];if(O===void 0){const P=(0,e.sha256)(Uint8Array.from(_,D=>D.charCodeAt(0)));O=(0,o.concatBytes)(P,P),y[_]=O}return(0,e.sha256)((0,o.concatBytes)(O,...R))}const w=_=>_.toRawBytes(!0).slice(1),b=_=>(0,o.numberToBytesBE)(_,32),g=_=>(0,i.mod)(_,c),v=_=>(0,i.mod)(_,u),A=t.secp256k1.ProjectivePoint,C=(_,R,O)=>A.BASE.multiplyAndAddUnsafe(_,R,O);function x(_){let R=t.secp256k1.utils.normPrivateKeyToScalar(_),O=A.fromPrivateKey(R);return{scalar:O.hasEvenY()?R:v(-R),bytes:w(O)}}function T(_){(0,o.aInRange)("x",_,d,c);const R=g(_*_),O=g(R*_+BigInt(7));let P=p(O);P%f!==l&&(P=g(-P));const D=new A(_,P,d);return D.assertValidity(),D}const N=o.bytesToNumberBE;function M(..._){return v(N(E("BIP0340/challenge",..._)))}function k(_){return x(_).bytes}function B(_,R,O=(0,r.randomBytes)(32)){const P=(0,o.ensureBytes)("message",_),{bytes:D,scalar:j}=x(R),F=(0,o.ensureBytes)("auxRand",O,32),q=b(j^N(E("BIP0340/aux",F))),z=E("BIP0340/nonce",q,D,P),W=v(N(z));if(W===l)throw new Error("sign failed: k is zero");const{bytes:K,scalar:re}=x(W),Q=M(K,D,P),X=new Uint8Array(64);if(X.set(K,0),X.set(b(v(re+Q*j)),32),!U(X,P,D))throw new Error("sign: Invalid signature produced");return X}function U(_,R,O){const P=(0,o.ensureBytes)("signature",_,64),D=(0,o.ensureBytes)("message",R),j=(0,o.ensureBytes)("publicKey",O,32);try{const F=T(N(j)),q=N(P.subarray(0,32));if(!(0,o.inRange)(q,d,c))return!1;const z=N(P.subarray(32,64));if(!(0,o.inRange)(z,d,u))return!1;const W=M(b(q),w(F),D),K=C(F,z,v(-W));return!(!K||!K.hasEvenY()||K.toAffine().x!==q)}catch{return!1}}t.schnorr={getPublicKey:k,sign:B,verify:U,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:T,pointToBytes:w,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:E,mod:i.mod}};const I=(0,s.isogenyMap)(m,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(_=>_.map(R=>BigInt(R)))),S=(0,a.mapToCurveSimpleSWU)(m,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m.create(BigInt("-11"))});t.secp256k1_hasher=(0,s.createHasher)(t.secp256k1.ProjectivePoint,_=>{const{x:R,y:O}=S(m.create(_[0]));return I(R,O)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}),t.hashToCurve=t.secp256k1_hasher.hashToCurve,t.encodeToCurve=t.secp256k1_hasher.encodeToCurve})(iO)),iO}var ZF;function X3(){if(ZF)return R_;ZF=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.recoverPublicKey=s;const t=zs(),e=vi(),r=tn(),n=ze();async function s({hash:o,signature:a}){const c=(0,t.isHex)(o)?o:(0,n.toHex)(o),{secp256k1:u}=await Promise.resolve().then(()=>EE());return`0x${(()=>{if(typeof a=="object"&&"r"in a&&"s"in a){const{r:m,s:y,v:E,yParity:w}=a,b=Number(w??E),g=i(b);return new u.Signature((0,r.hexToBigInt)(m),(0,r.hexToBigInt)(y)).addRecoveryBit(g)}const f=(0,t.isHex)(a)?a:(0,n.toHex)(a);if((0,e.size)(f)!==65)throw new Error("invalid signature length");const h=(0,r.hexToNumber)(`0x${f.slice(130)}`),p=i(h);return u.Signature.fromCompact(f.substring(2,130)).addRecoveryBit(p)})().recoverPublicKey(c.substring(2)).toHex(!1)}`}function i(o){if(o===0||o===1)return o;if(o===27)return 0;if(o===28)return 1;throw new Error("Invalid yParityOrV value")}return R_}var YF;function Hd(){if(YF)return x_;YF=1,Object.defineProperty(x_,"__esModule",{value:!0}),x_.recoverAddress=r;const t=Lte(),e=X3();async function r({hash:n,signature:s}){return(0,t.publicKeyToAddress)(await(0,e.recoverPublicKey)({hash:n,signature:s}))}return x_}var N_={},n0={},JF;function vE(){if(JF)return n0;JF=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.toRlp=s,n0.bytesToRlp=i,n0.hexToRlp=o;const t=yt(),e=gE(),r=Cr(),n=ze();function s(d,f="hex"){const h=a(d),p=(0,e.createCursor)(new Uint8Array(h.length));return h.encode(p),f==="hex"?(0,n.bytesToHex)(p.bytes):p.bytes}function i(d,f="bytes"){return s(d,f)}function o(d,f="hex"){return s(d,f)}function a(d){return Array.isArray(d)?c(d.map(f=>a(f))):u(d)}function c(d){const f=d.reduce((m,y)=>m+y.length,0),h=l(f);return{length:f<=55?1+f:1+h+f,encode(m){f<=55?m.pushByte(192+f):(m.pushByte(247+h),h===1?m.pushUint8(f):h===2?m.pushUint16(f):h===3?m.pushUint24(f):m.pushUint32(f));for(const{encode:y}of d)y(m)}}}function u(d){const f=typeof d=="string"?(0,r.hexToBytes)(d):d,h=l(f.length);return{length:f.length===1&&f[0]<128?1:f.length<=55?1+f.length:1+h+f.length,encode(m){f.length===1&&f[0]<128?m.pushBytes(f):f.length<=55?(m.pushByte(128+f.length),m.pushBytes(f)):(m.pushByte(183+h),h===1?m.pushUint8(f.length):h===2?m.pushUint16(f.length):h===3?m.pushUint24(f.length):m.pushUint32(f.length),m.pushBytes(f))}}}function l(d){if(d<2**8)return 1;if(d<2**16)return 2;if(d<2**24)return 3;if(d<2**32)return 4;throw new t.BaseError("Length is too large.")}return n0}var QF;function zte(){if(QF)return N_;QF=1,Object.defineProperty(N_,"__esModule",{value:!0}),N_.hashAuthorization=i;const t=Dn(),e=Cr(),r=ze(),n=vE(),s=_i();function i(o){const{chainId:a,nonce:c,to:u}=o,l=o.contractAddress??o.address,d=(0,s.keccak256)((0,t.concatHex)(["0x05",(0,n.toRlp)([a?(0,r.numberToHex)(a):"0x",l,c?(0,r.numberToHex)(c):"0x"])]));return u==="bytes"?(0,e.hexToBytes)(d):d}return N_}var XF;function _E(){if(XF)return P_;XF=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.recoverAuthorizationAddress=r;const t=Hd(),e=zte();async function r(n){const{authorization:s,signature:i}=n;return(0,t.recoverAddress)({hash:(0,e.hashAuthorization)(s),signature:i??s})}return P_}var B_={},Wy={},e7;function $te(){if(e7)return Wy;e7=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.EstimateGasExecutionError=void 0;const t=bE(),e=Ip(),r=yt(),n=Si();class s extends r.BaseError{constructor(o,{account:a,docsPath:c,chain:u,data:l,gas:d,gasPrice:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:y,value:E}){var b;const w=(0,n.prettyPrint)({from:a==null?void 0:a.address,to:y,value:typeof E<"u"&&`${(0,t.formatEther)(E)} ${((b=u==null?void 0:u.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:l,gas:d,gasPrice:typeof f<"u"&&`${(0,e.formatGwei)(f)} gwei`,maxFeePerGas:typeof h<"u"&&`${(0,e.formatGwei)(h)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${(0,e.formatGwei)(p)} gwei`,nonce:m});super(o.shortMessage,{cause:o,docsPath:c,metaMessages:[...o.metaMessages?[...o.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=o}}return Wy.EstimateGasExecutionError=s,Wy}var vr={},t7;function Ku(){if(t7)return vr;t7=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.UnknownNodeError=vr.TipAboveFeeCapError=vr.TransactionTypeNotSupportedError=vr.IntrinsicGasTooLowError=vr.IntrinsicGasTooHighError=vr.InsufficientFundsError=vr.NonceMaxValueError=vr.NonceTooLowError=vr.NonceTooHighError=vr.FeeCapTooLowError=vr.FeeCapTooHighError=vr.ExecutionRevertedError=void 0;const t=Ip(),e=yt();class r extends e.BaseError{constructor({cause:m,message:y}={}){var w;const E=(w=y==null?void 0:y.replace("execution reverted: ",""))==null?void 0:w.replace("execution reverted","");super(`Execution reverted ${E?`with reason: ${E}`:"for an unknown reason"}.`,{cause:m,name:"ExecutionRevertedError"})}}vr.ExecutionRevertedError=r,Object.defineProperty(r,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class n extends e.BaseError{constructor({cause:m,maxFeePerGas:y}={}){super(`The fee cap (\`maxFeePerGas\`${y?` = ${(0,t.formatGwei)(y)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:m,name:"FeeCapTooHighError"})}}vr.FeeCapTooHighError=n,Object.defineProperty(n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class s extends e.BaseError{constructor({cause:m,maxFeePerGas:y}={}){super(`The fee cap (\`maxFeePerGas\`${y?` = ${(0,t.formatGwei)(y)}`:""} gwei) cannot be lower than the block base fee.`,{cause:m,name:"FeeCapTooLowError"})}}vr.FeeCapTooLowError=s,Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class i extends e.BaseError{constructor({cause:m,nonce:y}={}){super(`Nonce provided for the transaction ${y?`(${y}) `:""}is higher than the next one expected.`,{cause:m,name:"NonceTooHighError"})}}vr.NonceTooHighError=i,Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class o extends e.BaseError{constructor({cause:m,nonce:y}={}){super([`Nonce provided for the transaction ${y?`(${y}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:m,name:"NonceTooLowError"})}}vr.NonceTooLowError=o,Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class a extends e.BaseError{constructor({cause:m,nonce:y}={}){super(`Nonce provided for the transaction ${y?`(${y}) `:""}exceeds the maximum allowed nonce.`,{cause:m,name:"NonceMaxValueError"})}}vr.NonceMaxValueError=a,Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class c extends e.BaseError{constructor({cause:m}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:m,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}vr.InsufficientFundsError=c,Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class u extends e.BaseError{constructor({cause:m,gas:y}={}){super(`The amount of gas ${y?`(${y}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:m,name:"IntrinsicGasTooHighError"})}}vr.IntrinsicGasTooHighError=u,Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class l extends e.BaseError{constructor({cause:m,gas:y}={}){super(`The amount of gas ${y?`(${y}) `:""}provided for the transaction is too low.`,{cause:m,name:"IntrinsicGasTooLowError"})}}vr.IntrinsicGasTooLowError=l,Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class d extends e.BaseError{constructor({cause:m}){super("The transaction type is not supported for this chain.",{cause:m,name:"TransactionTypeNotSupportedError"})}}vr.TransactionTypeNotSupportedError=d,Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class f extends e.BaseError{constructor({cause:m,maxPriorityFeePerGas:y,maxFeePerGas:E}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${y?` = ${(0,t.formatGwei)(y)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${E?` = ${(0,t.formatGwei)(E)} gwei`:""}).`].join(`
`),{cause:m,name:"TipAboveFeeCapError"})}}vr.TipAboveFeeCapError=f,Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class h extends e.BaseError{constructor({cause:m}){super(`An error occurred while executing: ${m==null?void 0:m.shortMessage}`,{cause:m,name:"UnknownNodeError"})}}return vr.UnknownNodeError=h,vr}var Ky={},r7;function AE(){if(r7)return Ky;r7=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.containsNodeError=s,Ky.getNodeError=i;const t=yt(),e=Ku(),r=ba(),n=Ld();function s(o){return o instanceof n.TransactionRejectedRpcError||o instanceof n.InvalidInputRpcError||o instanceof r.RpcRequestError&&o.code===e.ExecutionRevertedError.code}function i(o,a){const c=(o.details||"").toLowerCase(),u=o instanceof t.BaseError?o.walk(l=>(l==null?void 0:l.code)===e.ExecutionRevertedError.code):o;return u instanceof t.BaseError?new e.ExecutionRevertedError({cause:o,message:u.details}):e.ExecutionRevertedError.nodeMessage.test(c)?new e.ExecutionRevertedError({cause:o,message:o.details}):e.FeeCapTooHighError.nodeMessage.test(c)?new e.FeeCapTooHighError({cause:o,maxFeePerGas:a==null?void 0:a.maxFeePerGas}):e.FeeCapTooLowError.nodeMessage.test(c)?new e.FeeCapTooLowError({cause:o,maxFeePerGas:a==null?void 0:a.maxFeePerGas}):e.NonceTooHighError.nodeMessage.test(c)?new e.NonceTooHighError({cause:o,nonce:a==null?void 0:a.nonce}):e.NonceTooLowError.nodeMessage.test(c)?new e.NonceTooLowError({cause:o,nonce:a==null?void 0:a.nonce}):e.NonceMaxValueError.nodeMessage.test(c)?new e.NonceMaxValueError({cause:o,nonce:a==null?void 0:a.nonce}):e.InsufficientFundsError.nodeMessage.test(c)?new e.InsufficientFundsError({cause:o}):e.IntrinsicGasTooHighError.nodeMessage.test(c)?new e.IntrinsicGasTooHighError({cause:o,gas:a==null?void 0:a.gas}):e.IntrinsicGasTooLowError.nodeMessage.test(c)?new e.IntrinsicGasTooLowError({cause:o,gas:a==null?void 0:a.gas}):e.TransactionTypeNotSupportedError.nodeMessage.test(c)?new e.TransactionTypeNotSupportedError({cause:o}):e.TipAboveFeeCapError.nodeMessage.test(c)?new e.TipAboveFeeCapError({cause:o,maxFeePerGas:a==null?void 0:a.maxFeePerGas,maxPriorityFeePerGas:a==null?void 0:a.maxPriorityFeePerGas}):new e.UnknownNodeError({cause:o})}return Ky}var n7;function Vte(){if(n7)return B_;n7=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.getEstimateGasError=n;const t=$te(),e=Ku(),r=AE();function n(s,{docsPath:i,...o}){const a=(()=>{const c=(0,r.getNodeError)(s,o);return c instanceof e.UnknownNodeError?s:c})();return new t.EstimateGasExecutionError(a,{docsPath:i,...o})}return B_}var k_={},s7;function qd(){if(s7)return k_;s7=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.extract=t;function t(e,{format:r}){if(!r)return{};const n={};function s(o){const a=Object.keys(o);for(const c of a)c in e&&(n[c]=e[c]),o[c]&&typeof o[c]=="object"&&!Array.isArray(o[c])&&s(o[c])}const i=r(e||{});return s(i),n}return k_}var cO={},j_={},i7;function CE(){if(i7)return j_;i7=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.defineFormatter=t;function t(e,r){return({exclude:n,format:s})=>({exclude:n,format:(i,o)=>{const a=r(i,o);if(n)for(const c of n)delete a[c];return{...a,...s(i,o)}},type:e})}return j_}var o7;function wa(){return o7||(o7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransactionRequest=t.rpcTransactionType=void 0,t.formatTransactionRequest=n;const e=ze(),r=CE();t.rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function n(i,o){const a={};return typeof i.authorizationList<"u"&&(a.authorizationList=s(i.authorizationList)),typeof i.accessList<"u"&&(a.accessList=i.accessList),typeof i.blobVersionedHashes<"u"&&(a.blobVersionedHashes=i.blobVersionedHashes),typeof i.blobs<"u"&&(typeof i.blobs[0]!="string"?a.blobs=i.blobs.map(c=>(0,e.bytesToHex)(c)):a.blobs=i.blobs),typeof i.data<"u"&&(a.data=i.data),i.account&&(a.from=i.account.address),typeof i.from<"u"&&(a.from=i.from),typeof i.gas<"u"&&(a.gas=(0,e.numberToHex)(i.gas)),typeof i.gasPrice<"u"&&(a.gasPrice=(0,e.numberToHex)(i.gasPrice)),typeof i.maxFeePerBlobGas<"u"&&(a.maxFeePerBlobGas=(0,e.numberToHex)(i.maxFeePerBlobGas)),typeof i.maxFeePerGas<"u"&&(a.maxFeePerGas=(0,e.numberToHex)(i.maxFeePerGas)),typeof i.maxPriorityFeePerGas<"u"&&(a.maxPriorityFeePerGas=(0,e.numberToHex)(i.maxPriorityFeePerGas)),typeof i.nonce<"u"&&(a.nonce=(0,e.numberToHex)(i.nonce)),typeof i.to<"u"&&(a.to=i.to),typeof i.type<"u"&&(a.type=t.rpcTransactionType[i.type]),typeof i.value<"u"&&(a.value=(0,e.numberToHex)(i.value)),a}t.defineTransactionRequest=(0,r.defineFormatter)("transactionRequest",n);function s(i){return i.map(o=>({address:o.address,r:o.r?(0,e.numberToHex)(BigInt(o.r)):o.r,s:o.s?(0,e.numberToHex)(BigInt(o.s)):o.s,chainId:(0,e.numberToHex)(o.chainId),nonce:(0,e.numberToHex)(o.nonce),...typeof o.yParity<"u"?{yParity:(0,e.numberToHex)(o.yParity)}:{},...typeof o.v<"u"&&typeof o.yParity>"u"?{v:(0,e.numberToHex)(o.v)}:{}}))}})(cO)),cO}var s0={},a7;function e4(){if(a7)return s0;a7=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.serializeStateMapping=i,s0.serializeAccountStateOverride=o,s0.serializeStateOverride=a;const t=ga(),e=MP(),r=Y3(),n=Ai(),s=ze();function i(c){if(!(!c||c.length===0))return c.reduce((u,{slot:l,value:d})=>{if(l.length!==66)throw new e.InvalidBytesLengthError({size:l.length,targetSize:66,type:"hex"});if(d.length!==66)throw new e.InvalidBytesLengthError({size:d.length,targetSize:66,type:"hex"});return u[l]=d,u},{})}function o(c){const{balance:u,nonce:l,state:d,stateDiff:f,code:h}=c,p={};if(h!==void 0&&(p.code=h),u!==void 0&&(p.balance=(0,s.numberToHex)(u)),l!==void 0&&(p.nonce=(0,s.numberToHex)(l)),d!==void 0&&(p.state=i(d)),f!==void 0){if(p.state)throw new r.StateAssignmentConflictError;p.stateDiff=i(f)}return p}function a(c){if(!c)return;const u={};for(const{address:l,...d}of c){if(!(0,n.isAddress)(l,{strict:!1}))throw new t.InvalidAddressError({address:l});if(u[l])throw new r.AccountStateConflictError({address:l});u[l]=o(d)}return u}return s0}var D_={},he={},c7;function t4(){return c7||(c7=1,Object.defineProperty(he,"__esModule",{value:!0}),he.minInt144=he.minInt136=he.minInt128=he.minInt120=he.minInt112=he.minInt104=he.minInt96=he.minInt88=he.minInt80=he.minInt72=he.minInt64=he.minInt56=he.minInt48=he.minInt40=he.minInt32=he.minInt24=he.minInt16=he.minInt8=he.maxInt256=he.maxInt248=he.maxInt240=he.maxInt232=he.maxInt224=he.maxInt216=he.maxInt208=he.maxInt200=he.maxInt192=he.maxInt184=he.maxInt176=he.maxInt168=he.maxInt160=he.maxInt152=he.maxInt144=he.maxInt136=he.maxInt128=he.maxInt120=he.maxInt112=he.maxInt104=he.maxInt96=he.maxInt88=he.maxInt80=he.maxInt72=he.maxInt64=he.maxInt56=he.maxInt48=he.maxInt40=he.maxInt32=he.maxInt24=he.maxInt16=he.maxInt8=void 0,he.maxUint256=he.maxUint248=he.maxUint240=he.maxUint232=he.maxUint224=he.maxUint216=he.maxUint208=he.maxUint200=he.maxUint192=he.maxUint184=he.maxUint176=he.maxUint168=he.maxUint160=he.maxUint152=he.maxUint144=he.maxUint136=he.maxUint128=he.maxUint120=he.maxUint112=he.maxUint104=he.maxUint96=he.maxUint88=he.maxUint80=he.maxUint72=he.maxUint64=he.maxUint56=he.maxUint48=he.maxUint40=he.maxUint32=he.maxUint24=he.maxUint16=he.maxUint8=he.minInt256=he.minInt248=he.minInt240=he.minInt232=he.minInt224=he.minInt216=he.minInt208=he.minInt200=he.minInt192=he.minInt184=he.minInt176=he.minInt168=he.minInt160=he.minInt152=void 0,he.maxInt8=2n**(8n-1n)-1n,he.maxInt16=2n**(16n-1n)-1n,he.maxInt24=2n**(24n-1n)-1n,he.maxInt32=2n**(32n-1n)-1n,he.maxInt40=2n**(40n-1n)-1n,he.maxInt48=2n**(48n-1n)-1n,he.maxInt56=2n**(56n-1n)-1n,he.maxInt64=2n**(64n-1n)-1n,he.maxInt72=2n**(72n-1n)-1n,he.maxInt80=2n**(80n-1n)-1n,he.maxInt88=2n**(88n-1n)-1n,he.maxInt96=2n**(96n-1n)-1n,he.maxInt104=2n**(104n-1n)-1n,he.maxInt112=2n**(112n-1n)-1n,he.maxInt120=2n**(120n-1n)-1n,he.maxInt128=2n**(128n-1n)-1n,he.maxInt136=2n**(136n-1n)-1n,he.maxInt144=2n**(144n-1n)-1n,he.maxInt152=2n**(152n-1n)-1n,he.maxInt160=2n**(160n-1n)-1n,he.maxInt168=2n**(168n-1n)-1n,he.maxInt176=2n**(176n-1n)-1n,he.maxInt184=2n**(184n-1n)-1n,he.maxInt192=2n**(192n-1n)-1n,he.maxInt200=2n**(200n-1n)-1n,he.maxInt208=2n**(208n-1n)-1n,he.maxInt216=2n**(216n-1n)-1n,he.maxInt224=2n**(224n-1n)-1n,he.maxInt232=2n**(232n-1n)-1n,he.maxInt240=2n**(240n-1n)-1n,he.maxInt248=2n**(248n-1n)-1n,he.maxInt256=2n**(256n-1n)-1n,he.minInt8=-(2n**(8n-1n)),he.minInt16=-(2n**(16n-1n)),he.minInt24=-(2n**(24n-1n)),he.minInt32=-(2n**(32n-1n)),he.minInt40=-(2n**(40n-1n)),he.minInt48=-(2n**(48n-1n)),he.minInt56=-(2n**(56n-1n)),he.minInt64=-(2n**(64n-1n)),he.minInt72=-(2n**(72n-1n)),he.minInt80=-(2n**(80n-1n)),he.minInt88=-(2n**(88n-1n)),he.minInt96=-(2n**(96n-1n)),he.minInt104=-(2n**(104n-1n)),he.minInt112=-(2n**(112n-1n)),he.minInt120=-(2n**(120n-1n)),he.minInt128=-(2n**(128n-1n)),he.minInt136=-(2n**(136n-1n)),he.minInt144=-(2n**(144n-1n)),he.minInt152=-(2n**(152n-1n)),he.minInt160=-(2n**(160n-1n)),he.minInt168=-(2n**(168n-1n)),he.minInt176=-(2n**(176n-1n)),he.minInt184=-(2n**(184n-1n)),he.minInt192=-(2n**(192n-1n)),he.minInt200=-(2n**(200n-1n)),he.minInt208=-(2n**(208n-1n)),he.minInt216=-(2n**(216n-1n)),he.minInt224=-(2n**(224n-1n)),he.minInt232=-(2n**(232n-1n)),he.minInt240=-(2n**(240n-1n)),he.minInt248=-(2n**(248n-1n)),he.minInt256=-(2n**(256n-1n)),he.maxUint8=2n**8n-1n,he.maxUint16=2n**16n-1n,he.maxUint24=2n**24n-1n,he.maxUint32=2n**32n-1n,he.maxUint40=2n**40n-1n,he.maxUint48=2n**48n-1n,he.maxUint56=2n**56n-1n,he.maxUint64=2n**64n-1n,he.maxUint72=2n**72n-1n,he.maxUint80=2n**80n-1n,he.maxUint88=2n**88n-1n,he.maxUint96=2n**96n-1n,he.maxUint104=2n**104n-1n,he.maxUint112=2n**112n-1n,he.maxUint120=2n**120n-1n,he.maxUint128=2n**128n-1n,he.maxUint136=2n**136n-1n,he.maxUint144=2n**144n-1n,he.maxUint152=2n**152n-1n,he.maxUint160=2n**160n-1n,he.maxUint168=2n**168n-1n,he.maxUint176=2n**176n-1n,he.maxUint184=2n**184n-1n,he.maxUint192=2n**192n-1n,he.maxUint200=2n**200n-1n,he.maxUint208=2n**208n-1n,he.maxUint216=2n**216n-1n,he.maxUint224=2n**224n-1n,he.maxUint232=2n**232n-1n,he.maxUint240=2n**240n-1n,he.maxUint248=2n**248n-1n,he.maxUint256=2n**256n-1n),he}var u7;function Ea(){if(u7)return D_;u7=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.assertRequest=i;const t=Gr(),e=t4(),r=ga(),n=Ku(),s=Ai();function i(o){const{account:a,maxFeePerGas:c,maxPriorityFeePerGas:u,to:l}=o,d=a?(0,t.parseAccount)(a):void 0;if(d&&!(0,s.isAddress)(d.address))throw new r.InvalidAddressError({address:d.address});if(l&&!(0,s.isAddress)(l))throw new r.InvalidAddressError({address:l});if(c&&c>e.maxUint256)throw new n.FeeCapTooHighError({maxFeePerGas:c});if(u&&c&&u>c)throw new n.TipAboveFeeCapError({maxFeePerGas:c,maxPriorityFeePerGas:u})}return D_}var uO={},Zy={},$c={},l7;function SE(){if(l7)return $c;l7=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.MaxFeePerGasTooLowError=$c.Eip1559FeesNotSupportedError=$c.BaseFeeScalarError=void 0;const t=Ip(),e=yt();class r extends e.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}$c.BaseFeeScalarError=r;class n extends e.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}$c.Eip1559FeesNotSupportedError=n;class s extends e.BaseError{constructor({maxPriorityFeePerGas:o}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,t.formatGwei)(o)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}return $c.MaxFeePerGasTooLowError=s,$c}var Yy={},M_={},Jy={},d7;function r4(){if(d7)return Jy;d7=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.BlockNotFoundError=void 0;const t=yt();class e extends t.BaseError{constructor({blockHash:n,blockNumber:s}){let i="Block";n&&(i=`Block at hash "${n}"`),s&&(i=`Block at number "${s}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}return Jy.BlockNotFoundError=e,Jy}var i0={},lO={},f7;function Rg(){return f7||(f7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransaction=t.transactionType=void 0,t.formatTransaction=n;const e=tn(),r=CE();t.transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function n(i,o){const a={...i,blockHash:i.blockHash?i.blockHash:null,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,chainId:i.chainId?(0,e.hexToNumber)(i.chainId):void 0,gas:i.gas?BigInt(i.gas):void 0,gasPrice:i.gasPrice?BigInt(i.gasPrice):void 0,maxFeePerBlobGas:i.maxFeePerBlobGas?BigInt(i.maxFeePerBlobGas):void 0,maxFeePerGas:i.maxFeePerGas?BigInt(i.maxFeePerGas):void 0,maxPriorityFeePerGas:i.maxPriorityFeePerGas?BigInt(i.maxPriorityFeePerGas):void 0,nonce:i.nonce?(0,e.hexToNumber)(i.nonce):void 0,to:i.to?i.to:null,transactionIndex:i.transactionIndex?Number(i.transactionIndex):null,type:i.type?t.transactionType[i.type]:void 0,typeHex:i.type?i.type:void 0,value:i.value?BigInt(i.value):void 0,v:i.v?BigInt(i.v):void 0};return i.authorizationList&&(a.authorizationList=s(i.authorizationList)),a.yParity=(()=>{if(i.yParity)return Number(i.yParity);if(typeof a.v=="bigint"){if(a.v===0n||a.v===27n)return 0;if(a.v===1n||a.v===28n)return 1;if(a.v>=35n)return a.v%2n===0n?1:0}})(),a.type==="legacy"&&(delete a.accessList,delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas,delete a.yParity),a.type==="eip2930"&&(delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas),a.type==="eip1559"&&delete a.maxFeePerBlobGas,a}t.defineTransaction=(0,r.defineFormatter)("transaction",n);function s(i){return i.map(o=>({address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:o.r,s:o.s,yParity:Number(o.yParity)}))}})(lO)),lO}var h7;function $P(){if(h7)return i0;h7=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.defineBlock=void 0,i0.formatBlock=r;const t=CE(),e=Rg();function r(n,s){const i=(n.transactions??[]).map(o=>typeof o=="string"?o:(0,e.formatTransaction)(o));return{...n,baseFeePerGas:n.baseFeePerGas?BigInt(n.baseFeePerGas):null,blobGasUsed:n.blobGasUsed?BigInt(n.blobGasUsed):void 0,difficulty:n.difficulty?BigInt(n.difficulty):void 0,excessBlobGas:n.excessBlobGas?BigInt(n.excessBlobGas):void 0,gasLimit:n.gasLimit?BigInt(n.gasLimit):void 0,gasUsed:n.gasUsed?BigInt(n.gasUsed):void 0,hash:n.hash?n.hash:null,logsBloom:n.logsBloom?n.logsBloom:null,nonce:n.nonce?n.nonce:null,number:n.number?BigInt(n.number):null,size:n.size?BigInt(n.size):void 0,timestamp:n.timestamp?BigInt(n.timestamp):void 0,transactions:i,totalDifficulty:n.totalDifficulty?BigInt(n.totalDifficulty):null}}return i0.defineBlock=(0,t.defineFormatter)("block",r),i0}var p7;function Tp(){if(p7)return M_;p7=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.getBlock=n;const t=r4(),e=ze(),r=$P();async function n(s,{blockHash:i,blockNumber:o,blockTag:a=s.experimental_blockTag??"latest",includeTransactions:c}={}){var h,p,m;const u=c??!1,l=o!==void 0?(0,e.numberToHex)(o):void 0;let d=null;if(i?d=await s.request({method:"eth_getBlockByHash",params:[i,u]},{dedupe:!0}):d=await s.request({method:"eth_getBlockByNumber",params:[l||a,u]},{dedupe:!!l}),!d)throw new t.BlockNotFoundError({blockHash:i,blockNumber:o});return(((m=(p=(h=s.chain)==null?void 0:h.formatters)==null?void 0:p.block)==null?void 0:m.format)||r.formatBlock)(d,"getBlock")}return M_}var U_={},m7;function n4(){if(m7)return U_;m7=1,Object.defineProperty(U_,"__esModule",{value:!0}),U_.getGasPrice=t;async function t(e){const r=await e.request({method:"eth_gasPrice"});return BigInt(r)}return U_}var g7;function Gte(){if(g7)return Yy;g7=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.estimateMaxPriorityFeePerGas=i,Yy.internal_estimateMaxPriorityFeePerGas=o;const t=SE(),e=tn(),r=Yt(),n=Tp(),s=n4();async function i(a,c){return o(a,c)}async function o(a,c){var f,h;const{block:u,chain:l=a.chain,request:d}=c||{};try{const p=((f=l==null?void 0:l.fees)==null?void 0:f.maxPriorityFeePerGas)??((h=l==null?void 0:l.fees)==null?void 0:h.defaultPriorityFee);if(typeof p=="function"){const y=u||await(0,r.getAction)(a,n.getBlock,"getBlock")({}),E=await p({block:y,client:a,request:d});if(E===null)throw new Error;return E}if(typeof p<"u")return p;const m=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,e.hexToBigInt)(m)}catch{const[p,m]=await Promise.all([u?Promise.resolve(u):(0,r.getAction)(a,n.getBlock,"getBlock")({}),(0,r.getAction)(a,s.getGasPrice,"getGasPrice")({})]);if(typeof p.baseFeePerGas!="bigint")throw new t.Eip1559FeesNotSupportedError;const y=m-p.baseFeePerGas;return y<0n?0n:y}}return Yy}var y7;function Wte(){if(y7)return Zy;y7=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.estimateFeesPerGas=i,Zy.internal_estimateFeesPerGas=o;const t=SE(),e=Yt(),r=Gte(),n=Tp(),s=n4();async function i(a,c){return o(a,c)}async function o(a,c){var b,g;const{block:u,chain:l=a.chain,request:d,type:f="eip1559"}=c||{},h=await(async()=>{var v,A;return typeof((v=l==null?void 0:l.fees)==null?void 0:v.baseFeeMultiplier)=="function"?l.fees.baseFeeMultiplier({block:u,client:a,request:d}):((A=l==null?void 0:l.fees)==null?void 0:A.baseFeeMultiplier)??1.2})();if(h<1)throw new t.BaseFeeScalarError;const m=10**(((b=h.toString().split(".")[1])==null?void 0:b.length)??0),y=v=>v*BigInt(Math.ceil(h*m))/BigInt(m),E=u||await(0,e.getAction)(a,n.getBlock,"getBlock")({});if(typeof((g=l==null?void 0:l.fees)==null?void 0:g.estimateFeesPerGas)=="function"){const v=await l.fees.estimateFeesPerGas({block:u,client:a,multiply:y,request:d,type:f});if(v!==null)return v}if(f==="eip1559"){if(typeof E.baseFeePerGas!="bigint")throw new t.Eip1559FeesNotSupportedError;const v=typeof(d==null?void 0:d.maxPriorityFeePerGas)=="bigint"?d.maxPriorityFeePerGas:await(0,r.internal_estimateMaxPriorityFeePerGas)(a,{block:E,chain:l,request:d}),A=y(E.baseFeePerGas);return{maxFeePerGas:(d==null?void 0:d.maxFeePerGas)??A+v,maxPriorityFeePerGas:v}}return{gasPrice:(d==null?void 0:d.gasPrice)??y(await(0,e.getAction)(a,s.getGasPrice,"getGasPrice")({}))}}return Zy}var L_={},b7;function VP(){if(b7)return L_;b7=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.getTransactionCount=r;const t=tn(),e=ze();async function r(n,{address:s,blockTag:i="latest",blockNumber:o}){const a=await n.request({method:"eth_getTransactionCount",params:[s,typeof o=="bigint"?(0,e.numberToHex)(o):i]},{dedupe:!!o});return(0,t.hexToNumber)(a)}return L_}var F_={},w7;function GP(){if(w7)return F_;w7=1,Object.defineProperty(F_,"__esModule",{value:!0}),F_.blobsToCommitments=r;const t=Cr(),e=ze();function r(n){const{kzg:s}=n,i=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),o=typeof n.blobs[0]=="string"?n.blobs.map(c=>(0,t.hexToBytes)(c)):n.blobs,a=[];for(const c of o)a.push(Uint8Array.from(s.blobToKzgCommitment(c)));return i==="bytes"?a:a.map(c=>(0,e.bytesToHex)(c))}return F_}var H_={},E7;function WP(){if(E7)return H_;E7=1,Object.defineProperty(H_,"__esModule",{value:!0}),H_.blobsToProofs=r;const t=Cr(),e=ze();function r(n){const{kzg:s}=n,i=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),o=typeof n.blobs[0]=="string"?n.blobs.map(u=>(0,t.hexToBytes)(u)):n.blobs,a=typeof n.commitments[0]=="string"?n.commitments.map(u=>(0,t.hexToBytes)(u)):n.commitments,c=[];for(let u=0;u<o.length;u++){const l=o[u],d=a[u];c.push(Uint8Array.from(s.computeBlobKzgProof(l,d)))}return i==="bytes"?c:c.map(u=>(0,e.bytesToHex)(u))}return H_}var q_={},z_={},$_={},ko={},v7;function Kte(){if(v7)return ko;v7=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.sha224=ko.SHA224=ko.sha256=ko.SHA256=void 0;const t=Q3();return ko.SHA256=t.SHA256,ko.sha256=t.sha256,ko.SHA224=t.SHA224,ko.sha224=t.sha224,ko}var _7;function s4(){if(_7)return $_;_7=1,Object.defineProperty($_,"__esModule",{value:!0}),$_.sha256=s;const t=Kte(),e=zs(),r=Cr(),n=ze();function s(i,o){const a=o||"hex",c=(0,t.sha256)((0,e.isHex)(i,{strict:!1})?(0,r.toBytes)(i):i);return a==="bytes"?c:(0,n.toHex)(c)}return $_}var A7;function i4(){if(A7)return z_;A7=1,Object.defineProperty(z_,"__esModule",{value:!0}),z_.commitmentToVersionedHash=r;const t=ze(),e=s4();function r(n){const{commitment:s,version:i=1}=n,o=n.to??(typeof s=="string"?"hex":"bytes"),a=(0,e.sha256)(s,"bytes");return a.set([i],0),o==="bytes"?a:(0,t.bytesToHex)(a)}return z_}var C7;function o4(){if(C7)return q_;C7=1,Object.defineProperty(q_,"__esModule",{value:!0}),q_.commitmentsToVersionedHashes=e;const t=i4();function e(r){const{commitments:n,version:s}=r,i=r.to??(typeof n[0]=="string"?"hex":"bytes"),o=[];for(const a of n)o.push((0,t.commitmentToVersionedHash)({commitment:a,to:i,version:s}));return o}return q_}var V_={},G_={},dO={},S7;function j3e(){return S7||(S7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.maxBytesPerTransaction=t.bytesPerBlob=t.fieldElementsPerBlob=t.bytesPerFieldElement=void 0;const e=6;t.bytesPerFieldElement=32,t.fieldElementsPerBlob=4096,t.bytesPerBlob=t.bytesPerFieldElement*t.fieldElementsPerBlob,t.maxBytesPerTransaction=t.bytesPerBlob*e-1-1*t.fieldElementsPerBlob*e})(dO)),dO}var jo={},Qy={},I7;function Zte(){return I7||(I7=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.versionedHashVersionKzg=void 0,Qy.versionedHashVersionKzg=1),Qy}var T7;function Yte(){if(T7)return jo;T7=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.InvalidVersionedHashVersionError=jo.InvalidVersionedHashSizeError=jo.EmptyBlobError=jo.BlobSizeTooLargeError=void 0;const t=Zte(),e=yt();class r extends e.BaseError{constructor({maxSize:a,size:c}){super("Blob size is too large.",{metaMessages:[`Max: ${a} bytes`,`Given: ${c} bytes`],name:"BlobSizeTooLargeError"})}}jo.BlobSizeTooLargeError=r;class n extends e.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}jo.EmptyBlobError=n;class s extends e.BaseError{constructor({hash:a,size:c}){super(`Versioned hash "${a}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${c}`],name:"InvalidVersionedHashSizeError"})}}jo.InvalidVersionedHashSizeError=s;class i extends e.BaseError{constructor({hash:a,version:c}){super(`Versioned hash "${a}" version is invalid.`,{metaMessages:[`Expected: ${t.versionedHashVersionKzg}`,`Received: ${c}`],name:"InvalidVersionedHashVersionError"})}}return jo.InvalidVersionedHashVersionError=i,jo}var P7;function Jte(){if(P7)return G_;P7=1,Object.defineProperty(G_,"__esModule",{value:!0}),G_.toBlobs=o;const t=j3e(),e=Yte(),r=gE(),n=vi(),s=Cr(),i=ze();function o(a){const c=a.to??(typeof a.data=="string"?"hex":"bytes"),u=typeof a.data=="string"?(0,s.hexToBytes)(a.data):a.data,l=(0,n.size)(u);if(!l)throw new e.EmptyBlobError;if(l>t.maxBytesPerTransaction)throw new e.BlobSizeTooLargeError({maxSize:t.maxBytesPerTransaction,size:l});const d=[];let f=!0,h=0;for(;f;){const p=(0,r.createCursor)(new Uint8Array(t.bytesPerBlob));let m=0;for(;m<t.fieldElementsPerBlob;){const y=u.slice(h,h+(t.bytesPerFieldElement-1));if(p.pushByte(0),p.pushBytes(y),y.length<31){p.pushByte(128),f=!1;break}m++,h+=31}d.push(p)}return c==="bytes"?d.map(p=>p.bytes):d.map(p=>(0,i.bytesToHex)(p.bytes))}return G_}var x7;function KP(){if(x7)return V_;x7=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.toBlobSidecars=n;const t=GP(),e=WP(),r=Jte();function n(s){const{data:i,kzg:o,to:a}=s,c=s.blobs??(0,r.toBlobs)({data:i,to:a}),u=s.commitments??(0,t.blobsToCommitments)({blobs:c,kzg:o,to:a}),l=s.proofs??(0,e.blobsToProofs)({blobs:c,commitments:u,kzg:o,to:a}),d=[];for(let f=0;f<c.length;f++)d.push({blob:c[f],commitment:u[f],proof:l[f]});return d}return V_}var W_={},O7;function ZP(){if(O7)return W_;O7=1,Object.defineProperty(W_,"__esModule",{value:!0}),W_.getTransactionType=e;const t=Si();function e(r){if(r.type)return r.type;if(typeof r.authorizationList<"u")return"eip7702";if(typeof r.blobs<"u"||typeof r.blobVersionedHashes<"u"||typeof r.maxFeePerBlobGas<"u"||typeof r.sidecars<"u")return"eip4844";if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")return"eip1559";if(typeof r.gasPrice<"u")return typeof r.accessList<"u"?"eip2930":"legacy";throw new t.InvalidSerializableTransactionError({transaction:r})}return W_}var K_={},Z_={},R7;function IE(){if(R7)return Z_;R7=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.getTransactionError=n;const t=Ku(),e=Si(),r=AE();function n(s,{docsPath:i,...o}){const a=(()=>{const c=(0,r.getNodeError)(s,o);return c instanceof t.UnknownNodeError?s:c})();return new e.TransactionExecutionError(a,{docsPath:i,...o})}return Z_}var Y_={},N7;function zd(){if(N7)return Y_;N7=1,Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.getChainId=e;const t=tn();async function e(r){const n=await r.request({method:"eth_chainId"},{dedupe:!0});return(0,t.hexToNumber)(n)}return Y_}var B7;function a4(){if(B7)return K_;B7=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.fillTransaction=l;const t=Gr(),e=SE(),r=IE(),n=qd(),s=Rg(),i=wa(),o=Yt(),a=Ea(),c=Tp(),u=zd();async function l(d,f){var O,P,D,j,F;const{account:h=d.account,accessList:p,authorizationList:m,chain:y=d.chain,blobVersionedHashes:E,blobs:w,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:A,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:T,nonceManager:N,to:M,type:k,value:B,...U}=f,I=await(async()=>{if(!h||!N||typeof T<"u")return T;const q=(0,t.parseAccount)(h),z=y?y.id:await(0,o.getAction)(d,u.getChainId,"getChainId")({});return await N.consume({address:q.address,chainId:z,client:d})})();(0,a.assertRequest)(f);const S=(P=(O=y==null?void 0:y.formatters)==null?void 0:O.transactionRequest)==null?void 0:P.format,R=(S||i.formatTransactionRequest)({...(0,n.extract)(U,{format:S}),account:h?(0,t.parseAccount)(h):void 0,accessList:p,authorizationList:m,blobs:w,blobVersionedHashes:E,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:A,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:I,to:M,type:k,value:B},"fillTransaction");try{const q=await d.request({method:"eth_fillTransaction",params:[R]}),W=(((j=(D=y==null?void 0:y.formatters)==null?void 0:D.transaction)==null?void 0:j.format)||s.formatTransaction)(q.tx);delete W.blockHash,delete W.blockNumber,delete W.r,delete W.s,delete W.transactionIndex,delete W.v,delete W.yParity,W.data=W.input,W.gas&&(W.gas=f.gas??W.gas),W.gasPrice&&(W.gasPrice=f.gasPrice??W.gasPrice),W.maxFeePerBlobGas&&(W.maxFeePerBlobGas=f.maxFeePerBlobGas??W.maxFeePerBlobGas),W.maxFeePerGas&&(W.maxFeePerGas=f.maxFeePerGas??W.maxFeePerGas),W.maxPriorityFeePerGas&&(W.maxPriorityFeePerGas=f.maxPriorityFeePerGas??W.maxPriorityFeePerGas),W.nonce&&(W.nonce=f.nonce??W.nonce);const K=await(async()=>{var ie,Y;if(typeof((ie=y==null?void 0:y.fees)==null?void 0:ie.baseFeeMultiplier)=="function"){const V=await(0,o.getAction)(d,c.getBlock,"getBlock")({});return y.fees.baseFeeMultiplier({block:V,client:d,request:f})}return((Y=y==null?void 0:y.fees)==null?void 0:Y.baseFeeMultiplier)??1.2})();if(K<1)throw new e.BaseFeeScalarError;const Q=10**(((F=K.toString().split(".")[1])==null?void 0:F.length)??0),X=ie=>ie*BigInt(Math.ceil(K*Q))/BigInt(Q);return W.maxFeePerGas&&!f.maxFeePerGas&&(W.maxFeePerGas=X(W.maxFeePerGas)),W.gasPrice&&!f.gasPrice&&(W.gasPrice=X(W.gasPrice)),{raw:q.raw,transaction:{from:R.from,...W}}}catch(q){throw(0,r.getTransactionError)(q,{...f,chain:d.chain})}}return K_}var k7;function TE(){return k7||(k7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsFillTransaction=t.eip1559NetworkCache=t.defaultParameters=void 0,t.prepareTransactionRequest=E;const e=Gr(),r=Wte(),n=c4(),s=Tp(),i=VP(),o=SE(),a=GP(),c=WP(),u=o4(),l=KP(),d=Yt(),f=Ap(),h=Ea(),p=ZP(),m=a4(),y=zd();t.defaultParameters=["blobVersionedHashes","chainId","fees","gas","nonce","type"],t.eip1559NetworkCache=new Map,t.supportsFillTransaction=new f.LruMap(128);async function E(w,b){const{account:g=w.account,chain:v,nonceManager:A,parameters:C=t.defaultParameters}=b;let x;async function T(){return x||(v?v.id:typeof b.chainId<"u"?b.chainId:(x=await(0,d.getAction)(w,y.getChainId,"getChainId")({}),x))}const N=g&&(0,e.parseAccount)(g);let M=b.nonce;if(C.includes("nonce")&&typeof M>"u"&&N&&A){const D=await T();M=await A.consume({address:N.address,chainId:D,client:w})}const B=t.supportsFillTransaction.get(w.uid)!==!1&&["fees","gas"].some(D=>{var j;return(j=b.parameters)==null?void 0:j.includes(D)})?await(0,d.getAction)(w,m.fillTransaction,"fillTransaction")({...b,nonce:M}).then(D=>{const{chainId:j,from:F,gas:q,gasPrice:z,nonce:W,maxFeePerBlobGas:K,maxFeePerGas:re,maxPriorityFeePerGas:Q,type:X}=D.transaction;return t.supportsFillTransaction.set(w.uid,!0),{...b,...j?{chainId:j}:{},...F?{from:F}:{},...q?{gas:q}:{},...z?{gasPrice:z}:{},...W?{nonce:W}:{},...K?{maxFeePerBlobGas:K}:{},...re?{maxFeePerGas:re}:{},...Q?{maxPriorityFeePerGas:Q}:{},...X?{type:X}:{}}}).catch(D=>(D.walk(q=>{const z=q;return z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"})&&t.supportsFillTransaction.set(w.uid,!1),b)):b,{blobs:U,gas:I,kzg:S,type:_}=B;M??(M=B.nonce);const R={...B,...N?{from:N==null?void 0:N.address}:{},...M?{nonce:M}:{}};let O;async function P(){return O||(O=await(0,d.getAction)(w,s.getBlock,"getBlock")({blockTag:"latest"}),O)}if(C.includes("nonce")&&typeof M>"u"&&N&&!A&&(R.nonce=await(0,d.getAction)(w,i.getTransactionCount,"getTransactionCount")({address:N.address,blockTag:"pending"})),(C.includes("blobVersionedHashes")||C.includes("sidecars"))&&U&&S){const D=(0,a.blobsToCommitments)({blobs:U,kzg:S});if(C.includes("blobVersionedHashes")){const j=(0,u.commitmentsToVersionedHashes)({commitments:D,to:"hex"});R.blobVersionedHashes=j}if(C.includes("sidecars")){const j=(0,c.blobsToProofs)({blobs:U,commitments:D,kzg:S}),F=(0,l.toBlobSidecars)({blobs:U,commitments:D,proofs:j,to:"hex"});R.sidecars=F}}if(C.includes("chainId")&&(R.chainId=await T()),(C.includes("fees")||C.includes("type"))&&typeof _>"u")try{R.type=(0,p.getTransactionType)(R)}catch{let D=t.eip1559NetworkCache.get(w.uid);if(typeof D>"u"){const j=await P();D=typeof(j==null?void 0:j.baseFeePerGas)=="bigint",t.eip1559NetworkCache.set(w.uid,D)}R.type=D?"eip1559":"legacy"}if(C.includes("fees"))if(R.type!=="legacy"&&R.type!=="eip2930"){if(typeof R.maxFeePerGas>"u"||typeof R.maxPriorityFeePerGas>"u"){const D=await P(),{maxFeePerGas:j,maxPriorityFeePerGas:F}=await(0,r.internal_estimateFeesPerGas)(w,{block:D,chain:v,request:R});if(typeof R.maxPriorityFeePerGas>"u"&&R.maxFeePerGas&&R.maxFeePerGas<F)throw new o.MaxFeePerGasTooLowError({maxPriorityFeePerGas:F});R.maxPriorityFeePerGas=F,R.maxFeePerGas=j}}else{if(typeof R.maxFeePerGas<"u"||typeof R.maxPriorityFeePerGas<"u")throw new o.Eip1559FeesNotSupportedError;if(typeof R.gasPrice>"u"){const D=await P(),{gasPrice:j}=await(0,r.internal_estimateFeesPerGas)(w,{block:D,chain:v,request:R,type:"legacy"});R.gasPrice=j}}return C.includes("gas")&&typeof I>"u"&&(R.gas=await(0,d.getAction)(w,n.estimateGas,"estimateGas")({...R,account:N,prepare:(N==null?void 0:N.type)==="local"?[]:["blobVersionedHashes"]})),(0,h.assertRequest)(R),delete R.parameters,R}})(uO)),uO}var j7;function c4(){if(j7)return T_;j7=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.estimateGas=l;const t=Gr(),e=yt(),r=_E(),n=ze(),s=Vte(),i=qd(),o=wa(),a=e4(),c=Ea(),u=TE();async function l(d,f){var E,w,b;const{account:h=d.account,prepare:p=!0}=f,m=h?(0,t.parseAccount)(h):void 0,y=(()=>{if(Array.isArray(p))return p;if((m==null?void 0:m.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:g,authorizationList:v,blobs:A,blobVersionedHashes:C,blockNumber:x,blockTag:T,data:N,gas:M,gasPrice:k,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:I,nonce:S,value:_,stateOverride:R,...O}=p?await(0,u.prepareTransactionRequest)(d,{...f,parameters:y}):f,D=(typeof x=="bigint"?(0,n.numberToHex)(x):void 0)||T,j=(0,a.serializeStateOverride)(R),F=await(async()=>{if(O.to)return O.to;if(v&&v.length>0)return await(0,r.recoverAuthorizationAddress)({authorization:v[0]}).catch(()=>{throw new e.BaseError("`to` is required. Could not infer from `authorizationList`")})})();(0,c.assertRequest)(f);const q=(b=(w=(E=d.chain)==null?void 0:E.formatters)==null?void 0:w.transactionRequest)==null?void 0:b.format,W=(q||o.formatTransactionRequest)({...(0,i.extract)(O,{format:q}),account:m,accessList:g,authorizationList:v,blobs:A,blobVersionedHashes:C,data:N,gas:M,gasPrice:k,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:I,nonce:S,to:F,value:_},"estimateGas");return BigInt(await d.request({method:"eth_estimateGas",params:j?[W,D??d.experimental_blockTag??"latest",j]:D?[W,D]:[W]}))}catch(g){throw(0,s.getEstimateGasError)(g,{...f,account:m,chain:d.chain})}}return T_}var D7;function Qte(){if(D7)return m_;D7=1,Object.defineProperty(m_,"__esModule",{value:!0}),m_.estimateContractGas=i;const t=Gr(),e=Ci(),r=Fd(),n=Yt(),s=c4();async function i(o,a){const{abi:c,address:u,args:l,functionName:d,dataSuffix:f,...h}=a,p=(0,e.encodeFunctionData)({abi:c,args:l,functionName:d});try{return await(0,n.getAction)(o,s.estimateGas,"estimateGas")({data:`${p}${f?f.replace("0x",""):""}`,to:u,...h})}catch(m){const y=h.account?(0,t.parseAccount)(h.account):void 0;throw(0,r.getContractError)(m,{abi:c,address:u,args:l,docsPath:"/docs/contract/estimateContractGas",functionName:d,sender:y==null?void 0:y.address})}}return m_}var J_={},Q_={},X_={},eA={},M7;function va(){if(M7)return eA;M7=1,Object.defineProperty(eA,"__esModule",{value:!0}),eA.isAddressEqual=r;const t=ga(),e=Ai();function r(n,s){if(!(0,e.isAddress)(n,{strict:!1}))throw new t.InvalidAddressError({address:n});if(!(0,e.isAddress)(s,{strict:!1}))throw new t.InvalidAddressError({address:s});return n.toLowerCase()===s.toLowerCase()}return eA}var tA={},U7;function PE(){if(U7)return tA;U7=1,Object.defineProperty(tA,"__esModule",{value:!0}),tA.decodeEventLog=a;const t=Hr(),e=Mte(),r=vi(),n=Og(),s=Md(),i=Vu(),o="/docs/contract/decodeEventLog";function a(u){const{abi:l,data:d,strict:f,topics:h}=u,p=f??!0,[m,...y]=h;if(!m)throw new t.AbiEventSignatureEmptyTopicsError({docsPath:o});const E=l.find(x=>x.type==="event"&&m===(0,n.toEventSelector)((0,i.formatAbiItem)(x)));if(!(E&&"name"in E)||E.type!=="event")throw new t.AbiEventSignatureNotFoundError(m,{docsPath:o});const{name:w,inputs:b}=E,g=b==null?void 0:b.some(x=>!("name"in x&&x.name)),v=g?[]:{},A=b.map((x,T)=>[x,T]).filter(([x])=>"indexed"in x&&x.indexed);for(let x=0;x<A.length;x++){const[T,N]=A[x],M=y[x];if(!M)throw new t.DecodeLogTopicsMismatch({abiItem:E,param:T});v[g?N:T.name||N]=c({param:T,value:M})}const C=b.filter(x=>!("indexed"in x&&x.indexed));if(C.length>0){if(d&&d!=="0x")try{const x=(0,s.decodeAbiParameters)(C,d);if(x)if(g)for(let T=0;T<b.length;T++)v[T]=v[T]??x.shift();else for(let T=0;T<C.length;T++)v[C[T].name]=x[T]}catch(x){if(p)throw x instanceof t.AbiDecodingDataSizeTooSmallError||x instanceof e.PositionOutOfBoundsError?new t.DecodeLogDataMismatch({abiItem:E,data:d,params:C,size:(0,r.size)(d)}):x}else if(p)throw new t.DecodeLogDataMismatch({abiItem:E,data:"0x",params:C,size:0})}return{eventName:w,args:Object.values(v).length>0?v:void 0}}function c({param:u,value:l}){return u.type==="string"||u.type==="bytes"||u.type==="tuple"||u.type.match(/^(.*)\[(\d+)?\]$/)?l:((0,s.decodeAbiParameters)([u],l)||[])[0]}return tA}var L7;function xE(){if(L7)return X_;L7=1,Object.defineProperty(X_,"__esModule",{value:!0}),X_.parseEventLogs=o;const t=Hr(),e=va(),r=Cr(),n=_i(),s=Og(),i=PE();function o(c){const{abi:u,args:l,logs:d,strict:f=!0}=c,h=(()=>{if(c.eventName)return Array.isArray(c.eventName)?c.eventName:[c.eventName]})();return d.map(p=>{var m;try{const y=u.find(w=>w.type==="event"&&p.topics[0]===(0,s.toEventSelector)(w));if(!y)return null;const E=(0,i.decodeEventLog)({...p,abi:[y],strict:f});return h&&!h.includes(E.eventName)||!a({args:E.args,inputs:y.inputs,matchArgs:l})?null:{...E,...p}}catch(y){let E,w;if(y instanceof t.AbiEventSignatureNotFoundError)return null;if(y instanceof t.DecodeLogDataMismatch||y instanceof t.DecodeLogTopicsMismatch){if(f)return null;E=y.abiItem.name,w=(m=y.abiItem.inputs)==null?void 0:m.some(b=>!("name"in b&&b.name))}return{...p,args:w?[]:{},eventName:E}}}).filter(Boolean)}function a(c){const{args:u,inputs:l,matchArgs:d}=c;if(!d)return!0;if(!u)return!1;function f(h,p,m){try{return h.type==="address"?(0,e.isAddressEqual)(p,m):h.type==="string"||h.type==="bytes"?(0,n.keccak256)((0,r.toBytes)(p))===m:p===m}catch{return!1}}return Array.isArray(u)&&Array.isArray(d)?d.every((h,p)=>{if(h==null)return!0;const m=l[p];return m?(Array.isArray(h)?h:[h]).some(E=>f(m,E,u[p])):!1}):typeof u=="object"&&!Array.isArray(u)&&typeof d=="object"&&!Array.isArray(d)?Object.entries(d).every(([h,p])=>{if(p==null)return!0;const m=l.find(E=>E.name===h);return m?(Array.isArray(p)?p:[p]).some(E=>f(m,E,u[h])):!1}):!1}return X_}var rA={},F7;function Zu(){if(F7)return rA;F7=1,Object.defineProperty(rA,"__esModule",{value:!0}),rA.formatLog=t;function t(e,{args:r,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:r,eventName:n}:{}}}return rA}var H7;function u4(){if(H7)return Q_;H7=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.getLogs=s;const t=Sp(),e=xE(),r=ze(),n=Zu();async function s(i,{address:o,blockHash:a,fromBlock:c,toBlock:u,event:l,events:d,args:f,strict:h}={}){const p=h??!1,m=d??(l?[l]:void 0);let y=[];m&&(y=[m.flatMap(g=>(0,t.encodeEventTopics)({abi:[g],eventName:g.name,args:d?void 0:f}))],l&&(y=y[0]));let E;a?E=await i.request({method:"eth_getLogs",params:[{address:o,topics:y,blockHash:a}]}):E=await i.request({method:"eth_getLogs",params:[{address:o,topics:y,fromBlock:typeof c=="bigint"?(0,r.numberToHex)(c):c,toBlock:typeof u=="bigint"?(0,r.numberToHex)(u):u}]});const w=E.map(b=>(0,n.formatLog)(b));return m?(0,e.parseEventLogs)({abi:m,args:f,logs:w,strict:p}):w}return Q_}var q7;function l4(){if(q7)return J_;q7=1,Object.defineProperty(J_,"__esModule",{value:!0}),J_.getContractEvents=n;const t=Wu(),e=Yt(),r=u4();async function n(s,i){const{abi:o,address:a,args:c,blockHash:u,eventName:l,fromBlock:d,toBlock:f,strict:h}=i,p=l?(0,t.getAbiItem)({abi:o,name:l}):void 0,m=p?void 0:o.filter(y=>y.type==="event");return(0,e.getAction)(s,r.getLogs,"getLogs")({address:a,args:c,blockHash:u,event:p,events:m,fromBlock:d,toBlock:f,strict:h})}return J_}var nA={},sA={},z7;function Yu(){if(z7)return sA;z7=1,Object.defineProperty(sA,"__esModule",{value:!0}),sA.decodeFunctionResult=s;const t=Hr(),e=Md(),r=Wu(),n="/docs/contract/decodeFunctionResult";function s(i){const{abi:o,args:a,functionName:c,data:u}=i;let l=o[0];if(c){const f=(0,r.getAbiItem)({abi:o,args:a,name:c});if(!f)throw new t.AbiFunctionNotFoundError(c,{docsPath:n});l=f}if(l.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:n});if(!l.outputs)throw new t.AbiFunctionOutputsNotFoundError(l.name,{docsPath:n});const d=(0,e.decodeAbiParameters)(l.outputs,u);if(d&&d.length>1)return d;if(d&&d.length===1)return d[0]}return sA}var Xy={},eb={},Ct={},ir={},$7;function Pp(){if($7)return ir;$7=1;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ir,"__esModule",{value:!0}),ir.notImplemented=ir.bitMask=void 0,ir.isBytes=r,ir.abytes=n,ir.abool=s,ir.numberToHexUnpadded=i,ir.hexToNumber=o,ir.bytesToHex=u,ir.hexToBytes=f,ir.bytesToNumberBE=h,ir.bytesToNumberLE=p,ir.numberToBytesBE=m,ir.numberToBytesLE=y,ir.numberToVarBytesBE=E,ir.ensureBytes=w,ir.concatBytes=b,ir.equalBytes=g,ir.utf8ToBytes=v,ir.inRange=C,ir.aInRange=x,ir.bitLen=T,ir.bitGet=N,ir.bitSet=M,ir.createHmacDrbg=I,ir.validateObject=_,ir.memoized=O;const t=BigInt(0),e=BigInt(1);function r(P){return P instanceof Uint8Array||ArrayBuffer.isView(P)&&P.constructor.name==="Uint8Array"}function n(P){if(!r(P))throw new Error("Uint8Array expected")}function s(P,D){if(typeof D!="boolean")throw new Error(P+" boolean expected, got "+D)}function i(P){const D=P.toString(16);return D.length&1?"0"+D:D}function o(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);return P===""?t:BigInt("0x"+P)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(P,D)=>D.toString(16).padStart(2,"0"));function u(P){if(n(P),a)return P.toHex();let D="";for(let j=0;j<P.length;j++)D+=c[P[j]];return D}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function d(P){if(P>=l._0&&P<=l._9)return P-l._0;if(P>=l.A&&P<=l.F)return P-(l.A-10);if(P>=l.a&&P<=l.f)return P-(l.a-10)}function f(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);if(a)return Uint8Array.fromHex(P);const D=P.length,j=D/2;if(D%2)throw new Error("hex string expected, got unpadded hex of length "+D);const F=new Uint8Array(j);for(let q=0,z=0;q<j;q++,z+=2){const W=d(P.charCodeAt(z)),K=d(P.charCodeAt(z+1));if(W===void 0||K===void 0){const re=P[z]+P[z+1];throw new Error('hex string expected, got non-hex character "'+re+'" at index '+z)}F[q]=W*16+K}return F}function h(P){return o(u(P))}function p(P){return n(P),o(u(Uint8Array.from(P).reverse()))}function m(P,D){return f(P.toString(16).padStart(D*2,"0"))}function y(P,D){return m(P,D).reverse()}function E(P){return f(i(P))}function w(P,D,j){let F;if(typeof D=="string")try{F=f(D)}catch(z){throw new Error(P+" must be hex string or Uint8Array, cause: "+z)}else if(r(D))F=Uint8Array.from(D);else throw new Error(P+" must be hex string or Uint8Array");const q=F.length;if(typeof j=="number"&&q!==j)throw new Error(P+" of length "+j+" expected, got "+q);return F}function b(...P){let D=0;for(let F=0;F<P.length;F++){const q=P[F];n(q),D+=q.length}const j=new Uint8Array(D);for(let F=0,q=0;F<P.length;F++){const z=P[F];j.set(z,q),q+=z.length}return j}function g(P,D){if(P.length!==D.length)return!1;let j=0;for(let F=0;F<P.length;F++)j|=P[F]^D[F];return j===0}function v(P){if(typeof P!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(P))}const A=P=>typeof P=="bigint"&&t<=P;function C(P,D,j){return A(P)&&A(D)&&A(j)&&D<=P&&P<j}function x(P,D,j,F){if(!C(D,j,F))throw new Error("expected valid "+P+": "+j+" <= n < "+F+", got "+D)}function T(P){let D;for(D=0;P>t;P>>=e,D+=1);return D}function N(P,D){return P>>BigInt(D)&e}function M(P,D,j){return P|(j?e:t)<<BigInt(D)}const k=P=>(e<<BigInt(P))-e;ir.bitMask=k;const B=P=>new Uint8Array(P),U=P=>Uint8Array.from(P);function I(P,D,j){if(typeof P!="number"||P<2)throw new Error("hashLen must be a number");if(typeof D!="number"||D<2)throw new Error("qByteLen must be a number");if(typeof j!="function")throw new Error("hmacFn must be a function");let F=B(P),q=B(P),z=0;const W=()=>{F.fill(1),q.fill(0),z=0},K=(...ie)=>j(q,F,...ie),re=(ie=B(0))=>{q=K(U([0]),ie),F=K(),ie.length!==0&&(q=K(U([1]),ie),F=K())},Q=()=>{if(z++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const Y=[];for(;ie<D;){F=K();const V=F.slice();Y.push(V),ie+=F.length}return b(...Y)};return(ie,Y)=>{W(),re(ie);let V;for(;!(V=Y(Q()));)re();return W(),V}}const S={bigint:P=>typeof P=="bigint",function:P=>typeof P=="function",boolean:P=>typeof P=="boolean",string:P=>typeof P=="string",stringOrUint8Array:P=>typeof P=="string"||r(P),isSafeInteger:P=>Number.isSafeInteger(P),array:P=>Array.isArray(P),field:(P,D)=>D.Fp.isValid(P),hash:P=>typeof P=="function"&&Number.isSafeInteger(P.outputLen)};function _(P,D,j={}){const F=(q,z,W)=>{const K=S[z];if(typeof K!="function")throw new Error("invalid validator function");const re=P[q];if(!(W&&re===void 0)&&!K(re,P))throw new Error("param "+String(q)+" is invalid. Expected "+z+", got "+re)};for(const[q,z]of Object.entries(D))F(q,z,!1);for(const[q,z]of Object.entries(j))F(q,z,!0);return P}const R=()=>{throw new Error("not implemented")};ir.notImplemented=R;function O(P){const D=new WeakMap;return(j,...F)=>{const q=D.get(j);if(q!==void 0)return q;const z=P(j,...F);return D.set(j,z),z}}return ir}var Dt={},tb={},o0={},rb={},V7;function D3e(){return V7||(V7=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.version=void 0,rb.version="0.1.1"),rb}var G7;function M3e(){if(G7)return o0;G7=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.getUrl=e,o0.getVersion=r,o0.prettyPrint=n;const t=D3e();function e(s){return s}function r(){return t.version}function n(s){if(!s)return"";const i=Object.entries(s).map(([a,c])=>c===void 0||c===!1?null:[a,c]).filter(Boolean),o=i.reduce((a,[c])=>Math.max(a,c.length),0);return i.map(([a,c])=>`  ${`${a}:`.padEnd(o+1)}  ${c}`).join(`
`)}return o0}var W7;function ro(){if(W7)return tb;W7=1,Object.defineProperty(tb,"__esModule",{value:!0}),tb.BaseError=void 0;const t=M3e();class e extends Error{constructor(s,i={}){const o=(()=>{var d;if(i.cause instanceof e){if(i.cause.details)return i.cause.details;if(i.cause.shortMessage)return i.cause.shortMessage}return i.cause&&"details"in i.cause&&typeof i.cause.details=="string"?i.cause.details:(d=i.cause)!=null&&d.message?i.cause.message:i.details})(),a=i.cause instanceof e&&i.cause.docsPath||i.docsPath,u=`https://oxlib.sh${a??""}`,l=[s||"An error occurred.",...i.metaMessages?["",...i.metaMessages]:[],...o||a?["",o?`Details: ${o}`:void 0,a?`See: ${u}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(l,i.cause?{cause:i.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${(0,t.getVersion)()}`}),this.cause=i.cause,this.details=o,this.docs=u,this.docsPath=a,this.shortMessage=s}walk(s){return r(this,s)}}tb.BaseError=e;function r(n,s){return s!=null&&s(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?r(n.cause,s):s?null:n}return tb}var fO={},K7;function Xte(){return K7||(K7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.charCodeMap=void 0,t.assertSize=r,t.assertStartOffset=n,t.assertEndOffset=s,t.charCodeToBase16=i,t.pad=o,t.trim=a;const e=mc();function r(c,u){if(e.size(c)>u)throw new e.SizeOverflowError({givenSize:e.size(c),maxSize:u})}function n(c,u){if(typeof u=="number"&&u>0&&u>e.size(c)-1)throw new e.SliceOffsetOutOfBoundsError({offset:u,position:"start",size:e.size(c)})}function s(c,u,l){if(typeof u=="number"&&typeof l=="number"&&e.size(c)!==l-u)throw new e.SliceOffsetOutOfBoundsError({offset:l,position:"end",size:e.size(c)})}t.charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function i(c){if(c>=t.charCodeMap.zero&&c<=t.charCodeMap.nine)return c-t.charCodeMap.zero;if(c>=t.charCodeMap.A&&c<=t.charCodeMap.F)return c-(t.charCodeMap.A-10);if(c>=t.charCodeMap.a&&c<=t.charCodeMap.f)return c-(t.charCodeMap.a-10)}function o(c,u={}){const{dir:l,size:d=32}=u;if(d===0)return c;if(c.length>d)throw new e.SizeExceedsPaddingSizeError({size:c.length,targetSize:d,type:"Bytes"});const f=new Uint8Array(d);for(let h=0;h<d;h++){const p=l==="right";f[p?h:d-h-1]=c[p?h:c.length-h-1]}return f}function a(c,u={}){const{dir:l="left"}=u;let d=c,f=0;for(let h=0;h<d.length-1&&d[l==="left"?h:d.length-h-1].toString()==="0";h++)f++;return d=l==="left"?d.slice(f):d.slice(0,d.length-f),d}})(fO)),fO}var El={},Z7;function ere(){if(Z7)return El;Z7=1,Object.defineProperty(El,"__esModule",{value:!0}),El.assertSize=e,El.assertStartOffset=r,El.assertEndOffset=n,El.pad=s,El.trim=i;const t=es();function e(o,a){if(t.size(o)>a)throw new t.SizeOverflowError({givenSize:t.size(o),maxSize:a})}function r(o,a){if(typeof a=="number"&&a>0&&a>t.size(o)-1)throw new t.SliceOffsetOutOfBoundsError({offset:a,position:"start",size:t.size(o)})}function n(o,a,c){if(typeof a=="number"&&typeof c=="number"&&t.size(o)!==c-a)throw new t.SliceOffsetOutOfBoundsError({offset:c,position:"end",size:t.size(o)})}function s(o,a={}){const{dir:c,size:u=32}=a;if(u===0)return o;const l=o.replace("0x","");if(l.length>u*2)throw new t.SizeExceedsPaddingSizeError({size:Math.ceil(l.length/2),targetSize:u,type:"Hex"});return`0x${l[c==="right"?"padEnd":"padStart"](u*2,"0")}`}function i(o,a={}){const{dir:c="left"}=a;let u=o.replace("0x",""),l=0;for(let d=0;d<u.length-1&&u[c==="left"?d:u.length-d-1].toString()==="0";d++)l++;return u=c==="left"?u.slice(l):u.slice(0,u.length-l),u==="0"?"0x":c==="right"&&u.length%2===1?`0x${u}0`:`0x${u}`}return El}var nb={},Y7;function YP(){if(Y7)return nb;Y7=1,Object.defineProperty(nb,"__esModule",{value:!0}),nb.parse=e,nb.stringify=r;const t="#__bigint";function e(n,s){return JSON.parse(n,(i,o)=>{const a=o;return typeof a=="string"&&a.endsWith(t)?BigInt(a.slice(0,-t.length)):typeof s=="function"?s(i,a):a})}function r(n,s,i){return JSON.stringify(n,(o,a)=>typeof s=="function"?s(o,a):typeof a=="bigint"?a.toString()+t:a,i)}return nb}var J7;function mc(){if(J7)return Dt;J7=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.SizeExceedsPaddingSizeError=Dt.SliceOffsetOutOfBoundsError=Dt.SizeOverflowError=Dt.InvalidBytesTypeError=Dt.InvalidBytesBooleanError=void 0,Dt.assert=c,Dt.concat=u,Dt.from=l,Dt.fromArray=d,Dt.fromBoolean=f,Dt.fromHex=h,Dt.fromNumber=p,Dt.fromString=m,Dt.isEqual=y,Dt.padLeft=E,Dt.padRight=w,Dt.random=b,Dt.size=g,Dt.slice=v,Dt.toBigInt=A,Dt.toBoolean=C,Dt.toHex=x,Dt.toNumber=T,Dt.toString=N,Dt.trimLeft=M,Dt.trimRight=k,Dt.validate=B;const t=Pp(),e=ro(),r=es(),n=Xte(),s=ere(),i=YP(),o=new TextDecoder,a=new TextEncoder;function c(O){if(!(O instanceof Uint8Array)){if(!O)throw new I(O);if(typeof O!="object")throw new I(O);if(!("BYTES_PER_ELEMENT"in O))throw new I(O);if(O.BYTES_PER_ELEMENT!==1||O.constructor.name!=="Uint8Array")throw new I(O)}}function u(...O){let P=0;for(const j of O)P+=j.length;const D=new Uint8Array(P);for(let j=0,F=0;j<O.length;j++){const q=O[j];D.set(q,F),F+=q.length}return D}function l(O){return O instanceof Uint8Array?O:typeof O=="string"?h(O):d(O)}function d(O){return O instanceof Uint8Array?O:new Uint8Array(O)}function f(O,P={}){const{size:D}=P,j=new Uint8Array(1);return j[0]=Number(O),typeof D=="number"?(n.assertSize(j,D),E(j,D)):j}function h(O,P={}){const{size:D}=P;let j=O;D&&(s.assertSize(O,D),j=r.padRight(O,D));let F=j.slice(2);F.length%2&&(F=`0${F}`);const q=F.length/2,z=new Uint8Array(q);for(let W=0,K=0;W<q;W++){const re=n.charCodeToBase16(F.charCodeAt(K++)),Q=n.charCodeToBase16(F.charCodeAt(K++));if(re===void 0||Q===void 0)throw new e.BaseError(`Invalid byte sequence ("${F[K-2]}${F[K-1]}" in "${F}").`);z[W]=re*16+Q}return z}function p(O,P){const D=r.fromNumber(O,P);return h(D)}function m(O,P={}){const{size:D}=P,j=a.encode(O);return typeof D=="number"?(n.assertSize(j,D),w(j,D)):j}function y(O,P){return(0,t.equalBytes)(O,P)}function E(O,P){return n.pad(O,{dir:"left",size:P})}function w(O,P){return n.pad(O,{dir:"right",size:P})}function b(O){return crypto.getRandomValues(new Uint8Array(O))}function g(O){return O.length}function v(O,P,D,j={}){const{strict:F}=j;n.assertStartOffset(O,P);const q=O.slice(P,D);return F&&n.assertEndOffset(q,P,D),q}function A(O,P={}){const{size:D}=P;typeof D<"u"&&n.assertSize(O,D);const j=r.fromBytes(O,P);return r.toBigInt(j,P)}function C(O,P={}){const{size:D}=P;let j=O;if(typeof D<"u"&&(n.assertSize(j,D),j=M(j)),j.length>1||j[0]>1)throw new U(j);return!!j[0]}function x(O,P={}){return r.fromBytes(O,P)}function T(O,P={}){const{size:D}=P;typeof D<"u"&&n.assertSize(O,D);const j=r.fromBytes(O,P);return r.toNumber(j,P)}function N(O,P={}){const{size:D}=P;let j=O;return typeof D<"u"&&(n.assertSize(j,D),j=k(j)),o.decode(j)}function M(O){return n.trim(O,{dir:"left"})}function k(O){return n.trim(O,{dir:"right"})}function B(O){try{return c(O),!0}catch{return!1}}class U extends e.BaseError{constructor(P){super(`Bytes value \`${P}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}Dt.InvalidBytesBooleanError=U;class I extends e.BaseError{constructor(P){super(`Value \`${typeof P=="object"?i.stringify(P):P}\` of type \`${typeof P}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}Dt.InvalidBytesTypeError=I;class S extends e.BaseError{constructor({givenSize:P,maxSize:D}){super(`Size cannot exceed \`${D}\` bytes. Given size: \`${P}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}Dt.SizeOverflowError=S;class _ extends e.BaseError{constructor({offset:P,position:D,size:j}){super(`Slice ${D==="start"?"starting":"ending"} at offset \`${P}\` is out-of-bounds (size: \`${j}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}Dt.SliceOffsetOutOfBoundsError=_;class R extends e.BaseError{constructor({size:P,targetSize:D,type:j}){super(`${j.charAt(0).toUpperCase()}${j.slice(1).toLowerCase()} size (\`${P}\`) exceeds padding size (\`${D}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}return Dt.SizeExceedsPaddingSizeError=R,Dt}var Q7;function es(){if(Q7)return Ct;Q7=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.SizeExceedsPaddingSizeError=Ct.SliceOffsetOutOfBoundsError=Ct.SizeOverflowError=Ct.InvalidLengthError=Ct.InvalidHexValueError=Ct.InvalidHexTypeError=Ct.InvalidHexBooleanError=Ct.IntegerOutOfRangeError=void 0,Ct.assert=c,Ct.concat=u,Ct.from=l,Ct.fromBoolean=d,Ct.fromBytes=f,Ct.fromNumber=h,Ct.fromString=p,Ct.isEqual=m,Ct.padLeft=y,Ct.padRight=E,Ct.random=w,Ct.slice=b,Ct.size=g,Ct.trimLeft=v,Ct.trimRight=A,Ct.toBigInt=C,Ct.toBoolean=x,Ct.toBytes=T,Ct.toNumber=N,Ct.toString=M,Ct.validate=k;const t=Pp(),e=mc(),r=ro(),n=Xte(),s=ere(),i=YP(),o=new TextEncoder,a=Array.from({length:256},(D,j)=>j.toString(16).padStart(2,"0"));function c(D,j={}){const{strict:F=!1}=j;if(!D)throw new I(D);if(typeof D!="string")throw new I(D);if(F&&!/^0x[0-9a-fA-F]*$/.test(D))throw new S(D);if(!D.startsWith("0x"))throw new S(D)}function u(...D){return`0x${D.reduce((j,F)=>j+F.replace("0x",""),"")}`}function l(D){return D instanceof Uint8Array?f(D):Array.isArray(D)?f(new Uint8Array(D)):D}function d(D,j={}){const F=`0x${Number(D)}`;return typeof j.size=="number"?(s.assertSize(F,j.size),y(F,j.size)):F}function f(D,j={}){let F="";for(let z=0;z<D.length;z++)F+=a[D[z]];const q=`0x${F}`;return typeof j.size=="number"?(s.assertSize(q,j.size),E(q,j.size)):q}function h(D,j={}){const{signed:F,size:q}=j,z=BigInt(D);let W;q?F?W=(1n<<BigInt(q)*8n-1n)-1n:W=2n**(BigInt(q)*8n)-1n:typeof D=="number"&&(W=BigInt(Number.MAX_SAFE_INTEGER));const K=typeof W=="bigint"&&F?-W-1n:0;if(W&&z>W||z<K){const X=typeof D=="bigint"?"n":"";throw new B({max:W?`${W}${X}`:void 0,min:`${K}${X}`,signed:F,size:q,value:`${D}${X}`})}const Q=`0x${(F&&z<0?(1n<<BigInt(q*8))+BigInt(z):z).toString(16)}`;return q?y(Q,q):Q}function p(D,j={}){return f(o.encode(D),j)}function m(D,j){return(0,t.equalBytes)(e.fromHex(D),e.fromHex(j))}function y(D,j){return s.pad(D,{dir:"left",size:j})}function E(D,j){return s.pad(D,{dir:"right",size:j})}function w(D){return f(e.random(D))}function b(D,j,F,q={}){const{strict:z}=q;s.assertStartOffset(D,j);const W=`0x${D.replace("0x","").slice((j??0)*2,(F??D.length)*2)}`;return z&&s.assertEndOffset(W,j,F),W}function g(D){return Math.ceil((D.length-2)/2)}function v(D){return s.trim(D,{dir:"left"})}function A(D){return s.trim(D,{dir:"right"})}function C(D,j={}){const{signed:F}=j;j.size&&s.assertSize(D,j.size);const q=BigInt(D);if(!F)return q;const z=(D.length-2)/2,W=(1n<<BigInt(z)*8n)-1n,K=W>>1n;return q<=K?q:q-W-1n}function x(D,j={}){j.size&&s.assertSize(D,j.size);const F=v(D);if(F==="0x")return!1;if(F==="0x1")return!0;throw new U(D)}function T(D,j={}){return e.fromHex(D,j)}function N(D,j={}){const{signed:F,size:q}=j;return Number(!F&&!q?D:C(D,j))}function M(D,j={}){const{size:F}=j;let q=e.fromHex(D);return F&&(n.assertSize(q,F),q=e.trimRight(q)),new TextDecoder().decode(q)}function k(D,j={}){const{strict:F=!1}=j;try{return c(D,{strict:F}),!0}catch{return!1}}class B extends r.BaseError{constructor({max:j,min:F,signed:q,size:z,value:W}){super(`Number \`${W}\` is not in safe${z?` ${z*8}-bit`:""}${q?" signed":" unsigned"} integer range ${j?`(\`${F}\` to \`${j}\`)`:`(above \`${F}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}Ct.IntegerOutOfRangeError=B;class U extends r.BaseError{constructor(j){super(`Hex value \`"${j}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}}Ct.InvalidHexBooleanError=U;class I extends r.BaseError{constructor(j){super(`Value \`${typeof j=="object"?i.stringify(j):j}\` of type \`${typeof j}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}Ct.InvalidHexTypeError=I;class S extends r.BaseError{constructor(j){super(`Value \`${j}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}Ct.InvalidHexValueError=S;class _ extends r.BaseError{constructor(j){super(`Hex value \`"${j}"\` is an odd length (${j.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}Ct.InvalidLengthError=_;class R extends r.BaseError{constructor({givenSize:j,maxSize:F}){super(`Size cannot exceed \`${F}\` bytes. Given size: \`${j}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}Ct.SizeOverflowError=R;class O extends r.BaseError{constructor({offset:j,position:F,size:q}){super(`Slice ${F==="start"?"starting":"ending"} at offset \`${j}\` is out-of-bounds (size: \`${q}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}Ct.SliceOffsetOutOfBoundsError=O;class P extends r.BaseError{constructor({size:j,targetSize:F,type:q}){super(`${q.charAt(0).toUpperCase()}${q.slice(1).toLowerCase()} size (\`${j}\`) exceeds padding size (\`${F}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}return Ct.SizeExceedsPaddingSizeError=P,Ct}var sb={},X7;function U3e(){if(X7)return sb;X7=1,Object.defineProperty(sb,"__esModule",{value:!0}),sb.fromRpc=e,sb.toRpc=r;const t=es();function e(n){return{...n,amount:BigInt(n.amount),index:Number(n.index),validatorIndex:Number(n.validatorIndex)}}function r(n){return{address:n.address,amount:t.fromNumber(n.amount),index:t.fromNumber(n.index),validatorIndex:t.fromNumber(n.validatorIndex)}}return sb}var eH;function tre(){if(eH)return eb;eH=1,Object.defineProperty(eb,"__esModule",{value:!0}),eb.fromRpc=r,eb.toRpc=n;const t=es(),e=U3e();function r(s){return{...s.baseFeePerGas&&{baseFeePerGas:BigInt(s.baseFeePerGas)},...s.blobBaseFee&&{blobBaseFee:BigInt(s.blobBaseFee)},...s.feeRecipient&&{feeRecipient:s.feeRecipient},...s.gasLimit&&{gasLimit:BigInt(s.gasLimit)},...s.number&&{number:BigInt(s.number)},...s.prevRandao&&{prevRandao:BigInt(s.prevRandao)},...s.time&&{time:BigInt(s.time)},...s.withdrawals&&{withdrawals:s.withdrawals.map(e.fromRpc)}}}function n(s){return{...typeof s.baseFeePerGas=="bigint"&&{baseFeePerGas:t.fromNumber(s.baseFeePerGas)},...typeof s.blobBaseFee=="bigint"&&{blobBaseFee:t.fromNumber(s.blobBaseFee)},...typeof s.feeRecipient=="string"&&{feeRecipient:s.feeRecipient},...typeof s.gasLimit=="bigint"&&{gasLimit:t.fromNumber(s.gasLimit)},...typeof s.number=="bigint"&&{number:t.fromNumber(s.number)},...typeof s.prevRandao=="bigint"&&{prevRandao:t.fromNumber(s.prevRandao)},...typeof s.time=="bigint"&&{time:t.fromNumber(s.time)},...s.withdrawals&&{withdrawals:s.withdrawals.map(e.toRpc)}}}return eb}var fr={},tH;function $d(){if(tH)return fr;tH=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.erc4626Abi=fr.erc721Abi=fr.erc1155Abi=fr.erc20Abi_bytes32=fr.erc20Abi=fr.erc6492SignatureValidatorAbi=fr.erc1271Abi=fr.addressResolverAbi=fr.textResolverAbi=fr.universalResolverReverseAbi=fr.universalResolverResolveAbi=fr.batchGatewayAbi=fr.multicall3Abi=void 0,fr.multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],fr.batchGatewayAbi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];const t=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}];return fr.universalResolverResolveAbi=[...t,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],fr.universalResolverReverseAbi=[...t,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],fr.textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],fr.addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],fr.erc1271Abi=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],fr.erc6492SignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],fr.erc20Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],fr.erc20Abi_bytes32=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],fr.erc1155Abi=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],fr.erc721Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],fr.erc4626Abi=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],fr}var ib={},rH;function L3e(){return rH||(rH=1,Object.defineProperty(ib,"__esModule",{value:!0}),ib.aggregate3Signature=void 0,ib.aggregate3Signature="0x82ad56cb"),ib}var Do={},nH;function OE(){return nH||(nH=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.multicall3Bytecode=Do.erc6492SignatureValidatorByteCode=Do.deploylessCallViaFactoryBytecode=Do.deploylessCallViaBytecodeBytecode=void 0,Do.deploylessCallViaBytecodeBytecode="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Do.deploylessCallViaFactoryBytecode="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Do.erc6492SignatureValidatorByteCode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Do.multicall3Bytecode="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"),Do}var Ri={},sH;function RE(){if(sH)return Ri;sH=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.InvalidChainIdError=Ri.ClientChainNotConfiguredError=Ri.ChainNotFoundError=Ri.ChainMismatchError=Ri.ChainDoesNotSupportContract=void 0;const t=yt();class e extends t.BaseError{constructor({blockNumber:a,chain:c,contract:u}){super(`Chain "${c.name}" does not support contract "${u.name}".`,{metaMessages:["This could be due to any of the following:",...a&&u.blockCreated&&u.blockCreated>a?[`- The contract "${u.name}" was not deployed until block ${u.blockCreated} (current block ${a}).`]:[`- The chain does not have the contract "${u.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}Ri.ChainDoesNotSupportContract=e;class r extends t.BaseError{constructor({chain:a,currentChainId:c}){super(`The current chain of the wallet (id: ${c}) does not match the target chain for the transaction (id: ${a.id}  ${a.name}).`,{metaMessages:[`Current Chain ID:  ${c}`,`Expected Chain ID: ${a.id}  ${a.name}`],name:"ChainMismatchError"})}}Ri.ChainMismatchError=r;class n extends t.BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}Ri.ChainNotFoundError=n;class s extends t.BaseError{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}Ri.ClientChainNotConfiguredError=s;class i extends t.BaseError{constructor({chainId:a}){super(typeof a=="number"?`Chain ID "${a}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}return Ri.InvalidChainIdError=i,Ri}var iA={},iH;function NE(){if(iH)return iA;iH=1,Object.defineProperty(iA,"__esModule",{value:!0}),iA.encodeDeployData=s;const t=Hr(),e=Dn(),r=ya(),n="/docs/contract/encodeDeployData";function s(i){const{abi:o,args:a,bytecode:c}=i;if(!a||a.length===0)return c;const u=o.find(d=>"type"in d&&d.type==="constructor");if(!u)throw new t.AbiConstructorNotFoundError({docsPath:n});if(!("inputs"in u))throw new t.AbiConstructorParamsNotFoundError({docsPath:n});if(!u.inputs||u.inputs.length===0)throw new t.AbiConstructorParamsNotFoundError({docsPath:n});const l=(0,r.encodeAbiParameters)(u.inputs,a);return(0,e.concatHex)([c,l])}return iA}var oA={},oH;function Vd(){if(oH)return oA;oH=1,Object.defineProperty(oA,"__esModule",{value:!0}),oA.getChainContractAddress=e;const t=RE();function e({blockNumber:r,chain:n,contract:s}){var o;const i=(o=n==null?void 0:n.contracts)==null?void 0:o[s];if(!i)throw new t.ChainDoesNotSupportContract({chain:n,contract:{name:s}});if(r&&i.blockCreated&&i.blockCreated>r)throw new t.ChainDoesNotSupportContract({blockNumber:r,chain:n,contract:{name:s,blockCreated:i.blockCreated}});return i.address}return oA}var aA={},aH;function d4(){if(aH)return aA;aH=1,Object.defineProperty(aA,"__esModule",{value:!0}),aA.getCallError=n;const t=Ud(),e=Ku(),r=AE();function n(s,{docsPath:i,...o}){const a=(()=>{const c=(0,r.getNodeError)(s,o);return c instanceof e.UnknownNodeError?s:c})();return new t.CallExecutionError(a,{docsPath:i,...o})}return aA}var cA={},uA={},cH;function f4(){if(cH)return uA;cH=1,Object.defineProperty(uA,"__esModule",{value:!0}),uA.withResolvers=t;function t(){let e=()=>{},r=()=>{};return{promise:new Promise((s,i)=>{e=s,r=i}),resolve:e,reject:r}}return uA}var uH;function h4(){if(uH)return cA;uH=1,Object.defineProperty(cA,"__esModule",{value:!0}),cA.createBatchScheduler=r;const t=f4(),e=new Map;function r({fn:n,id:s,shouldSplitBatch:i,wait:o=0,sort:a}){const c=async()=>{const h=d();u();const p=h.map(({args:m})=>m);p.length!==0&&n(p).then(m=>{a&&Array.isArray(m)&&m.sort(a);for(let y=0;y<h.length;y++){const{resolve:E}=h[y];E==null||E([m[y],m])}}).catch(m=>{for(let y=0;y<h.length;y++){const{reject:E}=h[y];E==null||E(m)}})},u=()=>e.delete(s),l=()=>d().map(({args:h})=>h),d=()=>e.get(s)||[],f=h=>e.set(s,[...d(),h]);return{flush:u,async schedule(h){const{promise:p,resolve:m,reject:y}=(0,t.withResolvers)();return(i==null?void 0:i([...l(),h]))&&c(),d().length>0?(f({args:h,resolve:m,reject:y}),p):(f({args:h,resolve:m,reject:y}),setTimeout(c,o),p)}}}return cA}var hO={},Vc={},lH;function F3e(){if(lH)return Vc;lH=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.OffchainLookupSenderMismatchError=Vc.OffchainLookupResponseMalformedError=Vc.OffchainLookupError=void 0;const t=Xn(),e=yt(),r=J3();class n extends e.BaseError{constructor({callbackSelector:a,cause:c,data:u,extraData:l,sender:d,urls:f}){var h;super(c.shortMessage||"An error occurred while fetching for an offchain result.",{cause:c,metaMessages:[...c.metaMessages||[],(h=c.metaMessages)!=null&&h.length?"":[],"Offchain Gateway Call:",f&&["  Gateway URL(s):",...f.map(p=>`    ${(0,r.getUrl)(p)}`)],`  Sender: ${d}`,`  Data: ${u}`,`  Callback selector: ${a}`,`  Extra data: ${l}`].flat(),name:"OffchainLookupError"})}}Vc.OffchainLookupError=n;class s extends e.BaseError{constructor({result:a,url:c}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,r.getUrl)(c)}`,`Response: ${(0,t.stringify)(a)}`],name:"OffchainLookupResponseMalformedError"})}}Vc.OffchainLookupResponseMalformedError=s;class i extends e.BaseError{constructor({sender:a,to:c}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${c}`,`OffchainLookup sender address: ${a}`],name:"OffchainLookupSenderMismatchError"})}}return Vc.OffchainLookupSenderMismatchError=i,Vc}var pO={},lA={},dH;function p4(){if(dH)return lA;dH=1,Object.defineProperty(lA,"__esModule",{value:!0}),lA.decodeFunctionData=i;const t=Hr(),e=xo(),r=Cp(),n=Md(),s=Vu();function i(o){const{abi:a,data:c}=o,u=(0,e.slice)(c,0,4),l=a.find(d=>d.type==="function"&&u===(0,r.toFunctionSelector)((0,s.formatAbiItem)(d)));if(!l)throw new t.AbiFunctionSignatureNotFoundError(u,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,n.decodeAbiParameters)(l.inputs,(0,e.slice)(c,4)):void 0}}return lA}var dA={},fH;function m4(){if(fH)return dA;fH=1,Object.defineProperty(dA,"__esModule",{value:!0}),dA.encodeErrorResult=a;const t=Hr(),e=Dn(),r=Cp(),n=ya(),s=Vu(),i=Wu(),o="/docs/contract/encodeErrorResult";function a(c){const{abi:u,errorName:l,args:d}=c;let f=u[0];if(l){const y=(0,i.getAbiItem)({abi:u,args:d,name:l});if(!y)throw new t.AbiErrorNotFoundError(l,{docsPath:o});f=y}if(f.type!=="error")throw new t.AbiErrorNotFoundError(void 0,{docsPath:o});const h=(0,s.formatAbiItem)(f),p=(0,r.toFunctionSelector)(h);let m="0x";if(d&&d.length>0){if(!f.inputs)throw new t.AbiErrorInputsNotFoundError(f.name,{docsPath:o});m=(0,n.encodeAbiParameters)(f.inputs,d)}return(0,e.concatHex)([p,m])}return dA}var fA={},hH;function g4(){if(hH)return fA;hH=1,Object.defineProperty(fA,"__esModule",{value:!0}),fA.encodeFunctionResult=s;const t=Hr(),e=ya(),r=Wu(),n="/docs/contract/encodeFunctionResult";function s(i){const{abi:o,functionName:a,result:c}=i;let u=o[0];if(a){const d=(0,r.getAbiItem)({abi:o,name:a});if(!d)throw new t.AbiFunctionNotFoundError(a,{docsPath:n});u=d}if(u.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:n});if(!u.outputs)throw new t.AbiFunctionOutputsNotFoundError(u.name,{docsPath:n});const l=(()=>{if(u.outputs.length===0)return[];if(u.outputs.length===1)return[c];if(Array.isArray(c))return c;throw new t.InvalidArrayError(c)})();return(0,e.encodeAbiParameters)(u.outputs,l)}return fA}var pH;function JP(){return pH||(pH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.localBatchGatewayUrl=void 0,t.localBatchGatewayRequest=o;const e=$d(),r=K3(),n=p4(),s=m4(),i=g4();t.localBatchGatewayUrl="x-batch-gateway:true";async function o(c){const{data:u,ccipRequest:l}=c,{args:[d]}=(0,n.decodeFunctionData)({abi:e.batchGatewayAbi,data:u}),f=[],h=[];return await Promise.all(d.map(async(p,m)=>{try{h[m]=p.urls.includes(t.localBatchGatewayUrl)?await o({data:p.data,ccipRequest:l}):await l(p),f[m]=!1}catch(y){f[m]=!0,h[m]=a(y)}})),(0,i.encodeFunctionResult)({abi:e.batchGatewayAbi,functionName:"query",result:[f,h]})}function a(c){return c.name==="HttpRequestError"&&c.status?(0,s.encodeErrorResult)({abi:e.batchGatewayAbi,errorName:"HttpError",args:[c.status,c.shortMessage]}):(0,s.encodeErrorResult)({abi:[r.solidityError],errorName:"Error",args:["shortMessage"in c?c.shortMessage:c.message]})}})(pO)),pO}var mH;function y4(){return mH||(mH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offchainLookupAbiItem=t.offchainLookupSignature=void 0,t.offchainLookup=d,t.ccipRequest=f;const e=BE(),r=F3e(),n=ba(),s=HP(),i=ya(),o=va(),a=Dn(),c=zs(),u=JP(),l=Xn();t.offchainLookupSignature="0x556f1830",t.offchainLookupAbiItem={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function d(h,{blockNumber:p,blockTag:m,data:y,to:E}){const{args:w}=(0,s.decodeErrorResult)({data:y,abi:[t.offchainLookupAbiItem]}),[b,g,v,A,C]=w,{ccipRead:x}=h,T=x&&typeof(x==null?void 0:x.request)=="function"?x.request:f;try{if(!(0,o.isAddressEqual)(E,b))throw new r.OffchainLookupSenderMismatchError({sender:b,to:E});const N=g.includes(u.localBatchGatewayUrl)?await(0,u.localBatchGatewayRequest)({data:v,ccipRequest:T}):await T({data:v,sender:b,urls:g}),{data:M}=await(0,e.call)(h,{blockNumber:p,blockTag:m,data:(0,a.concat)([A,(0,i.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[N,C])]),to:E});return M}catch(N){throw new r.OffchainLookupError({callbackSelector:A,cause:N,data:y,extraData:C,sender:b,urls:g})}}async function f({data:h,sender:p,urls:m}){var E;let y=new Error("An unknown error occurred.");for(let w=0;w<m.length;w++){const b=m[w],g=b.includes("{data}")?"GET":"POST",v=g==="POST"?{data:h,sender:p}:void 0,A=g==="POST"?{"Content-Type":"application/json"}:{};try{const C=await fetch(b.replace("{sender}",p.toLowerCase()).replace("{data}",h),{body:JSON.stringify(v),headers:A,method:g});let x;if((E=C.headers.get("Content-Type"))!=null&&E.startsWith("application/json")?x=(await C.json()).data:x=await C.text(),!C.ok){y=new n.HttpRequestError({body:v,details:x!=null&&x.error?(0,l.stringify)(x.error):C.statusText,headers:C.headers,status:C.status,url:b});continue}if(!(0,c.isHex)(x)){y=new r.OffchainLookupResponseMalformedError({result:x,url:b});continue}return x}catch(C){y=new n.HttpRequestError({body:v,details:C.message,url:b})}}throw y}})(hO)),hO}var gH;function BE(){if(gH)return Xy;gH=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.call=g,Xy.getRevertErrorData=T;const t=DP(),e=tre(),r=Gr(),n=$d(),s=L3e(),i=OE(),o=yt(),a=RE(),c=Ud(),u=Yu(),l=NE(),d=Ci(),f=Vd(),h=ze(),p=d4(),m=qd(),y=wa(),E=h4(),w=e4(),b=Ea();async function g(N,M){var we,me,ae,Oe;const{account:k=N.account,authorizationList:B,batch:U=!!((we=N.batch)!=null&&we.multicall),blockNumber:I,blockTag:S=N.experimental_blockTag??"latest",accessList:_,blobs:R,blockOverrides:O,code:P,data:D,factory:j,factoryData:F,gas:q,gasPrice:z,maxFeePerBlobGas:W,maxFeePerGas:K,maxPriorityFeePerGas:re,nonce:Q,to:X,value:ie,stateOverride:Y,...V}=M,Z=k?(0,r.parseAccount)(k):void 0;if(P&&(j||F))throw new o.BaseError("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(P&&X)throw new o.BaseError("Cannot provide both `code` & `to` as parameters.");const ne=P&&D,ue=j&&F&&X&&D,ce=ne||ue,ge=ne?C({code:P,data:D}):ue?x({data:D,factory:j,factoryData:F,to:X}):D;try{(0,b.assertRequest)(M);const Be=(typeof I=="bigint"?(0,h.numberToHex)(I):void 0)||S,de=O?e.toRpc(O):void 0,oe=(0,w.serializeStateOverride)(Y),$=(Oe=(ae=(me=N.chain)==null?void 0:me.formatters)==null?void 0:ae.transactionRequest)==null?void 0:Oe.format,H=($||y.formatTransactionRequest)({...(0,m.extract)(V,{format:$}),accessList:_,account:Z,authorizationList:B,blobs:R,data:ge,gas:q,gasPrice:z,maxFeePerBlobGas:W,maxFeePerGas:K,maxPriorityFeePerGas:re,nonce:Q,to:ce?void 0:X,value:ie},"call");if(U&&v({request:H})&&!oe&&!de)try{return await A(N,{...H,blockNumber:I,blockTag:S})}catch(ye){if(!(ye instanceof a.ClientChainNotConfiguredError)&&!(ye instanceof a.ChainDoesNotSupportContract))throw ye}const ee=(()=>{const ye=[H,Be];return oe&&de?[...ye,oe,de]:oe?[...ye,oe]:de?[...ye,{},de]:ye})(),le=await N.request({method:"eth_call",params:ee});return le==="0x"?{data:void 0}:{data:le}}catch(Se){const Be=T(Se),{offchainLookup:de,offchainLookupSignature:oe}=await Promise.resolve().then(()=>y4());if(N.ccipRead!==!1&&(Be==null?void 0:Be.slice(0,10))===oe&&X)return{data:await de(N,{data:Be,to:X})};throw ce&&(Be==null?void 0:Be.slice(0,10))==="0x101bb98d"?new c.CounterfactualDeploymentFailedError({factory:j}):(0,p.getCallError)(Se,{...M,account:Z,chain:N.chain})}}function v({request:N}){const{data:M,to:k,...B}=N;return!(!M||M.startsWith(s.aggregate3Signature)||!k||Object.values(B).filter(U=>typeof U<"u").length>0)}async function A(N,M){var z;const{batchSize:k=1024,deployless:B=!1,wait:U=0}=typeof((z=N.batch)==null?void 0:z.multicall)=="object"?N.batch.multicall:{},{blockNumber:I,blockTag:S=N.experimental_blockTag??"latest",data:_,to:R}=M,O=(()=>{if(B)return null;if(M.multicallAddress)return M.multicallAddress;if(N.chain)return(0,f.getChainContractAddress)({blockNumber:I,chain:N.chain,contract:"multicall3"});throw new a.ClientChainNotConfiguredError})(),D=(typeof I=="bigint"?(0,h.numberToHex)(I):void 0)||S,{schedule:j}=(0,E.createBatchScheduler)({id:`${N.uid}.${D}`,wait:U,shouldSplitBatch(W){return W.reduce((re,{data:Q})=>re+(Q.length-2),0)>k*2},fn:async W=>{const K=W.map(X=>({allowFailure:!0,callData:X.data,target:X.to})),re=(0,d.encodeFunctionData)({abi:n.multicall3Abi,args:[K],functionName:"aggregate3"}),Q=await N.request({method:"eth_call",params:[{...O===null?{data:C({code:i.multicall3Bytecode,data:re})}:{to:O,data:re}},D]});return(0,u.decodeFunctionResult)({abi:n.multicall3Abi,args:[K],functionName:"aggregate3",data:Q||"0x"})}}),[{returnData:F,success:q}]=await j({data:_,to:R});if(!q)throw new c.RawContractError({data:F});return F==="0x"?{data:void 0}:{data:F}}function C(N){const{code:M,data:k}=N;return(0,l.encodeDeployData)({abi:(0,t.parseAbi)(["constructor(bytes, bytes)"]),bytecode:i.deploylessCallViaBytecodeBytecode,args:[M,k]})}function x(N){const{data:M,factory:k,factoryData:B,to:U}=N;return(0,l.encodeDeployData)({abi:(0,t.parseAbi)(["constructor(address, bytes, address, bytes)"]),bytecode:i.deploylessCallViaFactoryBytecode,args:[U,M,k,B]})}function T(N){var k;if(!(N instanceof o.BaseError))return;const M=N.walk();return typeof(M==null?void 0:M.data)=="object"?(k=M.data)==null?void 0:k.data:M.data}return Xy}var yH;function gc(){if(yH)return nA;yH=1,Object.defineProperty(nA,"__esModule",{value:!0}),nA.readContract=i;const t=Yu(),e=Ci(),r=Fd(),n=Yt(),s=BE();async function i(o,a){const{abi:c,address:u,args:l,functionName:d,...f}=a,h=(0,e.encodeFunctionData)({abi:c,args:l,functionName:d});try{const{data:p}=await(0,n.getAction)(o,s.call,"call")({...f,data:h,to:u});return(0,t.decodeFunctionResult)({abi:c,args:l,functionName:d,data:p||"0x"})}catch(p){throw(0,r.getContractError)(p,{abi:c,address:u,args:l,docsPath:"/docs/contract/readContract",functionName:d})}}return nA}var hA={},bH;function rre(){if(bH)return hA;bH=1,Object.defineProperty(hA,"__esModule",{value:!0}),hA.simulateContract=o;const t=Gr(),e=Yu(),r=Ci(),n=Fd(),s=Yt(),i=BE();async function o(a,c){const{abi:u,address:l,args:d,dataSuffix:f,functionName:h,...p}=c,m=p.account?(0,t.parseAccount)(p.account):a.account,y=(0,r.encodeFunctionData)({abi:u,args:d,functionName:h});try{const{data:E}=await(0,s.getAction)(a,i.call,"call")({batch:!1,data:`${y}${f?f.replace("0x",""):""}`,to:l,...p,account:m}),w=(0,e.decodeFunctionResult)({abi:u,args:d,functionName:h,data:E||"0x"}),b=u.filter(g=>"name"in g&&g.name===c.functionName);return{result:w,request:{abi:b,address:l,args:d,dataSuffix:f,functionName:h,...p,account:m}}}catch(E){throw(0,n.getContractError)(E,{abi:u,address:l,args:d,docsPath:"/docs/contract/simulateContract",functionName:h,sender:m==null?void 0:m.address})}}return hA}var pA={},mO={},wH;function xp(){return wH||(wH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.cleanupCache=t.listenersCache=void 0,t.observe=r,t.listenersCache=new Map,t.cleanupCache=new Map;let e=0;function r(n,s,i){const o=++e,a=()=>t.listenersCache.get(n)||[],c=()=>{const h=a();t.listenersCache.set(n,h.filter(p=>p.id!==o))},u=()=>{const h=a();if(!h.some(m=>m.id===o))return;const p=t.cleanupCache.get(n);if(h.length===1&&p){const m=p();m instanceof Promise&&m.catch(()=>{})}c()},l=a();if(t.listenersCache.set(n,[...l,{id:o,fns:s}]),l&&l.length>0)return u;const d={};for(const h in s)d[h]=((...p)=>{var y,E;const m=a();if(m.length!==0)for(const w of m)(E=(y=w.fns)[h])==null||E.call(y,...p)});const f=i(d);return typeof f=="function"&&t.cleanupCache.set(n,f),u}})(mO)),mO}var mA={},gA={},EH;function b4(){if(EH)return gA;EH=1,Object.defineProperty(gA,"__esModule",{value:!0}),gA.wait=t;async function t(e){return new Promise(r=>setTimeout(r,e))}return gA}var vH;function Ng(){if(vH)return mA;vH=1,Object.defineProperty(mA,"__esModule",{value:!0}),mA.poll=e;const t=b4();function e(r,{emitOnBegin:n,initialWaitTime:s,interval:i}){let o=!0;const a=()=>o=!1;return(async()=>{let u;n&&(u=await r({unpoll:a}));const l=await(s==null?void 0:s(u))??i;await(0,t.wait)(l);const d=async()=>{o&&(await r({unpoll:a}),await(0,t.wait)(i),d())};d()})(),a}return mA}var ob={},gO={},_H;function nre(){return _H||(_H=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.responseCache=t.promiseCache=void 0,t.getCache=e,t.withCache=r,t.promiseCache=new Map,t.responseCache=new Map;function e(n){const s=(a,c)=>({clear:()=>c.delete(a),get:()=>c.get(a),set:u=>c.set(a,u)}),i=s(n,t.promiseCache),o=s(n,t.responseCache);return{clear:()=>{i.clear(),o.clear()},promise:i,response:o}}async function r(n,{cacheKey:s,cacheTime:i=Number.POSITIVE_INFINITY}){const o=e(s),a=o.response.get();if(a&&i>0&&Date.now()-a.created.getTime()<i)return a.data;let c=o.promise.get();c||(c=n(),o.promise.set(c));try{const u=await c;return o.response.set({created:new Date,data:u}),u}finally{o.promise.clear()}}})(gO)),gO}var AH;function kE(){if(AH)return ob;AH=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.getBlockNumberCache=r,ob.getBlockNumber=n;const t=nre(),e=s=>`blockNumber.${s}`;function r(s){return(0,t.getCache)(e(s))}async function n(s,{cacheTime:i=s.cacheTime}={}){const o=await(0,t.withCache)(()=>s.request({method:"eth_blockNumber"}),{cacheKey:e(s.uid),cacheTime:i});return BigInt(o)}return ob}var yA={},CH;function QP(){if(CH)return yA;CH=1,Object.defineProperty(yA,"__esModule",{value:!0}),yA.getFilterChanges=r;const t=xE(),e=Zu();async function r(n,{filter:s}){const i="strict"in s&&s.strict,o=await s.request({method:"eth_getFilterChanges",params:[s.id]});if(typeof o[0]=="string")return o;const a=o.map(c=>(0,e.formatLog)(c));return!("abi"in s)||!s.abi?a:(0,t.parseEventLogs)({abi:s.abi,logs:a,strict:i})}return yA}var bA={},SH;function XP(){if(SH)return bA;SH=1,Object.defineProperty(bA,"__esModule",{value:!0}),bA.uninstallFilter=t;async function t(e,{filter:r}){return r.request({method:"eth_uninstallFilter",params:[r.id]})}return bA}var IH;function sre(){if(IH)return pA;IH=1,Object.defineProperty(pA,"__esModule",{value:!0}),pA.watchContractEvent=p;const t=Hr(),e=Ld(),r=PE(),n=Sp(),s=Zu(),i=Yt(),o=xp(),a=Ng(),c=Xn(),u=W3(),l=kE(),d=l4(),f=QP(),h=XP();function p(m,y){const{abi:E,address:w,args:b,batch:g=!0,eventName:v,fromBlock:A,onError:C,onLogs:x,poll:T,pollingInterval:N=m.pollingInterval,strict:M}=y;return(typeof T<"u"?T:typeof A=="bigint"?!0:!(m.transport.type==="webSocket"||m.transport.type==="ipc"||m.transport.type==="fallback"&&(m.transport.transports[0].config.type==="webSocket"||m.transport.transports[0].config.type==="ipc")))?(()=>{const I=M??!1,S=(0,c.stringify)(["watchContractEvent",w,b,g,m.uid,v,N,I,A]);return(0,o.observe)(S,{onLogs:x,onError:C},_=>{let R;A!==void 0&&(R=A-1n);let O,P=!1;const D=(0,a.poll)(async()=>{var j;if(!P){try{O=await(0,i.getAction)(m,u.createContractEventFilter,"createContractEventFilter")({abi:E,address:w,args:b,eventName:v,strict:I,fromBlock:A})}catch{}P=!0;return}try{let F;if(O)F=await(0,i.getAction)(m,f.getFilterChanges,"getFilterChanges")({filter:O});else{const q=await(0,i.getAction)(m,l.getBlockNumber,"getBlockNumber")({});R&&R<q?F=await(0,i.getAction)(m,d.getContractEvents,"getContractEvents")({abi:E,address:w,args:b,eventName:v,fromBlock:R+1n,toBlock:q,strict:I}):F=[],R=q}if(F.length===0)return;if(g)_.onLogs(F);else for(const q of F)_.onLogs([q])}catch(F){O&&F instanceof e.InvalidInputRpcError&&(P=!1),(j=_.onError)==null||j.call(_,F)}},{emitOnBegin:!0,interval:N});return async()=>{O&&await(0,i.getAction)(m,h.uninstallFilter,"uninstallFilter")({filter:O}),D()}})})():(()=>{const I=M??!1,S=(0,c.stringify)(["watchContractEvent",w,b,g,m.uid,v,N,I]);let _=!0,R=()=>_=!1;return(0,o.observe)(S,{onLogs:x,onError:C},O=>((async()=>{try{const P=(()=>{if(m.transport.type==="fallback"){const F=m.transport.transports.find(q=>q.config.type==="webSocket"||q.config.type==="ipc");return F?F.value:m.transport}return m.transport})(),D=v?(0,n.encodeEventTopics)({abi:E,eventName:v,args:b}):[],{unsubscribe:j}=await P.subscribe({params:["logs",{address:w,topics:D}],onData(F){var z;if(!_)return;const q=F.result;try{const{eventName:W,args:K}=(0,r.decodeEventLog)({abi:E,data:q.data,topics:q.topics,strict:M}),re=(0,s.formatLog)(q,{args:K,eventName:W});O.onLogs([re])}catch(W){let K,re;if(W instanceof t.DecodeLogDataMismatch||W instanceof t.DecodeLogTopicsMismatch){if(M)return;K=W.abiItem.name,re=(z=W.abiItem.inputs)==null?void 0:z.some(X=>!("name"in X&&X.name))}const Q=(0,s.formatLog)(q,{args:re?[]:{},eventName:K});O.onLogs([Q])}},onError(F){var q;(q=O.onError)==null||q.call(O,F)}});R=j,_||R()}catch(P){C==null||C(P)}})(),()=>R()))})()}return pA}var ab={},Af={},TH;function Gd(){if(TH)return Af;TH=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.AccountTypeNotSupportedError=Af.AccountNotFoundError=void 0;const t=yt();class e extends t.BaseError{constructor({docsPath:s}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:s,docsSlug:"account",name:"AccountNotFoundError"})}}Af.AccountNotFoundError=e;class r extends t.BaseError{constructor({docsPath:s,metaMessages:i,type:o}){super(`Account type "${o}" is not supported.`,{docsPath:s,metaMessages:i,name:"AccountTypeNotSupportedError"})}}return Af.AccountTypeNotSupportedError=r,Af}var wA={},EA={},PH;function jE(){if(PH)return EA;PH=1,Object.defineProperty(EA,"__esModule",{value:!0}),EA.assertCurrentChain=e;const t=RE();function e({chain:r,currentChainId:n}){if(!r)throw new t.ChainNotFoundError;if(n!==r.id)throw new t.ChainMismatchError({chain:r,currentChainId:n})}return EA}var vA={},xH;function w4(){if(xH)return vA;xH=1,Object.defineProperty(vA,"__esModule",{value:!0}),vA.sendRawTransaction=t;async function t(e,{serializedTransaction:r}){return e.request({method:"eth_sendRawTransaction",params:[r]},{retryCount:0})}return vA}var OH;function e6(){if(OH)return wA;OH=1,Object.defineProperty(wA,"__esModule",{value:!0}),wA.sendTransaction=m;const t=Gr(),e=Gd(),r=yt(),n=_E(),s=jE(),i=IE(),o=qd(),a=wa(),c=Yt(),u=Ap(),l=Ea(),d=zd(),f=TE(),h=w4(),p=new u.LruMap(128);async function m(y,E){var R,O,P,D;const{account:w=y.account,chain:b=y.chain,accessList:g,authorizationList:v,blobs:A,data:C,gas:x,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,type:U,value:I,...S}=E;if(typeof w>"u")throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const _=w?(0,t.parseAccount)(w):null;try{(0,l.assertRequest)(E);const j=await(async()=>{if(E.to)return E.to;if(E.to!==null&&v&&v.length>0)return await(0,n.recoverAuthorizationAddress)({authorization:v[0]}).catch(()=>{throw new r.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if((_==null?void 0:_.type)==="json-rpc"||_===null){let F;b!==null&&(F=await(0,c.getAction)(y,d.getChainId,"getChainId")({}),(0,s.assertCurrentChain)({currentChainId:F,chain:b}));const q=(P=(O=(R=y.chain)==null?void 0:R.formatters)==null?void 0:O.transactionRequest)==null?void 0:P.format,W=(q||a.formatTransactionRequest)({...(0,o.extract)(S,{format:q}),accessList:g,account:_,authorizationList:v,blobs:A,chainId:F,data:C,gas:x,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,to:j,type:U,value:I},"sendTransaction"),K=p.get(y.uid),re=K?"wallet_sendTransaction":"eth_sendTransaction";try{return await y.request({method:re,params:[W]},{retryCount:0})}catch(Q){if(K===!1)throw Q;const X=Q;if(X.name==="InvalidInputRpcError"||X.name==="InvalidParamsRpcError"||X.name==="MethodNotFoundRpcError"||X.name==="MethodNotSupportedRpcError")return await y.request({method:"wallet_sendTransaction",params:[W]},{retryCount:0}).then(ie=>(p.set(y.uid,!0),ie)).catch(ie=>{const Y=ie;throw Y.name==="MethodNotFoundRpcError"||Y.name==="MethodNotSupportedRpcError"?(p.set(y.uid,!1),X):Y});throw X}}if((_==null?void 0:_.type)==="local"){const F=await(0,c.getAction)(y,f.prepareTransactionRequest,"prepareTransactionRequest")({account:_,accessList:g,authorizationList:v,blobs:A,chain:b,data:C,gas:x,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,nonceManager:_.nonceManager,parameters:[...f.defaultParameters,"sidecars"],type:U,value:I,...S,to:j}),q=(D=b==null?void 0:b.serializers)==null?void 0:D.transaction,z=await _.signTransaction(F,{serializer:q});return await(0,c.getAction)(y,h.sendRawTransaction,"sendRawTransaction")({serializedTransaction:z})}throw(_==null?void 0:_.type)==="smart"?new e.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new e.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:_==null?void 0:_.type})}catch(j){throw j instanceof e.AccountTypeNotSupportedError?j:(0,i.getTransactionError)(j,{...E,account:_,chain:E.chain||void 0})}}return wA}var RH;function E4(){if(RH)return ab;RH=1,Object.defineProperty(ab,"__esModule",{value:!0}),ab.writeContract=o;const t=Gr(),e=Gd(),r=Ci(),n=Fd(),s=Yt(),i=e6();async function o(a,c){return o.internal(a,i.sendTransaction,"sendTransaction",c)}return(function(a){async function c(u,l,d,f){const{abi:h,account:p=u.account,address:m,args:y,dataSuffix:E,functionName:w,...b}=f;if(typeof p>"u")throw new e.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});const g=p?(0,t.parseAccount)(p):null,v=(0,r.encodeFunctionData)({abi:h,args:y,functionName:w});try{return await(0,s.getAction)(u,l,d)({data:`${v}${E?E.replace("0x",""):""}`,to:m,account:g,...b})}catch(A){throw(0,n.getContractError)(A,{abi:h,address:m,args:y,docsPath:"/docs/contract/writeContract",functionName:w,sender:g==null?void 0:g.address})}}a.internal=c})(o||(ab.writeContract=o={})),ab}var NH;function H3e(){if(NH)return Jp;NH=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.getContract=c,Jp.getFunctionParameters=u,Jp.getEventParameters=l;const t=Yt(),e=W3(),r=Qte(),n=l4(),s=gc(),i=rre(),o=sre(),a=E4();function c({abi:d,address:f,client:h}){const p=h,[m,y]=p?"public"in p&&"wallet"in p?[p.public,p.wallet]:"public"in p?[p.public,void 0]:"wallet"in p?[void 0,p.wallet]:[p,p]:[void 0,void 0],E=m!=null,w=y!=null,b={};let g=!1,v=!1,A=!1;for(const C of d)if(C.type==="function"?C.stateMutability==="view"||C.stateMutability==="pure"?g=!0:v=!0:C.type==="event"&&(A=!0),g&&v&&A)break;return E&&(g&&(b.read=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T);return(0,t.getAction)(m,s.readContract,"readContract")({abi:d,address:f,functionName:x,args:N,...M})}}})),v&&(b.simulate=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T);return(0,t.getAction)(m,i.simulateContract,"simulateContract")({abi:d,address:f,functionName:x,args:N,...M})}}})),A&&(b.createEventFilter=new Proxy({},{get(C,x){return(...T)=>{const N=d.find(B=>B.type==="event"&&B.name===x),{args:M,options:k}=l(T,N);return(0,t.getAction)(m,e.createContractEventFilter,"createContractEventFilter")({abi:d,address:f,eventName:x,args:M,...k})}}}),b.getEvents=new Proxy({},{get(C,x){return(...T)=>{const N=d.find(B=>B.type==="event"&&B.name===x),{args:M,options:k}=l(T,N);return(0,t.getAction)(m,n.getContractEvents,"getContractEvents")({abi:d,address:f,eventName:x,args:M,...k})}}}),b.watchEvent=new Proxy({},{get(C,x){return(...T)=>{const N=d.find(B=>B.type==="event"&&B.name===x),{args:M,options:k}=l(T,N);return(0,t.getAction)(m,o.watchContractEvent,"watchContractEvent")({abi:d,address:f,eventName:x,args:M,...k})}}}))),w&&v&&(b.write=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T);return(0,t.getAction)(y,a.writeContract,"writeContract")({abi:d,address:f,functionName:x,args:N,...M})}}})),(E||w)&&v&&(b.estimateGas=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T),k=m??y;return(0,t.getAction)(k,r.estimateContractGas,"estimateContractGas")({abi:d,address:f,functionName:x,args:N,...M,account:M.account??y.account})}}})),b.address=f,b.abi=d,b}function u(d){const f=d.length&&Array.isArray(d[0]),h=f?d[0]:[],p=(f?d[1]:d[0])??{};return{args:h,options:p}}function l(d,f){let h=!1;Array.isArray(d[0])?h=!0:d.length===1?h=f.inputs.some(y=>y.indexed):d.length===2&&(h=!0);const p=h?d[0]:void 0,m=(h?d[1]:d[0])??{};return{args:p,options:m}}return Jp}var a0={},cb={},BH;function ire(){if(BH)return cb;BH=1,Object.defineProperty(cb,"__esModule",{value:!0}),cb.BundleFailedError=void 0;const t=yt();class e extends t.BaseError{constructor(n){super(`Call bundle failed with status: ${n.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=n}}return cb.BundleFailedError=e,cb}var _A={},kH;function t6(){if(kH)return _A;kH=1,Object.defineProperty(_A,"__esModule",{value:!0}),_A.withRetry=e;const t=b4();function e(r,{delay:n=100,retryCount:s=2,shouldRetry:i=()=>!0}={}){return new Promise((o,a)=>{const c=async({count:u=0}={})=>{const l=async({error:d})=>{const f=typeof n=="function"?n({count:u,error:d}):n;f&&await(0,t.wait)(f),c({count:u+1})};try{const d=await r();o(d)}catch(d){if(u<s&&await i({count:u,error:d}))return l({error:d});a(d)}};c()})}return _A}var AA={},yO={},jH;function DE(){return jH||(jH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransactionReceipt=t.receiptStatuses=void 0,t.formatTransactionReceipt=i;const e=tn(),r=CE(),n=Zu(),s=Rg();t.receiptStatuses={"0x0":"reverted","0x1":"success"};function i(o,a){const c={...o,blockNumber:o.blockNumber?BigInt(o.blockNumber):null,contractAddress:o.contractAddress?o.contractAddress:null,cumulativeGasUsed:o.cumulativeGasUsed?BigInt(o.cumulativeGasUsed):null,effectiveGasPrice:o.effectiveGasPrice?BigInt(o.effectiveGasPrice):null,gasUsed:o.gasUsed?BigInt(o.gasUsed):null,logs:o.logs?o.logs.map(u=>(0,n.formatLog)(u)):null,to:o.to?o.to:null,transactionIndex:o.transactionIndex?(0,e.hexToNumber)(o.transactionIndex):null,status:o.status?t.receiptStatuses[o.status]:null,type:o.type?s.transactionType[o.type]||o.type:null};return o.blobGasPrice&&(c.blobGasPrice=BigInt(o.blobGasPrice)),o.blobGasUsed&&(c.blobGasUsed=BigInt(o.blobGasUsed)),c}t.defineTransactionReceipt=(0,r.defineFormatter)("transactionReceipt",i)})(yO)),yO}var bO={},DH;function v4(){return DH||(DH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fallbackTransactionErrorMagicIdentifier=t.fallbackMagicIdentifier=void 0,t.sendCalls=l;const e=Gr(),r=yt(),n=Ld(),s=Ci(),i=Dn(),o=tn(),a=ze(),c=IE(),u=e6();t.fallbackMagicIdentifier="0x5792579257925792579257925792579257925792579257925792579257925792",t.fallbackTransactionErrorMagicIdentifier=(0,a.numberToHex)(0,{size:32});async function l(d,f){const{account:h=d.account,capabilities:p,chain:m=d.chain,experimental_fallback:y,experimental_fallbackDelay:E=32,forceAtomic:w=!1,id:b,version:g="2.0.0"}=f,v=h?(0,e.parseAccount)(h):null,A=f.calls.map(C=>{const x=C,T=x.abi?(0,s.encodeFunctionData)({abi:x.abi,functionName:x.functionName,args:x.args}):x.data;return{data:x.dataSuffix&&T?(0,i.concat)([T,x.dataSuffix]):T,to:x.to,value:x.value?(0,a.numberToHex)(x.value):void 0}});try{const C=await d.request({method:"wallet_sendCalls",params:[{atomicRequired:w,calls:A,capabilities:p,chainId:(0,a.numberToHex)(m.id),from:v==null?void 0:v.address,id:b,version:g}]},{retryCount:0});return typeof C=="string"?{id:C}:C}catch(C){const x=C;if(y&&(x.name==="MethodNotFoundRpcError"||x.name==="MethodNotSupportedRpcError"||x.name==="UnknownRpcError"||x.details.toLowerCase().includes("does not exist / is not available")||x.details.toLowerCase().includes("missing or invalid. request()")||x.details.toLowerCase().includes("did not match any variant of untagged enum")||x.details.toLowerCase().includes("account upgraded to unsupported contract")||x.details.toLowerCase().includes("eip-7702 not supported")||x.details.toLowerCase().includes("unsupported wc_ method")||x.details.toLowerCase().includes("feature toggled misconfigured")||x.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(p&&Object.values(p).some(B=>!B.optional)){const B="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new n.UnsupportedNonOptionalCapabilityError(new r.BaseError(B,{details:B}))}if(w&&A.length>1){const k="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new n.AtomicityNotSupportedError(new r.BaseError(k,{details:k}))}const T=[];for(const k of A){const B=(0,u.sendTransaction)(d,{account:v,chain:m,data:k.data,to:k.to,value:k.value?(0,o.hexToBigInt)(k.value):void 0});T.push(B),E>0&&await new Promise(U=>setTimeout(U,E))}const N=await Promise.allSettled(T);if(N.every(k=>k.status==="rejected"))throw N[0].reason;const M=N.map(k=>k.status==="fulfilled"?k.value:t.fallbackTransactionErrorMagicIdentifier);return{id:(0,i.concat)([...M,(0,a.numberToHex)(m.id,{size:32}),t.fallbackMagicIdentifier])}}throw(0,c.getTransactionError)(C,{...f,account:v,chain:f.chain})}}})(bO)),bO}var MH;function ore(){if(MH)return AA;MH=1,Object.defineProperty(AA,"__esModule",{value:!0}),AA.getCallsStatus=i;const t=xo(),e=Gu(),r=tn(),n=DE(),s=v4();async function i(o,a){async function c(y){if(y.endsWith(s.fallbackMagicIdentifier.slice(2))){const w=(0,e.trim)((0,t.sliceHex)(y,-64,-32)),b=(0,t.sliceHex)(y,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(b.map(A=>s.fallbackTransactionErrorMagicIdentifier.slice(2)!==A?o.request({method:"eth_getTransactionReceipt",params:[`0x${A}`]},{dedupe:!0}):void 0)),v=g.some(A=>A===null)?100:g.every(A=>(A==null?void 0:A.status)==="0x1")?200:g.every(A=>(A==null?void 0:A.status)==="0x0")?500:600;return{atomic:!1,chainId:(0,r.hexToNumber)(w),receipts:g.filter(Boolean),status:v,version:"2.0.0"}}return o.request({method:"wallet_getCallsStatus",params:[y]})}const{atomic:u=!1,chainId:l,receipts:d,version:f="2.0.0",...h}=await c(a.id),[p,m]=(()=>{const y=h.status;return y>=100&&y<200?["pending",y]:y>=200&&y<300?["success",y]:y>=300&&y<700?["failure",y]:y==="CONFIRMED"?["success",200]:y==="PENDING"?["pending",100]:[void 0,y]})();return{...h,atomic:u,chainId:l?(0,r.hexToNumber)(l):void 0,receipts:(d==null?void 0:d.map(y=>({...y,blockNumber:(0,r.hexToBigInt)(y.blockNumber),gasUsed:(0,r.hexToBigInt)(y.gasUsed),status:n.receiptStatuses[y.status]})))??[],statusCode:m,status:p,version:f}}return AA}var UH;function _4(){if(UH)return a0;UH=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.WaitForCallsStatusTimeoutError=void 0,a0.waitForCallsStatus=u;const t=yt(),e=ire(),r=Yt(),n=xp(),s=Ng(),i=f4(),o=t6(),a=Xn(),c=ore();async function u(d,f){const{id:h,pollingInterval:p=d.pollingInterval,status:m=({statusCode:N})=>N===200||N>=300,retryCount:y=4,retryDelay:E=({count:N})=>~~(1<<N)*200,timeout:w=6e4,throwOnFailure:b=!1}=f,g=(0,a.stringify)(["waitForCallsStatus",d.uid,h]),{promise:v,resolve:A,reject:C}=(0,i.withResolvers)();let x;const T=(0,n.observe)(g,{resolve:A,reject:C},N=>{const M=(0,s.poll)(async()=>{const k=B=>{clearTimeout(x),M(),B(),T()};try{const B=await(0,o.withRetry)(async()=>{const U=await(0,r.getAction)(d,c.getCallsStatus,"getCallsStatus")({id:h});if(b&&U.status==="failure")throw new e.BundleFailedError(U);return U},{retryCount:y,delay:E});if(!m(B))return;k(()=>N.resolve(B))}catch(B){k(()=>N.reject(B))}},{interval:p,emitOnBegin:!0});return M});return x=w?setTimeout(()=>{T(),clearTimeout(x),C(new l({id:h}))},w):void 0,await v}class l extends t.BaseError{constructor({id:f}){super(`Timed out while waiting for call bundle with id "${f}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}return a0.WaitForCallsStatusTimeoutError=l,a0}var ub={},CA={},LH;function are(){if(LH)return CA;LH=1,Object.defineProperty(CA,"__esModule",{value:!0}),CA.uid=n;const t=256;let e=t,r;function n(s=11){if(!r||e+s>t*2){r="",e=0;for(let i=0;i<t;i++)r+=(256+Math.random()*256|0).toString(16).substring(1)}return r.substring(e,e+++s)}return CA}var FH;function r6(){if(FH)return ub;FH=1,Object.defineProperty(ub,"__esModule",{value:!0}),ub.createClient=r,ub.rpcSchema=n;const t=Gr(),e=are();function r(s){const{batch:i,chain:o,ccipRead:a,key:c="base",name:u="Base Client",type:l="base"}=s,d=s.experimental_blockTag??(typeof(o==null?void 0:o.experimental_preconfirmationTime)=="number"?"pending":void 0),f=(o==null?void 0:o.blockTime)??12e3,h=Math.min(Math.max(Math.floor(f/2),500),4e3),p=s.pollingInterval??h,m=s.cacheTime??p,y=s.account?(0,t.parseAccount)(s.account):void 0,{config:E,request:w,value:b}=s.transport({account:y,chain:o,pollingInterval:p}),g={...E,...b},v={account:y,batch:i,cacheTime:m,ccipRead:a,chain:o,key:c,name:u,pollingInterval:p,request:w,transport:g,type:l,uid:(0,e.uid)(),...d?{experimental_blockTag:d}:{}};function A(C){return x=>{const T=x(C);for(const M in v)delete T[M];const N={...C,...T};return Object.assign(N,{extend:A(N)})}}return Object.assign(v,{extend:A(v)})}function n(){return null}return ub}var SA={},IA={},TA={},PA={},HH;function A4(){if(HH)return PA;HH=1,Object.defineProperty(PA,"__esModule",{value:!0}),PA.isNullUniversalResolverError=r;const t=yt(),e=Ud();function r(n){var i,o,a,c,u,l;if(!(n instanceof t.BaseError))return!1;const s=n.walk(d=>d instanceof e.ContractFunctionRevertedError);return s instanceof e.ContractFunctionRevertedError?((i=s.data)==null?void 0:i.errorName)==="HttpError"||((o=s.data)==null?void 0:o.errorName)==="ResolverError"||((a=s.data)==null?void 0:a.errorName)==="ResolverNotContract"||((c=s.data)==null?void 0:c.errorName)==="ResolverNotFound"||((u=s.data)==null?void 0:u.errorName)==="ReverseAddressMismatch"||((l=s.data)==null?void 0:l.errorName)==="UnsupportedResolverProfile":!1}return PA}var xA={},OA={},qH;function cre(){if(qH)return OA;qH=1,Object.defineProperty(OA,"__esModule",{value:!0}),OA.encodedLabelToLabelhash=e;const t=zs();function e(r){if(r.length!==66||r.indexOf("[")!==0||r.indexOf("]")!==65)return null;const n=`0x${r.slice(1,65)}`;return(0,t.isHex)(n)?n:null}return OA}var zH;function C4(){if(zH)return xA;zH=1,Object.defineProperty(xA,"__esModule",{value:!0}),xA.namehash=i;const t=Dn(),e=Cr(),r=ze(),n=_i(),s=cre();function i(o){let a=new Uint8Array(32).fill(0);if(!o)return(0,r.bytesToHex)(a);const c=o.split(".");for(let u=c.length-1;u>=0;u-=1){const l=(0,s.encodedLabelToLabelhash)(c[u]),d=l?(0,e.toBytes)(l):(0,n.keccak256)((0,e.stringToBytes)(c[u]),"bytes");a=(0,n.keccak256)((0,t.concat)([a,d]),"bytes")}return(0,r.bytesToHex)(a)}return xA}var RA={},NA={},$H;function q3e(){if($H)return NA;$H=1,Object.defineProperty(NA,"__esModule",{value:!0}),NA.encodeLabelhash=t;function t(e){return`[${e.slice(2)}]`}return NA}var BA={},VH;function ure(){if(VH)return BA;VH=1,Object.defineProperty(BA,"__esModule",{value:!0}),BA.labelhash=s;const t=Cr(),e=ze(),r=_i(),n=cre();function s(i){const o=new Uint8Array(32).fill(0);return i?(0,n.encodedLabelToLabelhash)(i)||(0,r.keccak256)((0,t.stringToBytes)(i)):(0,e.bytesToHex)(o)}return BA}var GH;function S4(){if(GH)return RA;GH=1,Object.defineProperty(RA,"__esModule",{value:!0}),RA.packetToBytes=n;const t=Cr(),e=q3e(),r=ure();function n(s){const i=s.replace(/^\.|\.$/gm,"");if(i.length===0)return new Uint8Array(1);const o=new Uint8Array((0,t.stringToBytes)(i).byteLength+2);let a=0;const c=i.split(".");for(let u=0;u<c.length;u++){let l=(0,t.stringToBytes)(c[u]);l.byteLength>255&&(l=(0,t.stringToBytes)((0,e.encodeLabelhash)((0,r.labelhash)(c[u])))),o[a]=l.length,o.set(l,a+1),a+=l.length+1}return o.byteLength!==a+1?o.slice(0,a+1):o}return RA}var WH;function z3e(){if(WH)return TA;WH=1,Object.defineProperty(TA,"__esModule",{value:!0}),TA.getEnsAddress=f;const t=$d(),e=Yu(),r=Ci(),n=Vd(),s=Gu(),i=ze(),o=A4(),a=JP(),c=C4(),u=S4(),l=Yt(),d=gc();async function f(h,p){const{blockNumber:m,blockTag:y,coinType:E,name:w,gatewayUrls:b,strict:g}=p,{chain:v}=h,A=(()=>{if(p.universalResolverAddress)return p.universalResolverAddress;if(!v)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,n.getChainContractAddress)({blockNumber:m,chain:v,contract:"ensUniversalResolver"})})(),C=v==null?void 0:v.ensTlds;if(C&&!C.some(T=>w.endsWith(T)))return null;const x=E!=null?[(0,c.namehash)(w),BigInt(E)]:[(0,c.namehash)(w)];try{const T=(0,r.encodeFunctionData)({abi:t.addressResolverAbi,functionName:"addr",args:x}),N={address:A,abi:t.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,i.toHex)((0,u.packetToBytes)(w)),T,b??[a.localBatchGatewayUrl]],blockNumber:m,blockTag:y},k=await(0,l.getAction)(h,d.readContract,"readContract")(N);if(k[0]==="0x")return null;const B=(0,e.decodeFunctionResult)({abi:t.addressResolverAbi,args:x,functionName:"addr",data:k[0]});return B==="0x"||(0,s.trim)(B)==="0x00"?null:B}catch(T){if(g)throw T;if((0,o.isNullUniversalResolverError)(T))return null;throw T}}return TA}var kA={},jA={},Mo={},Ni={},KH;function I4(){if(KH)return Ni;KH=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.EnsInvalidChainIdError=Ni.EnsAvatarUnsupportedNamespaceError=Ni.EnsAvatarUriResolutionError=Ni.EnsAvatarInvalidNftUriError=Ni.EnsAvatarInvalidMetadataError=void 0;const t=yt();class e extends t.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}Ni.EnsAvatarInvalidMetadataError=e;class r extends t.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}Ni.EnsAvatarInvalidNftUriError=r;class n extends t.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}Ni.EnsAvatarUriResolutionError=n;class s extends t.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}Ni.EnsAvatarUnsupportedNamespaceError=s;class i extends t.BaseError{constructor({chainId:a}){super(`Invalid ENSIP-11 chainId: ${a}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}return Ni.EnsInvalidChainIdError=i,Ni}var ZH;function $3e(){if(ZH)return Mo;ZH=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.isImageUri=o,Mo.getGateway=a,Mo.resolveAvatarUri=c,Mo.getJsonImage=u,Mo.getMetadataAvatarUri=l,Mo.parseAvatarUri=d,Mo.parseNftUri=f,Mo.getNftTokenUri=h;const t=gc(),e=I4(),r=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,n=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,s=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,i=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function o(p){try{const m=await fetch(p,{method:"HEAD"});if(m.status===200){const y=m.headers.get("content-type");return y==null?void 0:y.startsWith("image/")}return!1}catch(m){return typeof m=="object"&&typeof m.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(y=>{const E=new Image;E.onload=()=>{y(!0)},E.onerror=()=>{y(!1)},E.src=p})}}function a(p,m){return p?p.endsWith("/")?p.slice(0,-1):p:m}function c({uri:p,gatewayUrls:m}){const y=s.test(p);if(y)return{uri:p,isOnChain:!0,isEncoded:y};const E=a(m==null?void 0:m.ipfs,"https://ipfs.io"),w=a(m==null?void 0:m.arweave,"https://arweave.net"),b=p.match(r),{protocol:g,subpath:v,target:A,subtarget:C=""}=(b==null?void 0:b.groups)||{},x=g==="ipns:/"||v==="ipns/",T=g==="ipfs:/"||v==="ipfs/"||n.test(p);if(p.startsWith("http")&&!x&&!T){let M=p;return m!=null&&m.arweave&&(M=p.replace(/https:\/\/arweave.net/g,m==null?void 0:m.arweave)),{uri:M,isOnChain:!1,isEncoded:!1}}if((x||T)&&A)return{uri:`${E}/${x?"ipns":"ipfs"}/${A}${C}`,isOnChain:!1,isEncoded:!1};if(g==="ar:/"&&A)return{uri:`${w}/${A}${C||""}`,isOnChain:!1,isEncoded:!1};let N=p.replace(i,"");if(N.startsWith("<svg")&&(N=`data:image/svg+xml;base64,${btoa(N)}`),N.startsWith("data:")||N.startsWith("{"))return{uri:N,isOnChain:!0,isEncoded:!1};throw new e.EnsAvatarUriResolutionError({uri:p})}function u(p){if(typeof p!="object"||!("image"in p)&&!("image_url"in p)&&!("image_data"in p))throw new e.EnsAvatarInvalidMetadataError({data:p});return p.image||p.image_url||p.image_data}async function l({gatewayUrls:p,uri:m}){try{const y=await fetch(m).then(w=>w.json());return await d({gatewayUrls:p,uri:u(y)})}catch{throw new e.EnsAvatarUriResolutionError({uri:m})}}async function d({gatewayUrls:p,uri:m}){const{uri:y,isOnChain:E}=c({uri:m,gatewayUrls:p});if(E||await o(y))return y;throw new e.EnsAvatarUriResolutionError({uri:m})}function f(p){let m=p;m.startsWith("did:nft:")&&(m=m.replace("did:nft:","").replace(/_/g,"/"));const[y,E,w]=m.split("/"),[b,g]=y.split(":"),[v,A]=E.split(":");if(!b||b.toLowerCase()!=="eip155")throw new e.EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!g)throw new e.EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!A)throw new e.EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!w)throw new e.EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!v)throw new e.EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:Number.parseInt(g,10),namespace:v.toLowerCase(),contractAddress:A,tokenID:w}}async function h(p,{nft:m}){if(m.namespace==="erc721")return(0,t.readContract)(p,{address:m.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(m.tokenID)]});if(m.namespace==="erc1155")return(0,t.readContract)(p,{address:m.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(m.tokenID)]});throw new e.EnsAvatarUnsupportedNamespaceError({namespace:m.namespace})}return Mo}var YH;function V3e(){if(YH)return jA;YH=1,Object.defineProperty(jA,"__esModule",{value:!0}),jA.parseAvatarRecord=e;const t=$3e();async function e(n,{gatewayUrls:s,record:i}){return/eip155:/i.test(i)?r(n,{gatewayUrls:s,record:i}):(0,t.parseAvatarUri)({uri:i,gatewayUrls:s})}async function r(n,{gatewayUrls:s,record:i}){const o=(0,t.parseNftUri)(i),a=await(0,t.getNftTokenUri)(n,{nft:o}),{uri:c,isOnChain:u,isEncoded:l}=(0,t.resolveAvatarUri)({uri:a,gatewayUrls:s});if(u&&(c.includes("data:application/json;base64,")||c.startsWith("{"))){const f=l?atob(c.replace("data:application/json;base64,","")):c,h=JSON.parse(f);return(0,t.parseAvatarUri)({uri:(0,t.getJsonImage)(h),gatewayUrls:s})}let d=o.tokenID;return o.namespace==="erc1155"&&(d=d.replace("0x","").padStart(64,"0")),(0,t.getMetadataAvatarUri)({gatewayUrls:s,uri:c.replace(/(?:0x)?{id}/,d)})}return jA}var DA={},JH;function lre(){if(JH)return DA;JH=1,Object.defineProperty(DA,"__esModule",{value:!0}),DA.getEnsText=d;const t=$d(),e=Yu(),r=Ci(),n=Vd(),s=ze(),i=A4(),o=JP(),a=C4(),c=S4(),u=Yt(),l=gc();async function d(f,h){const{blockNumber:p,blockTag:m,key:y,name:E,gatewayUrls:w,strict:b}=h,{chain:g}=f,v=(()=>{if(h.universalResolverAddress)return h.universalResolverAddress;if(!g)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,n.getChainContractAddress)({blockNumber:p,chain:g,contract:"ensUniversalResolver"})})(),A=g==null?void 0:g.ensTlds;if(A&&!A.some(C=>E.endsWith(C)))return null;try{const C={address:v,abi:t.universalResolverResolveAbi,args:[(0,s.toHex)((0,c.packetToBytes)(E)),(0,r.encodeFunctionData)({abi:t.textResolverAbi,functionName:"text",args:[(0,a.namehash)(E),y]}),w??[o.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:p,blockTag:m},T=await(0,u.getAction)(f,l.readContract,"readContract")(C);if(T[0]==="0x")return null;const N=(0,e.decodeFunctionResult)({abi:t.textResolverAbi,functionName:"text",data:T[0]});return N===""?null:N}catch(C){if(b)throw C;if((0,i.isNullUniversalResolverError)(C))return null;throw C}}return DA}var QH;function G3e(){if(QH)return kA;QH=1,Object.defineProperty(kA,"__esModule",{value:!0}),kA.getEnsAvatar=n;const t=V3e(),e=Yt(),r=lre();async function n(s,{blockNumber:i,blockTag:o,assetGatewayUrls:a,name:c,gatewayUrls:u,strict:l,universalResolverAddress:d}){const f=await(0,e.getAction)(s,r.getEnsText,"getEnsText")({blockNumber:i,blockTag:o,key:"avatar",name:c,universalResolverAddress:d,gatewayUrls:u,strict:l});if(!f)return null;try{return await(0,t.parseAvatarRecord)(s,{record:f,gatewayUrls:a})}catch{return null}}return kA}var MA={},XH;function W3e(){if(XH)return MA;XH=1,Object.defineProperty(MA,"__esModule",{value:!0}),MA.getEnsName=o;const t=$d(),e=Vd(),r=A4(),n=JP(),s=Yt(),i=gc();async function o(a,c){const{address:u,blockNumber:l,blockTag:d,coinType:f=60n,gatewayUrls:h,strict:p}=c,{chain:m}=a,y=(()=>{if(c.universalResolverAddress)return c.universalResolverAddress;if(!m)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:l,chain:m,contract:"ensUniversalResolver"})})();try{const E={address:y,abi:t.universalResolverReverseAbi,args:[u,f,h??[n.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:l,blockTag:d},w=(0,s.getAction)(a,i.readContract,"readContract"),[b]=await w(E);return b||null}catch(E){if(p)throw E;if((0,r.isNullUniversalResolverError)(E))return null;throw E}}return MA}var UA={},eq;function K3e(){if(eq)return UA;eq=1,Object.defineProperty(UA,"__esModule",{value:!0}),UA.getEnsResolver=i;const t=Vd(),e=ze(),r=S4(),n=Yt(),s=gc();async function i(o,a){const{blockNumber:c,blockTag:u,name:l}=a,{chain:d}=o,f=(()=>{if(a.universalResolverAddress)return a.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,t.getChainContractAddress)({blockNumber:c,chain:d,contract:"ensUniversalResolver"})})(),h=d==null?void 0:d.ensTlds;if(h&&!h.some(m=>l.endsWith(m)))throw new Error(`${l} is not a valid ENS TLD (${h==null?void 0:h.join(", ")}) for chain "${d.name}" (id: ${d.id}).`);const[p]=await(0,n.getAction)(o,s.readContract,"readContract")({address:f,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,e.toHex)((0,r.packetToBytes)(l))],blockNumber:c,blockTag:u});return p}return UA}var LA={},tq;function dre(){if(tq)return LA;tq=1,Object.defineProperty(LA,"__esModule",{value:!0}),LA.createAccessList=o;const t=Gr(),e=ze(),r=d4(),n=qd(),s=wa(),i=Ea();async function o(a,c){var C,x,T;const{account:u=a.account,blockNumber:l,blockTag:d="latest",blobs:f,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:w,to:b,value:g,...v}=c,A=u?(0,t.parseAccount)(u):void 0;try{(0,i.assertRequest)(c);const M=(typeof l=="bigint"?(0,e.numberToHex)(l):void 0)||d,k=(T=(x=(C=a.chain)==null?void 0:C.formatters)==null?void 0:x.transactionRequest)==null?void 0:T.format,U=(k||s.formatTransactionRequest)({...(0,n.extract)(v,{format:k}),account:A,blobs:f,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:w,to:b,value:g},"createAccessList"),I=await a.request({method:"eth_createAccessList",params:[U,M]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(N){throw(0,r.getCallError)(N,{...c,account:A,chain:a.chain})}}return LA}var FA={},rq;function Z3e(){if(rq)return FA;rq=1,Object.defineProperty(FA,"__esModule",{value:!0}),FA.createBlockFilter=e;const t=FP();async function e(r){const n=(0,t.createFilterRequestScope)(r,{method:"eth_newBlockFilter"}),s=await r.request({method:"eth_newBlockFilter"});return{id:s,request:n(s),type:"block"}}return FA}var HA={},nq;function fre(){if(nq)return HA;nq=1,Object.defineProperty(HA,"__esModule",{value:!0}),HA.createEventFilter=n;const t=Sp(),e=ze(),r=FP();async function n(s,{address:i,args:o,event:a,events:c,fromBlock:u,strict:l,toBlock:d}={}){const f=c??(a?[a]:void 0),h=(0,r.createFilterRequestScope)(s,{method:"eth_newFilter"});let p=[];f&&(p=[f.flatMap(E=>(0,t.encodeEventTopics)({abi:[E],eventName:E.name,args:o}))],a&&(p=p[0]));const m=await s.request({method:"eth_newFilter",params:[{address:i,fromBlock:typeof u=="bigint"?(0,e.numberToHex)(u):u,toBlock:typeof d=="bigint"?(0,e.numberToHex)(d):d,...p.length?{topics:p}:{}}]});return{abi:f,args:o,eventName:a?a.name:void 0,fromBlock:u,id:m,request:h(m),strict:!!l,toBlock:d,type:"event"}}return HA}var qA={},sq;function hre(){if(sq)return qA;sq=1,Object.defineProperty(qA,"__esModule",{value:!0}),qA.createPendingTransactionFilter=e;const t=FP();async function e(r){const n=(0,t.createFilterRequestScope)(r,{method:"eth_newPendingTransactionFilter"}),s=await r.request({method:"eth_newPendingTransactionFilter"});return{id:s,request:n(s),type:"transaction"}}return qA}var zA={},iq;function Y3e(){if(iq)return zA;iq=1,Object.defineProperty(zA,"__esModule",{value:!0}),zA.getBalance=e;const t=ze();async function e(r,{address:n,blockNumber:s,blockTag:i=r.experimental_blockTag??"latest"}){const o=typeof s=="bigint"?(0,t.numberToHex)(s):void 0,a=await r.request({method:"eth_getBalance",params:[n,o||i]});return BigInt(a)}return zA}var $A={},oq;function J3e(){if(oq)return $A;oq=1,Object.defineProperty($A,"__esModule",{value:!0}),$A.getBlobBaseFee=t;async function t(e){const r=await e.request({method:"eth_blobBaseFee"});return BigInt(r)}return $A}var VA={},aq;function Q3e(){if(aq)return VA;aq=1,Object.defineProperty(VA,"__esModule",{value:!0}),VA.getBlockTransactionCount=r;const t=tn(),e=ze();async function r(n,{blockHash:s,blockNumber:i,blockTag:o="latest"}={}){const a=i!==void 0?(0,e.numberToHex)(i):void 0;let c;return s?c=await n.request({method:"eth_getBlockTransactionCountByHash",params:[s]},{dedupe:!0}):c=await n.request({method:"eth_getBlockTransactionCountByNumber",params:[a||o]},{dedupe:!!a}),(0,t.hexToNumber)(c)}return VA}var GA={},cq;function pre(){if(cq)return GA;cq=1,Object.defineProperty(GA,"__esModule",{value:!0}),GA.getCode=e;const t=ze();async function e(r,{address:n,blockNumber:s,blockTag:i="latest"}){const o=s!==void 0?(0,t.numberToHex)(s):void 0,a=await r.request({method:"eth_getCode",params:[n,o||i]},{dedupe:!!o});if(a!=="0x")return a}return GA}var WA={},lb={},uq;function X3e(){if(uq)return lb;uq=1,Object.defineProperty(lb,"__esModule",{value:!0}),lb.Eip712DomainNotFoundError=void 0;const t=yt();class e extends t.BaseError{constructor({address:n}){super(`No EIP-712 domain found on contract "${n}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${n}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}return lb.Eip712DomainNotFoundError=e,lb}var lq;function e4e(){if(lq)return WA;lq=1,Object.defineProperty(WA,"__esModule",{value:!0}),WA.getEip712Domain=n;const t=X3e(),e=Yt(),r=gc();async function n(i,o){const{address:a,factory:c,factoryData:u}=o;try{const[l,d,f,h,p,m,y]=await(0,e.getAction)(i,r.readContract,"readContract")({abi:s,address:a,functionName:"eip712Domain",factory:c,factoryData:u});return{domain:{name:d,version:f,chainId:Number(h),verifyingContract:p,salt:m},extensions:y,fields:l}}catch(l){const d=l;throw d.name==="ContractFunctionExecutionError"&&d.cause.name==="ContractFunctionZeroDataError"?new t.Eip712DomainNotFoundError({address:a}):d}}const s=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];return WA}var KA={},ZA={},dq;function t4e(){if(dq)return ZA;dq=1,Object.defineProperty(ZA,"__esModule",{value:!0}),ZA.formatFeeHistory=t;function t(e){var r;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(r=e.reward)==null?void 0:r.map(n=>n.map(s=>BigInt(s)))}}return ZA}var fq;function r4e(){if(fq)return KA;fq=1,Object.defineProperty(KA,"__esModule",{value:!0}),KA.getFeeHistory=r;const t=ze(),e=t4e();async function r(n,{blockCount:s,blockNumber:i,blockTag:o="latest",rewardPercentiles:a}){const c=typeof i=="bigint"?(0,t.numberToHex)(i):void 0,u=await n.request({method:"eth_feeHistory",params:[(0,t.numberToHex)(s),c||o,a]},{dedupe:!!c});return(0,e.formatFeeHistory)(u)}return KA}var YA={},hq;function n4e(){if(hq)return YA;hq=1,Object.defineProperty(YA,"__esModule",{value:!0}),YA.getFilterLogs=r;const t=xE(),e=Zu();async function r(n,{filter:s}){const i=s.strict??!1,a=(await s.request({method:"eth_getFilterLogs",params:[s.id]})).map(c=>(0,e.formatLog)(c));return s.abi?(0,t.parseEventLogs)({abi:s.abi,logs:a,strict:i}):a}return YA}var JA={},QA={},wO={},XA={},pq;function mre(){if(pq)return XA;pq=1,Object.defineProperty(XA,"__esModule",{value:!0}),XA.encodePacked=a;const t=Hr(),e=ga(),r=Ai(),n=Dn(),s=Dd(),i=ze(),o=LP();function a(u,l){if(u.length!==l.length)throw new t.AbiEncodingLengthMismatchError({expectedLength:u.length,givenLength:l.length});const d=[];for(let f=0;f<u.length;f++){const h=u[f],p=l[f];d.push(c(h,p))}return(0,n.concatHex)(d)}function c(u,l,d=!1){if(u==="address"){const m=l;if(!(0,r.isAddress)(m))throw new e.InvalidAddressError({address:m});return(0,s.pad)(m.toLowerCase(),{size:d?32:null})}if(u==="string")return(0,i.stringToHex)(l);if(u==="bytes")return l;if(u==="bool")return(0,s.pad)((0,i.boolToHex)(l),{size:d?32:1});const f=u.match(o.integerRegex);if(f){const[m,y,E="256"]=f,w=Number.parseInt(E,10)/8;return(0,i.numberToHex)(l,{size:d?32:w,signed:y==="int"})}const h=u.match(o.bytesRegex);if(h){const[m,y]=h;if(Number.parseInt(y,10)!==(l.length-2)/2)throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(y,10),givenSize:(l.length-2)/2});return(0,s.pad)(l,{dir:"right",size:d?32:null})}const p=u.match(o.arrayRegex);if(p&&Array.isArray(l)){const[m,y]=p,E=[];for(let w=0;w<l.length;w++)E.push(c(y,l[w],!0));return E.length===0?"0x":(0,n.concatHex)(E)}throw new t.UnsupportedPackedAbiType(u)}return XA}var c0={},e2={},mq;function T4(){if(mq)return e2;mq=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.isBytes=t;function t(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}return e2}var gq;function gre(){if(gq)return c0;gq=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.getContractAddress=c,c0.getCreateAddress=u,c0.getCreate2Address=l;const t=Dn(),e=T4(),r=Dd(),n=xo(),s=Cr(),i=vE(),o=_i(),a=to();function c(d){return d.opcode==="CREATE2"?l(d):u(d)}function u(d){const f=(0,s.toBytes)((0,a.getAddress)(d.from));let h=(0,s.toBytes)(d.nonce);return h[0]===0&&(h=new Uint8Array([])),(0,a.getAddress)(`0x${(0,o.keccak256)((0,i.toRlp)([f,h],"bytes")).slice(26)}`)}function l(d){const f=(0,s.toBytes)((0,a.getAddress)(d.from)),h=(0,r.pad)((0,e.isBytes)(d.salt)?d.salt:(0,s.toBytes)(d.salt),{size:32}),p="bytecodeHash"in d?(0,e.isBytes)(d.bytecodeHash)?d.bytecodeHash:(0,s.toBytes)(d.bytecodeHash):(0,o.keccak256)(d.bytecode,"bytes");return(0,a.getAddress)((0,n.slice)((0,o.keccak256)((0,t.concat)([(0,s.toBytes)("0xff"),f,h,p])),12))}return c0}var t2={},db={},vl={},yq;function n6(){if(yq)return vl;yq=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.assertTransactionEIP7702=d,vl.assertTransactionEIP4844=f,vl.assertTransactionEIP1559=h,vl.assertTransactionEIP2930=p,vl.assertTransactionLegacy=m;const t=Zte(),e=t4(),r=ga(),n=yt(),s=Yte(),i=RE(),o=Ku(),a=Ai(),c=vi(),u=xo(),l=tn();function d(y){const{authorizationList:E}=y;if(E)for(const w of E){const{chainId:b}=w,g=w.address;if(!(0,a.isAddress)(g))throw new r.InvalidAddressError({address:g});if(b<0)throw new i.InvalidChainIdError({chainId:b})}h(y)}function f(y){const{blobVersionedHashes:E}=y;if(E){if(E.length===0)throw new s.EmptyBlobError;for(const w of E){const b=(0,c.size)(w),g=(0,l.hexToNumber)((0,u.slice)(w,0,1));if(b!==32)throw new s.InvalidVersionedHashSizeError({hash:w,size:b});if(g!==t.versionedHashVersionKzg)throw new s.InvalidVersionedHashVersionError({hash:w,version:g})}}h(y)}function h(y){const{chainId:E,maxPriorityFeePerGas:w,maxFeePerGas:b,to:g}=y;if(E<=0)throw new i.InvalidChainIdError({chainId:E});if(g&&!(0,a.isAddress)(g))throw new r.InvalidAddressError({address:g});if(b&&b>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:b});if(w&&b&&w>b)throw new o.TipAboveFeeCapError({maxFeePerGas:b,maxPriorityFeePerGas:w})}function p(y){const{chainId:E,maxPriorityFeePerGas:w,gasPrice:b,maxFeePerGas:g,to:v}=y;if(E<=0)throw new i.InvalidChainIdError({chainId:E});if(v&&!(0,a.isAddress)(v))throw new r.InvalidAddressError({address:v});if(w||g)throw new n.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(b&&b>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:b})}function m(y){const{chainId:E,maxPriorityFeePerGas:w,gasPrice:b,maxFeePerGas:g,to:v}=y;if(v&&!(0,a.isAddress)(v))throw new r.InvalidAddressError({address:v});if(typeof E<"u"&&E<=0)throw new i.InvalidChainIdError({chainId:E});if(w||g)throw new n.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(b&&b>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:b})}return vl}var r2={},bq;function P4(){if(bq)return r2;bq=1,Object.defineProperty(r2,"__esModule",{value:!0}),r2.serializeAccessList=n;const t=ga(),e=Si(),r=Ai();function n(s){if(!s||s.length===0)return[];const i=[];for(let o=0;o<s.length;o++){const{address:a,storageKeys:c}=s[o];for(let u=0;u<c.length;u++)if(c[u].length-2!==64)throw new e.InvalidStorageKeySizeError({storageKey:c[u]});if(!(0,r.isAddress)(a,{strict:!1}))throw new t.InvalidAddressError({address:a});i.push([a,c])}return i}return r2}var wq;function s6(){if(wq)return db;wq=1,Object.defineProperty(db,"__esModule",{value:!0}),db.serializeTransaction=h,db.toYParitySignatureArray=b;const t=Si(),e=yre(),r=GP(),n=WP(),s=o4(),i=KP(),o=Dn(),a=Gu(),c=ze(),u=vE(),l=n6(),d=ZP(),f=P4();function h(g,v){const A=(0,d.getTransactionType)(g);return A==="eip1559"?y(g,v):A==="eip2930"?E(g,v):A==="eip4844"?m(g,v):A==="eip7702"?p(g,v):w(g,v)}function p(g,v){const{authorizationList:A,chainId:C,gas:x,nonce:T,to:N,value:M,maxFeePerGas:k,maxPriorityFeePerGas:B,accessList:U,data:I}=g;(0,l.assertTransactionEIP7702)(g);const S=(0,f.serializeAccessList)(U),_=(0,e.serializeAuthorizationList)(A);return(0,o.concatHex)(["0x04",(0,u.toRlp)([(0,c.numberToHex)(C),T?(0,c.numberToHex)(T):"0x",B?(0,c.numberToHex)(B):"0x",k?(0,c.numberToHex)(k):"0x",x?(0,c.numberToHex)(x):"0x",N??"0x",M?(0,c.numberToHex)(M):"0x",I??"0x",S,_,...b(g,v)])])}function m(g,v){const{chainId:A,gas:C,nonce:x,to:T,value:N,maxFeePerBlobGas:M,maxFeePerGas:k,maxPriorityFeePerGas:B,accessList:U,data:I}=g;(0,l.assertTransactionEIP4844)(g);let S=g.blobVersionedHashes,_=g.sidecars;if(g.blobs&&(typeof S>"u"||typeof _>"u")){const F=typeof g.blobs[0]=="string"?g.blobs:g.blobs.map(W=>(0,c.bytesToHex)(W)),q=g.kzg,z=(0,r.blobsToCommitments)({blobs:F,kzg:q});if(typeof S>"u"&&(S=(0,s.commitmentsToVersionedHashes)({commitments:z})),typeof _>"u"){const W=(0,n.blobsToProofs)({blobs:F,commitments:z,kzg:q});_=(0,i.toBlobSidecars)({blobs:F,commitments:z,proofs:W})}}const R=(0,f.serializeAccessList)(U),O=[(0,c.numberToHex)(A),x?(0,c.numberToHex)(x):"0x",B?(0,c.numberToHex)(B):"0x",k?(0,c.numberToHex)(k):"0x",C?(0,c.numberToHex)(C):"0x",T??"0x",N?(0,c.numberToHex)(N):"0x",I??"0x",R,M?(0,c.numberToHex)(M):"0x",S??[],...b(g,v)],P=[],D=[],j=[];if(_)for(let F=0;F<_.length;F++){const{blob:q,commitment:z,proof:W}=_[F];P.push(q),D.push(z),j.push(W)}return(0,o.concatHex)(["0x03",_?(0,u.toRlp)([O,P,D,j]):(0,u.toRlp)(O)])}function y(g,v){const{chainId:A,gas:C,nonce:x,to:T,value:N,maxFeePerGas:M,maxPriorityFeePerGas:k,accessList:B,data:U}=g;(0,l.assertTransactionEIP1559)(g);const I=(0,f.serializeAccessList)(B),S=[(0,c.numberToHex)(A),x?(0,c.numberToHex)(x):"0x",k?(0,c.numberToHex)(k):"0x",M?(0,c.numberToHex)(M):"0x",C?(0,c.numberToHex)(C):"0x",T??"0x",N?(0,c.numberToHex)(N):"0x",U??"0x",I,...b(g,v)];return(0,o.concatHex)(["0x02",(0,u.toRlp)(S)])}function E(g,v){const{chainId:A,gas:C,data:x,nonce:T,to:N,value:M,accessList:k,gasPrice:B}=g;(0,l.assertTransactionEIP2930)(g);const U=(0,f.serializeAccessList)(k),I=[(0,c.numberToHex)(A),T?(0,c.numberToHex)(T):"0x",B?(0,c.numberToHex)(B):"0x",C?(0,c.numberToHex)(C):"0x",N??"0x",M?(0,c.numberToHex)(M):"0x",x??"0x",U,...b(g,v)];return(0,o.concatHex)(["0x01",(0,u.toRlp)(I)])}function w(g,v){const{chainId:A=0,gas:C,data:x,nonce:T,to:N,value:M,gasPrice:k}=g;(0,l.assertTransactionLegacy)(g);let B=[T?(0,c.numberToHex)(T):"0x",k?(0,c.numberToHex)(k):"0x",C?(0,c.numberToHex)(C):"0x",N??"0x",M?(0,c.numberToHex)(M):"0x",x??"0x"];if(v){const U=(()=>{if(v.v>=35n)return(v.v-35n)/2n>0?v.v:27n+(v.v===35n?0n:1n);if(A>0)return BigInt(A*2)+BigInt(35n+v.v-27n);const _=27n+(v.v===27n?0n:1n);if(v.v!==_)throw new t.InvalidLegacyVError({v:v.v});return _})(),I=(0,a.trim)(v.r),S=(0,a.trim)(v.s);B=[...B,(0,c.numberToHex)(U),I==="0x00"?"0x":I,S==="0x00"?"0x":S]}else A>0&&(B=[...B,(0,c.numberToHex)(A),"0x","0x"]);return(0,u.toRlp)(B)}function b(g,v){const A=v??g,{v:C,yParity:x}=A;if(typeof A.r>"u")return[];if(typeof A.s>"u")return[];if(typeof C>"u"&&typeof x>"u")return[];const T=(0,a.trim)(A.r),N=(0,a.trim)(A.s);return[typeof x=="number"?x?(0,c.numberToHex)(1):"0x":C===0n?"0x":C===1n?(0,c.numberToHex)(1):C===27n?"0x":(0,c.numberToHex)(1),T==="0x00"?"0x":T,N==="0x00"?"0x":N]}return db}var Eq;function yre(){if(Eq)return t2;Eq=1,Object.defineProperty(t2,"__esModule",{value:!0}),t2.serializeAuthorizationList=r;const t=ze(),e=s6();function r(n){if(!n||n.length===0)return[];const s=[];for(const i of n){const{chainId:o,nonce:a,...c}=i,u=i.address;s.push([o?(0,t.toHex)(o):"0x",u,a?(0,t.toHex)(a):"0x",...(0,e.toYParitySignatureArray)({},c)])}return s}return t2}var n2={},vq;function bre(){if(vq)return n2;vq=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.verifyAuthorization=n;const t=to(),e=va(),r=_E();async function n({address:s,authorization:i,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(s),await(0,r.recoverAuthorizationAddress)({authorization:i,signature:o}))}return n2}var fb={},EO={},_q;function s4e(){return _q||(_q=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseCache=void 0,t.withDedupe=r;const e=Ap();t.promiseCache=new e.LruMap(8192);function r(n,{enabled:s=!0,id:i}){if(!s||!i)return n();if(t.promiseCache.get(i))return t.promiseCache.get(i);const o=n().finally(()=>t.promiseCache.delete(i));return t.promiseCache.set(i,o),o}})(EO)),EO}var Aq;function wre(){if(Aq)return fb;Aq=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.buildRequest=a,fb.shouldRetry=c;const t=yt(),e=ba(),r=Ld(),n=ze(),s=s4e(),i=t6(),o=Xn();function a(u,l={}){return async(d,f={})=>{var g;const{dedupe:h=!1,methods:p,retryDelay:m=150,retryCount:y=3,uid:E}={...l,...f},{method:w}=d;if((g=p==null?void 0:p.exclude)!=null&&g.includes(w))throw new r.MethodNotSupportedRpcError(new Error("method not supported"),{method:w});if(p!=null&&p.include&&!p.include.includes(w))throw new r.MethodNotSupportedRpcError(new Error("method not supported"),{method:w});const b=h?(0,n.stringToHex)(`${E}.${(0,o.stringify)(d)}`):void 0;return(0,s.withDedupe)(()=>(0,i.withRetry)(async()=>{try{return await u(d)}catch(v){const A=v;switch(A.code){case r.ParseRpcError.code:throw new r.ParseRpcError(A);case r.InvalidRequestRpcError.code:throw new r.InvalidRequestRpcError(A);case r.MethodNotFoundRpcError.code:throw new r.MethodNotFoundRpcError(A,{method:d.method});case r.InvalidParamsRpcError.code:throw new r.InvalidParamsRpcError(A);case r.InternalRpcError.code:throw new r.InternalRpcError(A);case r.InvalidInputRpcError.code:throw new r.InvalidInputRpcError(A);case r.ResourceNotFoundRpcError.code:throw new r.ResourceNotFoundRpcError(A);case r.ResourceUnavailableRpcError.code:throw new r.ResourceUnavailableRpcError(A);case r.TransactionRejectedRpcError.code:throw new r.TransactionRejectedRpcError(A);case r.MethodNotSupportedRpcError.code:throw new r.MethodNotSupportedRpcError(A,{method:d.method});case r.LimitExceededRpcError.code:throw new r.LimitExceededRpcError(A);case r.JsonRpcVersionUnsupportedError.code:throw new r.JsonRpcVersionUnsupportedError(A);case r.UserRejectedRequestError.code:throw new r.UserRejectedRequestError(A);case r.UnauthorizedProviderError.code:throw new r.UnauthorizedProviderError(A);case r.UnsupportedProviderMethodError.code:throw new r.UnsupportedProviderMethodError(A);case r.ProviderDisconnectedError.code:throw new r.ProviderDisconnectedError(A);case r.ChainDisconnectedError.code:throw new r.ChainDisconnectedError(A);case r.SwitchChainError.code:throw new r.SwitchChainError(A);case r.UnsupportedNonOptionalCapabilityError.code:throw new r.UnsupportedNonOptionalCapabilityError(A);case r.UnsupportedChainIdError.code:throw new r.UnsupportedChainIdError(A);case r.DuplicateIdError.code:throw new r.DuplicateIdError(A);case r.UnknownBundleIdError.code:throw new r.UnknownBundleIdError(A);case r.BundleTooLargeError.code:throw new r.BundleTooLargeError(A);case r.AtomicReadyWalletRejectedUpgradeError.code:throw new r.AtomicReadyWalletRejectedUpgradeError(A);case r.AtomicityNotSupportedError.code:throw new r.AtomicityNotSupportedError(A);case 5e3:throw new r.UserRejectedRequestError(A);default:throw v instanceof t.BaseError?v:new r.UnknownRpcError(A)}}},{delay:({count:v,error:A})=>{var C;if(A&&A instanceof e.HttpRequestError){const x=(C=A==null?void 0:A.headers)==null?void 0:C.get("Retry-After");if(x!=null&&x.match(/\d/))return Number.parseInt(x,10)*1e3}return~~(1<<v)*m},retryCount:y,shouldRetry:({error:v})=>c(v)}),{enabled:h,id:b})}}function c(u){return"code"in u&&typeof u.code=="number"?u.code===-1||u.code===r.LimitExceededRpcError.code||u.code===r.InternalRpcError.code:u instanceof e.HttpRequestError&&u.status?u.status===403||u.status===408||u.status===413||u.status===429||u.status===500||u.status===502||u.status===503||u.status===504:!0}return fb}var s2={},Cq;function Ere(){if(Cq)return s2;Cq=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.defineChain=t;function t(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}return s2}var i2={},Sq;function vre(){if(Sq)return i2;Sq=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.extractChain=t;function t({chains:e,id:r}){return e.find(n=>n.id===r)}return i2}var o2={},Iq;function x4(){if(Iq)return o2;Iq=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.fromRlp=i;const t=yt(),e=xg(),r=gE(),n=Cr(),s=ze();function i(u,l="hex"){const d=(()=>{if(typeof u=="string"){if(u.length>3&&u.length%2!==0)throw new e.InvalidHexValueError(u);return(0,n.hexToBytes)(u)}return u})(),f=(0,r.createCursor)(d,{recursiveReadLimit:Number.POSITIVE_INFINITY});return o(f,l)}function o(u,l="hex"){if(u.bytes.length===0)return l==="hex"?(0,s.bytesToHex)(u.bytes):u.bytes;const d=u.readByte();if(d<128&&u.decrementPosition(1),d<192){const h=a(u,d,128),p=u.readBytes(h);return l==="hex"?(0,s.bytesToHex)(p):p}const f=a(u,d,192);return c(u,f,l)}function a(u,l,d){if(d===128&&l<128)return 1;if(l<=d+55)return l-d;if(l===d+55+1)return u.readUint8();if(l===d+55+2)return u.readUint16();if(l===d+55+3)return u.readUint24();if(l===d+55+4)return u.readUint32();throw new t.BaseError("Invalid RLP prefix")}function c(u,l,d){const f=u.position,h=[];for(;u.position-f<l;)h.push(o(u,d));return h}return o2}var a2={},Tq;function O4(){if(Tq)return a2;Tq=1,Object.defineProperty(a2,"__esModule",{value:!0}),a2.isHash=r;const t=zs(),e=vi();function r(n){return(0,t.isHex)(n)&&(0,e.size)(n)===32}return a2}var c2={},Cf={},Cs={},Pq;function i4e(){if(Pq)return Cs;Pq=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.ripemd160=Cs.RIPEMD160=Cs.md5=Cs.MD5=Cs.sha1=Cs.SHA1=void 0;const t=Fte(),e=ma(),r=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),n=new Uint32Array(80);class s extends t.HashMD{constructor(){super(64,20,8,!1),this.A=r[0]|0,this.B=r[1]|0,this.C=r[2]|0,this.D=r[3]|0,this.E=r[4]|0}get(){const{A:T,B:N,C:M,D:k,E:B}=this;return[T,N,M,k,B]}set(T,N,M,k,B){this.A=T|0,this.B=N|0,this.C=M|0,this.D=k|0,this.E=B|0}process(T,N){for(let S=0;S<16;S++,N+=4)n[S]=T.getUint32(N,!1);for(let S=16;S<80;S++)n[S]=(0,e.rotl)(n[S-3]^n[S-8]^n[S-14]^n[S-16],1);let{A:M,B:k,C:B,D:U,E:I}=this;for(let S=0;S<80;S++){let _,R;S<20?(_=(0,t.Chi)(k,B,U),R=1518500249):S<40?(_=k^B^U,R=1859775393):S<60?(_=(0,t.Maj)(k,B,U),R=2400959708):(_=k^B^U,R=3395469782);const O=(0,e.rotl)(M,5)+_+I+R+n[S]|0;I=U,U=B,B=(0,e.rotl)(k,30),k=M,M=O}M=M+this.A|0,k=k+this.B|0,B=B+this.C|0,U=U+this.D|0,I=I+this.E|0,this.set(M,k,B,U,I)}roundClean(){(0,e.clean)(n)}destroy(){this.set(0,0,0,0,0),(0,e.clean)(this.buffer)}}Cs.SHA1=s,Cs.sha1=(0,e.createHasher)(()=>new s);const i=Math.pow(2,32),o=Array.from({length:64},(x,T)=>Math.floor(i*Math.abs(Math.sin(T+1)))),a=r.slice(0,4),c=new Uint32Array(16);class u extends t.HashMD{constructor(){super(64,16,8,!0),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0}get(){const{A:T,B:N,C:M,D:k}=this;return[T,N,M,k]}set(T,N,M,k){this.A=T|0,this.B=N|0,this.C=M|0,this.D=k|0}process(T,N){for(let I=0;I<16;I++,N+=4)c[I]=T.getUint32(N,!0);let{A:M,B:k,C:B,D:U}=this;for(let I=0;I<64;I++){let S,_,R;I<16?(S=(0,t.Chi)(k,B,U),_=I,R=[7,12,17,22]):I<32?(S=(0,t.Chi)(U,k,B),_=(5*I+1)%16,R=[5,9,14,20]):I<48?(S=k^B^U,_=(3*I+5)%16,R=[4,11,16,23]):(S=B^(k|~U),_=7*I%16,R=[6,10,15,21]),S=S+M+o[I]+c[_],M=U,U=B,B=k,k=k+(0,e.rotl)(S,R[I%4])}M=M+this.A|0,k=k+this.B|0,B=B+this.C|0,U=U+this.D|0,this.set(M,k,B,U)}roundClean(){(0,e.clean)(c)}destroy(){this.set(0,0,0,0),(0,e.clean)(this.buffer)}}Cs.MD5=u,Cs.md5=(0,e.createHasher)(()=>new u);const l=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),d=Uint8Array.from(new Array(16).fill(0).map((x,T)=>T)),f=d.map(x=>(9*x+5)%16),h=(()=>{const N=[[d],[f]];for(let M=0;M<4;M++)for(let k of N)k.push(k[M].map(B=>l[B]));return N})(),p=h[0],m=h[1],y=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(x=>Uint8Array.from(x)),E=p.map((x,T)=>x.map(N=>y[T][N])),w=m.map((x,T)=>x.map(N=>y[T][N])),b=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),g=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function v(x,T,N,M){return x===0?T^N^M:x===1?T&N|~T&M:x===2?(T|~N)^M:x===3?T&M|N&~M:T^(N|~M)}const A=new Uint32Array(16);class C extends t.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:T,h1:N,h2:M,h3:k,h4:B}=this;return[T,N,M,k,B]}set(T,N,M,k,B){this.h0=T|0,this.h1=N|0,this.h2=M|0,this.h3=k|0,this.h4=B|0}process(T,N){for(let D=0;D<16;D++,N+=4)A[D]=T.getUint32(N,!0);let M=this.h0|0,k=M,B=this.h1|0,U=B,I=this.h2|0,S=I,_=this.h3|0,R=_,O=this.h4|0,P=O;for(let D=0;D<5;D++){const j=4-D,F=b[D],q=g[D],z=p[D],W=m[D],K=E[D],re=w[D];for(let Q=0;Q<16;Q++){const X=(0,e.rotl)(M+v(D,B,I,_)+A[z[Q]]+F,K[Q])+O|0;M=O,O=_,_=(0,e.rotl)(I,10)|0,I=B,B=X}for(let Q=0;Q<16;Q++){const X=(0,e.rotl)(k+v(j,U,S,R)+A[W[Q]]+q,re[Q])+P|0;k=P,P=R,R=(0,e.rotl)(S,10)|0,S=U,U=X}}this.set(this.h1+I+R|0,this.h2+_+P|0,this.h3+O+k|0,this.h4+M+U|0,this.h0+B+S|0)}roundClean(){(0,e.clean)(A)}destroy(){this.destroyed=!0,(0,e.clean)(this.buffer),this.set(0,0,0,0,0)}}return Cs.RIPEMD160=C,Cs.ripemd160=(0,e.createHasher)(()=>new C),Cs}var xq;function _re(){if(xq)return Cf;xq=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.ripemd160=Cf.RIPEMD160=void 0;const t=i4e();return Cf.RIPEMD160=t.RIPEMD160,Cf.ripemd160=t.ripemd160,Cf}var Oq;function Are(){if(Oq)return c2;Oq=1,Object.defineProperty(c2,"__esModule",{value:!0}),c2.ripemd160=s;const t=_re(),e=zs(),r=Cr(),n=ze();function s(i,o){const a=o||"hex",c=(0,t.ripemd160)((0,e.isHex)(i,{strict:!1})?(0,r.toBytes)(i):i);return a==="bytes"?c:(0,n.toHex)(c)}return c2}var vO={},Rq;function Cre(){return Rq||(Rq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toEventHash=void 0;var e=UP();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return e.toSignatureHash}})})(vO)),vO}var _O={},Nq;function Sre(){return Nq||(Nq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toEventSignature=void 0;var e=G3();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return e.toSignature}})})(_O)),_O}var AO={},Bq;function Ire(){return Bq||(Bq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toFunctionHash=void 0;var e=UP();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return e.toSignatureHash}})})(AO)),AO}var CO={},kq;function Tre(){return kq||(kq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toFunctionSignature=void 0;var e=G3();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return e.toSignature}})})(CO)),CO}var Sf={},jq;function Pre(){if(jq)return Sf;jq=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.nonceManager=void 0,Sf.createNonceManager=r,Sf.jsonRpc=n;const t=VP(),e=Ap();function r(s){const{source:i}=s,o=new Map,a=new e.LruMap(8192),c=new Map,u=({address:l,chainId:d})=>`${l}.${d}`;return{async consume({address:l,chainId:d,client:f}){const h=u({address:l,chainId:d}),p=this.get({address:l,chainId:d,client:f});this.increment({address:l,chainId:d});const m=await p;return await i.set({address:l,chainId:d},m),a.set(h,m),m},async increment({address:l,chainId:d}){const f=u({address:l,chainId:d}),h=o.get(f)??0;o.set(f,h+1)},async get({address:l,chainId:d,client:f}){const h=u({address:l,chainId:d});let p=c.get(h);return p||(p=(async()=>{try{const y=await i.get({address:l,chainId:d,client:f}),E=a.get(h)??0;return E>0&&y<=E?E+1:(a.delete(h),y)}finally{this.reset({address:l,chainId:d})}})(),c.set(h,p)),(o.get(h)??0)+await p},reset({address:l,chainId:d}){const f=u({address:l,chainId:d});o.delete(f),c.delete(f)}}}function n(){return{async get(s){const{address:i,client:o}=s;return(0,t.getTransactionCount)(o,{address:i,blockTag:"pending"})},set(){}}}return Sf.nonceManager=r({source:n()}),Sf}var u0={},u2={},l2={},Dq;function R4(){if(Dq)return l2;Dq=1,Object.defineProperty(l2,"__esModule",{value:!0}),l2.withTimeout=t;function t(e,{errorInstance:r=new Error("timed out"),timeout:n,signal:s}){return new Promise((i,o)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{s?c.abort():o(r)},n)),i(await e({signal:(c==null?void 0:c.signal)||null}))}catch(c){(c==null?void 0:c.name)==="AbortError"&&o(r),o(c)}finally{clearTimeout(a)}})()})}return l2}var hb={},Mq;function xre(){if(Mq)return hb;Mq=1,Object.defineProperty(hb,"__esModule",{value:!0}),hb.idCache=void 0;function t(){return{current:0,take(){return this.current++},reset(){this.current=0}}}return hb.idCache=t(),hb}var Uq;function N4(){if(Uq)return u2;Uq=1,Object.defineProperty(u2,"__esModule",{value:!0}),u2.getHttpRpcClient=s;const t=ba(),e=R4(),r=Xn(),n=xre();function s(i,o={}){return{async request(a){var E;const{body:c,fetchFn:u=o.fetchFn??fetch,onRequest:l=o.onRequest,onResponse:d=o.onResponse,timeout:f=o.timeout??1e4}=a,h={...o.fetchOptions??{},...a.fetchOptions??{}},{headers:p,method:m,signal:y}=h;try{const w=await(0,e.withTimeout)(async({signal:g})=>{const v={...h,body:Array.isArray(c)?(0,r.stringify)(c.map(T=>({jsonrpc:"2.0",id:T.id??n.idCache.take(),...T}))):(0,r.stringify)({jsonrpc:"2.0",id:c.id??n.idCache.take(),...c}),headers:{"Content-Type":"application/json",...p},method:m||"POST",signal:y||(f>0?g:null)},A=new Request(i,v),C=await(l==null?void 0:l(A,v))??{...v,url:i};return await u(C.url??i,C)},{errorInstance:new t.TimeoutError({body:c,url:i}),timeout:f,signal:!0});d&&await d(w);let b;if((E=w.headers.get("Content-Type"))!=null&&E.startsWith("application/json"))b=await w.json();else{b=await w.text();try{b=JSON.parse(b||"{}")}catch(g){if(w.ok)throw g;b={error:b}}}if(!w.ok)throw new t.HttpRequestError({body:c,details:(0,r.stringify)(b.error)||w.statusText,headers:w.headers,status:w.status,url:i});return b}catch(w){throw w instanceof t.HttpRequestError||w instanceof t.TimeoutError?w:new t.HttpRequestError({body:c,cause:w,url:i})}}}}return u2}var d2={},SO={},Lq;function Ore(){return Lq||(Lq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.socketClientCache=void 0,t.getSocketRpcClient=i;const e=ba(),r=h4(),n=R4(),s=xre();t.socketClientCache=new Map;async function i(o){const{getSocket:a,keepAlive:c=!0,key:u="socket",reconnect:l=!0,url:d}=o,{interval:f=3e4}=typeof c=="object"?c:{},{attempts:h=5,delay:p=2e3}=typeof l=="object"?l:{},m=JSON.stringify({keepAlive:c,key:u,url:d,reconnect:l});let y=t.socketClientCache.get(m);if(y)return y;let E=0;const{schedule:w}=(0,r.createBatchScheduler)({id:m,fn:async()=>{const v=new Map,A=new Map;let C,x,T,N=!1;function M(){if(l&&E<h){if(N)return;N=!0,E++,x==null||x.close(),setTimeout(async()=>{await k().catch(console.error),N=!1},p)}else v.clear(),A.clear()}async function k(){const B=await a({onClose(){var U,I;for(const S of v.values())(U=S.onError)==null||U.call(S,new e.SocketClosedError({url:d}));for(const S of A.values())(I=S.onError)==null||I.call(S,new e.SocketClosedError({url:d}));M()},onError(U){var I,S;C=U;for(const _ of v.values())(I=_.onError)==null||I.call(_,C);for(const _ of A.values())(S=_.onError)==null||S.call(_,C);M()},onOpen(){C=void 0,E=0},onResponse(U){const I=U.method==="eth_subscription",S=I?U.params.subscription:U.id,_=I?A:v,R=_.get(S);R&&R.onResponse(U),I||_.delete(S)}});if(x=B,c&&(T&&clearInterval(T),T=setInterval(()=>{var U;return(U=x.ping)==null?void 0:U.call(x)},f)),l&&A.size>0){const U=A.entries();for(const[I,{onResponse:S,body:_,onError:R}]of U)_&&(A.delete(I),y==null||y.request({body:_,onResponse:S,onError:R}))}return B}return await k(),C=void 0,y={close(){T&&clearInterval(T),x.close(),t.socketClientCache.delete(m)},get socket(){return x},request({body:B,onError:U,onResponse:I}){C&&U&&U(C);const S=B.id??s.idCache.take(),_=R=>{var O;typeof R.id=="number"&&S!==R.id||(B.method==="eth_subscribe"&&typeof R.result=="string"&&A.set(R.result,{onResponse:_,onError:U,body:B}),B.method==="eth_unsubscribe"&&A.delete((O=B.params)==null?void 0:O[0]),I(R))};v.set(S,{onResponse:_,onError:U});try{x.request({body:{jsonrpc:"2.0",id:S,...B}})}catch(R){U==null||U(R)}},requestAsync({body:B,timeout:U=1e4}){return(0,n.withTimeout)(()=>new Promise((I,S)=>this.request({body:B,onError:S,onResponse:I})),{errorInstance:new e.TimeoutError({body:B,url:d}),timeout:U})},requests:v,subscriptions:A,url:d},t.socketClientCache.set(m,y),[y]}}),[b,[g]]=await w();return g}})(SO)),SO}function o4e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const a4e=o4e(),c4e=Object.freeze(Object.defineProperty({__proto__:null,WebSocket:a4e},Symbol.toStringTag,{value:"Module"})),u4e=JK(c4e);var Fq;function B4(){if(Fq)return d2;Fq=1,Object.defineProperty(d2,"__esModule",{value:!0}),d2.getWebSocketRpcClient=r;const t=ba(),e=Ore();async function r(n,s={}){const{keepAlive:i,reconnect:o}=s;return(0,e.getSocketRpcClient)({async getSocket({onClose:a,onError:c,onOpen:u,onResponse:l}){const d=await Promise.resolve().then(()=>u4e).then(y=>y.WebSocket),f=new d(n);function h(){f.removeEventListener("close",h),f.removeEventListener("message",p),f.removeEventListener("error",c),f.removeEventListener("open",u),a()}function p({data:y}){if(!(typeof y=="string"&&y.trim().length===0))try{const E=JSON.parse(y);l(E)}catch(E){c(E)}}f.addEventListener("close",h),f.addEventListener("message",p),f.addEventListener("error",c),f.addEventListener("open",u),f.readyState===d.CONNECTING&&await new Promise((y,E)=>{f&&(f.onopen=y,f.onerror=E)});const{close:m}=f;return Object.assign(f,{close(){m.bind(f)(),h()},ping(){try{if(f.readyState===f.CLOSED||f.readyState===f.CLOSING)throw new t.WebSocketRequestError({url:f.url,cause:new t.SocketClosedError({url:f.url})});const y={jsonrpc:"2.0",id:null,method:"net_version",params:[]};f.send(JSON.stringify(y))}catch(y){c(y)}},request({body:y}){if(f.readyState===f.CLOSED||f.readyState===f.CLOSING)throw new t.WebSocketRequestError({body:y,url:f.url,cause:new t.SocketClosedError({url:f.url})});return f.send(JSON.stringify(y))}})},keepAlive:i,reconnect:o,url:n})}return d2}var Hq;function Rre(){if(Hq)return u0;Hq=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.rpc=void 0,u0.getSocket=s;const t=N4(),e=B4();function r(i,{body:o,onError:a,onResponse:c}){return i.request({body:o,onError:a,onResponse:c}),i}async function n(i,{body:o,timeout:a=1e4}){return i.requestAsync({body:o,timeout:a})}async function s(i){const o=await(0,e.getWebSocketRpcClient)(i);return Object.assign(o.socket,{requests:o.requests,subscriptions:o.subscriptions})}return u0.rpc={http(i,o){return(0,t.getHttpRpcClient)(i).request(o)},webSocket:r,webSocketAsync:n},u0}var f2={},h2={},pb={},qq;function Nre(){return qq||(qq=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.presignMessagePrefix=void 0,pb.presignMessagePrefix=`Ethereum Signed Message:
`),pb}var zq;function Bre(){if(zq)return h2;zq=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.toPrefixedMessage=s;const t=Nre(),e=Dn(),r=vi(),n=ze();function s(i){const o=typeof i=="string"?(0,n.stringToHex)(i):typeof i.raw=="string"?i.raw:(0,n.bytesToHex)(i.raw),a=(0,n.stringToHex)(`${t.presignMessagePrefix}${(0,r.size)(o)}`);return(0,e.concat)([a,o])}return h2}var $q;function ME(){if($q)return f2;$q=1,Object.defineProperty(f2,"__esModule",{value:!0}),f2.hashMessage=r;const t=_i(),e=Bre();function r(n,s){return(0,t.keccak256)((0,e.toPrefixedMessage)(n),s)}return f2}var If={},Tf={},Gc={},Vq;function kre(){if(Vq)return Gc;Vq=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.InvalidStructTypeError=Gc.InvalidPrimaryTypeError=Gc.InvalidDomainError=void 0;const t=Xn(),e=yt();class r extends e.BaseError{constructor({domain:o}){super(`Invalid domain "${(0,t.stringify)(o)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}Gc.InvalidDomainError=r;class n extends e.BaseError{constructor({primaryType:o,types:a}){super(`Invalid primary type \`${o}\` must be one of \`${JSON.stringify(Object.keys(a))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}Gc.InvalidPrimaryTypeError=n;class s extends e.BaseError{constructor({type:o}){super(`Struct type "${o}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}return Gc.InvalidStructTypeError=s,Gc}var Gq;function i6(){if(Gq)return Tf;Gq=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.serializeTypedData=u,Tf.validateTypedData=l,Tf.getTypesForEIP712Domain=d,Tf.domainSeparator=f;const t=Hr(),e=ga(),r=kre(),n=Ai(),s=vi(),i=ze(),o=LP(),a=UE(),c=Xn();function u(p){const{domain:m,message:y,primaryType:E,types:w}=p,b=(A,C)=>{const x={...C};for(const T of A){const{name:N,type:M}=T;M==="address"&&(x[N]=x[N].toLowerCase())}return x},g=w.EIP712Domain?m?b(w.EIP712Domain,m):{}:{},v=(()=>{if(E!=="EIP712Domain")return b(w[E],y)})();return(0,c.stringify)({domain:g,message:v,primaryType:E,types:w})}function l(p){const{domain:m,message:y,primaryType:E,types:w}=p,b=(g,v)=>{for(const A of g){const{name:C,type:x}=A,T=v[C],N=x.match(o.integerRegex);if(N&&(typeof T=="number"||typeof T=="bigint")){const[B,U,I]=N;(0,i.numberToHex)(T,{signed:U==="int",size:Number.parseInt(I,10)/8})}if(x==="address"&&typeof T=="string"&&!(0,n.isAddress)(T))throw new e.InvalidAddressError({address:T});const M=x.match(o.bytesRegex);if(M){const[B,U]=M;if(U&&(0,s.size)(T)!==Number.parseInt(U,10))throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(U,10),givenSize:(0,s.size)(T)})}const k=w[x];k&&(h(x),b(k,T))}};if(w.EIP712Domain&&m){if(typeof m!="object")throw new r.InvalidDomainError({domain:m});b(w.EIP712Domain,m)}if(E!=="EIP712Domain")if(w[E])b(w[E],y);else throw new r.InvalidPrimaryTypeError({primaryType:E,types:w})}function d({domain:p}){return[typeof(p==null?void 0:p.name)=="string"&&{name:"name",type:"string"},(p==null?void 0:p.version)&&{name:"version",type:"string"},(typeof(p==null?void 0:p.chainId)=="number"||typeof(p==null?void 0:p.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(p==null?void 0:p.verifyingContract)&&{name:"verifyingContract",type:"address"},(p==null?void 0:p.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function f({domain:p}){return(0,a.hashDomain)({domain:p,types:{EIP712Domain:d({domain:p})}})}function h(p){if(p==="address"||p==="bool"||p==="string"||p.startsWith("bytes")||p.startsWith("uint")||p.startsWith("int"))throw new r.InvalidStructTypeError({type:p})}return Tf}var Wq;function UE(){if(Wq)return If;Wq=1,Object.defineProperty(If,"__esModule",{value:!0}),If.hashTypedData=i,If.hashDomain=o,If.hashStruct=a,If.encodeType=l;const t=ya(),e=Dn(),r=ze(),n=_i(),s=i6();function i(h){const{domain:p={},message:m,primaryType:y}=h,E={EIP712Domain:(0,s.getTypesForEIP712Domain)({domain:p}),...h.types};(0,s.validateTypedData)({domain:p,message:m,primaryType:y,types:E});const w=["0x1901"];return p&&w.push(o({domain:p,types:E})),y!=="EIP712Domain"&&w.push(a({data:m,primaryType:y,types:E})),(0,n.keccak256)((0,e.concat)(w))}function o({domain:h,types:p}){return a({data:h,primaryType:"EIP712Domain",types:p})}function a({data:h,primaryType:p,types:m}){const y=c({data:h,primaryType:p,types:m});return(0,n.keccak256)(y)}function c({data:h,primaryType:p,types:m}){const y=[{type:"bytes32"}],E=[u({primaryType:p,types:m})];for(const w of m[p]){const[b,g]=f({types:m,name:w.name,type:w.type,value:h[w.name]});y.push(b),E.push(g)}return(0,t.encodeAbiParameters)(y,E)}function u({primaryType:h,types:p}){const m=(0,r.toHex)(l({primaryType:h,types:p}));return(0,n.keccak256)(m)}function l({primaryType:h,types:p}){let m="";const y=d({primaryType:h,types:p});y.delete(h);const E=[h,...Array.from(y).sort()];for(const w of E)m+=`${w}(${p[w].map(({name:b,type:g})=>`${g} ${b}`).join(",")})`;return m}function d({primaryType:h,types:p},m=new Set){const y=h.match(/^\w*/u),E=y==null?void 0:y[0];if(m.has(E)||p[E]===void 0)return m;m.add(E);for(const w of p[E])d({primaryType:w.type,types:p},m);return m}function f({types:h,name:p,type:m,value:y}){if(h[m]!==void 0)return[{type:"bytes32"},(0,n.keccak256)(c({data:y,primaryType:m,types:h}))];if(m==="bytes")return[{type:"bytes32"},(0,n.keccak256)(y)];if(m==="string")return[{type:"bytes32"},(0,n.keccak256)((0,r.toHex)(y))];if(m.lastIndexOf("]")===m.length-1){const E=m.slice(0,m.lastIndexOf("[")),w=y.map(b=>f({name:p,type:E,types:h,value:b}));return[{type:"bytes32"},(0,n.keccak256)((0,t.encodeAbiParameters)(w.map(([b])=>b),w.map(([,b])=>b)))]}return[{type:m},y]}return If}var p2={},Pf={},Kq;function k4(){return Kq||(Kq=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.zeroHash=Pf.erc6492MagicBytes=void 0,Pf.erc6492MagicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",Pf.zeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),Pf}var Zq;function j4(){if(Zq)return p2;Zq=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.isErc6492Signature=r;const t=k4(),e=xo();function r(n){return(0,e.sliceHex)(n,-32)===t.erc6492MagicBytes}return p2}var m2={},mb={},IO={},qr={},TO={},gb={},yb={},Yq;function l4e(){return Yq||(Yq=1,Object.defineProperty(yb,"__esModule",{value:!0}),yb.version=void 0,yb.version="1.2.0"),yb}var Jq;function Bg(){if(Jq)return gb;Jq=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.BaseError=void 0;const t=l4e();class e extends Error{constructor(n,s={}){var c;const i=s.cause instanceof e?s.cause.details:(c=s.cause)!=null&&c.message?s.cause.message:s.details,o=s.cause instanceof e&&s.cause.docsPath||s.docsPath,a=[n||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${t.version}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),s.cause&&(this.cause=s.cause),this.details=i,this.docsPath=o,this.metaMessages=s.metaMessages,this.shortMessage=n}}return gb.BaseError=e,gb}var g2={},Qq;function d4e(){if(Qq)return g2;Qq=1,Object.defineProperty(g2,"__esModule",{value:!0}),g2.narrow=t;function t(e){return e}return g2}var y2={},b2={},w2={},E2={},Ra={},Xq;function o6(){if(Xq)return Ra;Xq=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.isTupleRegex=Ra.integerRegex=Ra.bytesRegex=void 0,Ra.execTyped=t;function t(e,r){const n=e.exec(r);return n==null?void 0:n.groups}return Ra.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ra.integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ra.isTupleRegex=/^\(.+?\).*?$/,Ra}var ez;function jre(){if(ez)return E2;ez=1,Object.defineProperty(E2,"__esModule",{value:!0}),E2.formatAbiParameter=r;const t=o6(),e=/^tuple(?<array>(\[(\d*)\])*)$/;function r(n){let s=n.type;if(e.test(n.type)&&"components"in n){s="(";const i=n.components.length;for(let a=0;a<i;a++){const c=n.components[a];s+=r(c),a<i-1&&(s+=", ")}const o=(0,t.execTyped)(e,n.type);return s+=`)${(o==null?void 0:o.array)??""}`,r({...n,type:s})}return"indexed"in n&&n.indexed&&(s=`${s} indexed`),n.name?`${s} ${n.name}`:s}return E2}var tz;function Dre(){if(tz)return w2;tz=1,Object.defineProperty(w2,"__esModule",{value:!0}),w2.formatAbiParameters=e;const t=jre();function e(r){let n="";const s=r.length;for(let i=0;i<s;i++){const o=r[i];n+=(0,t.formatAbiParameter)(o),i!==s-1&&(n+=", ")}return n}return w2}var rz;function Mre(){if(rz)return b2;rz=1,Object.defineProperty(b2,"__esModule",{value:!0}),b2.formatAbiItem=e;const t=Dre();function e(r){var n;return r.type==="function"?`function ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability&&r.stateMutability!=="nonpayable"?` ${r.stateMutability}`:""}${(n=r.outputs)!=null&&n.length?` returns (${(0,t.formatAbiParameters)(r.outputs)})`:""}`:r.type==="event"?`event ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="error"?`error ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="constructor"?`constructor(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability==="payable"?" payable":""}`:r.type==="fallback"?`fallback() external${r.stateMutability==="payable"?" payable":""}`:"receive() external payable"}return b2}var nz;function f4e(){if(nz)return y2;nz=1,Object.defineProperty(y2,"__esModule",{value:!0}),y2.formatAbi=e;const t=Mre();function e(r){const n=[],s=r.length;for(let i=0;i<s;i++){const o=r[i],a=(0,t.formatAbiItem)(o);n.push(a)}return n}return y2}var v2={},Yr={},sz;function kg(){if(sz)return Yr;sz=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.functionModifiers=Yr.eventModifiers=Yr.modifiers=void 0,Yr.isErrorSignature=r,Yr.execErrorSignature=n,Yr.isEventSignature=i,Yr.execEventSignature=o,Yr.isFunctionSignature=c,Yr.execFunctionSignature=u,Yr.isStructSignature=d,Yr.execStructSignature=f,Yr.isConstructorSignature=p,Yr.execConstructorSignature=m,Yr.isFallbackSignature=E,Yr.execFallbackSignature=w,Yr.isReceiveSignature=g;const t=o6(),e=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function r(v){return e.test(v)}function n(v){return(0,t.execTyped)(e,v)}const s=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function i(v){return s.test(v)}function o(v){return(0,t.execTyped)(s,v)}const a=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function c(v){return a.test(v)}function u(v){return(0,t.execTyped)(a,v)}const l=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function d(v){return l.test(v)}function f(v){return(0,t.execTyped)(l,v)}const h=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function p(v){return h.test(v)}function m(v){return(0,t.execTyped)(h,v)}const y=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function E(v){return y.test(v)}function w(v){return(0,t.execTyped)(y,v)}const b=/^receive\(\) external payable$/;function g(v){return b.test(v)}return Yr.modifiers=new Set(["memory","indexed","storage","calldata"]),Yr.eventModifiers=new Set(["indexed"]),Yr.functionModifiers=new Set(["calldata","memory","storage"]),Yr}var _2={},Wc={},iz;function a6(){if(iz)return Wc;iz=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.UnknownSolidityTypeError=Wc.UnknownTypeError=Wc.InvalidAbiItemError=void 0;const t=Bg();class e extends t.BaseError{constructor({signature:i}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(i,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}Wc.InvalidAbiItemError=e;class r extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}Wc.UnknownTypeError=r;class n extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}return Wc.UnknownSolidityTypeError=n,Wc}var qn={},oz;function LE(){if(oz)return qn;oz=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.InvalidAbiTypeParameterError=qn.InvalidFunctionModifierError=qn.InvalidModifierError=qn.SolidityProtectedKeywordError=qn.InvalidParameterError=qn.InvalidAbiParametersError=qn.InvalidAbiParameterError=void 0;const t=Bg();class e extends t.BaseError{constructor({param:u}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}qn.InvalidAbiParameterError=e;class r extends t.BaseError{constructor({params:u}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}qn.InvalidAbiParametersError=r;class n extends t.BaseError{constructor({param:u}){super("Invalid ABI parameter.",{details:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}qn.InvalidParameterError=n;class s extends t.BaseError{constructor({param:u,name:l}){super("Invalid ABI parameter.",{details:u,metaMessages:[`"${l}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}qn.SolidityProtectedKeywordError=s;class i extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}qn.InvalidModifierError=i;class o extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${d}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}qn.InvalidFunctionModifierError=o;class a extends t.BaseError{constructor({abiParameter:u}){super("Invalid ABI parameter.",{details:JSON.stringify(u,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}return qn.InvalidAbiTypeParameterError=a,qn}var Kc={},az;function D4(){if(az)return Kc;az=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.InvalidStructSignatureError=Kc.UnknownSignatureError=Kc.InvalidSignatureError=void 0;const t=Bg();class e extends t.BaseError{constructor({signature:i,type:o}){super(`Invalid ${o} signature.`,{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}Kc.InvalidSignatureError=e;class r extends t.BaseError{constructor({signature:i}){super("Unknown signature.",{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}Kc.UnknownSignatureError=r;class n extends t.BaseError{constructor({signature:i}){super("Invalid struct signature.",{details:i,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}return Kc.InvalidStructSignatureError=n,Kc}var bb={},cz;function Ure(){if(cz)return bb;cz=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.CircularReferenceError=void 0;const t=Bg();class e extends t.BaseError{constructor({type:n}){super("Circular reference detected.",{metaMessages:[`Struct "${n}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}return bb.CircularReferenceError=e,bb}var Zs={},wb={},uz;function Lre(){if(uz)return wb;uz=1,Object.defineProperty(wb,"__esModule",{value:!0}),wb.InvalidParenthesisError=void 0;const t=Bg();class e extends t.BaseError{constructor({current:n,depth:s}){super("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${s>0?"opening":"closing"} parentheses.`],details:`Depth "${s}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}return wb.InvalidParenthesisError=e,wb}var l0={},lz;function h4e(){if(lz)return l0;lz=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.parameterCache=void 0,l0.getParameterCacheKey=t;function t(e,r,n){let s="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const a of i[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;s+=`(${i[0]}{${o}})`}return r?`${r}:${e}${s}`:`${e}${s}`}return l0.parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),l0}var dz;function fg(){if(dz)return Zs;dz=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.parseSignature=a,Zs.parseFunctionSignature=c,Zs.parseEventSignature=u,Zs.parseErrorSignature=l,Zs.parseConstructorSignature=d,Zs.parseFallbackSignature=f,Zs.parseAbiParameter=y,Zs.splitParameters=E,Zs.isSolidityType=w,Zs.isSolidityKeyword=g,Zs.isValidDataLocation=v;const t=o6(),e=a6(),r=LE(),n=D4(),s=Lre(),i=h4e(),o=kg();function a(A,C={}){if((0,o.isFunctionSignature)(A))return c(A,C);if((0,o.isEventSignature)(A))return u(A,C);if((0,o.isErrorSignature)(A))return l(A,C);if((0,o.isConstructorSignature)(A))return d(A,C);if((0,o.isFallbackSignature)(A))return f(A);if((0,o.isReceiveSignature)(A))return{type:"receive",stateMutability:"payable"};throw new n.UnknownSignatureError({signature:A})}function c(A,C={}){const x=(0,o.execFunctionSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"function"});const T=E(x.parameters),N=[],M=T.length;for(let B=0;B<M;B++)N.push(y(T[B],{modifiers:o.functionModifiers,structs:C,type:"function"}));const k=[];if(x.returns){const B=E(x.returns),U=B.length;for(let I=0;I<U;I++)k.push(y(B[I],{modifiers:o.functionModifiers,structs:C,type:"function"}))}return{name:x.name,type:"function",stateMutability:x.stateMutability??"nonpayable",inputs:N,outputs:k}}function u(A,C={}){const x=(0,o.execEventSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"event"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{modifiers:o.eventModifiers,structs:C,type:"event"}));return{name:x.name,type:"event",inputs:N}}function l(A,C={}){const x=(0,o.execErrorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"error"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"error"}));return{name:x.name,type:"error",inputs:N}}function d(A,C={}){const x=(0,o.execConstructorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"constructor"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"constructor"}));return{type:"constructor",stateMutability:x.stateMutability??"nonpayable",inputs:N}}function f(A){const C=(0,o.execFallbackSignature)(A);if(!C)throw new n.InvalidSignatureError({signature:A,type:"fallback"});return{type:"fallback",stateMutability:C.stateMutability??"nonpayable"}}const h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m=/^u?int$/;function y(A,C){var _,R;const x=(0,i.getParameterCacheKey)(A,C==null?void 0:C.type,C==null?void 0:C.structs);if(i.parameterCache.has(x))return i.parameterCache.get(x);const T=t.isTupleRegex.test(A),N=(0,t.execTyped)(T?p:h,A);if(!N)throw new r.InvalidParameterError({param:A});if(N.name&&g(N.name))throw new r.SolidityProtectedKeywordError({param:A,name:N.name});const M=N.name?{name:N.name}:{},k=N.modifier==="indexed"?{indexed:!0}:{},B=(C==null?void 0:C.structs)??{};let U,I={};if(T){U="tuple";const O=E(N.type),P=[],D=O.length;for(let j=0;j<D;j++)P.push(y(O[j],{structs:B}));I={components:P}}else if(N.type in B)U="tuple",I={components:B[N.type]};else if(m.test(N.type))U=`${N.type}256`;else if(N.type==="address payable")U="address";else if(U=N.type,(C==null?void 0:C.type)!=="struct"&&!w(U))throw new e.UnknownSolidityTypeError({type:U});if(N.modifier){if(!((R=(_=C==null?void 0:C.modifiers)==null?void 0:_.has)!=null&&R.call(_,N.modifier)))throw new r.InvalidModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier});if(o.functionModifiers.has(N.modifier)&&!v(U,!!N.array))throw new r.InvalidFunctionModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier})}const S={type:`${U}${N.array??""}`,...M,...k,...I};return i.parameterCache.set(x,S),S}function E(A,C=[],x="",T=0){const N=A.trim().length;for(let M=0;M<N;M++){const k=A[M],B=A.slice(M+1);switch(k){case",":return T===0?E(B,[...C,x.trim()]):E(B,C,`${x}${k}`,T);case"(":return E(B,C,`${x}${k}`,T+1);case")":return E(B,C,`${x}${k}`,T-1);default:return E(B,C,`${x}${k}`,T)}}if(x==="")return C;if(T!==0)throw new s.InvalidParenthesisError({current:x,depth:T});return C.push(x.trim()),C}function w(A){return A==="address"||A==="bool"||A==="function"||A==="string"||t.bytesRegex.test(A)||t.integerRegex.test(A)}const b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function g(A){return A==="address"||A==="bool"||A==="function"||A==="string"||A==="tuple"||t.bytesRegex.test(A)||t.integerRegex.test(A)||b.test(A)}function v(A,C){return C||A==="bytes"||A==="string"||A==="tuple"}return Zs}var fz;function c6(){if(fz)return _2;fz=1,Object.defineProperty(_2,"__esModule",{value:!0}),_2.parseStructs=a;const t=o6(),e=a6(),r=LE(),n=D4(),s=Ure(),i=kg(),o=fg();function a(l){const d={},f=l.length;for(let y=0;y<f;y++){const E=l[y];if(!(0,i.isStructSignature)(E))continue;const w=(0,i.execStructSignature)(E);if(!w)throw new n.InvalidSignatureError({signature:E,type:"struct"});const b=w.properties.split(";"),g=[],v=b.length;for(let A=0;A<v;A++){const x=b[A].trim();if(!x)continue;const T=(0,o.parseAbiParameter)(x,{type:"struct"});g.push(T)}if(!g.length)throw new n.InvalidStructSignatureError({signature:E});d[w.name]=g}const h={},p=Object.entries(d),m=p.length;for(let y=0;y<m;y++){const[E,w]=p[y];h[E]=u(w,d)}return h}const c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function u(l,d,f=new Set){const h=[],p=l.length;for(let m=0;m<p;m++){const y=l[m];if(t.isTupleRegex.test(y.type))h.push(y);else{const w=(0,t.execTyped)(c,y.type);if(!(w!=null&&w.type))throw new r.InvalidAbiTypeParameterError({abiParameter:y});const{array:b,type:g}=w;if(g in d){if(f.has(g))throw new s.CircularReferenceError({type:g});h.push({...y,type:`tuple${b??""}`,components:u(d[g]??[],d,new Set([...f,g]))})}else if((0,o.isSolidityType)(g))h.push(y);else throw new e.UnknownTypeError({type:g})}}return h}return _2}var hz;function p4e(){if(hz)return v2;hz=1,Object.defineProperty(v2,"__esModule",{value:!0}),v2.parseAbi=n;const t=kg(),e=c6(),r=fg();function n(s){const i=(0,e.parseStructs)(s),o=[],a=s.length;for(let c=0;c<a;c++){const u=s[c];(0,t.isStructSignature)(u)||o.push((0,r.parseSignature)(u,i))}return o}return v2}var A2={},pz;function m4e(){if(pz)return A2;pz=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.parseAbiItem=s;const t=a6(),e=kg(),r=c6(),n=fg();function s(i){let o;if(typeof i=="string")o=(0,n.parseSignature)(i);else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseSignature)(l,a);break}}}if(!o)throw new t.InvalidAbiItemError({signature:i});return o}return A2}var C2={},mz;function g4e(){if(mz)return C2;mz=1,Object.defineProperty(C2,"__esModule",{value:!0}),C2.parseAbiParameter=s;const t=LE(),e=kg(),r=c6(),n=fg();function s(i){let o;if(typeof i=="string")o=(0,n.parseAbiParameter)(i,{modifiers:e.modifiers});else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseAbiParameter)(l,{modifiers:e.modifiers,structs:a});break}}}if(!o)throw new t.InvalidAbiParameterError({param:i});return o}return C2}var S2={},gz;function y4e(){if(gz)return S2;gz=1,Object.defineProperty(S2,"__esModule",{value:!0}),S2.parseAbiParameters=i;const t=LE(),e=kg(),r=c6(),n=fg(),s=fg();function i(o){const a=[];if(typeof o=="string"){const c=(0,n.splitParameters)(o),u=c.length;for(let l=0;l<u;l++)a.push((0,s.parseAbiParameter)(c[l],{modifiers:e.modifiers}))}else{const c=(0,r.parseStructs)(o),u=o.length;for(let l=0;l<u;l++){const d=o[l];if((0,e.isStructSignature)(d))continue;const f=(0,n.splitParameters)(d),h=f.length;for(let p=0;p<h;p++)a.push((0,s.parseAbiParameter)(f[p],{modifiers:e.modifiers,structs:c}))}}if(a.length===0)throw new t.InvalidAbiParametersError({params:o});return a}return S2}var yz;function u6(){return yz||(yz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularReferenceError=t.InvalidParenthesisError=t.UnknownSignatureError=t.InvalidSignatureError=t.InvalidStructSignatureError=t.InvalidAbiParameterError=t.InvalidAbiParametersError=t.InvalidParameterError=t.SolidityProtectedKeywordError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.UnknownSolidityTypeError=t.InvalidAbiItemError=t.UnknownTypeError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.formatAbiParameters=t.formatAbiParameter=t.formatAbiItem=t.formatAbi=t.narrow=t.BaseError=void 0;var e=Bg();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return e.BaseError}});var r=d4e();Object.defineProperty(t,"narrow",{enumerable:!0,get:function(){return r.narrow}});var n=f4e();Object.defineProperty(t,"formatAbi",{enumerable:!0,get:function(){return n.formatAbi}});var s=Mre();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return s.formatAbiItem}});var i=jre();Object.defineProperty(t,"formatAbiParameter",{enumerable:!0,get:function(){return i.formatAbiParameter}});var o=Dre();Object.defineProperty(t,"formatAbiParameters",{enumerable:!0,get:function(){return o.formatAbiParameters}});var a=p4e();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return a.parseAbi}});var c=m4e();Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return c.parseAbiItem}});var u=g4e();Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return u.parseAbiParameter}});var l=y4e();Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return l.parseAbiParameters}});var d=a6();Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return d.UnknownTypeError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return d.InvalidAbiItemError}}),Object.defineProperty(t,"UnknownSolidityTypeError",{enumerable:!0,get:function(){return d.UnknownSolidityTypeError}});var f=LE();Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return f.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return f.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return f.InvalidModifierError}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return f.SolidityProtectedKeywordError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return f.InvalidParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return f.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return f.InvalidAbiParameterError}});var h=D4();Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return h.InvalidStructSignatureError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return h.InvalidSignatureError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return h.UnknownSignatureError}});var p=Lre();Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return p.InvalidParenthesisError}});var m=Ure();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return m.CircularReferenceError}})})(TO)),TO}var Ss={},d0={},Eb={},bz;function b4e(){if(bz)return Eb;bz=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.LruMap=void 0;class t extends Map{constructor(r){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=r}get(r){const n=super.get(r);return super.has(r)&&n!==void 0&&(this.delete(r),super.set(r,n)),n}set(r,n){if(super.set(r,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}return Eb.LruMap=t,Eb}var wz;function w4e(){if(wz)return d0;wz=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.checksum=void 0,d0.clear=r;const t=b4e(),e={checksum:new t.LruMap(8192)};d0.checksum=e.checksum;function r(){for(const n of Object.values(e))n.clear()}return d0}var xf={},Ez;function M4(){if(Ez)return xf;Ez=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.keccak256=i,xf.ripemd160=o,xf.sha256=a,xf.validate=c;const t=_re(),e=jte(),r=Kte(),n=mc(),s=es();function i(u,l={}){const{as:d=typeof u=="string"?"Hex":"Bytes"}=l,f=(0,e.keccak_256)(n.from(u));return d==="Bytes"?f:s.fromBytes(f)}function o(u,l={}){const{as:d=typeof u=="string"?"Hex":"Bytes"}=l,f=(0,t.ripemd160)(n.from(u));return d==="Bytes"?f:s.fromBytes(f)}function a(u,l={}){const{as:d=typeof u=="string"?"Hex":"Bytes"}=l,f=(0,r.sha256)(n.from(u));return d==="Bytes"?f:s.fromBytes(f)}function c(u){return s.validate(u)&&s.size(u)===32}return xf}var rn={},vz;function Fre(){if(vz)return rn;vz=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.InvalidSerializedSizeError=rn.InvalidUncompressedPrefixError=rn.InvalidCompressedPrefixError=rn.InvalidPrefixError=rn.InvalidError=void 0,rn.assert=s,rn.compress=i,rn.from=o,rn.fromBytes=a,rn.fromHex=c,rn.toBytes=u,rn.toHex=l,rn.validate=d;const t=mc(),e=ro(),r=es(),n=YP();function s(E,w={}){const{compressed:b}=w,{prefix:g,x:v,y:A}=E;if(b===!1||typeof v=="bigint"&&typeof A=="bigint"){if(g!==4)throw new h({prefix:g,cause:new m});return}if(b===!0||typeof v=="bigint"&&typeof A>"u"){if(g!==3&&g!==2)throw new h({prefix:g,cause:new p});return}throw new f({publicKey:E})}function i(E){const{x:w,y:b}=E;return{prefix:b%2n===0n?2:3,x:w}}function o(E){const w=(()=>{if(r.validate(E))return c(E);if(t.validate(E))return a(E);const{prefix:b,x:g,y:v}=E;return typeof g=="bigint"&&typeof v=="bigint"?{prefix:b??4,x:g,y:v}:{prefix:b,x:g}})();return s(w),w}function a(E){return c(r.fromBytes(E))}function c(E){if(E.length!==132&&E.length!==130&&E.length!==68)throw new y({publicKey:E});if(E.length===130){const g=BigInt(r.slice(E,0,32)),v=BigInt(r.slice(E,32,64));return{prefix:4,x:g,y:v}}if(E.length===132){const g=Number(r.slice(E,0,1)),v=BigInt(r.slice(E,1,33)),A=BigInt(r.slice(E,33,65));return{prefix:g,x:v,y:A}}const w=Number(r.slice(E,0,1)),b=BigInt(r.slice(E,1,33));return{prefix:w,x:b}}function u(E,w={}){return t.fromHex(l(E,w))}function l(E,w={}){s(E);const{prefix:b,x:g,y:v}=E,{includePrefix:A=!0}=w;return r.concat(A?r.fromNumber(b,{size:1}):"0x",r.fromNumber(g,{size:32}),typeof v=="bigint"?r.fromNumber(v,{size:32}):"0x")}function d(E,w={}){try{return s(E,w),!0}catch{return!1}}class f extends e.BaseError{constructor({publicKey:w}){super(`Value \`${n.stringify(w)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}rn.InvalidError=f;class h extends e.BaseError{constructor({prefix:w,cause:b}){super(`Prefix "${w}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}rn.InvalidPrefixError=h;class p extends e.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}rn.InvalidCompressedPrefixError=p;class m extends e.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}rn.InvalidUncompressedPrefixError=m;class y extends e.BaseError{constructor({publicKey:w}){super(`Value \`${w}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${r.size(r.from(w))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}return rn.InvalidSerializedSizeError=y,rn}var _z;function l6(){if(_z)return Ss;_z=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.InvalidChecksumError=Ss.InvalidInputError=Ss.InvalidAddressError=void 0,Ss.assert=o,Ss.checksum=a,Ss.from=c,Ss.fromPublicKey=u,Ss.isEqual=l,Ss.validate=d;const t=mc(),e=w4e(),r=ro(),n=M4(),s=Fre(),i=/^0x[a-fA-F0-9]{40}$/;function o(m,y={}){const{strict:E=!0}=y;if(!i.test(m))throw new f({address:m,cause:new h});if(E){if(m.toLowerCase()===m)return;if(a(m)!==m)throw new f({address:m,cause:new p})}}function a(m){if(e.checksum.has(m))return e.checksum.get(m);o(m,{strict:!1});const y=m.substring(2).toLowerCase(),E=n.keccak256(t.fromString(y),{as:"Bytes"}),w=y.split("");for(let g=0;g<40;g+=2)E[g>>1]>>4>=8&&w[g]&&(w[g]=w[g].toUpperCase()),(E[g>>1]&15)>=8&&w[g+1]&&(w[g+1]=w[g+1].toUpperCase());const b=`0x${w.join("")}`;return e.checksum.set(m,b),b}function c(m,y={}){const{checksum:E=!1}=y;return o(m),E?a(m):m}function u(m,y={}){const E=n.keccak256(`0x${s.toHex(m).slice(4)}`).substring(26);return c(`0x${E}`,y)}function l(m,y){return o(m,{strict:!1}),o(y,{strict:!1}),m.toLowerCase()===y.toLowerCase()}function d(m,y={}){const{strict:E=!0}=y??{};try{return o(m,{strict:E}),!0}catch{return!1}}class f extends r.BaseError{constructor({address:y,cause:E}){super(`Address "${y}" is invalid.`,{cause:E}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}Ss.InvalidAddressError=f;class h extends r.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}Ss.InvalidInputError=h;class p extends r.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}return Ss.InvalidChecksumError=p,Ss}var zr={},fe={},Az;function U4(){return Az||(Az=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.minInt120=fe.minInt112=fe.minInt104=fe.minInt96=fe.minInt88=fe.minInt80=fe.minInt72=fe.minInt64=fe.minInt56=fe.minInt48=fe.minInt40=fe.minInt32=fe.minInt24=fe.minInt16=fe.minInt8=fe.maxInt256=fe.maxInt248=fe.maxInt240=fe.maxInt232=fe.maxInt224=fe.maxInt216=fe.maxInt208=fe.maxInt200=fe.maxInt192=fe.maxInt184=fe.maxInt176=fe.maxInt168=fe.maxInt160=fe.maxInt152=fe.maxInt144=fe.maxInt136=fe.maxInt128=fe.maxInt120=fe.maxInt112=fe.maxInt104=fe.maxInt96=fe.maxInt88=fe.maxInt80=fe.maxInt72=fe.maxInt64=fe.maxInt56=fe.maxInt48=fe.maxInt40=fe.maxInt32=fe.maxInt24=fe.maxInt16=fe.maxInt8=fe.integerRegex=fe.bytesRegex=fe.arrayRegex=void 0,fe.maxUint256=fe.maxUint248=fe.maxUint240=fe.maxUint232=fe.maxUint224=fe.maxUint216=fe.maxUint208=fe.maxUint200=fe.maxUint192=fe.maxUint184=fe.maxUint176=fe.maxUint168=fe.maxUint160=fe.maxUint152=fe.maxUint144=fe.maxUint136=fe.maxUint128=fe.maxUint120=fe.maxUint112=fe.maxUint104=fe.maxUint96=fe.maxUint88=fe.maxUint80=fe.maxUint72=fe.maxUint64=fe.maxUint56=fe.maxUint48=fe.maxUint40=fe.maxUint32=fe.maxUint24=fe.maxUint16=fe.maxUint8=fe.minInt256=fe.minInt248=fe.minInt240=fe.minInt232=fe.minInt224=fe.minInt216=fe.minInt208=fe.minInt200=fe.minInt192=fe.minInt184=fe.minInt176=fe.minInt168=fe.minInt160=fe.minInt152=fe.minInt144=fe.minInt136=fe.minInt128=void 0,fe.arrayRegex=/^(.*)\[([0-9]*)\]$/,fe.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,fe.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,fe.maxInt8=2n**(8n-1n)-1n,fe.maxInt16=2n**(16n-1n)-1n,fe.maxInt24=2n**(24n-1n)-1n,fe.maxInt32=2n**(32n-1n)-1n,fe.maxInt40=2n**(40n-1n)-1n,fe.maxInt48=2n**(48n-1n)-1n,fe.maxInt56=2n**(56n-1n)-1n,fe.maxInt64=2n**(64n-1n)-1n,fe.maxInt72=2n**(72n-1n)-1n,fe.maxInt80=2n**(80n-1n)-1n,fe.maxInt88=2n**(88n-1n)-1n,fe.maxInt96=2n**(96n-1n)-1n,fe.maxInt104=2n**(104n-1n)-1n,fe.maxInt112=2n**(112n-1n)-1n,fe.maxInt120=2n**(120n-1n)-1n,fe.maxInt128=2n**(128n-1n)-1n,fe.maxInt136=2n**(136n-1n)-1n,fe.maxInt144=2n**(144n-1n)-1n,fe.maxInt152=2n**(152n-1n)-1n,fe.maxInt160=2n**(160n-1n)-1n,fe.maxInt168=2n**(168n-1n)-1n,fe.maxInt176=2n**(176n-1n)-1n,fe.maxInt184=2n**(184n-1n)-1n,fe.maxInt192=2n**(192n-1n)-1n,fe.maxInt200=2n**(200n-1n)-1n,fe.maxInt208=2n**(208n-1n)-1n,fe.maxInt216=2n**(216n-1n)-1n,fe.maxInt224=2n**(224n-1n)-1n,fe.maxInt232=2n**(232n-1n)-1n,fe.maxInt240=2n**(240n-1n)-1n,fe.maxInt248=2n**(248n-1n)-1n,fe.maxInt256=2n**(256n-1n)-1n,fe.minInt8=-(2n**(8n-1n)),fe.minInt16=-(2n**(16n-1n)),fe.minInt24=-(2n**(24n-1n)),fe.minInt32=-(2n**(32n-1n)),fe.minInt40=-(2n**(40n-1n)),fe.minInt48=-(2n**(48n-1n)),fe.minInt56=-(2n**(56n-1n)),fe.minInt64=-(2n**(64n-1n)),fe.minInt72=-(2n**(72n-1n)),fe.minInt80=-(2n**(80n-1n)),fe.minInt88=-(2n**(88n-1n)),fe.minInt96=-(2n**(96n-1n)),fe.minInt104=-(2n**(104n-1n)),fe.minInt112=-(2n**(112n-1n)),fe.minInt120=-(2n**(120n-1n)),fe.minInt128=-(2n**(128n-1n)),fe.minInt136=-(2n**(136n-1n)),fe.minInt144=-(2n**(144n-1n)),fe.minInt152=-(2n**(152n-1n)),fe.minInt160=-(2n**(160n-1n)),fe.minInt168=-(2n**(168n-1n)),fe.minInt176=-(2n**(176n-1n)),fe.minInt184=-(2n**(184n-1n)),fe.minInt192=-(2n**(192n-1n)),fe.minInt200=-(2n**(200n-1n)),fe.minInt208=-(2n**(208n-1n)),fe.minInt216=-(2n**(216n-1n)),fe.minInt224=-(2n**(224n-1n)),fe.minInt232=-(2n**(232n-1n)),fe.minInt240=-(2n**(240n-1n)),fe.minInt248=-(2n**(248n-1n)),fe.minInt256=-(2n**(256n-1n)),fe.maxUint8=2n**8n-1n,fe.maxUint16=2n**16n-1n,fe.maxUint24=2n**24n-1n,fe.maxUint32=2n**32n-1n,fe.maxUint40=2n**40n-1n,fe.maxUint48=2n**48n-1n,fe.maxUint56=2n**56n-1n,fe.maxUint64=2n**64n-1n,fe.maxUint72=2n**72n-1n,fe.maxUint80=2n**80n-1n,fe.maxUint88=2n**88n-1n,fe.maxUint96=2n**96n-1n,fe.maxUint104=2n**104n-1n,fe.maxUint112=2n**112n-1n,fe.maxUint120=2n**120n-1n,fe.maxUint128=2n**128n-1n,fe.maxUint136=2n**136n-1n,fe.maxUint144=2n**144n-1n,fe.maxUint152=2n**152n-1n,fe.maxUint160=2n**160n-1n,fe.maxUint168=2n**168n-1n,fe.maxUint176=2n**176n-1n,fe.maxUint184=2n**184n-1n,fe.maxUint192=2n**192n-1n,fe.maxUint200=2n**200n-1n,fe.maxUint208=2n**208n-1n,fe.maxUint216=2n**216n-1n,fe.maxUint224=2n**224n-1n,fe.maxUint232=2n**232n-1n,fe.maxUint240=2n**240n-1n,fe.maxUint248=2n**248n-1n,fe.maxUint256=2n**256n-1n),fe}var Cz;function E4e(){if(Cz)return zr;Cz=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.decodeParameter=o,zr.decodeAddress=u,zr.decodeArray=l,zr.decodeBool=d,zr.decodeBytes=f,zr.decodeNumber=h,zr.decodeTuple=p,zr.decodeString=m,zr.prepareParameters=y,zr.prepareParameter=E,zr.encode=w,zr.encodeAddress=b,zr.encodeArray=g,zr.encodeBytes=v,zr.encodeBoolean=A,zr.encodeNumber=C,zr.encodeString=x,zr.encodeTuple=T,zr.getArrayComponents=N,zr.hasDynamicChild=M;const t=FE(),e=l6(),r=mc(),n=ro(),s=es(),i=U4();function o(k,B,U){const{checksumAddress:I,staticPosition:S}=U,_=N(B.type);if(_){const[R,O]=_;return l(k,{...B,type:O},{checksumAddress:I,length:R,staticPosition:S})}if(B.type==="tuple")return p(k,B,{checksumAddress:I,staticPosition:S});if(B.type==="address")return u(k,{checksum:I});if(B.type==="bool")return d(k);if(B.type.startsWith("bytes"))return f(k,B,{staticPosition:S});if(B.type.startsWith("uint")||B.type.startsWith("int"))return h(k,B);if(B.type==="string")return m(k,{staticPosition:S});throw new t.InvalidTypeError(B.type)}const a=32,c=32;function u(k,B={}){const{checksum:U=!1}=B,I=k.readBytes(32);return[(_=>U?e.checksum(_):_)(s.fromBytes(r.slice(I,-20))),32]}function l(k,B,U){const{checksumAddress:I,length:S,staticPosition:_}=U;if(!S){const P=r.toNumber(k.readBytes(c)),D=_+P,j=D+a;k.setPosition(D);const F=r.toNumber(k.readBytes(a)),q=M(B);let z=0;const W=[];for(let K=0;K<F;++K){k.setPosition(j+(q?K*32:z));const[re,Q]=o(k,B,{checksumAddress:I,staticPosition:j});z+=Q,W.push(re)}return k.setPosition(_+32),[W,32]}if(M(B)){const P=r.toNumber(k.readBytes(c)),D=_+P,j=[];for(let F=0;F<S;++F){k.setPosition(D+F*32);const[q]=o(k,B,{checksumAddress:I,staticPosition:D});j.push(q)}return k.setPosition(_+32),[j,32]}let R=0;const O=[];for(let P=0;P<S;++P){const[D,j]=o(k,B,{checksumAddress:I,staticPosition:_+R});R+=j,O.push(D)}return[O,R]}function d(k){return[r.toBoolean(k.readBytes(32),{size:32}),32]}function f(k,B,{staticPosition:U}){const[I,S]=B.type.split("bytes");if(!S){const R=r.toNumber(k.readBytes(32));k.setPosition(U+R);const O=r.toNumber(k.readBytes(32));if(O===0)return k.setPosition(U+32),["0x",32];const P=k.readBytes(O);return k.setPosition(U+32),[s.fromBytes(P),32]}return[s.fromBytes(k.readBytes(Number.parseInt(S,10),32)),32]}function h(k,B){const U=B.type.startsWith("int"),I=Number.parseInt(B.type.split("int")[1]||"256",10),S=k.readBytes(32);return[I>48?r.toBigInt(S,{signed:U}):r.toNumber(S,{signed:U}),32]}function p(k,B,U){const{checksumAddress:I,staticPosition:S}=U,_=B.components.length===0||B.components.some(({name:P})=>!P),R=_?[]:{};let O=0;if(M(B)){const P=r.toNumber(k.readBytes(c)),D=S+P;for(let j=0;j<B.components.length;++j){const F=B.components[j];k.setPosition(D+O);const[q,z]=o(k,F,{checksumAddress:I,staticPosition:D});O+=z,R[_?j:F==null?void 0:F.name]=q}return k.setPosition(S+32),[R,32]}for(let P=0;P<B.components.length;++P){const D=B.components[P],[j,F]=o(k,D,{checksumAddress:I,staticPosition:S});R[_?P:D==null?void 0:D.name]=j,O+=F}return[R,O]}function m(k,{staticPosition:B}){const U=r.toNumber(k.readBytes(32)),I=B+U;k.setPosition(I);const S=r.toNumber(k.readBytes(32));if(S===0)return k.setPosition(B+32),["",32];const _=k.readBytes(S,32),R=r.toString(r.trimLeft(_));return k.setPosition(B+32),[R,32]}function y({checksumAddress:k,parameters:B,values:U}){const I=[];for(let S=0;S<B.length;S++)I.push(E({checksumAddress:k,parameter:B[S],value:U[S]}));return I}function E({checksumAddress:k=!1,parameter:B,value:U}){const I=B,S=N(I.type);if(S){const[_,R]=S;return g(U,{checksumAddress:k,length:_,parameter:{...I,type:R}})}if(I.type==="tuple")return T(U,{checksumAddress:k,parameter:I});if(I.type==="address")return b(U,{checksum:k});if(I.type==="bool")return A(U);if(I.type.startsWith("uint")||I.type.startsWith("int")){const _=I.type.startsWith("int"),[,,R="256"]=i.integerRegex.exec(I.type)??[];return C(U,{signed:_,size:Number(R)})}if(I.type.startsWith("bytes"))return v(U,{type:I.type});if(I.type==="string")return x(U);throw new t.InvalidTypeError(I.type)}function w(k){let B=0;for(let _=0;_<k.length;_++){const{dynamic:R,encoded:O}=k[_];R?B+=32:B+=s.size(O)}const U=[],I=[];let S=0;for(let _=0;_<k.length;_++){const{dynamic:R,encoded:O}=k[_];R?(U.push(s.fromNumber(B+S,{size:32})),I.push(O),S+=s.size(O)):U.push(O)}return s.concat(...U,...I)}function b(k,B){const{checksum:U=!1}=B;return e.assert(k,{strict:U}),{dynamic:!1,encoded:s.padLeft(k.toLowerCase())}}function g(k,B){const{checksumAddress:U,length:I,parameter:S}=B,_=I===null;if(!Array.isArray(k))throw new t.InvalidArrayError(k);if(!_&&k.length!==I)throw new t.ArrayLengthMismatchError({expectedLength:I,givenLength:k.length,type:`${S.type}[${I}]`});let R=!1;const O=[];for(let P=0;P<k.length;P++){const D=E({checksumAddress:U,parameter:S,value:k[P]});D.dynamic&&(R=!0),O.push(D)}if(_||R){const P=w(O);if(_){const D=s.fromNumber(O.length,{size:32});return{dynamic:!0,encoded:O.length>0?s.concat(D,P):D}}if(R)return{dynamic:!0,encoded:P}}return{dynamic:!1,encoded:s.concat(...O.map(({encoded:P})=>P))}}function v(k,{type:B}){const[,U]=B.split("bytes"),I=s.size(k);if(!U){let S=k;return I%32!==0&&(S=s.padRight(S,Math.ceil((k.length-2)/2/32)*32)),{dynamic:!0,encoded:s.concat(s.padLeft(s.fromNumber(I,{size:32})),S)}}if(I!==Number.parseInt(U,10))throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(U,10),value:k});return{dynamic:!1,encoded:s.padRight(k)}}function A(k){if(typeof k!="boolean")throw new n.BaseError(`Invalid boolean value: "${k}" (type: ${typeof k}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:s.padLeft(s.fromBoolean(k))}}function C(k,{signed:B,size:U}){if(typeof U=="number"){const I=2n**(BigInt(U)-(B?1n:0n))-1n,S=B?-I-1n:0n;if(k>I||k<S)throw new s.IntegerOutOfRangeError({max:I.toString(),min:S.toString(),signed:B,size:U/8,value:k.toString()})}return{dynamic:!1,encoded:s.fromNumber(k,{size:32,signed:B})}}function x(k){const B=s.fromString(k),U=Math.ceil(s.size(B)/32),I=[];for(let S=0;S<U;S++)I.push(s.padRight(s.slice(B,S*32,(S+1)*32)));return{dynamic:!0,encoded:s.concat(s.padRight(s.fromNumber(s.size(B),{size:32})),...I)}}function T(k,B){const{checksumAddress:U,parameter:I}=B;let S=!1;const _=[];for(let R=0;R<I.components.length;R++){const O=I.components[R],P=Array.isArray(k)?R:O.name,D=E({checksumAddress:U,parameter:O,value:k[P]});_.push(D),D.dynamic&&(S=!0)}return{dynamic:S,encoded:S?w(_):s.concat(..._.map(({encoded:R})=>R))}}function N(k){const B=k.match(/^(.*)\[(\d+)?\]$/);return B?[B[2]?Number(B[2]):null,B[1]]:void 0}function M(k){var I;const{type:B}=k;if(B==="string"||B==="bytes"||B.endsWith("[]"))return!0;if(B==="tuple")return(I=k.components)==null?void 0:I.some(M);const U=N(k.type);return!!(U&&M({...k,type:U[1]}))}return zr}var Na={},Sz;function Hre(){if(Sz)return Na;Sz=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.RecursiveReadLimitExceededError=Na.PositionOutOfBoundsError=Na.NegativeOffsetError=void 0,Na.create=r;const t=ro(),e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new i({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(o){if(o<0||o>this.bytes.length-1)throw new s({length:this.bytes.length,position:o})},decrementPosition(o){if(o<0)throw new n({offset:o});const a=this.position-o;this.assertPosition(a),this.position=a},getReadCount(o){return this.positionReadCount.get(o||this.position)||0},incrementPosition(o){if(o<0)throw new n({offset:o});const a=this.position+o;this.assertPosition(a),this.position=a},inspectByte(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectBytes(o,a){const c=a??this.position;return this.assertPosition(c+o-1),this.bytes.subarray(c,c+o)},inspectUint8(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectUint16(o){const a=o??this.position;return this.assertPosition(a+1),this.dataView.getUint16(a)},inspectUint24(o){const a=o??this.position;return this.assertPosition(a+2),(this.dataView.getUint16(a)<<8)+this.dataView.getUint8(a+2)},inspectUint32(o){const a=o??this.position;return this.assertPosition(a+3),this.dataView.getUint32(a)},pushByte(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushBytes(o){this.assertPosition(this.position+o.length-1),this.bytes.set(o,this.position),this.position+=o.length},pushUint8(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushUint16(o){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,o),this.position+=2},pushUint24(o){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,o>>8),this.dataView.setUint8(this.position+2,o&255),this.position+=3},pushUint32(o){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,o),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const o=this.inspectByte();return this.position++,o},readBytes(o,a){this.assertReadLimit(),this._touch();const c=this.inspectBytes(o);return this.position+=a??o,c},readUint8(){this.assertReadLimit(),this._touch();const o=this.inspectUint8();return this.position+=1,o},readUint16(){this.assertReadLimit(),this._touch();const o=this.inspectUint16();return this.position+=2,o},readUint24(){this.assertReadLimit(),this._touch();const o=this.inspectUint24();return this.position+=3,o},readUint32(){this.assertReadLimit(),this._touch();const o=this.inspectUint32();return this.position+=4,o},get remaining(){return this.bytes.length-this.position},setPosition(o){const a=this.position;return this.assertPosition(o),this.position=o,()=>this.position=a},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const o=this.getReadCount();this.positionReadCount.set(this.position,o+1),o>0&&this.recursiveReadCount++}};function r(o,{recursiveReadLimit:a=8192}={}){const c=Object.create(e);return c.bytes=o,c.dataView=new DataView(o.buffer,o.byteOffset,o.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=a,c}class n extends t.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}Na.NegativeOffsetError=n;class s extends t.BaseError{constructor({length:a,position:c}){super(`Position \`${c}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}Na.PositionOutOfBoundsError=s;class i extends t.BaseError{constructor({count:a,limit:c}){super(`Recursive read limit of \`${c}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}return Na.RecursiveReadLimitExceededError=i,Na}var Iz;function FE(){if(Iz)return qr;Iz=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.InvalidTypeError=qr.InvalidArrayError=qr.LengthMismatchError=qr.BytesSizeMismatchError=qr.ArrayLengthMismatchError=qr.ZeroDataError=qr.DataSizeTooSmallError=void 0,qr.decode=c,qr.encode=u,qr.encodePacked=l,qr.format=d,qr.from=f;const t=u6(),e=l6(),r=mc(),n=ro(),s=es(),i=E4e(),o=Hre(),a=U4();function c(g,v,A={}){const{as:C="Array",checksumAddress:x=!1}=A,T=typeof v=="string"?r.fromHex(v):v,N=o.create(T);if(r.size(T)===0&&g.length>0)throw new p;if(r.size(T)&&r.size(T)<32)throw new h({data:typeof v=="string"?v:s.fromBytes(v),parameters:g,size:r.size(T)});let M=0;const k=C==="Array"?[]:{};for(let B=0;B<g.length;++B){const U=g[B];N.setPosition(M);const[I,S]=i.decodeParameter(N,U,{checksumAddress:x,staticPosition:0});M+=S,C==="Array"?k.push(I):k[U.name??B]=I}return k}function u(g,v,A){const{checksumAddress:C=!1}=A??{};if(g.length!==v.length)throw new E({expectedLength:g.length,givenLength:v.length});const x=i.prepareParameters({checksumAddress:C,parameters:g,values:v}),T=i.encode(x);return T.length===0?"0x":T}function l(g,v){if(g.length!==v.length)throw new E({expectedLength:g.length,givenLength:v.length});const A=[];for(let C=0;C<g.length;C++){const x=g[C],T=v[C];A.push(l.encode(x,T))}return s.concat(...A)}(function(g){function v(A,C,x=!1){if(A==="address"){const k=C;return e.assert(k),s.padLeft(k.toLowerCase(),x?32:0)}if(A==="string")return s.fromString(C);if(A==="bytes")return C;if(A==="bool")return s.padLeft(s.fromBoolean(C),x?32:1);const T=A.match(a.integerRegex);if(T){const[k,B,U="256"]=T,I=Number.parseInt(U,10)/8;return s.fromNumber(C,{size:x?32:I,signed:B==="int"})}const N=A.match(a.bytesRegex);if(N){const[k,B]=N;if(Number.parseInt(B,10)!==(C.length-2)/2)throw new y({expectedSize:Number.parseInt(B,10),value:C});return s.padRight(C,x?32:0)}const M=A.match(a.arrayRegex);if(M&&Array.isArray(C)){const[k,B]=M,U=[];for(let I=0;I<C.length;I++)U.push(v(B,C[I],!0));return U.length===0?"0x":s.concat(...U)}throw new b(A)}g.encode=v})(l||(qr.encodePacked=l={}));function d(g){return t.formatAbiParameters(g)}function f(g){return Array.isArray(g)&&typeof g[0]=="string"||typeof g=="string"?t.parseAbiParameters(g):g}class h extends n.BaseError{constructor({data:v,parameters:A,size:C}){super(`Data size of ${C} bytes is too small for given parameters.`,{metaMessages:[`Params: (${t.formatAbiParameters(A)})`,`Data:   ${v} (${C} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}qr.DataSizeTooSmallError=h;class p extends n.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}qr.ZeroDataError=p;class m extends n.BaseError{constructor({expectedLength:v,givenLength:A,type:C}){super(`Array length mismatch for type \`${C}\`. Expected: \`${v}\`. Given: \`${A}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}qr.ArrayLengthMismatchError=m;class y extends n.BaseError{constructor({expectedSize:v,value:A}){super(`Size of bytes "${A}" (bytes${s.size(A)}) does not match expected size (bytes${v}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}qr.BytesSizeMismatchError=y;class E extends n.BaseError{constructor({expectedLength:v,givenLength:A}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${v}`,`Given length (values): ${A}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}qr.LengthMismatchError=E;class w extends n.BaseError{constructor(v){super(`Value \`${v}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}qr.InvalidArrayError=w;class b extends n.BaseError{constructor(v){super(`Type \`${v}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}return qr.InvalidTypeError=b,qr}var Ys={},uo={},Tz;function v4e(){if(Tz)return uo;Tz=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.toBytes=s,uo.toHex=i,uo.to=o,uo.decodeRlpCursor=a,uo.readLength=c,uo.readList=u,uo.from=l,uo.fromBytes=d,uo.fromHex=f;const t=mc(),e=ro(),r=es(),n=Hre();function s(E){return o(E,"Bytes")}function i(E){return o(E,"Hex")}function o(E,w){const b=w??(typeof E=="string"?"Hex":"Bytes"),g=(()=>{if(typeof E=="string"){if(E.length>3&&E.length%2!==0)throw new r.InvalidLengthError(E);return t.fromHex(E)}return E})(),v=n.create(g,{recursiveReadLimit:Number.POSITIVE_INFINITY});return a(v,b)}function a(E,w="Hex"){if(E.bytes.length===0)return w==="Hex"?r.fromBytes(E.bytes):E.bytes;const b=E.readByte();if(b<128&&E.decrementPosition(1),b<192){const v=c(E,b,128),A=E.readBytes(v);return w==="Hex"?r.fromBytes(A):A}const g=c(E,b,192);return u(E,g,w)}function c(E,w,b){if(b===128&&w<128)return 1;if(w<=b+55)return w-b;if(w===b+55+1)return E.readUint8();if(w===b+55+2)return E.readUint16();if(w===b+55+3)return E.readUint24();if(w===b+55+4)return E.readUint32();throw new e.BaseError("Invalid RLP prefix")}function u(E,w,b){const g=E.position,v=[];for(;E.position-g<w;)v.push(a(E,b));return v}function l(E,w){const{as:b}=w,g=h(E),v=n.create(new Uint8Array(g.length));return g.encode(v),b==="Hex"?r.fromBytes(v.bytes):v.bytes}function d(E,w={}){const{as:b="Bytes"}=w;return l(E,{as:b})}function f(E,w={}){const{as:b="Hex"}=w;return l(E,{as:b})}function h(E){return Array.isArray(E)?p(E.map(w=>h(w))):m(E)}function p(E){const w=E.reduce((v,A)=>v+A.length,0),b=y(w);return{length:w<=55?1+w:1+b+w,encode(v){w<=55?v.pushByte(192+w):(v.pushByte(247+b),b===1?v.pushUint8(w):b===2?v.pushUint16(w):b===3?v.pushUint24(w):v.pushUint32(w));for(const{encode:A}of E)A(v)}}}function m(E){const w=typeof E=="string"?t.fromHex(E):E,b=y(w.length);return{length:w.length===1&&w[0]<128?1:w.length<=55?1+w.length:1+b+w.length,encode(v){w.length===1&&w[0]<128?v.pushBytes(w):w.length<=55?(v.pushByte(128+w.length),v.pushBytes(w)):(v.pushByte(183+b),b===1?v.pushUint8(w.length):b===2?v.pushUint16(w.length):b===3?v.pushUint24(w.length):v.pushUint32(w.length),v.pushBytes(w))}}}function y(E){if(E<2**8)return 1;if(E<2**16)return 2;if(E<2**24)return 3;if(E<2**32)return 4;throw new e.BaseError("Length is too large.")}return uo}var Mt={},PO={},vb={},xO={},Of={},Nr={},Pz;function d6(){if(Pz)return Nr;Pz=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.isNegativeLE=void 0,Nr.mod=u,Nr.pow=l,Nr.pow2=d,Nr.invert=f,Nr.tonelliShanks=m,Nr.FpSqrt=y,Nr.validateField=b,Nr.FpPow=g,Nr.FpInvertBatch=v,Nr.FpDiv=A,Nr.FpLegendre=C,Nr.FpIsSquare=x,Nr.nLength=T,Nr.Field=N,Nr.FpSqrtOdd=M,Nr.FpSqrtEven=k,Nr.hashToPrivateScalar=B,Nr.getFieldBytesLength=U,Nr.getMinHashLength=I,Nr.mapHashToField=S;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ma(),e=Pp(),r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function u(_,R){const O=_%R;return O>=r?O:R+O}function l(_,R,O){return g(N(O),_,R)}function d(_,R,O){let P=_;for(;R-- >r;)P*=P,P%=O;return P}function f(_,R){if(_===r)throw new Error("invert: expected non-zero number");if(R<=r)throw new Error("invert: expected positive modulus, got "+R);let O=u(_,R),P=R,D=r,j=n;for(;O!==r;){const q=P/O,z=P%O,W=D-j*q;P=O,O=z,D=j,j=W}if(P!==n)throw new Error("invert: does not exist");return u(D,R)}function h(_,R){const O=(_.ORDER+n)/o,P=_.pow(R,O);if(!_.eql(_.sqr(P),R))throw new Error("Cannot find square root");return P}function p(_,R){const O=(_.ORDER-a)/c,P=_.mul(R,s),D=_.pow(P,O),j=_.mul(R,D),F=_.mul(_.mul(j,s),D),q=_.mul(j,_.sub(F,_.ONE));if(!_.eql(_.sqr(q),R))throw new Error("Cannot find square root");return q}function m(_){if(_<BigInt(3))throw new Error("sqrt is not defined for small field");let R=_-n,O=0;for(;R%s===r;)R/=s,O++;let P=s;const D=N(_);for(;C(D,P)===1;)if(P++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(O===1)return h;let j=D.pow(P,R);const F=(R+n)/s;return function(z,W){if(z.is0(W))return W;if(C(z,W)!==1)throw new Error("Cannot find square root");let K=O,re=z.mul(z.ONE,j),Q=z.pow(W,R),X=z.pow(W,F);for(;!z.eql(Q,z.ONE);){if(z.is0(Q))return z.ZERO;let ie=1,Y=z.sqr(Q);for(;!z.eql(Y,z.ONE);)if(ie++,Y=z.sqr(Y),ie===K)throw new Error("Cannot find square root");const V=n<<BigInt(K-ie-1),Z=z.pow(re,V);K=ie,re=z.sqr(Z),Q=z.mul(Q,re),X=z.mul(X,Z)}return X}}function y(_){return _%o===i?h:_%c===a?p:m(_)}const E=(_,R)=>(u(_,R)&n)===n;Nr.isNegativeLE=E;const w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(_){const R={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},O=w.reduce((P,D)=>(P[D]="function",P),R);return(0,e.validateObject)(_,O)}function g(_,R,O){if(O<r)throw new Error("invalid exponent, negatives unsupported");if(O===r)return _.ONE;if(O===n)return R;let P=_.ONE,D=R;for(;O>r;)O&n&&(P=_.mul(P,D)),D=_.sqr(D),O>>=n;return P}function v(_,R,O=!1){const P=new Array(R.length).fill(O?_.ZERO:void 0),D=R.reduce((F,q,z)=>_.is0(q)?F:(P[z]=F,_.mul(F,q)),_.ONE),j=_.inv(D);return R.reduceRight((F,q,z)=>_.is0(q)?F:(P[z]=_.mul(F,P[z]),_.mul(F,q)),j),P}function A(_,R,O){return _.mul(R,typeof O=="bigint"?f(O,_.ORDER):_.inv(O))}function C(_,R){const O=(_.ORDER-n)/s,P=_.pow(R,O),D=_.eql(P,_.ONE),j=_.eql(P,_.ZERO),F=_.eql(P,_.neg(_.ONE));if(!D&&!j&&!F)throw new Error("invalid Legendre symbol result");return D?1:j?0:-1}function x(_,R){return C(_,R)===1}function T(_,R){R!==void 0&&(0,t.anumber)(R);const O=R!==void 0?R:_.toString(2).length,P=Math.ceil(O/8);return{nBitLength:O,nByteLength:P}}function N(_,R,O=!1,P={}){if(_<=r)throw new Error("invalid field: expected ORDER > 0, got "+_);const{nBitLength:D,nByteLength:j}=T(_,R);if(j>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let F;const q=Object.freeze({ORDER:_,isLE:O,BITS:D,BYTES:j,MASK:(0,e.bitMask)(D),ZERO:r,ONE:n,create:z=>u(z,_),isValid:z=>{if(typeof z!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof z);return r<=z&&z<_},is0:z=>z===r,isOdd:z=>(z&n)===n,neg:z=>u(-z,_),eql:(z,W)=>z===W,sqr:z=>u(z*z,_),add:(z,W)=>u(z+W,_),sub:(z,W)=>u(z-W,_),mul:(z,W)=>u(z*W,_),pow:(z,W)=>g(q,z,W),div:(z,W)=>u(z*f(W,_),_),sqrN:z=>z*z,addN:(z,W)=>z+W,subN:(z,W)=>z-W,mulN:(z,W)=>z*W,inv:z=>f(z,_),sqrt:P.sqrt||(z=>(F||(F=y(_)),F(q,z))),toBytes:z=>O?(0,e.numberToBytesLE)(z,j):(0,e.numberToBytesBE)(z,j),fromBytes:z=>{if(z.length!==j)throw new Error("Field.fromBytes: expected "+j+" bytes, got "+z.length);return O?(0,e.bytesToNumberLE)(z):(0,e.bytesToNumberBE)(z)},invertBatch:z=>v(q,z),cmov:(z,W,K)=>K?W:z});return Object.freeze(q)}function M(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?O:_.neg(O)}function k(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?_.neg(O):O}function B(_,R,O=!1){_=(0,e.ensureBytes)("privateHash",_);const P=_.length,D=T(R).nByteLength+8;if(D<24||P<D||P>1024)throw new Error("hashToPrivateScalar: expected "+D+"-1024 bytes of input, got "+P);const j=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_);return u(j,R-n)+n}function U(_){if(typeof _!="bigint")throw new Error("field order must be bigint");const R=_.toString(2).length;return Math.ceil(R/8)}function I(_){const R=U(_);return R+Math.ceil(R/2)}function S(_,R,O=!1){const P=_.length,D=U(R),j=I(R);if(P<16||P<j||P>1024)throw new Error("expected "+j+"-1024 bytes of input, got "+P);const F=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_),q=u(F,R-n)+n;return O?(0,e.numberToBytesLE)(q,D):(0,e.numberToBytesBE)(q,D)}return Nr}var xz;function _4e(){if(xz)return Of;xz=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.wNAF=h,Of.pippenger=p,Of.precomputeMSMUnsafe=m,Of.validateBasic=y;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=d6(),e=Pp(),r=BigInt(0),n=BigInt(1);function s(E,w){const b=w.negate();return E?b:w}function i(E,w){if(!Number.isSafeInteger(E)||E<=0||E>w)throw new Error("invalid window size, expected [1.."+w+"], got W="+E)}function o(E,w){i(E,w);const b=Math.ceil(w/E)+1,g=2**(E-1),v=2**E,A=(0,e.bitMask)(E),C=BigInt(E);return{windows:b,windowSize:g,mask:A,maxNumber:v,shiftBy:C}}function a(E,w,b){const{windowSize:g,mask:v,maxNumber:A,shiftBy:C}=b;let x=Number(E&v),T=E>>C;x>g&&(x-=A,T+=n);const N=w*g,M=N+Math.abs(x)-1,k=x===0,B=x<0,U=w%2!==0;return{nextN:T,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:N}}function c(E,w){if(!Array.isArray(E))throw new Error("array expected");E.forEach((b,g)=>{if(!(b instanceof w))throw new Error("invalid point at index "+g)})}function u(E,w){if(!Array.isArray(E))throw new Error("array of scalars expected");E.forEach((b,g)=>{if(!w.isValid(b))throw new Error("invalid scalar at index "+g)})}const l=new WeakMap,d=new WeakMap;function f(E){return d.get(E)||1}function h(E,w){return{constTimeNegate:s,hasPrecomputes(b){return f(b)!==1},unsafeLadder(b,g,v=E.ZERO){let A=b;for(;g>r;)g&n&&(v=v.add(A)),A=A.double(),g>>=n;return v},precomputeWindow(b,g){const{windows:v,windowSize:A}=o(g,w),C=[];let x=b,T=x;for(let N=0;N<v;N++){T=x,C.push(T);for(let M=1;M<A;M++)T=T.add(x),C.push(T);x=T.double()}return C},wNAF(b,g,v){let A=E.ZERO,C=E.BASE;const x=o(b,w);for(let T=0;T<x.windows;T++){const{nextN:N,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:I}=a(v,T,x);v=N,k?C=C.add(s(U,g[I])):A=A.add(s(B,g[M]))}return{p:A,f:C}},wNAFUnsafe(b,g,v,A=E.ZERO){const C=o(b,w);for(let x=0;x<C.windows&&v!==r;x++){const{nextN:T,offset:N,isZero:M,isNeg:k}=a(v,x,C);if(v=T,!M){const B=g[N];A=A.add(k?B.negate():B)}}return A},getPrecomputes(b,g,v){let A=l.get(g);return A||(A=this.precomputeWindow(g,b),b!==1&&l.set(g,v(A))),A},wNAFCached(b,g,v){const A=f(b);return this.wNAF(A,this.getPrecomputes(A,b,v),g)},wNAFCachedUnsafe(b,g,v,A){const C=f(b);return C===1?this.unsafeLadder(b,g,A):this.wNAFUnsafe(C,this.getPrecomputes(C,b,v),g,A)},setWindowSize(b,g){i(g,w),d.set(b,g),l.delete(b)}}}function p(E,w,b,g){c(b,E),u(g,w);const v=b.length,A=g.length;if(v!==A)throw new Error("arrays of points and scalars must have equal length");const C=E.ZERO,x=(0,e.bitLen)(BigInt(v));let T=1;x>12?T=x-3:x>4?T=x-2:x>0&&(T=2);const N=(0,e.bitMask)(T),M=new Array(Number(N)+1).fill(C),k=Math.floor((w.BITS-1)/T)*T;let B=C;for(let U=k;U>=0;U-=T){M.fill(C);for(let S=0;S<A;S++){const _=g[S],R=Number(_>>BigInt(U)&N);M[R]=M[R].add(b[S])}let I=C;for(let S=M.length-1,_=C;S>0;S--)_=_.add(M[S]),I=I.add(_);if(B=B.add(I),U!==0)for(let S=0;S<T;S++)B=B.double()}return B}function m(E,w,b,g){i(g,w.BITS),c(b,E);const v=E.ZERO,A=2**g-1,C=Math.ceil(w.BITS/g),x=(0,e.bitMask)(g),T=b.map(N=>{const M=[];for(let k=0,B=N;k<A;k++)M.push(B),B=B.add(N);return M});return N=>{if(u(N,w),N.length>b.length)throw new Error("array of scalars must be smaller than array of points");let M=v;for(let k=0;k<C;k++){if(M!==v)for(let U=0;U<g;U++)M=M.double();const B=BigInt(C*g-(k+1)*g);for(let U=0;U<N.length;U++){const I=N[U],S=Number(I>>B&x);S&&(M=M.add(T[U][S-1]))}}return M}}function y(E){return(0,t.validateField)(E.Fp),(0,e.validateObject)(E,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(E.n,E.nBitLength),...E,p:E.Fp.ORDER})}return Of}var Oz;function qre(){return Oz||(Oz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=h,t.weierstrass=m,t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=E;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=_4e(),r=d6(),n=Pp();function s(w){w.lowS!==void 0&&(0,n.abool)("lowS",w.lowS),w.prehash!==void 0&&(0,n.abool)("prehash",w.prehash)}function i(w){const b=(0,e.validateBasic)(w);(0,n.validateObject)(b,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:g,Fp:v,a:A}=b;if(g){if(!v.eql(A,v.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof g!="object"||typeof g.beta!="bigint"||typeof g.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...b})}class o extends Error{constructor(b=""){super(b)}}t.DERErr=o,t.DER={Err:o,_tlv:{encode:(w,b)=>{const{Err:g}=t.DER;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length&1)throw new g("tlv.encode: unpadded data");const v=b.length/2,A=(0,n.numberToHexUnpadded)(v);if(A.length/2&128)throw new g("tlv.encode: long form length too big");const C=v>127?(0,n.numberToHexUnpadded)(A.length/2|128):"";return(0,n.numberToHexUnpadded)(w)+C+A+b},decode(w,b){const{Err:g}=t.DER;let v=0;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length<2||b[v++]!==w)throw new g("tlv.decode: wrong tlv");const A=b[v++],C=!!(A&128);let x=0;if(!C)x=A;else{const N=A&127;if(!N)throw new g("tlv.decode(long): indefinite length not supported");if(N>4)throw new g("tlv.decode(long): byte length is too big");const M=b.subarray(v,v+N);if(M.length!==N)throw new g("tlv.decode: length bytes not complete");if(M[0]===0)throw new g("tlv.decode(long): zero leftmost byte");for(const k of M)x=x<<8|k;if(v+=N,x<128)throw new g("tlv.decode(long): not minimal encoding")}const T=b.subarray(v,v+x);if(T.length!==x)throw new g("tlv.decode: wrong value length");return{v:T,l:b.subarray(v+x)}}},_int:{encode(w){const{Err:b}=t.DER;if(w<c)throw new b("integer: negative integers are not allowed");let g=(0,n.numberToHexUnpadded)(w);if(Number.parseInt(g[0],16)&8&&(g="00"+g),g.length&1)throw new b("unexpected DER parsing assertion: unpadded hex");return g},decode(w){const{Err:b}=t.DER;if(w[0]&128)throw new b("invalid signature integer: negative");if(w[0]===0&&!(w[1]&128))throw new b("invalid signature integer: unnecessary leading zero");return(0,n.bytesToNumberBE)(w)}},toSig(w){const{Err:b,_int:g,_tlv:v}=t.DER,A=(0,n.ensureBytes)("signature",w),{v:C,l:x}=v.decode(48,A);if(x.length)throw new b("invalid signature: left bytes after parsing");const{v:T,l:N}=v.decode(2,C),{v:M,l:k}=v.decode(2,N);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:g.decode(T),s:g.decode(M)}},hexFromSig(w){const{_tlv:b,_int:g}=t.DER,v=b.encode(2,g.encode(w.r)),A=b.encode(2,g.encode(w.s)),C=v+A;return b.encode(48,C)}};function a(w,b){return(0,n.bytesToHex)((0,n.numberToBytesBE)(w,b))}const c=BigInt(0),u=BigInt(1),l=BigInt(2),d=BigInt(3),f=BigInt(4);function h(w){const b=i(w),{Fp:g}=b,v=(0,r.Field)(b.n,b.nBitLength),A=b.toBytes||((D,j,F)=>{const q=j.toAffine();return(0,n.concatBytes)(Uint8Array.from([4]),g.toBytes(q.x),g.toBytes(q.y))}),C=b.fromBytes||(D=>{const j=D.subarray(1),F=g.fromBytes(j.subarray(0,g.BYTES)),q=g.fromBytes(j.subarray(g.BYTES,2*g.BYTES));return{x:F,y:q}});function x(D){const{a:j,b:F}=b,q=g.sqr(D),z=g.mul(q,D);return g.add(g.add(z,g.mul(D,j)),F)}function T(D,j){const F=g.sqr(j),q=x(D);return g.eql(F,q)}if(!T(b.Gx,b.Gy))throw new Error("bad curve params: generator point");const N=g.mul(g.pow(b.a,d),f),M=g.mul(g.sqr(b.b),BigInt(27));if(g.is0(g.add(N,M)))throw new Error("bad curve params: a or b");function k(D){return(0,n.inRange)(D,u,b.n)}function B(D){const{allowedPrivateKeyLengths:j,nByteLength:F,wrapPrivateKey:q,n:z}=b;if(j&&typeof D!="bigint"){if((0,n.isBytes)(D)&&(D=(0,n.bytesToHex)(D)),typeof D!="string"||!j.includes(D.length))throw new Error("invalid private key");D=D.padStart(F*2,"0")}let W;try{W=typeof D=="bigint"?D:(0,n.bytesToNumberBE)((0,n.ensureBytes)("private key",D,F))}catch{throw new Error("invalid private key, expected hex or "+F+" bytes, got "+typeof D)}return q&&(W=(0,r.mod)(W,z)),(0,n.aInRange)("private key",W,u,z),W}function U(D){if(!(D instanceof _))throw new Error("ProjectivePoint expected")}const I=(0,n.memoized)((D,j)=>{const{px:F,py:q,pz:z}=D;if(g.eql(z,g.ONE))return{x:F,y:q};const W=D.is0();j==null&&(j=W?g.ONE:g.inv(z));const K=g.mul(F,j),re=g.mul(q,j),Q=g.mul(z,j);if(W)return{x:g.ZERO,y:g.ZERO};if(!g.eql(Q,g.ONE))throw new Error("invZ was invalid");return{x:K,y:re}}),S=(0,n.memoized)(D=>{if(D.is0()){if(b.allowInfinityPoint&&!g.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:j,y:F}=D.toAffine();if(!g.isValid(j)||!g.isValid(F))throw new Error("bad point: x or y not FE");if(!T(j,F))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _{constructor(j,F,q){if(j==null||!g.isValid(j))throw new Error("x required");if(F==null||!g.isValid(F)||g.is0(F))throw new Error("y required");if(q==null||!g.isValid(q))throw new Error("z required");this.px=j,this.py=F,this.pz=q,Object.freeze(this)}static fromAffine(j){const{x:F,y:q}=j||{};if(!j||!g.isValid(F)||!g.isValid(q))throw new Error("invalid affine point");if(j instanceof _)throw new Error("projective point not allowed");const z=W=>g.eql(W,g.ZERO);return z(F)&&z(q)?_.ZERO:new _(F,q,g.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(j){const F=(0,r.FpInvertBatch)(g,j.map(q=>q.pz));return j.map((q,z)=>q.toAffine(F[z])).map(_.fromAffine)}static fromHex(j){const F=_.fromAffine(C((0,n.ensureBytes)("pointHex",j)));return F.assertValidity(),F}static fromPrivateKey(j){return _.BASE.multiply(B(j))}static msm(j,F){return(0,e.pippenger)(_,v,j,F)}_setWindowSize(j){P.setWindowSize(this,j)}assertValidity(){S(this)}hasEvenY(){const{y:j}=this.toAffine();if(g.isOdd)return!g.isOdd(j);throw new Error("Field doesn't support isOdd")}equals(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j,Q=g.eql(g.mul(F,re),g.mul(W,z)),X=g.eql(g.mul(q,re),g.mul(K,z));return Q&&X}negate(){return new _(this.px,g.neg(this.py),this.pz)}double(){const{a:j,b:F}=b,q=g.mul(F,d),{px:z,py:W,pz:K}=this;let re=g.ZERO,Q=g.ZERO,X=g.ZERO,ie=g.mul(z,z),Y=g.mul(W,W),V=g.mul(K,K),Z=g.mul(z,W);return Z=g.add(Z,Z),X=g.mul(z,K),X=g.add(X,X),re=g.mul(j,X),Q=g.mul(q,V),Q=g.add(re,Q),re=g.sub(Y,Q),Q=g.add(Y,Q),Q=g.mul(re,Q),re=g.mul(Z,re),X=g.mul(q,X),V=g.mul(j,V),Z=g.sub(ie,V),Z=g.mul(j,Z),Z=g.add(Z,X),X=g.add(ie,ie),ie=g.add(X,ie),ie=g.add(ie,V),ie=g.mul(ie,Z),Q=g.add(Q,ie),V=g.mul(W,K),V=g.add(V,V),ie=g.mul(V,Z),re=g.sub(re,ie),X=g.mul(V,Y),X=g.add(X,X),X=g.add(X,X),new _(re,Q,X)}add(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j;let Q=g.ZERO,X=g.ZERO,ie=g.ZERO;const Y=b.a,V=g.mul(b.b,d);let Z=g.mul(F,W),ne=g.mul(q,K),ue=g.mul(z,re),ce=g.add(F,q),ge=g.add(W,K);ce=g.mul(ce,ge),ge=g.add(Z,ne),ce=g.sub(ce,ge),ge=g.add(F,z);let we=g.add(W,re);return ge=g.mul(ge,we),we=g.add(Z,ue),ge=g.sub(ge,we),we=g.add(q,z),Q=g.add(K,re),we=g.mul(we,Q),Q=g.add(ne,ue),we=g.sub(we,Q),ie=g.mul(Y,ge),Q=g.mul(V,ue),ie=g.add(Q,ie),Q=g.sub(ne,ie),ie=g.add(ne,ie),X=g.mul(Q,ie),ne=g.add(Z,Z),ne=g.add(ne,Z),ue=g.mul(Y,ue),ge=g.mul(V,ge),ne=g.add(ne,ue),ue=g.sub(Z,ue),ue=g.mul(Y,ue),ge=g.add(ge,ue),Z=g.mul(ne,ge),X=g.add(X,Z),Z=g.mul(we,ge),Q=g.mul(ce,Q),Q=g.sub(Q,Z),Z=g.mul(ce,ne),ie=g.mul(we,ie),ie=g.add(ie,Z),new _(Q,X,ie)}subtract(j){return this.add(j.negate())}is0(){return this.equals(_.ZERO)}wNAF(j){return P.wNAFCached(this,j,_.normalizeZ)}multiplyUnsafe(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,c,q);const z=_.ZERO;if(j===c)return z;if(this.is0()||j===u)return this;if(!F||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,j,_.normalizeZ);let{k1neg:W,k1:K,k2neg:re,k2:Q}=F.splitScalar(j),X=z,ie=z,Y=this;for(;K>c||Q>c;)K&u&&(X=X.add(Y)),Q&u&&(ie=ie.add(Y)),Y=Y.double(),K>>=u,Q>>=u;return W&&(X=X.negate()),re&&(ie=ie.negate()),ie=new _(g.mul(ie.px,F.beta),ie.py,ie.pz),X.add(ie)}multiply(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,u,q);let z,W;if(F){const{k1neg:K,k1:re,k2neg:Q,k2:X}=F.splitScalar(j);let{p:ie,f:Y}=this.wNAF(re),{p:V,f:Z}=this.wNAF(X);ie=P.constTimeNegate(K,ie),V=P.constTimeNegate(Q,V),V=new _(g.mul(V.px,F.beta),V.py,V.pz),z=ie.add(V),W=Y.add(Z)}else{const{p:K,f:re}=this.wNAF(j);z=K,W=re}return _.normalizeZ([z,W])[0]}multiplyAndAddUnsafe(j,F,q){const z=_.BASE,W=(re,Q)=>Q===c||Q===u||!re.equals(z)?re.multiplyUnsafe(Q):re.multiply(Q),K=W(this,F).add(W(j,q));return K.is0()?void 0:K}toAffine(j){return I(this,j)}isTorsionFree(){const{h:j,isTorsionFree:F}=b;if(j===u)return!0;if(F)return F(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:j,clearCofactor:F}=b;return j===u?this:F?F(_,this):this.multiplyUnsafe(b.h)}toRawBytes(j=!0){return(0,n.abool)("isCompressed",j),this.assertValidity(),A(_,this,j)}toHex(j=!0){return(0,n.abool)("isCompressed",j),(0,n.bytesToHex)(this.toRawBytes(j))}}_.BASE=new _(b.Gx,b.Gy,g.ONE),_.ZERO=new _(g.ZERO,g.ONE,g.ZERO);const{endo:R,nBitLength:O}=b,P=(0,e.wNAF)(_,R?Math.ceil(O/2):O);return{CURVE:b,ProjectivePoint:_,normPrivateKeyToScalar:B,weierstrassEquation:x,isWithinCurveOrder:k}}function p(w){const b=(0,e.validateBasic)(w);return(0,n.validateObject)(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})}function m(w){const b=p(w),{Fp:g,n:v,nByteLength:A,nBitLength:C}=b,x=g.BYTES+1,T=2*g.BYTES+1;function N(V){return(0,r.mod)(V,v)}function M(V){return(0,r.invert)(V,v)}const{ProjectivePoint:k,normPrivateKeyToScalar:B,weierstrassEquation:U,isWithinCurveOrder:I}=h({...b,toBytes(V,Z,ne){const ue=Z.toAffine(),ce=g.toBytes(ue.x),ge=n.concatBytes;return(0,n.abool)("isCompressed",ne),ne?ge(Uint8Array.from([Z.hasEvenY()?2:3]),ce):ge(Uint8Array.from([4]),ce,g.toBytes(ue.y))},fromBytes(V){const Z=V.length,ne=V[0],ue=V.subarray(1);if(Z===x&&(ne===2||ne===3)){const ce=(0,n.bytesToNumberBE)(ue);if(!(0,n.inRange)(ce,u,g.ORDER))throw new Error("Point is not on curve");const ge=U(ce);let we;try{we=g.sqrt(ge)}catch(Oe){const Se=Oe instanceof Error?": "+Oe.message:"";throw new Error("Point is not on curve"+Se)}const me=(we&u)===u;return(ne&1)===1!==me&&(we=g.neg(we)),{x:ce,y:we}}else if(Z===T&&ne===4){const ce=g.fromBytes(ue.subarray(0,g.BYTES)),ge=g.fromBytes(ue.subarray(g.BYTES,2*g.BYTES));return{x:ce,y:ge}}else{const ce=x,ge=T;throw new Error("invalid Point, expected length of "+ce+", or uncompressed "+ge+", got "+Z)}}});function S(V){const Z=v>>u;return V>Z}function _(V){return S(V)?N(-V):V}const R=(V,Z,ne)=>(0,n.bytesToNumberBE)(V.slice(Z,ne));class O{constructor(Z,ne,ue){(0,n.aInRange)("r",Z,u,v),(0,n.aInRange)("s",ne,u,v),this.r=Z,this.s=ne,ue!=null&&(this.recovery=ue),Object.freeze(this)}static fromCompact(Z){const ne=A;return Z=(0,n.ensureBytes)("compactSignature",Z,ne*2),new O(R(Z,0,ne),R(Z,ne,2*ne))}static fromDER(Z){const{r:ne,s:ue}=t.DER.toSig((0,n.ensureBytes)("DER",Z));return new O(ne,ue)}assertValidity(){}addRecoveryBit(Z){return new O(this.r,this.s,Z)}recoverPublicKey(Z){const{r:ne,s:ue,recovery:ce}=this,ge=z((0,n.ensureBytes)("msgHash",Z));if(ce==null||![0,1,2,3].includes(ce))throw new Error("recovery id invalid");const we=ce===2||ce===3?ne+b.n:ne;if(we>=g.ORDER)throw new Error("recovery id 2 or 3 invalid");const me=(ce&1)===0?"02":"03",ae=k.fromHex(me+a(we,g.BYTES)),Oe=M(we),Se=N(-ge*Oe),Be=N(ue*Oe),de=k.BASE.multiplyAndAddUnsafe(ae,Se,Be);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,N(-this.s),this.recovery):this}toDERRawBytes(){return(0,n.hexToBytes)(this.toDERHex())}toDERHex(){return t.DER.hexFromSig(this)}toCompactRawBytes(){return(0,n.hexToBytes)(this.toCompactHex())}toCompactHex(){const Z=A;return a(this.r,Z)+a(this.s,Z)}}const P={isValidPrivateKey(V){try{return B(V),!0}catch{return!1}},normPrivateKeyToScalar:B,randomPrivateKey:()=>{const V=(0,r.getMinHashLength)(b.n);return(0,r.mapHashToField)(b.randomBytes(V),b.n)},precompute(V=8,Z=k.BASE){return Z._setWindowSize(V),Z.multiply(BigInt(3)),Z}};function D(V,Z=!0){return k.fromPrivateKey(V).toRawBytes(Z)}function j(V){if(typeof V=="bigint")return!1;if(V instanceof k)return!0;const ne=(0,n.ensureBytes)("key",V).length,ue=g.BYTES,ce=ue+1,ge=2*ue+1;if(!(b.allowedPrivateKeyLengths||A===ce))return ne===ce||ne===ge}function F(V,Z,ne=!0){if(j(V)===!0)throw new Error("first arg must be private key");if(j(Z)===!1)throw new Error("second arg must be public key");return k.fromHex(Z).multiply(B(V)).toRawBytes(ne)}const q=b.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const Z=(0,n.bytesToNumberBE)(V),ne=V.length*8-C;return ne>0?Z>>BigInt(ne):Z},z=b.bits2int_modN||function(V){return N(q(V))},W=(0,n.bitMask)(C);function K(V){return(0,n.aInRange)("num < 2^"+C,V,c,W),(0,n.numberToBytesBE)(V,A)}function re(V,Z,ne=Q){if(["recovered","canonical"].some($=>$ in ne))throw new Error("sign() legacy options not supported");const{hash:ue,randomBytes:ce}=b;let{lowS:ge,prehash:we,extraEntropy:me}=ne;ge==null&&(ge=!0),V=(0,n.ensureBytes)("msgHash",V),s(ne),we&&(V=(0,n.ensureBytes)("prehashed msgHash",ue(V)));const ae=z(V),Oe=B(Z),Se=[K(Oe),K(ae)];if(me!=null&&me!==!1){const $=me===!0?ce(g.BYTES):me;Se.push((0,n.ensureBytes)("extraEntropy",$))}const Be=(0,n.concatBytes)(...Se),de=ae;function oe($){const L=q($);if(!I(L))return;const H=M(L),ee=k.BASE.multiply(L).toAffine(),le=N(ee.x);if(le===c)return;const ye=N(H*N(de+le*Oe));if(ye===c)return;let Ae=(ee.x===le?0:2)|Number(ee.y&u),tt=ye;return ge&&S(ye)&&(tt=_(ye),Ae^=1),new O(le,tt,Ae)}return{seed:Be,k2sig:oe}}const Q={lowS:b.lowS,prehash:!1},X={lowS:b.lowS,prehash:!1};function ie(V,Z,ne=Q){const{seed:ue,k2sig:ce}=re(V,Z,ne),ge=b;return(0,n.createHmacDrbg)(ge.hash.outputLen,ge.nByteLength,ge.hmac)(ue,ce)}k.BASE._setWindowSize(8);function Y(V,Z,ne,ue=X){var Ae;const ce=V;Z=(0,n.ensureBytes)("msgHash",Z),ne=(0,n.ensureBytes)("publicKey",ne);const{lowS:ge,prehash:we,format:me}=ue;if(s(ue),"strict"in ue)throw new Error("options.strict was renamed to lowS");if(me!==void 0&&me!=="compact"&&me!=="der")throw new Error("format must be compact or der");const ae=typeof ce=="string"||(0,n.isBytes)(ce),Oe=!ae&&!me&&typeof ce=="object"&&ce!==null&&typeof ce.r=="bigint"&&typeof ce.s=="bigint";if(!ae&&!Oe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Se,Be;try{if(Oe&&(Se=new O(ce.r,ce.s)),ae){try{me!=="compact"&&(Se=O.fromDER(ce))}catch(tt){if(!(tt instanceof t.DER.Err))throw tt}!Se&&me!=="der"&&(Se=O.fromCompact(ce))}Be=k.fromHex(ne)}catch{return!1}if(!Se||ge&&Se.hasHighS())return!1;we&&(Z=b.hash(Z));const{r:de,s:oe}=Se,$=z(Z),L=M(oe),H=N($*L),ee=N(de*L),le=(Ae=k.BASE.multiplyAndAddUnsafe(Be,H,ee))==null?void 0:Ae.toAffine();return le?N(le.x)===de:!1}return{CURVE:b,getPublicKey:D,getSharedSecret:F,sign:ie,verify:Y,ProjectivePoint:k,Signature:O,utils:P}}function y(w,b){const g=w.ORDER;let v=c;for(let S=g-u;S%l===c;S/=l)v+=u;const A=v,C=l<<A-u-u,x=C*l,T=(g-u)/x,N=(T-u)/l,M=x-u,k=C,B=w.pow(b,T),U=w.pow(b,(T+u)/l);let I=(S,_)=>{let R=B,O=w.pow(_,M),P=w.sqr(O);P=w.mul(P,_);let D=w.mul(S,P);D=w.pow(D,N),D=w.mul(D,O),O=w.mul(D,_),P=w.mul(D,S);let j=w.mul(P,O);D=w.pow(j,k);let F=w.eql(D,w.ONE);O=w.mul(P,U),D=w.mul(j,R),P=w.cmov(O,P,F),j=w.cmov(D,j,F);for(let q=A;q>u;q--){let z=q-l;z=l<<z-u;let W=w.pow(j,z);const K=w.eql(W,w.ONE);O=w.mul(P,R),R=w.mul(R,R),W=w.mul(j,R),P=w.cmov(O,P,K),j=w.cmov(W,j,K)}return{isValid:F,value:P}};if(w.ORDER%f===d){const S=(w.ORDER-d)/f,_=w.sqrt(w.neg(b));I=(R,O)=>{let P=w.sqr(O);const D=w.mul(R,O);P=w.mul(P,D);let j=w.pow(P,S);j=w.mul(j,D);const F=w.mul(j,_),q=w.mul(w.sqr(j),O),z=w.eql(q,R);let W=w.cmov(F,j,z);return{isValid:z,value:W}}}return I}function E(w,b){if((0,r.validateField)(w),!w.isValid(b.A)||!w.isValid(b.B)||!w.isValid(b.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const g=y(w,b.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return v=>{let A,C,x,T,N,M,k,B;A=w.sqr(v),A=w.mul(A,b.Z),C=w.sqr(A),C=w.add(C,A),x=w.add(C,w.ONE),x=w.mul(x,b.B),T=w.cmov(b.Z,w.neg(C),!w.eql(C,w.ZERO)),T=w.mul(T,b.A),C=w.sqr(x),M=w.sqr(T),N=w.mul(M,b.A),C=w.add(C,N),C=w.mul(C,x),M=w.mul(M,T),N=w.mul(M,b.B),C=w.add(C,N),k=w.mul(A,x);const{isValid:U,value:I}=g(C,M);B=w.mul(A,v),B=w.mul(B,I),k=w.cmov(k,x,U),B=w.cmov(B,I,U);const S=w.isOdd(v)===w.isOdd(B);B=w.cmov(w.neg(B),B,S);const _=(0,r.FpInvertBatch)(w,[T],!0)[0];return k=w.mul(k,_),{x:k,y:B}}}})(xO)),xO}var Rz;function A4e(){if(Rz)return vb;Rz=1,Object.defineProperty(vb,"__esModule",{value:!0}),vb.getHash=n,vb.createCurve=s;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Hte(),e=ma(),r=qre();function n(i){return{hash:i,hmac:(o,...a)=>(0,t.hmac)(i,o,(0,e.concatBytes)(...a)),randomBytes:e.randomBytes}}function s(i,o){const a=c=>(0,r.weierstrass)({...i,...n(c)});return{...a(o),create:a}}return vb}var _l={},Nz;function C4e(){if(Nz)return _l;Nz=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.expand_message_xmd=o,_l.expand_message_xof=a,_l.hash_to_field=c,_l.isogenyMap=u,_l.createHasher=l;const t=d6(),e=Pp(),r=e.bytesToNumberBE;function n(d,f){if(i(d),i(f),d<0||d>=1<<8*f)throw new Error("invalid I2OSP input: "+d);const h=Array.from({length:f}).fill(0);for(let p=f-1;p>=0;p--)h[p]=d&255,d>>>=8;return new Uint8Array(h)}function s(d,f){const h=new Uint8Array(d.length);for(let p=0;p<d.length;p++)h[p]=d[p]^f[p];return h}function i(d){if(!Number.isSafeInteger(d))throw new Error("number expected")}function o(d,f,h,p){(0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255&&(f=p((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),f)));const{outputLen:m,blockLen:y}=p,E=Math.ceil(h/m);if(h>65535||E>255)throw new Error("expand_message_xmd: invalid lenInBytes");const w=(0,e.concatBytes)(f,n(f.length,1)),b=n(0,y),g=n(h,2),v=new Array(E),A=p((0,e.concatBytes)(b,d,g,n(0,1),w));v[0]=p((0,e.concatBytes)(A,n(1,1),w));for(let x=1;x<=E;x++){const T=[s(A,v[x-1]),n(x+1,1),w];v[x]=p((0,e.concatBytes)(...T))}return(0,e.concatBytes)(...v).slice(0,h)}function a(d,f,h,p,m){if((0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255){const y=Math.ceil(2*p/8);f=m.create({dkLen:y}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(f).digest()}if(h>65535||f.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return m.create({dkLen:h}).update(d).update(n(h,2)).update(f).update(n(f.length,1)).digest()}function c(d,f,h){(0,e.validateObject)(h,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p,k:m,m:y,hash:E,expand:w,DST:b}=h;(0,e.abytes)(d),i(f);const g=typeof b=="string"?(0,e.utf8ToBytes)(b):b,v=p.toString(2).length,A=Math.ceil((v+m)/8),C=f*y*A;let x;if(w==="xmd")x=o(d,g,C,E);else if(w==="xof")x=a(d,g,C,m,E);else if(w==="_internal_pass")x=d;else throw new Error('expand must be "xmd" or "xof"');const T=new Array(f);for(let N=0;N<f;N++){const M=new Array(y);for(let k=0;k<y;k++){const B=A*(k+N*y),U=x.subarray(B,B+A);M[k]=(0,t.mod)(r(U),p)}T[N]=M}return T}function u(d,f){const h=f.map(p=>Array.from(p).reverse());return(p,m)=>{const[y,E,w,b]=h.map(A=>A.reduce((C,x)=>d.add(d.mul(C,p),x))),[g,v]=(0,t.FpInvertBatch)(d,[E,b],!0);return p=d.mul(y,g),m=d.mul(m,d.mul(w,v)),{x:p,y:m}}}function l(d,f,h){if(typeof f!="function")throw new Error("mapToCurve() must be defined");function p(y){return d.fromAffine(f(y))}function m(y){const E=y.clearCofactor();return E.equals(d.ZERO)?d.ZERO:(E.assertValidity(),E)}return{defaults:h,hashToCurve(y,E){const w=c(y,2,{...h,DST:h.DST,...E}),b=p(w[0]),g=p(w[1]);return m(b.add(g))},encodeToCurve(y,E){const w=c(y,1,{...h,DST:h.encodeDST,...E});return m(p(w[0]))},mapToCurve(y){if(!Array.isArray(y))throw new Error("expected array of bigints");for(const E of y)if(typeof E!="bigint")throw new Error("expected array of bigints");return m(p(y))}}}return _l}var Bz;function zre(){return Bz||(Bz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.secp256k1_hasher=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Q3(),r=ma(),n=A4e(),s=C4e(),i=d6(),o=Pp(),a=qre(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(0),d=BigInt(1),f=BigInt(2),h=(_,R)=>(_+R/f)/R;function p(_){const R=c,O=BigInt(3),P=BigInt(6),D=BigInt(11),j=BigInt(22),F=BigInt(23),q=BigInt(44),z=BigInt(88),W=_*_*_%R,K=W*W*_%R,re=(0,i.pow2)(K,O,R)*K%R,Q=(0,i.pow2)(re,O,R)*K%R,X=(0,i.pow2)(Q,f,R)*W%R,ie=(0,i.pow2)(X,D,R)*X%R,Y=(0,i.pow2)(ie,j,R)*ie%R,V=(0,i.pow2)(Y,q,R)*Y%R,Z=(0,i.pow2)(V,z,R)*V%R,ne=(0,i.pow2)(Z,q,R)*Y%R,ue=(0,i.pow2)(ne,O,R)*K%R,ce=(0,i.pow2)(ue,F,R)*ie%R,ge=(0,i.pow2)(ce,P,R)*W%R,we=(0,i.pow2)(ge,f,R);if(!m.eql(m.sqr(we),_))throw new Error("Cannot find square root");return we}const m=(0,i.Field)(c,void 0,void 0,{sqrt:p});t.secp256k1=(0,n.createCurve)({a:l,b:BigInt(7),Fp:m,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:_=>{const R=u,O=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),P=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),D=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),j=O,F=BigInt("0x100000000000000000000000000000000"),q=h(j*_,R),z=h(-P*_,R);let W=(0,i.mod)(_-q*O-z*D,R),K=(0,i.mod)(-q*P-z*j,R);const re=W>F,Q=K>F;if(re&&(W=R-W),Q&&(K=R-K),W>F||K>F)throw new Error("splitScalar: Endomorphism failed, k="+_);return{k1neg:re,k1:W,k2neg:Q,k2:K}}}},e.sha256);const y={};function E(_,...R){let O=y[_];if(O===void 0){const P=(0,e.sha256)(Uint8Array.from(_,D=>D.charCodeAt(0)));O=(0,o.concatBytes)(P,P),y[_]=O}return(0,e.sha256)((0,o.concatBytes)(O,...R))}const w=_=>_.toRawBytes(!0).slice(1),b=_=>(0,o.numberToBytesBE)(_,32),g=_=>(0,i.mod)(_,c),v=_=>(0,i.mod)(_,u),A=t.secp256k1.ProjectivePoint,C=(_,R,O)=>A.BASE.multiplyAndAddUnsafe(_,R,O);function x(_){let R=t.secp256k1.utils.normPrivateKeyToScalar(_),O=A.fromPrivateKey(R);return{scalar:O.hasEvenY()?R:v(-R),bytes:w(O)}}function T(_){(0,o.aInRange)("x",_,d,c);const R=g(_*_),O=g(R*_+BigInt(7));let P=p(O);P%f!==l&&(P=g(-P));const D=new A(_,P,d);return D.assertValidity(),D}const N=o.bytesToNumberBE;function M(..._){return v(N(E("BIP0340/challenge",..._)))}function k(_){return x(_).bytes}function B(_,R,O=(0,r.randomBytes)(32)){const P=(0,o.ensureBytes)("message",_),{bytes:D,scalar:j}=x(R),F=(0,o.ensureBytes)("auxRand",O,32),q=b(j^N(E("BIP0340/aux",F))),z=E("BIP0340/nonce",q,D,P),W=v(N(z));if(W===l)throw new Error("sign failed: k is zero");const{bytes:K,scalar:re}=x(W),Q=M(K,D,P),X=new Uint8Array(64);if(X.set(K,0),X.set(b(v(re+Q*j)),32),!U(X,P,D))throw new Error("sign: Invalid signature produced");return X}function U(_,R,O){const P=(0,o.ensureBytes)("signature",_,64),D=(0,o.ensureBytes)("message",R),j=(0,o.ensureBytes)("publicKey",O,32);try{const F=T(N(j)),q=N(P.subarray(0,32));if(!(0,o.inRange)(q,d,c))return!1;const z=N(P.subarray(32,64));if(!(0,o.inRange)(z,d,u))return!1;const W=M(b(q),w(F),D),K=C(F,z,v(-W));return!(!K||!K.hasEvenY()||K.toAffine().x!==q)}catch{return!1}}t.schnorr={getPublicKey:k,sign:B,verify:U,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:T,pointToBytes:w,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:E,mod:i.mod}};const I=(0,s.isogenyMap)(m,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(_=>_.map(R=>BigInt(R)))),S=(0,a.mapToCurveSimpleSWU)(m,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m.create(BigInt("-11"))});t.secp256k1_hasher=(0,s.createHasher)(t.secp256k1.ProjectivePoint,_=>{const{x:R,y:O}=S(m.create(_[0]));return I(R,O)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}),t.hashToCurve=t.secp256k1_hasher.hashToCurve,t.encodeToCurve=t.secp256k1_hasher.encodeToCurve})(PO)),PO}var kz;function $re(){if(kz)return Mt;kz=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.InvalidVError=Mt.InvalidYParityError=Mt.InvalidSError=Mt.InvalidRError=Mt.MissingPropertiesError=Mt.InvalidSerializedSizeError=void 0,Mt.assert=o,Mt.fromBytes=a,Mt.fromHex=c,Mt.extract=u,Mt.from=l,Mt.fromDerBytes=d,Mt.fromDerHex=f,Mt.fromLegacy=h,Mt.fromRpc=p,Mt.fromTuple=m,Mt.toBytes=y,Mt.toHex=E,Mt.toDerBytes=w,Mt.toDerHex=b,Mt.toLegacy=g,Mt.toRpc=v,Mt.toTuple=A,Mt.validate=C,Mt.vToYParity=x,Mt.yParityToV=T;const t=zre(),e=mc(),r=ro(),n=es(),s=YP(),i=U4();function o(S,_={}){const{recovered:R}=_;if(typeof S.r>"u")throw new M({signature:S});if(typeof S.s>"u")throw new M({signature:S});if(R&&typeof S.yParity>"u")throw new M({signature:S});if(S.r<0n||S.r>i.maxUint256)throw new k({value:S.r});if(S.s<0n||S.s>i.maxUint256)throw new B({value:S.s});if(typeof S.yParity=="number"&&S.yParity!==0&&S.yParity!==1)throw new U({value:S.yParity})}function a(S){return c(n.fromBytes(S))}function c(S){if(S.length!==130&&S.length!==132)throw new N({signature:S});const _=BigInt(n.slice(S,0,32)),R=BigInt(n.slice(S,32,64)),O=(()=>{const P=+`0x${S.slice(130)}`;if(!Number.isNaN(P))try{return x(P)}catch{throw new U({value:P})}})();return typeof O>"u"?{r:_,s:R}:{r:_,s:R,yParity:O}}function u(S){if(!(typeof S.r>"u")&&!(typeof S.s>"u"))return l(S)}function l(S){const _=typeof S=="string"?c(S):S instanceof Uint8Array?a(S):typeof S.r=="string"?p(S):S.v?h(S):{r:S.r,s:S.s,...typeof S.yParity<"u"?{yParity:S.yParity}:{}};return o(_),_}function d(S){return f(n.fromBytes(S))}function f(S){const{r:_,s:R}=t.secp256k1.Signature.fromDER(n.from(S).slice(2));return{r:_,s:R}}function h(S){return{r:S.r,s:S.s,yParity:x(S.v)}}function p(S){const _=(()=>{const R=S.v?Number(S.v):void 0;let O=S.yParity?Number(S.yParity):void 0;if(typeof R=="number"&&typeof O!="number"&&(O=x(R)),typeof O!="number")throw new U({value:S.yParity});return O})();return{r:BigInt(S.r),s:BigInt(S.s),yParity:_}}function m(S){const[_,R,O]=S;return l({r:R==="0x"?0n:BigInt(R),s:O==="0x"?0n:BigInt(O),yParity:_==="0x"?0:Number(_)})}function y(S){return e.fromHex(E(S))}function E(S){o(S);const _=S.r,R=S.s;return n.concat(n.fromNumber(_,{size:32}),n.fromNumber(R,{size:32}),typeof S.yParity=="number"?n.fromNumber(T(S.yParity),{size:1}):"0x")}function w(S){return new t.secp256k1.Signature(S.r,S.s).toDERRawBytes()}function b(S){return`0x${new t.secp256k1.Signature(S.r,S.s).toDERHex()}`}function g(S){return{r:S.r,s:S.s,v:T(S.yParity)}}function v(S){const{r:_,s:R,yParity:O}=S;return{r:n.fromNumber(_,{size:32}),s:n.fromNumber(R,{size:32}),yParity:O===0?"0x0":"0x1"}}function A(S){const{r:_,s:R,yParity:O}=S;return[O?"0x01":"0x",_===0n?"0x":n.trimLeft(n.fromNumber(_)),R===0n?"0x":n.trimLeft(n.fromNumber(R))]}function C(S,_={}){try{return o(S,_),!0}catch{return!1}}function x(S){if(S===0||S===27)return 0;if(S===1||S===28)return 1;if(S>=35)return S%2===0?1:0;throw new I({value:S})}function T(S){if(S===0)return 27;if(S===1)return 28;throw new U({value:S})}class N extends r.BaseError{constructor({signature:_}){super(`Value \`${_}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${n.size(n.from(_))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}Mt.InvalidSerializedSizeError=N;class M extends r.BaseError{constructor({signature:_}){super(`Signature \`${s.stringify(_)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}Mt.MissingPropertiesError=M;class k extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}Mt.InvalidRError=k;class B extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}Mt.InvalidSError=B;class U extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}Mt.InvalidYParityError=U;class I extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}return Mt.InvalidVError=I,Mt}var jz;function S4e(){if(jz)return Ys;jz=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.from=s,Ys.fromRpc=i,Ys.fromRpcList=o,Ys.fromTuple=a,Ys.fromTupleList=c,Ys.getSignPayload=u,Ys.hash=l,Ys.toRpc=d,Ys.toRpcList=f,Ys.toTuple=h,Ys.toTupleList=p;const t=M4(),e=es(),r=v4e(),n=$re();function s(m,y={}){return typeof m.chainId=="string"?i(m):{...m,...y.signature}}function i(m){const{address:y,chainId:E,nonce:w}=m,b=n.extract(m);return{address:y,chainId:Number(E),nonce:BigInt(w),...b}}function o(m){return m.map(i)}function a(m){const[y,E,w,b,g,v]=m;let A={address:E,chainId:y==="0x"?0:Number(y),nonce:w==="0x"?0n:BigInt(w)};return b&&g&&v&&(A={...A,...n.fromTuple([b,g,v])}),s(A)}function c(m){const y=[];for(const E of m)y.push(a(E));return y}function u(m){return l(m,{presign:!0})}function l(m,y={}){const{presign:E}=y;return t.keccak256(e.concat("0x05",r.fromHex(h(E?{address:m.address,chainId:m.chainId,nonce:m.nonce}:m))))}function d(m){const{address:y,chainId:E,nonce:w,...b}=m;return{address:y,chainId:e.fromNumber(E),nonce:e.fromNumber(w),...n.toRpc(b)}}function f(m){return m.map(d)}function h(m){const{address:y,chainId:E,nonce:w}=m,b=n.extract(m);return[E?e.fromNumber(E):"0x",y,w?e.fromNumber(w):"0x",...b?n.toTuple(b):[]]}function p(m){if(!m||m.length===0)return[];const y=[];for(const E of m)y.push(h(E));return y}return Ys}var Bi={},Rf={},Dz;function I4e(){if(Dz)return Rf;Dz=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.extraEntropy=void 0,Rf.setExtraEntropy=t,Rf.extraEntropy=!1;function t(e){Rf.extraEntropy=e}return Rf}var Mz;function T4e(){if(Mz)return Bi;Mz=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.noble=void 0,Bi.createKeyPair=o,Bi.getPublicKey=a,Bi.getSharedSecret=c,Bi.randomPrivateKey=u,Bi.recoverAddress=l,Bi.recoverPublicKey=d,Bi.sign=f,Bi.verify=h;const t=zre(),e=l6(),r=mc(),n=es(),s=I4e(),i=Fre();Bi.noble=t.secp256k1;function o(p={}){const{as:m="Hex"}=p,y=u({as:m}),E=a({privateKey:y});return{privateKey:y,publicKey:E}}function a(p){const{privateKey:m}=p,y=t.secp256k1.ProjectivePoint.fromPrivateKey(n.from(m).slice(2));return i.from(y)}function c(p){const{as:m="Hex",privateKey:y,publicKey:E}=p,g=t.secp256k1.ProjectivePoint.fromHex(i.toHex(E).slice(2)).multiply(t.secp256k1.utils.normPrivateKeyToScalar(n.from(y).slice(2))).toRawBytes(!0);return m==="Hex"?n.fromBytes(g):g}function u(p={}){const{as:m="Hex"}=p,y=t.secp256k1.utils.randomPrivateKey();return m==="Hex"?n.fromBytes(y):y}function l(p){return e.fromPublicKey(d(p))}function d(p){const{payload:m,signature:y}=p,{r:E,s:w,yParity:b}=y,v=new t.secp256k1.Signature(BigInt(E),BigInt(w)).addRecoveryBit(b).recoverPublicKey(n.from(m).substring(2));return i.from(v)}function f(p){const{extraEntropy:m=s.extraEntropy,hash:y,payload:E,privateKey:w}=p,{r:b,s:g,recovery:v}=t.secp256k1.sign(r.from(E),r.from(w),{extraEntropy:typeof m=="boolean"?m:n.from(m).slice(2),lowS:!0,...y?{prehash:!0}:{}});return{r:b,s:g,yParity:v}}function h(p){const{address:m,hash:y,payload:E,publicKey:w,signature:b}=p;return m?e.isEqual(m,l({payload:E,signature:b})):t.secp256k1.verify(b,r.from(E),i.toBytes(w),...y?[{prehash:!0,lowS:!0}]:[])}return Bi}var Uz;function P4e(){return Uz||(Uz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWrappedSignatureError=t.suffixParameters=t.magicBytes=void 0,t.assert=a,t.from=c,t.unwrap=u,t.wrap=l,t.validate=d;const e=FE(),r=S4e(),n=ro(),s=es(),i=T4e(),o=$re();t.magicBytes="0x8010801080108010801080108010801080108010801080108010801080108010",t.suffixParameters=e.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function a(h){if(typeof h=="string"){if(s.slice(h,-32)!==t.magicBytes)throw new f(h)}else o.assert(h.authorization)}function c(h){return typeof h=="string"?u(h):h}function u(h){a(h);const p=s.toNumber(s.slice(h,-64,-32)),m=s.slice(h,-p-64,-64),y=s.slice(h,0,-p-64),[E,w,b]=e.decode(t.suffixParameters,m);return{authorization:r.from({address:E.delegation,chainId:Number(E.chainId),nonce:E.nonce,yParity:E.yParity,r:E.r,s:E.s}),signature:y,...b&&b!=="0x"?{data:b,to:w}:{}}}function l(h){const{data:p,signature:m}=h;a(h);const y=i.recoverAddress({payload:r.getSignPayload(h.authorization),signature:o.from(h.authorization)}),E=e.encode(t.suffixParameters,[{...h.authorization,delegation:h.authorization.address,chainId:BigInt(h.authorization.chainId)},h.to??y,p??"0x"]),w=s.fromNumber(s.size(E),{size:32});return s.concat(m,E,w,t.magicBytes)}function d(h){try{return a(h),!0}catch{return!1}}class f extends n.BaseError{constructor(p){super(`Value \`${p}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}t.InvalidWrappedSignatureError=f})(IO)),IO}var Lz;function f6(){return Lz||(Lz=1,Object.defineProperty(mb,"__esModule",{value:!0}),mb.SignatureErc8010=void 0,mb.SignatureErc8010=P4e()),mb}var Fz;function L4(){if(Fz)return m2;Fz=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.isErc8010Signature=e;const t=f6();function e(r){return t.SignatureErc8010.validate(r)}return m2}var I2={},Hz;function Vre(){if(Hz)return I2;Hz=1,Object.defineProperty(I2,"__esModule",{value:!0}),I2.parseErc6492Signature=r;const t=Md(),e=j4();function r(n){if(!(0,e.isErc6492Signature)(n))return{signature:n};const[s,i,o]=(0,t.decodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],n);return{address:s,data:i,signature:o}}return I2}var T2={},qz;function Gre(){if(qz)return T2;qz=1,Object.defineProperty(T2,"__esModule",{value:!0}),T2.parseErc8010Signature=n;const t=f6(),e=ze(),r=L4();function n(s){if(!(0,r.isErc8010Signature)(s))return{signature:s};const{authorization:i,to:o,...a}=t.SignatureErc8010.unwrap(s);return{authorization:{address:i.address,chainId:i.chainId,nonce:Number(i.nonce),r:(0,e.numberToHex)(i.r,{size:32}),s:(0,e.numberToHex)(i.s,{size:32}),yParity:i.yParity},...o?{address:o}:{},...a}}return T2}var P2={},zz;function F4(){if(zz)return P2;zz=1,Object.defineProperty(P2,"__esModule",{value:!0}),P2.recoverMessageAddress=r;const t=ME(),e=Hd();async function r({message:n,signature:s}){return(0,e.recoverAddress)({hash:(0,t.hashMessage)(n),signature:s})}return P2}var x2={},$z;function H4(){if($z)return x2;$z=1,Object.defineProperty(x2,"__esModule",{value:!0}),x2.recoverTypedDataAddress=r;const t=UE(),e=Hd();async function r(n){const{domain:s,message:i,primaryType:o,signature:a,types:c}=n;return(0,e.recoverAddress)({hash:(0,t.hashTypedData)({domain:s,message:i,primaryType:o,types:c}),signature:a})}return x2}var O2={},Vz;function Wre(){if(Vz)return O2;Vz=1,Object.defineProperty(O2,"__esModule",{value:!0}),O2.serializeErc6492Signature=s;const t=k4(),e=ya(),r=Dn(),n=Cr();function s(i){const{address:o,data:a,signature:c,to:u="hex"}=i,l=(0,r.concatHex)([(0,e.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[o,a,c]),t.erc6492MagicBytes]);return u==="hex"?l:(0,n.hexToBytes)(l)}return O2}var R2={},Gz;function Kre(){if(Gz)return R2;Gz=1,Object.defineProperty(R2,"__esModule",{value:!0}),R2.serializeErc8010Signature=r;const t=f6(),e=Cr();function r(n){const{address:s,data:i,signature:o,to:a="hex"}=n,c=t.SignatureErc8010.wrap({authorization:{address:n.authorization.address,chainId:n.authorization.chainId,nonce:BigInt(n.authorization.nonce),r:BigInt(n.authorization.r),s:BigInt(n.authorization.s),yParity:n.authorization.yParity},data:i,signature:o,to:s});return a==="hex"?c:(0,e.hexToBytes)(c)}return R2}var N2={},Wz;function Zre(){if(Wz)return N2;Wz=1,Object.defineProperty(N2,"__esModule",{value:!0}),N2.verifyHash=n;const t=to(),e=va(),r=Hd();async function n({address:s,hash:i,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(s),await(0,r.recoverAddress)({hash:i,signature:o}))}return N2}var B2={},Kz;function Yre(){if(Kz)return B2;Kz=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.verifyMessage=n;const t=to(),e=va(),r=F4();async function n({address:s,message:i,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(s),await(0,r.recoverMessageAddress)({message:i,signature:o}))}return B2}var k2={},Zz;function Jre(){if(Zz)return k2;Zz=1,Object.defineProperty(k2,"__esModule",{value:!0}),k2.verifyTypedData=n;const t=to(),e=va(),r=H4();async function n(s){const{address:i,domain:o,message:a,primaryType:c,signature:u,types:l}=s;return(0,e.isAddressEqual)((0,t.getAddress)(i),await(0,r.recoverTypedDataAddress)({domain:o,message:a,primaryType:c,signature:u,types:l}))}return k2}var j2={},Yz;function q4(){if(Yz)return j2;Yz=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.getSerializedTransactionType=n;const t=Si(),e=xo(),r=tn();function n(s){const i=(0,e.sliceHex)(s,0,1);if(i==="0x04")return"eip7702";if(i==="0x03")return"eip4844";if(i==="0x02")return"eip1559";if(i==="0x01")return"eip2930";if(i!=="0x"&&(0,r.hexToNumber)(i)>=192)return"legacy";throw new t.InvalidSerializedTransactionTypeError({serializedType:i})}return j2}var f0={},Jz;function z4(){if(Jz)return f0;Jz=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.parseTransaction=f,f0.toTransactionArray=w,f0.parseAccessList=b;const t=ga(),e=Si(),r=Ai(),n=KP(),s=zs(),i=Dd(),o=Gu(),a=tn(),c=x4(),u=O4(),l=n6(),d=q4();function f(A){const C=(0,d.getSerializedTransactionType)(A);return C==="eip1559"?m(A):C==="eip2930"?y(A):C==="eip4844"?p(A):C==="eip7702"?h(A):E(A)}function h(A){const C=w(A),[x,T,N,M,k,B,U,I,S,_,R,O,P]=C;if(C.length!==10&&C.length!==13)throw new e.InvalidSerializedTransactionError({attributes:{chainId:x,nonce:T,maxPriorityFeePerGas:N,maxFeePerGas:M,gas:k,to:B,value:U,data:I,accessList:S,authorizationList:_,...C.length>9?{v:R,r:O,s:P}:{}},serializedTransaction:A,type:"eip7702"});const D={chainId:(0,a.hexToNumber)(x),type:"eip7702"};return(0,s.isHex)(B)&&B!=="0x"&&(D.to=B),(0,s.isHex)(k)&&k!=="0x"&&(D.gas=(0,a.hexToBigInt)(k)),(0,s.isHex)(I)&&I!=="0x"&&(D.data=I),(0,s.isHex)(T)&&(D.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,s.isHex)(U)&&U!=="0x"&&(D.value=(0,a.hexToBigInt)(U)),(0,s.isHex)(M)&&M!=="0x"&&(D.maxFeePerGas=(0,a.hexToBigInt)(M)),(0,s.isHex)(N)&&N!=="0x"&&(D.maxPriorityFeePerGas=(0,a.hexToBigInt)(N)),S.length!==0&&S!=="0x"&&(D.accessList=b(S)),_.length!==0&&_!=="0x"&&(D.authorizationList=g(_)),(0,l.assertTransactionEIP7702)(D),{...C.length===13?v(C):void 0,...D}}function p(A){const C=w(A),x=C.length===4,T=x?C[0]:C,N=x?C.slice(1):[],[M,k,B,U,I,S,_,R,O,P,D,j,F,q]=T,[z,W,K]=N;if(!(T.length===11||T.length===14))throw new e.InvalidSerializedTransactionError({attributes:{chainId:M,nonce:k,maxPriorityFeePerGas:B,maxFeePerGas:U,gas:I,to:S,value:_,data:R,accessList:O,...T.length>9?{v:j,r:F,s:q}:{}},serializedTransaction:A,type:"eip4844"});const re={blobVersionedHashes:D,chainId:(0,a.hexToNumber)(M),to:S,type:"eip4844"};return(0,s.isHex)(I)&&I!=="0x"&&(re.gas=(0,a.hexToBigInt)(I)),(0,s.isHex)(R)&&R!=="0x"&&(re.data=R),(0,s.isHex)(k)&&(re.nonce=k==="0x"?0:(0,a.hexToNumber)(k)),(0,s.isHex)(_)&&_!=="0x"&&(re.value=(0,a.hexToBigInt)(_)),(0,s.isHex)(P)&&P!=="0x"&&(re.maxFeePerBlobGas=(0,a.hexToBigInt)(P)),(0,s.isHex)(U)&&U!=="0x"&&(re.maxFeePerGas=(0,a.hexToBigInt)(U)),(0,s.isHex)(B)&&B!=="0x"&&(re.maxPriorityFeePerGas=(0,a.hexToBigInt)(B)),O.length!==0&&O!=="0x"&&(re.accessList=b(O)),z&&W&&K&&(re.sidecars=(0,n.toBlobSidecars)({blobs:z,commitments:W,proofs:K})),(0,l.assertTransactionEIP4844)(re),{...T.length===14?v(T):void 0,...re}}function m(A){const C=w(A),[x,T,N,M,k,B,U,I,S,_,R,O]=C;if(!(C.length===9||C.length===12))throw new e.InvalidSerializedTransactionError({attributes:{chainId:x,nonce:T,maxPriorityFeePerGas:N,maxFeePerGas:M,gas:k,to:B,value:U,data:I,accessList:S,...C.length>9?{v:_,r:R,s:O}:{}},serializedTransaction:A,type:"eip1559"});const P={chainId:(0,a.hexToNumber)(x),type:"eip1559"};return(0,s.isHex)(B)&&B!=="0x"&&(P.to=B),(0,s.isHex)(k)&&k!=="0x"&&(P.gas=(0,a.hexToBigInt)(k)),(0,s.isHex)(I)&&I!=="0x"&&(P.data=I),(0,s.isHex)(T)&&(P.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,s.isHex)(U)&&U!=="0x"&&(P.value=(0,a.hexToBigInt)(U)),(0,s.isHex)(M)&&M!=="0x"&&(P.maxFeePerGas=(0,a.hexToBigInt)(M)),(0,s.isHex)(N)&&N!=="0x"&&(P.maxPriorityFeePerGas=(0,a.hexToBigInt)(N)),S.length!==0&&S!=="0x"&&(P.accessList=b(S)),(0,l.assertTransactionEIP1559)(P),{...C.length===12?v(C):void 0,...P}}function y(A){const C=w(A),[x,T,N,M,k,B,U,I,S,_,R]=C;if(!(C.length===8||C.length===11))throw new e.InvalidSerializedTransactionError({attributes:{chainId:x,nonce:T,gasPrice:N,gas:M,to:k,value:B,data:U,accessList:I,...C.length>8?{v:S,r:_,s:R}:{}},serializedTransaction:A,type:"eip2930"});const O={chainId:(0,a.hexToNumber)(x),type:"eip2930"};return(0,s.isHex)(k)&&k!=="0x"&&(O.to=k),(0,s.isHex)(M)&&M!=="0x"&&(O.gas=(0,a.hexToBigInt)(M)),(0,s.isHex)(U)&&U!=="0x"&&(O.data=U),(0,s.isHex)(T)&&(O.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,s.isHex)(B)&&B!=="0x"&&(O.value=(0,a.hexToBigInt)(B)),(0,s.isHex)(N)&&N!=="0x"&&(O.gasPrice=(0,a.hexToBigInt)(N)),I.length!==0&&I!=="0x"&&(O.accessList=b(I)),(0,l.assertTransactionEIP2930)(O),{...C.length===11?v(C):void 0,...O}}function E(A){const C=(0,c.fromRlp)(A,"hex"),[x,T,N,M,k,B,U,I,S]=C;if(!(C.length===6||C.length===9))throw new e.InvalidSerializedTransactionError({attributes:{nonce:x,gasPrice:T,gas:N,to:M,value:k,data:B,...C.length>6?{v:U,r:I,s:S}:{}},serializedTransaction:A,type:"legacy"});const _={type:"legacy"};if((0,s.isHex)(M)&&M!=="0x"&&(_.to=M),(0,s.isHex)(N)&&N!=="0x"&&(_.gas=(0,a.hexToBigInt)(N)),(0,s.isHex)(B)&&B!=="0x"&&(_.data=B),(0,s.isHex)(x)&&(_.nonce=x==="0x"?0:(0,a.hexToNumber)(x)),(0,s.isHex)(k)&&k!=="0x"&&(_.value=(0,a.hexToBigInt)(k)),(0,s.isHex)(T)&&T!=="0x"&&(_.gasPrice=(0,a.hexToBigInt)(T)),(0,l.assertTransactionLegacy)(_),C.length===6)return _;const R=(0,s.isHex)(U)&&U!=="0x"?(0,a.hexToBigInt)(U):0n;if(S==="0x"&&I==="0x")return R>0&&(_.chainId=Number(R)),_;const O=R,P=Number((O-35n)/2n);if(P>0)_.chainId=P;else if(O!==27n&&O!==28n)throw new e.InvalidLegacyVError({v:O});return _.v=O,_.s=S,_.r=I,_.yParity=O%2n===0n?1:0,_}function w(A){return(0,c.fromRlp)(`0x${A.slice(4)}`,"hex")}function b(A){const C=[];for(let x=0;x<A.length;x++){const[T,N]=A[x];if(!(0,r.isAddress)(T,{strict:!1}))throw new t.InvalidAddressError({address:T});C.push({address:T,storageKeys:N.map(M=>(0,u.isHash)(M)?M:(0,o.trim)(M))})}return C}function g(A){const C=[];for(let x=0;x<A.length;x++){const[T,N,M,k,B,U]=A[x];C.push({address:N,chainId:T==="0x"?0:(0,a.hexToNumber)(T),nonce:M==="0x"?0:(0,a.hexToNumber)(M),...v([k,B,U])})}return C}function v(A){const C=A.slice(-3),x=C[0]==="0x"||(0,a.hexToBigInt)(C[0])===0n?27n:28n;return{r:(0,i.padHex)(C[1],{size:32}),s:(0,i.padHex)(C[2],{size:32}),v:x,yParity:x===27n?0:1}}return f0}var D2={},M2={},_b={},Qz;function Qre(){if(Qz)return _b;Qz=1,Object.defineProperty(_b,"__esModule",{value:!0}),_b.InvalidDecimalNumberError=void 0;const t=yt();class e extends t.BaseError{constructor({value:n}){super(`Number \`${n}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}return _b.InvalidDecimalNumberError=e,_b}var Xz;function h6(){if(Xz)return M2;Xz=1,Object.defineProperty(M2,"__esModule",{value:!0}),M2.parseUnits=e;const t=Qre();function e(r,n){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(r))throw new t.InvalidDecimalNumberError({value:r});let[s,i="0"]=r.split(".");const o=s.startsWith("-");if(o&&(s=s.slice(1)),i=i.replace(/(0+)$/,""),n===0)Math.round(+`.${i}`)===1&&(s=`${BigInt(s)+1n}`),i="";else if(i.length>n){const[a,c,u]=[i.slice(0,n-1),i.slice(n-1,n),i.slice(n)],l=Math.round(+`${c}.${u}`);l>9?i=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):i=`${a}${l}`,i.length>n&&(i=i.slice(1),s=`${BigInt(s)+1n}`),i=i.slice(0,n)}else i=i.padEnd(n,"0");return BigInt(`${o?"-":""}${s}${i}`)}return M2}var e$;function Xre(){if(e$)return D2;e$=1,Object.defineProperty(D2,"__esModule",{value:!0}),D2.parseEther=r;const t=yE(),e=h6();function r(n,s="wei"){return(0,e.parseUnits)(n,t.etherUnits[s])}return D2}var U2={},t$;function ene(){if(t$)return U2;t$=1,Object.defineProperty(U2,"__esModule",{value:!0}),U2.parseGwei=r;const t=yE(),e=h6();function r(n,s="wei"){return(0,e.parseUnits)(n,t.gweiUnits[s])}return U2}var r$;function $4(){return r$||(r$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.padBytes=t.pad=t.isHex=t.isBytes=t.concatHex=t.concatBytes=t.concat=t.getChainContractAddress=t.extractChain=t.defineChain=t.assertCurrentChain=t.offchainLookupSignature=t.offchainLookupAbiItem=t.offchainLookup=t.ccipFetch=t.ccipRequest=t.buildRequest=t.verifyAuthorization=t.serializeAuthorizationList=t.recoverAuthorizationAddress=t.hashAuthorization=t.isAddressEqual=t.isAddress=t.getCreateAddress=t.getCreate2Address=t.getContractAddress=t.getAddress=t.parseEventLogs=t.getAbiItem=t.formatAbiItemWithArgs=t.formatAbiParams=t.formatAbiItem=t.encodePacked=t.encodeFunctionResult=t.encodeFunctionData=t.encodeEventTopics=t.encodeErrorResult=t.encodeDeployData=t.encodeAbiParameters=t.decodeFunctionResult=t.decodeFunctionData=t.decodeEventLog=t.decodeErrorResult=t.decodeAbiParameters=t.publicKeyToAddress=t.parseAccount=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=void 0,t.ripemd160=t.keccak256=t.isHash=t.getAction=t.formatTransactionRequest=t.defineTransactionRequest=t.defineTransactionReceipt=t.transactionType=t.formatTransaction=t.defineTransaction=t.formatLog=t.defineFormatter=t.extract=t.formatBlock=t.defineBlock=t.getTransactionError=t.getNodeError=t.containsNodeError=t.getEstimateGasError=t.getContractError=t.getCallError=t.toRlp=t.toHex=t.stringToHex=t.numberToHex=t.bytesToHex=t.boolToHex=t.toBytes=t.stringToBytes=t.numberToBytes=t.hexToBytes=t.boolToBytes=t.fromRlp=t.hexToString=t.hexToNumber=t.hexToBool=t.hexToBigInt=t.fromHex=t.fromBytes=t.bytesToString=t.bytesToNumber=t.bytesToBool=t.bytesToBigint=t.bytesToBigInt=t.trim=t.sliceHex=t.sliceBytes=t.slice=t.size=t.padHex=void 0,t.validateTypedData=t.serializeTypedData=t.serializeTransaction=t.serializeAccessList=t.parseTransaction=t.getTransactionType=t.getSerializedTransactionType=t.assertTransactionLegacy=t.assertTransactionEIP2930=t.assertTransactionEIP1559=t.assertRequest=t.stringify=t.verifyTypedData=t.verifyMessage=t.verifyHash=t.serializeErc8010Signature=t.serializeErc6492Signature=t.recoverTypedDataAddress=t.recoverPublicKey=t.recoverMessageAddress=t.recoverAddress=t.parseErc8010Signature=t.parseErc6492Signature=t.isErc8010Signature=t.isErc6492Signature=t.hashTypedData=t.hashStruct=t.hashMessage=t.getWebSocketRpcClient=t.socketClientCache=t.getSocketRpcClient=t.getHttpRpcClient=t.rpc=t.getSocket=t.integerRegex=t.bytesRegex=t.arrayRegex=t.nonceManager=t.createNonceManager=t.getFunctionSignature=t.toFunctionSignature=t.getFunctionSelector=t.toFunctionSelector=t.toFunctionHash=t.getEventSignature=t.toEventSignature=t.getEventSelector=t.toEventSelector=t.toEventHash=t.sha256=void 0,t.parseUnits=t.parseGwei=t.parseEther=t.formatUnits=t.formatGwei=t.formatEther=void 0;var e=DP();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return e.parseAbi}}),Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return e.parseAbiItem}}),Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return e.parseAbiParameter}}),Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return e.parseAbiParameters}});var r=Gr();Object.defineProperty(t,"parseAccount",{enumerable:!0,get:function(){return r.parseAccount}});var n=Lte();Object.defineProperty(t,"publicKeyToAddress",{enumerable:!0,get:function(){return n.publicKeyToAddress}});var s=Md();Object.defineProperty(t,"decodeAbiParameters",{enumerable:!0,get:function(){return s.decodeAbiParameters}});var i=HP();Object.defineProperty(t,"decodeErrorResult",{enumerable:!0,get:function(){return i.decodeErrorResult}});var o=PE();Object.defineProperty(t,"decodeEventLog",{enumerable:!0,get:function(){return o.decodeEventLog}});var a=p4();Object.defineProperty(t,"decodeFunctionData",{enumerable:!0,get:function(){return a.decodeFunctionData}});var c=Yu();Object.defineProperty(t,"decodeFunctionResult",{enumerable:!0,get:function(){return c.decodeFunctionResult}});var u=ya();Object.defineProperty(t,"encodeAbiParameters",{enumerable:!0,get:function(){return u.encodeAbiParameters}});var l=NE();Object.defineProperty(t,"encodeDeployData",{enumerable:!0,get:function(){return l.encodeDeployData}});var d=m4();Object.defineProperty(t,"encodeErrorResult",{enumerable:!0,get:function(){return d.encodeErrorResult}});var f=Sp();Object.defineProperty(t,"encodeEventTopics",{enumerable:!0,get:function(){return f.encodeEventTopics}});var h=Ci();Object.defineProperty(t,"encodeFunctionData",{enumerable:!0,get:function(){return h.encodeFunctionData}});var p=g4();Object.defineProperty(t,"encodeFunctionResult",{enumerable:!0,get:function(){return p.encodeFunctionResult}});var m=mre();Object.defineProperty(t,"encodePacked",{enumerable:!0,get:function(){return m.encodePacked}});var y=Vu();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return y.formatAbiItem}}),Object.defineProperty(t,"formatAbiParams",{enumerable:!0,get:function(){return y.formatAbiParams}});var E=Ute();Object.defineProperty(t,"formatAbiItemWithArgs",{enumerable:!0,get:function(){return E.formatAbiItemWithArgs}});var w=Wu();Object.defineProperty(t,"getAbiItem",{enumerable:!0,get:function(){return w.getAbiItem}});var b=xE();Object.defineProperty(t,"parseEventLogs",{enumerable:!0,get:function(){return b.parseEventLogs}});var g=to();Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return g.getAddress}});var v=gre();Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return v.getContractAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return v.getCreate2Address}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return v.getCreateAddress}});var A=Ai();Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return A.isAddress}});var C=va();Object.defineProperty(t,"isAddressEqual",{enumerable:!0,get:function(){return C.isAddressEqual}});var x=zte();Object.defineProperty(t,"hashAuthorization",{enumerable:!0,get:function(){return x.hashAuthorization}});var T=_E();Object.defineProperty(t,"recoverAuthorizationAddress",{enumerable:!0,get:function(){return T.recoverAuthorizationAddress}});var N=yre();Object.defineProperty(t,"serializeAuthorizationList",{enumerable:!0,get:function(){return N.serializeAuthorizationList}});var M=bre();Object.defineProperty(t,"verifyAuthorization",{enumerable:!0,get:function(){return M.verifyAuthorization}});var k=wre();Object.defineProperty(t,"buildRequest",{enumerable:!0,get:function(){return k.buildRequest}});var B=y4();Object.defineProperty(t,"ccipRequest",{enumerable:!0,get:function(){return B.ccipRequest}}),Object.defineProperty(t,"ccipFetch",{enumerable:!0,get:function(){return B.ccipRequest}}),Object.defineProperty(t,"offchainLookup",{enumerable:!0,get:function(){return B.offchainLookup}}),Object.defineProperty(t,"offchainLookupAbiItem",{enumerable:!0,get:function(){return B.offchainLookupAbiItem}}),Object.defineProperty(t,"offchainLookupSignature",{enumerable:!0,get:function(){return B.offchainLookupSignature}});var U=jE();Object.defineProperty(t,"assertCurrentChain",{enumerable:!0,get:function(){return U.assertCurrentChain}});var I=Ere();Object.defineProperty(t,"defineChain",{enumerable:!0,get:function(){return I.defineChain}});var S=vre();Object.defineProperty(t,"extractChain",{enumerable:!0,get:function(){return S.extractChain}});var _=Vd();Object.defineProperty(t,"getChainContractAddress",{enumerable:!0,get:function(){return _.getChainContractAddress}});var R=Dn();Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return R.concat}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return R.concatBytes}}),Object.defineProperty(t,"concatHex",{enumerable:!0,get:function(){return R.concatHex}});var O=T4();Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return O.isBytes}});var P=zs();Object.defineProperty(t,"isHex",{enumerable:!0,get:function(){return P.isHex}});var D=Dd();Object.defineProperty(t,"pad",{enumerable:!0,get:function(){return D.pad}}),Object.defineProperty(t,"padBytes",{enumerable:!0,get:function(){return D.padBytes}}),Object.defineProperty(t,"padHex",{enumerable:!0,get:function(){return D.padHex}});var j=vi();Object.defineProperty(t,"size",{enumerable:!0,get:function(){return j.size}});var F=xo();Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return F.slice}}),Object.defineProperty(t,"sliceBytes",{enumerable:!0,get:function(){return F.sliceBytes}}),Object.defineProperty(t,"sliceHex",{enumerable:!0,get:function(){return F.sliceHex}});var q=Gu();Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return q.trim}});var z=Z3();Object.defineProperty(t,"bytesToBigInt",{enumerable:!0,get:function(){return z.bytesToBigInt}}),Object.defineProperty(t,"bytesToBigint",{enumerable:!0,get:function(){return z.bytesToBigInt}}),Object.defineProperty(t,"bytesToBool",{enumerable:!0,get:function(){return z.bytesToBool}}),Object.defineProperty(t,"bytesToNumber",{enumerable:!0,get:function(){return z.bytesToNumber}}),Object.defineProperty(t,"bytesToString",{enumerable:!0,get:function(){return z.bytesToString}}),Object.defineProperty(t,"fromBytes",{enumerable:!0,get:function(){return z.fromBytes}});var W=tn();Object.defineProperty(t,"fromHex",{enumerable:!0,get:function(){return W.fromHex}}),Object.defineProperty(t,"hexToBigInt",{enumerable:!0,get:function(){return W.hexToBigInt}}),Object.defineProperty(t,"hexToBool",{enumerable:!0,get:function(){return W.hexToBool}}),Object.defineProperty(t,"hexToNumber",{enumerable:!0,get:function(){return W.hexToNumber}}),Object.defineProperty(t,"hexToString",{enumerable:!0,get:function(){return W.hexToString}});var K=x4();Object.defineProperty(t,"fromRlp",{enumerable:!0,get:function(){return K.fromRlp}});var re=Cr();Object.defineProperty(t,"boolToBytes",{enumerable:!0,get:function(){return re.boolToBytes}}),Object.defineProperty(t,"hexToBytes",{enumerable:!0,get:function(){return re.hexToBytes}}),Object.defineProperty(t,"numberToBytes",{enumerable:!0,get:function(){return re.numberToBytes}}),Object.defineProperty(t,"stringToBytes",{enumerable:!0,get:function(){return re.stringToBytes}}),Object.defineProperty(t,"toBytes",{enumerable:!0,get:function(){return re.toBytes}});var Q=ze();Object.defineProperty(t,"boolToHex",{enumerable:!0,get:function(){return Q.boolToHex}}),Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return Q.bytesToHex}}),Object.defineProperty(t,"numberToHex",{enumerable:!0,get:function(){return Q.numberToHex}}),Object.defineProperty(t,"stringToHex",{enumerable:!0,get:function(){return Q.stringToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return Q.toHex}});var X=vE();Object.defineProperty(t,"toRlp",{enumerable:!0,get:function(){return X.toRlp}});var ie=d4();Object.defineProperty(t,"getCallError",{enumerable:!0,get:function(){return ie.getCallError}});var Y=Fd();Object.defineProperty(t,"getContractError",{enumerable:!0,get:function(){return Y.getContractError}});var V=Vte();Object.defineProperty(t,"getEstimateGasError",{enumerable:!0,get:function(){return V.getEstimateGasError}});var Z=AE();Object.defineProperty(t,"containsNodeError",{enumerable:!0,get:function(){return Z.containsNodeError}}),Object.defineProperty(t,"getNodeError",{enumerable:!0,get:function(){return Z.getNodeError}});var ne=IE();Object.defineProperty(t,"getTransactionError",{enumerable:!0,get:function(){return ne.getTransactionError}});var ue=$P();Object.defineProperty(t,"defineBlock",{enumerable:!0,get:function(){return ue.defineBlock}}),Object.defineProperty(t,"formatBlock",{enumerable:!0,get:function(){return ue.formatBlock}});var ce=qd();Object.defineProperty(t,"extract",{enumerable:!0,get:function(){return ce.extract}});var ge=CE();Object.defineProperty(t,"defineFormatter",{enumerable:!0,get:function(){return ge.defineFormatter}});var we=Zu();Object.defineProperty(t,"formatLog",{enumerable:!0,get:function(){return we.formatLog}});var me=Rg();Object.defineProperty(t,"defineTransaction",{enumerable:!0,get:function(){return me.defineTransaction}}),Object.defineProperty(t,"formatTransaction",{enumerable:!0,get:function(){return me.formatTransaction}}),Object.defineProperty(t,"transactionType",{enumerable:!0,get:function(){return me.transactionType}});var ae=DE();Object.defineProperty(t,"defineTransactionReceipt",{enumerable:!0,get:function(){return ae.defineTransactionReceipt}});var Oe=wa();Object.defineProperty(t,"defineTransactionRequest",{enumerable:!0,get:function(){return Oe.defineTransactionRequest}}),Object.defineProperty(t,"formatTransactionRequest",{enumerable:!0,get:function(){return Oe.formatTransactionRequest}});var Se=Yt();Object.defineProperty(t,"getAction",{enumerable:!0,get:function(){return Se.getAction}});var Be=O4();Object.defineProperty(t,"isHash",{enumerable:!0,get:function(){return Be.isHash}});var de=_i();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return de.keccak256}});var oe=Are();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return oe.ripemd160}});var $=s4();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return $.sha256}});var L=Cre();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return L.toEventHash}});var H=Og();Object.defineProperty(t,"toEventSelector",{enumerable:!0,get:function(){return H.toEventSelector}}),Object.defineProperty(t,"getEventSelector",{enumerable:!0,get:function(){return H.toEventSelector}});var ee=Sre();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return ee.toEventSignature}}),Object.defineProperty(t,"getEventSignature",{enumerable:!0,get:function(){return ee.toEventSignature}});var le=Ire();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return le.toFunctionHash}});var ye=Cp();Object.defineProperty(t,"toFunctionSelector",{enumerable:!0,get:function(){return ye.toFunctionSelector}}),Object.defineProperty(t,"getFunctionSelector",{enumerable:!0,get:function(){return ye.toFunctionSelector}});var Ae=Tre();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return Ae.toFunctionSignature}}),Object.defineProperty(t,"getFunctionSignature",{enumerable:!0,get:function(){return Ae.toFunctionSignature}});var tt=Pre();Object.defineProperty(t,"createNonceManager",{enumerable:!0,get:function(){return tt.createNonceManager}}),Object.defineProperty(t,"nonceManager",{enumerable:!0,get:function(){return tt.nonceManager}});var wt=LP();Object.defineProperty(t,"arrayRegex",{enumerable:!0,get:function(){return wt.arrayRegex}}),Object.defineProperty(t,"bytesRegex",{enumerable:!0,get:function(){return wt.bytesRegex}}),Object.defineProperty(t,"integerRegex",{enumerable:!0,get:function(){return wt.integerRegex}});var At=Rre();Object.defineProperty(t,"getSocket",{enumerable:!0,get:function(){return At.getSocket}}),Object.defineProperty(t,"rpc",{enumerable:!0,get:function(){return At.rpc}});var Wt=N4();Object.defineProperty(t,"getHttpRpcClient",{enumerable:!0,get:function(){return Wt.getHttpRpcClient}});var Bt=Ore();Object.defineProperty(t,"getSocketRpcClient",{enumerable:!0,get:function(){return Bt.getSocketRpcClient}}),Object.defineProperty(t,"socketClientCache",{enumerable:!0,get:function(){return Bt.socketClientCache}});var x6=B4();Object.defineProperty(t,"getWebSocketRpcClient",{enumerable:!0,get:function(){return x6.getWebSocketRpcClient}});var O6=ME();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return O6.hashMessage}});var KE=UE();Object.defineProperty(t,"hashStruct",{enumerable:!0,get:function(){return KE.hashStruct}}),Object.defineProperty(t,"hashTypedData",{enumerable:!0,get:function(){return KE.hashTypedData}});var Ug=j4();Object.defineProperty(t,"isErc6492Signature",{enumerable:!0,get:function(){return Ug.isErc6492Signature}});var R6=L4();Object.defineProperty(t,"isErc8010Signature",{enumerable:!0,get:function(){return R6.isErc8010Signature}});var N6=Vre();Object.defineProperty(t,"parseErc6492Signature",{enumerable:!0,get:function(){return N6.parseErc6492Signature}});var Lg=Gre();Object.defineProperty(t,"parseErc8010Signature",{enumerable:!0,get:function(){return Lg.parseErc8010Signature}});var B6=Hd();Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return B6.recoverAddress}});var Fg=F4();Object.defineProperty(t,"recoverMessageAddress",{enumerable:!0,get:function(){return Fg.recoverMessageAddress}});var k6=X3();Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return k6.recoverPublicKey}});var Zd=H4();Object.defineProperty(t,"recoverTypedDataAddress",{enumerable:!0,get:function(){return Zd.recoverTypedDataAddress}});var Yd=Wre();Object.defineProperty(t,"serializeErc6492Signature",{enumerable:!0,get:function(){return Yd.serializeErc6492Signature}});var j6=Kre();Object.defineProperty(t,"serializeErc8010Signature",{enumerable:!0,get:function(){return j6.serializeErc8010Signature}});var Jd=Zre();Object.defineProperty(t,"verifyHash",{enumerable:!0,get:function(){return Jd.verifyHash}});var Qd=Yre();Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return Qd.verifyMessage}});var Hg=Jre();Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return Hg.verifyTypedData}});var D6=Xn();Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return D6.stringify}});var M6=Ea();Object.defineProperty(t,"assertRequest",{enumerable:!0,get:function(){return M6.assertRequest}});var qg=n6();Object.defineProperty(t,"assertTransactionEIP1559",{enumerable:!0,get:function(){return qg.assertTransactionEIP1559}}),Object.defineProperty(t,"assertTransactionEIP2930",{enumerable:!0,get:function(){return qg.assertTransactionEIP2930}}),Object.defineProperty(t,"assertTransactionLegacy",{enumerable:!0,get:function(){return qg.assertTransactionLegacy}});var U6=q4();Object.defineProperty(t,"getSerializedTransactionType",{enumerable:!0,get:function(){return U6.getSerializedTransactionType}});var ZE=ZP();Object.defineProperty(t,"getTransactionType",{enumerable:!0,get:function(){return ZE.getTransactionType}});var L6=z4();Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return L6.parseTransaction}});var zg=P4();Object.defineProperty(t,"serializeAccessList",{enumerable:!0,get:function(){return zg.serializeAccessList}});var YE=s6();Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return YE.serializeTransaction}});var Np=i6();Object.defineProperty(t,"serializeTypedData",{enumerable:!0,get:function(){return Np.serializeTypedData}}),Object.defineProperty(t,"validateTypedData",{enumerable:!0,get:function(){return Np.validateTypedData}});var F6=bE();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return F6.formatEther}});var H6=Ip();Object.defineProperty(t,"formatGwei",{enumerable:!0,get:function(){return H6.formatGwei}});var q6=qP();Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return q6.formatUnits}});var z6=Xre();Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return z6.parseEther}});var $6=ene();Object.defineProperty(t,"parseGwei",{enumerable:!0,get:function(){return $6.parseGwei}});var JE=h6();Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return JE.parseUnits}})})(wO)),wO}var n$;function x4e(){if(n$)return QA;n$=1,Object.defineProperty(QA,"__esModule",{value:!0}),QA.formatProof=r;const t=$4();function e(n){return n.map(s=>({...s,value:BigInt(s.value)}))}function r(n){return{...n,balance:n.balance?BigInt(n.balance):void 0,nonce:n.nonce?(0,t.hexToNumber)(n.nonce):void 0,storageProof:n.storageProof?e(n.storageProof):void 0}}return QA}var s$;function O4e(){if(s$)return JA;s$=1,Object.defineProperty(JA,"__esModule",{value:!0}),JA.getProof=r;const t=ze(),e=x4e();async function r(n,{address:s,blockNumber:i,blockTag:o,storageKeys:a}){const c=o??"latest",u=i!==void 0?(0,t.numberToHex)(i):void 0,l=await n.request({method:"eth_getProof",params:[s,a,u||c]});return(0,e.formatProof)(l)}return JA}var L2={},i$;function R4e(){if(i$)return L2;i$=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.getStorageAt=e;const t=ze();async function e(r,{address:n,blockNumber:s,blockTag:i="latest",slot:o}){const a=s!==void 0?(0,t.numberToHex)(s):void 0;return await r.request({method:"eth_getStorageAt",params:[n,o,a||i]})}return L2}var F2={},o$;function V4(){if(o$)return F2;o$=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.getTransaction=n;const t=Si(),e=ze(),r=Rg();async function n(s,{blockHash:i,blockNumber:o,blockTag:a,hash:c,index:u,sender:l,nonce:d}){var y,E,w;const f=a||"latest",h=o!==void 0?(0,e.numberToHex)(o):void 0;let p=null;if(c?p=await s.request({method:"eth_getTransactionByHash",params:[c]},{dedupe:!0}):i?p=await s.request({method:"eth_getTransactionByBlockHashAndIndex",params:[i,(0,e.numberToHex)(u)]},{dedupe:!0}):typeof u=="number"?p=await s.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[h||f,(0,e.numberToHex)(u)]},{dedupe:!!h}):l&&typeof d=="number"&&(p=await s.request({method:"eth_getTransactionBySenderAndNonce",params:[l,(0,e.numberToHex)(d)]},{dedupe:!0})),!p)throw new t.TransactionNotFoundError({blockHash:i,blockNumber:o,blockTag:f,hash:c,index:u});return(((w=(E=(y=s.chain)==null?void 0:y.formatters)==null?void 0:E.transaction)==null?void 0:w.format)||r.formatTransaction)(p,"getTransaction")}return F2}var H2={},a$;function N4e(){if(a$)return H2;a$=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.getTransactionConfirmations=n;const t=Yt(),e=kE(),r=V4();async function n(s,{hash:i,transactionReceipt:o}){const[a,c]=await Promise.all([(0,t.getAction)(s,e.getBlockNumber,"getBlockNumber")({}),i?(0,t.getAction)(s,r.getTransaction,"getTransaction")({hash:i}):void 0]),u=(o==null?void 0:o.blockNumber)||(c==null?void 0:c.blockNumber);return u?a-u+1n:0n}return H2}var q2={},c$;function tne(){if(c$)return q2;c$=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.getTransactionReceipt=r;const t=Si(),e=DE();async function r(n,{hash:s}){var a,c,u;const i=await n.request({method:"eth_getTransactionReceipt",params:[s]},{dedupe:!0});if(!i)throw new t.TransactionReceiptNotFoundError({hash:s});return(((u=(c=(a=n.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||e.formatTransactionReceipt)(i,"getTransactionReceipt")}return q2}var z2={},u$;function B4e(){if(u$)return z2;u$=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.multicall=d;const t=$d(),e=OE(),r=Hr(),n=yt(),s=Ud(),i=Yu(),o=Ci(),a=Vd(),c=Fd(),u=Yt(),l=gc();async function d(f,h){var U;const{account:p,authorizationList:m,allowFailure:y=!0,blockNumber:E,blockOverrides:w,blockTag:b,stateOverride:g}=h,v=h.contracts,{batchSize:A=h.batchSize??1024,deployless:C=h.deployless??!1}=typeof((U=f.batch)==null?void 0:U.multicall)=="object"?f.batch.multicall:{},x=(()=>{if(h.multicallAddress)return h.multicallAddress;if(C)return null;if(f.chain)return(0,a.getChainContractAddress)({blockNumber:E,chain:f.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),T=[[]];let N=0,M=0;for(let I=0;I<v.length;I++){const{abi:S,address:_,args:R,functionName:O}=v[I];try{const P=(0,o.encodeFunctionData)({abi:S,args:R,functionName:O});M+=(P.length-2)/2,A>0&&M>A&&T[N].length>0&&(N++,M=(P.length-2)/2,T[N]=[]),T[N]=[...T[N],{allowFailure:!0,callData:P,target:_}]}catch(P){const D=(0,c.getContractError)(P,{abi:S,address:_,args:R,docsPath:"/docs/contract/multicall",functionName:O,sender:p});if(!y)throw D;T[N]=[...T[N],{allowFailure:!0,callData:"0x",target:_}]}}const k=await Promise.allSettled(T.map(I=>(0,u.getAction)(f,l.readContract,"readContract")({...x===null?{code:e.multicall3Bytecode}:{address:x},abi:t.multicall3Abi,account:p,args:[I],authorizationList:m,blockNumber:E,blockOverrides:w,blockTag:b,functionName:"aggregate3",stateOverride:g}))),B=[];for(let I=0;I<k.length;I++){const S=k[I];if(S.status==="rejected"){if(!y)throw S.reason;for(let R=0;R<T[I].length;R++)B.push({status:"failure",error:S.reason,result:void 0});continue}const _=S.value;for(let R=0;R<_.length;R++){const{returnData:O,success:P}=_[R],{callData:D}=T[I][R],{abi:j,address:F,functionName:q,args:z}=v[B.length];try{if(D==="0x")throw new r.AbiDecodingZeroDataError;if(!P)throw new s.RawContractError({data:O});const W=(0,i.decodeFunctionResult)({abi:j,args:z,data:O,functionName:q});B.push(y?{result:W,status:"success"}:W)}catch(W){const K=(0,c.getContractError)(W,{abi:j,address:F,args:z,docsPath:"/docs/contract/multicall",functionName:q});if(!y)throw K;B.push({error:K,result:void 0,status:"failure"})}}}if(B.length!==v.length)throw new n.BaseError("multicall results mismatch");return B}return z2}var $2={},l$;function rne(){if(l$)return $2;l$=1,Object.defineProperty($2,"__esModule",{value:!0}),$2.simulateBlocks=y;const t=tre(),e=Gr(),r=Hr(),n=Ud(),s=Ku(),i=Yu(),o=Ci(),a=Dn(),c=ze(),u=Fd(),l=AE(),d=$P(),f=Zu(),h=wa(),p=e4(),m=Ea();async function y(E,w){const{blockNumber:b,blockTag:g=E.experimental_blockTag??"latest",blocks:v,returnFullTransactions:A,traceTransfers:C,validation:x}=w;try{const T=[];for(const B of v){const U=B.blockOverrides?t.toRpc(B.blockOverrides):void 0,I=B.calls.map(_=>{const R=_,O=R.account?(0,e.parseAccount)(R.account):void 0,P=R.abi?(0,o.encodeFunctionData)(R):R.data,D={...R,account:O,data:R.dataSuffix?(0,a.concat)([P||"0x",R.dataSuffix]):P,from:R.from??(O==null?void 0:O.address)};return(0,m.assertRequest)(D),(0,h.formatTransactionRequest)(D)}),S=B.stateOverrides?(0,p.serializeStateOverride)(B.stateOverrides):void 0;T.push({blockOverrides:U,calls:I,stateOverrides:S})}const M=(typeof b=="bigint"?(0,c.numberToHex)(b):void 0)||g;return(await E.request({method:"eth_simulateV1",params:[{blockStateCalls:T,returnFullTransactions:A,traceTransfers:C,validation:x},M]})).map((B,U)=>({...(0,d.formatBlock)(B),calls:B.calls.map((I,S)=>{var K,re;const{abi:_,args:R,functionName:O,to:P}=v[U].calls[S],D=((K=I.error)==null?void 0:K.data)??I.returnData,j=BigInt(I.gasUsed),F=(re=I.logs)==null?void 0:re.map(Q=>(0,f.formatLog)(Q)),q=I.status==="0x1"?"success":"failure",z=_&&q==="success"&&D!=="0x"?(0,i.decodeFunctionResult)({abi:_,data:D,functionName:O}):null,W=(()=>{var X;if(q==="success")return;let Q;if(((X=I.error)==null?void 0:X.data)==="0x"?Q=new r.AbiDecodingZeroDataError:I.error&&(Q=new n.RawContractError(I.error)),!!Q)return(0,u.getContractError)(Q,{abi:_??[],address:P??"0x",args:R,functionName:O??"<unknown>"})})();return{data:D,gasUsed:j,logs:F,status:q,...q==="success"?{result:z}:{error:W}}})}))}catch(T){const N=T,M=(0,l.getNodeError)(N,{});throw M instanceof s.UnknownNodeError?N:M}}return $2}var V2={},Al={},Is={},h0={},d$;function k4e(){if(d$)return h0;d$=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.normalizeSignature=r,h0.isArgOfType=n,h0.getAmbiguousTypes=s;const t=l6(),e=ro();function r(i){let o=!0,a="",c=0,u="",l=!1;for(let d=0;d<i.length;d++){const f=i[d];if(["(",")",","].includes(f)&&(o=!0),f==="("&&c++,f===")"&&c--,!!o){if(c===0){if(f===" "&&["event","function","error",""].includes(u))u="";else if(u+=f,f===")"){l=!0;break}continue}if(f===" "){i[d-1]!==","&&a!==","&&a!==",("&&(a="",o=!1);continue}u+=f,a+=f}}if(!l)throw new e.BaseError("Unable to normalize signature.");return u}function n(i,o){const a=typeof i,c=o.type;switch(c){case"address":return t.validate(i,{strict:!1});case"bool":return a==="boolean";case"function":return a==="string";case"string":return a==="string";default:return c==="tuple"&&"components"in o?Object.values(o.components).every((u,l)=>n(Object.values(i)[l],u)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(c)?a==="number"||a==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(c)?a==="string"||i instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(c)?Array.isArray(i)&&i.every(u=>n(u,{...o,type:c.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function s(i,o,a){for(const c in i){const u=i[c],l=o[c];if(u.type==="tuple"&&l.type==="tuple"&&"components"in u&&"components"in l)return s(u.components,l.components,a[c]);const d=[u.type,l.type];if(d.includes("address")&&d.includes("bytes20")?!0:d.includes("address")&&d.includes("string")?t.validate(a[c],{strict:!1}):d.includes("address")&&d.includes("bytes")?t.validate(a[c],{strict:!1}):!1)return d}}return h0}var f$;function nne(){if(f$)return Is;f$=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.InvalidSelectorSizeError=Is.NotFoundError=Is.AmbiguityError=void 0,Is.format=i,Is.from=o,Is.fromAbi=a,Is.getSelector=c,Is.getSignature=u,Is.getSignatureHash=l;const t=u6(),e=ro(),r=M4(),n=es(),s=k4e();function i(p){return t.formatAbiItem(p)}function o(p,m={}){const{prepare:y=!0}=m,E=Array.isArray(p)||typeof p=="string"?t.parseAbiItem(p):p;return{...E,...y?{hash:l(E)}:{}}}function a(p,m,y){const{args:E=[],prepare:w=!0}=y??{},b=n.validate(m,{strict:!1}),g=p.filter(C=>b?C.type==="function"||C.type==="error"?c(C)===n.slice(m,0,4):C.type==="event"?l(C)===m:!1:"name"in C&&C.name===m);if(g.length===0)throw new f({name:m});if(g.length===1)return{...g[0],...w?{hash:l(g[0])}:{}};let v;for(const C of g){if(!("inputs"in C))continue;if(!E||E.length===0){if(!C.inputs||C.inputs.length===0)return{...C,...w?{hash:l(C)}:{}};continue}if(!C.inputs||C.inputs.length===0||C.inputs.length!==E.length)continue;if(E.every((T,N)=>{const M="inputs"in C&&C.inputs[N];return M?s.isArgOfType(T,M):!1})){if(v&&"inputs"in v&&v.inputs){const T=s.getAmbiguousTypes(C.inputs,v.inputs,E);if(T)throw new d({abiItem:C,type:T[0]},{abiItem:v,type:T[1]})}v=C}}const A=(()=>{if(v)return v;const[C,...x]=g;return{...C,overloads:x}})();if(!A)throw new f({name:m});return{...A,...w?{hash:l(A)}:{}}}function c(...p){const m=(()=>{if(Array.isArray(p[0])){const[y,E]=p;return a(y,E)}return p[0]})();return n.slice(l(m),0,4)}function u(...p){const m=(()=>{if(Array.isArray(p[0])){const[E,w]=p;return a(E,w)}return p[0]})(),y=typeof m=="string"?m:t.formatAbiItem(m);return s.normalizeSignature(y)}function l(...p){const m=(()=>{if(Array.isArray(p[0])){const[y,E]=p;return a(y,E)}return p[0]})();return typeof m!="string"&&"hash"in m&&m.hash?m.hash:r.keccak256(n.fromString(u(m)))}class d extends e.BaseError{constructor(m,y){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${m.type}\` in \`${s.normalizeSignature(t.formatAbiItem(m.abiItem))}\`, and`,`\`${y.type}\` in \`${s.normalizeSignature(t.formatAbiItem(y.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}Is.AmbiguityError=d;class f extends e.BaseError{constructor({name:m,data:y,type:E="item"}){const w=m?` with name "${m}"`:y?` with data "${y}"`:"";super(`ABI ${E}${w} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}Is.NotFoundError=f;class h extends e.BaseError{constructor({data:m}){super(`Selector size is invalid. Expected 4 bytes. Received ${n.size(m)} bytes ("${m}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}return Is.InvalidSelectorSizeError=h,Is}var h$;function j4e(){if(h$)return Al;h$=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.decode=s,Al.encode=i,Al.format=o,Al.from=a,Al.fromAbi=c;const t=u6(),e=nne(),r=FE(),n=es();function s(...u){const[l,d]=(()=>{if(Array.isArray(u[0])){const[p,m]=u;return[c(p),m]}return u})(),{bytecode:f}=d;if(l.inputs.length===0)return;const h=d.data.replace(f,"0x");return r.decode(l.inputs,h)}function i(...u){var p;const[l,d]=(()=>{if(Array.isArray(u[0])){const[m,y]=u;return[c(m),y]}return u})(),{bytecode:f,args:h}=d;return n.concat(f,(p=l.inputs)!=null&&p.length&&(h!=null&&h.length)?r.encode(l.inputs,h):"0x")}function o(u){return t.formatAbiItem(u)}function a(u){return e.from(u)}function c(u){const l=u.find(d=>d.type==="constructor");if(!l)throw new e.NotFoundError({name:"constructor"});return l}return Al}var Uo={},p$;function D4e(){if(p$)return Uo;p$=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.decodeData=s,Uo.decodeResult=i,Uo.encodeData=o,Uo.encodeResult=a,Uo.format=c,Uo.from=u,Uo.fromAbi=l,Uo.getSelector=d;const t=u6(),e=nne(),r=FE(),n=es();function s(...f){const[h,p]=(()=>{if(Array.isArray(f[0])){const[E,w,b]=f;return[l(E,w),b]}return f})(),{overloads:m}=h;if(n.size(p)<4)throw new e.InvalidSelectorSizeError({data:p});if(h.inputs.length===0)return;const y=m?l([h,...m],p):h;if(!(n.size(p)<=4))return r.decode(y.inputs,n.slice(p,4))}function i(...f){const[h,p,m={}]=(()=>{if(Array.isArray(f[0])){const[E,w,b,g]=f;return[l(E,w),b,g]}return f})(),y=r.decode(h.outputs,p,m);if(!(y&&Object.keys(y).length===0))return y&&Object.keys(y).length===1?Array.isArray(y)?y[0]:Object.values(y)[0]:y}function o(...f){const[h,p=[]]=(()=>{if(Array.isArray(f[0])){const[v,A,C]=f;return[l(v,A,{args:C}),C]}const[b,g]=f;return[b,g]})(),{overloads:m}=h,y=m?l([h,...m],h.name,{args:p}):h,E=d(y),w=p.length>0?r.encode(y.inputs,p):void 0;return w?n.concat(E,w):E}function a(...f){const[h,p,m={}]=(()=>{if(Array.isArray(f[0])){const[w,b,g,v]=f;return[l(w,b),g,v]}return f})(),{as:y="Array"}=m,E=h.outputs.length===1?[p]:Array.isArray(p)?p:y==="Object"?Object.values(p):[p];return r.encode(h.outputs,E)}function c(f){return t.formatAbiItem(f)}function u(f,h={}){return e.from(f,h)}function l(f,h,p){const m=e.fromAbi(f,h,p);if(m.type!=="function")throw new e.NotFoundError({name:h,type:"function"});return m}function d(f){return e.getSelector(f)}return Uo}var ki={},m$;function sne(){return m$||(m$=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.zeroAddress=ki.ethAddress=ki.entryPoint08Address=ki.entryPoint07Address=ki.entryPoint06Address=void 0,ki.entryPoint06Address="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",ki.entryPoint07Address="0x0000000071727De22E5E9d8BAf0edAc6f37da032",ki.entryPoint08Address="0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108",ki.ethAddress="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ki.zeroAddress="0x0000000000000000000000000000000000000000"),ki}var g$;function M4e(){if(g$)return V2;g$=1,Object.defineProperty(V2,"__esModule",{value:!0}),V2.simulateCalls=d;const t=j4e(),e=D4e(),r=Gr(),n=sne(),s=OE(),i=yt(),o=Ci(),a=$4(),c=dre(),u=rne(),l="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function d(f,h){const{blockNumber:p,blockTag:m,calls:y,stateOverrides:E,traceAssetChanges:w,traceTransfers:b,validation:g}=h,v=h.account?(0,r.parseAccount)(h.account):void 0;if(w&&!v)throw new i.BaseError("`account` is required when `traceAssetChanges` is true");const A=v?t.encode(t.from("constructor(bytes, bytes)"),{bytecode:s.deploylessCallViaBytecodeBytecode,args:[l,e.encodeData(e.from("function getBalance(address)"),[v.address])]}):void 0,C=w?await Promise.all(h.calls.map(async X=>{if(!X.data&&!X.abi)return;const{accessList:ie}=await(0,c.createAccessList)(f,{account:v.address,...X,data:X.abi?(0,o.encodeFunctionData)(X):X.data});return ie.map(({address:Y,storageKeys:V})=>V.length>0?Y:null)})).then(X=>X.flat().filter(Boolean)):[],x=await(0,u.simulateBlocks)(f,{blockNumber:p,blockTag:m,blocks:[...w?[{calls:[{data:A}],stateOverrides:E},{calls:C.map((X,ie)=>({abi:[e.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[v.address],to:X,from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]}]:[],{calls:[...y,{}].map(X=>({...X,from:v==null?void 0:v.address})),stateOverrides:E},...w?[{calls:[{data:A}]},{calls:C.map((X,ie)=>({abi:[e.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[v.address],to:X,from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:C.map((X,ie)=>({to:X,abi:[e.from("function decimals() returns (uint256)")],functionName:"decimals",from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:C.map((X,ie)=>({to:X,abi:[e.from("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:C.map((X,ie)=>({to:X,abi:[e.from("function symbol() returns (string)")],functionName:"symbol",from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]}]:[]],traceTransfers:b,validation:g}),T=w?x[2]:x[0],[N,M,,k,B,U,I,S]=w?x:[],{calls:_,...R}=T,O=_.slice(0,-1)??[],P=(N==null?void 0:N.calls)??[],D=(M==null?void 0:M.calls)??[],j=[...P,...D].map(X=>X.status==="success"?(0,a.hexToBigInt)(X.data):null),F=(k==null?void 0:k.calls)??[],q=(B==null?void 0:B.calls)??[],z=[...F,...q].map(X=>X.status==="success"?(0,a.hexToBigInt)(X.data):null),W=((U==null?void 0:U.calls)??[]).map(X=>X.status==="success"?X.result:null),K=((S==null?void 0:S.calls)??[]).map(X=>X.status==="success"?X.result:null),re=((I==null?void 0:I.calls)??[]).map(X=>X.status==="success"?X.result:null),Q=[];for(const[X,ie]of z.entries()){const Y=j[X];if(typeof ie!="bigint"||typeof Y!="bigint")continue;const V=W[X-1],Z=K[X-1],ne=re[X-1],ue=X===0?{address:n.ethAddress,decimals:18,symbol:"ETH"}:{address:C[X-1],decimals:ne||V?Number(V??1):void 0,symbol:Z??void 0};Q.some(ce=>ce.token.address===ue.address)||Q.push({token:ue,value:{pre:Y,post:ie,diff:ie-Y}})}return{assetChanges:Q,block:R,results:O}}return V2}var p0={},Ab={},OO={},y$;function U4e(){return y$||(y$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWrappedSignatureError=t.universalSignatureValidatorAbi=t.universalSignatureValidatorBytecode=t.magicBytes=void 0,t.assert=s,t.from=i,t.unwrap=o,t.wrap=a,t.validate=c;const e=FE(),r=ro(),n=es();t.magicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",t.universalSignatureValidatorBytecode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",t.universalSignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function s(l){if(n.slice(l,-32)!==t.magicBytes)throw new u(l)}function i(l){return typeof l=="string"?o(l):l}function o(l){s(l);const[d,f,h]=e.decode(e.from("address, bytes, bytes"),l);return{data:f,signature:h,to:d}}function a(l){const{data:d,signature:f,to:h}=l;return n.concat(e.encode(e.from("address, bytes, bytes"),[h,d,f]),t.magicBytes)}function c(l){try{return s(l),!0}catch{return!1}}class u extends r.BaseError{constructor(d){super(`Value \`${d}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}t.InvalidWrappedSignatureError=u})(OO)),OO}var b$;function L4e(){return b$||(b$=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.SignatureErc6492=void 0,Ab.SignatureErc6492=U4e()),Ab}var G2={},w$;function ine(){if(w$)return G2;w$=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.serializeSignature=n;const t=EE(),e=tn(),r=Cr();function n({r:s,s:i,to:o="hex",v:a,yParity:c}){const u=(()=>{if(c===0||c===1)return c;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new t.secp256k1.Signature((0,e.hexToBigInt)(s),(0,e.hexToBigInt)(i)).toCompactHex()}${u===0?"1b":"1c"}`;return o==="hex"?l:(0,r.hexToBytes)(l)}return G2}var E$;function p6(){if(E$)return p0;E$=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.verifyHash=g,p0.verifyErc8010=v,p0.verifyErc1271=C;const t=L4e(),e=f6(),r=$d(),n=OE(),s=Ud(),i=NE(),o=Ci(),a=to(),c=va(),u=bre(),l=Dn(),d=zs(),f=tn(),h=ze(),p=Yt(),m=Hd(),y=ine(),E=BE(),w=pre(),b=gc();async function g(T,N){var S,_,R,O,P,D;const{address:M,hash:k,erc6492VerifierAddress:B=N.universalSignatureVerifierAddress??((R=(_=(S=T.chain)==null?void 0:S.contracts)==null?void 0:_.erc6492Verifier)==null?void 0:R.address),multicallAddress:U=N.multicallAddress??((D=(P=(O=T.chain)==null?void 0:O.contracts)==null?void 0:P.multicall3)==null?void 0:D.address)}=N,I=(()=>{const j=N.signature;return(0,d.isHex)(j)?j:typeof j=="object"&&"r"in j&&"s"in j?(0,y.serializeSignature)(j):(0,h.bytesToHex)(j)})();try{return e.SignatureErc8010.validate(I)?await v(T,{...N,multicallAddress:U,signature:I}):await A(T,{...N,verifierAddress:B,signature:I})}catch(j){try{if((0,c.isAddressEqual)((0,a.getAddress)(M),await(0,m.recoverAddress)({hash:k,signature:I})))return!0}catch{}if(j instanceof x)return!1;throw j}}async function v(T,N){var z;const{address:M,blockNumber:k,blockTag:B,hash:U,multicallAddress:I}=N,{authorization:S,data:_,signature:R,to:O}=e.SignatureErc8010.unwrap(N.signature);if(await(0,w.getCode)(T,{address:M,blockNumber:k,blockTag:B})===(0,l.concatHex)(["0xef0100",S.address]))return await C(T,{address:M,blockNumber:k,blockTag:B,hash:U,signature:R});const D={address:S.address,chainId:Number(S.chainId),nonce:Number(S.nonce),r:(0,h.numberToHex)(S.r,{size:32}),s:(0,h.numberToHex)(S.s,{size:32}),yParity:S.yParity};if(!await(0,u.verifyAuthorization)({address:M,authorization:D}))throw new x;const F=await(0,p.getAction)(T,b.readContract,"readContract")({...I?{address:I}:{code:n.multicall3Bytecode},authorizationList:[D],abi:r.multicall3Abi,blockNumber:k,blockTag:"pending",functionName:"aggregate3",args:[[..._?[{allowFailure:!0,target:O??M,callData:_}]:[],{allowFailure:!0,target:M,callData:(0,o.encodeFunctionData)({abi:r.erc1271Abi,functionName:"isValidSignature",args:[U,R]})}]]}),q=(z=F[F.length-1])==null?void 0:z.returnData;if(q!=null&&q.startsWith("0x1626ba7e"))return!0;throw new x}async function A(T,N){const{address:M,factory:k,factoryData:B,hash:U,signature:I,verifierAddress:S,..._}=N,R=await(async()=>!k&&!B||t.SignatureErc6492.validate(I)?I:t.SignatureErc6492.wrap({data:B,signature:I,to:k}))(),O=S?{to:S,data:(0,o.encodeFunctionData)({abi:r.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[M,U,R]}),..._}:{data:(0,i.encodeDeployData)({abi:r.erc6492SignatureValidatorAbi,args:[M,U,R],bytecode:n.erc6492SignatureValidatorByteCode}),..._},{data:P}=await(0,p.getAction)(T,E.call,"call")(O).catch(D=>{throw D instanceof s.CallExecutionError?new x:D});if((0,f.hexToBool)(P??"0x0"))return!0;throw new x}async function C(T,N){const{address:M,blockNumber:k,blockTag:B,hash:U,signature:I}=N;if((await(0,p.getAction)(T,b.readContract,"readContract")({address:M,abi:r.erc1271Abi,args:[U,I],blockNumber:k,blockTag:B,functionName:"isValidSignature"}).catch(_=>{throw _ instanceof s.ContractFunctionExecutionError?new x:_})).startsWith("0x1626ba7e"))return!0;throw new x}class x extends Error{}return p0}var W2={},v$;function F4e(){if(v$)return W2;v$=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.verifyMessage=n;const t=Yt(),e=ME(),r=p6();async function n(s,{address:i,message:o,factory:a,factoryData:c,signature:u,...l}){const d=(0,e.hashMessage)(o);return(0,t.getAction)(s,r.verifyHash,"verifyHash")({address:i,factory:a,factoryData:c,hash:d,signature:u,...l})}return W2}var K2={},_$;function H4e(){if(_$)return K2;_$=1,Object.defineProperty(K2,"__esModule",{value:!0}),K2.verifyTypedData=n;const t=Yt(),e=UE(),r=p6();async function n(s,i){const{address:o,factory:a,factoryData:c,signature:u,message:l,primaryType:d,types:f,domain:h,...p}=i,m=(0,e.hashTypedData)({message:l,primaryType:d,types:f,domain:h});return(0,t.getAction)(s,r.verifyHash,"verifyHash")({address:o,factory:a,factoryData:c,hash:m,signature:u,...p})}return K2}var Z2={},Y2={},A$;function one(){if(A$)return Y2;A$=1,Object.defineProperty(Y2,"__esModule",{value:!0}),Y2.watchBlockNumber=o;const t=tn(),e=Yt(),r=xp(),n=Ng(),s=Xn(),i=kE();function o(a,{emitOnBegin:c=!1,emitMissed:u=!1,onBlockNumber:l,onError:d,poll:f,pollingInterval:h=a.pollingInterval}){const p=typeof f<"u"?f:!(a.transport.type==="webSocket"||a.transport.type==="ipc"||a.transport.type==="fallback"&&(a.transport.transports[0].config.type==="webSocket"||a.transport.transports[0].config.type==="ipc"));let m;return p?(()=>{const w=(0,s.stringify)(["watchBlockNumber",a.uid,c,u,h]);return(0,r.observe)(w,{onBlockNumber:l,onError:d},b=>(0,n.poll)(async()=>{var g;try{const v=await(0,e.getAction)(a,i.getBlockNumber,"getBlockNumber")({cacheTime:0});if(m!==void 0){if(v===m)return;if(v-m>1&&u)for(let A=m+1n;A<v;A++)b.onBlockNumber(A,m),m=A}(m===void 0||v>m)&&(b.onBlockNumber(v,m),m=v)}catch(v){(g=b.onError)==null||g.call(b,v)}},{emitOnBegin:c,interval:h}))})():(()=>{const w=(0,s.stringify)(["watchBlockNumber",a.uid,c,u]);return(0,r.observe)(w,{onBlockNumber:l,onError:d},b=>{let g=!0,v=()=>g=!1;return(async()=>{try{const A=(()=>{if(a.transport.type==="fallback"){const x=a.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return x?x.value:a.transport}return a.transport})(),{unsubscribe:C}=await A.subscribe({params:["newHeads"],onData(x){var N;if(!g)return;const T=(0,t.hexToBigInt)((N=x.result)==null?void 0:N.number);b.onBlockNumber(T,m),m=T},onError(x){var T;(T=b.onError)==null||T.call(b,x)}});v=C,g||v()}catch(A){d==null||d(A)}})(),()=>v()})})()}return Y2}var C$;function ane(){if(C$)return Z2;C$=1,Object.defineProperty(Z2,"__esModule",{value:!0}),Z2.waitForTransactionReceipt=d;const t=r4(),e=Si(),r=Yt(),n=xp(),s=f4(),i=t6(),o=Xn(),a=Tp(),c=V4(),u=tne(),l=one();async function d(f,h){const{checkReplacement:p=!0,confirmations:m=1,hash:y,onReplaced:E,retryCount:w=6,retryDelay:b=({count:_})=>~~(1<<_)*200,timeout:g=18e4}=h,v=(0,o.stringify)(["waitForTransactionReceipt",f.uid,y]),A=(()=>{var _;return h.pollingInterval?h.pollingInterval:(_=f.chain)!=null&&_.experimental_preconfirmationTime?f.chain.experimental_preconfirmationTime:f.pollingInterval})();let C,x,T,N=!1,M,k;const{promise:B,resolve:U,reject:I}=(0,s.withResolvers)(),S=g?setTimeout(()=>{k==null||k(),M==null||M(),I(new e.WaitForTransactionReceiptTimeoutError({hash:y}))},g):void 0;return M=(0,n.observe)(v,{onReplaced:E,resolve:U,reject:I},async _=>{if(T=await(0,r.getAction)(f,u.getTransactionReceipt,"getTransactionReceipt")({hash:y}).catch(()=>{}),T&&m<=1){clearTimeout(S),_.resolve(T),M==null||M();return}k=(0,r.getAction)(f,l.watchBlockNumber,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:A,async onBlockNumber(R){const O=D=>{clearTimeout(S),k==null||k(),D(),M==null||M()};let P=R;if(!N)try{if(T){if(m>1&&(!T.blockNumber||P-T.blockNumber+1n<m))return;O(()=>_.resolve(T));return}if(p&&!C&&(N=!0,await(0,i.withRetry)(async()=>{C=await(0,r.getAction)(f,c.getTransaction,"getTransaction")({hash:y}),C.blockNumber&&(P=C.blockNumber)},{delay:b,retryCount:w}),N=!1),T=await(0,r.getAction)(f,u.getTransactionReceipt,"getTransactionReceipt")({hash:y}),m>1&&(!T.blockNumber||P-T.blockNumber+1n<m))return;O(()=>_.resolve(T))}catch(D){if(D instanceof e.TransactionNotFoundError||D instanceof e.TransactionReceiptNotFoundError){if(!C){N=!1;return}try{x=C,N=!0;const j=await(0,i.withRetry)(()=>(0,r.getAction)(f,a.getBlock,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:b,retryCount:w,shouldRetry:({error:z})=>z instanceof t.BlockNotFoundError});N=!1;const F=j.transactions.find(({from:z,nonce:W})=>z===x.from&&W===x.nonce);if(!F||(T=await(0,r.getAction)(f,u.getTransactionReceipt,"getTransactionReceipt")({hash:F.hash}),m>1&&(!T.blockNumber||P-T.blockNumber+1n<m)))return;let q="replaced";F.to===x.to&&F.value===x.value&&F.input===x.input?q="repriced":F.from===F.to&&F.value===0n&&(q="cancelled"),O(()=>{var z;(z=_.onReplaced)==null||z.call(_,{reason:q,replacedTransaction:x,transaction:F,transactionReceipt:T}),_.resolve(T)})}catch(j){O(()=>_.reject(j))}}else O(()=>_.reject(D))}}})}),B}return Z2}var J2={},S$;function q4e(){if(S$)return J2;S$=1,Object.defineProperty(J2,"__esModule",{value:!0}),J2.watchBlocks=i;const t=Yt(),e=xp(),r=Ng(),n=Xn(),s=Tp();function i(o,{blockTag:a=o.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:u=!1,onBlock:l,onError:d,includeTransactions:f,poll:h,pollingInterval:p=o.pollingInterval}){const m=typeof h<"u"?h:!(o.transport.type==="webSocket"||o.transport.type==="ipc"||o.transport.type==="fallback"&&(o.transport.transports[0].config.type==="webSocket"||o.transport.transports[0].config.type==="ipc")),y=f??!1;let E;return m?(()=>{const g=(0,n.stringify)(["watchBlocks",o.uid,a,c,u,y,p]);return(0,e.observe)(g,{onBlock:l,onError:d},v=>(0,r.poll)(async()=>{var A;try{const C=await(0,t.getAction)(o,s.getBlock,"getBlock")({blockTag:a,includeTransactions:y});if(C.number!==null&&(E==null?void 0:E.number)!=null){if(C.number===E.number)return;if(C.number-E.number>1&&c)for(let x=(E==null?void 0:E.number)+1n;x<C.number;x++){const T=await(0,t.getAction)(o,s.getBlock,"getBlock")({blockNumber:x,includeTransactions:y});v.onBlock(T,E),E=T}}((E==null?void 0:E.number)==null||a==="pending"&&(C==null?void 0:C.number)==null||C.number!==null&&C.number>E.number)&&(v.onBlock(C,E),E=C)}catch(C){(A=v.onError)==null||A.call(v,C)}},{emitOnBegin:u,interval:p}))})():(()=>{let g=!0,v=!0,A=()=>g=!1;return(async()=>{try{u&&(0,t.getAction)(o,s.getBlock,"getBlock")({blockTag:a,includeTransactions:y}).then(T=>{g&&v&&(l(T,void 0),v=!1)}).catch(d);const C=(()=>{if(o.transport.type==="fallback"){const T=o.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return T?T.value:o.transport}return o.transport})(),{unsubscribe:x}=await C.subscribe({params:["newHeads"],async onData(T){var M;if(!g)return;const N=await(0,t.getAction)(o,s.getBlock,"getBlock")({blockNumber:(M=T.result)==null?void 0:M.number,includeTransactions:y}).catch(()=>{});g&&(l(N,E),v=!1,E=N)},onError(T){d==null||d(T)}});A=x,g||A()}catch(C){d==null||d(C)}})(),()=>A()})()}return J2}var Q2={},I$;function z4e(){if(I$)return Q2;I$=1,Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.watchEvent=p;const t=Hr(),e=Ld(),r=PE(),n=Sp(),s=Zu(),i=Yt(),o=xp(),a=Ng(),c=Xn(),u=fre(),l=kE(),d=QP(),f=u4(),h=XP();function p(m,{address:y,args:E,batch:w=!0,event:b,events:g,fromBlock:v,onError:A,onLogs:C,poll:x,pollingInterval:T=m.pollingInterval,strict:N}){const M=typeof x<"u"?x:typeof v=="bigint"?!0:!(m.transport.type==="webSocket"||m.transport.type==="ipc"||m.transport.type==="fallback"&&(m.transport.transports[0].config.type==="webSocket"||m.transport.transports[0].config.type==="ipc")),k=N??!1;return M?(()=>{const I=(0,c.stringify)(["watchEvent",y,E,w,m.uid,b,T,v]);return(0,o.observe)(I,{onLogs:C,onError:A},S=>{let _;v!==void 0&&(_=v-1n);let R,O=!1;const P=(0,a.poll)(async()=>{var D;if(!O){try{R=await(0,i.getAction)(m,u.createEventFilter,"createEventFilter")({address:y,args:E,event:b,events:g,strict:k,fromBlock:v})}catch{}O=!0;return}try{let j;if(R)j=await(0,i.getAction)(m,d.getFilterChanges,"getFilterChanges")({filter:R});else{const F=await(0,i.getAction)(m,l.getBlockNumber,"getBlockNumber")({});_&&_!==F?j=await(0,i.getAction)(m,f.getLogs,"getLogs")({address:y,args:E,event:b,events:g,fromBlock:_+1n,toBlock:F}):j=[],_=F}if(j.length===0)return;if(w)S.onLogs(j);else for(const F of j)S.onLogs([F])}catch(j){R&&j instanceof e.InvalidInputRpcError&&(O=!1),(D=S.onError)==null||D.call(S,j)}},{emitOnBegin:!0,interval:T});return async()=>{R&&await(0,i.getAction)(m,h.uninstallFilter,"uninstallFilter")({filter:R}),P()}})})():(()=>{let I=!0,S=()=>I=!1;return(async()=>{try{const _=(()=>{if(m.transport.type==="fallback"){const D=m.transport.transports.find(j=>j.config.type==="webSocket"||j.config.type==="ipc");return D?D.value:m.transport}return m.transport})(),R=g??(b?[b]:void 0);let O=[];R&&(O=[R.flatMap(j=>(0,n.encodeEventTopics)({abi:[j],eventName:j.name,args:E}))],b&&(O=O[0]));const{unsubscribe:P}=await _.subscribe({params:["logs",{address:y,topics:O}],onData(D){var F;if(!I)return;const j=D.result;try{const{eventName:q,args:z}=(0,r.decodeEventLog)({abi:R??[],data:j.data,topics:j.topics,strict:k}),W=(0,s.formatLog)(j,{args:z,eventName:q});C([W])}catch(q){let z,W;if(q instanceof t.DecodeLogDataMismatch||q instanceof t.DecodeLogTopicsMismatch){if(N)return;z=q.abiItem.name,W=(F=q.abiItem.inputs)==null?void 0:F.some(re=>!("name"in re&&re.name))}const K=(0,s.formatLog)(j,{args:W?[]:{},eventName:z});C([K])}},onError(D){A==null||A(D)}});S=P,I||S()}catch(_){A==null||A(_)}})(),()=>S()})()}return Q2}var X2={},T$;function $4e(){if(T$)return X2;T$=1,Object.defineProperty(X2,"__esModule",{value:!0}),X2.watchPendingTransactions=a;const t=Yt(),e=xp(),r=Ng(),n=Xn(),s=hre(),i=QP(),o=XP();function a(c,{batch:u=!0,onError:l,onTransactions:d,poll:f,pollingInterval:h=c.pollingInterval}){return(typeof f<"u"?f:c.transport.type!=="webSocket"&&c.transport.type!=="ipc")?(()=>{const E=(0,n.stringify)(["watchPendingTransactions",c.uid,u,h]);return(0,e.observe)(E,{onTransactions:d,onError:l},w=>{let b;const g=(0,r.poll)(async()=>{var v;try{if(!b)try{b=await(0,t.getAction)(c,s.createPendingTransactionFilter,"createPendingTransactionFilter")({});return}catch(C){throw g(),C}const A=await(0,t.getAction)(c,i.getFilterChanges,"getFilterChanges")({filter:b});if(A.length===0)return;if(u)w.onTransactions(A);else for(const C of A)w.onTransactions([C])}catch(A){(v=w.onError)==null||v.call(w,A)}},{emitOnBegin:!0,interval:h});return async()=>{b&&await(0,t.getAction)(c,o.uninstallFilter,"uninstallFilter")({filter:b}),g()}})})():(()=>{let E=!0,w=()=>E=!1;return(async()=>{try{const{unsubscribe:b}=await c.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!E)return;const v=g.result;d([v])},onError(g){l==null||l(g)}});w=b,E||w()}catch(b){l==null||l(b)}})(),()=>w()})()}return X2}var eC={},tC={},P$;function V4e(){if(P$)return tC;P$=1,Object.defineProperty(tC,"__esModule",{value:!0}),tC.parseSiweMessage=t;function t(n){var p,m,y;const{scheme:s,statement:i,...o}=((p=n.match(e))==null?void 0:p.groups)??{},{chainId:a,expirationTime:c,issuedAt:u,notBefore:l,requestId:d,...f}=((m=n.match(r))==null?void 0:m.groups)??{},h=(y=n.split("Resources:")[1])==null?void 0:y.split(`
- `).slice(1);return{...o,...f,...a?{chainId:Number(a)}:{},...c?{expirationTime:new Date(c)}:{},...u?{issuedAt:new Date(u)}:{},...l?{notBefore:new Date(l)}:{},...d?{requestId:d}:{},...h?{resources:h}:{},...s?{scheme:s}:{},...i?{statement:i}:{}}}const e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,r=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;return tC}var rC={},x$;function G4e(){if(x$)return rC;x$=1,Object.defineProperty(rC,"__esModule",{value:!0}),rC.validateSiweMessage=r;const t=Ai(),e=va();function r(n){const{address:s,domain:i,message:o,nonce:a,scheme:c,time:u=new Date}=n;if(i&&o.domain!==i||a&&o.nonce!==a||c&&o.scheme!==c||o.expirationTime&&u>=o.expirationTime||o.notBefore&&u<o.notBefore)return!1;try{if(!o.address||!(0,t.isAddress)(o.address,{strict:!1})||s&&!(0,e.isAddressEqual)(o.address,s))return!1}catch{return!1}return!0}return rC}var O$;function W4e(){if(O$)return eC;O$=1,Object.defineProperty(eC,"__esModule",{value:!0}),eC.verifySiweMessage=s;const t=ME(),e=V4e(),r=G4e(),n=p6();async function s(i,o){const{address:a,domain:c,message:u,nonce:l,scheme:d,signature:f,time:h=new Date,...p}=o,m=(0,e.parseSiweMessage)(u);if(!m.address||!(0,r.validateSiweMessage)({address:a,domain:c,message:m,nonce:l,scheme:d,time:h}))return!1;const E=(0,t.hashMessage)(u);return(0,n.verifyHash)(i,{address:m.address,hash:E,signature:f,...p})}return eC}var nC={},R$;function G4(){if(R$)return nC;R$=1,Object.defineProperty(nC,"__esModule",{value:!0}),nC.sendRawTransactionSync=n;const t=Si(),e=DE(),r=$4();async function n(s,{serializedTransaction:i,throwOnReceiptRevert:o,timeout:a}){var d,f,h;const c=await s.request({method:"eth_sendRawTransactionSync",params:a?[i,(0,r.numberToHex)(a)]:[i]},{retryCount:0}),l=(((h=(f=(d=s.chain)==null?void 0:d.formatters)==null?void 0:f.transactionReceipt)==null?void 0:h.format)||e.formatTransactionReceipt)(c);if(l.status==="reverted"&&o)throw new t.TransactionReceiptRevertedError({receipt:l});return l}return nC}var N$;function cne(){if(N$)return IA;N$=1,Object.defineProperty(IA,"__esModule",{value:!0}),IA.publicActions=we;const t=z3e(),e=G3e(),r=W3e(),n=K3e(),s=lre(),i=BE(),o=dre(),a=Z3e(),c=W3(),u=fre(),l=hre(),d=Qte(),f=Wte(),h=c4(),p=Gte(),m=a4(),y=Y3e(),E=J3e(),w=Tp(),b=kE(),g=Q3e(),v=zd(),A=pre(),C=l4(),x=e4e(),T=r4e(),N=QP(),M=n4e(),k=n4(),B=u4(),U=O4e(),I=R4e(),S=V4(),_=N4e(),R=VP(),O=tne(),P=B4e(),D=gc(),j=rne(),F=M4e(),q=rre(),z=XP(),W=p6(),K=F4e(),re=H4e(),Q=ane(),X=one(),ie=q4e(),Y=sre(),V=z4e(),Z=$4e(),ne=W4e(),ue=TE(),ce=w4(),ge=G4();function we(me){return{call:ae=>(0,i.call)(me,ae),createAccessList:ae=>(0,o.createAccessList)(me,ae),createBlockFilter:()=>(0,a.createBlockFilter)(me),createContractEventFilter:ae=>(0,c.createContractEventFilter)(me,ae),createEventFilter:ae=>(0,u.createEventFilter)(me,ae),createPendingTransactionFilter:()=>(0,l.createPendingTransactionFilter)(me),estimateContractGas:ae=>(0,d.estimateContractGas)(me,ae),estimateGas:ae=>(0,h.estimateGas)(me,ae),getBalance:ae=>(0,y.getBalance)(me,ae),getBlobBaseFee:()=>(0,E.getBlobBaseFee)(me),getBlock:ae=>(0,w.getBlock)(me,ae),getBlockNumber:ae=>(0,b.getBlockNumber)(me,ae),getBlockTransactionCount:ae=>(0,g.getBlockTransactionCount)(me,ae),getBytecode:ae=>(0,A.getCode)(me,ae),getChainId:()=>(0,v.getChainId)(me),getCode:ae=>(0,A.getCode)(me,ae),getContractEvents:ae=>(0,C.getContractEvents)(me,ae),getEip712Domain:ae=>(0,x.getEip712Domain)(me,ae),getEnsAddress:ae=>(0,t.getEnsAddress)(me,ae),getEnsAvatar:ae=>(0,e.getEnsAvatar)(me,ae),getEnsName:ae=>(0,r.getEnsName)(me,ae),getEnsResolver:ae=>(0,n.getEnsResolver)(me,ae),getEnsText:ae=>(0,s.getEnsText)(me,ae),getFeeHistory:ae=>(0,T.getFeeHistory)(me,ae),estimateFeesPerGas:ae=>(0,f.estimateFeesPerGas)(me,ae),getFilterChanges:ae=>(0,N.getFilterChanges)(me,ae),getFilterLogs:ae=>(0,M.getFilterLogs)(me,ae),getGasPrice:()=>(0,k.getGasPrice)(me),getLogs:ae=>(0,B.getLogs)(me,ae),getProof:ae=>(0,U.getProof)(me,ae),estimateMaxPriorityFeePerGas:ae=>(0,p.estimateMaxPriorityFeePerGas)(me,ae),fillTransaction:ae=>(0,m.fillTransaction)(me,ae),getStorageAt:ae=>(0,I.getStorageAt)(me,ae),getTransaction:ae=>(0,S.getTransaction)(me,ae),getTransactionConfirmations:ae=>(0,_.getTransactionConfirmations)(me,ae),getTransactionCount:ae=>(0,R.getTransactionCount)(me,ae),getTransactionReceipt:ae=>(0,O.getTransactionReceipt)(me,ae),multicall:ae=>(0,P.multicall)(me,ae),prepareTransactionRequest:ae=>(0,ue.prepareTransactionRequest)(me,ae),readContract:ae=>(0,D.readContract)(me,ae),sendRawTransaction:ae=>(0,ce.sendRawTransaction)(me,ae),sendRawTransactionSync:ae=>(0,ge.sendRawTransactionSync)(me,ae),simulate:ae=>(0,j.simulateBlocks)(me,ae),simulateBlocks:ae=>(0,j.simulateBlocks)(me,ae),simulateCalls:ae=>(0,F.simulateCalls)(me,ae),simulateContract:ae=>(0,q.simulateContract)(me,ae),verifyHash:ae=>(0,W.verifyHash)(me,ae),verifyMessage:ae=>(0,K.verifyMessage)(me,ae),verifySiweMessage:ae=>(0,ne.verifySiweMessage)(me,ae),verifyTypedData:ae=>(0,re.verifyTypedData)(me,ae),uninstallFilter:ae=>(0,z.uninstallFilter)(me,ae),waitForTransactionReceipt:ae=>(0,Q.waitForTransactionReceipt)(me,ae),watchBlocks:ae=>(0,ie.watchBlocks)(me,ae),watchBlockNumber:ae=>(0,X.watchBlockNumber)(me,ae),watchContractEvent:ae=>(0,Y.watchContractEvent)(me,ae),watchEvent:ae=>(0,V.watchEvent)(me,ae),watchPendingTransactions:ae=>(0,Z.watchPendingTransactions)(me,ae)}}return IA}var B$;function K4e(){if(B$)return SA;B$=1,Object.defineProperty(SA,"__esModule",{value:!0}),SA.createPublicClient=r;const t=r6(),e=cne();function r(n){const{key:s="public",name:i="Public Client"}=n;return(0,t.createClient)({...n,key:s,name:i,type:"publicClient"}).extend(e.publicActions)}return SA}var sC={},iC={},oC={},k$;function Z4e(){if(k$)return oC;k$=1,Object.defineProperty(oC,"__esModule",{value:!0}),oC.dropTransaction=t;async function t(e,{hash:r}){await e.request({method:`${e.mode}_dropTransaction`,params:[r]})}return oC}var aC={},j$;function Y4e(){if(j$)return aC;j$=1,Object.defineProperty(aC,"__esModule",{value:!0}),aC.dumpState=t;async function t(e){return e.request({method:`${e.mode}_dumpState`})}return aC}var cC={},D$;function J4e(){if(D$)return cC;D$=1,Object.defineProperty(cC,"__esModule",{value:!0}),cC.getAutomine=t;async function t(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}return cC}var uC={},M$;function Q4e(){if(M$)return uC;M$=1,Object.defineProperty(uC,"__esModule",{value:!0}),uC.getTxpoolContent=t;async function t(e){return await e.request({method:"txpool_content"})}return uC}var lC={},U$;function X4e(){if(U$)return lC;U$=1,Object.defineProperty(lC,"__esModule",{value:!0}),lC.getTxpoolStatus=e;const t=tn();async function e(r){const{pending:n,queued:s}=await r.request({method:"txpool_status"});return{pending:(0,t.hexToNumber)(n),queued:(0,t.hexToNumber)(s)}}return lC}var dC={},L$;function eBe(){if(L$)return dC;L$=1,Object.defineProperty(dC,"__esModule",{value:!0}),dC.impersonateAccount=t;async function t(e,{address:r}){await e.request({method:`${e.mode}_impersonateAccount`,params:[r]})}return dC}var fC={},F$;function tBe(){if(F$)return fC;F$=1,Object.defineProperty(fC,"__esModule",{value:!0}),fC.increaseTime=e;const t=ze();async function e(r,{seconds:n}){return await r.request({method:"evm_increaseTime",params:[(0,t.numberToHex)(n)]})}return fC}var hC={},H$;function rBe(){if(H$)return hC;H$=1,Object.defineProperty(hC,"__esModule",{value:!0}),hC.inspectTxpool=t;async function t(e){return await e.request({method:"txpool_inspect"})}return hC}var pC={},q$;function nBe(){if(q$)return pC;q$=1,Object.defineProperty(pC,"__esModule",{value:!0}),pC.loadState=t;async function t(e,{state:r}){await e.request({method:`${e.mode}_loadState`,params:[r]})}return pC}var mC={},z$;function sBe(){if(z$)return mC;z$=1,Object.defineProperty(mC,"__esModule",{value:!0}),mC.mine=e;const t=ze();async function e(r,{blocks:n,interval:s}){r.mode==="ganache"?await r.request({method:"evm_mine",params:[{blocks:(0,t.numberToHex)(n)}]}):await r.request({method:`${r.mode}_mine`,params:[(0,t.numberToHex)(n),(0,t.numberToHex)(s||0)]})}return mC}var gC={},$$;function iBe(){if($$)return gC;$$=1,Object.defineProperty(gC,"__esModule",{value:!0}),gC.removeBlockTimestampInterval=t;async function t(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}return gC}var yC={},V$;function oBe(){if(V$)return yC;V$=1,Object.defineProperty(yC,"__esModule",{value:!0}),yC.reset=t;async function t(e,{blockNumber:r,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(r),jsonRpcUrl:n}}]})}return yC}var bC={},G$;function aBe(){if(G$)return bC;G$=1,Object.defineProperty(bC,"__esModule",{value:!0}),bC.revert=t;async function t(e,{id:r}){await e.request({method:"evm_revert",params:[r]})}return bC}var wC={},W$;function cBe(){if(W$)return wC;W$=1,Object.defineProperty(wC,"__esModule",{value:!0}),wC.sendUnsignedTransaction=r;const t=qd(),e=wa();async function r(n,s){var g,v,A;const{accessList:i,data:o,from:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p,...m}=s,y=(A=(v=(g=n.chain)==null?void 0:g.formatters)==null?void 0:v.transactionRequest)==null?void 0:A.format,w=(y||e.formatTransactionRequest)({...(0,t.extract)(m,{format:y}),accessList:i,data:o,from:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p},"sendUnsignedTransaction");return await n.request({method:"eth_sendUnsignedTransaction",params:[w]})}return wC}var EC={},K$;function uBe(){if(K$)return EC;K$=1,Object.defineProperty(EC,"__esModule",{value:!0}),EC.setAutomine=t;async function t(e,r){e.mode==="ganache"?r?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[r]})}return EC}var vC={},Z$;function lBe(){if(Z$)return vC;Z$=1,Object.defineProperty(vC,"__esModule",{value:!0}),vC.setBalance=e;const t=ze();async function e(r,{address:n,value:s}){r.mode==="ganache"?await r.request({method:"evm_setAccountBalance",params:[n,(0,t.numberToHex)(s)]}):await r.request({method:`${r.mode}_setBalance`,params:[n,(0,t.numberToHex)(s)]})}return vC}var _C={},Y$;function dBe(){if(Y$)return _C;Y$=1,Object.defineProperty(_C,"__esModule",{value:!0}),_C.setBlockGasLimit=e;const t=ze();async function e(r,{gasLimit:n}){await r.request({method:"evm_setBlockGasLimit",params:[(0,t.numberToHex)(n)]})}return _C}var AC={},J$;function fBe(){if(J$)return AC;J$=1,Object.defineProperty(AC,"__esModule",{value:!0}),AC.setBlockTimestampInterval=t;async function t(e,{interval:r}){const n=e.mode==="hardhat"?r*1e3:r;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}return AC}var CC={},Q$;function hBe(){if(Q$)return CC;Q$=1,Object.defineProperty(CC,"__esModule",{value:!0}),CC.setCode=t;async function t(e,{address:r,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[r,n]}):await e.request({method:`${e.mode}_setCode`,params:[r,n]})}return CC}var SC={},X$;function pBe(){if(X$)return SC;X$=1,Object.defineProperty(SC,"__esModule",{value:!0}),SC.setCoinbase=t;async function t(e,{address:r}){await e.request({method:`${e.mode}_setCoinbase`,params:[r]})}return SC}var IC={},eV;function mBe(){if(eV)return IC;eV=1,Object.defineProperty(IC,"__esModule",{value:!0}),IC.setIntervalMining=t;async function t(e,{interval:r}){const n=e.mode==="hardhat"?r*1e3:r;await e.request({method:"evm_setIntervalMining",params:[n]})}return IC}var TC={},tV;function gBe(){if(tV)return TC;tV=1,Object.defineProperty(TC,"__esModule",{value:!0}),TC.setLoggingEnabled=t;async function t(e,r){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[r]})}return TC}var PC={},rV;function yBe(){if(rV)return PC;rV=1,Object.defineProperty(PC,"__esModule",{value:!0}),PC.setMinGasPrice=e;const t=ze();async function e(r,{gasPrice:n}){await r.request({method:`${r.mode}_setMinGasPrice`,params:[(0,t.numberToHex)(n)]})}return PC}var xC={},nV;function bBe(){if(nV)return xC;nV=1,Object.defineProperty(xC,"__esModule",{value:!0}),xC.setNextBlockBaseFeePerGas=e;const t=ze();async function e(r,{baseFeePerGas:n}){await r.request({method:`${r.mode}_setNextBlockBaseFeePerGas`,params:[(0,t.numberToHex)(n)]})}return xC}var OC={},sV;function wBe(){if(sV)return OC;sV=1,Object.defineProperty(OC,"__esModule",{value:!0}),OC.setNextBlockTimestamp=e;const t=ze();async function e(r,{timestamp:n}){await r.request({method:"evm_setNextBlockTimestamp",params:[(0,t.numberToHex)(n)]})}return OC}var RC={},iV;function EBe(){if(iV)return RC;iV=1,Object.defineProperty(RC,"__esModule",{value:!0}),RC.setNonce=e;const t=ze();async function e(r,{address:n,nonce:s}){await r.request({method:`${r.mode}_setNonce`,params:[n,(0,t.numberToHex)(s)]})}return RC}var NC={},oV;function vBe(){if(oV)return NC;oV=1,Object.defineProperty(NC,"__esModule",{value:!0}),NC.setRpcUrl=t;async function t(e,r){await e.request({method:`${e.mode}_setRpcUrl`,params:[r]})}return NC}var BC={},aV;function _Be(){if(aV)return BC;aV=1,Object.defineProperty(BC,"__esModule",{value:!0}),BC.setStorageAt=e;const t=ze();async function e(r,{address:n,index:s,value:i}){await r.request({method:`${r.mode}_setStorageAt`,params:[n,typeof s=="number"?(0,t.numberToHex)(s):s,i]})}return BC}var kC={},cV;function ABe(){if(cV)return kC;cV=1,Object.defineProperty(kC,"__esModule",{value:!0}),kC.snapshot=t;async function t(e){return await e.request({method:"evm_snapshot"})}return kC}var jC={},uV;function CBe(){if(uV)return jC;uV=1,Object.defineProperty(jC,"__esModule",{value:!0}),jC.stopImpersonatingAccount=t;async function t(e,{address:r}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[r]})}return jC}var lV;function une(){if(lV)return iC;lV=1,Object.defineProperty(iC,"__esModule",{value:!0}),iC.testActions=U;const t=Z4e(),e=Y4e(),r=J4e(),n=Q4e(),s=X4e(),i=eBe(),o=tBe(),a=rBe(),c=nBe(),u=sBe(),l=iBe(),d=oBe(),f=aBe(),h=cBe(),p=uBe(),m=lBe(),y=dBe(),E=fBe(),w=hBe(),b=pBe(),g=mBe(),v=gBe(),A=yBe(),C=bBe(),x=wBe(),T=EBe(),N=vBe(),M=_Be(),k=ABe(),B=CBe();function U({mode:I}){return S=>{const _=S.extend(()=>({mode:I}));return{dropTransaction:R=>(0,t.dropTransaction)(_,R),dumpState:()=>(0,e.dumpState)(_),getAutomine:()=>(0,r.getAutomine)(_),getTxpoolContent:()=>(0,n.getTxpoolContent)(_),getTxpoolStatus:()=>(0,s.getTxpoolStatus)(_),impersonateAccount:R=>(0,i.impersonateAccount)(_,R),increaseTime:R=>(0,o.increaseTime)(_,R),inspectTxpool:()=>(0,a.inspectTxpool)(_),loadState:R=>(0,c.loadState)(_,R),mine:R=>(0,u.mine)(_,R),removeBlockTimestampInterval:()=>(0,l.removeBlockTimestampInterval)(_),reset:R=>(0,d.reset)(_,R),revert:R=>(0,f.revert)(_,R),sendUnsignedTransaction:R=>(0,h.sendUnsignedTransaction)(_,R),setAutomine:R=>(0,p.setAutomine)(_,R),setBalance:R=>(0,m.setBalance)(_,R),setBlockGasLimit:R=>(0,y.setBlockGasLimit)(_,R),setBlockTimestampInterval:R=>(0,E.setBlockTimestampInterval)(_,R),setCode:R=>(0,w.setCode)(_,R),setCoinbase:R=>(0,b.setCoinbase)(_,R),setIntervalMining:R=>(0,g.setIntervalMining)(_,R),setLoggingEnabled:R=>(0,v.setLoggingEnabled)(_,R),setMinGasPrice:R=>(0,A.setMinGasPrice)(_,R),setNextBlockBaseFeePerGas:R=>(0,C.setNextBlockBaseFeePerGas)(_,R),setNextBlockTimestamp:R=>(0,x.setNextBlockTimestamp)(_,R),setNonce:R=>(0,T.setNonce)(_,R),setRpcUrl:R=>(0,N.setRpcUrl)(_,R),setStorageAt:R=>(0,M.setStorageAt)(_,R),snapshot:()=>(0,k.snapshot)(_),stopImpersonatingAccount:R=>(0,B.stopImpersonatingAccount)(_,R)}}}return iC}var dV;function SBe(){if(dV)return sC;dV=1,Object.defineProperty(sC,"__esModule",{value:!0}),sC.createTestClient=r;const t=r6(),e=une();function r(n){const{key:s="test",name:i="Test Client",mode:o}=n;return(0,t.createClient)({...n,key:s,name:i,type:"testClient"}).extend(c=>({mode:o,...(0,e.testActions)({mode:o})(c)}))}return sC}var DC={},MC={},UC={},fV;function IBe(){if(fV)return UC;fV=1,Object.defineProperty(UC,"__esModule",{value:!0}),UC.addChain=e;const t=ze();async function e(r,{chain:n}){const{id:s,name:i,nativeCurrency:o,rpcUrls:a,blockExplorers:c}=n;await r.request({method:"wallet_addEthereumChain",params:[{chainId:(0,t.numberToHex)(s),chainName:i,nativeCurrency:o,rpcUrls:a.default.http,blockExplorerUrls:c?Object.values(c).map(({url:u})=>u):void 0}]},{dedupe:!0,retryCount:0})}return UC}var LC={},hV;function TBe(){if(hV)return LC;hV=1,Object.defineProperty(LC,"__esModule",{value:!0}),LC.deployContract=r;const t=NE(),e=e6();function r(n,s){const{abi:i,args:o,bytecode:a,...c}=s,u=(0,t.encodeDeployData)({abi:i,args:o,bytecode:a});return(0,e.sendTransaction)(n,{...c,...c.authorizationList?{to:null}:{},data:u})}return LC}var FC={},pV;function PBe(){if(pV)return FC;pV=1,Object.defineProperty(FC,"__esModule",{value:!0}),FC.getAddresses=e;const t=to();async function e(r){var s;return((s=r.account)==null?void 0:s.type)==="local"?[r.account.address]:(await r.request({method:"eth_accounts"},{dedupe:!0})).map(i=>(0,t.checksumAddress)(i))}return FC}var HC={},mV;function xBe(){if(mV)return HC;mV=1,Object.defineProperty(HC,"__esModule",{value:!0}),HC.getCapabilities=r;const t=Gr(),e=ze();async function r(n,s={}){const{account:i=n.account,chainId:o}=s,a=i?(0,t.parseAccount)(i):void 0,c=o?[a==null?void 0:a.address,[(0,e.numberToHex)(o)]]:[a==null?void 0:a.address],u=await n.request({method:"wallet_getCapabilities",params:c}),l={};for(const[d,f]of Object.entries(u)){l[Number(d)]={};for(let[h,p]of Object.entries(f))h==="addSubAccount"&&(h="unstable_addSubAccount"),l[Number(d)][h]=p}return typeof o=="number"?l[o]:l}return HC}var qC={},gV;function OBe(){if(gV)return qC;gV=1,Object.defineProperty(qC,"__esModule",{value:!0}),qC.getPermissions=t;async function t(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}return qC}var zC={},yV;function lne(){if(yV)return zC;yV=1,Object.defineProperty(zC,"__esModule",{value:!0}),zC.prepareAuthorization=o;const t=Gr(),e=Gd(),r=va(),n=Yt(),s=zd(),i=VP();async function o(a,c){var m;const{account:u=a.account,chainId:l,nonce:d}=c;if(!u)throw new e.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});const f=(0,t.parseAccount)(u),h=(()=>{if(c.executor)return c.executor==="self"?c.executor:(0,t.parseAccount)(c.executor)})(),p={address:c.contractAddress??c.address,chainId:l,nonce:d};return typeof p.chainId>"u"&&(p.chainId=((m=a.chain)==null?void 0:m.id)??await(0,n.getAction)(a,s.getChainId,"getChainId")({})),typeof p.nonce>"u"&&(p.nonce=await(0,n.getAction)(a,i.getTransactionCount,"getTransactionCount")({address:f.address,blockTag:"pending"}),(h==="self"||h!=null&&h.address&&(0,r.isAddressEqual)(h.address,f.address))&&(p.nonce+=1)),p}return zC}var $C={},bV;function RBe(){if(bV)return $C;bV=1,Object.defineProperty($C,"__esModule",{value:!0}),$C.requestAddresses=e;const t=to();async function e(r){return(await r.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(s=>(0,t.getAddress)(s))}return $C}var VC={},wV;function NBe(){if(wV)return VC;wV=1,Object.defineProperty(VC,"__esModule",{value:!0}),VC.requestPermissions=t;async function t(e,r){return e.request({method:"wallet_requestPermissions",params:[r]},{retryCount:0})}return VC}var GC={},EV;function BBe(){if(EV)return GC;EV=1,Object.defineProperty(GC,"__esModule",{value:!0}),GC.sendCallsSync=r;const t=v4(),e=_4();async function r(n,s){const{chain:i=n.chain}=s,o=s.timeout??Math.max(((i==null?void 0:i.blockTime)??0)*3,5e3),a=await(0,t.sendCalls)(n,s);return await(0,e.waitForCallsStatus)(n,{...s,id:a.id,timeout:o})}return GC}var WC={},vV;function dne(){if(vV)return WC;vV=1,Object.defineProperty(WC,"__esModule",{value:!0}),WC.sendTransactionSync=E;const t=Gr(),e=Gd(),r=yt(),n=Si(),s=_E(),i=jE(),o=IE(),a=qd(),c=wa(),u=Yt(),l=Ap(),d=Ea(),f=zd(),h=ane(),p=TE(),m=G4(),y=new l.LruMap(128);async function E(w,b){var F,q,z,W;const{account:g=w.account,chain:v=w.chain,accessList:A,authorizationList:C,blobs:x,data:T,gas:N,gasPrice:M,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:I,pollingInterval:S,throwOnReceiptRevert:_,type:R,value:O,...P}=b,D=b.timeout??Math.max(((v==null?void 0:v.blockTime)??0)*3,5e3);if(typeof g>"u")throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});const j=g?(0,t.parseAccount)(g):null;try{(0,d.assertRequest)(b);const K=await(async()=>{if(b.to)return b.to;if(b.to!==null&&C&&C.length>0)return await(0,s.recoverAuthorizationAddress)({authorization:C[0]}).catch(()=>{throw new r.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if((j==null?void 0:j.type)==="json-rpc"||j===null){let re;v!==null&&(re=await(0,u.getAction)(w,f.getChainId,"getChainId")({}),(0,i.assertCurrentChain)({currentChainId:re,chain:v}));const Q=(z=(q=(F=w.chain)==null?void 0:F.formatters)==null?void 0:q.transactionRequest)==null?void 0:z.format,ie=(Q||c.formatTransactionRequest)({...(0,a.extract)(P,{format:Q}),accessList:A,account:j,authorizationList:C,blobs:x,chainId:re,data:T,gas:N,gasPrice:M,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:I,to:K,type:R,value:O},"sendTransaction"),Y=y.get(w.uid),V=Y?"wallet_sendTransaction":"eth_sendTransaction",Z=await(async()=>{try{return await w.request({method:V,params:[ie]},{retryCount:0})}catch(ue){if(Y===!1)throw ue;const ce=ue;if(ce.name==="InvalidInputRpcError"||ce.name==="InvalidParamsRpcError"||ce.name==="MethodNotFoundRpcError"||ce.name==="MethodNotSupportedRpcError")return await w.request({method:"wallet_sendTransaction",params:[ie]},{retryCount:0}).then(ge=>(y.set(w.uid,!0),ge)).catch(ge=>{const we=ge;throw we.name==="MethodNotFoundRpcError"||we.name==="MethodNotSupportedRpcError"?(y.set(w.uid,!1),ce):we});throw ce}})(),ne=await(0,u.getAction)(w,h.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:Z,pollingInterval:S,timeout:D});if(_&&ne.status==="reverted")throw new n.TransactionReceiptRevertedError({receipt:ne});return ne}if((j==null?void 0:j.type)==="local"){const re=await(0,u.getAction)(w,p.prepareTransactionRequest,"prepareTransactionRequest")({account:j,accessList:A,authorizationList:C,blobs:x,chain:v,data:T,gas:N,gasPrice:M,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:I,nonceManager:j.nonceManager,parameters:[...p.defaultParameters,"sidecars"],type:R,value:O,...P,to:K}),Q=(W=v==null?void 0:v.serializers)==null?void 0:W.transaction,X=await j.signTransaction(re,{serializer:Q});return await(0,u.getAction)(w,m.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:X,throwOnReceiptRevert:_})}throw(j==null?void 0:j.type)==="smart"?new e.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new e.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:j==null?void 0:j.type})}catch(K){throw K instanceof e.AccountTypeNotSupportedError?K:(0,o.getTransactionError)(K,{...b,account:j,chain:b.chain||void 0})}}return WC}var KC={},_V;function kBe(){if(_V)return KC;_V=1,Object.defineProperty(KC,"__esModule",{value:!0}),KC.showCallsStatus=t;async function t(e,r){const{id:n}=r;await e.request({method:"wallet_showCallsStatus",params:[n]})}return KC}var ZC={},AV;function jBe(){if(AV)return ZC;AV=1,Object.defineProperty(ZC,"__esModule",{value:!0}),ZC.signAuthorization=n;const t=Gr(),e=Gd(),r=lne();async function n(s,i){const{account:o=s.account}=i;if(!o)throw new e.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});const a=(0,t.parseAccount)(o);if(!a.signAuthorization)throw new e.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const c=await(0,r.prepareAuthorization)(s,i);return a.signAuthorization(c)}return ZC}var YC={},CV;function DBe(){if(CV)return YC;CV=1,Object.defineProperty(YC,"__esModule",{value:!0}),YC.signMessage=n;const t=Gr(),e=Gd(),r=ze();async function n(s,{account:i=s.account,message:o}){if(!i)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const a=(0,t.parseAccount)(i);if(a.signMessage)return a.signMessage({message:o});const c=typeof o=="string"?(0,r.stringToHex)(o):o.raw instanceof Uint8Array?(0,r.toHex)(o.raw):o.raw;return s.request({method:"personal_sign",params:[c,a.address]},{retryCount:0})}return YC}var JC={},SV;function MBe(){if(SV)return JC;SV=1,Object.defineProperty(JC,"__esModule",{value:!0}),JC.signTransaction=c;const t=Gr(),e=Gd(),r=jE(),n=ze(),s=wa(),i=Yt(),o=Ea(),a=zd();async function c(u,l){var w,b,g,v;const{account:d=u.account,chain:f=u.chain,...h}=l;if(!d)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const p=(0,t.parseAccount)(d);(0,o.assertRequest)({account:p,...l});const m=await(0,i.getAction)(u,a.getChainId,"getChainId")({});f!==null&&(0,r.assertCurrentChain)({currentChainId:m,chain:f});const y=(f==null?void 0:f.formatters)||((w=u.chain)==null?void 0:w.formatters),E=((b=y==null?void 0:y.transactionRequest)==null?void 0:b.format)||s.formatTransactionRequest;return p.signTransaction?p.signTransaction({...h,chainId:m},{serializer:(v=(g=u.chain)==null?void 0:g.serializers)==null?void 0:v.transaction}):await u.request({method:"eth_signTransaction",params:[{...E({...h,account:p},"signTransaction"),chainId:(0,n.numberToHex)(m),from:p.address}]},{retryCount:0})}return JC}var QC={},IV;function UBe(){if(IV)return QC;IV=1,Object.defineProperty(QC,"__esModule",{value:!0}),QC.signTypedData=n;const t=Gr(),e=Gd(),r=i6();async function n(s,i){const{account:o=s.account,domain:a,message:c,primaryType:u}=i;if(!o)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const l=(0,t.parseAccount)(o),d={EIP712Domain:(0,r.getTypesForEIP712Domain)({domain:a}),...i.types};if((0,r.validateTypedData)({domain:a,message:c,primaryType:u,types:d}),l.signTypedData)return l.signTypedData({domain:a,message:c,primaryType:u,types:d});const f=(0,r.serializeTypedData)({domain:a,message:c,primaryType:u,types:d});return s.request({method:"eth_signTypedData_v4",params:[l.address,f]},{retryCount:0})}return QC}var XC={},TV;function LBe(){if(TV)return XC;TV=1,Object.defineProperty(XC,"__esModule",{value:!0}),XC.switchChain=e;const t=ze();async function e(r,{id:n}){await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,t.numberToHex)(n)}]},{retryCount:0})}return XC}var eS={},PV;function FBe(){if(PV)return eS;PV=1,Object.defineProperty(eS,"__esModule",{value:!0}),eS.watchAsset=t;async function t(e,r){return await e.request({method:"wallet_watchAsset",params:r},{retryCount:0})}return eS}var tS={},xV;function HBe(){if(xV)return tS;xV=1,Object.defineProperty(tS,"__esModule",{value:!0}),tS.writeContractSync=r;const t=dne(),e=E4();async function r(n,s){return e.writeContract.internal(n,t.sendTransactionSync,"sendTransactionSync",s)}return tS}var OV;function fne(){if(OV)return MC;OV=1,Object.defineProperty(MC,"__esModule",{value:!0}),MC.walletActions=k;const t=a4(),e=zd(),r=IBe(),n=TBe(),s=PBe(),i=ore(),o=xBe(),a=OBe(),c=lne(),u=TE(),l=RBe(),d=NBe(),f=v4(),h=BBe(),p=w4(),m=G4(),y=e6(),E=dne(),w=kBe(),b=jBe(),g=DBe(),v=MBe(),A=UBe(),C=LBe(),x=_4(),T=FBe(),N=E4(),M=HBe();function k(B){return{addChain:U=>(0,r.addChain)(B,U),deployContract:U=>(0,n.deployContract)(B,U),fillTransaction:U=>(0,t.fillTransaction)(B,U),getAddresses:()=>(0,s.getAddresses)(B),getCallsStatus:U=>(0,i.getCallsStatus)(B,U),getCapabilities:U=>(0,o.getCapabilities)(B,U),getChainId:()=>(0,e.getChainId)(B),getPermissions:()=>(0,a.getPermissions)(B),prepareAuthorization:U=>(0,c.prepareAuthorization)(B,U),prepareTransactionRequest:U=>(0,u.prepareTransactionRequest)(B,U),requestAddresses:()=>(0,l.requestAddresses)(B),requestPermissions:U=>(0,d.requestPermissions)(B,U),sendCalls:U=>(0,f.sendCalls)(B,U),sendCallsSync:U=>(0,h.sendCallsSync)(B,U),sendRawTransaction:U=>(0,p.sendRawTransaction)(B,U),sendRawTransactionSync:U=>(0,m.sendRawTransactionSync)(B,U),sendTransaction:U=>(0,y.sendTransaction)(B,U),sendTransactionSync:U=>(0,E.sendTransactionSync)(B,U),showCallsStatus:U=>(0,w.showCallsStatus)(B,U),signAuthorization:U=>(0,b.signAuthorization)(B,U),signMessage:U=>(0,g.signMessage)(B,U),signTransaction:U=>(0,v.signTransaction)(B,U),signTypedData:U=>(0,A.signTypedData)(B,U),switchChain:U=>(0,C.switchChain)(B,U),waitForCallsStatus:U=>(0,x.waitForCallsStatus)(B,U),watchAsset:U=>(0,T.watchAsset)(B,U),writeContract:U=>(0,N.writeContract)(B,U),writeContractSync:U=>(0,M.writeContractSync)(B,U)}}return MC}var RV;function qBe(){if(RV)return DC;RV=1,Object.defineProperty(DC,"__esModule",{value:!0}),DC.createWalletClient=r;const t=r6(),e=fne();function r(n){const{key:s="wallet",name:i="Wallet Client",transport:o}=n;return(0,t.createClient)({...n,key:s,name:i,transport:o,type:"walletClient"}).extend(e.walletActions)}return DC}var rS={},NV;function HE(){if(NV)return rS;NV=1,Object.defineProperty(rS,"__esModule",{value:!0}),rS.createTransport=r;const t=wre(),e=are();function r({key:n,methods:s,name:i,request:o,retryCount:a=3,retryDelay:c=150,timeout:u,type:l},d){const f=(0,e.uid)();return{config:{key:n,methods:s,name:i,request:o,retryCount:a,retryDelay:c,timeout:u,type:l},request:(0,t.buildRequest)(o,{methods:s,retryCount:a,retryDelay:c,uid:f}),value:d}}return rS}var nS={},BV;function zBe(){if(BV)return nS;BV=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.custom=e;const t=HE();function e(r,n={}){const{key:s="custom",methods:i,name:o="Custom Provider",retryDelay:a}=n;return({retryCount:c})=>(0,t.createTransport)({key:s,methods:i,name:o,request:r.request.bind(r),retryCount:n.retryCount??c,retryDelay:a,type:"custom"})}return nS}var m0={},kV;function $Be(){if(kV)return m0;kV=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.fallback=s,m0.shouldThrow=i,m0.rankTransports=o;const t=Ku(),e=Ld(),r=b4(),n=HE();function s(a,c={}){const{key:u="fallback",name:l="Fallback",rank:d=!1,shouldThrow:f=i,retryCount:h,retryDelay:p}=c;return(({chain:m,pollingInterval:y=4e3,timeout:E,...w})=>{let b=a,g=()=>{};const v=(0,n.createTransport)({key:u,name:l,async request({method:A,params:C}){let x;const T=async(N=0)=>{const M=b[N]({...w,chain:m,retryCount:0,timeout:E});try{const k=await M.request({method:A,params:C});return g({method:A,params:C,response:k,transport:M,status:"success"}),k}catch(k){if(g({error:k,method:A,params:C,transport:M,status:"error"}),f(k)||N===b.length-1||(x??(x=b.slice(N+1).some(B=>{const{include:U,exclude:I}=B({chain:m}).config.methods||{};return U?U.includes(A):I?!I.includes(A):!0})),!x))throw k;return T(N+1)}};return T()},retryCount:h,retryDelay:p,type:"fallback"},{onResponse:A=>g=A,transports:b.map(A=>A({chain:m,retryCount:0}))});if(d){const A=typeof d=="object"?d:{};o({chain:m,interval:A.interval??y,onTransports:C=>b=C,ping:A.ping,sampleCount:A.sampleCount,timeout:A.timeout,transports:b,weights:A.weights})}return v})}function i(a){return!!("code"in a&&typeof a.code=="number"&&(a.code===e.TransactionRejectedRpcError.code||a.code===e.UserRejectedRequestError.code||t.ExecutionRevertedError.nodeMessage.test(a.message)||a.code===5e3))}function o({chain:a,interval:c=4e3,onTransports:u,ping:l,sampleCount:d=10,timeout:f=1e3,transports:h,weights:p={}}){const{stability:m=.7,latency:y=.3}=p,E=[],w=async()=>{const b=await Promise.all(h.map(async A=>{const C=A({chain:a,retryCount:0,timeout:f}),x=Date.now();let T,N;try{await(l?l({transport:C}):C.request({method:"net_listening"})),N=1}catch{N=0}finally{T=Date.now()}return{latency:T-x,success:N}}));E.push(b),E.length>d&&E.shift();const g=Math.max(...E.map(A=>Math.max(...A.map(({latency:C})=>C)))),v=h.map((A,C)=>{const x=E.map(B=>B[C].latency),N=1-x.reduce((B,U)=>B+U,0)/x.length/g,M=E.map(B=>B[C].success),k=M.reduce((B,U)=>B+U,0)/M.length;return k===0?[0,C]:[y*N+m*k,C]}).sort((A,C)=>C[0]-A[0]);u(v.map(([,A])=>h[A])),await(0,r.wait)(c),w()};w()}return m0}var sS={},Cb={},jV;function W4(){if(jV)return Cb;jV=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.UrlRequiredError=void 0;const t=yt();class e extends t.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}return Cb.UrlRequiredError=e,Cb}var DV;function VBe(){if(DV)return sS;DV=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.http=i;const t=ba(),e=W4(),r=h4(),n=N4(),s=HE();function i(o,a={}){const{batch:c,fetchFn:u,fetchOptions:l,key:d="http",methods:f,name:h="HTTP JSON-RPC",onFetchRequest:p,onFetchResponse:m,retryDelay:y,raw:E}=a;return({chain:w,retryCount:b,timeout:g})=>{const{batchSize:v=1e3,wait:A=0}=typeof c=="object"?c:{},C=a.retryCount??b,x=g??a.timeout??1e4,T=o||(w==null?void 0:w.rpcUrls.default.http[0]);if(!T)throw new e.UrlRequiredError;const N=(0,n.getHttpRpcClient)(T,{fetchFn:u,fetchOptions:l,onRequest:p,onResponse:m,timeout:x});return(0,s.createTransport)({key:d,methods:f,name:h,async request({method:M,params:k}){const B={method:M,params:k},{schedule:U}=(0,r.createBatchScheduler)({id:T,wait:A,shouldSplitBatch(R){return R.length>v},fn:R=>N.request({body:R}),sort:(R,O)=>R.id-O.id}),I=async R=>c?U(R):[await N.request({body:R})],[{error:S,result:_}]=await I(B);if(E)return{error:S,result:_};if(S)throw new t.RpcRequestError({body:B,error:S,url:T});return _},retryCount:C,retryDelay:y,timeout:x,type:"http"},{fetchOptions:l,url:T})}}return sS}var iS={},MV;function GBe(){if(MV)return iS;MV=1,Object.defineProperty(iS,"__esModule",{value:!0}),iS.webSocket=i;const t=ba(),e=W4(),r=Rre(),n=B4(),s=HE();function i(o,a={}){const{keepAlive:c,key:u="webSocket",methods:l,name:d="WebSocket JSON-RPC",reconnect:f,retryDelay:h}=a;return({chain:p,retryCount:m,timeout:y})=>{var v;const E=a.retryCount??m,w=y??a.timeout??1e4,b=o||((v=p==null?void 0:p.rpcUrls.default.webSocket)==null?void 0:v[0]),g={keepAlive:c,reconnect:f};if(!b)throw new e.UrlRequiredError;return(0,s.createTransport)({key:u,methods:l,name:d,async request({method:A,params:C}){const x={method:A,params:C},T=await(0,n.getWebSocketRpcClient)(b,g),{error:N,result:M}=await T.requestAsync({body:x,timeout:w});if(N)throw new t.RpcRequestError({body:x,error:N,url:b});return M},retryCount:E,retryDelay:h,timeout:w,type:"webSocket"},{getSocket(){return(0,r.getSocket)(b)},getRpcClient(){return(0,n.getWebSocketRpcClient)(b,g)},async subscribe({params:A,onData:C,onError:x}){const T=await(0,n.getWebSocketRpcClient)(b,g),{result:N}=await new Promise((M,k)=>T.request({body:{method:"eth_subscribe",params:A},onError(B){k(B),x==null||x(B)},onResponse(B){if(B.error){k(B.error),x==null||x(B.error);return}if(typeof B.id=="number"){M(B);return}B.method==="eth_subscription"&&C(B.params)}}));return{subscriptionId:N,async unsubscribe(){return new Promise(M=>T.request({body:{method:"eth_unsubscribe",params:[N]},onResponse:M}))}}}})}}return iS}var Sb={},UV;function WBe(){if(UV)return Sb;UV=1,Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.ProviderRpcError=void 0;class t extends Error{constructor(r,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r,this.details=n}}return Sb.ProviderRpcError=t,Sb}var oS={},LV;function KBe(){if(LV)return oS;LV=1,Object.defineProperty(oS,"__esModule",{value:!0}),oS.decodeDeployData=n;const t=Hr(),e=Md(),r="/docs/contract/decodeDeployData";function n(s){const{abi:i,bytecode:o,data:a}=s;if(a===o)return{bytecode:o};const c=i.find(l=>"type"in l&&l.type==="constructor");if(!c)throw new t.AbiConstructorNotFoundError({docsPath:r});if(!("inputs"in c))throw new t.AbiConstructorParamsNotFoundError({docsPath:r});if(!c.inputs||c.inputs.length===0)throw new t.AbiConstructorParamsNotFoundError({docsPath:r});return{args:(0,e.decodeAbiParameters)(c.inputs,`0x${a.replace(o,"")}`),bytecode:o}}return oS}var aS={},FV;function ZBe(){if(FV)return aS;FV=1,Object.defineProperty(aS,"__esModule",{value:!0}),aS.fromBlobs=n;const t=gE(),e=Cr(),r=ze();function n(s){const i=s.to??(typeof s.blobs[0]=="string"?"hex":"bytes"),o=typeof s.blobs[0]=="string"?s.blobs.map(d=>(0,e.hexToBytes)(d)):s.blobs,a=o.reduce((d,f)=>d+f.length,0),c=(0,t.createCursor)(new Uint8Array(a));let u=!0;for(const d of o){const f=(0,t.createCursor)(d);for(;u&&f.position<d.length;){f.incrementPosition(1);let h=31;d.length-f.position<31&&(h=d.length-f.position);for(const p in Array.from({length:h})){const m=f.readByte();if(m===128&&!f.inspectBytes(f.remaining).includes(128)){u=!1;break}c.pushByte(m)}}}const l=c.bytes.slice(0,c.position);return i==="hex"?(0,r.bytesToHex)(l):l}return aS}var cS={},HV;function YBe(){if(HV)return cS;HV=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.sidecarsToVersionedHashes=e;const t=i4();function e(r){const{sidecars:n,version:s}=r,i=r.to??(typeof n[0].blob=="string"?"hex":"bytes"),o=[];for(const{commitment:a}of n)o.push((0,t.commitmentToVersionedHash)({commitment:a,to:i,version:s}));return o}return cS}var uS={},qV;function JBe(){if(qV)return uS;qV=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.toCoinType=r;const t=I4(),e=2147483648;function r(n){if(n===1)return 60n;if(n>=e||n<0)throw new t.EnsInvalidChainIdError({chainId:n});return BigInt((2147483648|n)>>>0)}return uS}var lS={},zV;function hne(){if(zV)return lS;zV=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.defineKzg=t;function t({blobToKzgCommitment:e,computeBlobKzgProof:r}){return{blobToKzgCommitment:e,computeBlobKzgProof:r}}return lS}var dS={},$V;function QBe(){if($V)return dS;$V=1,Object.defineProperty(dS,"__esModule",{value:!0}),dS.setupKzg=e;const t=hne();function e(r,n){try{r.loadTrustedSetup(n)}catch(s){const i=s;if(!i.message.includes("trusted setup is already loaded"))throw i}return(0,t.defineKzg)(r)}return dS}var fS={},VV;function XBe(){if(VV)return fS;VV=1,Object.defineProperty(fS,"__esModule",{value:!0}),fS.compactSignatureToSignature=r;const t=Cr(),e=ze();function r({r:n,yParityAndS:s}){const i=(0,t.hexToBytes)(s),o=i[0]&128?1:0,a=i;return o===1&&(a[0]&=127),{r:n,s:(0,e.bytesToHex)(a),yParity:o}}return fS}var hS={},GV;function eke(){if(GV)return hS;GV=1,Object.defineProperty(hS,"__esModule",{value:!0}),hS.parseCompactSignature=r;const t=EE(),e=ze();function r(n){const{r:s,s:i}=t.secp256k1.Signature.fromCompact(n.slice(2,130));return{r:(0,e.numberToHex)(s,{size:32}),yParityAndS:(0,e.numberToHex)(i,{size:32})}}return hS}var pS={},WV;function tke(){if(WV)return pS;WV=1,Object.defineProperty(pS,"__esModule",{value:!0}),pS.parseSignature=r;const t=EE(),e=ze();function r(n){const{r:s,s:i}=t.secp256k1.Signature.fromCompact(n.slice(2,130)),o=+`0x${n.slice(130)}`,[a,c]=(()=>{if(o===0||o===1)return[void 0,o];if(o===27)return[BigInt(o),0];if(o===28)return[BigInt(o),1];throw new Error("Invalid yParityOrV value")})();return typeof a<"u"?{r:(0,e.numberToHex)(s,{size:32}),s:(0,e.numberToHex)(i,{size:32}),v:a,yParity:c}:{r:(0,e.numberToHex)(s,{size:32}),s:(0,e.numberToHex)(i,{size:32}),yParity:c}}return pS}var mS={},KV;function rke(){if(KV)return mS;KV=1,Object.defineProperty(mS,"__esModule",{value:!0}),mS.recoverTransactionAddress=s;const t=_i(),e=z4(),r=s6(),n=Hd();async function s(i){const{serializedTransaction:o,signature:a}=i,c=(0,e.parseTransaction)(o),u=a??{r:c.r,s:c.s,v:c.v,yParity:c.yParity},l=(0,r.serializeTransaction)({...c,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await(0,n.recoverAddress)({hash:(0,t.keccak256)(l),signature:u})}return mS}var gS={},ZV;function nke(){if(ZV)return gS;ZV=1,Object.defineProperty(gS,"__esModule",{value:!0}),gS.serializeCompactSignature=r;const t=EE(),e=tn();function r({r:n,yParityAndS:s}){return`0x${new t.secp256k1.Signature((0,e.hexToBigInt)(n),(0,e.hexToBigInt)(s)).toCompactHex()}`}return gS}var yS={},YV;function ske(){if(YV)return yS;YV=1,Object.defineProperty(yS,"__esModule",{value:!0}),yS.signatureToCompactSignature=r;const t=Cr(),e=ze();function r(n){const{r:s,s:i,v:o,yParity:a}=n,c=Number(a??o-27n);let u=i;if(c===1){const l=(0,t.hexToBytes)(i);l[0]|=128,u=(0,e.bytesToHex)(l)}return{r:s,yParityAndS:u}}return yS}var JV;function ike(){return JV||(JV=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.maxInt8=t.universalSignatureValidatorByteCode=t.erc6492SignatureValidatorByteCode=t.deploylessCallViaFactoryBytecode=t.deploylessCallViaBytecodeBytecode=t.zeroHash=t.zeroAddress=t.ethAddress=t.multicall3Abi=t.universalSignatureValidatorAbi=t.erc6492SignatureValidatorAbi=t.erc4626Abi=t.erc1155Abi=t.erc721Abi=t.erc20Abi_bytes32=t.erc20Abi=t.webSocket=t.http=t.shouldThrow=t.fallback=t.custom=t.createTransport=t.walletActions=t.testActions=t.publicActions=t.createWalletClient=t.createTestClient=t.createPublicClient=t.rpcSchema=t.createClient=t.WaitForCallsStatusTimeoutError=t.getContract=t.UnknownTypeError=t.UnknownSignatureError=t.SolidityProtectedKeywordError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.InvalidStructSignatureError=t.InvalidSignatureError=t.InvalidParenthesisError=t.InvalidParameterError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.InvalidAbiParametersError=t.InvalidAbiParameterError=t.InvalidAbiItemError=t.CircularReferenceError=void 0,t.maxUint152=t.maxUint144=t.maxUint136=t.maxUint128=t.maxUint120=t.maxUint112=t.maxUint104=t.maxUint96=t.maxUint88=t.maxUint80=t.maxUint72=t.maxUint64=t.maxUint56=t.maxUint48=t.maxUint40=t.maxUint32=t.maxUint24=t.maxUint16=t.maxUint8=t.maxInt256=t.maxInt248=t.maxInt240=t.maxInt232=t.maxInt224=t.maxInt216=t.maxInt208=t.maxInt200=t.maxInt192=t.maxInt184=t.maxInt176=t.maxInt168=t.maxInt160=t.maxInt152=t.maxInt144=t.maxInt136=t.maxInt128=t.maxInt120=t.maxInt112=t.maxInt104=t.maxInt96=t.maxInt88=t.maxInt80=t.maxInt72=t.maxInt64=t.maxInt56=t.maxInt48=t.maxInt40=t.maxInt32=t.maxInt24=t.maxInt16=void 0,t.AbiConstructorNotFoundError=t.weiUnits=t.gweiUnits=t.etherUnits=t.presignMessagePrefix=t.minInt256=t.minInt248=t.minInt240=t.minInt232=t.minInt224=t.minInt216=t.minInt208=t.minInt200=t.minInt192=t.minInt184=t.minInt176=t.minInt168=t.minInt160=t.minInt152=t.minInt144=t.minInt136=t.minInt128=t.minInt120=t.minInt112=t.minInt104=t.minInt96=t.minInt88=t.minInt80=t.minInt72=t.minInt64=t.minInt56=t.minInt48=t.minInt40=t.minInt32=t.minInt24=t.minInt16=t.minInt8=t.maxUint256=t.maxUint248=t.maxUint240=t.maxUint232=t.maxUint224=t.maxUint216=t.maxUint208=t.maxUint200=t.maxUint192=t.maxUint184=t.maxUint176=t.maxUint168=t.maxUint160=void 0,t.EnsAvatarUriResolutionError=t.EnsAvatarUnsupportedNamespaceError=t.EnsAvatarInvalidNftUriError=t.SizeOverflowError=t.InvalidHexValueError=t.InvalidHexBooleanError=t.InvalidBytesBooleanError=t.IntegerOutOfRangeError=t.SliceOffsetOutOfBoundsError=t.SizeExceedsPaddingSizeError=t.RawContractError=t.CounterfactualDeploymentFailedError=t.ContractFunctionZeroDataError=t.ContractFunctionRevertedError=t.ContractFunctionExecutionError=t.CallExecutionError=t.InvalidChainIdError=t.ClientChainNotConfiguredError=t.ChainNotFoundError=t.ChainMismatchError=t.ChainDoesNotSupportContract=t.BundleFailedError=t.BlockNotFoundError=t.setErrorConfig=t.BaseError=t.InvalidAddressError=t.UnsupportedPackedAbiType=t.InvalidDefinitionTypeError=t.InvalidArrayError=t.InvalidAbiEncodingTypeError=t.InvalidAbiDecodingTypeError=t.DecodeLogTopicsMismatch=t.DecodeLogDataMismatch=t.BytesSizeMismatchError=t.AbiFunctionSignatureNotFoundError=t.AbiFunctionOutputsNotFoundError=t.AbiFunctionNotFoundError=t.AbiEventSignatureNotFoundError=t.AbiEventSignatureEmptyTopicsError=t.AbiEventNotFoundError=t.AbiErrorSignatureNotFoundError=t.AbiErrorNotFoundError=t.AbiErrorInputsNotFoundError=t.AbiEncodingLengthMismatchError=t.AbiEncodingBytesSizeMismatchError=t.AbiEncodingArrayLengthMismatchError=t.AbiDecodingZeroDataError=t.AbiDecodingDataSizeTooSmallError=t.AbiDecodingDataSizeInvalidError=t.AbiConstructorParamsNotFoundError=void 0,t.UnsupportedProviderMethodError=t.UnsupportedNonOptionalCapabilityError=t.UnsupportedChainIdError=t.UnknownRpcError=t.UnknownBundleIdError=t.UnauthorizedProviderError=t.TransactionRejectedRpcError=t.SwitchChainError=t.RpcError=t.ResourceUnavailableRpcError=t.ResourceNotFoundRpcError=t.ProviderRpcError=t.ProviderDisconnectedError=t.ParseRpcError=t.MethodNotSupportedRpcError=t.MethodNotFoundRpcError=t.LimitExceededRpcError=t.JsonRpcVersionUnsupportedError=t.InvalidRequestRpcError=t.InvalidParamsRpcError=t.InvalidInputRpcError=t.InternalRpcError=t.DuplicateIdError=t.ChainDisconnectedError=t.BundleTooLargeError=t.AtomicReadyWalletRejectedUpgradeError=t.AtomicityNotSupportedError=t.WebSocketRequestError=t.TimeoutError=t.SocketClosedError=t.RpcRequestError=t.HttpRequestError=t.UnknownNodeError=t.TransactionTypeNotSupportedError=t.TipAboveFeeCapError=t.NonceTooLowError=t.NonceTooHighError=t.NonceMaxValueError=t.IntrinsicGasTooLowError=t.IntrinsicGasTooHighError=t.InsufficientFundsError=t.FeeCapTooLowError=t.FeeCapTooHighError=t.ExecutionRevertedError=t.FilterTypeNotSupportedError=t.MaxFeePerGasTooLowError=t.Eip1559FeesNotSupportedError=t.BaseFeeScalarError=t.EstimateGasExecutionError=t.EnsInvalidChainIdError=void 0,t.toBlobs=t.toBlobSidecars=t.sidecarsToVersionedHashes=t.fromBlobs=t.commitmentToVersionedHash=t.commitmentsToVersionedHashes=t.blobsToProofs=t.blobsToCommitments=t.isAddressEqual=t.isAddress=t.getCreateAddress=t.getCreate2Address=t.getContractAddress=t.getAddress=t.checksumAddress=t.prepareEncodeFunctionData=t.parseEventLogs=t.getAbiItem=t.encodePacked=t.encodeFunctionResult=t.encodeFunctionData=t.encodeEventTopics=t.encodeErrorResult=t.encodeDeployData=t.encodeAbiParameters=t.decodeFunctionResult=t.decodeFunctionData=t.decodeEventLog=t.decodeErrorResult=t.decodeDeployData=t.decodeAbiParameters=t.EIP1193ProviderRpcError=t.InvalidDecimalNumberError=t.InvalidStructTypeError=t.InvalidPrimaryTypeError=t.InvalidDomainError=t.UrlRequiredError=t.WaitForTransactionReceiptTimeoutError=t.TransactionReceiptNotFoundError=t.TransactionNotFoundError=t.TransactionExecutionError=t.InvalidStorageKeySizeError=t.InvalidSerializedTransactionTypeError=t.InvalidSerializedTransactionError=t.InvalidSerializableTransactionError=t.InvalidLegacyVError=t.FeeConflictError=t.StateAssignmentConflictError=t.AccountStateConflictError=t.UserRejectedRequestError=void 0,t.getContractError=t.toCoinType=t.namehash=t.labelhash=t.toRlp=t.hexToRlp=t.bytesToRlp=t.toHex=t.stringToHex=t.numberToHex=t.bytesToHex=t.boolToHex=t.toBytes=t.stringToBytes=t.numberToBytes=t.hexToBytes=t.boolToBytes=t.fromRlp=t.hexToString=t.hexToNumber=t.hexToBool=t.hexToBigInt=t.fromHex=t.fromBytes=t.bytesToString=t.bytesToNumber=t.bytesToBool=t.bytesToBigInt=t.trim=t.sliceHex=t.sliceBytes=t.slice=t.size=t.padHex=t.padBytes=t.pad=t.isHex=t.isBytes=t.concatHex=t.concatBytes=t.concat=t.getChainContractAddress=t.extractChain=t.defineChain=t.assertCurrentChain=t.offchainLookupSignature=t.offchainLookupAbiItem=t.offchainLookup=t.ccipFetch=t.ccipRequest=void 0,t.recoverTypedDataAddress=t.recoverTransactionAddress=t.recoverPublicKey=t.recoverMessageAddress=t.recoverAddress=t.parseSignature=t.hexToSignature=t.parseErc8010Signature=t.parseErc6492Signature=t.parseCompactSignature=t.hexToCompactSignature=t.isErc8010Signature=t.isErc6492Signature=t.hashTypedData=t.hashStruct=t.hashDomain=t.hashMessage=t.compactSignatureToSignature=t.withTimeout=t.withRetry=t.withCache=t.nonceManager=t.createNonceManager=t.setupKzg=t.defineKzg=t.getFunctionSignature=t.toFunctionSignature=t.getFunctionSelector=t.toFunctionSelector=t.toFunctionHash=t.getEventSignature=t.toEventSignature=t.getEventSelector=t.toEventSelector=t.toEventHash=t.sha256=t.ripemd160=t.keccak256=t.isHash=t.rpcTransactionType=t.formatTransactionRequest=t.defineTransactionRequest=t.formatTransactionReceipt=t.defineTransactionReceipt=t.transactionType=t.formatTransaction=t.defineTransaction=t.formatLog=t.formatBlock=t.defineBlock=void 0,t.parseUnits=t.parseGwei=t.parseEther=t.formatUnits=t.formatGwei=t.formatEther=t.validateTypedData=t.serializeTypedData=t.getTypesForEIP712Domain=t.domainSeparator=t.serializeTransaction=t.serializeAccessList=t.parseTransaction=t.getTransactionType=t.getSerializedTransactionType=t.assertTransactionLegacy=t.assertTransactionEIP2930=t.assertTransactionEIP1559=t.assertRequest=t.stringify=t.verifyTypedData=t.verifyMessage=t.verifyHash=t.toPrefixedMessage=t.signatureToCompactSignature=t.serializeSignature=t.signatureToHex=t.serializeErc8010Signature=t.serializeErc6492Signature=t.serializeCompactSignature=t.compactSignatureToHex=void 0;var e=DP();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return e.CircularReferenceError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return e.InvalidAbiItemError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return e.InvalidAbiParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return e.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return e.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return e.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return e.InvalidModifierError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return e.InvalidParameterError}}),Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return e.InvalidParenthesisError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return e.InvalidSignatureError}}),Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return e.InvalidStructSignatureError}}),Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return e.parseAbi}}),Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return e.parseAbiItem}}),Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return e.parseAbiParameter}}),Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return e.parseAbiParameters}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return e.SolidityProtectedKeywordError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return e.UnknownSignatureError}}),Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return e.UnknownTypeError}});var r=H3e();Object.defineProperty(t,"getContract",{enumerable:!0,get:function(){return r.getContract}});var n=_4();Object.defineProperty(t,"WaitForCallsStatusTimeoutError",{enumerable:!0,get:function(){return n.WaitForCallsStatusTimeoutError}});var s=r6();Object.defineProperty(t,"createClient",{enumerable:!0,get:function(){return s.createClient}}),Object.defineProperty(t,"rpcSchema",{enumerable:!0,get:function(){return s.rpcSchema}});var i=K4e();Object.defineProperty(t,"createPublicClient",{enumerable:!0,get:function(){return i.createPublicClient}});var o=SBe();Object.defineProperty(t,"createTestClient",{enumerable:!0,get:function(){return o.createTestClient}});var a=qBe();Object.defineProperty(t,"createWalletClient",{enumerable:!0,get:function(){return a.createWalletClient}});var c=cne();Object.defineProperty(t,"publicActions",{enumerable:!0,get:function(){return c.publicActions}});var u=une();Object.defineProperty(t,"testActions",{enumerable:!0,get:function(){return u.testActions}});var l=fne();Object.defineProperty(t,"walletActions",{enumerable:!0,get:function(){return l.walletActions}});var d=HE();Object.defineProperty(t,"createTransport",{enumerable:!0,get:function(){return d.createTransport}});var f=zBe();Object.defineProperty(t,"custom",{enumerable:!0,get:function(){return f.custom}});var h=$Be();Object.defineProperty(t,"fallback",{enumerable:!0,get:function(){return h.fallback}}),Object.defineProperty(t,"shouldThrow",{enumerable:!0,get:function(){return h.shouldThrow}});var p=VBe();Object.defineProperty(t,"http",{enumerable:!0,get:function(){return p.http}});var m=GBe();Object.defineProperty(t,"webSocket",{enumerable:!0,get:function(){return m.webSocket}});var y=$d();Object.defineProperty(t,"erc20Abi",{enumerable:!0,get:function(){return y.erc20Abi}}),Object.defineProperty(t,"erc20Abi_bytes32",{enumerable:!0,get:function(){return y.erc20Abi_bytes32}}),Object.defineProperty(t,"erc721Abi",{enumerable:!0,get:function(){return y.erc721Abi}}),Object.defineProperty(t,"erc1155Abi",{enumerable:!0,get:function(){return y.erc1155Abi}}),Object.defineProperty(t,"erc4626Abi",{enumerable:!0,get:function(){return y.erc4626Abi}}),Object.defineProperty(t,"erc6492SignatureValidatorAbi",{enumerable:!0,get:function(){return y.erc6492SignatureValidatorAbi}}),Object.defineProperty(t,"universalSignatureValidatorAbi",{enumerable:!0,get:function(){return y.erc6492SignatureValidatorAbi}}),Object.defineProperty(t,"multicall3Abi",{enumerable:!0,get:function(){return y.multicall3Abi}});var E=sne();Object.defineProperty(t,"ethAddress",{enumerable:!0,get:function(){return E.ethAddress}}),Object.defineProperty(t,"zeroAddress",{enumerable:!0,get:function(){return E.zeroAddress}});var w=k4();Object.defineProperty(t,"zeroHash",{enumerable:!0,get:function(){return w.zeroHash}});var b=OE();Object.defineProperty(t,"deploylessCallViaBytecodeBytecode",{enumerable:!0,get:function(){return b.deploylessCallViaBytecodeBytecode}}),Object.defineProperty(t,"deploylessCallViaFactoryBytecode",{enumerable:!0,get:function(){return b.deploylessCallViaFactoryBytecode}}),Object.defineProperty(t,"erc6492SignatureValidatorByteCode",{enumerable:!0,get:function(){return b.erc6492SignatureValidatorByteCode}}),Object.defineProperty(t,"universalSignatureValidatorByteCode",{enumerable:!0,get:function(){return b.erc6492SignatureValidatorByteCode}});var g=t4();Object.defineProperty(t,"maxInt8",{enumerable:!0,get:function(){return g.maxInt8}}),Object.defineProperty(t,"maxInt16",{enumerable:!0,get:function(){return g.maxInt16}}),Object.defineProperty(t,"maxInt24",{enumerable:!0,get:function(){return g.maxInt24}}),Object.defineProperty(t,"maxInt32",{enumerable:!0,get:function(){return g.maxInt32}}),Object.defineProperty(t,"maxInt40",{enumerable:!0,get:function(){return g.maxInt40}}),Object.defineProperty(t,"maxInt48",{enumerable:!0,get:function(){return g.maxInt48}}),Object.defineProperty(t,"maxInt56",{enumerable:!0,get:function(){return g.maxInt56}}),Object.defineProperty(t,"maxInt64",{enumerable:!0,get:function(){return g.maxInt64}}),Object.defineProperty(t,"maxInt72",{enumerable:!0,get:function(){return g.maxInt72}}),Object.defineProperty(t,"maxInt80",{enumerable:!0,get:function(){return g.maxInt80}}),Object.defineProperty(t,"maxInt88",{enumerable:!0,get:function(){return g.maxInt88}}),Object.defineProperty(t,"maxInt96",{enumerable:!0,get:function(){return g.maxInt96}}),Object.defineProperty(t,"maxInt104",{enumerable:!0,get:function(){return g.maxInt104}}),Object.defineProperty(t,"maxInt112",{enumerable:!0,get:function(){return g.maxInt112}}),Object.defineProperty(t,"maxInt120",{enumerable:!0,get:function(){return g.maxInt120}}),Object.defineProperty(t,"maxInt128",{enumerable:!0,get:function(){return g.maxInt128}}),Object.defineProperty(t,"maxInt136",{enumerable:!0,get:function(){return g.maxInt136}}),Object.defineProperty(t,"maxInt144",{enumerable:!0,get:function(){return g.maxInt144}}),Object.defineProperty(t,"maxInt152",{enumerable:!0,get:function(){return g.maxInt152}}),Object.defineProperty(t,"maxInt160",{enumerable:!0,get:function(){return g.maxInt160}}),Object.defineProperty(t,"maxInt168",{enumerable:!0,get:function(){return g.maxInt168}}),Object.defineProperty(t,"maxInt176",{enumerable:!0,get:function(){return g.maxInt176}}),Object.defineProperty(t,"maxInt184",{enumerable:!0,get:function(){return g.maxInt184}}),Object.defineProperty(t,"maxInt192",{enumerable:!0,get:function(){return g.maxInt192}}),Object.defineProperty(t,"maxInt200",{enumerable:!0,get:function(){return g.maxInt200}}),Object.defineProperty(t,"maxInt208",{enumerable:!0,get:function(){return g.maxInt208}}),Object.defineProperty(t,"maxInt216",{enumerable:!0,get:function(){return g.maxInt216}}),Object.defineProperty(t,"maxInt224",{enumerable:!0,get:function(){return g.maxInt224}}),Object.defineProperty(t,"maxInt232",{enumerable:!0,get:function(){return g.maxInt232}}),Object.defineProperty(t,"maxInt240",{enumerable:!0,get:function(){return g.maxInt240}}),Object.defineProperty(t,"maxInt248",{enumerable:!0,get:function(){return g.maxInt248}}),Object.defineProperty(t,"maxInt256",{enumerable:!0,get:function(){return g.maxInt256}}),Object.defineProperty(t,"maxUint8",{enumerable:!0,get:function(){return g.maxUint8}}),Object.defineProperty(t,"maxUint16",{enumerable:!0,get:function(){return g.maxUint16}}),Object.defineProperty(t,"maxUint24",{enumerable:!0,get:function(){return g.maxUint24}}),Object.defineProperty(t,"maxUint32",{enumerable:!0,get:function(){return g.maxUint32}}),Object.defineProperty(t,"maxUint40",{enumerable:!0,get:function(){return g.maxUint40}}),Object.defineProperty(t,"maxUint48",{enumerable:!0,get:function(){return g.maxUint48}}),Object.defineProperty(t,"maxUint56",{enumerable:!0,get:function(){return g.maxUint56}}),Object.defineProperty(t,"maxUint64",{enumerable:!0,get:function(){return g.maxUint64}}),Object.defineProperty(t,"maxUint72",{enumerable:!0,get:function(){return g.maxUint72}}),Object.defineProperty(t,"maxUint80",{enumerable:!0,get:function(){return g.maxUint80}}),Object.defineProperty(t,"maxUint88",{enumerable:!0,get:function(){return g.maxUint88}}),Object.defineProperty(t,"maxUint96",{enumerable:!0,get:function(){return g.maxUint96}}),Object.defineProperty(t,"maxUint104",{enumerable:!0,get:function(){return g.maxUint104}}),Object.defineProperty(t,"maxUint112",{enumerable:!0,get:function(){return g.maxUint112}}),Object.defineProperty(t,"maxUint120",{enumerable:!0,get:function(){return g.maxUint120}}),Object.defineProperty(t,"maxUint128",{enumerable:!0,get:function(){return g.maxUint128}}),Object.defineProperty(t,"maxUint136",{enumerable:!0,get:function(){return g.maxUint136}}),Object.defineProperty(t,"maxUint144",{enumerable:!0,get:function(){return g.maxUint144}}),Object.defineProperty(t,"maxUint152",{enumerable:!0,get:function(){return g.maxUint152}}),Object.defineProperty(t,"maxUint160",{enumerable:!0,get:function(){return g.maxUint160}}),Object.defineProperty(t,"maxUint168",{enumerable:!0,get:function(){return g.maxUint168}}),Object.defineProperty(t,"maxUint176",{enumerable:!0,get:function(){return g.maxUint176}}),Object.defineProperty(t,"maxUint184",{enumerable:!0,get:function(){return g.maxUint184}}),Object.defineProperty(t,"maxUint192",{enumerable:!0,get:function(){return g.maxUint192}}),Object.defineProperty(t,"maxUint200",{enumerable:!0,get:function(){return g.maxUint200}}),Object.defineProperty(t,"maxUint208",{enumerable:!0,get:function(){return g.maxUint208}}),Object.defineProperty(t,"maxUint216",{enumerable:!0,get:function(){return g.maxUint216}}),Object.defineProperty(t,"maxUint224",{enumerable:!0,get:function(){return g.maxUint224}}),Object.defineProperty(t,"maxUint232",{enumerable:!0,get:function(){return g.maxUint232}}),Object.defineProperty(t,"maxUint240",{enumerable:!0,get:function(){return g.maxUint240}}),Object.defineProperty(t,"maxUint248",{enumerable:!0,get:function(){return g.maxUint248}}),Object.defineProperty(t,"maxUint256",{enumerable:!0,get:function(){return g.maxUint256}}),Object.defineProperty(t,"minInt8",{enumerable:!0,get:function(){return g.minInt8}}),Object.defineProperty(t,"minInt16",{enumerable:!0,get:function(){return g.minInt16}}),Object.defineProperty(t,"minInt24",{enumerable:!0,get:function(){return g.minInt24}}),Object.defineProperty(t,"minInt32",{enumerable:!0,get:function(){return g.minInt32}}),Object.defineProperty(t,"minInt40",{enumerable:!0,get:function(){return g.minInt40}}),Object.defineProperty(t,"minInt48",{enumerable:!0,get:function(){return g.minInt48}}),Object.defineProperty(t,"minInt56",{enumerable:!0,get:function(){return g.minInt56}}),Object.defineProperty(t,"minInt64",{enumerable:!0,get:function(){return g.minInt64}}),Object.defineProperty(t,"minInt72",{enumerable:!0,get:function(){return g.minInt72}}),Object.defineProperty(t,"minInt80",{enumerable:!0,get:function(){return g.minInt80}}),Object.defineProperty(t,"minInt88",{enumerable:!0,get:function(){return g.minInt88}}),Object.defineProperty(t,"minInt96",{enumerable:!0,get:function(){return g.minInt96}}),Object.defineProperty(t,"minInt104",{enumerable:!0,get:function(){return g.minInt104}}),Object.defineProperty(t,"minInt112",{enumerable:!0,get:function(){return g.minInt112}}),Object.defineProperty(t,"minInt120",{enumerable:!0,get:function(){return g.minInt120}}),Object.defineProperty(t,"minInt128",{enumerable:!0,get:function(){return g.minInt128}}),Object.defineProperty(t,"minInt136",{enumerable:!0,get:function(){return g.minInt136}}),Object.defineProperty(t,"minInt144",{enumerable:!0,get:function(){return g.minInt144}}),Object.defineProperty(t,"minInt152",{enumerable:!0,get:function(){return g.minInt152}}),Object.defineProperty(t,"minInt160",{enumerable:!0,get:function(){return g.minInt160}}),Object.defineProperty(t,"minInt168",{enumerable:!0,get:function(){return g.minInt168}}),Object.defineProperty(t,"minInt176",{enumerable:!0,get:function(){return g.minInt176}}),Object.defineProperty(t,"minInt184",{enumerable:!0,get:function(){return g.minInt184}}),Object.defineProperty(t,"minInt192",{enumerable:!0,get:function(){return g.minInt192}}),Object.defineProperty(t,"minInt200",{enumerable:!0,get:function(){return g.minInt200}}),Object.defineProperty(t,"minInt208",{enumerable:!0,get:function(){return g.minInt208}}),Object.defineProperty(t,"minInt216",{enumerable:!0,get:function(){return g.minInt216}}),Object.defineProperty(t,"minInt224",{enumerable:!0,get:function(){return g.minInt224}}),Object.defineProperty(t,"minInt232",{enumerable:!0,get:function(){return g.minInt232}}),Object.defineProperty(t,"minInt240",{enumerable:!0,get:function(){return g.minInt240}}),Object.defineProperty(t,"minInt248",{enumerable:!0,get:function(){return g.minInt248}}),Object.defineProperty(t,"minInt256",{enumerable:!0,get:function(){return g.minInt256}});var v=Nre();Object.defineProperty(t,"presignMessagePrefix",{enumerable:!0,get:function(){return v.presignMessagePrefix}});var A=yE();Object.defineProperty(t,"etherUnits",{enumerable:!0,get:function(){return A.etherUnits}}),Object.defineProperty(t,"gweiUnits",{enumerable:!0,get:function(){return A.gweiUnits}}),Object.defineProperty(t,"weiUnits",{enumerable:!0,get:function(){return A.weiUnits}});var C=Hr();Object.defineProperty(t,"AbiConstructorNotFoundError",{enumerable:!0,get:function(){return C.AbiConstructorNotFoundError}}),Object.defineProperty(t,"AbiConstructorParamsNotFoundError",{enumerable:!0,get:function(){return C.AbiConstructorParamsNotFoundError}}),Object.defineProperty(t,"AbiDecodingDataSizeInvalidError",{enumerable:!0,get:function(){return C.AbiDecodingDataSizeInvalidError}}),Object.defineProperty(t,"AbiDecodingDataSizeTooSmallError",{enumerable:!0,get:function(){return C.AbiDecodingDataSizeTooSmallError}}),Object.defineProperty(t,"AbiDecodingZeroDataError",{enumerable:!0,get:function(){return C.AbiDecodingZeroDataError}}),Object.defineProperty(t,"AbiEncodingArrayLengthMismatchError",{enumerable:!0,get:function(){return C.AbiEncodingArrayLengthMismatchError}}),Object.defineProperty(t,"AbiEncodingBytesSizeMismatchError",{enumerable:!0,get:function(){return C.AbiEncodingBytesSizeMismatchError}}),Object.defineProperty(t,"AbiEncodingLengthMismatchError",{enumerable:!0,get:function(){return C.AbiEncodingLengthMismatchError}}),Object.defineProperty(t,"AbiErrorInputsNotFoundError",{enumerable:!0,get:function(){return C.AbiErrorInputsNotFoundError}}),Object.defineProperty(t,"AbiErrorNotFoundError",{enumerable:!0,get:function(){return C.AbiErrorNotFoundError}}),Object.defineProperty(t,"AbiErrorSignatureNotFoundError",{enumerable:!0,get:function(){return C.AbiErrorSignatureNotFoundError}}),Object.defineProperty(t,"AbiEventNotFoundError",{enumerable:!0,get:function(){return C.AbiEventNotFoundError}}),Object.defineProperty(t,"AbiEventSignatureEmptyTopicsError",{enumerable:!0,get:function(){return C.AbiEventSignatureEmptyTopicsError}}),Object.defineProperty(t,"AbiEventSignatureNotFoundError",{enumerable:!0,get:function(){return C.AbiEventSignatureNotFoundError}}),Object.defineProperty(t,"AbiFunctionNotFoundError",{enumerable:!0,get:function(){return C.AbiFunctionNotFoundError}}),Object.defineProperty(t,"AbiFunctionOutputsNotFoundError",{enumerable:!0,get:function(){return C.AbiFunctionOutputsNotFoundError}}),Object.defineProperty(t,"AbiFunctionSignatureNotFoundError",{enumerable:!0,get:function(){return C.AbiFunctionSignatureNotFoundError}}),Object.defineProperty(t,"BytesSizeMismatchError",{enumerable:!0,get:function(){return C.BytesSizeMismatchError}}),Object.defineProperty(t,"DecodeLogDataMismatch",{enumerable:!0,get:function(){return C.DecodeLogDataMismatch}}),Object.defineProperty(t,"DecodeLogTopicsMismatch",{enumerable:!0,get:function(){return C.DecodeLogTopicsMismatch}}),Object.defineProperty(t,"InvalidAbiDecodingTypeError",{enumerable:!0,get:function(){return C.InvalidAbiDecodingTypeError}}),Object.defineProperty(t,"InvalidAbiEncodingTypeError",{enumerable:!0,get:function(){return C.InvalidAbiEncodingTypeError}}),Object.defineProperty(t,"InvalidArrayError",{enumerable:!0,get:function(){return C.InvalidArrayError}}),Object.defineProperty(t,"InvalidDefinitionTypeError",{enumerable:!0,get:function(){return C.InvalidDefinitionTypeError}}),Object.defineProperty(t,"UnsupportedPackedAbiType",{enumerable:!0,get:function(){return C.UnsupportedPackedAbiType}});var x=ga();Object.defineProperty(t,"InvalidAddressError",{enumerable:!0,get:function(){return x.InvalidAddressError}});var T=yt();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return T.BaseError}}),Object.defineProperty(t,"setErrorConfig",{enumerable:!0,get:function(){return T.setErrorConfig}});var N=r4();Object.defineProperty(t,"BlockNotFoundError",{enumerable:!0,get:function(){return N.BlockNotFoundError}});var M=ire();Object.defineProperty(t,"BundleFailedError",{enumerable:!0,get:function(){return M.BundleFailedError}});var k=RE();Object.defineProperty(t,"ChainDoesNotSupportContract",{enumerable:!0,get:function(){return k.ChainDoesNotSupportContract}}),Object.defineProperty(t,"ChainMismatchError",{enumerable:!0,get:function(){return k.ChainMismatchError}}),Object.defineProperty(t,"ChainNotFoundError",{enumerable:!0,get:function(){return k.ChainNotFoundError}}),Object.defineProperty(t,"ClientChainNotConfiguredError",{enumerable:!0,get:function(){return k.ClientChainNotConfiguredError}}),Object.defineProperty(t,"InvalidChainIdError",{enumerable:!0,get:function(){return k.InvalidChainIdError}});var B=Ud();Object.defineProperty(t,"CallExecutionError",{enumerable:!0,get:function(){return B.CallExecutionError}}),Object.defineProperty(t,"ContractFunctionExecutionError",{enumerable:!0,get:function(){return B.ContractFunctionExecutionError}}),Object.defineProperty(t,"ContractFunctionRevertedError",{enumerable:!0,get:function(){return B.ContractFunctionRevertedError}}),Object.defineProperty(t,"ContractFunctionZeroDataError",{enumerable:!0,get:function(){return B.ContractFunctionZeroDataError}}),Object.defineProperty(t,"CounterfactualDeploymentFailedError",{enumerable:!0,get:function(){return B.CounterfactualDeploymentFailedError}}),Object.defineProperty(t,"RawContractError",{enumerable:!0,get:function(){return B.RawContractError}});var U=MP();Object.defineProperty(t,"SizeExceedsPaddingSizeError",{enumerable:!0,get:function(){return U.SizeExceedsPaddingSizeError}}),Object.defineProperty(t,"SliceOffsetOutOfBoundsError",{enumerable:!0,get:function(){return U.SliceOffsetOutOfBoundsError}});var I=xg();Object.defineProperty(t,"IntegerOutOfRangeError",{enumerable:!0,get:function(){return I.IntegerOutOfRangeError}}),Object.defineProperty(t,"InvalidBytesBooleanError",{enumerable:!0,get:function(){return I.InvalidBytesBooleanError}}),Object.defineProperty(t,"InvalidHexBooleanError",{enumerable:!0,get:function(){return I.InvalidHexBooleanError}}),Object.defineProperty(t,"InvalidHexValueError",{enumerable:!0,get:function(){return I.InvalidHexValueError}}),Object.defineProperty(t,"SizeOverflowError",{enumerable:!0,get:function(){return I.SizeOverflowError}});var S=I4();Object.defineProperty(t,"EnsAvatarInvalidNftUriError",{enumerable:!0,get:function(){return S.EnsAvatarInvalidNftUriError}}),Object.defineProperty(t,"EnsAvatarUnsupportedNamespaceError",{enumerable:!0,get:function(){return S.EnsAvatarUnsupportedNamespaceError}}),Object.defineProperty(t,"EnsAvatarUriResolutionError",{enumerable:!0,get:function(){return S.EnsAvatarUriResolutionError}}),Object.defineProperty(t,"EnsInvalidChainIdError",{enumerable:!0,get:function(){return S.EnsInvalidChainIdError}});var _=$te();Object.defineProperty(t,"EstimateGasExecutionError",{enumerable:!0,get:function(){return _.EstimateGasExecutionError}});var R=SE();Object.defineProperty(t,"BaseFeeScalarError",{enumerable:!0,get:function(){return R.BaseFeeScalarError}}),Object.defineProperty(t,"Eip1559FeesNotSupportedError",{enumerable:!0,get:function(){return R.Eip1559FeesNotSupportedError}}),Object.defineProperty(t,"MaxFeePerGasTooLowError",{enumerable:!0,get:function(){return R.MaxFeePerGasTooLowError}});var O=Bte();Object.defineProperty(t,"FilterTypeNotSupportedError",{enumerable:!0,get:function(){return O.FilterTypeNotSupportedError}});var P=Ku();Object.defineProperty(t,"ExecutionRevertedError",{enumerable:!0,get:function(){return P.ExecutionRevertedError}}),Object.defineProperty(t,"FeeCapTooHighError",{enumerable:!0,get:function(){return P.FeeCapTooHighError}}),Object.defineProperty(t,"FeeCapTooLowError",{enumerable:!0,get:function(){return P.FeeCapTooLowError}}),Object.defineProperty(t,"InsufficientFundsError",{enumerable:!0,get:function(){return P.InsufficientFundsError}}),Object.defineProperty(t,"IntrinsicGasTooHighError",{enumerable:!0,get:function(){return P.IntrinsicGasTooHighError}}),Object.defineProperty(t,"IntrinsicGasTooLowError",{enumerable:!0,get:function(){return P.IntrinsicGasTooLowError}}),Object.defineProperty(t,"NonceMaxValueError",{enumerable:!0,get:function(){return P.NonceMaxValueError}}),Object.defineProperty(t,"NonceTooHighError",{enumerable:!0,get:function(){return P.NonceTooHighError}}),Object.defineProperty(t,"NonceTooLowError",{enumerable:!0,get:function(){return P.NonceTooLowError}}),Object.defineProperty(t,"TipAboveFeeCapError",{enumerable:!0,get:function(){return P.TipAboveFeeCapError}}),Object.defineProperty(t,"TransactionTypeNotSupportedError",{enumerable:!0,get:function(){return P.TransactionTypeNotSupportedError}}),Object.defineProperty(t,"UnknownNodeError",{enumerable:!0,get:function(){return P.UnknownNodeError}});var D=ba();Object.defineProperty(t,"HttpRequestError",{enumerable:!0,get:function(){return D.HttpRequestError}}),Object.defineProperty(t,"RpcRequestError",{enumerable:!0,get:function(){return D.RpcRequestError}}),Object.defineProperty(t,"SocketClosedError",{enumerable:!0,get:function(){return D.SocketClosedError}}),Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return D.TimeoutError}}),Object.defineProperty(t,"WebSocketRequestError",{enumerable:!0,get:function(){return D.WebSocketRequestError}});var j=Ld();Object.defineProperty(t,"AtomicityNotSupportedError",{enumerable:!0,get:function(){return j.AtomicityNotSupportedError}}),Object.defineProperty(t,"AtomicReadyWalletRejectedUpgradeError",{enumerable:!0,get:function(){return j.AtomicReadyWalletRejectedUpgradeError}}),Object.defineProperty(t,"BundleTooLargeError",{enumerable:!0,get:function(){return j.BundleTooLargeError}}),Object.defineProperty(t,"ChainDisconnectedError",{enumerable:!0,get:function(){return j.ChainDisconnectedError}}),Object.defineProperty(t,"DuplicateIdError",{enumerable:!0,get:function(){return j.DuplicateIdError}}),Object.defineProperty(t,"InternalRpcError",{enumerable:!0,get:function(){return j.InternalRpcError}}),Object.defineProperty(t,"InvalidInputRpcError",{enumerable:!0,get:function(){return j.InvalidInputRpcError}}),Object.defineProperty(t,"InvalidParamsRpcError",{enumerable:!0,get:function(){return j.InvalidParamsRpcError}}),Object.defineProperty(t,"InvalidRequestRpcError",{enumerable:!0,get:function(){return j.InvalidRequestRpcError}}),Object.defineProperty(t,"JsonRpcVersionUnsupportedError",{enumerable:!0,get:function(){return j.JsonRpcVersionUnsupportedError}}),Object.defineProperty(t,"LimitExceededRpcError",{enumerable:!0,get:function(){return j.LimitExceededRpcError}}),Object.defineProperty(t,"MethodNotFoundRpcError",{enumerable:!0,get:function(){return j.MethodNotFoundRpcError}}),Object.defineProperty(t,"MethodNotSupportedRpcError",{enumerable:!0,get:function(){return j.MethodNotSupportedRpcError}}),Object.defineProperty(t,"ParseRpcError",{enumerable:!0,get:function(){return j.ParseRpcError}}),Object.defineProperty(t,"ProviderDisconnectedError",{enumerable:!0,get:function(){return j.ProviderDisconnectedError}}),Object.defineProperty(t,"ProviderRpcError",{enumerable:!0,get:function(){return j.ProviderRpcError}}),Object.defineProperty(t,"ResourceNotFoundRpcError",{enumerable:!0,get:function(){return j.ResourceNotFoundRpcError}}),Object.defineProperty(t,"ResourceUnavailableRpcError",{enumerable:!0,get:function(){return j.ResourceUnavailableRpcError}}),Object.defineProperty(t,"RpcError",{enumerable:!0,get:function(){return j.RpcError}}),Object.defineProperty(t,"SwitchChainError",{enumerable:!0,get:function(){return j.SwitchChainError}}),Object.defineProperty(t,"TransactionRejectedRpcError",{enumerable:!0,get:function(){return j.TransactionRejectedRpcError}}),Object.defineProperty(t,"UnauthorizedProviderError",{enumerable:!0,get:function(){return j.UnauthorizedProviderError}}),Object.defineProperty(t,"UnknownBundleIdError",{enumerable:!0,get:function(){return j.UnknownBundleIdError}}),Object.defineProperty(t,"UnknownRpcError",{enumerable:!0,get:function(){return j.UnknownRpcError}}),Object.defineProperty(t,"UnsupportedChainIdError",{enumerable:!0,get:function(){return j.UnsupportedChainIdError}}),Object.defineProperty(t,"UnsupportedNonOptionalCapabilityError",{enumerable:!0,get:function(){return j.UnsupportedNonOptionalCapabilityError}}),Object.defineProperty(t,"UnsupportedProviderMethodError",{enumerable:!0,get:function(){return j.UnsupportedProviderMethodError}}),Object.defineProperty(t,"UserRejectedRequestError",{enumerable:!0,get:function(){return j.UserRejectedRequestError}});var F=Y3();Object.defineProperty(t,"AccountStateConflictError",{enumerable:!0,get:function(){return F.AccountStateConflictError}}),Object.defineProperty(t,"StateAssignmentConflictError",{enumerable:!0,get:function(){return F.StateAssignmentConflictError}});var q=Si();Object.defineProperty(t,"FeeConflictError",{enumerable:!0,get:function(){return q.FeeConflictError}}),Object.defineProperty(t,"InvalidLegacyVError",{enumerable:!0,get:function(){return q.InvalidLegacyVError}}),Object.defineProperty(t,"InvalidSerializableTransactionError",{enumerable:!0,get:function(){return q.InvalidSerializableTransactionError}}),Object.defineProperty(t,"InvalidSerializedTransactionError",{enumerable:!0,get:function(){return q.InvalidSerializedTransactionError}}),Object.defineProperty(t,"InvalidSerializedTransactionTypeError",{enumerable:!0,get:function(){return q.InvalidSerializedTransactionTypeError}}),Object.defineProperty(t,"InvalidStorageKeySizeError",{enumerable:!0,get:function(){return q.InvalidStorageKeySizeError}}),Object.defineProperty(t,"TransactionExecutionError",{enumerable:!0,get:function(){return q.TransactionExecutionError}}),Object.defineProperty(t,"TransactionNotFoundError",{enumerable:!0,get:function(){return q.TransactionNotFoundError}}),Object.defineProperty(t,"TransactionReceiptNotFoundError",{enumerable:!0,get:function(){return q.TransactionReceiptNotFoundError}}),Object.defineProperty(t,"WaitForTransactionReceiptTimeoutError",{enumerable:!0,get:function(){return q.WaitForTransactionReceiptTimeoutError}});var z=W4();Object.defineProperty(t,"UrlRequiredError",{enumerable:!0,get:function(){return z.UrlRequiredError}});var W=kre();Object.defineProperty(t,"InvalidDomainError",{enumerable:!0,get:function(){return W.InvalidDomainError}}),Object.defineProperty(t,"InvalidPrimaryTypeError",{enumerable:!0,get:function(){return W.InvalidPrimaryTypeError}}),Object.defineProperty(t,"InvalidStructTypeError",{enumerable:!0,get:function(){return W.InvalidStructTypeError}});var K=Qre();Object.defineProperty(t,"InvalidDecimalNumberError",{enumerable:!0,get:function(){return K.InvalidDecimalNumberError}});var re=WBe();Object.defineProperty(t,"EIP1193ProviderRpcError",{enumerable:!0,get:function(){return re.ProviderRpcError}});var Q=Md();Object.defineProperty(t,"decodeAbiParameters",{enumerable:!0,get:function(){return Q.decodeAbiParameters}});var X=KBe();Object.defineProperty(t,"decodeDeployData",{enumerable:!0,get:function(){return X.decodeDeployData}});var ie=HP();Object.defineProperty(t,"decodeErrorResult",{enumerable:!0,get:function(){return ie.decodeErrorResult}});var Y=PE();Object.defineProperty(t,"decodeEventLog",{enumerable:!0,get:function(){return Y.decodeEventLog}});var V=p4();Object.defineProperty(t,"decodeFunctionData",{enumerable:!0,get:function(){return V.decodeFunctionData}});var Z=Yu();Object.defineProperty(t,"decodeFunctionResult",{enumerable:!0,get:function(){return Z.decodeFunctionResult}});var ne=ya();Object.defineProperty(t,"encodeAbiParameters",{enumerable:!0,get:function(){return ne.encodeAbiParameters}});var ue=NE();Object.defineProperty(t,"encodeDeployData",{enumerable:!0,get:function(){return ue.encodeDeployData}});var ce=m4();Object.defineProperty(t,"encodeErrorResult",{enumerable:!0,get:function(){return ce.encodeErrorResult}});var ge=Sp();Object.defineProperty(t,"encodeEventTopics",{enumerable:!0,get:function(){return ge.encodeEventTopics}});var we=Ci();Object.defineProperty(t,"encodeFunctionData",{enumerable:!0,get:function(){return we.encodeFunctionData}});var me=g4();Object.defineProperty(t,"encodeFunctionResult",{enumerable:!0,get:function(){return me.encodeFunctionResult}});var ae=mre();Object.defineProperty(t,"encodePacked",{enumerable:!0,get:function(){return ae.encodePacked}});var Oe=Wu();Object.defineProperty(t,"getAbiItem",{enumerable:!0,get:function(){return Oe.getAbiItem}});var Se=xE();Object.defineProperty(t,"parseEventLogs",{enumerable:!0,get:function(){return Se.parseEventLogs}});var Be=Dte();Object.defineProperty(t,"prepareEncodeFunctionData",{enumerable:!0,get:function(){return Be.prepareEncodeFunctionData}});var de=to();Object.defineProperty(t,"checksumAddress",{enumerable:!0,get:function(){return de.checksumAddress}}),Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return de.getAddress}});var oe=gre();Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return oe.getContractAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return oe.getCreate2Address}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return oe.getCreateAddress}});var $=Ai();Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return $.isAddress}});var L=va();Object.defineProperty(t,"isAddressEqual",{enumerable:!0,get:function(){return L.isAddressEqual}});var H=GP();Object.defineProperty(t,"blobsToCommitments",{enumerable:!0,get:function(){return H.blobsToCommitments}});var ee=WP();Object.defineProperty(t,"blobsToProofs",{enumerable:!0,get:function(){return ee.blobsToProofs}});var le=o4();Object.defineProperty(t,"commitmentsToVersionedHashes",{enumerable:!0,get:function(){return le.commitmentsToVersionedHashes}});var ye=i4();Object.defineProperty(t,"commitmentToVersionedHash",{enumerable:!0,get:function(){return ye.commitmentToVersionedHash}});var Ae=ZBe();Object.defineProperty(t,"fromBlobs",{enumerable:!0,get:function(){return Ae.fromBlobs}});var tt=YBe();Object.defineProperty(t,"sidecarsToVersionedHashes",{enumerable:!0,get:function(){return tt.sidecarsToVersionedHashes}});var wt=KP();Object.defineProperty(t,"toBlobSidecars",{enumerable:!0,get:function(){return wt.toBlobSidecars}});var At=Jte();Object.defineProperty(t,"toBlobs",{enumerable:!0,get:function(){return At.toBlobs}});var Wt=y4();Object.defineProperty(t,"ccipRequest",{enumerable:!0,get:function(){return Wt.ccipRequest}}),Object.defineProperty(t,"ccipFetch",{enumerable:!0,get:function(){return Wt.ccipRequest}}),Object.defineProperty(t,"offchainLookup",{enumerable:!0,get:function(){return Wt.offchainLookup}}),Object.defineProperty(t,"offchainLookupAbiItem",{enumerable:!0,get:function(){return Wt.offchainLookupAbiItem}}),Object.defineProperty(t,"offchainLookupSignature",{enumerable:!0,get:function(){return Wt.offchainLookupSignature}});var Bt=jE();Object.defineProperty(t,"assertCurrentChain",{enumerable:!0,get:function(){return Bt.assertCurrentChain}});var x6=Ere();Object.defineProperty(t,"defineChain",{enumerable:!0,get:function(){return x6.defineChain}});var O6=vre();Object.defineProperty(t,"extractChain",{enumerable:!0,get:function(){return O6.extractChain}});var KE=Vd();Object.defineProperty(t,"getChainContractAddress",{enumerable:!0,get:function(){return KE.getChainContractAddress}});var Ug=Dn();Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return Ug.concat}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return Ug.concatBytes}}),Object.defineProperty(t,"concatHex",{enumerable:!0,get:function(){return Ug.concatHex}});var R6=T4();Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return R6.isBytes}});var N6=zs();Object.defineProperty(t,"isHex",{enumerable:!0,get:function(){return N6.isHex}});var Lg=Dd();Object.defineProperty(t,"pad",{enumerable:!0,get:function(){return Lg.pad}}),Object.defineProperty(t,"padBytes",{enumerable:!0,get:function(){return Lg.padBytes}}),Object.defineProperty(t,"padHex",{enumerable:!0,get:function(){return Lg.padHex}});var B6=vi();Object.defineProperty(t,"size",{enumerable:!0,get:function(){return B6.size}});var Fg=xo();Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return Fg.slice}}),Object.defineProperty(t,"sliceBytes",{enumerable:!0,get:function(){return Fg.sliceBytes}}),Object.defineProperty(t,"sliceHex",{enumerable:!0,get:function(){return Fg.sliceHex}});var k6=Gu();Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return k6.trim}});var Zd=Z3();Object.defineProperty(t,"bytesToBigInt",{enumerable:!0,get:function(){return Zd.bytesToBigInt}}),Object.defineProperty(t,"bytesToBool",{enumerable:!0,get:function(){return Zd.bytesToBool}}),Object.defineProperty(t,"bytesToNumber",{enumerable:!0,get:function(){return Zd.bytesToNumber}}),Object.defineProperty(t,"bytesToString",{enumerable:!0,get:function(){return Zd.bytesToString}}),Object.defineProperty(t,"fromBytes",{enumerable:!0,get:function(){return Zd.fromBytes}});var Yd=tn();Object.defineProperty(t,"fromHex",{enumerable:!0,get:function(){return Yd.fromHex}}),Object.defineProperty(t,"hexToBigInt",{enumerable:!0,get:function(){return Yd.hexToBigInt}}),Object.defineProperty(t,"hexToBool",{enumerable:!0,get:function(){return Yd.hexToBool}}),Object.defineProperty(t,"hexToNumber",{enumerable:!0,get:function(){return Yd.hexToNumber}}),Object.defineProperty(t,"hexToString",{enumerable:!0,get:function(){return Yd.hexToString}});var j6=x4();Object.defineProperty(t,"fromRlp",{enumerable:!0,get:function(){return j6.fromRlp}});var Jd=Cr();Object.defineProperty(t,"boolToBytes",{enumerable:!0,get:function(){return Jd.boolToBytes}}),Object.defineProperty(t,"hexToBytes",{enumerable:!0,get:function(){return Jd.hexToBytes}}),Object.defineProperty(t,"numberToBytes",{enumerable:!0,get:function(){return Jd.numberToBytes}}),Object.defineProperty(t,"stringToBytes",{enumerable:!0,get:function(){return Jd.stringToBytes}}),Object.defineProperty(t,"toBytes",{enumerable:!0,get:function(){return Jd.toBytes}});var Qd=ze();Object.defineProperty(t,"boolToHex",{enumerable:!0,get:function(){return Qd.boolToHex}}),Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return Qd.bytesToHex}}),Object.defineProperty(t,"numberToHex",{enumerable:!0,get:function(){return Qd.numberToHex}}),Object.defineProperty(t,"stringToHex",{enumerable:!0,get:function(){return Qd.stringToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return Qd.toHex}});var Hg=vE();Object.defineProperty(t,"bytesToRlp",{enumerable:!0,get:function(){return Hg.bytesToRlp}}),Object.defineProperty(t,"hexToRlp",{enumerable:!0,get:function(){return Hg.hexToRlp}}),Object.defineProperty(t,"toRlp",{enumerable:!0,get:function(){return Hg.toRlp}});var D6=ure();Object.defineProperty(t,"labelhash",{enumerable:!0,get:function(){return D6.labelhash}});var M6=C4();Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return M6.namehash}});var qg=JBe();Object.defineProperty(t,"toCoinType",{enumerable:!0,get:function(){return qg.toCoinType}});var U6=Fd();Object.defineProperty(t,"getContractError",{enumerable:!0,get:function(){return U6.getContractError}});var ZE=$P();Object.defineProperty(t,"defineBlock",{enumerable:!0,get:function(){return ZE.defineBlock}}),Object.defineProperty(t,"formatBlock",{enumerable:!0,get:function(){return ZE.formatBlock}});var L6=Zu();Object.defineProperty(t,"formatLog",{enumerable:!0,get:function(){return L6.formatLog}});var zg=Rg();Object.defineProperty(t,"defineTransaction",{enumerable:!0,get:function(){return zg.defineTransaction}}),Object.defineProperty(t,"formatTransaction",{enumerable:!0,get:function(){return zg.formatTransaction}}),Object.defineProperty(t,"transactionType",{enumerable:!0,get:function(){return zg.transactionType}});var YE=DE();Object.defineProperty(t,"defineTransactionReceipt",{enumerable:!0,get:function(){return YE.defineTransactionReceipt}}),Object.defineProperty(t,"formatTransactionReceipt",{enumerable:!0,get:function(){return YE.formatTransactionReceipt}});var Np=wa();Object.defineProperty(t,"defineTransactionRequest",{enumerable:!0,get:function(){return Np.defineTransactionRequest}}),Object.defineProperty(t,"formatTransactionRequest",{enumerable:!0,get:function(){return Np.formatTransactionRequest}}),Object.defineProperty(t,"rpcTransactionType",{enumerable:!0,get:function(){return Np.rpcTransactionType}});var F6=O4();Object.defineProperty(t,"isHash",{enumerable:!0,get:function(){return F6.isHash}});var H6=_i();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return H6.keccak256}});var q6=Are();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return q6.ripemd160}});var z6=s4();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return z6.sha256}});var $6=Cre();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return $6.toEventHash}});var JE=Og();Object.defineProperty(t,"toEventSelector",{enumerable:!0,get:function(){return JE.toEventSelector}}),Object.defineProperty(t,"getEventSelector",{enumerable:!0,get:function(){return JE.toEventSelector}});var vB=Sre();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return vB.toEventSignature}}),Object.defineProperty(t,"getEventSignature",{enumerable:!0,get:function(){return vB.toEventSignature}});var Use=Ire();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return Use.toFunctionHash}});var _B=Cp();Object.defineProperty(t,"toFunctionSelector",{enumerable:!0,get:function(){return _B.toFunctionSelector}}),Object.defineProperty(t,"getFunctionSelector",{enumerable:!0,get:function(){return _B.toFunctionSelector}});var AB=Tre();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return AB.toFunctionSignature}}),Object.defineProperty(t,"getFunctionSignature",{enumerable:!0,get:function(){return AB.toFunctionSignature}});var Lse=hne();Object.defineProperty(t,"defineKzg",{enumerable:!0,get:function(){return Lse.defineKzg}});var Fse=QBe();Object.defineProperty(t,"setupKzg",{enumerable:!0,get:function(){return Fse.setupKzg}});var CB=Pre();Object.defineProperty(t,"createNonceManager",{enumerable:!0,get:function(){return CB.createNonceManager}}),Object.defineProperty(t,"nonceManager",{enumerable:!0,get:function(){return CB.nonceManager}});var Hse=nre();Object.defineProperty(t,"withCache",{enumerable:!0,get:function(){return Hse.withCache}});var qse=t6();Object.defineProperty(t,"withRetry",{enumerable:!0,get:function(){return qse.withRetry}});var zse=R4();Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return zse.withTimeout}});var $se=XBe();Object.defineProperty(t,"compactSignatureToSignature",{enumerable:!0,get:function(){return $se.compactSignatureToSignature}});var Vse=ME();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return Vse.hashMessage}});var V6=UE();Object.defineProperty(t,"hashDomain",{enumerable:!0,get:function(){return V6.hashDomain}}),Object.defineProperty(t,"hashStruct",{enumerable:!0,get:function(){return V6.hashStruct}}),Object.defineProperty(t,"hashTypedData",{enumerable:!0,get:function(){return V6.hashTypedData}});var Gse=j4();Object.defineProperty(t,"isErc6492Signature",{enumerable:!0,get:function(){return Gse.isErc6492Signature}});var Wse=L4();Object.defineProperty(t,"isErc8010Signature",{enumerable:!0,get:function(){return Wse.isErc8010Signature}});var SB=eke();Object.defineProperty(t,"hexToCompactSignature",{enumerable:!0,get:function(){return SB.parseCompactSignature}}),Object.defineProperty(t,"parseCompactSignature",{enumerable:!0,get:function(){return SB.parseCompactSignature}});var Kse=Vre();Object.defineProperty(t,"parseErc6492Signature",{enumerable:!0,get:function(){return Kse.parseErc6492Signature}});var Zse=Gre();Object.defineProperty(t,"parseErc8010Signature",{enumerable:!0,get:function(){return Zse.parseErc8010Signature}});var IB=tke();Object.defineProperty(t,"hexToSignature",{enumerable:!0,get:function(){return IB.parseSignature}}),Object.defineProperty(t,"parseSignature",{enumerable:!0,get:function(){return IB.parseSignature}});var Yse=Hd();Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return Yse.recoverAddress}});var Jse=F4();Object.defineProperty(t,"recoverMessageAddress",{enumerable:!0,get:function(){return Jse.recoverMessageAddress}});var Qse=X3();Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return Qse.recoverPublicKey}});var Xse=rke();Object.defineProperty(t,"recoverTransactionAddress",{enumerable:!0,get:function(){return Xse.recoverTransactionAddress}});var eie=H4();Object.defineProperty(t,"recoverTypedDataAddress",{enumerable:!0,get:function(){return eie.recoverTypedDataAddress}});var TB=nke();Object.defineProperty(t,"compactSignatureToHex",{enumerable:!0,get:function(){return TB.serializeCompactSignature}}),Object.defineProperty(t,"serializeCompactSignature",{enumerable:!0,get:function(){return TB.serializeCompactSignature}});var tie=Wre();Object.defineProperty(t,"serializeErc6492Signature",{enumerable:!0,get:function(){return tie.serializeErc6492Signature}});var rie=Kre();Object.defineProperty(t,"serializeErc8010Signature",{enumerable:!0,get:function(){return rie.serializeErc8010Signature}});var PB=ine();Object.defineProperty(t,"signatureToHex",{enumerable:!0,get:function(){return PB.serializeSignature}}),Object.defineProperty(t,"serializeSignature",{enumerable:!0,get:function(){return PB.serializeSignature}});var nie=ske();Object.defineProperty(t,"signatureToCompactSignature",{enumerable:!0,get:function(){return nie.signatureToCompactSignature}});var sie=Bre();Object.defineProperty(t,"toPrefixedMessage",{enumerable:!0,get:function(){return sie.toPrefixedMessage}});var iie=Zre();Object.defineProperty(t,"verifyHash",{enumerable:!0,get:function(){return iie.verifyHash}});var oie=Yre();Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return oie.verifyMessage}});var aie=Jre();Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return aie.verifyTypedData}});var cie=Xn();Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return cie.stringify}});var uie=Ea();Object.defineProperty(t,"assertRequest",{enumerable:!0,get:function(){return uie.assertRequest}});var G6=n6();Object.defineProperty(t,"assertTransactionEIP1559",{enumerable:!0,get:function(){return G6.assertTransactionEIP1559}}),Object.defineProperty(t,"assertTransactionEIP2930",{enumerable:!0,get:function(){return G6.assertTransactionEIP2930}}),Object.defineProperty(t,"assertTransactionLegacy",{enumerable:!0,get:function(){return G6.assertTransactionLegacy}});var lie=q4();Object.defineProperty(t,"getSerializedTransactionType",{enumerable:!0,get:function(){return lie.getSerializedTransactionType}});var die=ZP();Object.defineProperty(t,"getTransactionType",{enumerable:!0,get:function(){return die.getTransactionType}});var fie=z4();Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return fie.parseTransaction}});var hie=P4();Object.defineProperty(t,"serializeAccessList",{enumerable:!0,get:function(){return hie.serializeAccessList}});var pie=s6();Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return pie.serializeTransaction}});var QE=i6();Object.defineProperty(t,"domainSeparator",{enumerable:!0,get:function(){return QE.domainSeparator}}),Object.defineProperty(t,"getTypesForEIP712Domain",{enumerable:!0,get:function(){return QE.getTypesForEIP712Domain}}),Object.defineProperty(t,"serializeTypedData",{enumerable:!0,get:function(){return QE.serializeTypedData}}),Object.defineProperty(t,"validateTypedData",{enumerable:!0,get:function(){return QE.validateTypedData}});var mie=bE();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return mie.formatEther}});var gie=Ip();Object.defineProperty(t,"formatGwei",{enumerable:!0,get:function(){return gie.formatGwei}});var yie=qP();Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return yie.formatUnits}});var bie=Xre();Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return bie.parseEther}});var wie=ene();Object.defineProperty(t,"parseGwei",{enumerable:!0,get:function(){return wie.parseGwei}});var Eie=h6();Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return Eie.parseUnits}})})(tO)),tO}var Nf={},QV;function oke(){if(QV)return Nf;QV=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.MAGIC_VALUE_BYTES=Nf.MAGIC_VALUE=void 0;const t="0x1626ba7e";Nf.MAGIC_VALUE=t;const e="0x20c13b0b";return Nf.MAGIC_VALUE_BYTES=e,Nf}var bS={},Ib={},Bf={},XV;function pne(){if(XV)return Bf;XV=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.PermissionsError=Bf.PERMISSIONS_REQUEST_REJECTED=void 0,Bf.PERMISSIONS_REQUEST_REJECTED=4001;class t extends Error{constructor(r,n,s){super(r),this.code=n,this.data=s,Object.setPrototypeOf(this,t.prototype)}}return Bf.PermissionsError=t,Bf}var eG;function mne(){if(eG)return Ib;eG=1,Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.Wallet=void 0;const t=_p(),e=pne();class r{constructor(s){this.communicator=s}async getPermissions(){return(await this.communicator.send(t.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(s){if(!this.isPermissionRequestValid(s))throw new e.PermissionsError("Permissions request is invalid",e.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(t.Methods.wallet_requestPermissions,s)).data}catch{throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(s){return s.every(i=>typeof i=="object"?Object.keys(i).every(o=>!!Object.values(t.RestrictedMethods).includes(o)):!1)}}return Ib.Wallet=r,Ib}var tG;function ake(){if(tG)return bS;tG=1,Object.defineProperty(bS,"__esModule",{value:!0});const t=mne(),e=pne(),r=(s,i)=>i.some(o=>o.parentCapability===s),n=()=>(s,i,o)=>{const a=o.value;return o.value=async function(){const c=new t.Wallet(this.communicator);let u=await c.getPermissions();if(r(i,u)||(u=await c.requestPermissions([{[i]:{}}])),!r(i,u))throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED);return a.apply(this)},o};return bS.default=n,bS}var rG;function cke(){if(rG)return kc;rG=1;var t=kc&&kc.__decorate||function(u,l,d,f){var h=arguments.length,p=h<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,d):f,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,d,f);else for(var y=u.length-1;y>=0;y--)(m=u[y])&&(p=(h<3?m(p):h>3?m(l,d,p):m(l,d))||p);return h>3&&p&&Object.defineProperty(l,d,p),p},e=kc&&kc.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(kc,"__esModule",{value:!0}),kc.Safe=void 0;const r=ike(),n=oke(),s=_p(),i=$3(),o=z3(),a=e(ake());class c{constructor(l){this.communicator=l}async getChainInfo(){return(await this.communicator.send(s.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(s.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:l="usd"}={}){return(await this.communicator.send(s.Methods.getSafeBalances,{currency:l})).data}async check1271Signature(l,d="0x"){const f=await this.getInfo(),h=(0,r.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[l,d]}),p={call:i.RPC_CALLS.eth_call,params:[{to:f.safeAddress,data:h},"latest"]};try{return(await this.communicator.send(s.Methods.rpcCall,p)).data.slice(0,10).toLowerCase()===n.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(l,d="0x"){const f=await this.getInfo(),h=(0,r.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[l,d]}),p={call:i.RPC_CALLS.eth_call,params:[{to:f.safeAddress,data:h},"latest"]};try{return(await this.communicator.send(s.Methods.rpcCall,p)).data.slice(0,10).toLowerCase()===n.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(l){return(0,r.hashMessage)(l)}calculateTypedMessageHash(l){const d=typeof l.domain.chainId=="object"?l.domain.chainId.toNumber():Number(l.domain.chainId);let f=l.primaryType;if(!f){const h=Object.values(l.types),p=Object.keys(l.types).filter(m=>h.every(y=>y.every(({type:E})=>E.replace("[","").replace("]","")!==m)));if(p.length===0||p.length>1)throw new Error("Please specify primaryType");f=p[0]}return(0,r.hashTypedData)({message:l.message,domain:{...l.domain,chainId:d,verifyingContract:l.domain.verifyingContract,salt:l.domain.salt},types:l.types,primaryType:f})}async getOffChainSignature(l){return(await this.communicator.send(s.Methods.getOffChainSignature,l)).data}async isMessageSigned(l,d="0x"){let f;if(typeof l=="string"&&(f=async()=>{const h=this.calculateMessageHash(l);return await this.isMessageHashSigned(h,d)}),(0,o.isObjectEIP712TypedData)(l)&&(f=async()=>{const h=this.calculateTypedMessageHash(l);return await this.isMessageHashSigned(h,d)}),f)return await f();throw new Error("Invalid message type")}async isMessageHashSigned(l,d="0x"){const f=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const h of f)if(await h(l,d))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(s.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(s.Methods.requestAddressBook,void 0)).data}}return kc.Safe=c,t([(0,a.default)()],c.prototype,"requestAddressBook",null),kc}var nG;function sG(){if(nG)return Zp;nG=1;var t=Zp&&Zp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zp,"__esModule",{value:!0});const e=t(X8e()),r=b3e(),n=w3e(),s=cke(),i=mne();class o{constructor(c={}){const{allowedDomains:u=null,debug:l=!1}=c;this.communicator=new e.default(u,l),this.eth=new n.Eth(this.communicator),this.txs=new r.TXs(this.communicator),this.safe=new s.Safe(this.communicator),this.wallet=new i.Wallet(this.communicator)}}return Zp.default=o,Zp}var iG;function uke(){return iG||(iG=1,(function(t){var e=Oc&&Oc.__createBinding||(Object.create?(function(o,a,c,u){u===void 0&&(u=c);var l=Object.getOwnPropertyDescriptor(a,c);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,l)}):(function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]})),r=Oc&&Oc.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)},n=Oc&&Oc.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const s=n(sG());t.default=s.default,r(sG(),t),r(z3(),t),r(_p(),t),r(Tte(),t);var i=Ite();Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return i.getSDKVersion}}),r($3(),t)})(Oc)),Oc}var kf={},oG;function lke(){if(oG)return kf;oG=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.numberToHex=kf.getLowerCase=void 0;function t(r){return r&&r.toLowerCase()}kf.getLowerCase=t;function e(r){return`0x${r.toString(16)}`}return kf.numberToHex=e,kf}var aG;function dke(){if(aG)return by;aG=1,Object.defineProperty(by,"__esModule",{value:!0}),by.SafeAppProvider=void 0;const t=uke(),e=cY(),r=lke();class n extends e.EventEmitter{constructor(i,o){super(),this.submittedTxs=new Map,this.safe=i,this.sdk=o}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(i){var c,u,l,d;const{method:o,params:a=[]}=i;switch(o){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,r.numberToHex)(this.chainId);case"personal_sign":{const[y,E]=a;if(this.safe.safeAddress.toLowerCase()!==E.toLowerCase())throw new Error("The address or message hash is invalid");const w=await this.sdk.txs.signMessage(y);return("signature"in w?w.signature:void 0)||"0x"}case"eth_sign":{const[y,E]=a;if(this.safe.safeAddress.toLowerCase()!==y.toLowerCase()||!E.startsWith("0x"))throw new Error("The address or message hash is invalid");const w=await this.sdk.txs.signMessage(E);return("signature"in w?w.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[y,E]=a,w=typeof E=="string"?JSON.parse(E):E;if(this.safe.safeAddress.toLowerCase()!==y.toLowerCase())throw new Error("The address is invalid");const b=await this.sdk.txs.signTypedMessage(w);return("signature"in b?b.signature:void 0)||"0x"}case"eth_sendTransaction":const f={...a[0],value:a[0].value||"0",data:a[0].data||"0x"};typeof f.gas=="string"&&f.gas.startsWith("0x")&&(f.gas=parseInt(f.gas,16));const h=await this.sdk.txs.send({txs:[f],params:{safeTxGas:f.gas}});return this.submittedTxs.set(h.safeTxHash,{from:this.safe.safeAddress,hash:h.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:f.data,value:f.value,to:f.to,blockHash:null,blockNumber:null,transactionIndex:null}),h.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,r.getLowerCase)(a[0]),a[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,r.getLowerCase)(a[0]),a[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,r.getLowerCase)(a[0]),a[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,r.getLowerCase)(a[0]),a[1],a[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([a[0],a[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([a[0],a[1]]);case"eth_getTransactionByHash":let m=a[0];try{m=(await this.sdk.txs.getBySafeTxHash(m)).txHash||m}catch{}return this.submittedTxs.has(m)?this.submittedTxs.get(m):this.sdk.eth.getTransactionByHash([m]).then(y=>(y&&(y.hash=a[0]),y));case"eth_getTransactionReceipt":{let y=a[0];try{y=(await this.sdk.txs.getBySafeTxHash(y)).txHash||y}catch{}return this.sdk.eth.getTransactionReceipt([y]).then(E=>(E&&(E.transactionHash=a[0]),E))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(a[0]);case"eth_call":return this.sdk.eth.call([a[0],a[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([a[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(a[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([a[0]]);case"wallet_sendCalls":{const{from:y,calls:E,chainId:w}=a[0];if(w!==(0,r.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${w}`);if(y!==this.safe.safeAddress)throw Error("Invalid from address");const b=E.map((A,C)=>{if(!A.to)throw new Error(`Invalid call #${C}: missing "to" field`);return{to:A.to,data:A.data??"0x",value:A.value??(0,r.numberToHex)(0)}}),{safeTxHash:g}=await this.sdk.txs.send({txs:b});return{id:g}}case"wallet_getCallsStatus":{const y=a[0],E={[t.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[t.TransactionStatus.AWAITING_EXECUTION]:100,[t.TransactionStatus.SUCCESS]:200,[t.TransactionStatus.CANCELLED]:400,[t.TransactionStatus.FAILED]:500},w=await this.sdk.txs.getBySafeTxHash(y),b={version:"1.0",id:y,chainId:(0,r.numberToHex)(this.chainId),status:E[w.txStatus]};if(!w.txHash)return b;const g=await this.sdk.eth.getTransactionReceipt([w.txHash]);if(!g)return b;const v=((u=(c=w.txData)==null?void 0:c.dataDecoded)==null?void 0:u.method)!=="multiSend"?1:((d=(l=w.txData.dataDecoded.parameters)==null?void 0:l[0].valueDecoded)==null?void 0:d.length)??1,A=Number(g.blockNumber),C=Number(g.gasUsed);return b.receipts=Array(v).fill({logs:g.logs,status:(0,r.numberToHex)(w.txStatus===t.TransactionStatus.SUCCESS?1:0),blockHash:g.blockHash,blockNumber:(0,r.numberToHex)(A),gasUsed:(0,r.numberToHex)(C),transactionHash:w.txHash}),b}case"wallet_showCallsStatus":throw new Error(`"${i.method}" not supported`);case"wallet_getCapabilities":return{[(0,r.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${i.method}" not implemented`)}}send(i,o){i||o("Undefined request"),this.request(i).then(a=>o(null,{jsonrpc:"2.0",id:i.id,result:a})).catch(a=>o(a,null))}}return by.SafeAppProvider=n,by}var cG;function fke(){return cG||(cG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppProvider=void 0;var e=dke();Object.defineProperty(t,"SafeAppProvider",{enumerable:!0,get:function(){return e.SafeAppProvider}})})(Z5)),Z5}var hke=fke();class pke extends hke.SafeAppProvider{request(e){return e.method==="eth_requestAccounts"?this.request({method:"eth_accounts",params:[]}):super.request(e)}}class mke extends q3{async initialize(){const{default:e}=await vn(async()=>{const{default:i}=await import("./index-B0xzo7Ep.js");return{default:i}},__vite__mapDeps([54,2]),import.meta.url),r=new e,n=await r.safe.getInfo(),s=new pke(n,r);await s.connect().catch(i=>{console.info("Failed to auto-connect to Safe:",i)}),this.provider=s,this.initialized=!0}async getProvider(){return Promise.resolve(this.provider)}}class gke extends q3{async initialize(){if(!(typeof window>"u")&&window.ethereum)return this.provider=window.ethereum,this.initialized=!0,Promise.resolve()}}const g0={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=Ar(t)?t:Fe(lc(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const s={from:t.address,to:t.to,data:t.data,type:0},i=new u1(e,n);return await new rm(i,r).estimateGas(s)},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const s={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0},i=new u1(e,n),c=await(await new rm(i,r).sendTransaction(s)).wait();return(c==null?void 0:c.hash)||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new u1(e,n),i=new rm(s,r),o=new tm(t.tokenAddress,t.abi,i);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:M5e,formatUnits:$X};class yke extends EX{constructor(){super({adapterType:Ee.ADAPTER_TYPES.ETHERS,namespace:Ee.CHAIN.EVM}),this.balancePromises={},this.ethersProviders={}}async createEthersConfig(){const{metadata:e,enableCoinbase:r,enableInjected:n,enableEIP6963:s}=Ce.state;if(e){if(n!==!1){const i=new gke;await i.initialize(),this.ethersProviders.injected=i}if(r!==!1&&(this.ethersProviders.baseAccount=new J8e),Ue.isSafeApp()){const i=new mke;await i.initialize(),this.ethersProviders.safe=i}return{...this.ethersProviders,EIP6963:s!==!1,metadata:e}}}async signMessage(e){const{message:r,address:n,provider:s}=e;if(!s)throw new Error("Provider is undefined");try{return{signature:await g0.signMessage(r,s,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){var s,i;if(!e.provider)throw new Error("Provider is undefined");const r=(s=te.getAccountData(Ee.CHAIN.EVM))==null?void 0:s.address;if(!r)throw new Error("Address is undefined");return{hash:await g0.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:r},e.provider,r,Number((i=e.caipNetwork)==null?void 0:i.id))}}async writeContract(e){var s;if(!e.provider)throw new Error("Provider is undefined");const{address:r}=mn.parseCaipAddress(e.caipAddress);return{hash:await g0.writeContract(e,e.provider,r,Number((s=e.caipNetwork)==null?void 0:s.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:s}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await g0.estimateGas({data:e.data,to:e.to,address:s},r,s,Number(n==null?void 0:n.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return g0.parseUnits(e.value,e.decimals)}formatUnits(e){return g0.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,s=this.connectors.find(c=>c.id===r),i=s==null?void 0:s.provider;if(!i)throw new Error("Provider not found");const o=await i.request({method:"eth_requestAccounts"}),a=await i.request({method:"eth_chainId"});if(this.listenProviderEvents(r,i),!o[0])throw new Error("No accounts found");if(!(s!=null&&s.type))throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(n),provider:i,type:s.type,id:r}}async syncConnectors(){var n;this.ethersConfig=await this.createEthersConfig(),(n=this.ethersConfig)!=null&&n.EIP6963&&this.listenInjectedConnector(!0);const r=Object.keys(this.ethersConfig||{}).filter(s=>s!=="metadata"&&s!=="EIP6963").map(async s=>{var o;const i=s===Ee.CONNECTOR_ID.INJECTED;if(this.namespace){const a=this.ethersProviders[s];this.addConnector({id:s,explorerId:Zi.ConnectorExplorerIds[s],imageUrl:(o=Vi.state.connectorImages)==null?void 0:o[s],name:Zi.ConnectorNamesMap[s]||"Unknown",imageId:Zi.ConnectorImageIds[s],type:Zi.ConnectorTypesMap[s]??"EXTERNAL",info:i?void 0:{rdns:s},chain:this.namespace,chains:[],provider:await(a==null?void 0:a.getProvider())})}});await Promise.all(r)}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async r=>{const n=this.connectors.find(s=>na.isLowerCaseMatch(s.id,r.connectorId));if(!n)throw new Error("Connector not found");return await this.disconnect({id:n.id}),r}))}}async syncConnections({connectToFirstConnector:e}){const r=this.getCaipNetworks();await Promise.all(this.connectors.filter(n=>{const{hasDisconnected:s,hasConnected:i}=na.getConnectorStorageInfo(n.id,this.namespace);return!s&&i}).map(async n=>{if(n.id===Ee.CONNECTOR_ID.WALLET_CONNECT){const s=uc.getWalletConnectAccounts(this.universalProvider,this.namespace),i=r.find(o=>{var a,c;return o.chainNamespace===this.namespace&&o.id.toString()===((c=(a=s[0])==null?void 0:a.chainId)==null?void 0:c.toString())});s.length>0&&this.addConnection({connectorId:n.id,accounts:s.map(o=>({address:o.address})),caipNetwork:i})}else{const{accounts:s,chainId:i}=await BS.fetchProviderData(n);if(s.length>0&&i){const o=r.find(a=>a.chainNamespace===this.namespace&&a.id.toString()===i.toString());this.addConnection({connectorId:n.id,accounts:s.map(a=>({address:a})),caipNetwork:o}),n.provider&&n.id!==Ee.CONNECTOR_ID.AUTH&&n.id!==Ee.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(n.id,n.provider)}}})),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const r=Ee.CONNECTOR_ID.WALLET_CONNECT;return uc.listenWcProvider({universalProvider:e,namespace:Ee.CHAIN.EVM,onConnect:n=>this.onConnect(n,r),onDisconnect:()=>this.onDisconnect(r),onAccountsChanged:n=>this.onAccountsChanged(n,r,!1),onChainChanged:n=>this.onChainChanged(n,r)}),this.addConnector(new vX({provider:e,caipNetworks:this.getCaipNetworks(),namespace:Ee.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){var r;if(e.detail){const{info:n,provider:s}=e.detail;if(!((r=this.connectors)==null?void 0:r.find(o=>o.name===(n==null?void 0:n.name)))){const o=Zi.ConnectorTypesMap[Ee.CONNECTOR_ID.EIP6963],a=(n==null?void 0:n.rdns)||(n==null?void 0:n.name)||(n==null?void 0:n.uuid);this.namespace&&a&&this.addConnector({id:a,type:o,imageUrl:n==null?void 0:n.icon,name:(n==null?void 0:n.name)||"Unknown",provider:s,info:n,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(xt.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(xt.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:r,type:n,chainId:s,socialUri:i}){try{const o=this.connectors.find(f=>na.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.getConnection({address:r,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("EthersAdapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:f.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:f.id,provider:o.provider,type:o.type,id:e}}let c=o==null?void 0:o.provider;const u=this.ethersProviders[o.id];if(u&&(await u.initialize(),c=await u.getProvider()),!c)throw new Error("Provider not found");o.provider=c;let l=[],d;if(n===xt.CONNECTOR_TYPE_AUTH){const{address:f,accounts:h}=await ai.authConnectorAuthenticate({authConnector:c,chainNamespace:Ee.CHAIN.EVM,chainId:s,socialUri:i,preferredAccountType:ks("eip155")}),p=this.getCaipNetworks().find(m=>m.id.toString()===(s==null?void 0:s.toString()));l=[f],this.addConnection({connectorId:e,accounts:h?h.map(m=>({address:m.address})):l.map(m=>({address:m})),caipNetwork:p,auth:{name:Te.getConnectedSocialProvider(),username:Te.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(s),connector:o})}else{l=await c.request({method:"eth_requestAccounts"}),d=await c.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(h=>h.id.toString()===(s==null?void 0:s.toString()));if(d!==s){if(!f)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await(c==null?void 0:c.request({method:"wallet_switchEthereumChain",params:[{chainId:nm.numberToHexString(f.id)}]}))}catch{throw new Error("EthersAdapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(s),connector:o}),this.addConnection({connectorId:e,accounts:l.map(h=>({address:h})),caipNetwork:f}),o.id!==Ee.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(l[0]),chainId:Number(s),provider:c,type:n,id:e}}catch(o){throw Qa.isUserRejectedRequestError(o)?new _8(o):o}}async reconnect(e){const{id:r,chainId:n}=e,s=this.connectors.find(i=>i.id===r);s&&s.type==="AUTH"&&n&&await ai.authConnectorAuthenticate({authConnector:s.provider,chainNamespace:Ee.CHAIN.EVM,chainId:n,preferredAccountType:ks("eip155")})}async getAccounts(e){const r=this.connectors.find(o=>o.id===e.id),n=r==null?void 0:r.provider;if(!n||!r)throw new Error("Provider not found");const s=this.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(s)return{accounts:s.accounts.map(({address:o})=>Ue.createAccount(Ee.CHAIN.EVM,o,"eoa"))};if(e.id===Ee.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(u=>Ue.createAccount(Ee.CHAIN.EVM,u.address,u.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(o=>Ue.createAccount(Ee.CHAIN.EVM,o,"eoa"))}}async disconnect(e){var r;if(e.id){const n=this.connectors.find(i=>na.isLowerCaseMatch(i.id,e.id));if(!n)throw new Error("Connector not found");const s=this.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(n.type){case xt.CONNECTOR_TYPE_WALLET_CONNECT:n.provider.session&&n.provider.disconnect();break;case xt.CONNECTOR_TYPE_AUTH:await((r=n.provider)==null?void 0:r.disconnect());break;case xt.CONNECTOR_TYPE_ANNOUNCED:case xt.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(n.provider);break;default:throw new Error("Unsupported provider type")}return n.id&&(this.removeProviderListeners(n.id),this.deleteConnection(n.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:s?[s]:[]}}return this.disconnectAll()}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(s=>{var i;return s.id.toString()===((i=e.chainId)==null?void 0:i.toString())});if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n&&n.chainNamespace===Ee.CHAIN.EVM){const s=`${n.caipNetworkId}:${r}`,i=this.balancePromises[s];if(i)return i;const o=Te.getNativeBalanceCacheForCaipAddress(s);if(o)return{balance:o.balance,symbol:o.symbol};const a=new Z8e(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(a)try{return this.balancePromises[s]=new Promise(async c=>{try{const u=await a.getBalance(r),l=U5e(u);Te.updateNativeBalanceCache({caipAddress:s,balance:l,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:l,symbol:n.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){var i,o;const{caipNetwork:r}=e,n=Zt.getProviderId(r.chainNamespace),s=Zt.getProvider(r.chainNamespace);if(n==="AUTH"||n==="WALLET_CONNECT"){await super.switchNetwork(e);return}if(!s)throw new Error("Provider not found");try{await(s==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:nm.numberToHexString(r.id)}]}))}catch(a){if(a.code===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||a.code===id.ERROR_INVALID_CHAIN_ID||a.code===id.ERROR_CODE_DEFAULT||((o=(i=a==null?void 0:a.data)==null?void 0:i.originalError)==null?void 0:o.code)===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await nm.addEthereumChain(s,r);else if(n==="ANNOUNCED"||n==="EXTERNAL"||n==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){var e;return(e=this.connectors.find(r=>r.type==="WALLET_CONNECT"))==null?void 0:e.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(s=>s.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return or(e.toLowerCase())}catch{return e}}}const bke={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},wke={block:Wfe({format(t){var r;return{transactions:(r=t.transactions)==null?void 0:r.map(n=>{if(typeof n=="string")return n;const s=R8(n);return s.typeHex==="0x7e"&&(s.isSystemTx=n.isSystemTx,s.mint=n.mint?v0(n.mint):void 0,s.sourceHash=n.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:$fe({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?v0(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:bhe({format(t){return{l1GasPrice:t.l1GasPrice?v0(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?v0(t.l1GasUsed):null,l1Fee:t.l1Fee?v0(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Eke(t,e){return Ake(t)?_ke(t):Che(t,e)}const vke={transaction:Eke};function _ke(t){Cke(t);const{sourceHash:e,data:r,from:n,gas:s,isSystemTx:i,mint:o,to:a,value:c}=t,u=[e,n,a??"0x",o?cd(o):"0x",c?cd(c):"0x",s?cd(s):"0x",i?"0x1":"0x",r??"0x"];return Eg(["0x7e",Jh(u)])}function Ake(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function Cke(t){const{from:e,to:r}=t;if(e&&!Cd(e))throw new Ad({address:e});if(r&&!Cd(r))throw new Ad({address:r})}const uG={blockTime:2e3,contracts:bke,formatters:wke,serializers:vke},Tb=1,gne=YT({...uG,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...uG.contracts,disputeGameFactory:{[Tb]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Tb]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Tb]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Tb]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Tb});({...gne});const GN=YT({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Ske=YT({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});function Wd(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}Wd({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"});Wd({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Wd({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Wd({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Wd({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Wd({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Wd({id:"-239",name:"TON",network:"ton-mainnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://tonscan.org"}},testnet:!1,chainNamespace:"ton",caipNetworkId:"ton:-239"});Wd({id:"-3",name:"TON Testnet",network:"ton-testnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://testnet.tonscan.org"}},testnet:!0,chainNamespace:"ton",caipNetworkId:"ton:-3"});var GS={exports:{}},Ike=GS.exports,lG;function Tke(){return lG||(lG=1,(function(t,e){(function(r,n){t.exports=n()})(Ike,(function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",a="minute",c="hour",u="day",l="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var I=["th","st","nd","rd"],S=U%100;return"["+U+(I[(S-20)%10]||I[S]||I[0])+"]"}},b=function(U,I,S){var _=String(U);return!_||_.length>=I?U:""+Array(I+1-_.length).join(S)+U},g={s:b,z:function(U){var I=-U.utcOffset(),S=Math.abs(I),_=Math.floor(S/60),R=S%60;return(I<=0?"+":"-")+b(_,2,"0")+":"+b(R,2,"0")},m:function U(I,S){if(I.date()<S.date())return-U(S,I);var _=12*(S.year()-I.year())+(S.month()-I.month()),R=I.clone().add(_,d),O=S-R<0,P=I.clone().add(_+(O?-1:1),d);return+(-(_+(S-R)/(O?R-P:P-R))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:h,w:l,d:u,D:p,h:c,m:a,s:o,ms:i,Q:f}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},v="en",A={};A[v]=w;var C="$isDayjsObject",x=function(U){return U instanceof k||!(!U||!U[C])},T=function U(I,S,_){var R;if(!I)return v;if(typeof I=="string"){var O=I.toLowerCase();A[O]&&(R=O),S&&(A[O]=S,R=O);var P=I.split("-");if(!R&&P.length>1)return U(P[0])}else{var D=I.name;A[D]=I,R=D}return!_&&R&&(v=R),R||!_&&v},N=function(U,I){if(x(U))return U.clone();var S=typeof I=="object"?I:{};return S.date=U,S.args=arguments,new k(S)},M=g;M.l=T,M.i=x,M.w=function(U,I){return N(U,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var k=(function(){function U(S){this.$L=T(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[C]=!0}var I=U.prototype;return I.parse=function(S){this.$d=(function(_){var R=_.date,O=_.utc;if(R===null)return new Date(NaN);if(M.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var P=R.match(y);if(P){var D=P[2]-1||0,j=(P[7]||"0").substring(0,3);return O?new Date(Date.UTC(P[1],D,P[3]||1,P[4]||0,P[5]||0,P[6]||0,j)):new Date(P[1],D,P[3]||1,P[4]||0,P[5]||0,P[6]||0,j)}}return new Date(R)})(S),this.init()},I.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},I.$utils=function(){return M},I.isValid=function(){return this.$d.toString()!==m},I.isSame=function(S,_){var R=N(S);return this.startOf(_)<=R&&R<=this.endOf(_)},I.isAfter=function(S,_){return N(S)<this.startOf(_)},I.isBefore=function(S,_){return this.endOf(_)<N(S)},I.$g=function(S,_,R){return M.u(S)?this[_]:this.set(R,S)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(S,_){var R=this,O=!!M.u(_)||_,P=M.p(S),D=function(Q,X){var ie=M.w(R.$u?Date.UTC(R.$y,X,Q):new Date(R.$y,X,Q),R);return O?ie:ie.endOf(u)},j=function(Q,X){return M.w(R.toDate()[Q].apply(R.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(X)),R)},F=this.$W,q=this.$M,z=this.$D,W="set"+(this.$u?"UTC":"");switch(P){case h:return O?D(1,0):D(31,11);case d:return O?D(1,q):D(0,q+1);case l:var K=this.$locale().weekStart||0,re=(F<K?F+7:F)-K;return D(O?z-re:z+(6-re),q);case u:case p:return j(W+"Hours",0);case c:return j(W+"Minutes",1);case a:return j(W+"Seconds",2);case o:return j(W+"Milliseconds",3);default:return this.clone()}},I.endOf=function(S){return this.startOf(S,!1)},I.$set=function(S,_){var R,O=M.p(S),P="set"+(this.$u?"UTC":""),D=(R={},R[u]=P+"Date",R[p]=P+"Date",R[d]=P+"Month",R[h]=P+"FullYear",R[c]=P+"Hours",R[a]=P+"Minutes",R[o]=P+"Seconds",R[i]=P+"Milliseconds",R)[O],j=O===u?this.$D+(_-this.$W):_;if(O===d||O===h){var F=this.clone().set(p,1);F.$d[D](j),F.init(),this.$d=F.set(p,Math.min(this.$D,F.daysInMonth())).$d}else D&&this.$d[D](j);return this.init(),this},I.set=function(S,_){return this.clone().$set(S,_)},I.get=function(S){return this[M.p(S)]()},I.add=function(S,_){var R,O=this;S=Number(S);var P=M.p(_),D=function(q){var z=N(O);return M.w(z.date(z.date()+Math.round(q*S)),O)};if(P===d)return this.set(d,this.$M+S);if(P===h)return this.set(h,this.$y+S);if(P===u)return D(1);if(P===l)return D(7);var j=(R={},R[a]=n,R[c]=s,R[o]=r,R)[P]||1,F=this.$d.getTime()+S*j;return M.w(F,this)},I.subtract=function(S,_){return this.add(-1*S,_)},I.format=function(S){var _=this,R=this.$locale();if(!this.isValid())return R.invalidDate||m;var O=S||"YYYY-MM-DDTHH:mm:ssZ",P=M.z(this),D=this.$H,j=this.$m,F=this.$M,q=R.weekdays,z=R.months,W=R.meridiem,K=function(X,ie,Y,V){return X&&(X[ie]||X(_,O))||Y[ie].slice(0,V)},re=function(X){return M.s(D%12||12,X,"0")},Q=W||function(X,ie,Y){var V=X<12?"AM":"PM";return Y?V.toLowerCase():V};return O.replace(E,(function(X,ie){return ie||(function(Y){switch(Y){case"YY":return String(_.$y).slice(-2);case"YYYY":return M.s(_.$y,4,"0");case"M":return F+1;case"MM":return M.s(F+1,2,"0");case"MMM":return K(R.monthsShort,F,z,3);case"MMMM":return K(z,F);case"D":return _.$D;case"DD":return M.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return K(R.weekdaysMin,_.$W,q,2);case"ddd":return K(R.weekdaysShort,_.$W,q,3);case"dddd":return q[_.$W];case"H":return String(D);case"HH":return M.s(D,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return Q(D,j,!0);case"A":return Q(D,j,!1);case"m":return String(j);case"mm":return M.s(j,2,"0");case"s":return String(_.$s);case"ss":return M.s(_.$s,2,"0");case"SSS":return M.s(_.$ms,3,"0");case"Z":return P}return null})(X)||P.replace(":","")}))},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(S,_,R){var O,P=this,D=M.p(_),j=N(S),F=(j.utcOffset()-this.utcOffset())*n,q=this-j,z=function(){return M.m(P,j)};switch(D){case h:O=z()/12;break;case d:O=z();break;case f:O=z()/3;break;case l:O=(q-F)/6048e5;break;case u:O=(q-F)/864e5;break;case c:O=q/s;break;case a:O=q/n;break;case o:O=q/r;break;default:O=q}return R?O:M.a(O)},I.daysInMonth=function(){return this.endOf(d).$D},I.$locale=function(){return A[this.$L]},I.locale=function(S,_){if(!S)return this.$L;var R=this.clone(),O=T(S,_,!0);return O&&(R.$L=O),R},I.clone=function(){return M.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},U})(),B=k.prototype;return N.prototype=B,[["$ms",i],["$s",o],["$m",a],["$H",c],["$W",u],["$M",d],["$y",h],["$D",p]].forEach((function(U){B[U[1]]=function(I){return this.$g(I,U[0],U[1])}})),N.extend=function(U,I){return U.$i||(U(I,k,N),U.$i=!0),N},N.locale=T,N.isDayjs=x,N.unix=function(U){return N(1e3*U)},N.en=A[v],N.Ls=A,N.p={},N}))})(GS)),GS.exports}var Pke=Tke();const xke=bg(Pke);var WS={exports:{}},Oke=WS.exports,dG;function Rke(){return dG||(dG=1,(function(t,e){(function(r,n){t.exports=n()})(Oke,(function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,l,d,f){return i.fromToBase(u,l,d,f)}s.en.relativeTime=o,i.fromToBase=function(u,l,d,f,h){for(var p,m,y,E=d.$locale().relativeTime||o,w=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=w.length,g=0;g<b;g+=1){var v=w[g];v.d&&(p=f?s(u).diff(d,v.d,!0):d.diff(u,v.d,!0));var A=(r.rounding||Math.round)(Math.abs(p));if(y=p>0,A<=v.r||!v.r){A<=1&&g>0&&(v=w[g-1]);var C=E[v.l];h&&(A=h(""+A)),m=typeof C=="string"?C.replace("%d",A):C(A,l,v.l,y);break}}if(l)return m;var x=y?E.future:E.past;return typeof x=="function"?x(m):x.replace("%s",m)},i.to=function(u,l){return a(u,l,this,!0)},i.from=function(u,l){return a(u,l,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}}))})(WS)),WS.exports}var Nke=Rke();const Bke=bg(Nke);xke.extend(Bke);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let yne;const m6=t=>yne=t,bne=Symbol();function WN(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var l1;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(l1||(l1={}));function kke(){const t=LW(!0),e=t.run(()=>qt({}));let r=[],n=[];const s=h8({install(i){m6(s),s._a=i,i.provide(bne,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const wne=()=>{};function fG(t,e,r,n=wne){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&o8()&&FW(s),s}function y0(t,...e){t.slice().forEach(r=>{r(...e)})}const jke=t=>t(),hG=Symbol(),RO=Symbol();function KN(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];WN(s)&&WN(n)&&t.hasOwnProperty(r)&&!Or(n)&&!ic(n)?t[r]=KN(s,n):t[r]=n}return t}const Dke=Symbol();function Mke(t){return!WN(t)||!t.hasOwnProperty(Dke)}const{assign:Il}=Object;function Uke(t){return!!(Or(t)&&t.effect)}function Lke(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let c;function u(){a||(r.state.value[t]=s?s():{});const l=roe(r.state.value[t]);return Il(l,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=h8(We(()=>{m6(r);const h=r._s.get(t);return o[f].call(h,h)})),d),{}))}return c=Ene(t,u,e,r,n,!0),c}function Ene(t,e,r={},n,s,i){let o;const a=Il({actions:{}},r),c={deep:!0};let u,l,d=[],f=[],h;const p=n.state.value[t];!i&&!p&&(n.state.value[t]={}),qt({});let m;function y(x){let T;u=l=!1,typeof x=="function"?(x(n.state.value[t]),T={type:l1.patchFunction,storeId:t,events:h}):(KN(n.state.value[t],x),T={type:l1.patchObject,payload:x,storeId:t,events:h});const N=m=Symbol();Yo().then(()=>{m===N&&(u=!0)}),l=!0,y0(d,T,n.state.value[t])}const E=i?function(){const{state:T}=r,N=T?T():{};this.$patch(M=>{Il(M,N)})}:wne;function w(){o.stop(),d=[],f=[],n._s.delete(t)}const b=(x,T="")=>{if(hG in x)return x[RO]=T,x;const N=function(){m6(n);const M=Array.from(arguments),k=[],B=[];function U(_){k.push(_)}function I(_){B.push(_)}y0(f,{args:M,name:N[RO],store:v,after:U,onError:I});let S;try{S=x.apply(this&&this.$id===t?this:v,M)}catch(_){throw y0(B,_),_}return S instanceof Promise?S.then(_=>(y0(k,_),_)).catch(_=>(y0(B,_),Promise.reject(_))):(y0(k,S),S)};return N[hG]=!0,N[RO]=T,N},g={_p:n,$id:t,$onAction:fG.bind(null,f),$patch:y,$reset:E,$subscribe(x,T={}){const N=fG(d,x,T.detached,()=>M()),M=o.run(()=>Xi(()=>n.state.value[t],k=>{(T.flush==="sync"?l:u)&&x({storeId:t,type:l1.direct,events:h},k)},Il({},c,T)));return N},$dispose:w},v=dp(g);n._s.set(t,v);const C=(n._a&&n._a.runWithContext||jke)(()=>n._e.run(()=>(o=LW()).run(()=>e({action:b}))));for(const x in C){const T=C[x];if(Or(T)&&!Uke(T)||ic(T))i||(p&&Mke(T)&&(Or(T)?T.value=p[x]:KN(T,p[x])),n.state.value[t][x]=T);else if(typeof T=="function"){const N=b(T,x);C[x]=N,a.actions[x]=T}}return Il(v,C),Il(Gt(v),C),Object.defineProperty(v,"$state",{get:()=>n.state.value[t],set:x=>{y(T=>{Il(T,x)})}}),n._p.forEach(x=>{Il(v,o.run(()=>x({store:v,app:n._a,pinia:n,options:a})))}),p&&i&&r.hydrate&&r.hydrate(v.$state,p),u=!0,l=!0,v}/*! #__NO_SIDE_EFFECTS__ */function vne(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,c){const u=Uoe();return a=a||(u?kr(bne,null):null),a&&m6(a),a=yne,a._s.has(n)||(i?Ene(n,e,s,a):Lke(n,s,a)),a._s.get(n)}return o.$id=n,o}function Fke(t){{const e=Gt(t),r={};for(const n in e){const s=e[n];s.effect?r[n]=We({get:()=>t[n],set(i){t[n]=i}}):(Or(s)||ic(s))&&(r[n]=p8(t,n))}return r}}const Op=vne("walletEVM",()=>{const t=qt({});function e(d){t.value=d}const r=We(()=>t.value.address),n=We(()=>r.value?r.value.slice(0,4)+"..."+r.value.slice(-4):""),s=We(()=>{var d;return(d=t.value)==null?void 0:d.isConnected}),i=qt({});function o(d){i.value=d}const a=We(()=>i.value.chainId),c=We(()=>{var d;return(d=i.value.caipNetwork)==null?void 0:d.chainNamespace}),u=qt(0);function l(d){u.value=d}return{AccountInfo:t,setAccountInfo:e,ChainInfo:i,setChainInfo:o,Address:r,ShowAddress:n,ChainId:a,ChainNamespace:c,IsConnected:s,LastChainId:u,setLastChainId:l}},{persist:!0}),Hke="4ecc43bbc2c62ede7319b389f79685e7",qke={name:"AEON",description:"AEON AI Payment",url:"https://ai.aeon.xyz/#/",icons:["https://ai.aeon.xyz/favicon.ico"]},zke=new yke,g6=h5e({adapters:[zke],networks:[gne,GN,Ske],defaultNetwork:GN,metadata:qke,projectId:Hke,features:{analytics:!1,email:!1,socials:!1,emailShowWallets:!1},enableWalletConnect:!1}),$ke=()=>{const{open:t}=l5e();t({view:"Connect"}).finally(()=>{})},Vke=()=>{const{disconnect:t}=c5e();t()};function Gke(){const t=g6.getIsConnectedState();return console.log("getIsConnectedState",t),t}function Wke(t){g6.switchNetwork(t)}g6.subscribeAccount(t=>{Op().setAccountInfo(t)});g6.subscribeNetwork(t=>{Op().setChainInfo(t)});const Kke={class:"w-5 animate-spin",src:ece,alt:""},Zke=Dr({__name:"ConnectWallet",setup(t){const e=d5e(),r=qt(!1);Xi(()=>e.open,s=>{console.log({open:s}),s?r.value=!0:r.value&&!s&&(r.value=!1)});async function n(){r.value||(r.value=!0,$ke())}return(s,i)=>(ot(),tr("button",{class:"bg-[#58f287] px-2 py-1 rounded text-base cursor-pointer flex items-center justify-center gap-1",onClick:n},[sI(ft("img",Kke,null,512),[[dI,Ie(r)]]),i[0]||(i[0]=ft("span",null,"Connect wallet",-1))]))}}),Yke="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='24'%20height='24'%20rx='12'%20fill='url(%23pattern0_37330_2707)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_37330_2707'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_37330_2707'%20transform='scale(0.0078125)'/%3e%3c/pattern%3e%3cimage%20id='image0_37330_2707'%20width='128'%20height='128'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAgKADAAQAAAABAAAAgAAAAABIjgR3AAADBElEQVR4Ae2dsXFTQRgGEaNOSCmALlwGMUMdFEDkGujADTigElog9wWenX/fnTyzznz+7vufdnUOniT79vL366crv/58/4nqn37/QnkafrTr+UwfQHmXQAJcnrgtARiZuyEBLk/clgCMzN2QAJcnbksARuZuSIDLE7clACNzNyTA5YnbEoCRuRsS4PLEbQnAyNwNCXB54rYEYGTuhtuPb89u45u2q+/vvxmnf0tfP6AX0AmgxOR8AmSgtC4BlJicT4AMlNYlgBKT8wmQgdK6BFBicj4BMlBalwBKTM4nQAZK6xJAicn5BMhAaV0CKDE5nwAZKK1LACUm529Xfz6AXu/V998f7fWJTgB9hsj5BMhAaV0CKDE5nwAZKK1LACUm5xMgA6V1CaDE5HwCZKC0LgGUmJxPgAyU1iWAEpPzCZCB0roEUGJyPgEyUFqXAEpMzt/p/fdHu58u8xjXUZ6dgDHyWUECZvzGuxMwRjgrSMCM33h3AsYIZwUJmPEb707AGOGsIAEzfuPdCRgjnBUkYMZvvDsBY4SzggTM+I13J2CMcFaQgBm/8e4EjBHOCvp7Qe/wo/f336lbftwJWJDsXUjAXt7LtAQsSPYuJGAv72VaAhYkexcSsJf3Mi0BC5K9CwnYy3uZloAFyd6FBOzlvUxLwIJk70IC9vJepiVgQbJ3IQF7eS/TErAg2btwp+/3v/r++NX99PFSHbS/E0AJy/kEyEBpXQIoMTmfABkorUsAJSbnEyADpXUJoMTkfAJkoLQuAZSYnE+ADJTWJYASk/MJkIHSugRQYnI+ATJQWpcASkzO32nfl3+vdMuHzl/9eDsBh58eCUjAYQKHx3cCEnCYwOHxnYAEHCZweHwnIAGHCRwe3wlIwGECh8d3AhJwmMDh8Z2ABBwmcHj85f9PmL7fn76/nvJ7tOvpVxA1KOcTIAOldQmgxOR8AmSgtC4BlJicT4AMlNYlgBKT8wmQgdK6BFBicj4BMlBalwBKTM4nQAZK6xJAicn5BMhAaV0CKDE5/x8R0y2HIfrs1wAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",Jke="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5312%2012.1846L16.6646%2010.0513L14.5312%207.91797'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.13281%2010.0508H16.6078'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.79948%2016.6673C6.11615%2016.6673%203.13281%2014.1673%203.13281%2010.0007C3.13281%205.83398%206.11615%203.33398%209.79948%203.33398'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function Tw(t){const e=Op(),{IsConnected:r,Address:n,ChainId:s,ShowAddress:i,ChainNamespace:o}=Fke(e);return TK(()=>{const a=r.value&&n.value&&s.value&&o.value,c=!r.value&&!n.value&&s.value&&o.value;(a||c)&&(t==null||t({IsConnected:r.value,Address:n.value,ChainId:s.value,ChainNamespace:o.value}))}),{IsConnected:r,Address:n,ChainId:s,ShowAddress:i,WalletAddress:n}}const Qke={class:"flex items-center gap-2"},Xke={class:"flex items-center gap-1"},eje=Dr({__name:"AccountInfo",emits:["disconnect"],setup(t,{emit:e}){const{ShowAddress:r}=Tw(),n=e;return(s,i)=>(ot(),tr("div",Qke,[ft("div",Xke,[i[1]||(i[1]=ft("img",{src:Yke,alt:""},null,-1)),ft("span",null,Cu(Ie(r)),1)]),ft("div",{class:"flex items-center cursor-pointer",onClick:i[0]||(i[0]=()=>n("disconnect"))},[...i[2]||(i[2]=[ft("img",{class:"w-5",src:Jke,alt:""},null,-1)])])]))}});function _ne(t,e){return function(){return t.apply(e,arguments)}}const{toString:tje}=Object.prototype,{getPrototypeOf:K4}=Object,{iterator:y6,toStringTag:Ane}=Symbol,b6=(t=>e=>{const r=tje.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_a=t=>(t=t.toLowerCase(),e=>b6(e)===t),w6=t=>e=>typeof e===t,{isArray:jg}=Array,hg=w6("undefined");function qE(t){return t!==null&&!hg(t)&&t.constructor!==null&&!hg(t.constructor)&&mi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Cne=_a("ArrayBuffer");function rje(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Cne(t.buffer),e}const nje=w6("string"),mi=w6("function"),Sne=w6("number"),zE=t=>t!==null&&typeof t=="object",sje=t=>t===!0||t===!1,KS=t=>{if(b6(t)!=="object")return!1;const e=K4(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ane in t)&&!(y6 in t)},ije=t=>{if(!zE(t)||qE(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},oje=_a("Date"),aje=_a("File"),cje=_a("Blob"),uje=_a("FileList"),lje=t=>zE(t)&&mi(t.pipe),dje=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mi(t.append)&&((e=b6(t))==="formdata"||e==="object"&&mi(t.toString)&&t.toString()==="[object FormData]"))},fje=_a("URLSearchParams"),[hje,pje,mje,gje]=["ReadableStream","Request","Response","Headers"].map(_a),yje=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $E(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),jg(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(qE(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,t[a],a,t)}}function Ine(t,e){if(qE(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const fh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tne=t=>!hg(t)&&t!==fh;function ZN(){const{caseless:t,skipUndefined:e}=Tne(this)&&this||{},r={},n=(s,i)=>{const o=t&&Ine(r,i)||i;KS(r[o])&&KS(s)?r[o]=ZN(r[o],s):KS(s)?r[o]=ZN({},s):jg(s)?r[o]=s.slice():(!e||!hg(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&$E(arguments[s],n);return r}const bje=(t,e,r,{allOwnKeys:n}={})=>($E(e,(s,i)=>{r&&mi(s)?t[i]=_ne(s,r):t[i]=s},{allOwnKeys:n}),t),wje=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Eje=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},vje=(t,e,r,n)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&K4(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},_je=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Aje=t=>{if(!t)return null;if(jg(t))return t;let e=t.length;if(!Sne(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Cje=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&K4(Uint8Array)),Sje=(t,e)=>{const n=(t&&t[y6]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Ije=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Tje=_a("HTMLFormElement"),Pje=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),pG=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),xje=_a("RegExp"),Pne=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};$E(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},Oje=t=>{Pne(t,(e,r)=>{if(mi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(mi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Rje=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return jg(t)?n(t):n(String(t).split(e)),r},Nje=()=>{},Bje=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function kje(t){return!!(t&&mi(t.append)&&t[Ane]==="FormData"&&t[y6])}const jje=t=>{const e=new Array(10),r=(n,s)=>{if(zE(n)){if(e.indexOf(n)>=0)return;if(qE(n))return n;if(!("toJSON"in n)){e[s]=n;const i=jg(n)?[]:{};return $E(n,(o,a)=>{const c=r(o,s+1);!hg(c)&&(i[a]=c)}),e[s]=void 0,i}}return n};return r(t,0)},Dje=_a("AsyncFunction"),Mje=t=>t&&(zE(t)||mi(t))&&mi(t.then)&&mi(t.catch),xne=((t,e)=>t?setImmediate:e?((r,n)=>(fh.addEventListener("message",({source:s,data:i})=>{s===fh&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),fh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",mi(fh.postMessage)),Uje=typeof queueMicrotask<"u"?queueMicrotask.bind(fh):typeof process<"u"&&process.nextTick||xne,Lje=t=>t!=null&&mi(t[y6]),_e={isArray:jg,isArrayBuffer:Cne,isBuffer:qE,isFormData:dje,isArrayBufferView:rje,isString:nje,isNumber:Sne,isBoolean:sje,isObject:zE,isPlainObject:KS,isEmptyObject:ije,isReadableStream:hje,isRequest:pje,isResponse:mje,isHeaders:gje,isUndefined:hg,isDate:oje,isFile:aje,isBlob:cje,isRegExp:xje,isFunction:mi,isStream:lje,isURLSearchParams:fje,isTypedArray:Cje,isFileList:uje,forEach:$E,merge:ZN,extend:bje,trim:yje,stripBOM:wje,inherits:Eje,toFlatObject:vje,kindOf:b6,kindOfTest:_a,endsWith:_je,toArray:Aje,forEachEntry:Sje,matchAll:Ije,isHTMLForm:Tje,hasOwnProperty:pG,hasOwnProp:pG,reduceDescriptors:Pne,freezeMethods:Oje,toObjectSet:Rje,toCamelCase:Pje,noop:Nje,toFiniteNumber:Bje,findKey:Ine,global:fh,isContextDefined:Tne,isSpecCompliantForm:kje,toJSONObject:jje,isAsyncFn:Dje,isThenable:Mje,setImmediate:xne,asap:Uje,isIterable:Lje};function Et(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}_e.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const One=Et.prototype,Rne={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Rne[t]={value:t}});Object.defineProperties(Et,Rne);Object.defineProperty(One,"isAxiosError",{value:!0});Et.from=(t,e,r,n,s,i)=>{const o=Object.create(One);_e.toFlatObject(t,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return Et.call(o,a,c,r,n,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const Fje=null;function YN(t){return _e.isPlainObject(t)||_e.isArray(t)}function Nne(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function mG(t,e,r){return t?t.concat(e).map(function(s,i){return s=Nne(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Hje(t){return _e.isArray(t)&&!t.some(YN)}const qje=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function E6(t,e,r){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=_e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!_e.isUndefined(y[m])});const n=r.metaTokens,s=r.visitor||l,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(_e.isDate(p))return p.toISOString();if(_e.isBoolean(p))return p.toString();if(!c&&_e.isBlob(p))throw new Et("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(p)||_e.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,m,y){let E=p;if(p&&!y&&typeof p=="object"){if(_e.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(_e.isArray(p)&&Hje(p)||(_e.isFileList(p)||_e.endsWith(m,"[]"))&&(E=_e.toArray(p)))return m=Nne(m),E.forEach(function(b,g){!(_e.isUndefined(b)||b===null)&&e.append(o===!0?mG([m],g,i):o===null?m:m+"[]",u(b))}),!1}return YN(p)?!0:(e.append(mG(y,m,i),u(p)),!1)}const d=[],f=Object.assign(qje,{defaultVisitor:l,convertValue:u,isVisitable:YN});function h(p,m){if(!_e.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),_e.forEach(p,function(E,w){(!(_e.isUndefined(E)||E===null)&&s.call(e,E,_e.isString(w)?w.trim():w,m,f))===!0&&h(E,m?m.concat(w):[w])}),d.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return h(t),e}function gG(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Z4(t,e){this._pairs=[],t&&E6(t,this,e)}const Bne=Z4.prototype;Bne.append=function(e,r){this._pairs.push([e,r])};Bne.toString=function(e){const r=e?function(n){return e.call(this,n,gG)}:gG;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function zje(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kne(t,e,r){if(!e)return t;const n=r&&r.encode||zje;_e.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=_e.isURLSearchParams(e)?e.toString():new Z4(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class yG{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const jne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$je=typeof URLSearchParams<"u"?URLSearchParams:Z4,Vje=typeof FormData<"u"?FormData:null,Gje=typeof Blob<"u"?Blob:null,Wje={isBrowser:!0,classes:{URLSearchParams:$je,FormData:Vje,Blob:Gje},protocols:["http","https","file","blob","url","data"]},Y4=typeof window<"u"&&typeof document<"u",JN=typeof navigator=="object"&&navigator||void 0,Kje=Y4&&(!JN||["ReactNative","NativeScript","NS"].indexOf(JN.product)<0),Zje=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yje=Y4&&window.location.href||"http://localhost",Jje=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Y4,hasStandardBrowserEnv:Kje,hasStandardBrowserWebWorkerEnv:Zje,navigator:JN,origin:Yje},Symbol.toStringTag,{value:"Module"})),bs={...Jje,...Wje};function Qje(t,e){return E6(t,new bs.classes.URLSearchParams,{visitor:function(r,n,s,i){return bs.isNode&&_e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Xje(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eDe(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function Dne(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=r.length;return o=!o&&_e.isArray(s)?s.length:o,c?(_e.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!_e.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&_e.isArray(s[o])&&(s[o]=eDe(s[o])),!a)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const r={};return _e.forEachEntry(t,(n,s)=>{e(Xje(n),s,r,0)}),r}return null}function tDe(t,e,r){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const VE={transitional:jne,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=_e.isObject(e);if(i&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return s?JSON.stringify(Dne(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Qje(e,this.formSerializer).toString();if((a=_e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return E6(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),tDe(e)):e}],transformResponse:[function(e){const r=this.transitional||VE.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Et.from(a,Et.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{VE.headers[t]={}});const rDe=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nDe=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&rDe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},bG=Symbol("internals");function Pb(t){return t&&String(t).trim().toLowerCase()}function ZS(t){return t===!1||t==null?t:_e.isArray(t)?t.map(ZS):String(t)}function sDe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const iDe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function NO(t,e,r,n,s){if(_e.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!_e.isString(e)){if(_e.isString(n))return e.indexOf(n)!==-1;if(_e.isRegExp(n))return n.test(e)}}function oDe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function aDe(t,e){const r=_e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let gi=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(a,c,u){const l=Pb(c);if(!l)throw new Error("header name must be a non-empty string");const d=_e.findKey(s,l);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=ZS(a))}const o=(a,c)=>_e.forEach(a,(u,l)=>i(u,l,c));if(_e.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(_e.isString(e)&&(e=e.trim())&&!iDe(e))o(nDe(e),r);else if(_e.isObject(e)&&_e.isIterable(e)){let a={},c,u;for(const l of e){if(!_e.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?_e.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Pb(e),e){const n=_e.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return sDe(s);if(_e.isFunction(r))return r.call(this,s,n);if(_e.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Pb(e),e){const n=_e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||NO(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=Pb(o),o){const a=_e.findKey(n,o);a&&(!r||NO(n,n[a],a,r))&&(delete n[a],s=!0)}}return _e.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||NO(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return _e.forEach(this,(s,i)=>{const o=_e.findKey(n,i);if(o){r[o]=ZS(s),delete r[i];return}const a=e?oDe(i):String(i).trim();a!==i&&delete r[i],r[a]=ZS(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return _e.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&_e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[bG]=this[bG]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Pb(o);n[a]||(aDe(s,o),n[a]=!0)}return _e.isArray(e)?e.forEach(i):i(e),this}};gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(gi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});_e.freezeMethods(gi);function BO(t,e){const r=this||VE,n=e||r,s=gi.from(n.headers);let i=n.data;return _e.forEach(t,function(a){i=a.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Mne(t){return!!(t&&t.__CANCEL__)}function Dg(t,e,r){Et.call(this,t??"canceled",Et.ERR_CANCELED,e,r),this.name="CanceledError"}_e.inherits(Dg,Et,{__CANCEL__:!0});function Une(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Et("Request failed with status code "+r.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cDe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uDe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=n[i];o||(o=u),r[s]=c,n[s]=u;let d=i,f=0;for(;d!==s;)f+=r[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const h=l&&u-l;return h?Math.round(f*1e3/h):void 0}}function lDe(t,e){let r=0,n=1e3/e,s,i;const o=(u,l=Date.now())=>{r=l,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const l=Date.now(),d=l-r;d>=n?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-d)))},()=>s&&o(s)]}const cT=(t,e,r=3)=>{let n=0;const s=uDe(50,250);return lDe(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),l=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},wG=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},EG=t=>(...e)=>_e.asap(()=>t(...e)),dDe=bs.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,bs.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(bs.origin),bs.navigator&&/(msie|trident)/i.test(bs.navigator.userAgent)):()=>!0,fDe=bs.hasStandardBrowserEnv?{write(t,e,r,n,s,i,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];_e.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),_e.isString(n)&&a.push(`path=${n}`),_e.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),_e.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hDe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pDe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Lne(t,e,r){let n=!hDe(e);return t&&(n||r==!1)?pDe(t,e):e}const vG=t=>t instanceof gi?{...t}:t;function op(t,e){e=e||{};const r={};function n(u,l,d,f){return _e.isPlainObject(u)&&_e.isPlainObject(l)?_e.merge.call({caseless:f},u,l):_e.isPlainObject(l)?_e.merge({},l):_e.isArray(l)?l.slice():l}function s(u,l,d,f){if(_e.isUndefined(l)){if(!_e.isUndefined(u))return n(void 0,u,d,f)}else return n(u,l,d,f)}function i(u,l){if(!_e.isUndefined(l))return n(void 0,l)}function o(u,l){if(_e.isUndefined(l)){if(!_e.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,d){if(d in e)return n(u,l);if(d in t)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,d)=>s(vG(u),vG(l),d,!0)};return _e.forEach(Object.keys({...t,...e}),function(l){const d=c[l]||s,f=d(t[l],e[l],l);_e.isUndefined(f)&&d!==a||(r[l]=f)}),r}const Fne=t=>{const e=op({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=gi.from(o),e.url=kne(Lne(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),_e.isFormData(r)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(_e.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,d])=>{u.includes(l.toLowerCase())&&o.set(l,d)})}}if(bs.hasStandardBrowserEnv&&(n&&_e.isFunction(n)&&(n=n(e)),n||n!==!1&&dDe(e.url))){const c=s&&i&&fDe.read(i);c&&o.set(s,c)}return e},mDe=typeof XMLHttpRequest<"u",gDe=mDe&&function(t){return new Promise(function(r,n){const s=Fne(t);let i=s.data;const o=gi.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,l,d,f,h,p;function m(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function E(){if(!y)return;const b=gi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};Une(function(C){r(C),m()},function(C){n(C),m()},v),y=null}"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(E)},y.onabort=function(){y&&(n(new Et("Request aborted",Et.ECONNABORTED,t,y)),y=null)},y.onerror=function(g){const v=g&&g.message?g.message:"Network Error",A=new Et(v,Et.ERR_NETWORK,t,y);A.event=g||null,n(A),y=null},y.ontimeout=function(){let g=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const v=s.transitional||jne;s.timeoutErrorMessage&&(g=s.timeoutErrorMessage),n(new Et(g,v.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&_e.forEach(o.toJSON(),function(g,v){y.setRequestHeader(v,g)}),_e.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([f,p]=cT(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([d,h]=cT(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(l=b=>{y&&(n(!b||b.type?new Dg(null,t,y):b),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const w=cDe(s.url);if(w&&bs.protocols.indexOf(w)===-1){n(new Et("Unsupported protocol "+w+":",Et.ERR_BAD_REQUEST,t));return}y.send(i||null)})},yDe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,a();const l=u instanceof Error?u:this.reason;n.abort(l instanceof Et?l:new Dg(l instanceof Error?l.message:l))}};let o=e&&setTimeout(()=>{o=null,i(new Et(`timeout ${e} of ms exceeded`,Et.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>_e.asap(a),c}},bDe=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},wDe=async function*(t,e){for await(const r of EDe(t))yield*bDe(r,e)},EDe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},_G=(t,e,r,n)=>{const s=wDe(t,e);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await s.next();if(u){a(),c.close();return}let d=l.byteLength;if(r){let f=i+=d;r(f)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},AG=64*1024,{isFunction:wS}=_e,vDe=(({Request:t,Response:e})=>({Request:t,Response:e}))(_e.global),{ReadableStream:CG,TextEncoder:SG}=_e.global,IG=(t,...e)=>{try{return!!t(...e)}catch{return!1}},_De=t=>{t=_e.merge.call({skipUndefined:!0},vDe,t);const{fetch:e,Request:r,Response:n}=t,s=e?wS(e):typeof fetch=="function",i=wS(r),o=wS(n);if(!s)return!1;const a=s&&wS(CG),c=s&&(typeof SG=="function"?(p=>m=>p.encode(m))(new SG):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&a&&IG(()=>{let p=!1;const m=new r(bs.origin,{body:new CG,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),l=o&&a&&IG(()=>_e.isReadableStream(new n("").body)),d={stream:l&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(m,y)=>{let E=m&&m[p];if(E)return E.call(m);throw new Et(`Response type '${p}' is not supported`,Et.ERR_NOT_SUPPORT,y)})});const f=async p=>{if(p==null)return 0;if(_e.isBlob(p))return p.size;if(_e.isSpecCompliantForm(p))return(await new r(bs.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(p)||_e.isArrayBuffer(p))return p.byteLength;if(_e.isURLSearchParams(p)&&(p=p+""),_e.isString(p))return(await c(p)).byteLength},h=async(p,m)=>{const y=_e.toFiniteNumber(p.getContentLength());return y??f(m)};return async p=>{let{url:m,method:y,data:E,signal:w,cancelToken:b,timeout:g,onDownloadProgress:v,onUploadProgress:A,responseType:C,headers:x,withCredentials:T="same-origin",fetchOptions:N}=Fne(p),M=e||fetch;C=C?(C+"").toLowerCase():"text";let k=yDe([w,b&&b.toAbortSignal()],g),B=null;const U=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let I;try{if(A&&u&&y!=="get"&&y!=="head"&&(I=await h(x,E))!==0){let D=new r(m,{method:"POST",body:E,duplex:"half"}),j;if(_e.isFormData(E)&&(j=D.headers.get("content-type"))&&x.setContentType(j),D.body){const[F,q]=wG(I,cT(EG(A)));E=_G(D.body,AG,F,q)}}_e.isString(T)||(T=T?"include":"omit");const S=i&&"credentials"in r.prototype,_={...N,signal:k,method:y.toUpperCase(),headers:x.normalize().toJSON(),body:E,duplex:"half",credentials:S?T:void 0};B=i&&new r(m,_);let R=await(i?M(B,N):M(m,_));const O=l&&(C==="stream"||C==="response");if(l&&(v||O&&U)){const D={};["status","statusText","headers"].forEach(z=>{D[z]=R[z]});const j=_e.toFiniteNumber(R.headers.get("content-length")),[F,q]=v&&wG(j,cT(EG(v),!0))||[];R=new n(_G(R.body,AG,F,()=>{q&&q(),U&&U()}),D)}C=C||"text";let P=await d[_e.findKey(d,C)||"text"](R,p);return!O&&U&&U(),await new Promise((D,j)=>{Une(D,j,{data:P,headers:gi.from(R.headers),status:R.status,statusText:R.statusText,config:p,request:B})})}catch(S){throw U&&U(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,p,B),{cause:S.cause||S}):Et.from(S,S&&S.code,p,B)}}},ADe=new Map,Hne=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let o=i.length,a=o,c,u,l=ADe;for(;a--;)c=i[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:_De(e)),l=u;return u};Hne();const J4={http:Fje,xhr:gDe,fetch:{get:Hne}};_e.forEach(J4,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TG=t=>`- ${t}`,CDe=t=>_e.isFunction(t)||t===null||t===!1;function SDe(t,e){t=_e.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let o=0;o<r;o++){n=t[o];let a;if(s=n,!CDe(n)&&(s=J4[(a=String(n)).toLowerCase()],s===void 0))throw new Et(`Unknown adapter '${a}'`);if(s&&(_e.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(TG).join(`
`):" "+TG(o[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const qne={getAdapter:SDe,adapters:J4};function kO(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Dg(null,t)}function PG(t){return kO(t),t.headers=gi.from(t.headers),t.data=BO.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),qne.getAdapter(t.adapter||VE.adapter,t)(t).then(function(n){return kO(t),n.data=BO.call(t,t.transformResponse,n),n.headers=gi.from(n.headers),n},function(n){return Mne(n)||(kO(t),n&&n.response&&(n.response.data=BO.call(t,t.transformResponse,n.response),n.response.headers=gi.from(n.response.headers))),Promise.reject(n)})}const zne="1.13.2",v6={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{v6[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const xG={};v6.transitional=function(e,r,n){function s(i,o){return"[Axios v"+zne+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new Et(s(o," has been removed"+(r?" in "+r:"")),Et.ERR_DEPRECATED);return r&&!xG[o]&&(xG[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};v6.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function IDe(t,e,r){if(typeof t!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new Et("option "+i+" must be "+c,Et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Et("Unknown option "+i,Et.ERR_BAD_OPTION)}}const YS={assertOptions:IDe,validators:v6},Ba=YS.validators;let $h=class{constructor(e){this.defaults=e||{},this.interceptors={request:new yG,response:new yG}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=op(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&YS.assertOptions(n,{silentJSONParsing:Ba.transitional(Ba.boolean),forcedJSONParsing:Ba.transitional(Ba.boolean),clarifyTimeoutError:Ba.transitional(Ba.boolean)},!1),s!=null&&(_e.isFunction(s)?r.paramsSerializer={serialize:s}:YS.assertOptions(s,{encode:Ba.function,serialize:Ba.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),YS.assertOptions(r,{baseUrl:Ba.spelling("baseURL"),withXsrfToken:Ba.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&_e.merge(i.common,i[r.method]);i&&_e.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=gi.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,d=0,f;if(!c){const p=[PG.bind(this),void 0];for(p.unshift(...a),p.push(...u),f=p.length,l=Promise.resolve(r);d<f;)l=l.then(p[d++],p[d++]);return l}f=a.length;let h=r;for(;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{l=PG.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=op(this.defaults,e);const r=Lne(e.baseURL,e.url,e.allowAbsoluteUrls);return kne(r,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){$h.prototype[e]=function(r,n){return this.request(op(n||{},{method:e,url:r,data:(n||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,a){return this.request(op(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}$h.prototype[e]=r(),$h.prototype[e+"Form"]=r(!0)});let TDe=class $ne{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new Dg(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new $ne(function(s){e=s}),cancel:e}}};function PDe(t){return function(r){return t.apply(null,r)}}function xDe(t){return _e.isObject(t)&&t.isAxiosError===!0}const QN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(QN).forEach(([t,e])=>{QN[e]=t});function Vne(t){const e=new $h(t),r=_ne($h.prototype.request,e);return _e.extend(r,$h.prototype,e,{allOwnKeys:!0}),_e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return Vne(op(t,s))},r}const un=Vne(VE);un.Axios=$h;un.CanceledError=Dg;un.CancelToken=TDe;un.isCancel=Mne;un.VERSION=zne;un.toFormData=E6;un.AxiosError=Et;un.Cancel=un.CanceledError;un.all=function(e){return Promise.all(e)};un.spread=PDe;un.isAxiosError=xDe;un.mergeConfig=op;un.AxiosHeaders=gi;un.formToJSON=t=>Dne(_e.isHTMLForm(t)?new FormData(t):t);un.getAdapter=qne.getAdapter;un.HttpStatusCode=QN;un.default=un;const{Axios:_qe,AxiosError:Aqe,CanceledError:Cqe,isCancel:Sqe,CancelToken:Iqe,VERSION:Tqe,all:Pqe,Cancel:xqe,isAxiosError:Oqe,spread:Rqe,toFormData:Nqe,AxiosHeaders:Bqe,HttpStatusCode:kqe,formToJSON:jqe,getAdapter:Dqe,mergeConfig:Mqe}=un,ODe=600*1e3,Gne=Symbol(),JS="el",RDe="is-",jf=(t,e,r,n,s)=>{let i=`${t}-${e}`;return r&&(i+=`-${r}`),n&&(i+=`__${n}`),s&&(i+=`--${s}`),i},Wne=Symbol("namespaceContextKey"),Kne=t=>{const e=t||(Hs()?kr(Wne,qt(JS)):qt(JS));return We(()=>Ie(e)||JS)},uT=(t,e)=>{const r=Kne(e);return{namespace:r,b:(m="")=>jf(r.value,t,m,"",""),e:m=>m?jf(r.value,t,"",m,""):"",m:m=>m?jf(r.value,t,"","",m):"",be:(m,y)=>m&&y?jf(r.value,t,m,y,""):"",em:(m,y)=>m&&y?jf(r.value,t,"",m,y):"",bm:(m,y)=>m&&y?jf(r.value,t,m,"",y):"",bem:(m,y,E)=>m&&y&&E?jf(r.value,t,m,y,E):"",is:(m,...y)=>{const E=y.length>=1?y[0]:!0;return m&&E?`${RDe}${m}`:""},cssVar:m=>{const y={};for(const E in m)m[E]&&(y[`--${r.value}-${E}`]=m[E]);return y},cssVarName:m=>`--${r.value}-${m}`,cssVarBlock:m=>{const y={};for(const E in m)m[E]&&(y[`--${r.value}-${t}-${E}`]=m[E]);return y},cssVarBlockName:m=>`--${r.value}-${t}-${m}`}};var NDe=typeof global=="object"&&global&&global.Object===Object&&global,BDe=typeof self=="object"&&self&&self.Object===Object&&self,Q4=NDe||BDe||Function("return this")(),xd=Q4.Symbol,Zne=Object.prototype,kDe=Zne.hasOwnProperty,jDe=Zne.toString,xb=xd?xd.toStringTag:void 0;function DDe(t){var e=kDe.call(t,xb),r=t[xb];try{t[xb]=void 0;var n=!0}catch{}var s=jDe.call(t);return n&&(e?t[xb]=r:delete t[xb]),s}var MDe=Object.prototype,UDe=MDe.toString;function LDe(t){return UDe.call(t)}var FDe="[object Null]",HDe="[object Undefined]",OG=xd?xd.toStringTag:void 0;function X4(t){return t==null?t===void 0?HDe:FDe:OG&&OG in Object(t)?DDe(t):LDe(t)}function eB(t){return t!=null&&typeof t=="object"}var qDe="[object Symbol]";function tB(t){return typeof t=="symbol"||eB(t)&&X4(t)==qDe}function zDe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var GE=Array.isArray,RG=xd?xd.prototype:void 0,NG=RG?RG.toString:void 0;function Yne(t){if(typeof t=="string")return t;if(GE(t))return zDe(t,Yne)+"";if(tB(t))return NG?NG.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function lT(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function $De(t){return t}var VDe="[object AsyncFunction]",GDe="[object Function]",WDe="[object GeneratorFunction]",KDe="[object Proxy]";function ZDe(t){if(!lT(t))return!1;var e=X4(t);return e==GDe||e==WDe||e==VDe||e==KDe}var jO=Q4["__core-js_shared__"],BG=(function(){var t=/[^.]+$/.exec(jO&&jO.keys&&jO.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function YDe(t){return!!BG&&BG in t}var JDe=Function.prototype,QDe=JDe.toString;function XDe(t){if(t!=null){try{return QDe.call(t)}catch{}try{return t+""}catch{}}return""}var eMe=/[\\^$.*+?()[\]{}|]/g,tMe=/^\[object .+?Constructor\]$/,rMe=Function.prototype,nMe=Object.prototype,sMe=rMe.toString,iMe=nMe.hasOwnProperty,oMe=RegExp("^"+sMe.call(iMe).replace(eMe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aMe(t){if(!lT(t)||YDe(t))return!1;var e=ZDe(t)?oMe:tMe;return e.test(XDe(t))}function cMe(t,e){return t==null?void 0:t[e]}function rB(t,e){var r=cMe(t,e);return aMe(r)?r:void 0}function uMe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var lMe=800,dMe=16,fMe=Date.now;function hMe(t){var e=0,r=0;return function(){var n=fMe(),s=dMe-(n-r);if(r=n,s>0){if(++e>=lMe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function pMe(t){return function(){return t}}var dT=(function(){try{var t=rB(Object,"defineProperty");return t({},"",{}),t}catch{}})(),mMe=dT?function(t,e){return dT(t,"toString",{configurable:!0,enumerable:!1,value:pMe(e),writable:!0})}:$De,gMe=hMe(mMe),yMe=9007199254740991,bMe=/^(?:0|[1-9]\d*)$/;function Jne(t,e){var r=typeof t;return e=e??yMe,!!e&&(r=="number"||r!="symbol"&&bMe.test(t))&&t>-1&&t%1==0&&t<e}function wMe(t,e,r){e=="__proto__"&&dT?dT(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Qne(t,e){return t===e||t!==t&&e!==e}var EMe=Object.prototype,vMe=EMe.hasOwnProperty;function _Me(t,e,r){var n=t[e];(!(vMe.call(t,e)&&Qne(n,r))||r===void 0&&!(e in t))&&wMe(t,e,r)}var kG=Math.max;function AMe(t,e,r){return e=kG(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,i=kG(n.length-e,0),o=Array(i);++s<i;)o[s]=n[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=n[s];return a[e]=r(o),uMe(t,this,a)}}var CMe=9007199254740991;function SMe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=CMe}var IMe="[object Arguments]";function jG(t){return eB(t)&&X4(t)==IMe}var Xne=Object.prototype,TMe=Xne.hasOwnProperty,PMe=Xne.propertyIsEnumerable,ese=jG((function(){return arguments})())?jG:function(t){return eB(t)&&TMe.call(t,"callee")&&!PMe.call(t,"callee")},xMe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OMe=/^\w*$/;function RMe(t,e){if(GE(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||tB(t)?!0:OMe.test(t)||!xMe.test(t)||e!=null&&t in Object(e)}var Pw=rB(Object,"create");function NMe(){this.__data__=Pw?Pw(null):{},this.size=0}function BMe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kMe="__lodash_hash_undefined__",jMe=Object.prototype,DMe=jMe.hasOwnProperty;function MMe(t){var e=this.__data__;if(Pw){var r=e[t];return r===kMe?void 0:r}return DMe.call(e,t)?e[t]:void 0}var UMe=Object.prototype,LMe=UMe.hasOwnProperty;function FMe(t){var e=this.__data__;return Pw?e[t]!==void 0:LMe.call(e,t)}var HMe="__lodash_hash_undefined__";function qMe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Pw&&e===void 0?HMe:e,this}function ap(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ap.prototype.clear=NMe;ap.prototype.delete=BMe;ap.prototype.get=MMe;ap.prototype.has=FMe;ap.prototype.set=qMe;function zMe(){this.__data__=[],this.size=0}function _6(t,e){for(var r=t.length;r--;)if(Qne(t[r][0],e))return r;return-1}var $Me=Array.prototype,VMe=$Me.splice;function GMe(t){var e=this.__data__,r=_6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():VMe.call(e,r,1),--this.size,!0}function WMe(t){var e=this.__data__,r=_6(e,t);return r<0?void 0:e[r][1]}function KMe(t){return _6(this.__data__,t)>-1}function ZMe(t,e){var r=this.__data__,n=_6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Mg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Mg.prototype.clear=zMe;Mg.prototype.delete=GMe;Mg.prototype.get=WMe;Mg.prototype.has=KMe;Mg.prototype.set=ZMe;var YMe=rB(Q4,"Map");function JMe(){this.size=0,this.__data__={hash:new ap,map:new(YMe||Mg),string:new ap}}function QMe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function A6(t,e){var r=t.__data__;return QMe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function XMe(t){var e=A6(this,t).delete(t);return this.size-=e?1:0,e}function eUe(t){return A6(this,t).get(t)}function tUe(t){return A6(this,t).has(t)}function rUe(t,e){var r=A6(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Rp(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rp.prototype.clear=JMe;Rp.prototype.delete=XMe;Rp.prototype.get=eUe;Rp.prototype.has=tUe;Rp.prototype.set=rUe;var nUe="Expected a function";function nB(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nUe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(nB.Cache||Rp),r}nB.Cache=Rp;var sUe=500;function iUe(t){var e=nB(t,function(n){return r.size===sUe&&r.clear(),n}),r=e.cache;return e}var oUe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aUe=/\\(\\)?/g,cUe=iUe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(oUe,function(r,n,s,i){e.push(s?i.replace(aUe,"$1"):n||r)}),e});function uUe(t){return t==null?"":Yne(t)}function C6(t,e){return GE(t)?t:RMe(t,e)?[t]:cUe(uUe(t))}function sB(t){if(typeof t=="string"||tB(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function tse(t,e){e=C6(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[sB(e[r++])];return r&&r==n?t:void 0}function lUe(t,e,r){var n=t==null?void 0:tse(t,e);return n===void 0?r:n}function dUe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var DG=xd?xd.isConcatSpreadable:void 0;function fUe(t){return GE(t)||ese(t)||!!(DG&&t&&t[DG])}function hUe(t,e,r,n,s){var i=-1,o=t.length;for(r||(r=fUe),s||(s=[]);++i<o;){var a=t[i];r(a)?dUe(s,a):s[s.length]=a}return s}function pUe(t){var e=t==null?0:t.length;return e?hUe(t):[]}function mUe(t){return gMe(AMe(t,void 0,pUe),t+"")}function gUe(t,e){return t!=null&&e in Object(t)}function yUe(t,e,r){e=C6(e,t);for(var n=-1,s=e.length,i=!1;++n<s;){var o=sB(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=s?i:(s=t==null?0:t.length,!!s&&SMe(s)&&Jne(o,s)&&(GE(t)||ese(t)))}function bUe(t,e){return t!=null&&yUe(t,e,gUe)}function rse(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var s=t[e];n[s[0]]=s[1]}return n}function wUe(t){return t==null}function EUe(t,e,r,n){if(!lT(t))return t;e=C6(e,t);for(var s=-1,i=e.length,o=i-1,a=t;a!=null&&++s<i;){var c=sB(e[s]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=o){var l=a[c];u=void 0,u===void 0&&(u=lT(l)?l:Jne(e[s+1])?[]:{})}_Me(a,c,u),a=a[c]}return t}function vUe(t,e,r){for(var n=-1,s=e.length,i={};++n<s;){var o=e[n],a=tse(t,o);r(a,o)&&EUe(i,C6(o,t),a)}return i}function _Ue(t,e){return vUe(t,e,function(r,n){return bUe(t,n)})}var AUe=mUe(function(t,e){return t==null?{}:_Ue(t,e)});const nse=t=>t===void 0,fT=t=>typeof t=="number",MG=t=>typeof Element>"u"?!1:t instanceof Element,CUe=t=>dr(t)?!Number.isNaN(Number(t)):!1;var SUe=Object.defineProperty,IUe=Object.defineProperties,TUe=Object.getOwnPropertyDescriptors,UG=Object.getOwnPropertySymbols,PUe=Object.prototype.hasOwnProperty,xUe=Object.prototype.propertyIsEnumerable,LG=(t,e,r)=>e in t?SUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OUe=(t,e)=>{for(var r in e||(e={}))PUe.call(e,r)&&LG(t,r,e[r]);if(UG)for(var r of UG(e))xUe.call(e,r)&&LG(t,r,e[r]);return t},RUe=(t,e)=>IUe(t,TUe(e));function NUe(t,e){var r;const n=H0();return TK(()=>{n.value=t()},RUe(OUe({},e),{flush:(r=void 0)!=null?r:"sync"})),y1(n)}var FG;const Kd=typeof window<"u",BUe=t=>typeof t=="string",kUe=()=>{};Kd&&((FG=window==null?void 0:window.navigator)!=null&&FG.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function iB(t){return typeof t=="function"?t():Ie(t)}function jUe(t){return t}function oB(t){return o8()?(FW(t),!0):!1}function DUe(t,e=!0){Hs()?yg(t):e?t():Yo(t)}function MUe(t,e,r={}){const{immediate:n=!0}=r,s=qt(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){s.value=!1,o()}function c(...u){o(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,t(...u)},iB(e))}return n&&(s.value=!0,Kd&&c()),oB(a),{isPending:y1(s),start:c,stop:a}}function sse(t){var e;const r=iB(t);return(e=r==null?void 0:r.$el)!=null?e:r}const ise=Kd?window:void 0;function QS(...t){let e,r,n,s;if(BUe(t[0])||Array.isArray(t[0])?([r,n,s]=t,e=ise):[e,r,n,s]=t,!e)return kUe;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(l=>l()),i.length=0},a=(l,d,f,h)=>(l.addEventListener(d,f,h),()=>l.removeEventListener(d,f,h)),c=Xi(()=>[sse(e),iB(s)],([l,d])=>{o(),l&&i.push(...r.flatMap(f=>n.map(h=>a(l,f,h,d))))},{immediate:!0,flush:"post"}),u=()=>{c(),o()};return oB(u),u}function UUe(t,e=!1){const r=qt(),n=()=>r.value=!!t();return n(),DUe(n,e),r}const HG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qG="__vueuse_ssr_handlers__";HG[qG]=HG[qG]||{};var zG=Object.getOwnPropertySymbols,LUe=Object.prototype.hasOwnProperty,FUe=Object.prototype.propertyIsEnumerable,HUe=(t,e)=>{var r={};for(var n in t)LUe.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&zG)for(var n of zG(t))e.indexOf(n)<0&&FUe.call(t,n)&&(r[n]=t[n]);return r};function qUe(t,e,r={}){const n=r,{window:s=ise}=n,i=HUe(n,["window"]);let o;const a=UUe(()=>s&&"ResizeObserver"in s),c=()=>{o&&(o.disconnect(),o=void 0)},u=Xi(()=>sse(t),d=>{c(),a.value&&s&&d&&(o=new ResizeObserver(e),o.observe(d,i))},{immediate:!0,flush:"post"}),l=()=>{c(),u()};return oB(l),{isSupported:a,stop:l}}var $G;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})($G||($G={}));var zUe=Object.defineProperty,VG=Object.getOwnPropertySymbols,$Ue=Object.prototype.hasOwnProperty,VUe=Object.prototype.propertyIsEnumerable,GG=(t,e,r)=>e in t?zUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,GUe=(t,e)=>{for(var r in e||(e={}))$Ue.call(e,r)&&GG(t,r,e[r]);if(VG)for(var r of VG(e))VUe.call(e,r)&&GG(t,r,e[r]);return t};const WUe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};GUe({linear:jUe},WUe);const WG={current:0},KG=qt(0),ose=2e3,ZG=Symbol("elZIndexContextKey"),ase=Symbol("zIndexContextKey"),KUe=t=>{const e=Hs()?kr(ZG,WG):WG,r=t||(Hs()?kr(ase,void 0):void 0),n=We(()=>{const o=Ie(r);return fT(o)?o:ose}),s=We(()=>n.value+KG.value),i=()=>(e.current++,KG.value=e.current,s.value);return!Kd&&kr(ZG),{initialZIndex:n,currentZIndex:s,nextZIndex:i}};var ZUe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value",alphaDescription:"alpha {alpha}, current color is {color}",hueLabel:"pick hue value",hueDescription:"hue {hue}, current color is {color}",svLabel:"pick saturation and brightness value",svDescription:"saturation {saturation}, brightness {brightness}, current color is {color}",predefineDescription:"select {value} as the color"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const YUe=t=>(e,r)=>JUe(e,r,Ie(t)),JUe=(t,e,r)=>lUe(r,t,t).replace(/\{(\w+)\}/g,(n,s)=>{var i;return`${(i=e==null?void 0:e[s])!=null?i:`{${s}}`}`}),QUe=t=>{const e=We(()=>Ie(t).name),r=Or(t)?t:qt(t);return{lang:e,locale:r,t:YUe(t)}},cse=Symbol("localeContextKey"),XUe=t=>{const e=t||kr(cse,qt());return QUe(We(()=>e.value||ZUe))},use="__epPropKey",Wi=t=>t,eLe=t=>ar(t)&&!!t[use],lse=(t,e)=>{if(!ar(t)||eLe(t))return t;const{values:r,required:n,default:s,type:i,validator:o}=t,c={type:i,required:!!n,validator:r||o?u=>{let l=!1,d=[];if(r&&(d=Array.from(r),er(t,"default")&&d.push(s),l||(l=d.includes(u))),o&&(l||(l=o(u))),!l&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");wae(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(u)}.`)}return l}:void 0,[use]:!0};return er(t,"default")&&(c.default=s),c},WE=t=>rse(Object.entries(t).map(([e,r])=>[e,lse(r,e)])),tLe=["","default","small","large"],rLe=lse({type:String,values:tLe,required:!1}),dse=Symbol("size"),nLe=()=>{const t=kr(dse,{});return We(()=>Ie(t.size)||"")},sLe=Symbol("emptyValuesContextKey");WE({emptyValues:Array,valueOnClear:{type:Wi([String,Number,Boolean,Function]),default:void 0,validator:t=>(t=ut(t)?t():t,dt(t)?t.every(e=>!e):!t)}});const YG=t=>Object.keys(t),hT=qt();function fse(t,e=void 0){return Hs()?kr(Gne,hT):hT}function iLe(t,e){const r=fse(),n=uT(t,We(()=>{var a;return((a=r.value)==null?void 0:a.namespace)||JS})),s=XUe(We(()=>{var a;return(a=r.value)==null?void 0:a.locale})),i=KUe(We(()=>{var a;return((a=r.value)==null?void 0:a.zIndex)||ose})),o=We(()=>{var a;return Ie(e)||((a=r.value)==null?void 0:a.size)||""});return oLe(We(()=>Ie(r)||{})),{ns:n,locale:s,zIndex:i,size:o}}const oLe=(t,e,r=!1)=>{var n;const s=!!Hs(),i=s?fse():void 0,o=(n=void 0)!=null?n:s?Kb:void 0;if(!o)return;const a=We(()=>{const c=Ie(t);return i!=null&&i.value?aLe(i.value,c):c});return o(Gne,a),o(cse,We(()=>a.value.locale)),o(Wne,We(()=>a.value.namespace)),o(ase,We(()=>a.value.zIndex)),o(dse,{size:We(()=>a.value.size||"")}),o(sLe,We(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(r||!hT.value)&&(hT.value=a.value),a},aLe=(t,e)=>{const r=[...new Set([...YG(t),...YG(e)])],n={};for(const s of r)n[s]=e[s]!==void 0?e[s]:t[s];return n},XS="update:modelValue",JG="change",DO="input";var aB=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r};function cLe(t,e="px"){if(!t)return"";if(fT(t)||CUe(t))return`${t}${e}`;if(dr(t))return t}const hse=(t,e)=>(t.install=r=>{for(const n of[t,...Object.values({})])r.component(n.name,n)},t),uLe=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),lLe=WE({size:{type:Wi([Number,String])},color:{type:String}}),dLe=Dr({name:"ElIcon",inheritAttrs:!1}),fLe=Dr({...dLe,props:lLe,setup(t){const e=t,r=uT("icon"),n=We(()=>{const{size:s,color:i}=e;return!s&&!i?{}:{fontSize:nse(s)?void 0:cLe(s),"--color":i}});return(s,i)=>(ot(),tr("i",cI({class:Ie(r).b(),style:Ie(n)},s.$attrs),[P0(s.$slots,"default")],16))}});var hLe=aB(fLe,[["__file","icon.vue"]]);const Zf=hse(hLe);/*! Element Plus Icons Vue v2.3.2 */var pLe=Dr({name:"CircleCheck",__name:"circle-check",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ft("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),mLe=pLe,gLe=Dr({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),yLe=gLe,bLe=Dr({name:"CircleClose",__name:"circle-close",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),ft("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),pse=bLe,wLe=Dr({name:"Close",__name:"close",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),ELe=wLe,vLe=Dr({name:"Hide",__name:"hide",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),ft("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),_Le=vLe,ALe=Dr({name:"InfoFilled",__name:"info-filled",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),QG=ALe,CLe=Dr({name:"Loading",__name:"loading",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),SLe=CLe,ILe=Dr({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),TLe=ILe,PLe=Dr({name:"View",__name:"view",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),xLe=PLe,OLe=Dr({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,r)=>(ot(),tr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ft("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),RLe=OLe;const d1=Wi([String,Object,Function]),XG={primary:QG,success:TLe,warning:RLe,error:yLe,info:QG},NLe={validating:SLe,success:mLe,error:pse},BLe=()=>Kd&&/firefox/i.test(window.navigator.userAgent),kLe=()=>Kd&&/android/i.test(window.navigator.userAgent);let Js;const jLe={height:"0",visibility:"hidden",overflow:BLe()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},DLe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],eW=t=>{const e=Number.parseFloat(t);return Number.isNaN(e)?t:e};function MLe(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:DLe.map(o=>[o,e.getPropertyValue(o)]),paddingSize:n,borderSize:s,boxSizing:r}}function tW(t,e=1,r){var n,s;Js||(Js=document.createElement("textarea"),((n=t.parentNode)!=null?n:document.body).appendChild(Js));const{paddingSize:i,borderSize:o,boxSizing:a,contextStyle:c}=MLe(t);c.forEach(([f,h])=>Js==null?void 0:Js.style.setProperty(f,h)),Object.entries(jLe).forEach(([f,h])=>Js==null?void 0:Js.style.setProperty(f,h,"important")),Js.value=t.value||t.placeholder||"";let u=Js.scrollHeight;const l={};a==="border-box"?u=u+o:a==="content-box"&&(u=u-i),Js.value="";const d=Js.scrollHeight-i;if(fT(e)){let f=d*e;a==="border-box"&&(f=f+i+o),u=Math.max(f,u),l.minHeight=`${f}px`}if(fT(r)){let f=d*r;a==="border-box"&&(f=f+i+o),u=Math.min(f,u)}return l.height=`${u}px`,(s=Js.parentNode)==null||s.removeChild(Js),Js=void 0,l}const ULe=t=>t,LLe=WE({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),FLe=t=>AUe(LLe,t),HLe=WE({id:{type:String,default:void 0},size:rLe,disabled:Boolean,modelValue:{type:Wi([String,Number,Object]),default:""},modelModifiers:{type:Wi(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:Wi(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Wi([Boolean,Object]),default:!1},autocomplete:{type:Wi(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:d1,default:pse},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:d1},prefixIcon:{type:d1},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Wi([Object,Array,String]),default:()=>ULe({})},autofocus:Boolean,rows:{type:Number,default:2},...FLe(["ariaLabel"]),inputmode:{type:Wi(String),default:void 0},name:String}),qLe={[XS]:t=>dr(t),input:t=>dr(t),change:t=>dr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},zLe=["class","style"],$Le=/^on[A-Z]/,VLe=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=We(()=>((r==null?void 0:r.value)||[]).concat(zLe)),s=Hs();return We(s?()=>{var i;return rse(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&$Le.test(o))))}:()=>({}))},rW={prefix:Math.floor(Math.random()*1e4),current:0},GLe=Symbol("elIdInjection"),WLe=()=>Hs()?kr(GLe,rW):rW,KLe=t=>{const e=WLe(),r=Kne();return NUe(()=>Ie(t)||`${r.value}-id-${e.prefix}-${e.current++}`)},cB=Symbol("formContextKey"),mse=Symbol("formItemContextKey"),ZLe=()=>{const t=kr(cB,void 0),e=kr(mse,void 0);return{form:t,formItem:e}},YLe=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=qt(!1)),n||(n=qt(!1));const s=Hs(),i=()=>{let u=s==null?void 0:s.parent;for(;u;){if(u.type.name==="ElFormItem")return!1;if(u.type.name==="ElLabelWrap")return!0;u=u.parent}return!1},o=qt();let a;const c=We(()=>{var u;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((u=e.inputIds)==null?void 0:u.length)<=1)});return yg(()=>{a=Xi([p8(t,"id"),r],([u,l])=>{const d=u??(l?void 0:KLe().value);d!==o.value&&(e!=null&&e.removeInputId&&!i()&&(o.value&&e.removeInputId(o.value),!(n!=null&&n.value)&&!l&&d&&e.addInputId(d)),o.value=d)},{immediate:!0})}),jT(()=>{a&&a(),e!=null&&e.removeInputId&&o.value&&e.removeInputId(o.value)}),{isLabeledByFormItem:c,inputId:o}},gse=t=>{const e=Hs();return We(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})},JLe=(t,e={})=>{const r=qt(void 0),n=e.prop?r:gse("size"),s=e.global?r:nLe(),i=e.form?{size:void 0}:kr(cB,void 0),o=e.formItem?{size:void 0}:kr(mse,void 0);return We(()=>n.value||Ie(t)||(o==null?void 0:o.size)||(i==null?void 0:i.size)||s.value||"")},QLe=t=>{const e=gse("disabled"),r=kr(cB,void 0);return We(()=>e.value||Ie(t)||(r==null?void 0:r.disabled)||!1)},XLe=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}};function e9e(t,{disabled:e,beforeFocus:r,afterFocus:n,beforeBlur:s,afterBlur:i}={}){const o=Hs(),{emit:a}=o,c=H0(),u=qt(!1),l=h=>{const p=ut(r)?r(h):!1;Ie(e)||u.value||p||(u.value=!0,a("focus",h),n==null||n())},d=h=>{var p;const m=ut(s)?s(h):!1;Ie(e)||h.relatedTarget&&((p=c.value)!=null&&p.contains(h.relatedTarget))||m||(u.value=!1,a("blur",h),i==null||i())},f=h=>{var p,m;Ie(e)||XLe(h.target)||(p=c.value)!=null&&p.contains(document.activeElement)&&c.value!==document.activeElement||(m=t.value)==null||m.focus()};return Xi([c,()=>Ie(e)],([h,p])=>{h&&(p?h.removeAttribute("tabindex"):h.setAttribute("tabindex","-1"))}),QS(c,"focus",l,!0),QS(c,"blur",d,!0),QS(c,"click",f,!0),{isFocused:u,wrapperRef:c,handleFocus:l,handleBlur:d}}const t9e=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function r9e({afterComposition:t,emit:e}){const r=qt(!1),n=a=>{e==null||e("compositionstart",a),r.value=!0},s=a=>{var c;e==null||e("compositionupdate",a);const u=(c=a.target)==null?void 0:c.value,l=u[u.length-1]||"";r.value=!t9e(l)},i=a=>{e==null||e("compositionend",a),r.value&&(r.value=!1,Yo(()=>t(a)))};return{isComposing:r,handleComposition:a=>{a.type==="compositionend"?i(a):s(a)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:i}}function n9e(t){let e;function r(){if(t.value==null)return;const{selectionStart:s,selectionEnd:i,value:o}=t.value;if(s==null||i==null)return;const a=o.slice(0,Math.max(0,s)),c=o.slice(Math.max(0,i));e={selectionStart:s,selectionEnd:i,value:o,beforeTxt:a,afterTxt:c}}function n(){if(t.value==null||e==null)return;const{value:s}=t.value,{beforeTxt:i,afterTxt:o,selectionStart:a}=e;if(i==null||o==null||a==null)return;let c=s.length;if(s.endsWith(o))c=s.length-o.length;else if(s.startsWith(i))c=i.length;else{const u=i[a-1],l=s.indexOf(u,a-1);l!==-1&&(c=l+1)}t.value.setSelectionRange(c,c)}return[r,n]}const s9e="ElInput",i9e=Dr({name:s9e,inheritAttrs:!1}),o9e=Dr({...i9e,props:HLe,emits:qLe,setup(t,{expose:e,emit:r}){const n=t,s=Ooe(),i=VLe(),o=xoe(),a=We(()=>[n.type==="textarea"?m.b():p.b(),p.m(f.value),p.is("disabled",h.value),p.is("exceed",j.value),{[p.b("group")]:o.prepend||o.append,[p.m("prefix")]:o.prefix||n.prefixIcon,[p.m("suffix")]:o.suffix||n.suffixIcon||n.clearable||n.showPassword,[p.bm("suffix","password-clear")]:R.value&&O.value,[p.b("hidden")]:n.type==="hidden"},s.class]),c=We(()=>[p.e("wrapper"),p.is("focus",x.value)]),{form:u,formItem:l}=ZLe(),{inputId:d}=YLe(n,{formItemContext:l}),f=JLe(),h=QLe(),p=uT("input"),m=uT("textarea"),y=H0(),E=H0(),w=qt(!1),b=qt(!1),g=qt(),v=H0(n.inputStyle),A=We(()=>y.value||E.value),{wrapperRef:C,isFocused:x,handleFocus:T,handleBlur:N}=e9e(A,{disabled:h,afterBlur(){var oe;n.validateEvent&&((oe=l==null?void 0:l.validate)==null||oe.call(l,"blur").catch($=>void 0))}}),M=We(()=>{var oe;return(oe=u==null?void 0:u.statusIcon)!=null?oe:!1}),k=We(()=>(l==null?void 0:l.validateState)||""),B=We(()=>k.value&&NLe[k.value]),U=We(()=>b.value?xLe:_Le),I=We(()=>[s.style]),S=We(()=>[n.inputStyle,v.value,{resize:n.resize}]),_=We(()=>wUe(n.modelValue)?"":String(n.modelValue)),R=We(()=>n.clearable&&!h.value&&!n.readonly&&!!_.value&&(x.value||w.value)),O=We(()=>n.showPassword&&!h.value&&!!_.value),P=We(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!h.value&&!n.readonly&&!n.showPassword),D=We(()=>_.value.length),j=We(()=>!!P.value&&D.value>Number(n.maxlength)),F=We(()=>!!o.suffix||!!n.suffixIcon||R.value||n.showPassword||P.value||!!k.value&&M.value),q=We(()=>!!Object.keys(n.modelModifiers).length),[z,W]=n9e(y);qUe(E,oe=>{if(Q(),!P.value||n.resize!=="both")return;const $=oe[0],{width:L}=$.contentRect;g.value={right:`calc(100% - ${L+15+6}px)`}});const K=()=>{const{type:oe,autosize:$}=n;if(!(!Kd||oe!=="textarea"||!E.value))if($){const L=ar($)?$.minRows:void 0,H=ar($)?$.maxRows:void 0,ee=tW(E.value,L,H);v.value={overflowY:"hidden",...ee},Yo(()=>{E.value.offsetHeight,v.value=ee})}else v.value={minHeight:tW(E.value).minHeight}},Q=(oe=>{let $=!1;return()=>{var L;if($||!n.autosize)return;((L=E.value)==null?void 0:L.offsetParent)===null||(setTimeout(oe),$=!0)}})(K),X=()=>{const oe=A.value,$=n.formatter?n.formatter(_.value):_.value;!oe||oe.value===$||(oe.value=$)},ie=oe=>{const{trim:$,number:L}=n.modelModifiers;return $&&(oe=oe.trim()),L&&(oe=`${eW(oe)}`),n.formatter&&n.parser&&(oe=n.parser(oe)),oe},Y=async oe=>{if(Z.value)return;const{lazy:$}=n.modelModifiers;let{value:L}=oe.target;if($){r(DO,L);return}if(L=ie(L),String(L)===_.value){n.formatter&&X();return}z(),r(XS,L),r(DO,L),await Yo(),(n.formatter&&n.parser||!q.value)&&X(),W()},V=async oe=>{let{value:$}=oe.target;$=ie($),n.modelModifiers.lazy&&r(XS,$),r(JG,$),await Yo(),X()},{isComposing:Z,handleCompositionStart:ne,handleCompositionUpdate:ue,handleCompositionEnd:ce}=r9e({emit:r,afterComposition:Y}),ge=()=>{b.value=!b.value},we=()=>{var oe;return(oe=A.value)==null?void 0:oe.focus()},me=()=>{var oe;return(oe=A.value)==null?void 0:oe.blur()},ae=oe=>{w.value=!1,r("mouseleave",oe)},Oe=oe=>{w.value=!0,r("mouseenter",oe)},Se=oe=>{r("keydown",oe)},Be=()=>{var oe;(oe=A.value)==null||oe.select()},de=()=>{r(XS,""),r(JG,""),r("clear"),r(DO,"")};return Xi(()=>n.modelValue,()=>{var oe;Yo(()=>K()),n.validateEvent&&((oe=l==null?void 0:l.validate)==null||oe.call(l,"change").catch($=>void 0))}),Xi(_,oe=>{if(!A.value)return;const{trim:$,number:L}=n.modelModifiers,H=A.value.value,ee=(L||n.type==="number")&&!/^0\d/.test(H)?`${eW(H)}`:H;ee!==oe&&(document.activeElement===A.value&&A.value.type!=="range"&&$&&ee.trim()===oe||X())}),Xi(()=>n.type,async()=>{await Yo(),X(),K()}),yg(()=>{!n.formatter&&n.parser,X(),Yo(K)}),e({input:y,textarea:E,ref:A,textareaStyle:S,autosize:p8(n,"autosize"),isComposing:Z,focus:we,blur:me,select:Be,clear:de,resizeTextarea:K}),(oe,$)=>(ot(),tr("div",{class:Pr([Ie(a),{[Ie(p).bm("group","append")]:oe.$slots.append,[Ie(p).bm("group","prepend")]:oe.$slots.prepend}]),style:Vh(Ie(I)),onMouseenter:Oe,onMouseleave:ae},[nn(" input "),oe.type!=="textarea"?(ot(),tr(Rn,{key:0},[nn(" prepend slot "),oe.$slots.prepend?(ot(),tr("div",{key:0,class:Pr(Ie(p).be("group","prepend"))},[P0(oe.$slots,"prepend")],2)):nn("v-if",!0),ft("div",{ref_key:"wrapperRef",ref:C,class:Pr(Ie(c))},[nn(" prefix slot "),oe.$slots.prefix||oe.prefixIcon?(ot(),tr("span",{key:0,class:Pr(Ie(p).e("prefix"))},[ft("span",{class:Pr(Ie(p).e("prefix-inner"))},[P0(oe.$slots,"prefix"),oe.prefixIcon?(ot(),fn(Ie(Zf),{key:0,class:Pr(Ie(p).e("icon"))},{default:Ja(()=>[(ot(),fn(Hf(oe.prefixIcon)))]),_:1},8,["class"])):nn("v-if",!0)],2)],2)):nn("v-if",!0),ft("input",cI({id:Ie(d),ref_key:"input",ref:y,class:Ie(p).e("inner")},Ie(i),{name:oe.name,minlength:oe.minlength,maxlength:oe.maxlength,type:oe.showPassword?b.value?"text":"password":oe.type,disabled:Ie(h),readonly:oe.readonly,autocomplete:oe.autocomplete,tabindex:oe.tabindex,"aria-label":oe.ariaLabel,placeholder:oe.placeholder,style:oe.inputStyle,form:oe.form,autofocus:oe.autofocus,role:oe.containerRole,inputmode:oe.inputmode,onCompositionstart:Ie(ne),onCompositionupdate:Ie(ue),onCompositionend:Ie(ce),onInput:Y,onChange:V,onKeydown:Se}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),nn(" suffix slot "),Ie(F)?(ot(),tr("span",{key:1,class:Pr(Ie(p).e("suffix"))},[ft("span",{class:Pr(Ie(p).e("suffix-inner"))},[!Ie(R)||!Ie(O)||!Ie(P)?(ot(),tr(Rn,{key:0},[P0(oe.$slots,"suffix"),oe.suffixIcon?(ot(),fn(Ie(Zf),{key:0,class:Pr(Ie(p).e("icon"))},{default:Ja(()=>[(ot(),fn(Hf(oe.suffixIcon)))]),_:1},8,["class"])):nn("v-if",!0)],64)):nn("v-if",!0),Ie(R)?(ot(),fn(Ie(Zf),{key:1,class:Pr([Ie(p).e("icon"),Ie(p).e("clear")]),onMousedown:_S(Ie(hi),["prevent"]),onClick:de},{default:Ja(()=>[(ot(),fn(Hf(oe.clearIcon)))]),_:1},8,["class","onMousedown"])):nn("v-if",!0),Ie(O)?(ot(),fn(Ie(Zf),{key:2,class:Pr([Ie(p).e("icon"),Ie(p).e("password")]),onClick:ge,onMousedown:_S(Ie(hi),["prevent"]),onMouseup:_S(Ie(hi),["prevent"])},{default:Ja(()=>[(ot(),fn(Hf(Ie(U))))]),_:1},8,["class","onMousedown","onMouseup"])):nn("v-if",!0),Ie(P)?(ot(),tr("span",{key:3,class:Pr([Ie(p).e("count"),Ie(p).is("outside",oe.wordLimitPosition==="outside")])},[ft("span",{class:Pr(Ie(p).e("count-inner"))},Cu(Ie(D))+" / "+Cu(oe.maxlength),3)],2)):nn("v-if",!0),Ie(k)&&Ie(B)&&Ie(M)?(ot(),fn(Ie(Zf),{key:4,class:Pr([Ie(p).e("icon"),Ie(p).e("validateIcon"),Ie(p).is("loading",Ie(k)==="validating")])},{default:Ja(()=>[(ot(),fn(Hf(Ie(B))))]),_:1},8,["class"])):nn("v-if",!0)],2)],2)):nn("v-if",!0)],2),nn(" append slot "),oe.$slots.append?(ot(),tr("div",{key:1,class:Pr(Ie(p).be("group","append"))},[P0(oe.$slots,"append")],2)):nn("v-if",!0)],64)):(ot(),tr(Rn,{key:1},[nn(" textarea "),ft("textarea",cI({id:Ie(d),ref_key:"textarea",ref:E,class:[Ie(m).e("inner"),Ie(p).is("focus",Ie(x))]},Ie(i),{name:oe.name,minlength:oe.minlength,maxlength:oe.maxlength,tabindex:oe.tabindex,disabled:Ie(h),readonly:oe.readonly,autocomplete:oe.autocomplete,style:Ie(S),"aria-label":oe.ariaLabel,placeholder:oe.placeholder,form:oe.form,autofocus:oe.autofocus,rows:oe.rows,role:oe.containerRole,onCompositionstart:Ie(ne),onCompositionupdate:Ie(ue),onCompositionend:Ie(ce),onInput:Y,onFocus:Ie(T),onBlur:Ie(N),onChange:V,onKeydown:Se}),null,16,["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),Ie(P)?(ot(),tr("span",{key:0,style:Vh(g.value),class:Pr([Ie(p).e("count"),Ie(p).is("outside",oe.wordLimitPosition==="outside")])},Cu(Ie(D))+" / "+Cu(oe.maxlength),7)):nn("v-if",!0)],64))],38))}});var a9e=aB(o9e,[["__file","input.vue"]]);const c9e=hse(a9e),f1={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},u9e=t=>{if(t.code&&t.code!=="Unidentified")return t.code;const e=l9e(t);if(e){if(Object.values(f1).includes(e))return e;switch(e){case" ":return f1.space;default:return""}}return""},l9e=t=>{let e=t.key&&t.key!=="Unidentified"?t.key:"";if(!e&&t.type==="keyup"&&kLe()){const r=t.target;e=r.value.charAt(r.selectionStart-1)}return e},yse=["primary","success","info","warning","error"],d9e=WE({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:d1},id:{type:String,default:""},message:{type:Wi([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Wi(Function),default:()=>{}},onClose:{type:Wi(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...yse,""],default:""},zIndex:Number,closeIcon:{type:d1,default:ELe}}),f9e={destroy:()=>!0},h9e=Dr({name:"ElNotification"}),p9e=Dr({...h9e,props:d9e,emits:f9e,setup(t,{expose:e}){const r=t,{ns:n,zIndex:s}=iLe("notification"),{nextZIndex:i,currentZIndex:o}=s,a=qt(!1);let c;const u=We(()=>{const w=r.type;return w&&XG[r.type]?n.m(w):""}),l=We(()=>r.type&&XG[r.type]||r.icon),d=We(()=>r.position.endsWith("right")?"right":"left"),f=We(()=>r.position.startsWith("top")?"top":"bottom"),h=We(()=>{var w;return{[f.value]:`${r.offset}px`,zIndex:(w=r.zIndex)!=null?w:o.value}});function p(){r.duration>0&&({stop:c}=MUe(()=>{a.value&&y()},r.duration))}function m(){c==null||c()}function y(){a.value=!1}function E(w){switch(u9e(w)){case f1.delete:case f1.backspace:m();break;case f1.esc:a.value&&y();break;default:p();break}}return yg(()=>{p(),i(),a.value=!0}),QS(document,"keydown",E),e({visible:a,close:y}),(w,b)=>(ot(),fn(KK,{name:Ie(n).b("fade"),onBeforeLeave:w.onClose,onAfterLeave:g=>w.$emit("destroy"),persisted:""},{default:Ja(()=>[sI(ft("div",{id:w.id,class:Pr([Ie(n).b(),w.customClass,Ie(d)]),style:Vh(Ie(h)),role:"alert",onMouseenter:m,onMouseleave:p,onClick:w.onClick},[Ie(l)?(ot(),fn(Ie(Zf),{key:0,class:Pr([Ie(n).e("icon"),Ie(u)])},{default:Ja(()=>[(ot(),fn(Hf(Ie(l))))]),_:1},8,["class"])):nn("v-if",!0),ft("div",{class:Pr(Ie(n).e("group"))},[ft("h2",{class:Pr(Ie(n).e("title")),textContent:Cu(w.title)},null,10,["textContent"]),sI(ft("div",{class:Pr(Ie(n).e("content")),style:Vh(w.title?void 0:{margin:0})},[P0(w.$slots,"default",{},()=>[w.dangerouslyUseHTMLString?(ot(),tr(Rn,{key:1},[nn(" Caution here, message could've been compromised, never use user's input as message "),ft("p",{innerHTML:w.message},null,8,["innerHTML"])],2112)):(ot(),tr("p",{key:0},Cu(w.message),1))])],6),[[dI,w.message]]),w.showClose?(ot(),fn(Ie(Zf),{key:0,class:Pr(Ie(n).e("closeBtn")),onClick:_S(y,["stop"])},{default:Ja(()=>[(ot(),fn(Hf(w.closeIcon)))]),_:1},8,["class","onClick"])):nn("v-if",!0)],2)],46,["id","onClick"]),[[dI,a.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var m9e=aB(p9e,[["__file","notification.vue"]]);const pg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},pT=16;let g9e=1;const cp=function(t={},e){if(!Kd)return{close:()=>{}};(dr(t)||hd(t))&&(t={message:t});const r=t.position||"top-right";let n=t.offset||0;pg[r].forEach(({vm:l})=>{var d;n+=(((d=l.el)==null?void 0:d.offsetHeight)||0)+pT}),n+=pT;const s=`notification_${g9e++}`,i=t.onClose,o={...t,offset:n,id:s,onClose:()=>{y9e(s,r,i)}};let a=document.body;MG(t.appendTo)?a=t.appendTo:dr(t.appendTo)&&(a=document.querySelector(t.appendTo)),MG(a)||(a=document.body);const c=document.createElement("div"),u=Xr(m9e,o,ut(o.message)?o.message:hd(o.message)?()=>o.message:null);return u.appContext=nse(e)?cp._context:e,u.props.onDestroy=()=>{lk(null,c)},lk(u,c),pg[r].push({vm:u}),a.appendChild(c.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};yse.forEach(t=>{cp[t]=(e={},r)=>((dr(e)||hd(e))&&(e={message:e}),cp({...e,type:t},r))});function y9e(t,e,r){const n=pg[e],s=n.findIndex(({vm:u})=>{var l;return((l=u.component)==null?void 0:l.props.id)===t});if(s===-1)return;const{vm:i}=n[s];if(!i)return;r==null||r(i);const o=i.el.offsetHeight,a=e.split("-")[0];n.splice(s,1);const c=n.length;if(!(c<1))for(let u=s;u<c;u++){const{el:l,component:d}=n[u].vm,f=Number.parseInt(l.style[a],10)-o-pT;d.props.offset=f}}function b9e(){for(const t of Object.values(pg))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}function w9e(t="top-right"){var e,r,n,s;let i=((n=(r=(e=pg[t][0])==null?void 0:e.vm.component)==null?void 0:r.props)==null?void 0:n.offset)||0;for(const{vm:o}of pg[t])o.component.props.offset=i,i+=(((s=o.el)==null?void 0:s.offsetHeight)||0)+pT}cp.closeAll=b9e;cp.updateOffsets=w9e;cp._context=null;const E9e=uLe(cp,"$notify"),uB=un.create({baseURL:"https://ai-test.alchemytech.cc",timeout:ODe,headers:{"Content-Type":"application/json"}});uB.interceptors.request.use(async function(t){return t},function(t){return Promise.reject(t)});uB.interceptors.response.use(function(t){const{return_code:e,return_message:r}=t.data;return t},function(t){return console.log(t),location.hostname==="localhost"&&E9e({title:t.code,dangerouslyUseHTMLString:!0,message:`<p>${t.message}</p>
      <p>${t.config.url}</p>
      `,type:"error"}),console.error(t),Promise.reject(t)});async function lB({url:t,params:e}){try{return(await uB.get(t,{params:e})).data}catch(r){throw r}}const v9e={},_9e={ragStreamChat:"/rag/streamChat",testStart:"/test/start",getUserResource:"/vnc/resource/getUserResource",checkSignSecret:"/vnc/resource/checkSignSecret",stop:"/stop",ws_chat:"/chat",genJobId:"/api/v1/jobs/genJobId",labelConfigs:"/api/v1/labelConfigs/search",jobs:"/api/v1/jobs/search",jobRecords:"/api/v1/jobRecords/search",jobShowSelected:"/api/v1/jobShowSelected/search",jobDelete:"/api/v1/job/delete",giftCardCreate:"/api/v1/giftcard/create"},dB={...v9e,..._9e};function A9e(t){return lB({url:dB.ragStreamChat,params:t})}function C9e(t){return lB({url:dB.stop,params:t})}function S9e(t){return lB({url:dB.genJobId,params:t})}async function I9e(t){try{const e=Op(),r={memoryId:e.Address,network:e.ChainId},n=await C9e(r);n!=null&&n.success}catch{}}async function T9e({message:t,chatId:e}){try{const r=Op();return await A9e({memoryId:r.Address+"_"+e+"_"+r.ChainId,message:encodeURIComponent(t)})}catch{return""}}async function P9e(){try{const t=Op(),e=await S9e({memoryId:t.Address});return console.log(e),e}catch{}}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const T0=typeof document<"u";function bse(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function x9e(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&bse(t.default)}const ur=Object.assign;function MO(t,e){const r={};for(const n in e){const s=e[n];r[n]=ha(s)?s.map(t):t(s)}return r}const h1=()=>{},ha=Array.isArray;function nW(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const wse=/#/g,O9e=/&/g,R9e=/\//g,N9e=/=/g,B9e=/\?/g,Ese=/\+/g,k9e=/%5B/g,j9e=/%5D/g,vse=/%5E/g,D9e=/%60/g,_se=/%7B/g,M9e=/%7C/g,Ase=/%7D/g,U9e=/%20/g;function fB(t){return t==null?"":encodeURI(""+t).replace(M9e,"|").replace(k9e,"[").replace(j9e,"]")}function L9e(t){return fB(t).replace(_se,"{").replace(Ase,"}").replace(vse,"^")}function XN(t){return fB(t).replace(Ese,"%2B").replace(U9e,"+").replace(wse,"%23").replace(O9e,"%26").replace(D9e,"`").replace(_se,"{").replace(Ase,"}").replace(vse,"^")}function F9e(t){return XN(t).replace(N9e,"%3D")}function H9e(t){return fB(t).replace(wse,"%23").replace(B9e,"%3F")}function q9e(t){return H9e(t).replace(R9e,"%2F")}function xw(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const z9e=/\/$/,$9e=t=>t.replace(z9e,"");function UO(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return c=a>=0&&c>a?-1:c,c>=0&&(n=e.slice(0,c),i=e.slice(c,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=K9e(n??e,r),{fullPath:n+i+o,path:n,query:s,hash:xw(o)}}function V9e(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function sW(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function G9e(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&mg(e.matched[n],r.matched[s])&&Cse(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function mg(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Cse(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!W9e(t[r],e[r]))return!1;return!0}function W9e(t,e){return ha(t)?iW(t,e):ha(e)?iW(e,t):t===e}function iW(t,e){return ha(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function K9e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Cl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let e8=(function(t){return t.pop="pop",t.push="push",t})({}),LO=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function Z9e(t){if(!t)if(T0){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),$9e(t)}const Y9e=/^[^#]+#/;function J9e(t,e){return t.replace(Y9e,"#")+e}function Q9e(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const S6=()=>({left:window.scrollX,top:window.scrollY});function X9e(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=Q9e(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function oW(t,e){return(history.state?history.state.position-e:-1)+t}const t8=new Map;function eFe(t,e){t8.set(t,e)}function tFe(t){const e=t8.get(t);return t8.delete(t),e}function rFe(t){return typeof t=="string"||t&&typeof t=="object"}function Sse(t){return typeof t=="string"||typeof t=="symbol"}let Jr=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Ise=Symbol("");Jr.MATCHER_NOT_FOUND+"",Jr.NAVIGATION_GUARD_REDIRECT+"",Jr.NAVIGATION_ABORTED+"",Jr.NAVIGATION_CANCELLED+"",Jr.NAVIGATION_DUPLICATED+"";function gg(t,e){return ur(new Error,{type:t,[Ise]:!0},e)}function Zc(t,e){return t instanceof Error&&Ise in t&&(e==null||!!(t.type&e))}const nFe=["params","query","hash"];function sFe(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of nFe)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function iFe(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(Ese," "),i=s.indexOf("="),o=xw(i<0?s:s.slice(0,i)),a=i<0?null:xw(s.slice(i+1));if(o in e){let c=e[o];ha(c)||(c=e[o]=[c]),c.push(a)}else e[o]=a}return e}function aW(t){let e="";for(let r in t){const n=t[r];if(r=F9e(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(ha(n)?n.map(s=>s&&XN(s)):[n&&XN(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function oFe(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=ha(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const aFe=Symbol(""),cW=Symbol(""),I6=Symbol(""),hB=Symbol(""),r8=Symbol("");function Ob(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Bl(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const u=f=>{f===!1?c(gg(Jr.NAVIGATION_ABORTED,{from:r,to:e})):f instanceof Error?c(f):rFe(f)?c(gg(Jr.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&n.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},l=i(()=>t.call(n&&n.instances[s],e,r,u));let d=Promise.resolve(l);t.length<3&&(d=d.then(u)),d.catch(f=>c(f))})}function FO(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(bse(c)){const u=(c.__vccOpts||c)[e];u&&i.push(Bl(u,r,n,o,a,s))}else{let u=c();i.push(()=>u.then(l=>{if(!l)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=x9e(l)?l.default:l;o.mods[a]=l,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Bl(f,r,n,o,a,s)()}))}}return i}function cFe(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>mg(u,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(u=>mg(u,c))||s.push(c))}return[r,n,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let uFe=()=>location.protocol+"//"+location.host;function Tse(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),sW(a,"")}return sW(r,t)+n+s}function lFe(t,e,r,n){let s=[],i=[],o=null;const a=({state:f})=>{const h=Tse(t,location),p=r.value,m=e.value;let y=0;if(f){if(r.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else n(h);s.forEach(E=>{E(r.value,p,{delta:y,type:e8.pop,direction:y?y>0?LO.forward:LO.back:LO.unknown})})};function c(){o=r.value}function u(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(h),h}function l(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(ur({},f.state,{scroll:S6()}),"")}}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",l),document.removeEventListener("visibilitychange",l)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",l),document.addEventListener("visibilitychange",l),{pauseListeners:c,listen:u,destroy:d}}function uW(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?S6():null}}function dFe(t){const{history:e,location:r}=window,n={value:Tse(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,u,l){const d=t.indexOf("#"),f=d>-1?(r.host&&document.querySelector("base")?t:t.slice(d))+c:uFe()+t+c;try{e[l?"replaceState":"pushState"](u,"",f),s.value=u}catch(h){console.error(h),r[l?"replace":"assign"](f)}}function o(c,u){i(c,ur({},e.state,uW(s.value.back,c,s.value.forward,!0),u,{position:s.value.position}),!0),n.value=c}function a(c,u){const l=ur({},s.value,e.state,{forward:c,scroll:S6()});i(l.current,l,!0),i(c,ur({},uW(n.value,c,null),{position:l.position+1},u),!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function fFe(t){t=Z9e(t);const e=dFe(t),r=lFe(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ur({location:"",base:t,go:n,createHref:J9e.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function hFe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),fFe(t)}let hh=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var wn=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(wn||{});const pFe={type:hh.Static,value:""},mFe=/[a-zA-Z0-9_]/;function gFe(t){if(!t)return[[]];if(t==="/")return[[pFe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=wn.Static,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,u="",l="";function d(){u&&(r===wn.Static?i.push({type:hh.Static,value:u}):r===wn.Param||r===wn.ParamRegExp||r===wn.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:hh.Param,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==wn.ParamRegExp){n=r,r=wn.EscapeNext;continue}switch(r){case wn.Static:c==="/"?(u&&d(),o()):c===":"?(d(),r=wn.Param):f();break;case wn.EscapeNext:f(),r=n;break;case wn.Param:c==="("?r=wn.ParamRegExp:mFe.test(c)?f():(d(),r=wn.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case wn.ParamRegExp:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:r=wn.ParamRegExpEnd:l+=c;break;case wn.ParamRegExpEnd:d(),r=wn.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return r===wn.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const lW="[^/]+?",yFe={sensitive:!1,strict:!1,start:!0,end:!0};var Os=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Os||{});const bFe=/[.+*?^${}()[\]/\\]/g;function wFe(t,e){const r=ur({},yFe,e),n=[];let s=r.start?"^":"";const i=[];for(const u of t){const l=u.length?[]:[Os.Root];r.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=Os.Segment+(r.sensitive?Os.BonusCaseSensitive:0);if(f.type===hh.Static)d||(s+="/"),s+=f.value.replace(bFe,"\\$&"),h+=Os.Static;else if(f.type===hh.Param){const{value:p,repeatable:m,optional:y,regexp:E}=f;i.push({name:p,repeatable:m,optional:y});const w=E||lW;if(w!==lW){h+=Os.BonusCustomRegExp;try{`${w}`}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${w}): `+g.message)}}let b=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(b=y&&u.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),s+=b,h+=Os.Dynamic,y&&(h+=Os.BonusOptional),m&&(h+=Os.BonusRepeatable),w===".*"&&(h+=Os.BonusWildcard)}l.push(h)}n.push(l)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=Os.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(u){const l=u.match(o),d={};if(!l)return null;for(let f=1;f<l.length;f++){const h=l[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function c(u){let l="",d=!1;for(const f of t){(!d||!l.endsWith("/"))&&(l+="/"),d=!1;for(const h of f)if(h.type===hh.Static)l+=h.value;else if(h.type===hh.Param){const{value:p,repeatable:m,optional:y}=h,E=p in u?u[p]:"";if(ha(E)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const w=ha(E)?E.join("/"):E;if(!w)if(y)f.length<2&&(l.endsWith("/")?l=l.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);l+=w}}return l||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function EFe(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===Os.Static+Os.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Os.Static+Os.Segment?1:-1:0}function Pse(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=EFe(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(dW(n))return 1;if(dW(s))return-1}return s.length-n.length}function dW(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vFe={strict:!1,end:!0,sensitive:!1};function _Fe(t,e,r){const n=wFe(gFe(t.path),r),s=ur(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function AFe(t,e){const r=[],n=new Map;e=nW(vFe,e);function s(d){return n.get(d)}function i(d,f,h){const p=!h,m=hW(d);m.aliasOf=h&&h.record;const y=nW(e,d),E=[m];if("alias"in d){const g=typeof d.alias=="string"?[d.alias]:d.alias;for(const v of g)E.push(hW(ur({},m,{components:h?h.record.components:m.components,path:v,aliasOf:h?h.record:m})))}let w,b;for(const g of E){const{path:v}=g;if(f&&v[0]!=="/"){const A=f.record.path,C=A[A.length-1]==="/"?"":"/";g.path=f.record.path+(v&&C+v)}if(w=_Fe(g,f,y),h?h.alias.push(w):(b=b||w,b!==w&&b.alias.push(w),p&&d.name&&!pW(w)&&o(d.name)),xse(w)&&c(w),m.children){const A=m.children;for(let C=0;C<A.length;C++)i(A[C],w,h&&h.children[C])}h=h||w}return b?()=>{o(b)}:h1}function o(d){if(Sse(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function c(d){const f=IFe(d,r);r.splice(f,0,d),d.record.name&&!pW(d)&&n.set(d.record.name,d)}function u(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw gg(Jr.MATCHER_NOT_FOUND,{location:d});y=h.record.name,p=ur(fW(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&fW(d.params,h.keys.map(b=>b.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=r.find(b=>b.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?n.get(f.name):r.find(b=>b.re.test(f.path)),!h)throw gg(Jr.MATCHER_NOT_FOUND,{location:d,currentLocation:f});y=h.record.name,p=ur({},f.params,d.params),m=h.stringify(p)}const E=[];let w=h;for(;w;)E.unshift(w.record),w=w.parent;return{name:y,path:m,params:p,matched:E,meta:SFe(E)}}t.forEach(d=>i(d));function l(){r.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:l,getRoutes:a,getRecordMatcher:s}}function fW(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function hW(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:CFe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function CFe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function pW(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function SFe(t){return t.reduce((e,r)=>ur(e,r.meta),{})}function IFe(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;Pse(t,e[i])<0?n=i:r=i+1}const s=TFe(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function TFe(t){let e=t;for(;e=e.parent;)if(xse(e)&&Pse(t,e)===0)return e}function xse({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mW(t){const e=kr(I6),r=kr(hB),n=We(()=>{const c=Ie(t.to);return e.resolve(c)}),s=We(()=>{const{matched:c}=n.value,{length:u}=c,l=c[u-1],d=r.matched;if(!l||!d.length)return-1;const f=d.findIndex(mg.bind(null,l));if(f>-1)return f;const h=gW(c[u-2]);return u>1&&gW(l)===h&&d[d.length-1].path!==h?d.findIndex(mg.bind(null,c[u-2])):f}),i=We(()=>s.value>-1&&NFe(r.params,n.value.params)),o=We(()=>s.value>-1&&s.value===r.matched.length-1&&Cse(r.params,n.value.params));function a(c={}){if(RFe(c)){const u=e[Ie(t.replace)?"replace":"push"](Ie(t.to)).catch(h1);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:We(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function PFe(t){return t.length===1?t[0]:t}const xFe=Dr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:mW,setup(t,{slots:e}){const r=dp(mW(t)),{options:n}=kr(I6),s=We(()=>({[yW(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[yW(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&PFe(e.default(r));return t.custom?i:E8("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),OFe=xFe;function RFe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function NFe(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!ha(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function gW(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const yW=(t,e,r)=>t??e??r,BFe=Dr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=kr(r8),s=We(()=>t.route||n.value),i=kr(cW,0),o=We(()=>{let u=Ie(i);const{matched:l}=s.value;let d;for(;(d=l[u])&&!d.components;)u++;return u}),a=We(()=>s.value.matched[o.value]);Kb(cW,We(()=>o.value+1)),Kb(aFe,a),Kb(r8,s);const c=qt();return Xi(()=>[c.value,a.value,t.name],([u,l,d],[f,h,p])=>{l&&(l.instances[d]=u,h&&h!==l&&u&&u===f&&(l.leaveGuards.size||(l.leaveGuards=h.leaveGuards),l.updateGuards.size||(l.updateGuards=h.updateGuards))),u&&l&&(!h||!mg(l,h)||!f)&&(l.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=s.value,l=t.name,d=a.value,f=d&&d.components[l];if(!f)return bW(r.default,{Component:f,route:u});const h=d.props[l],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,y=E8(f,ur({},p,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[l]=null)},ref:c}));return bW(r.default,{Component:y,route:u})||y}}});function bW(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const kFe=BFe;function jFe(t){const e=AFe(t.routes,t),r=t.parseQuery||iFe,n=t.stringifyQuery||aW,s=t.history,i=Ob(),o=Ob(),a=Ob(),c=H0(Cl);let u=Cl;T0&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=MO.bind(null,K=>""+K),d=MO.bind(null,q9e),f=MO.bind(null,xw);function h(K,re){let Q,X;return Sse(K)?(Q=e.getRecordMatcher(K),X=re):X=K,e.addRoute(X,Q)}function p(K){const re=e.getRecordMatcher(K);re&&e.removeRoute(re)}function m(){return e.getRoutes().map(K=>K.record)}function y(K){return!!e.getRecordMatcher(K)}function E(K,re){if(re=ur({},re||c.value),typeof K=="string"){const Z=UO(r,K,re.path),ne=e.resolve({path:Z.path},re),ue=s.createHref(Z.fullPath);return ur(Z,ne,{params:f(ne.params),hash:xw(Z.hash),redirectedFrom:void 0,href:ue})}let Q;if(K.path!=null)Q=ur({},K,{path:UO(r,K.path,re.path).path});else{const Z=ur({},K.params);for(const ne in Z)Z[ne]==null&&delete Z[ne];Q=ur({},K,{params:d(Z)}),re.params=d(re.params)}const X=e.resolve(Q,re),ie=K.hash||"";X.params=l(f(X.params));const Y=V9e(n,ur({},K,{hash:L9e(ie),path:X.path})),V=s.createHref(Y);return ur({fullPath:Y,hash:ie,query:n===aW?oFe(K.query):K.query||{}},X,{redirectedFrom:void 0,href:V})}function w(K){return typeof K=="string"?UO(r,K,c.value.path):ur({},K)}function b(K,re){if(u!==K)return gg(Jr.NAVIGATION_CANCELLED,{from:re,to:K})}function g(K){return C(K)}function v(K){return g(ur(w(K),{replace:!0}))}function A(K,re){const Q=K.matched[K.matched.length-1];if(Q&&Q.redirect){const{redirect:X}=Q;let ie=typeof X=="function"?X(K,re):X;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=w(ie):{path:ie},ie.params={}),ur({query:K.query,hash:K.hash,params:ie.path!=null?{}:K.params},ie)}}function C(K,re){const Q=u=E(K),X=c.value,ie=K.state,Y=K.force,V=K.replace===!0,Z=A(Q,X);if(Z)return C(ur(w(Z),{state:typeof Z=="object"?ur({},ie,Z.state):ie,force:Y,replace:V}),re||Q);const ne=Q;ne.redirectedFrom=re;let ue;return!Y&&G9e(n,X,Q)&&(ue=gg(Jr.NAVIGATION_DUPLICATED,{to:ne,from:X}),D(X,X,!0,!1)),(ue?Promise.resolve(ue):N(ne,X)).catch(ce=>Zc(ce)?Zc(ce,Jr.NAVIGATION_GUARD_REDIRECT)?ce:P(ce):R(ce,ne,X)).then(ce=>{if(ce){if(Zc(ce,Jr.NAVIGATION_GUARD_REDIRECT))return C(ur({replace:V},w(ce.to),{state:typeof ce.to=="object"?ur({},ie,ce.to.state):ie,force:Y}),re||ne)}else ce=k(ne,X,!0,V,ie);return M(ne,X,ce),ce})}function x(K,re){const Q=b(K,re);return Q?Promise.reject(Q):Promise.resolve()}function T(K){const re=q.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(K):K()}function N(K,re){let Q;const[X,ie,Y]=cFe(K,re);Q=FO(X.reverse(),"beforeRouteLeave",K,re);for(const Z of X)Z.leaveGuards.forEach(ne=>{Q.push(Bl(ne,K,re))});const V=x.bind(null,K,re);return Q.push(V),W(Q).then(()=>{Q=[];for(const Z of i.list())Q.push(Bl(Z,K,re));return Q.push(V),W(Q)}).then(()=>{Q=FO(ie,"beforeRouteUpdate",K,re);for(const Z of ie)Z.updateGuards.forEach(ne=>{Q.push(Bl(ne,K,re))});return Q.push(V),W(Q)}).then(()=>{Q=[];for(const Z of Y)if(Z.beforeEnter)if(ha(Z.beforeEnter))for(const ne of Z.beforeEnter)Q.push(Bl(ne,K,re));else Q.push(Bl(Z.beforeEnter,K,re));return Q.push(V),W(Q)}).then(()=>(K.matched.forEach(Z=>Z.enterCallbacks={}),Q=FO(Y,"beforeRouteEnter",K,re,T),Q.push(V),W(Q))).then(()=>{Q=[];for(const Z of o.list())Q.push(Bl(Z,K,re));return Q.push(V),W(Q)}).catch(Z=>Zc(Z,Jr.NAVIGATION_CANCELLED)?Z:Promise.reject(Z))}function M(K,re,Q){a.list().forEach(X=>T(()=>X(K,re,Q)))}function k(K,re,Q,X,ie){const Y=b(K,re);if(Y)return Y;const V=re===Cl,Z=T0?history.state:{};Q&&(X||V?s.replace(K.fullPath,ur({scroll:V&&Z&&Z.scroll},ie)):s.push(K.fullPath,ie)),c.value=K,D(K,re,Q,V),P()}let B;function U(){B||(B=s.listen((K,re,Q)=>{if(!z.listening)return;const X=E(K),ie=A(X,z.currentRoute.value);if(ie){C(ur(ie,{replace:!0,force:!0}),X).catch(h1);return}u=X;const Y=c.value;T0&&eFe(oW(Y.fullPath,Q.delta),S6()),N(X,Y).catch(V=>Zc(V,Jr.NAVIGATION_ABORTED|Jr.NAVIGATION_CANCELLED)?V:Zc(V,Jr.NAVIGATION_GUARD_REDIRECT)?(C(ur(w(V.to),{force:!0}),X).then(Z=>{Zc(Z,Jr.NAVIGATION_ABORTED|Jr.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===e8.pop&&s.go(-1,!1)}).catch(h1),Promise.reject()):(Q.delta&&s.go(-Q.delta,!1),R(V,X,Y))).then(V=>{V=V||k(X,Y,!1),V&&(Q.delta&&!Zc(V,Jr.NAVIGATION_CANCELLED)?s.go(-Q.delta,!1):Q.type===e8.pop&&Zc(V,Jr.NAVIGATION_ABORTED|Jr.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),M(X,Y,V)}).catch(h1)}))}let I=Ob(),S=Ob(),_;function R(K,re,Q){P(K);const X=S.list();return X.length?X.forEach(ie=>ie(K,re,Q)):console.error(K),Promise.reject(K)}function O(){return _&&c.value!==Cl?Promise.resolve():new Promise((K,re)=>{I.add([K,re])})}function P(K){return _||(_=!K,U(),I.list().forEach(([re,Q])=>K?Q(K):re()),I.reset()),K}function D(K,re,Q,X){const{scrollBehavior:ie}=t;if(!T0||!ie)return Promise.resolve();const Y=!Q&&tFe(oW(K.fullPath,0))||(X||!Q)&&history.state&&history.state.scroll||null;return Yo().then(()=>ie(K,re,Y)).then(V=>V&&X9e(V)).catch(V=>R(V,K,re))}const j=K=>s.go(K);let F;const q=new Set,z={currentRoute:c,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:E,options:t,push:g,replace:v,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:S.add,isReady:O,install(K){K.component("RouterLink",OFe),K.component("RouterView",kFe),K.config.globalProperties.$router=z,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>Ie(c)}),T0&&!F&&c.value===Cl&&(F=!0,g(s.location).catch(X=>{}));const re={};for(const X in Cl)Object.defineProperty(re,X,{get:()=>c.value[X],enumerable:!0});K.provide(I6,z),K.provide(hB,tK(re)),K.provide(r8,c);const Q=K.unmount;q.add(K),K.unmount=function(){q.delete(K),q.size<1&&(u=Cl,B&&B(),B=null,c.value=Cl,F=!1,_=!1),Q()}}};function W(K){return K.reduce((re,Q)=>re.then(()=>T(Q)),Promise.resolve())}return z}function pB(){return kr(I6)}function DFe(t){return kr(hB)}const MFe={class:"wallet-connect"},UFe=Dr({__name:"Index",setup(t){const{IsConnected:e}=Tw(async({IsConnected:i,ChainId:o})=>{i&&([56].includes(o)||Wke(GN))}),r=pB();let n=!1;async function s(){if(!n){n=!0;try{I9e(),Vke(),r.push("/")}finally{n=!1}}}return(i,o)=>(ot(),tr("div",MFe,[Ie(e)?(ot(),fn(eje,{key:1,onDisconnect:s})):(ot(),fn(Zke,{key:0}))]))}}),LFe={class:"flex items-center justify-between px-4 h-14 border-b border-gray-100 bg-white"},FFe={class:"flex items-center"},HFe={class:"flex items-center"},qFe=Dr({__name:"PageHeader",setup(t){const e=pB();return(r,n)=>(ot(),tr("div",LFe,[ft("div",FFe,[ft("div",{class:"flex items-center justify-center",onClick:n[0]||(n[0]=s=>Ie(e).push("/"))},[...n[1]||(n[1]=[ft("img",{class:"h-7",src:QK},null,-1)])])]),ft("div",HFe,[Xr(UFe)])]))}}),zFe={class:"flex flex-col w-full min-h-svh"},$Fe={class:"page-body relative z-2 flex-1 flex flex-col"},VFe=Dr({__name:"App",setup(t){return(e,r)=>{const n=Ioe("router-view");return ot(),tr("div",zFe,[Xr(qFe,{class:"sticky top-0 left-0 right-0 z-3"}),ft("div",$Fe,[Xr(n)])])}}}),GFe="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='18'%20cy='18'%20r='18'%20fill='%23191B1F'/%3e%3cpath%20d='M18%2025.3333V10.6667M18%2010.6667L23.5%2016.1667M18%2010.6667L12.5%2016.1667'%20stroke='white'%20stroke-width='2.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",WFe=Dr({__name:"Input",emits:["submit"],setup(t,{emit:e}){const{IsConnected:r}=Tw(),n=We(()=>r.value&&s.value.trim().length>0),s=qt("dvh"),i=e,o=qt(null),a=async()=>{i("submit",s.value),s.value=""};return(c,u)=>{const l=c9e;return ot(),tr("div",{ref_key:"inputContainerRef",ref:o,class:"relative min-h-12 bg-gray-100 rounded-lg flex items-center"},[Xr(l,{modelValue:Ie(s),"onUpdate:modelValue":u[0]||(u[0]=d=>Or(s)?s.value=d:null),autosize:{minRows:1,maxRows:5},resize:"none",type:"textarea",placeholder:"Message...",class:Pr(["custom-textarea",{"is-active":Ie(n)}])},null,8,["modelValue","class"]),Xr(KK,{"enter-active-class":"transition-opacity duration-300 ease-out","leave-active-class":"transition-opacity duration-300 ease-in","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Ja(()=>[sI(ft("div",{class:"absolute right-2 bottom-2 w-8 h-8 flex items-center justify-center cursor-pointer",onClick:a},[...u[1]||(u[1]=[ft("img",{src:GFe,alt:""},null,-1)])],512),[[dI,Ie(n)]])]),_:1})],512)}}}),Ose=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},KFe=Ose(WFe,[["__scopeId","data-v-8c603673"]]),ZFe="data:image/svg+xml,%3csvg%20width='41'%20height='20'%20viewBox='0%200%2041%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2010C0%204.47715%204.47715%200%2010%200H31C36.5228%200%2041%204.47715%2041%2010C41%2015.5228%2036.5228%2020%2031%2020H0V10Z'%20fill='%231A72F6'%20fill-opacity='0.15'/%3e%3cpath%20d='M8.74414%2014V5.54492H12.2539C13.7949%205.54492%2014.7852%206.37695%2014.7852%207.66016V7.67188C14.7852%208.58008%2014.0996%209.39453%2013.1914%209.51758V9.54688C14.3809%209.65234%2015.1895%2010.4844%2015.1895%2011.5977V11.6094C15.1895%2013.0859%2014.0938%2014%2012.2891%2014H8.74414ZM11.873%206.72266H10.2559V9.11914H11.6152C12.7051%209.11914%2013.291%208.67383%2013.291%207.87695V7.86523C13.291%207.13281%2012.7695%206.72266%2011.873%206.72266ZM11.8555%2010.2148H10.2559V12.8223H11.9434C13.0508%2012.8223%2013.6484%2012.3711%2013.6484%2011.5215V11.5098C13.6484%2010.6602%2013.0391%2010.2148%2011.8555%2010.2148ZM18.8516%2014.123C16.9883%2014.123%2015.8633%2012.8867%2015.8633%2010.9121V10.9062C15.8633%208.94922%2017.0059%207.66016%2018.7812%207.66016C20.5566%207.66016%2021.6582%208.9082%2021.6582%2010.7832V11.252H17.3105C17.334%2012.3418%2017.9316%2012.9863%2018.8809%2012.9863C19.6074%2012.9863%2020.082%2012.5996%2020.2227%2012.1836L20.2344%2012.1426H21.5996L21.582%2012.207C21.3887%2013.1621%2020.4746%2014.123%2018.8516%2014.123ZM18.7988%208.80273C18.0254%208.80273%2017.4453%209.32422%2017.3281%2010.2793H20.2402C20.1348%209.29492%2019.5723%208.80273%2018.7988%208.80273ZM24.9102%2014.123C23.6094%2014.123%2022.9941%2013.5957%2022.9941%2012.3184V8.91406H22.1152V7.78906H22.9941V6.21289H24.4766V7.78906H25.6309V8.91406H24.4766V12.1953C24.4766%2012.8047%2024.7461%2012.998%2025.2793%2012.998C25.4199%2012.998%2025.5312%2012.9805%2025.6309%2012.9746V14.0703C25.4609%2014.0938%2025.2031%2014.123%2024.9102%2014.123ZM28.3848%2014.1055C27.1426%2014.1055%2026.3047%2013.3379%2026.3047%2012.2305V12.2188C26.3047%2011.1172%2027.1602%2010.4551%2028.666%2010.3613L30.2891%2010.2617V9.83398C30.2891%209.20703%2029.8789%208.82617%2029.1406%208.82617C28.4492%208.82617%2028.0273%209.14844%2027.9336%209.60547L27.9219%209.6582H26.5684L26.5742%209.58789C26.6621%208.48633%2027.6172%207.66016%2029.1934%207.66016C30.7461%207.66016%2031.748%208.48047%2031.748%209.72852V14H30.2891V13.0449H30.2539C29.8965%2013.6953%2029.2051%2014.1055%2028.3848%2014.1055ZM27.7578%2012.1719C27.7578%2012.6816%2028.1797%2012.9922%2028.8184%2012.9922C29.6562%2012.9922%2030.2891%2012.4355%2030.2891%2011.6973V11.2285L28.8711%2011.3164C28.1504%2011.3633%2027.7578%2011.6738%2027.7578%2012.166V12.1719Z'%20fill='%231A72F6'/%3e%3c/svg%3e",YFe={},JFe={class:"flex flex-col items-center justify-center gap-4 flex-1"};function QFe(t,e){return ot(),tr("header",JFe,[e[0]||(e[0]=ft("div",{class:"flex items-start"},[ft("img",{class:"h-10",src:QK,alt:"AEON Logo"}),ft("div",{class:"relative"},[ft("img",{class:"h-5 w-10 max-w-none absolute left-0 top-0",src:ZFe,alt:""})])],-1)),(ot(),tr(Rn,null,Toe(2,r=>ft("p",{class:"text-center break-keep",key:r},Cu(r)+" Unlock the power of real-world payments for AI ",1)),64))])}const XFe=Ose(YFe,[["render",QFe]]),T6=vne("ChatHistory",()=>{const t=qt("");function e(s){t.value=s}const r=qt([]);function n(s){r.value=s}return{ChatHistoryList:r,setChatHistoryList:n,MessagesStorageKey:t,setMessagesStorageKey:e}},{persist:!0});async function e7e(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error("",e),[]}}async function t7e(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(r){throw console.error("",r),r}}function r7e(){return T6().MessagesStorageKey}function mB(){return T6().ChatHistoryList||[]}function n7e(t){return mB().some(r=>r.chatId===t)}function s7e(){return`messages_${r7e().slice(-8)||"default"}_chatid`}function Rse(t){return`${s7e()}_${t}`}async function i7e(t){const e=Rse(t);return await e7e(e)}async function o7e(t,e){const r=Rse(t);await t7e(r,e)}async function P6(t){return await i7e(t)}async function Uqe(t){return(await P6(t)).filter(r=>!r.imgUrl)}async function a7e(t){const e=mB(),r=await P6(t),n=[...e],s=n.findIndex(o=>o.chatId===t);s!==-1&&(n[s]={...n[s],messageLength:r.length}),T6().setChatHistoryList(n)}const wW=new Map;async function c7e(t,e){const n=(wW.get(t)||Promise.resolve()).then(async()=>{const s=await P6(t);(e.sender==="user"||e.sender==="agent")&&s.push(e),await o7e(t,s)}).catch(console.error);wW.set(t,n),await n}async function EW({messageObj:t,chatId:e}){var r;if(await c7e(e,t),n7e(e))a7e(e);else{const n=T6(),s=mB(),i=await P6(e);n.setChatHistoryList([...s,{chatId:e,timeStamp:Date.now(),title:((r=t.text)==null?void 0:r.slice(0,50))||"New chat",messageLength:i.length}])}}const u7e={class:"container mx-auto p-4 lg:max-w-3xl flex flex-col flex-1 items-center justify-center"},l7e={class:"container mx-auto p-4 lg:max-w-3xl"},d7e=Dr({__name:"HomeView",setup(t){const e=DFe();We(()=>e.query.evn);const r=pB(),n=qt(null),s=qt(null),i=async o=>{const a=await P9e();await EW({messageObj:{text:o,sender:"user",type:"text",timeStamp:Date.now()},chatId:a}),r.push(`/c/${a}`);const c=await T9e({message:o,chatId:a});await EW({messageObj:{text:c,sender:"agent",type:"text",timeStamp:Date.now()},chatId:a})};return(o,a)=>(ot(),tr("div",{ref_key:"containerRef",ref:n,class:"flex flex-col flex-1"},[ft("div",u7e,[Xr(XFe)]),ft("div",{ref_key:"inputRef",ref:s,class:"sticky bottom-0 left-0 right-0 z-10 bg-white border-t border-gray-200 pb-[env(safe-area-inset-bottom,0)] lg:border-none"},[ft("div",l7e,[Xr(KFe,{onSubmit:i})])],512)],512))}}),f7e=[{path:"/",name:"home",component:d7e},{path:"/c/:chatId",name:"chat",meta:{requiresAuth:!1},component:()=>vn(()=>import("./ChatView-Cz3Ii56g.js"),__vite__mapDeps([55,56]),import.meta.url)},{path:"/sol",name:"sol",component:()=>vn(()=>import("./SolView-68sKFwAj.js"),[],import.meta.url)}];async function h7e(){const e=Op().AccountInfo;if(e&&typeof e=="object"&&"address"in e&&e.address){await new Promise(s=>setTimeout(s,100));const{IsConnected:n}=Tw();if(n.value)return!0;try{if(Gke())return!0}catch(s){console.warn("Failed to get AppKit connection state:",s)}return!0}const{IsConnected:r}=Tw();return r.value}async function p7e(t,e,r){t.meta.requiresAuth?await h7e()?r():r({name:"home"}):r()}const Nse=jFe({history:hFe(),routes:f7e});Nse.beforeEach(p7e);var HO={exports:{}},vW;function m7e(){if(vW)return HO.exports;vW=1;var t=HO.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=s}catch{r=s}})();function i(m){if(e===setTimeout)return setTimeout(m,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(m,0);try{return e(m,0)}catch{try{return e.call(null,m,0)}catch{return e.call(this,m,0)}}}function o(m){if(r===clearTimeout)return clearTimeout(m);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(m);try{return r(m)}catch{try{return r.call(null,m)}catch{return r.call(this,m)}}}var a=[],c=!1,u,l=-1;function d(){!c||!u||(c=!1,u.length?a=u.concat(a):l=-1,a.length&&f())}function f(){if(!c){var m=i(d);c=!0;for(var y=a.length;y;){for(u=a,a=[];++l<y;)u&&u[l].run();l=-1,y=a.length}u=null,c=!1,o(m)}}t.nextTick=function(m){var y=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)y[E-1]=arguments[E];a.push(new h(m,y)),a.length===1&&!c&&i(f)};function h(m,y){this.fun=m,this.array=y}h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function p(){}return t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(m){return[]},t.binding=function(m){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(m){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},HO.exports}var g7e=m7e();const y7e=bg(g7e);function b7e(t,e){if(t==null)return;let r=t;for(let n=0;n<e.length;n++){if(r===void 0||r[e[n]]===void 0)return;if(r===null||r[e[n]]===null)return null;r=r[e[n]]}return r}function gB(t,e,r){if(r.length===0)return e;const n=r[0];return r.length>1&&(e=gB(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,n)?Number.isInteger(Number(r[1]))?[]:{}:t[n],e,Array.prototype.slice.call(r,1))),Number.isInteger(Number(n))&&Array.isArray(t)?t.slice()[n]:Object.assign({},t,{[n]:e})}function Bse(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const r={};for(const n in t)r[n]=t[n];return delete r[e[0]],r}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const r={};for(const n in t)r[n]=t[n];return r}return gB(t,Bse(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function kse(t,e){return e.map(r=>r.split(".")).map(r=>[r,b7e(t,r)]).filter(r=>r[1]!==void 0).reduce((r,n)=>gB(r,n[1],n[0]),{})}function jse(t,e){return e.map(r=>r.split(".")).reduce((r,n)=>Bse(r,n),t)}function _W(t,{storage:e,serializer:r,key:n,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:c},u,l=!0){try{l&&(a==null||a(u));const d=e.getItem(n);if(d){const f=r.deserialize(d),h=i?kse(f,i):f,p=o?jse(h,o):h;t.$patch(p)}l&&(c==null||c(u))}catch(d){s&&console.error("[pinia-plugin-persistedstate]",d)}}function AW(t,{storage:e,serializer:r,key:n,debug:s,pick:i,omit:o}){try{const a=i?kse(t,i):t,c=o?jse(a,o):a,u=r.serialize(c);e.setItem(n,u)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function w7e(t,e){return typeof t=="function"?t(e):typeof t=="string"?t:e}function E7e(t,e,r){const{pinia:n,store:s,options:{persist:i=r}}=t;if(!i)return;// v8 ignore if -- @preserve
if(!(s.$id in n.state.value)){const a=n._s.get(s.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{_W(s,c,t,a)})},s.$persist=()=>{o.forEach(a=>{AW(s.$state,a)})},o.forEach(a=>{_W(s,a,t),s.$subscribe((c,u)=>AW(u,a),{detached:!0})})}function v7e(t={}){return function(e){E7e(e,r=>{const n=w7e(r.key,e.store.$id);return{key:(t.key?t.key:s=>s)(n),debug:r.debug??t.debug??!1,serializer:r.serializer??t.serializer??{serialize:s=>JSON.stringify(s),deserialize:s=>JSON.parse(s)},storage:r.storage??t.storage??window.localStorage,beforeHydrate:r.beforeHydrate??t.beforeHydrate,afterHydrate:r.afterHydrate??t.afterHydrate,pick:r.pick,omit:r.omit}},t.auto??!1)}}var _7e=v7e();const A7e="input, textarea, [contenteditable='true']";let fd=null,qO=!1,Yf=null,mT={x:0,y:0},ea=null;const C7e=()=>{Yf||(mT={x:window.scrollX||window.pageXOffset,y:window.scrollY||window.pageYOffset},Yf={overflow:document.body.style.overflow,position:document.body.style.position,width:document.body.style.width},document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${mT.y}px`)},Dse=()=>{Yf&&(document.body.style.overflow=Yf.overflow,document.body.style.position=Yf.position,document.body.style.width=Yf.width,document.body.style.top="",window.scrollTo(mT.x,mT.y),Yf=null)},gT=t=>t?t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.getAttribute("contenteditable")==="true"?!0:t.closest(A7e)!==null:!1,CW=t=>{const e=t.target;gT(e)&&(ea&&(clearTimeout(ea),ea=null),fd=e,C7e())},SW=t=>{const e=t.target;gT(e)&&(ea&&(clearTimeout(ea),ea=null),ea=setTimeout(()=>{const r=document.activeElement;gT(r)||(fd=null,Dse()),ea=null},300))},IW=t=>{if(!fd)return;const e=t.target;!gT(e)&&fd&&fd.blur()},S7e=()=>qO?(console.warn("initInputScrollLock has already been called"),()=>{}):(qO=!0,document.addEventListener("focusin",CW,!0),document.addEventListener("focusout",SW,!0),document.addEventListener("touchstart",IW,{passive:!0}),()=>{qO=!1,document.removeEventListener("focusin",CW,!0),document.removeEventListener("focusout",SW,!0),document.removeEventListener("touchstart",IW),ea&&(clearTimeout(ea),ea=null),fd&&(fd.blur(),fd=null),Dse()}),Mse=kke();Mse.use(_7e);typeof window.Buffer>"u"&&(window.Buffer=Xae.Buffer);typeof global>"u"&&(window.global=window);window.process=y7e;const yB=Wae(VFe);yB.use(Mse);yB.use(Nse);S7e();yB.mount("#app");export{Ide as $,Ee as A,at as B,te as C,ks as D,bt as E,lpe as F,ds as G,k8 as H,Ne as I,Txe as J,nY as K,S1 as L,Nt as M,_ce as N,Ce as O,Te as P,hqe as Q,st as R,tc as S,ri as T,Ki as U,Je as V,cn as W,Xe as X,xt as Y,Qe as Z,Ose as _,ft as a,na as a$,fs as a0,Dr as a1,P0 as a2,nn as a3,Pr as a4,Cu as a5,qt as a6,Xi as a7,yg as a8,Rn as a9,oY as aA,ht as aB,wd as aC,mfe as aD,EZ as aE,Ht as aF,Z7e as aG,Cd as aH,Ad as aI,Tde as aJ,Bde as aK,xde as aL,wZ as aM,bfe as aN,Ww as aO,Eg as aP,Nd as aQ,Mh as aR,cd as aS,bg as aT,SS as aU,SX as aV,aN as aW,vn as aX,tg as aY,BS as aZ,SI as a_,Toe as aa,fn as ab,Yo as ac,T6 as ad,We as ae,DFe as af,jT as ag,Ie as ah,KFe as ai,Uqe as aj,T9e as ak,EW as al,mn as am,Zt as an,Ice as ao,I1 as ap,En as aq,Tt as ar,s1 as as,dR as at,Vi as au,m3e as av,Qh as aw,Qa as ax,ai as ay,mqe as az,Xr as b,qZ as b$,Mb as b0,_0 as b1,fpe as b2,z7e as b3,Zde as b4,$7e as b5,vd as b6,nfe as b7,L1 as b8,Yde as b9,wfe as bA,tHe as bB,Ife as bC,Ym as bD,$1 as bE,DZ as bF,Jh as bG,P8 as bH,WT as bI,Dfe as bJ,Mfe as bK,Ufe as bL,Lfe as bM,Ffe as bN,Hfe as bO,qfe as bP,zfe as bQ,LZ as bR,rHe as bS,M7e as bT,O8 as bU,Gfe as bV,Y7e as bW,R8 as bX,I8 as bY,HZ as bZ,ihe as b_,sfe as ba,eY as bb,YT as bc,uG as bd,wg as be,jZ as bf,Uh as bg,v0 as bh,fhe as bi,yhe as bj,gne as bk,GN as bl,Ske as bm,pv as bn,GZ as bo,oHe as bp,iHe as bq,vZ as br,Ed as bs,ad as bt,q7e as bu,CI as bv,Rd as bw,L7e as bx,kZ as by,RZ as bz,tr as c,rw as c$,lhe as c0,dhe as c1,vfe as c2,mHe as c3,gHe as c4,phe as c5,aHe as c6,QZ as c7,ghe as c8,Efe as c9,Sfe as cA,KT as cB,bZ as cC,yZ as cD,Ode as cE,Rde as cF,Lk as cG,iw as cH,sw as cI,nw as cJ,J1 as cK,tw as cL,z1 as cM,H1 as cN,W1 as cO,Qm as cP,q1 as cQ,eh as cR,F1 as cS,Y1 as cT,eo as cU,V1 as cV,G1 as cW,Ei as cX,Q1 as cY,Jm as cZ,K1 as c_,hhe as ca,mhe as cb,whe as cc,cHe as cd,fHe as ce,uHe as cf,dHe as cg,lHe as ch,K7e as ci,OZ as cj,J7e as ck,Q7e as cl,hHe as cm,pHe as cn,H7e as co,eHe as cp,X7e as cq,eZ as cr,Bb as cs,T8 as ct,Yb as cu,tY as cv,$k as cw,Mhe as cx,lv as cy,Cfe as cz,Ue as d,Rfe as d0,ew as d1,X1 as d2,Z1 as d3,Lh as d4,Tfe as d5,Pfe as d6,xfe as d7,Lhe as d8,she as d9,uhe as da,yfe as db,Pde as dc,Dde as dd,Mde as de,Wfe as df,$fe as dg,FZ as dh,bhe as di,nhe as dj,khe as dk,B8 as dl,_he as dm,Ahe as dn,ZT as dp,Che as dq,GT as dr,oqe as e,cqe as f,aqe as g,iqe as h,Lt as i,iY as j,uqe as k,Kn as l,Nn as m,pqe as n,ot as o,jr as p,gqe as q,Ioe as r,Zn as s,yqe as t,jS as u,t5e as v,Ll as w,fqe as x,To as y,Me as z};
