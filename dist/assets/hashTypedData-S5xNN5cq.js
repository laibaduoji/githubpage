import{aC as c,aD as p,aE as d,aF as J,aG as g,aH as f,aI as A,aJ as N,aK as h,aL as Z,aM as _,aN as x,aO as k,aP as K,aQ as Q,aR as X,aS as ee,aT as O}from"./index-C6wVOU_O.js";function te(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Re=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,We=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ve=/^\(.+?\).*?$/,F=/^tuple(?<array>(\[(\d*)\])*)$/;function v(e){let t=e.type;if(F.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=v(o),s<n-1&&(t+=", ")}const r=te(F,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,v({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function b(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=v(s),r!==n-1&&(t+=", ")}return t}function ne(e){var t;return e.type==="function"?`function ${e.name}(${b(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${b(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${b(e.inputs)})`:e.type==="error"?`error ${e.name}(${b(e.inputs)})`:e.type==="constructor"?`constructor(${b(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function $(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new pe(e.type);return`${e.name}(${E(e.inputs,{includeName:t})})`}function E(e,{includeName:t=!1}={}){return e?e.map(n=>re(n,{includeName:t})).join(t?", ":","):""}function re(e,{includeName:t}){return e.type.startsWith("tuple")?`(${E(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Ue extends c{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class qe extends c{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Ge extends c{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${E(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Ye extends c{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class se extends c{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class oe extends c{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${p(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class ie extends c{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Je extends c{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Ze extends c{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class _e extends c{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Ke extends c{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Qe extends c{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Xe extends c{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class z extends c{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class et extends c{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class tt extends c{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class ae extends c{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${$(t.abiItem)}\`, and`,`\`${n.type}\` in \`${$(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class ce extends c{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class nt extends c{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${E(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class rt extends c{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${$(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class ue extends c{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class st extends c{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class de extends c{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class pe extends c{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class ot extends c{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}const fe=e=>d(J(e));function le(e){return fe(e)}function ye(e){let t=!0,n="",r=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!o)throw new c("Unable to normalize signature.");return s}const he=e=>{const t=typeof e=="string"?e:ne(e);return ye(t)};function C(e){return le(he(e))}const ge=C,it=/^(.*)\[([0-9]*)\]$/,me=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,L=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function I(e,t){if(e.length!==t.length)throw new ie({expectedLength:e.length,givenLength:t.length});const n=be({params:e,values:t}),r=S(n);return r.length===0?"0x":r}function be({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(T({param:e[r],value:t[r]}));return n}function T({param:e,value:t}){const n=Te(e.type);if(n){const[r,s]=n;return $e(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Ie(t,{param:e});if(e.type==="address")return Ae(t);if(e.type==="bool")return xe(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=L.exec(e.type)??[];return ve(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Ee(t,{param:e});if(e.type==="string")return we(t);throw new ue(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function S(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=p(i)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(g(t+s,{size:32})),r.push(i),s+=p(i)):n.push(i)}return f([...n,...r])}function Ae(e){if(!A(e))throw new N({address:e});return{dynamic:!1,encoded:h(e.toLowerCase())}}function $e(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new de(e);if(!r&&e.length!==t)throw new se({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let a=0;a<e.length;a++){const i=T({param:n,value:e[a]});i.dynamic&&(s=!0),o.push(i)}if(r||s){const a=S(o);if(r){const i=g(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?f([i,a]):i}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:f(o.map(({encoded:a})=>a))}}function Ee(e,{param:t}){const[,n]=t.type.split("bytes"),r=p(e);if(!n){let s=e;return r%32!==0&&(s=h(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:f([h(g(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new oe({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:h(e,{dir:"right"})}}function xe(e){if(typeof e!="boolean")throw new c(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:h(Z(e))}}function ve(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new _({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:g(e,{size:32,signed:t})}}function we(e){const t=x(e),n=Math.ceil(p(t)/32),r=[];for(let s=0;s<n;s++)r.push(h(k(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:f([h(g(p(t),{size:32})),...r])}}function Ie(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],a=Array.isArray(e)?s:o.name,i=T({param:o,value:e[a]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?S(r):f(r.map(({encoded:s})=>s))}}function Te(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const H=e=>k(C(e),0,4);function Se(e){const{abi:t,args:n=[],name:r}=e,s=K(r,{strict:!1}),o=t.filter(i=>s?i.type==="function"?H(i)===r:i.type==="event"?ge(i)===r:!1:"name"in i&&i.name===r);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((l,y)=>{const u="inputs"in i&&i.inputs[y];return u?w(l,u):!1})){if(a&&"inputs"in a&&a.inputs){const l=R(i.inputs,a.inputs,n);if(l)throw new ae({abiItem:i,type:l[0]},{abiItem:a,type:l[1]})}a=i}}return a||o[0]}function w(e,t){const n=typeof e,r=t.type;switch(r){case"address":return A(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>w(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>w(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function R(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return R(s.components,o.components,n[r]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?A(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?A(n[r],{strict:!1}):!1)return a}}const j="/docs/contract/encodeFunctionData";function Me(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Se({abi:t,args:n,name:r});if(!o)throw new z(r,{docsPath:j});s=o}if(s.type!=="function")throw new z(void 0,{docsPath:j});return{abi:[s],functionName:H($(s))}}function at(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:Me(e)})(),s=n[0],o=r,a="inputs"in s&&s.inputs?I(s.inputs,t??[]):void 0;return Q([o,a??"0x"])}const De=`Ethereum Signed Message:
`;function Be(e){const t=typeof e=="string"?x(e):typeof e.raw=="string"?e.raw:X(e.raw),n=x(`${De}${p(t)}`);return f([n,t])}function ct(e,t){return d(Be(e),t)}class Pe extends c{constructor({domain:t}){super(`Invalid domain "${ee(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Fe extends c{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class ze extends c{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function je(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(a,i)=>{for(const M of a){const{name:l,type:y}=M,u=i[l],D=y.match(L);if(D&&(typeof u=="number"||typeof u=="bigint")){const[G,m,Y]=D;g(u,{signed:m==="int",size:Number.parseInt(Y,10)/8})}if(y==="address"&&typeof u=="string"&&!A(u))throw new N({address:u});const B=y.match(me);if(B){const[G,m]=B;if(m&&p(u)!==Number.parseInt(m,10))throw new ce({expectedSize:Number.parseInt(m,10),givenSize:p(u)})}const P=s[y];P&&(ke(y),o(P,u))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Pe({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Fe({primaryType:r,types:s})}function Ne({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function ke(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new ze({type:e})}function ut(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Ne({domain:t}),...e.types};je({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(Oe({domain:t,types:s})),r!=="EIP712Domain"&&o.push(W({data:n,primaryType:r,types:s})),d(f(o))}function Oe({domain:e,types:t}){return W({data:e,primaryType:"EIP712Domain",types:t})}function W({data:e,primaryType:t,types:n}){const r=V({data:e,primaryType:t,types:n});return d(r)}function V({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Ce({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=q({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(a),s.push(i)}return I(r,s)}function Ce({primaryType:e,types:t}){const n=O(Le({primaryType:e,types:t}));return d(n)}function Le({primaryType:e,types:t}){let n="";const r=U({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function U({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])U({primaryType:o.type,types:t},n);return n}function q({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},d(V({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},d(r)];if(n==="string")return[{type:"bytes32"},d(O(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(a=>q({name:t,type:s,types:e,value:a}));return[{type:"bytes32"},d(I(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},r]}export{Xe as A,de as B,ie as C,rt as D,L as E,me as F,ce as G,it as H,st as I,De as J,se as K,oe as L,ue as M,pe as N,Pe as O,Fe as P,ze as Q,Me as R,C as S,he as T,ot as U,Oe as V,W,Be as X,Ne as Y,je as Z,ut as a,I as b,te as c,Re as d,at as e,Ve as f,Se as g,ct as h,We as i,$ as j,Ye as k,Ge as l,Te as m,H as n,_e as o,Ke as p,Qe as q,nt as r,z as s,ge as t,et as u,Ue as v,qe as w,tt as x,Ze as y,Je as z};
