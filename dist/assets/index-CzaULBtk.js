const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-C6vuhtPh.js","./parseSignature-201m179V.js","./hashTypedData-CZ_97FoZ.js","./embedded-wallet-Crs_5LGT.js","./index-CvMj2ky6.js","./index-cW-LZPqw.js","./if-defined-C4iyYVnj.js","./ref-u3F1agnb.js","./index-B8SSMXKP.js","./HelpersUtil-D4gJhV-N.js","./index-WkS0UpnV.js","./index-C651vhHD.js","./index-B0dQYqj4.js","./index-Cu2chpZg.js","./index-n_Uxo4aC.js","./NavigationUtil-DmfK5sOV.js","./email--Uea8QPe.js","./index-zHhhSDAP.js","./index-DdlxN3AA.js","./socials-DcTYYvfk.js","./index-RUCihB9R.js","./index-DoXTTCxD.js","./index-45wXVTTy.js","./index-DKEEthdU.js","./index-C_NvOQlc.js","./swaps-BKU37g94.js","./index-CMBnK89y.js","./index-8mxLzFNO.js","./SwapController-DdMA_SqQ.js","./index-IhTTEb5F.js","./send-DYeNEjvB.js","./index-DfUI_ECk.js","./index-PVa2bbbW.js","./index-DdHHiB7P.js","./index-rB-OUXbB.js","./receive-BlKoZ3tR.js","./onramp-Csvbq5O_.js","./index-5Ij122OY.js","./index-dsfEDXQR.js","./index-BDwmRu9e.js","./pay-with-exchange-DUMTWq6P.js","./ExchangeController-BhdCA9UC.js","./transactions-CEF7iLDM.js","./index-BXjv6sMM.js","./index-CYokMq9c.js","./index-CwQtm_63.js","./index-B4o1a-8T.js","./index-BXoKifR6.js","./data-capture-iS-k-9Ny.js","./features-ARISqqzJ.js","./index-rPljnN2v.js","./index-DJgNeGIl.js","./w3m-modal-B0xsrsOw.js","./index-CUGaPOKi.js","./index-ButznT69.js","./ChatView-DpCkjj5G.js","./ChatView-QTB2iNT-.css"])))=>i.map(i=>d[i]);
var hie=Object.defineProperty;var IB=t=>{throw TypeError(t)};var pie=(t,e,r)=>e in t?hie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var be=(t,e,r)=>pie(t,typeof e!="symbol"?e+"":e,r),V6=(t,e,r)=>e.has(t)||IB("Cannot "+r);var G=(t,e,r)=>(V6(t,e,"read from private field"),r?r.call(t):e.get(t)),ve=(t,e,r)=>e.has(t)?IB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),se=(t,e,r,n)=>(V6(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Re=(t,e,r)=>(V6(t,e,"access private method"),r);var qg=(t,e,r,n)=>({set _(s){se(t,e,s,r)},get _(){return G(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function XN(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const _r={},U0=[],pi=()=>{},CW=()=>!1,AT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),e8=t=>t.startsWith("onUpdate:"),kn=Object.assign,t8=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},mie=Object.prototype.hasOwnProperty,er=(t,e)=>mie.call(t,e),ft=Array.isArray,L0=t=>CT(t)==="[object Map]",SW=t=>CT(t)==="[object Set]",lt=t=>typeof t=="function",dr=t=>typeof t=="string",qu=t=>typeof t=="symbol",ar=t=>t!==null&&typeof t=="object",IW=t=>(ar(t)||lt(t))&&lt(t.then)&&lt(t.catch),TW=Object.prototype.toString,CT=t=>TW.call(t),gie=t=>CT(t).slice(8,-1),PW=t=>CT(t)==="[object Object]",ST=t=>dr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hb=XN(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),IT=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},yie=/-\w/g,Io=IT(t=>t.replace(yie,e=>e.slice(1).toUpperCase())),bie=/\B([A-Z])/g,up=IT(t=>t.replace(bie,"-$1").toLowerCase()),TT=IT(t=>t.charAt(0).toUpperCase()+t.slice(1)),G6=IT(t=>t?`on${TT(t)}`:""),od=(t,e)=>!Object.is(t,e),W6=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},xW=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},wie=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Eie=t=>{const e=dr(t)?Number(t):NaN;return isNaN(e)?t:e};let TB;const PT=()=>TB||(TB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $h(t){if(ft(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=dr(n)?Cie(n):$h(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(dr(t)||ar(t))return t}const vie=/;(?![^(]*\))/g,_ie=/:([^]+)/,Aie=/\/\*[^]*?\*\//g;function Cie(t){const e={};return t.replace(Aie,"").split(vie).forEach(r=>{if(r){const n=r.split(_ie);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Pr(t){let e="";if(dr(t))e=t;else if(ft(t))for(let r=0;r<t.length;r++){const n=Pr(t[r]);n&&(e+=n+" ")}else if(ar(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Sie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Iie=XN(Sie);function OW(t){return!!t||t===""}const RW=t=>!!(t&&t.__v_isRef===!0),ms=t=>dr(t)?t:t==null?"":ft(t)||ar(t)&&(t.toString===TW||!lt(t.toString))?RW(t)?ms(t.value):JSON.stringify(t,NW,2):String(t),NW=(t,e)=>RW(e)?NW(t,e.value):L0(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[K6(n,i)+" =>"]=s,r),{})}:SW(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>K6(r))}:qu(e)?K6(e):ar(e)&&!ft(e)&&!PW(e)?String(e):e,K6=(t,e="")=>{var r;return qu(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hs;class BW{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hs,!e&&hs&&(this.index=(hs.scopes||(hs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=hs;try{return hs=this,e()}finally{hs=r}}}on(){++this._on===1&&(this.prevScope=hs,hs=this)}off(){this._on>0&&--this._on===0&&(hs=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function kW(t){return new BW(t)}function r8(){return hs}function jW(t,e=!1){hs&&hs.cleanups.push(t)}let xr;const Z6=new WeakSet;class DW{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hs&&hs.active&&hs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Z6.has(this)&&(Z6.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||UW(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,PB(this),LW(this);const e=xr,r=sa;xr=this,sa=!0;try{return this.fn()}finally{FW(this),xr=e,sa=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)i8(e);this.deps=this.depsTail=void 0,PB(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Z6.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){LO(this)&&this.run()}get dirty(){return LO(this)}}let MW=0,qb,zb;function UW(t,e=!1){if(t.flags|=8,e){t.next=zb,zb=t;return}t.next=qb,qb=t}function n8(){MW++}function s8(){if(--MW>0)return;if(zb){let e=zb;for(zb=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;qb;){let e=qb;for(qb=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function LW(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function FW(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),i8(n),Tie(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function LO(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(HW(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function HW(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===hw)||(t.globalVersion=hw,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!LO(t))))return;t.flags|=2;const e=t.dep,r=xr,n=sa;xr=t,sa=!0;try{LW(t);const s=t.fn(t._value);(e.version===0||od(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{xr=r,sa=n,FW(t),t.flags&=-3}}function i8(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)i8(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Tie(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let sa=!0;const qW=[];function Nu(){qW.push(sa),sa=!1}function Bu(){const t=qW.pop();sa=t===void 0?!0:t}function PB(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=xr;xr=void 0;try{e()}finally{xr=r}}}let hw=0;class Pie{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class o8{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!xr||!sa||xr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==xr)r=this.activeLink=new Pie(xr,this),xr.deps?(r.prevDep=xr.depsTail,xr.depsTail.nextDep=r,xr.depsTail=r):xr.deps=xr.depsTail=r,zW(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=xr.depsTail,r.nextDep=void 0,xr.depsTail.nextDep=r,xr.depsTail=r,xr.deps===r&&(xr.deps=n)}return r}trigger(e){this.version++,hw++,this.notify(e)}notify(e){n8();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{s8()}}}function zW(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)zW(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const tI=new WeakMap,Bh=Symbol(""),FO=Symbol(""),pw=Symbol("");function gs(t,e,r){if(sa&&xr){let n=tI.get(t);n||tI.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new o8),s.map=n,s.key=r),s.track()}}function vu(t,e,r,n,s,i){const o=tI.get(t);if(!o){hw++;return}const a=c=>{c&&c.trigger()};if(n8(),e==="clear")o.forEach(a);else{const c=ft(t),u=c&&ST(r);if(c&&r==="length"){const l=Number(n);o.forEach((d,f)=>{(f==="length"||f===pw||!qu(f)&&f>=l)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),u&&a(o.get(pw)),e){case"add":c?u&&a(o.get("length")):(a(o.get(Bh)),L0(t)&&a(o.get(FO)));break;case"delete":c||(a(o.get(Bh)),L0(t)&&a(o.get(FO)));break;case"set":L0(t)&&a(o.get(Bh));break}}s8()}function xie(t,e){const r=tI.get(t);return r&&r.get(e)}function Np(t){const e=Gt(t);return e===t?e:(gs(e,"iterate",pw),Xi(t)?e:e.map(ca))}function xT(t){return gs(t=Gt(t),"iterate",pw),t}function Tl(t,e){return ku(t)?ic(t)?$m(ca(e)):$m(e):ca(e)}const Oie={__proto__:null,[Symbol.iterator](){return Y6(this,Symbol.iterator,t=>Tl(this,t))},concat(...t){return Np(this).concat(...t.map(e=>ft(e)?Np(e):e))},entries(){return Y6(this,"entries",t=>(t[1]=Tl(this,t[1]),t))},every(t,e){return yc(this,"every",t,e,void 0,arguments)},filter(t,e){return yc(this,"filter",t,e,r=>r.map(n=>Tl(this,n)),arguments)},find(t,e){return yc(this,"find",t,e,r=>Tl(this,r),arguments)},findIndex(t,e){return yc(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yc(this,"findLast",t,e,r=>Tl(this,r),arguments)},findLastIndex(t,e){return yc(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yc(this,"forEach",t,e,void 0,arguments)},includes(...t){return J6(this,"includes",t)},indexOf(...t){return J6(this,"indexOf",t)},join(t){return Np(this).join(t)},lastIndexOf(...t){return J6(this,"lastIndexOf",t)},map(t,e){return yc(this,"map",t,e,void 0,arguments)},pop(){return zg(this,"pop")},push(...t){return zg(this,"push",t)},reduce(t,...e){return xB(this,"reduce",t,e)},reduceRight(t,...e){return xB(this,"reduceRight",t,e)},shift(){return zg(this,"shift")},some(t,e){return yc(this,"some",t,e,void 0,arguments)},splice(...t){return zg(this,"splice",t)},toReversed(){return Np(this).toReversed()},toSorted(t){return Np(this).toSorted(t)},toSpliced(...t){return Np(this).toSpliced(...t)},unshift(...t){return zg(this,"unshift",t)},values(){return Y6(this,"values",t=>Tl(this,t))}};function Y6(t,e,r){const n=xT(t),s=n[e]();return n!==t&&!Xi(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=r(i.value)),i}),s}const Rie=Array.prototype;function yc(t,e,r,n,s,i){const o=xT(t),a=o!==t&&!Xi(t),c=o[e];if(c!==Rie[e]){const d=c.apply(t,i);return a?ca(d):d}let u=r;o!==t&&(a?u=function(d,f){return r.call(this,Tl(t,d),f,t)}:r.length>2&&(u=function(d,f){return r.call(this,d,f,t)}));const l=c.call(o,u,n);return a&&s?s(l):l}function xB(t,e,r,n){const s=xT(t);let i=r;return s!==t&&(Xi(t)?r.length>3&&(i=function(o,a,c){return r.call(this,o,a,c,t)}):i=function(o,a,c){return r.call(this,o,Tl(t,a),c,t)}),s[e](i,...n)}function J6(t,e,r){const n=Gt(t);gs(n,"iterate",pw);const s=n[e](...r);return(s===-1||s===!1)&&OT(r[0])?(r[0]=Gt(r[0]),n[e](...r)):s}function zg(t,e,r=[]){Nu(),n8();const n=Gt(t)[e].apply(t,r);return s8(),Bu(),n}const Nie=XN("__proto__,__v_isRef,__isVue"),$W=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qu));function Bie(t){qu(t)||(t=String(t));const e=Gt(this);return gs(e,"has",t),e.hasOwnProperty(t)}class VW{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?zie:ZW:i?KW:WW).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=ft(e);if(!s){let c;if(o&&(c=Oie[r]))return c;if(r==="hasOwnProperty")return Bie}const a=Reflect.get(e,r,Or(e)?e:n);if((qu(r)?$W.has(r):Nie(r))||(s||gs(e,"get",r),i))return a;if(Or(a)){const c=o&&ST(r)?a:a.value;return s&&ar(c)?mw(c):c}return ar(a)?s?mw(a):lp(a):a}}class GW extends VW{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];const o=ft(e)&&ST(r);if(!this._isShallow){const u=ku(i);if(!Xi(n)&&!ku(n)&&(i=Gt(i),n=Gt(n)),!o&&Or(i)&&!Or(n))return u||(i.value=n),!0}const a=o?Number(r)<e.length:er(e,r),c=Reflect.set(e,r,n,Or(e)?e:s);return e===Gt(s)&&(a?od(n,i)&&vu(e,"set",r,n):vu(e,"add",r,n)),c}deleteProperty(e,r){const n=er(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&vu(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!qu(r)||!$W.has(r))&&gs(e,"has",r),n}ownKeys(e){return gs(e,"iterate",ft(e)?"length":Bh),Reflect.ownKeys(e)}}class kie extends VW{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const jie=new GW,Die=new kie,Mie=new GW(!0);const HO=t=>t,QE=t=>Reflect.getPrototypeOf(t);function Uie(t,e,r){return function(...n){const s=this.__v_raw,i=Gt(s),o=L0(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=s[t](...n),l=r?HO:e?$m:ca;return!e&&gs(i,"iterate",c?FO:Bh),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[l(d[0]),l(d[1])]:l(d),done:f}},[Symbol.iterator](){return this}}}}function XE(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Lie(t,e){const r={get(s){const i=this.__v_raw,o=Gt(i),a=Gt(s);t||(od(s,a)&&gs(o,"get",s),gs(o,"get",a));const{has:c}=QE(o),u=e?HO:t?$m:ca;if(c.call(o,s))return u(i.get(s));if(c.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&gs(Gt(s),"iterate",Bh),s.size},has(s){const i=this.__v_raw,o=Gt(i),a=Gt(s);return t||(od(s,a)&&gs(o,"has",s),gs(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=Gt(a),u=e?HO:t?$m:ca;return!t&&gs(c,"iterate",Bh),a.forEach((l,d)=>s.call(i,u(l),u(d),o))}};return kn(r,t?{add:XE("add"),set:XE("set"),delete:XE("delete"),clear:XE("clear")}:{add(s){!e&&!Xi(s)&&!ku(s)&&(s=Gt(s));const i=Gt(this);return QE(i).has.call(i,s)||(i.add(s),vu(i,"add",s,s)),this},set(s,i){!e&&!Xi(i)&&!ku(i)&&(i=Gt(i));const o=Gt(this),{has:a,get:c}=QE(o);let u=a.call(o,s);u||(s=Gt(s),u=a.call(o,s));const l=c.call(o,s);return o.set(s,i),u?od(i,l)&&vu(o,"set",s,i):vu(o,"add",s,i),this},delete(s){const i=Gt(this),{has:o,get:a}=QE(i);let c=o.call(i,s);c||(s=Gt(s),c=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return c&&vu(i,"delete",s,void 0),u},clear(){const s=Gt(this),i=s.size!==0,o=s.clear();return i&&vu(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=Uie(s,t,e)}),r}function a8(t,e){const r=Lie(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(er(r,s)&&s in n?r:n,s,i)}const Fie={get:a8(!1,!1)},Hie={get:a8(!1,!0)},qie={get:a8(!0,!1)};const WW=new WeakMap,KW=new WeakMap,ZW=new WeakMap,zie=new WeakMap;function $ie(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vie(t){return t.__v_skip||!Object.isExtensible(t)?0:$ie(gie(t))}function lp(t){return ku(t)?t:c8(t,!1,jie,Fie,WW)}function YW(t){return c8(t,!1,Mie,Hie,KW)}function mw(t){return c8(t,!0,Die,qie,ZW)}function c8(t,e,r,n,s){if(!ar(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Vie(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?n:r);return s.set(t,a),a}function ic(t){return ku(t)?ic(t.__v_raw):!!(t&&t.__v_isReactive)}function ku(t){return!!(t&&t.__v_isReadonly)}function Xi(t){return!!(t&&t.__v_isShallow)}function OT(t){return t?!!t.__v_raw:!1}function Gt(t){const e=t&&t.__v_raw;return e?Gt(e):t}function u8(t){return!er(t,"__v_skip")&&Object.isExtensible(t)&&xW(t,"__v_skip",!0),t}const ca=t=>ar(t)?lp(t):t,$m=t=>ar(t)?mw(t):t;function Or(t){return t?t.__v_isRef===!0:!1}function vt(t){return JW(t,!1)}function F0(t){return JW(t,!0)}function JW(t,e){return Or(t)?t:new Gie(t,e)}class Gie{constructor(e,r){this.dep=new o8,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Gt(e),this._value=r?e:ca(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Xi(e)||ku(e);e=n?e:Gt(e),od(e,r)&&(this._rawValue=e,this._value=n?e:ca(e),this.dep.trigger())}}function Se(t){return Or(t)?t.value:t}const Wie={get:(t,e,r)=>e==="__v_raw"?t:Se(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Or(s)&&!Or(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function QW(t){return ic(t)?t:new Proxy(t,Wie)}function Kie(t){const e=ft(t)?new Array(t.length):{};for(const r in t)e[r]=XW(t,r);return e}class Zie{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Gt(e);let s=!0,i=e;if(!ft(e)||!ST(String(r)))do s=!OT(i)||Xi(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=Se(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Or(this._raw[this._key])){const r=this._object[this._key];if(Or(r)){r.value=e;return}}this._object[this._key]=e}get dep(){return xie(this._raw,this._key)}}class Yie{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function l8(t,e,r){return Or(t)?t:lt(t)?new Yie(t):ar(t)&&arguments.length>1?XW(t,e,r):vt(t)}function XW(t,e,r){return new Zie(t,e,r)}class Jie{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new o8(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hw-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&xr!==this)return UW(this,!0),!0}get value(){const e=this.dep.track();return HW(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Qie(t,e,r=!1){let n,s;return lt(t)?n=t:(n=t.get,s=t.set),new Jie(n,s,r)}const ev={},rI=new WeakMap;let Df;function Xie(t,e=!1,r=Df){if(r){let n=rI.get(r);n||rI.set(r,n=[]),n.push(t)}}function eoe(t,e,r=_r){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=r,u=g=>s?g:Xi(g)||s===!1||s===0?_u(g,1):_u(g);let l,d,f,h,p=!1,m=!1;if(Or(t)?(d=()=>t.value,p=Xi(t)):ic(t)?(d=()=>u(t),p=!0):ft(t)?(m=!0,p=t.some(g=>ic(g)||Xi(g)),d=()=>t.map(g=>{if(Or(g))return g.value;if(ic(g))return u(g);if(lt(g))return c?c(g,2):g()})):lt(t)?e?d=c?()=>c(t,2):t:d=()=>{if(f){Nu();try{f()}finally{Bu()}}const g=Df;Df=l;try{return c?c(t,3,[h]):t(h)}finally{Df=g}}:d=pi,e&&s){const g=d,v=s===!0?1/0:s;d=()=>_u(g(),v)}const y=r8(),E=()=>{l.stop(),y&&y.active&&t8(y.effects,l)};if(i&&e){const g=e;e=(...v)=>{g(...v),E()}}let w=m?new Array(t.length).fill(ev):ev;const b=g=>{if(!(!(l.flags&1)||!l.dirty&&!g))if(e){const v=l.run();if(s||p||(m?v.some((A,C)=>od(A,w[C])):od(v,w))){f&&f();const A=Df;Df=l;try{const C=[v,w===ev?void 0:m&&w[0]===ev?[]:w,h];w=v,c?c(e,3,C):e(...C)}finally{Df=A}}}else l.run()};return a&&a(b),l=new DW(d),l.scheduler=o?()=>o(b,!1):b,h=g=>Xie(g,!1,l),f=l.onStop=()=>{const g=rI.get(l);if(g){if(c)c(g,4);else for(const v of g)v();rI.delete(l)}},e?n?b(!0):w=l.run():o?o(b.bind(null,!0),!0):l.run(),E.pause=l.pause.bind(l),E.resume=l.resume.bind(l),E.stop=E,E}function _u(t,e=1/0,r){if(e<=0||!ar(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Or(t))_u(t.value,e,r);else if(ft(t))for(let n=0;n<t.length;n++)_u(t[n],e,r);else if(SW(t)||L0(t))t.forEach(n=>{_u(n,e,r)});else if(PW(t)){for(const n in t)_u(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&_u(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function F1(t,e,r,n){try{return n?t(...n):t()}catch(s){RT(s,e,r)}}function ua(t,e,r,n){if(lt(t)){const s=F1(t,e,r,n);return s&&IW(s)&&s.catch(i=>{RT(i,e,r)}),s}if(ft(t)){const s=[];for(let i=0;i<t.length;i++)s.push(ua(t[i],e,r,n));return s}}function RT(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||_r;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const l=a.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](t,c,u)===!1)return}a=a.parent}if(i){Nu(),F1(i,null,10,[t,c,u]),Bu();return}}toe(t,r,s,n,o)}function toe(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Bs=[];let ja=-1;const H0=[];let Pl=null,y0=0;const eK=Promise.resolve();let nI=null;function Jo(t){const e=nI||eK;return t?e.then(this?t.bind(this):t):e}function roe(t){let e=ja+1,r=Bs.length;for(;e<r;){const n=e+r>>>1,s=Bs[n],i=gw(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function d8(t){if(!(t.flags&1)){const e=gw(t),r=Bs[Bs.length-1];!r||!(t.flags&2)&&e>=gw(r)?Bs.push(t):Bs.splice(roe(e),0,t),t.flags|=1,tK()}}function tK(){nI||(nI=eK.then(nK))}function noe(t){ft(t)?H0.push(...t):Pl&&t.id===-1?Pl.splice(y0+1,0,t):t.flags&1||(H0.push(t),t.flags|=1),tK()}function OB(t,e,r=ja+1){for(;r<Bs.length;r++){const n=Bs[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Bs.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function rK(t){if(H0.length){const e=[...new Set(H0)].sort((r,n)=>gw(r)-gw(n));if(H0.length=0,Pl){Pl.push(...e);return}for(Pl=e,y0=0;y0<Pl.length;y0++){const r=Pl[y0];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Pl=null,y0=0}}const gw=t=>t.id==null?t.flags&2?-1:1/0:t.id;function nK(t){try{for(ja=0;ja<Bs.length;ja++){const e=Bs[ja];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),F1(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ja<Bs.length;ja++){const e=Bs[ja];e&&(e.flags&=-2)}ja=-1,Bs.length=0,rK(),nI=null,(Bs.length||H0.length)&&nK()}}let Gn=null,sK=null;function sI(t){const e=Gn;return Gn=t,sK=t&&t.type.__scopeId||null,e}function Ja(t,e=Gn,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&cI(-1);const i=sI(e);let o;try{o=t(...s)}finally{sI(i),n._d&&cI(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function iI(t,e){if(Gn===null)return t;const r=DT(Gn),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=_r]=e[s];i&&(lt(i)&&(i={mounted:i,updated:i}),i.deep&&_u(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Xd(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(Nu(),ua(c,r,8,[t.el,a,t,e]),Bu())}}const soe=Symbol("_vte"),iK=t=>t.__isTeleport,ou=Symbol("_leaveCb"),tv=Symbol("_enterCb");function ioe(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Od(()=>{t.isMounted=!0}),f8(()=>{t.isUnmounting=!0}),t}const so=[Function,Array],oK={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:so,onEnter:so,onAfterEnter:so,onEnterCancelled:so,onBeforeLeave:so,onLeave:so,onAfterLeave:so,onLeaveCancelled:so,onBeforeAppear:so,onAppear:so,onAfterAppear:so,onAppearCancelled:so},aK=t=>{const e=t.subTree;return e.component?aK(e.component):e},ooe={name:"BaseTransition",props:oK,setup(t,{slots:e}){const r=qs(),n=ioe();return()=>{const s=e.default&&lK(e.default(),!0);if(!s||!s.length)return;const i=cK(s),o=Gt(t),{mode:a}=o;if(n.isLeaving)return Q6(i);const c=RB(i);if(!c)return Q6(i);let u=qO(c,o,n,r,d=>u=d);c.type!==ys&&yw(c,u);let l=r.subTree&&RB(r.subTree);if(l&&l.type!==ys&&!qf(l,c)&&aK(r).type!==ys){let d=qO(l,o,n,r);if(yw(l,d),a==="out-in"&&c.type!==ys)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,l=void 0},Q6(i);a==="in-out"&&c.type!==ys?d.delayLeave=(f,h,p)=>{const m=uK(n,l);m[String(l.key)]=l,f[ou]=()=>{h(),f[ou]=void 0,delete u.delayedLeave,l=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,l=void 0}}:l=void 0}else l&&(l=void 0);return i}}};function cK(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==ys){e=r;break}}return e}const aoe=ooe;function uK(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function qO(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:l,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:E,onAfterAppear:w,onAppearCancelled:b}=e,g=String(t.key),v=uK(r,t),A=(T,N)=>{T&&ua(T,n,9,N)},C=(T,N)=>{const M=N[1];A(T,N),ft(T)?T.every(k=>k.length<=1)&&M():T.length<=1&&M()},x={mode:o,persisted:a,beforeEnter(T){let N=c;if(!r.isMounted)if(i)N=y||c;else return;T[ou]&&T[ou](!0);const M=v[g];M&&qf(t,M)&&M.el[ou]&&M.el[ou](),A(N,[T])},enter(T){let N=u,M=l,k=d;if(!r.isMounted)if(i)N=E||u,M=w||l,k=b||d;else return;let B=!1;const U=T[tv]=I=>{B||(B=!0,I?A(k,[T]):A(M,[T]),x.delayedLeave&&x.delayedLeave(),T[tv]=void 0)};N?C(N,[T,U]):U()},leave(T,N){const M=String(t.key);if(T[tv]&&T[tv](!0),r.isUnmounting)return N();A(f,[T]);let k=!1;const B=T[ou]=U=>{k||(k=!0,N(),U?A(m,[T]):A(p,[T]),T[ou]=void 0,v[M]===t&&delete v[M])};v[M]=t,h?C(h,[T,B]):B()},clone(T){const N=qO(T,e,r,n,s);return s&&s(N),N}};return x}function Q6(t){if(NT(t))return t=hd(t),t.children=null,t}function RB(t){if(!NT(t))return iK(t.type)&&t.children?cK(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&lt(r.default))return r.default()}}function yw(t,e){t.shapeFlag&6&&t.component?(t.transition=e,yw(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function lK(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===zn?(o.patchFlag&128&&s++,n=n.concat(lK(o.children,e,a))):(e||o.type!==ys)&&n.push(a!=null?hd(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Rr(t,e){return lt(t)?kn({name:t.name},e,{setup:t}):t}function dK(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const oI=new WeakMap;function $b(t,e,r,n,s=!1){if(ft(t)){t.forEach((p,m)=>$b(p,e&&(ft(e)?e[m]:e),r,n,s));return}if(q0(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&$b(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?DT(n.component):n.el,o=s?null:i,{i:a,r:c}=t,u=e&&e.r,l=a.refs===_r?a.refs={}:a.refs,d=a.setupState,f=Gt(d),h=d===_r?CW:p=>er(f,p);if(u!=null&&u!==c){if(NB(e),dr(u))l[u]=null,h(u)&&(d[u]=null);else if(Or(u)){u.value=null;const p=e;p.k&&(l[p.k]=null)}}if(lt(c))F1(c,a,12,[o,l]);else{const p=dr(c),m=Or(c);if(p||m){const y=()=>{if(t.f){const E=p?h(c)?d[c]:l[c]:c.value;if(s)ft(E)&&t8(E,i);else if(ft(E))E.includes(i)||E.push(i);else if(p)l[c]=[i],h(c)&&(d[c]=l[c]);else{const w=[i];c.value=w,t.k&&(l[t.k]=w)}}else p?(l[c]=o,h(c)&&(d[c]=o)):m&&(c.value=o,t.k&&(l[t.k]=o))};if(o){const E=()=>{y(),oI.delete(t)};E.id=-1,oI.set(t,E),Mi(E,r)}else NB(t),y()}}}function NB(t){const e=oI.get(t);e&&(e.flags|=8,oI.delete(t))}PT().requestIdleCallback;PT().cancelIdleCallback;const q0=t=>!!t.type.__asyncLoader,NT=t=>t.type.__isKeepAlive;function coe(t,e){fK(t,"a",e)}function uoe(t,e){fK(t,"da",e)}function fK(t,e,r=bs){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(BT(e,n,r),r){let s=r.parent;for(;s&&s.parent;)NT(s.parent.vnode)&&loe(n,e,r,s),s=s.parent}}function loe(t,e,r,n){const s=BT(e,t,n,!0);H1(()=>{t8(n[e],s)},r)}function BT(t,e,r=bs,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Nu();const a=q1(r),c=ua(e,r,t,o);return a(),Bu(),c});return n?s.unshift(i):s.push(i),i}}const zu=t=>(e,r=bs)=>{(!ww||t==="sp")&&BT(t,(...n)=>e(...n),r)},doe=zu("bm"),Od=zu("m"),foe=zu("bu"),hoe=zu("u"),f8=zu("bum"),H1=zu("um"),poe=zu("sp"),moe=zu("rtg"),goe=zu("rtc");function yoe(t,e=bs){BT("ec",t,e)}const hK="components";function boe(t,e){return mK(hK,t,!0,e)||t}const pK=Symbol.for("v-ndc");function Hf(t){return dr(t)?mK(hK,t,!1)||t:t||pK}function mK(t,e,r=!0,n=!1){const s=Gn||bs;if(s){const i=s.type;{const a=cae(i,!1);if(a&&(a===e||a===Io(e)||a===TT(Io(e))))return i}const o=BB(s[t]||i[t],e)||BB(s.appContext[t],e);return!o&&n?i:o}}function BB(t,e){return t&&(t[e]||t[Io(e)]||t[TT(Io(e))])}function b7e(t,e,r,n){let s;const i=r,o=ft(t);if(o||dr(t)){const a=o&&ic(t);let c=!1,u=!1;a&&(c=!Xi(t),u=ku(t),t=xT(t)),s=new Array(t.length);for(let l=0,d=t.length;l<d;l++)s[l]=e(c?u?$m(ca(t[l])):ca(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(ar(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const l=a[c];s[c]=e(t[l],l,c,i)}}else s=[];return s}function T0(t,e,r={},n,s){if(Gn.ce||Gn.parent&&q0(Gn.parent)&&Gn.parent.ce){const u=Object.keys(r).length>0;return e!=="default"&&(r.name=e),ct(),fn(zn,null,[Gr("slot",r,n&&n())],u?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),ct();const o=i&&gK(i(r)),a=r.key||o&&o.key,c=fn(zn,{key:(a&&!qu(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function gK(t){return t.some(e=>fd(e)?!(e.type===ys||e.type===zn&&!gK(e.children)):!0)?t:null}const zO=t=>t?MK(t)?DT(t):zO(t.parent):null,Vb=kn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>zO(t.parent),$root:t=>zO(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>wK(t),$forceUpdate:t=>t.f||(t.f=()=>{d8(t.update)}),$nextTick:t=>t.n||(t.n=Jo.bind(t.proxy)),$watch:t=>Noe.bind(t)}),X6=(t,e)=>t!==_r&&!t.__isScriptSetup&&er(t,e),woe={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(X6(n,e))return o[e]=1,n[e];if(s!==_r&&er(s,e))return o[e]=2,s[e];if(er(i,e))return o[e]=3,i[e];if(r!==_r&&er(r,e))return o[e]=4,r[e];$O&&(o[e]=0)}}const u=Vb[e];let l,d;if(u)return e==="$attrs"&&gs(t.attrs,"get",""),u(t);if((l=a.__cssModules)&&(l=l[e]))return l;if(r!==_r&&er(r,e))return o[e]=4,r[e];if(d=c.config.globalProperties,er(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return X6(s,e)?(s[e]=r,!0):n!==_r&&er(n,e)?(n[e]=r,!0):er(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,props:i,type:o}},a){let c;return!!(r[a]||t!==_r&&a[0]!=="$"&&er(t,a)||X6(e,a)||er(i,a)||er(n,a)||er(Vb,a)||er(s.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:er(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Eoe(){return yK().slots}function voe(){return yK().attrs}function yK(t){const e=qs();return e.setupContext||(e.setupContext=LK(e))}function kB(t){return ft(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let $O=!0;function _oe(t){const e=wK(t),r=t.proxy,n=t.ctx;$O=!1,e.beforeCreate&&jB(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:y,beforeDestroy:E,beforeUnmount:w,destroyed:b,unmounted:g,render:v,renderTracked:A,renderTriggered:C,errorCaptured:x,serverPrefetch:T,expose:N,inheritAttrs:M,components:k,directives:B,filters:U}=e;if(u&&Aoe(u,n,null),o)for(const _ in o){const R=o[_];lt(R)&&(n[_]=R.bind(r))}if(s){const _=s.call(r,r);ar(_)&&(t.data=lp(_))}if($O=!0,i)for(const _ in i){const R=i[_],O=lt(R)?R.bind(r,r):lt(R.get)?R.get.bind(r,r):pi,P=!lt(R)&&lt(R.set)?R.set.bind(r):pi,D=We({get:O,set:P});Object.defineProperty(n,_,{enumerable:!0,configurable:!0,get:()=>D.value,set:j=>D.value=j})}if(a)for(const _ in a)bK(a[_],n,r,_);if(c){const _=lt(c)?c.call(r):c;Reflect.ownKeys(_).forEach(R=>{Gb(R,_[R])})}l&&jB(l,t,"c");function S(_,R){ft(R)?R.forEach(O=>_(O.bind(r))):R&&_(R.bind(r))}if(S(doe,d),S(Od,f),S(foe,h),S(hoe,p),S(coe,m),S(uoe,y),S(yoe,x),S(goe,A),S(moe,C),S(f8,w),S(H1,g),S(poe,T),ft(N))if(N.length){const _=t.exposed||(t.exposed={});N.forEach(R=>{Object.defineProperty(_,R,{get:()=>r[R],set:O=>r[R]=O,enumerable:!0})})}else t.exposed||(t.exposed={});v&&t.render===pi&&(t.render=v),M!=null&&(t.inheritAttrs=M),k&&(t.components=k),B&&(t.directives=B),T&&dK(t)}function Aoe(t,e,r=pi){ft(t)&&(t=VO(t));for(const n in t){const s=t[n];let i;ar(s)?"default"in s?i=jr(s.from||n,s.default,!0):i=jr(s.from||n):i=jr(s),Or(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function jB(t,e,r){ua(ft(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function bK(t,e,r,n){let s=n.includes(".")?_K(r,n):()=>r[n];if(dr(t)){const i=e[t];lt(i)&&eo(s,i)}else if(lt(t))eo(s,t.bind(r));else if(ar(t))if(ft(t))t.forEach(i=>bK(i,e,r,n));else{const i=lt(t.handler)?t.handler.bind(r):e[t.handler];lt(i)&&eo(s,i,t)}}function wK(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!r&&!n?c=e:(c={},s.length&&s.forEach(u=>aI(c,u,o,!0)),aI(c,e,o)),ar(e)&&i.set(e,c),c}function aI(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&aI(t,i,r,!0),s&&s.forEach(o=>aI(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=Coe[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Coe={data:DB,props:MB,emits:MB,methods:xb,computed:xb,beforeCreate:Ps,created:Ps,beforeMount:Ps,mounted:Ps,beforeUpdate:Ps,updated:Ps,beforeDestroy:Ps,beforeUnmount:Ps,destroyed:Ps,unmounted:Ps,activated:Ps,deactivated:Ps,errorCaptured:Ps,serverPrefetch:Ps,components:xb,directives:xb,watch:Ioe,provide:DB,inject:Soe};function DB(t,e){return e?t?function(){return kn(lt(t)?t.call(this,this):t,lt(e)?e.call(this,this):e)}:e:t}function Soe(t,e){return xb(VO(t),VO(e))}function VO(t){if(ft(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ps(t,e){return t?[...new Set([].concat(t,e))]:e}function xb(t,e){return t?kn(Object.create(null),t,e):e}function MB(t,e){return t?ft(t)&&ft(e)?[...new Set([...t,...e])]:kn(Object.create(null),kB(t),kB(e??{})):e}function Ioe(t,e){if(!t)return e;if(!e)return t;const r=kn(Object.create(null),t);for(const n in e)r[n]=Ps(t[n],e[n]);return r}function EK(){return{app:null,config:{isNativeTag:CW,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Toe=0;function Poe(t,e){return function(n,s=null){lt(n)||(n=kn({},n)),s!=null&&!ar(s)&&(s=null);const i=EK(),o=new WeakSet,a=[];let c=!1;const u=i.app={_uid:Toe++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:lae,get config(){return i.config},set config(l){},use(l,...d){return o.has(l)||(l&&lt(l.install)?(o.add(l),l.install(u,...d)):lt(l)&&(o.add(l),l(u,...d))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,d){return d?(i.components[l]=d,u):i.components[l]},directive(l,d){return d?(i.directives[l]=d,u):i.directives[l]},mount(l,d,f){if(!c){const h=u._ceVNode||Gr(n,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,l,f),c=!0,u._container=l,l.__vue_app__=u,DT(h.component)}},onUnmount(l){a.push(l)},unmount(){c&&(ua(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(l,d){return i.provides[l]=d,u},runWithContext(l){const d=kh;kh=u;try{return l()}finally{kh=d}}};return u}}let kh=null;function Gb(t,e){if(bs){let r=bs.provides;const n=bs.parent&&bs.parent.provides;n===r&&(r=bs.provides=Object.create(n)),r[t]=e}}function jr(t,e,r=!1){const n=qs();if(n||kh){let s=kh?kh._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&lt(e)?e.call(n&&n.proxy):e}}function xoe(){return!!(qs()||kh)}const Ooe=Symbol.for("v-scx"),Roe=()=>jr(Ooe);function vK(t,e){return h8(t,null,e)}function eo(t,e,r){return h8(t,e,r)}function h8(t,e,r=_r){const{immediate:n,deep:s,flush:i,once:o}=r,a=kn({},r),c=e&&n||!e&&i!=="post";let u;if(ww){if(i==="sync"){const h=Roe();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=pi,h.resume=pi,h.pause=pi,h}}const l=bs;a.call=(h,p,m)=>ua(h,l,p,m);let d=!1;i==="post"?a.scheduler=h=>{Mi(h,l&&l.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,p)=>{p?h():d8(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,l&&(h.id=l.uid,h.i=l))};const f=eoe(t,e,a);return ww&&(u?u.push(f):c&&f()),f}function Noe(t,e,r){const n=this.proxy,s=dr(t)?t.includes(".")?_K(n,t):()=>n[t]:t.bind(n,n);let i;lt(e)?i=e:(i=e.handler,r=e);const o=q1(this),a=h8(s,i.bind(n),r);return o(),a}function _K(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const Boe=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Io(e)}Modifiers`]||t[`${up(e)}Modifiers`];function koe(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||_r;let s=r;const i=e.startsWith("update:"),o=i&&Boe(n,e.slice(7));o&&(o.trim&&(s=r.map(l=>dr(l)?l.trim():l)),o.number&&(s=r.map(wie)));let a,c=n[a=G6(e)]||n[a=G6(Io(e))];!c&&i&&(c=n[a=G6(up(e))]),c&&ua(c,t,6,s);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ua(u,t,6,s)}}const joe=new WeakMap;function AK(t,e,r=!1){const n=r?joe:e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!lt(t)){const c=u=>{const l=AK(u,e,!0);l&&(a=!0,kn(o,l))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(ar(t)&&n.set(t,null),null):(ft(i)?i.forEach(c=>o[c]=null):kn(o,i),ar(t)&&n.set(t,o),o)}function kT(t,e){return!t||!AT(e)?!1:(e=e.slice(2).replace(/Once$/,""),er(t,e[0].toLowerCase()+e.slice(1))||er(t,up(e))||er(t,e))}function UB(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:u,renderCache:l,props:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t,y=sI(t);let E,w;try{if(r.shapeFlag&4){const g=s||n,v=g;E=Ka(u.call(v,g,l,d,h,f,p)),w=a}else{const g=e;E=Ka(g.length>1?g(d,{attrs:a,slots:o,emit:c}):g(d,null)),w=e.props?a:Doe(a)}}catch(g){Wb.length=0,RT(g,t,1),E=Gr(ys)}let b=E;if(w&&m!==!1){const g=Object.keys(w),{shapeFlag:v}=b;g.length&&v&7&&(i&&g.some(e8)&&(w=Moe(w,i)),b=hd(b,w,!1,!0))}return r.dirs&&(b=hd(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&yw(b,r.transition),E=b,sI(y),E}const Doe=t=>{let e;for(const r in t)(r==="class"||r==="style"||AT(r))&&((e||(e={}))[r]=t[r]);return e},Moe=(t,e)=>{const r={};for(const n in t)(!e8(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Uoe(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?LB(n,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let d=0;d<l.length;d++){const f=l[d];if(o[f]!==n[f]&&!kT(u,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?LB(n,o,u):!0:!!o;return!1}function LB(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!kT(r,i))return!0}return!1}function Loe({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const CK={},SK=()=>Object.create(CK),IK=t=>Object.getPrototypeOf(t)===CK;function Foe(t,e,r,n=!1){const s={},i=SK();t.propsDefaults=Object.create(null),TK(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:YW(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Hoe(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Gt(s),[c]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let d=0;d<l.length;d++){let f=l[d];if(kT(t.emitsOptions,f))continue;const h=e[f];if(c)if(er(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const p=Io(f);s[p]=GO(c,a,p,h,t,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{TK(t,e,s,i)&&(u=!0);let l;for(const d in a)(!e||!er(e,d)&&((l=up(d))===d||!er(e,l)))&&(c?r&&(r[d]!==void 0||r[l]!==void 0)&&(s[d]=GO(c,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!er(e,d))&&(delete i[d],u=!0)}u&&vu(t.attrs,"set","")}function TK(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Hb(c))continue;const u=e[c];let l;s&&er(s,l=Io(c))?!i||!i.includes(l)?r[l]=u:(a||(a={}))[l]=u:kT(t.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,o=!0)}if(i){const c=Gt(r),u=a||_r;for(let l=0;l<i.length;l++){const d=i[l];r[d]=GO(s,c,d,u[d],t,!er(u,d))}}return o}function GO(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=er(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&lt(c)){const{propsDefaults:u}=s;if(r in u)n=u[r];else{const l=q1(s);n=u[r]=c.call(null,e),l()}}else n=c;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===up(r))&&(n=!0))}return n}const qoe=new WeakMap;function PK(t,e,r=!1){const n=r?qoe:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!lt(t)){const l=d=>{c=!0;const[f,h]=PK(d,e,!0);kn(o,f),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!i&&!c)return ar(t)&&n.set(t,U0),U0;if(ft(i))for(let l=0;l<i.length;l++){const d=Io(i[l]);FB(d)&&(o[d]=_r)}else if(i)for(const l in i){const d=Io(l);if(FB(d)){const f=i[l],h=o[d]=ft(f)||lt(f)?{type:f}:kn({},f),p=h.type;let m=!1,y=!0;if(ft(p))for(let E=0;E<p.length;++E){const w=p[E],b=lt(w)&&w.name;if(b==="Boolean"){m=!0;break}else b==="String"&&(y=!1)}else m=lt(p)&&p.name==="Boolean";h[0]=m,h[1]=y,(m||er(h,"default"))&&a.push(d)}}const u=[o,a];return ar(t)&&n.set(t,u),u}function FB(t){return t[0]!=="$"&&!Hb(t)}const p8=t=>t==="_"||t==="_ctx"||t==="$stable",m8=t=>ft(t)?t.map(Ka):[Ka(t)],zoe=(t,e,r)=>{if(e._n)return e;const n=Ja((...s)=>m8(e(...s)),r);return n._c=!1,n},xK=(t,e,r)=>{const n=t._ctx;for(const s in t){if(p8(s))continue;const i=t[s];if(lt(i))e[s]=zoe(s,i,n);else if(i!=null){const o=m8(i);e[s]=()=>o}}},OK=(t,e)=>{const r=m8(e);t.slots.default=()=>r},RK=(t,e,r)=>{for(const n in e)(r||!p8(n))&&(t[n]=e[n])},$oe=(t,e,r)=>{const n=t.slots=SK();if(t.vnode.shapeFlag&32){const s=e._;s?(RK(n,e,r),r&&xW(n,"_",s,!0)):xK(e,n)}else e&&OK(t,e)},Voe=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=_r;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:RK(s,e,r):(i=!e.$stable,xK(e,s)),o=e}else e&&(OK(t,e),o={default:1});if(i)for(const a in s)!p8(a)&&o[a]==null&&delete s[a]},Mi=Yoe;function Goe(t){return Woe(t)}function Woe(t,e){const r=PT();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:d,nextSibling:f,setScopeId:h=pi,insertStaticContent:p}=t,m=(Y,V,Z,ne=null,ue=null,ce=null,ge=void 0,we=null,me=!!V.dynamicChildren)=>{if(Y===V)return;Y&&!qf(Y,V)&&(ne=K(Y),j(Y,ue,ce,!0),Y=null),V.patchFlag===-2&&(me=!1,V.dynamicChildren=null);const{type:ae,ref:Oe,shapeFlag:Ie}=V;switch(ae){case jT:y(Y,V,Z,ne);break;case ys:E(Y,V,Z,ne);break;case ES:Y==null&&w(V,Z,ne,ge);break;case zn:k(Y,V,Z,ne,ue,ce,ge,we,me);break;default:Ie&1?v(Y,V,Z,ne,ue,ce,ge,we,me):Ie&6?B(Y,V,Z,ne,ue,ce,ge,we,me):(Ie&64||Ie&128)&&ae.process(Y,V,Z,ne,ue,ce,ge,we,me,X)}Oe!=null&&ue?$b(Oe,Y&&Y.ref,ce,V||Y,!V):Oe==null&&Y&&Y.ref!=null&&$b(Y.ref,null,ce,Y,!0)},y=(Y,V,Z,ne)=>{if(Y==null)n(V.el=a(V.children),Z,ne);else{const ue=V.el=Y.el;V.children!==Y.children&&u(ue,V.children)}},E=(Y,V,Z,ne)=>{Y==null?n(V.el=c(V.children||""),Z,ne):V.el=Y.el},w=(Y,V,Z,ne)=>{[Y.el,Y.anchor]=p(Y.children,V,Z,ne,Y.el,Y.anchor)},b=({el:Y,anchor:V},Z,ne)=>{let ue;for(;Y&&Y!==V;)ue=f(Y),n(Y,Z,ne),Y=ue;n(V,Z,ne)},g=({el:Y,anchor:V})=>{let Z;for(;Y&&Y!==V;)Z=f(Y),s(Y),Y=Z;s(V)},v=(Y,V,Z,ne,ue,ce,ge,we,me)=>{if(V.type==="svg"?ge="svg":V.type==="math"&&(ge="mathml"),Y==null)A(V,Z,ne,ue,ce,ge,we,me);else{const ae=Y.el&&Y.el._isVueCE?Y.el:null;try{ae&&ae._beginPatch(),T(Y,V,ue,ce,ge,we,me)}finally{ae&&ae._endPatch()}}},A=(Y,V,Z,ne,ue,ce,ge,we)=>{let me,ae;const{props:Oe,shapeFlag:Ie,transition:Be,dirs:de}=Y;if(me=Y.el=o(Y.type,ce,Oe&&Oe.is,Oe),Ie&8?l(me,Y.children):Ie&16&&x(Y.children,me,null,ne,ue,ex(Y,ce),ge,we),de&&Xd(Y,null,ne,"created"),C(me,Y,Y.scopeId,ge,ne),Oe){for(const $ in Oe)$!=="value"&&!Hb($)&&i(me,$,null,Oe[$],ce,ne);"value"in Oe&&i(me,"value",null,Oe.value,ce),(ae=Oe.onVnodeBeforeMount)&&Aa(ae,ne,Y)}de&&Xd(Y,null,ne,"beforeMount");const oe=Koe(ue,Be);oe&&Be.beforeEnter(me),n(me,V,Z),((ae=Oe&&Oe.onVnodeMounted)||oe||de)&&Mi(()=>{ae&&Aa(ae,ne,Y),oe&&Be.enter(me),de&&Xd(Y,null,ne,"mounted")},ue)},C=(Y,V,Z,ne,ue)=>{if(Z&&h(Y,Z),ne)for(let ce=0;ce<ne.length;ce++)h(Y,ne[ce]);if(ue){let ce=ue.subTree;if(V===ce||kK(ce.type)&&(ce.ssContent===V||ce.ssFallback===V)){const ge=ue.vnode;C(Y,ge,ge.scopeId,ge.slotScopeIds,ue.parent)}}},x=(Y,V,Z,ne,ue,ce,ge,we,me=0)=>{for(let ae=me;ae<Y.length;ae++){const Oe=Y[ae]=we?xl(Y[ae]):Ka(Y[ae]);m(null,Oe,V,Z,ne,ue,ce,ge,we)}},T=(Y,V,Z,ne,ue,ce,ge)=>{const we=V.el=Y.el;let{patchFlag:me,dynamicChildren:ae,dirs:Oe}=V;me|=Y.patchFlag&16;const Ie=Y.props||_r,Be=V.props||_r;let de;if(Z&&ef(Z,!1),(de=Be.onVnodeBeforeUpdate)&&Aa(de,Z,V,Y),Oe&&Xd(V,Y,Z,"beforeUpdate"),Z&&ef(Z,!0),(Ie.innerHTML&&Be.innerHTML==null||Ie.textContent&&Be.textContent==null)&&l(we,""),ae?N(Y.dynamicChildren,ae,we,Z,ne,ex(V,ue),ce):ge||R(Y,V,we,null,Z,ne,ex(V,ue),ce,!1),me>0){if(me&16)M(we,Ie,Be,Z,ue);else if(me&2&&Ie.class!==Be.class&&i(we,"class",null,Be.class,ue),me&4&&i(we,"style",Ie.style,Be.style,ue),me&8){const oe=V.dynamicProps;for(let $=0;$<oe.length;$++){const L=oe[$],H=Ie[L],ee=Be[L];(ee!==H||L==="value")&&i(we,L,H,ee,ue,Z)}}me&1&&Y.children!==V.children&&l(we,V.children)}else!ge&&ae==null&&M(we,Ie,Be,Z,ue);((de=Be.onVnodeUpdated)||Oe)&&Mi(()=>{de&&Aa(de,Z,V,Y),Oe&&Xd(V,Y,Z,"updated")},ne)},N=(Y,V,Z,ne,ue,ce,ge)=>{for(let we=0;we<V.length;we++){const me=Y[we],ae=V[we],Oe=me.el&&(me.type===zn||!qf(me,ae)||me.shapeFlag&198)?d(me.el):Z;m(me,ae,Oe,null,ne,ue,ce,ge,!0)}},M=(Y,V,Z,ne,ue)=>{if(V!==Z){if(V!==_r)for(const ce in V)!Hb(ce)&&!(ce in Z)&&i(Y,ce,V[ce],null,ue,ne);for(const ce in Z){if(Hb(ce))continue;const ge=Z[ce],we=V[ce];ge!==we&&ce!=="value"&&i(Y,ce,we,ge,ue,ne)}"value"in Z&&i(Y,"value",V.value,Z.value,ue)}},k=(Y,V,Z,ne,ue,ce,ge,we,me)=>{const ae=V.el=Y?Y.el:a(""),Oe=V.anchor=Y?Y.anchor:a("");let{patchFlag:Ie,dynamicChildren:Be,slotScopeIds:de}=V;de&&(we=we?we.concat(de):de),Y==null?(n(ae,Z,ne),n(Oe,Z,ne),x(V.children||[],Z,Oe,ue,ce,ge,we,me)):Ie>0&&Ie&64&&Be&&Y.dynamicChildren?(N(Y.dynamicChildren,Be,Z,ue,ce,ge,we),(V.key!=null||ue&&V===ue.subTree)&&NK(Y,V,!0)):R(Y,V,Z,Oe,ue,ce,ge,we,me)},B=(Y,V,Z,ne,ue,ce,ge,we,me)=>{V.slotScopeIds=we,Y==null?V.shapeFlag&512?ue.ctx.activate(V,Z,ne,ge,me):U(V,Z,ne,ue,ce,ge,me):I(Y,V,me)},U=(Y,V,Z,ne,ue,ce,ge)=>{const we=Y.component=sae(Y,ne,ue);if(NT(Y)&&(we.ctx.renderer=X),iae(we,!1,ge),we.asyncDep){if(ue&&ue.registerDep(we,S,ge),!Y.el){const me=we.subTree=Gr(ys);E(null,me,V,Z),Y.placeholder=me.el}}else S(we,Y,V,Z,ue,ce,ge)},I=(Y,V,Z)=>{const ne=V.component=Y.component;if(Uoe(Y,V,Z))if(ne.asyncDep&&!ne.asyncResolved){_(ne,V,Z);return}else ne.next=V,ne.update();else V.el=Y.el,ne.vnode=V},S=(Y,V,Z,ne,ue,ce,ge)=>{const we=()=>{if(Y.isMounted){let{next:Ie,bu:Be,u:de,parent:oe,vnode:$}=Y;{const ye=BK(Y);if(ye){Ie&&(Ie.el=$.el,_(Y,Ie,ge)),ye.asyncDep.then(()=>{Y.isUnmounted||we()});return}}let L=Ie,H;ef(Y,!1),Ie?(Ie.el=$.el,_(Y,Ie,ge)):Ie=$,Be&&W6(Be),(H=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&Aa(H,oe,Ie,$),ef(Y,!0);const ee=UB(Y),le=Y.subTree;Y.subTree=ee,m(le,ee,d(le.el),K(le),Y,ue,ce),Ie.el=ee.el,L===null&&Loe(Y,ee.el),de&&Mi(de,ue),(H=Ie.props&&Ie.props.onVnodeUpdated)&&Mi(()=>Aa(H,oe,Ie,$),ue)}else{let Ie;const{el:Be,props:de}=V,{bm:oe,m:$,parent:L,root:H,type:ee}=Y,le=q0(V);ef(Y,!1),oe&&W6(oe),!le&&(Ie=de&&de.onVnodeBeforeMount)&&Aa(Ie,L,V),ef(Y,!0);{H.ce&&H.ce._def.shadowRoot!==!1&&H.ce._injectChildStyle(ee);const ye=Y.subTree=UB(Y);m(null,ye,Z,ne,Y,ue,ce),V.el=ye.el}if($&&Mi($,ue),!le&&(Ie=de&&de.onVnodeMounted)){const ye=V;Mi(()=>Aa(Ie,L,ye),ue)}(V.shapeFlag&256||L&&q0(L.vnode)&&L.vnode.shapeFlag&256)&&Y.a&&Mi(Y.a,ue),Y.isMounted=!0,V=Z=ne=null}};Y.scope.on();const me=Y.effect=new DW(we);Y.scope.off();const ae=Y.update=me.run.bind(me),Oe=Y.job=me.runIfDirty.bind(me);Oe.i=Y,Oe.id=Y.uid,me.scheduler=()=>d8(Oe),ef(Y,!0),ae()},_=(Y,V,Z)=>{V.component=Y;const ne=Y.vnode.props;Y.vnode=V,Y.next=null,Hoe(Y,V.props,ne,Z),Voe(Y,V.children,Z),Nu(),OB(Y),Bu()},R=(Y,V,Z,ne,ue,ce,ge,we,me=!1)=>{const ae=Y&&Y.children,Oe=Y?Y.shapeFlag:0,Ie=V.children,{patchFlag:Be,shapeFlag:de}=V;if(Be>0){if(Be&128){P(ae,Ie,Z,ne,ue,ce,ge,we,me);return}else if(Be&256){O(ae,Ie,Z,ne,ue,ce,ge,we,me);return}}de&8?(Oe&16&&W(ae,ue,ce),Ie!==ae&&l(Z,Ie)):Oe&16?de&16?P(ae,Ie,Z,ne,ue,ce,ge,we,me):W(ae,ue,ce,!0):(Oe&8&&l(Z,""),de&16&&x(Ie,Z,ne,ue,ce,ge,we,me))},O=(Y,V,Z,ne,ue,ce,ge,we,me)=>{Y=Y||U0,V=V||U0;const ae=Y.length,Oe=V.length,Ie=Math.min(ae,Oe);let Be;for(Be=0;Be<Ie;Be++){const de=V[Be]=me?xl(V[Be]):Ka(V[Be]);m(Y[Be],de,Z,null,ue,ce,ge,we,me)}ae>Oe?W(Y,ue,ce,!0,!1,Ie):x(V,Z,ne,ue,ce,ge,we,me,Ie)},P=(Y,V,Z,ne,ue,ce,ge,we,me)=>{let ae=0;const Oe=V.length;let Ie=Y.length-1,Be=Oe-1;for(;ae<=Ie&&ae<=Be;){const de=Y[ae],oe=V[ae]=me?xl(V[ae]):Ka(V[ae]);if(qf(de,oe))m(de,oe,Z,null,ue,ce,ge,we,me);else break;ae++}for(;ae<=Ie&&ae<=Be;){const de=Y[Ie],oe=V[Be]=me?xl(V[Be]):Ka(V[Be]);if(qf(de,oe))m(de,oe,Z,null,ue,ce,ge,we,me);else break;Ie--,Be--}if(ae>Ie){if(ae<=Be){const de=Be+1,oe=de<Oe?V[de].el:ne;for(;ae<=Be;)m(null,V[ae]=me?xl(V[ae]):Ka(V[ae]),Z,oe,ue,ce,ge,we,me),ae++}}else if(ae>Be)for(;ae<=Ie;)j(Y[ae],ue,ce,!0),ae++;else{const de=ae,oe=ae,$=new Map;for(ae=oe;ae<=Be;ae++){const wt=V[ae]=me?xl(V[ae]):Ka(V[ae]);wt.key!=null&&$.set(wt.key,ae)}let L,H=0;const ee=Be-oe+1;let le=!1,ye=0;const Ae=new Array(ee);for(ae=0;ae<ee;ae++)Ae[ae]=0;for(ae=de;ae<=Ie;ae++){const wt=Y[ae];if(H>=ee){j(wt,ue,ce,!0);continue}let Ct;if(wt.key!=null)Ct=$.get(wt.key);else for(L=oe;L<=Be;L++)if(Ae[L-oe]===0&&qf(wt,V[L])){Ct=L;break}Ct===void 0?j(wt,ue,ce,!0):(Ae[Ct-oe]=ae+1,Ct>=ye?ye=Ct:le=!0,m(wt,V[Ct],Z,null,ue,ce,ge,we,me),H++)}const tt=le?Zoe(Ae):U0;for(L=tt.length-1,ae=ee-1;ae>=0;ae--){const wt=oe+ae,Ct=V[wt],Wt=V[wt+1],kt=wt+1<Oe?Wt.el||Wt.placeholder:ne;Ae[ae]===0?m(null,Ct,Z,kt,ue,ce,ge,we,me):le&&(L<0||ae!==tt[L]?D(Ct,Z,kt,2):L--)}}},D=(Y,V,Z,ne,ue=null)=>{const{el:ce,type:ge,transition:we,children:me,shapeFlag:ae}=Y;if(ae&6){D(Y.component.subTree,V,Z,ne);return}if(ae&128){Y.suspense.move(V,Z,ne);return}if(ae&64){ge.move(Y,V,Z,X);return}if(ge===zn){n(ce,V,Z);for(let Ie=0;Ie<me.length;Ie++)D(me[Ie],V,Z,ne);n(Y.anchor,V,Z);return}if(ge===ES){b(Y,V,Z);return}if(ne!==2&&ae&1&&we)if(ne===0)we.beforeEnter(ce),n(ce,V,Z),Mi(()=>we.enter(ce),ue);else{const{leave:Ie,delayLeave:Be,afterLeave:de}=we,oe=()=>{Y.ctx.isUnmounted?s(ce):n(ce,V,Z)},$=()=>{ce._isLeaving&&ce[ou](!0),Ie(ce,()=>{oe(),de&&de()})};Be?Be(ce,oe,$):$()}else n(ce,V,Z)},j=(Y,V,Z,ne=!1,ue=!1)=>{const{type:ce,props:ge,ref:we,children:me,dynamicChildren:ae,shapeFlag:Oe,patchFlag:Ie,dirs:Be,cacheIndex:de}=Y;if(Ie===-2&&(ue=!1),we!=null&&(Nu(),$b(we,null,Z,Y,!0),Bu()),de!=null&&(V.renderCache[de]=void 0),Oe&256){V.ctx.deactivate(Y);return}const oe=Oe&1&&Be,$=!q0(Y);let L;if($&&(L=ge&&ge.onVnodeBeforeUnmount)&&Aa(L,V,Y),Oe&6)z(Y.component,Z,ne);else{if(Oe&128){Y.suspense.unmount(Z,ne);return}oe&&Xd(Y,null,V,"beforeUnmount"),Oe&64?Y.type.remove(Y,V,Z,X,ne):ae&&!ae.hasOnce&&(ce!==zn||Ie>0&&Ie&64)?W(ae,V,Z,!1,!0):(ce===zn&&Ie&384||!ue&&Oe&16)&&W(me,V,Z),ne&&F(Y)}($&&(L=ge&&ge.onVnodeUnmounted)||oe)&&Mi(()=>{L&&Aa(L,V,Y),oe&&Xd(Y,null,V,"unmounted")},Z)},F=Y=>{const{type:V,el:Z,anchor:ne,transition:ue}=Y;if(V===zn){q(Z,ne);return}if(V===ES){g(Y);return}const ce=()=>{s(Z),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(Y.shapeFlag&1&&ue&&!ue.persisted){const{leave:ge,delayLeave:we}=ue,me=()=>ge(Z,ce);we?we(Y.el,ce,me):me()}else ce()},q=(Y,V)=>{let Z;for(;Y!==V;)Z=f(Y),s(Y),Y=Z;s(V)},z=(Y,V,Z)=>{const{bum:ne,scope:ue,job:ce,subTree:ge,um:we,m:me,a:ae}=Y;HB(me),HB(ae),ne&&W6(ne),ue.stop(),ce&&(ce.flags|=8,j(ge,Y,V,Z)),we&&Mi(we,V),Mi(()=>{Y.isUnmounted=!0},V)},W=(Y,V,Z,ne=!1,ue=!1,ce=0)=>{for(let ge=ce;ge<Y.length;ge++)j(Y[ge],V,Z,ne,ue)},K=Y=>{if(Y.shapeFlag&6)return K(Y.component.subTree);if(Y.shapeFlag&128)return Y.suspense.next();const V=f(Y.anchor||Y.el),Z=V&&V[soe];return Z?f(Z):V};let re=!1;const Q=(Y,V,Z)=>{Y==null?V._vnode&&j(V._vnode,null,null,!0):m(V._vnode||null,Y,V,null,null,null,Z),V._vnode=Y,re||(re=!0,OB(),rK(),re=!1)},X={p:m,um:j,m:D,r:F,mt:U,mc:x,pc:R,pbc:N,n:K,o:t};return{render:Q,hydrate:void 0,createApp:Poe(Q)}}function ex({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ef({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Koe(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function NK(t,e,r=!1){const n=t.children,s=e.children;if(ft(n)&&ft(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=xl(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&NK(o,a)),a.type===jT&&a.patchFlag!==-1&&(a.el=o.el),a.type===ys&&!a.el&&(a.el=o.el)}}function Zoe(t){const e=t.slice(),r=[0];let n,s,i,o,a;const c=t.length;for(n=0;n<c;n++){const u=t[n];if(u!==0){if(s=r[r.length-1],t[s]<u){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<u?i=a+1:o=a;u<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function BK(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:BK(e)}function HB(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const kK=t=>t.__isSuspense;function Yoe(t,e){e&&e.pendingBranch?ft(t)?e.effects.push(...t):e.effects.push(t):noe(t)}const zn=Symbol.for("v-fgt"),jT=Symbol.for("v-txt"),ys=Symbol.for("v-cmt"),ES=Symbol.for("v-stc"),Wb=[];let Ji=null;function ct(t=!1){Wb.push(Ji=t?null:[])}function Joe(){Wb.pop(),Ji=Wb[Wb.length-1]||null}let bw=1;function cI(t,e=!1){bw+=t,t<0&&Ji&&e&&(Ji.hasOnce=!0)}function jK(t){return t.dynamicChildren=bw>0?Ji||U0:null,Joe(),bw>0&&Ji&&Ji.push(t),t}function ir(t,e,r,n,s,i){return jK(ot(t,e,r,n,s,i,!0))}function fn(t,e,r,n,s){return jK(Gr(t,e,r,n,s,!0))}function fd(t){return t?t.__v_isVNode===!0:!1}function qf(t,e){return t.type===e.type&&t.key===e.key}const DK=({key:t})=>t??null,vS=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?dr(t)||Or(t)||lt(t)?{i:Gn,r:t,k:e,f:!!r}:t:null);function ot(t,e=null,r=null,n=0,s=null,i=t===zn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&DK(e),ref:e&&vS(e),scopeId:sK,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Gn};return a?(g8(c,r),i&128&&t.normalize(c)):r&&(c.shapeFlag|=dr(r)?8:16),bw>0&&!o&&Ji&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ji.push(c),c}const Gr=Qoe;function Qoe(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===pK)&&(t=ys),fd(t)){const a=hd(t,e,!0);return r&&g8(a,r),bw>0&&!i&&Ji&&(a.shapeFlag&6?Ji[Ji.indexOf(t)]=a:Ji.push(a)),a.patchFlag=-2,a}if(uae(t)&&(t=t.__vccOpts),e){e=Xoe(e);let{class:a,style:c}=e;a&&!dr(a)&&(e.class=Pr(a)),ar(c)&&(OT(c)&&!ft(c)&&(c=kn({},c)),e.style=$h(c))}const o=dr(t)?1:kK(t)?128:iK(t)?64:ar(t)?4:lt(t)?2:0;return ot(t,e,r,n,s,o,i,!0)}function Xoe(t){return t?OT(t)||IK(t)?kn({},t):t:null}function hd(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,u=e?uI(s||{},e):s,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&DK(u),ref:e&&e.ref?r&&i?ft(i)?i.concat(vS(e)):[i,vS(e)]:vS(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==zn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hd(t.ssContent),ssFallback:t.ssFallback&&hd(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&yw(l,c.clone(l)),l}function eae(t=" ",e=0){return Gr(jT,null,t,e)}function tae(t,e){const r=Gr(ES,null,t);return r.staticCount=e,r}function nn(t="",e=!1){return e?(ct(),fn(ys,null,t)):Gr(ys,null,t)}function Ka(t){return t==null||typeof t=="boolean"?Gr(ys):ft(t)?Gr(zn,null,t.slice()):fd(t)?xl(t):Gr(jT,null,String(t))}function xl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hd(t)}function g8(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ft(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),g8(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!IK(e)?e._ctx=Gn:s===3&&Gn&&(Gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else lt(e)?(e={default:e,_ctx:Gn},r=32):(e=String(e),n&64?(r=16,e=[eae(e)]):r=8);t.children=e,t.shapeFlag|=r}function uI(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Pr([e.class,n.class]));else if(s==="style")e.style=$h([e.style,n.style]);else if(AT(s)){const i=e[s],o=n[s];o&&i!==o&&!(ft(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function Aa(t,e,r,n=null){ua(t,e,7,[r,n])}const rae=EK();let nae=0;function sae(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||rae,i={uid:nae++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new BW(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:PK(n,s),emitsOptions:AK(n,s),emit:null,emitted:null,propsDefaults:_r,inheritAttrs:n.inheritAttrs,ctx:_r,data:_r,props:_r,attrs:_r,slots:_r,refs:_r,setupState:_r,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=koe.bind(null,i),t.ce&&t.ce(i),i}let bs=null;const qs=()=>bs||Gn;let lI,WO;{const t=PT(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};lI=e("__VUE_INSTANCE_SETTERS__",r=>bs=r),WO=e("__VUE_SSR_SETTERS__",r=>ww=r)}const q1=t=>{const e=bs;return lI(t),t.scope.on(),()=>{t.scope.off(),lI(e)}},qB=()=>{bs&&bs.scope.off(),lI(null)};function MK(t){return t.vnode.shapeFlag&4}let ww=!1;function iae(t,e=!1,r=!1){e&&WO(e);const{props:n,children:s}=t.vnode,i=MK(t);Foe(t,n,i,e),$oe(t,s,r||e);const o=i?oae(t,e):void 0;return e&&WO(!1),o}function oae(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,woe);const{setup:n}=r;if(n){Nu();const s=t.setupContext=n.length>1?LK(t):null,i=q1(t),o=F1(n,t,0,[t.props,s]),a=IW(o);if(Bu(),i(),(a||t.sp)&&!q0(t)&&dK(t),a){if(o.then(qB,qB),e)return o.then(c=>{zB(t,c)}).catch(c=>{RT(c,t,0)});t.asyncDep=o}else zB(t,o)}else UK(t)}function zB(t,e,r){lt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ar(e)&&(t.setupState=QW(e)),UK(t)}function UK(t,e,r){const n=t.type;t.render||(t.render=n.render||pi);{const s=q1(t);Nu();try{_oe(t)}finally{Bu(),s()}}}const aae={get(t,e){return gs(t,"get",""),t[e]}};function LK(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,aae),slots:t.slots,emit:t.emit,expose:e}}function DT(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(QW(u8(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Vb)return Vb[r](t)},has(e,r){return r in e||r in Vb}})):t.proxy}function cae(t,e=!0){return lt(t)?t.displayName||t.name:t.name||e&&t.__name}function uae(t){return lt(t)&&"__vccOpts"in t}const We=(t,e)=>Qie(t,e,ww);function y8(t,e,r){try{cI(-1);const n=arguments.length;return n===2?ar(e)&&!ft(e)?fd(e)?Gr(t,null,[e]):Gr(t,e):Gr(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&fd(r)&&(r=[r]),Gr(t,e,r))}finally{cI(1)}}const lae="3.5.25",dae=pi;/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let KO;const $B=typeof window<"u"&&window.trustedTypes;if($B)try{KO=$B.createPolicy("vue",{createHTML:t=>t})}catch{}const FK=KO?t=>KO.createHTML(t):t=>t,fae="http://www.w3.org/2000/svg",hae="http://www.w3.org/1998/Math/MathML",tu=typeof document<"u"?document:null,VB=tu&&tu.createElement("template"),pae={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?tu.createElementNS(fae,t):e==="mathml"?tu.createElementNS(hae,t):r?tu.createElement(t,{is:r}):tu.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>tu.createTextNode(t),createComment:t=>tu.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tu.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{VB.innerHTML=FK(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=VB.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Ju="transition",$g="animation",Ew=Symbol("_vtc"),HK={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mae=kn({},oK,HK),gae=t=>(t.displayName="Transition",t.props=mae,t),qK=gae((t,{slots:e})=>y8(aoe,yae(t),e)),tf=(t,e=[])=>{ft(t)?t.forEach(r=>r(...e)):t&&t(...e)},GB=t=>t?ft(t)?t.some(e=>e.length>1):t.length>1:!1;function yae(t){const e={};for(const k in t)k in HK||(e[k]=t[k]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:l=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,p=bae(s),m=p&&p[0],y=p&&p[1],{onBeforeEnter:E,onEnter:w,onEnterCancelled:b,onLeave:g,onLeaveCancelled:v,onBeforeAppear:A=E,onAppear:C=w,onAppearCancelled:x=b}=e,T=(k,B,U,I)=>{k._enterCancelled=I,rf(k,B?l:a),rf(k,B?u:o),U&&U()},N=(k,B)=>{k._isLeaving=!1,rf(k,d),rf(k,h),rf(k,f),B&&B()},M=k=>(B,U)=>{const I=k?C:w,S=()=>T(B,k,U);tf(I,[B,S]),WB(()=>{rf(B,k?c:i),bc(B,k?l:a),GB(I)||KB(B,n,m,S)})};return kn(e,{onBeforeEnter(k){tf(E,[k]),bc(k,i),bc(k,o)},onBeforeAppear(k){tf(A,[k]),bc(k,c),bc(k,u)},onEnter:M(!1),onAppear:M(!0),onLeave(k,B){k._isLeaving=!0;const U=()=>N(k,B);bc(k,d),k._enterCancelled?(bc(k,f),JB(k)):(JB(k),bc(k,f)),WB(()=>{k._isLeaving&&(rf(k,d),bc(k,h),GB(g)||KB(k,n,y,U))}),tf(g,[k,U])},onEnterCancelled(k){T(k,!1,void 0,!0),tf(b,[k])},onAppearCancelled(k){T(k,!0,void 0,!0),tf(x,[k])},onLeaveCancelled(k){N(k),tf(v,[k])}})}function bae(t){if(t==null)return null;if(ar(t))return[tx(t.enter),tx(t.leave)];{const e=tx(t);return[e,e]}}function tx(t){return Eie(t)}function bc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Ew]||(t[Ew]=new Set)).add(e)}function rf(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Ew];r&&(r.delete(e),r.size||(t[Ew]=void 0))}function WB(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let wae=0;function KB(t,e,r,n){const s=t._endId=++wae,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:c}=Eae(t,e);if(!o)return n();const u=o+"end";let l=0;const d=()=>{t.removeEventListener(u,f),i()},f=h=>{h.target===t&&++l>=c&&d()};setTimeout(()=>{l<c&&d()},a+1),t.addEventListener(u,f)}function Eae(t,e){const r=window.getComputedStyle(t),n=p=>(r[p]||"").split(", "),s=n(`${Ju}Delay`),i=n(`${Ju}Duration`),o=ZB(s,i),a=n(`${$g}Delay`),c=n(`${$g}Duration`),u=ZB(a,c);let l=null,d=0,f=0;e===Ju?o>0&&(l=Ju,d=o,f=i.length):e===$g?u>0&&(l=$g,d=u,f=c.length):(d=Math.max(o,u),l=d>0?o>u?Ju:$g:null,f=l?l===Ju?i.length:c.length:0);const h=l===Ju&&/\b(?:transform|all)(?:,|$)/.test(n(`${Ju}Property`).toString());return{type:l,timeout:d,propCount:f,hasTransform:h}}function ZB(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>YB(r)+YB(t[n])))}function YB(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function JB(t){return(t?t.ownerDocument:document).body.offsetHeight}function vae(t,e,r){const n=t[Ew];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const dI=Symbol("_vod"),zK=Symbol("_vsh"),fI={name:"show",beforeMount(t,{value:e},{transition:r}){t[dI]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Vg(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Vg(t,!0),n.enter(t)):n.leave(t,()=>{Vg(t,!1)}):Vg(t,e))},beforeUnmount(t,{value:e}){Vg(t,e)}};function Vg(t,e){t.style.display=e?t[dI]:"none",t[zK]=!e}const _ae=Symbol(""),Aae=/(?:^|;)\s*display\s*:/;function Cae(t,e,r){const n=t.style,s=dr(r);let i=!1;if(r&&!s){if(e)if(dr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&_S(n,a,"")}else for(const o in e)r[o]==null&&_S(n,o,"");for(const o in r)o==="display"&&(i=!0),_S(n,o,r[o])}else if(s){if(e!==r){const o=n[_ae];o&&(r+=";"+o),n.cssText=r,i=Aae.test(r)}}else e&&t.removeAttribute("style");dI in t&&(t[dI]=i?n.display:"",t[zK]&&(n.display="none"))}const QB=/\s*!important$/;function _S(t,e,r){if(ft(r))r.forEach(n=>_S(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Sae(t,e);QB.test(r)?t.setProperty(up(n),r.replace(QB,""),"important"):t[n]=r}}const XB=["Webkit","Moz","ms"],rx={};function Sae(t,e){const r=rx[e];if(r)return r;let n=Io(e);if(n!=="filter"&&n in t)return rx[e]=n;n=TT(n);for(let s=0;s<XB.length;s++){const i=XB[s]+n;if(i in t)return rx[e]=i}return e}const ek="http://www.w3.org/1999/xlink";function tk(t,e,r,n,s,i=Iie(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(ek,e.slice(6,e.length)):t.setAttributeNS(ek,e,r):r==null||i&&!OW(r)?t.removeAttribute(e):t.setAttribute(e,i?"":qu(r)?String(r):r)}function rk(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?FK(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=OW(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function Iae(t,e,r,n){t.addEventListener(e,r,n)}function Tae(t,e,r,n){t.removeEventListener(e,r,n)}const nk=Symbol("_vei");function Pae(t,e,r,n,s=null){const i=t[nk]||(t[nk]={}),o=i[e];if(n&&o)o.value=n;else{const[a,c]=xae(e);if(n){const u=i[e]=Nae(n,s);Iae(t,a,u,c)}else o&&(Tae(t,a,o,c),i[e]=void 0)}}const sk=/(?:Once|Passive|Capture)$/;function xae(t){let e;if(sk.test(t)){e={};let n;for(;n=t.match(sk);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):up(t.slice(2)),e]}let nx=0;const Oae=Promise.resolve(),Rae=()=>nx||(Oae.then(()=>nx=0),nx=Date.now());function Nae(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ua(Bae(n,r.value),e,5,[n])};return r.value=t,r.attached=Rae(),r}function Bae(t,e){if(ft(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const ik=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,kae=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?vae(t,n,o):e==="style"?Cae(t,r,n):AT(e)?e8(e)||Pae(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jae(t,e,n,o))?(rk(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&tk(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!dr(n))?rk(t,Io(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),tk(t,e,n,o))};function jae(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ik(e)&&lt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ik(e)&&dr(r)?!1:e in t}const Dae=["ctrl","shift","alt","meta"],Mae={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Dae.some(r=>t[`${r}Key`]&&!e.includes(r))},AS=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=Mae[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},Uae=kn({patchProp:kae},pae);let ok;function $K(){return ok||(ok=Goe(Uae))}const ak=((...t)=>{$K().render(...t)}),Lae=((...t)=>{const e=$K().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=Hae(n);if(!s)return;const i=e._component;!lt(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,Fae(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function Fae(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Hae(t){return dr(t)?document.querySelector(t):t}var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function VK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var sx={},Gg={},ck;function qae(){if(ck)return Gg;ck=1,Gg.byteLength=a,Gg.toByteArray=u,Gg.fromByteArray=f;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(h){var p=h.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");m===-1&&(m=p);var y=m===p?0:4-m%4;return[m,y]}function a(h){var p=o(h),m=p[0],y=p[1];return(m+y)*3/4-y}function c(h,p,m){return(p+m)*3/4-m}function u(h){var p,m=o(h),y=m[0],E=m[1],w=new r(c(h,y,E)),b=0,g=E>0?y-4:y,v;for(v=0;v<g;v+=4)p=e[h.charCodeAt(v)]<<18|e[h.charCodeAt(v+1)]<<12|e[h.charCodeAt(v+2)]<<6|e[h.charCodeAt(v+3)],w[b++]=p>>16&255,w[b++]=p>>8&255,w[b++]=p&255;return E===2&&(p=e[h.charCodeAt(v)]<<2|e[h.charCodeAt(v+1)]>>4,w[b++]=p&255),E===1&&(p=e[h.charCodeAt(v)]<<10|e[h.charCodeAt(v+1)]<<4|e[h.charCodeAt(v+2)]>>2,w[b++]=p>>8&255,w[b++]=p&255),w}function l(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function d(h,p,m){for(var y,E=[],w=p;w<m;w+=3)y=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(h[w+2]&255),E.push(l(y));return E.join("")}function f(h){for(var p,m=h.length,y=m%3,E=[],w=16383,b=0,g=m-y;b<g;b+=w)E.push(d(h,b,b+w>g?g:b+w));return y===1?(p=h[m-1],E.push(t[p>>2]+t[p<<4&63]+"==")):y===2&&(p=(h[m-2]<<8)+h[m-1],E.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),E.join("")}return Gg}var rv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var uk;function zae(){return uk||(uk=1,rv.read=function(t,e,r,n,s){var i,o,a=s*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?s-1:0,f=r?-1:1,h=t[e+d];for(d+=f,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=i*256+t[e+d],d+=f,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=n;l>0;o=o*256+t[e+d],d+=f,l-=8);if(i===0)i=1-u;else{if(i===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-u}return(h?-1:1)*o*Math.pow(2,i-n)},rv.write=function(t,e,r,n,s,i){var o,a,c,u=i*8-s-1,l=(1<<u)-1,d=l>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,s),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;t[r+h]=a&255,h+=p,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;t[r+h]=o&255,h+=p,o/=256,u-=8);t[r+h-p]|=m*128}),rv}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lk;function $ae(){return lk||(lk=1,(function(t){const e=qae(),r=zae(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const $=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf($,L),$.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o($){if($>s)throw new RangeError('The value "'+$+'" is invalid for option "size"');const L=new Uint8Array($);return Object.setPrototypeOf(L,a.prototype),L}function a($,L,H){if(typeof $=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d($)}return c($,L,H)}a.poolSize=8192;function c($,L,H){if(typeof $=="string")return f($,L);if(ArrayBuffer.isView($))return p($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(Oe($,ArrayBuffer)||$&&Oe($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Oe($,SharedArrayBuffer)||$&&Oe($.buffer,SharedArrayBuffer)))return m($,L,H);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=$.valueOf&&$.valueOf();if(ee!=null&&ee!==$)return a.from(ee,L,H);const le=y($);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return a.from($[Symbol.toPrimitive]("string"),L,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}a.from=function($,L,H){return c($,L,H)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function l($,L,H){return u($),$<=0?o($):L!==void 0?typeof H=="string"?o($).fill(L,H):o($).fill(L):o($)}a.alloc=function($,L,H){return l($,L,H)};function d($){return u($),o($<0?0:E($)|0)}a.allocUnsafe=function($){return d($)},a.allocUnsafeSlow=function($){return d($)};function f($,L){if((typeof L!="string"||L==="")&&(L="utf8"),!a.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const H=b($,L)|0;let ee=o(H);const le=ee.write($,L);return le!==H&&(ee=ee.slice(0,le)),ee}function h($){const L=$.length<0?0:E($.length)|0,H=o(L);for(let ee=0;ee<L;ee+=1)H[ee]=$[ee]&255;return H}function p($){if(Oe($,Uint8Array)){const L=new Uint8Array($);return m(L.buffer,L.byteOffset,L.byteLength)}return h($)}function m($,L,H){if(L<0||$.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<L+(H||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return L===void 0&&H===void 0?ee=new Uint8Array($):H===void 0?ee=new Uint8Array($,L):ee=new Uint8Array($,L,H),Object.setPrototypeOf(ee,a.prototype),ee}function y($){if(a.isBuffer($)){const L=E($.length)|0,H=o(L);return H.length===0||$.copy(H,0,0,L),H}if($.length!==void 0)return typeof $.length!="number"||Ie($.length)?o(0):h($);if($.type==="Buffer"&&Array.isArray($.data))return h($.data)}function E($){if($>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return $|0}function w($){return+$!=$&&($=0),a.alloc(+$)}a.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==a.prototype},a.compare=function(L,H){if(Oe(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),Oe(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),!a.isBuffer(L)||!a.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===H)return 0;let ee=L.length,le=H.length;for(let ye=0,Ae=Math.min(ee,le);ye<Ae;++ye)if(L[ye]!==H[ye]){ee=L[ye],le=H[ye];break}return ee<le?-1:le<ee?1:0},a.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(L,H){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return a.alloc(0);let ee;if(H===void 0)for(H=0,ee=0;ee<L.length;++ee)H+=L[ee].length;const le=a.allocUnsafe(H);let ye=0;for(ee=0;ee<L.length;++ee){let Ae=L[ee];if(Oe(Ae,Uint8Array))ye+Ae.length>le.length?(a.isBuffer(Ae)||(Ae=a.from(Ae)),Ae.copy(le,ye)):Uint8Array.prototype.set.call(le,Ae,ye);else if(a.isBuffer(Ae))Ae.copy(le,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=Ae.length}return le};function b($,L){if(a.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Oe($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const H=$.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&H===0)return 0;let le=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return ce($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H*2;case"hex":return H>>>1;case"base64":return me($).length;default:if(le)return ee?-1:ce($).length;L=(""+L).toLowerCase(),le=!0}}a.byteLength=b;function g($,L,H){let ee=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0,L>>>=0,H<=L))return"";for($||($="utf8");;)switch($){case"hex":return O(this,L,H);case"utf8":case"utf-8":return U(this,L,H);case"ascii":return _(this,L,H);case"latin1":case"binary":return R(this,L,H);case"base64":return B(this,L,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,L,H);default:if(ee)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ee=!0}}a.prototype._isBuffer=!0;function v($,L,H){const ee=$[L];$[L]=$[H],$[H]=ee}a.prototype.swap16=function(){const L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<L;H+=2)v(this,H,H+1);return this},a.prototype.swap32=function(){const L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<L;H+=4)v(this,H,H+3),v(this,H+1,H+2);return this},a.prototype.swap64=function(){const L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<L;H+=8)v(this,H,H+7),v(this,H+1,H+6),v(this,H+2,H+5),v(this,H+3,H+4);return this},a.prototype.toString=function(){const L=this.length;return L===0?"":arguments.length===0?U(this,0,L):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(L){if(!a.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:a.compare(this,L)===0},a.prototype.inspect=function(){let L="";const H=t.INSPECT_MAX_BYTES;return L=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(L+=" ... "),"<Buffer "+L+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(L,H,ee,le,ye){if(Oe(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(H===void 0&&(H=0),ee===void 0&&(ee=L?L.length:0),le===void 0&&(le=0),ye===void 0&&(ye=this.length),H<0||ee>L.length||le<0||ye>this.length)throw new RangeError("out of range index");if(le>=ye&&H>=ee)return 0;if(le>=ye)return-1;if(H>=ee)return 1;if(H>>>=0,ee>>>=0,le>>>=0,ye>>>=0,this===L)return 0;let Ae=ye-le,tt=ee-H;const wt=Math.min(Ae,tt),Ct=this.slice(le,ye),Wt=L.slice(H,ee);for(let kt=0;kt<wt;++kt)if(Ct[kt]!==Wt[kt]){Ae=Ct[kt],tt=Wt[kt];break}return Ae<tt?-1:tt<Ae?1:0};function A($,L,H,ee,le){if($.length===0)return-1;if(typeof H=="string"?(ee=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,Ie(H)&&(H=le?0:$.length-1),H<0&&(H=$.length+H),H>=$.length){if(le)return-1;H=$.length-1}else if(H<0)if(le)H=0;else return-1;if(typeof L=="string"&&(L=a.from(L,ee)),a.isBuffer(L))return L.length===0?-1:C($,L,H,ee,le);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call($,L,H):Uint8Array.prototype.lastIndexOf.call($,L,H):C($,[L],H,ee,le);throw new TypeError("val must be string, number or Buffer")}function C($,L,H,ee,le){let ye=1,Ae=$.length,tt=L.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if($.length<2||L.length<2)return-1;ye=2,Ae/=2,tt/=2,H/=2}function wt(Wt,kt){return ye===1?Wt[kt]:Wt.readUInt16BE(kt*ye)}let Ct;if(le){let Wt=-1;for(Ct=H;Ct<Ae;Ct++)if(wt($,Ct)===wt(L,Wt===-1?0:Ct-Wt)){if(Wt===-1&&(Wt=Ct),Ct-Wt+1===tt)return Wt*ye}else Wt!==-1&&(Ct-=Ct-Wt),Wt=-1}else for(H+tt>Ae&&(H=Ae-tt),Ct=H;Ct>=0;Ct--){let Wt=!0;for(let kt=0;kt<tt;kt++)if(wt($,Ct+kt)!==wt(L,kt)){Wt=!1;break}if(Wt)return Ct}return-1}a.prototype.includes=function(L,H,ee){return this.indexOf(L,H,ee)!==-1},a.prototype.indexOf=function(L,H,ee){return A(this,L,H,ee,!0)},a.prototype.lastIndexOf=function(L,H,ee){return A(this,L,H,ee,!1)};function x($,L,H,ee){H=Number(H)||0;const le=$.length-H;ee?(ee=Number(ee),ee>le&&(ee=le)):ee=le;const ye=L.length;ee>ye/2&&(ee=ye/2);let Ae;for(Ae=0;Ae<ee;++Ae){const tt=parseInt(L.substr(Ae*2,2),16);if(Ie(tt))return Ae;$[H+Ae]=tt}return Ae}function T($,L,H,ee){return ae(ce(L,$.length-H),$,H,ee)}function N($,L,H,ee){return ae(ge(L),$,H,ee)}function M($,L,H,ee){return ae(me(L),$,H,ee)}function k($,L,H,ee){return ae(we(L,$.length-H),$,H,ee)}a.prototype.write=function(L,H,ee,le){if(H===void 0)le="utf8",ee=this.length,H=0;else if(ee===void 0&&typeof H=="string")le=H,ee=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(ee)?(ee=ee>>>0,le===void 0&&(le="utf8")):(le=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-H;if((ee===void 0||ee>ye)&&(ee=ye),L.length>0&&(ee<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Ae=!1;for(;;)switch(le){case"hex":return x(this,L,H,ee);case"utf8":case"utf-8":return T(this,L,H,ee);case"ascii":case"latin1":case"binary":return N(this,L,H,ee);case"base64":return M(this,L,H,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,L,H,ee);default:if(Ae)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B($,L,H){return L===0&&H===$.length?e.fromByteArray($):e.fromByteArray($.slice(L,H))}function U($,L,H){H=Math.min($.length,H);const ee=[];let le=L;for(;le<H;){const ye=$[le];let Ae=null,tt=ye>239?4:ye>223?3:ye>191?2:1;if(le+tt<=H){let wt,Ct,Wt,kt;switch(tt){case 1:ye<128&&(Ae=ye);break;case 2:wt=$[le+1],(wt&192)===128&&(kt=(ye&31)<<6|wt&63,kt>127&&(Ae=kt));break;case 3:wt=$[le+1],Ct=$[le+2],(wt&192)===128&&(Ct&192)===128&&(kt=(ye&15)<<12|(wt&63)<<6|Ct&63,kt>2047&&(kt<55296||kt>57343)&&(Ae=kt));break;case 4:wt=$[le+1],Ct=$[le+2],Wt=$[le+3],(wt&192)===128&&(Ct&192)===128&&(Wt&192)===128&&(kt=(ye&15)<<18|(wt&63)<<12|(Ct&63)<<6|Wt&63,kt>65535&&kt<1114112&&(Ae=kt))}}Ae===null?(Ae=65533,tt=1):Ae>65535&&(Ae-=65536,ee.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),ee.push(Ae),le+=tt}return S(ee)}const I=4096;function S($){const L=$.length;if(L<=I)return String.fromCharCode.apply(String,$);let H="",ee=0;for(;ee<L;)H+=String.fromCharCode.apply(String,$.slice(ee,ee+=I));return H}function _($,L,H){let ee="";H=Math.min($.length,H);for(let le=L;le<H;++le)ee+=String.fromCharCode($[le]&127);return ee}function R($,L,H){let ee="";H=Math.min($.length,H);for(let le=L;le<H;++le)ee+=String.fromCharCode($[le]);return ee}function O($,L,H){const ee=$.length;(!L||L<0)&&(L=0),(!H||H<0||H>ee)&&(H=ee);let le="";for(let ye=L;ye<H;++ye)le+=Be[$[ye]];return le}function P($,L,H){const ee=$.slice(L,H);let le="";for(let ye=0;ye<ee.length-1;ye+=2)le+=String.fromCharCode(ee[ye]+ee[ye+1]*256);return le}a.prototype.slice=function(L,H){const ee=this.length;L=~~L,H=H===void 0?ee:~~H,L<0?(L+=ee,L<0&&(L=0)):L>ee&&(L=ee),H<0?(H+=ee,H<0&&(H=0)):H>ee&&(H=ee),H<L&&(H=L);const le=this.subarray(L,H);return Object.setPrototypeOf(le,a.prototype),le};function D($,L,H){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+L>H)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=this[L],ye=1,Ae=0;for(;++Ae<H&&(ye*=256);)le+=this[L+Ae]*ye;return le},a.prototype.readUintBE=a.prototype.readUIntBE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=this[L+--H],ye=1;for(;H>0&&(ye*=256);)le+=this[L+--H]*ye;return le},a.prototype.readUint8=a.prototype.readUInt8=function(L,H){return L=L>>>0,H||D(L,1,this.length),this[L]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(L,H){return L=L>>>0,H||D(L,2,this.length),this[L]|this[L+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(L,H){return L=L>>>0,H||D(L,2,this.length),this[L]<<8|this[L+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(L,H){return L=L>>>0,H||D(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(L,H){return L=L>>>0,H||D(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},a.prototype.readBigUInt64LE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=H+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24,ye=this[++L]+this[++L]*2**8+this[++L]*2**16+ee*2**24;return BigInt(le)+(BigInt(ye)<<BigInt(32))}),a.prototype.readBigUInt64BE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=H*2**24+this[++L]*2**16+this[++L]*2**8+this[++L],ye=this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ee;return(BigInt(le)<<BigInt(32))+BigInt(ye)}),a.prototype.readIntLE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=this[L],ye=1,Ae=0;for(;++Ae<H&&(ye*=256);)le+=this[L+Ae]*ye;return ye*=128,le>=ye&&(le-=Math.pow(2,8*H)),le},a.prototype.readIntBE=function(L,H,ee){L=L>>>0,H=H>>>0,ee||D(L,H,this.length);let le=H,ye=1,Ae=this[L+--le];for(;le>0&&(ye*=256);)Ae+=this[L+--le]*ye;return ye*=128,Ae>=ye&&(Ae-=Math.pow(2,8*H)),Ae},a.prototype.readInt8=function(L,H){return L=L>>>0,H||D(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},a.prototype.readInt16LE=function(L,H){L=L>>>0,H||D(L,2,this.length);const ee=this[L]|this[L+1]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt16BE=function(L,H){L=L>>>0,H||D(L,2,this.length);const ee=this[L+1]|this[L]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt32LE=function(L,H){return L=L>>>0,H||D(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},a.prototype.readInt32BE=function(L,H){return L=L>>>0,H||D(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},a.prototype.readBigInt64LE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=this[L+4]+this[L+5]*2**8+this[L+6]*2**16+(ee<<24);return(BigInt(le)<<BigInt(32))+BigInt(H+this[++L]*2**8+this[++L]*2**16+this[++L]*2**24)}),a.prototype.readBigInt64BE=de(function(L){L=L>>>0,V(L,"offset");const H=this[L],ee=this[L+7];(H===void 0||ee===void 0)&&Z(L,this.length-8);const le=(H<<24)+this[++L]*2**16+this[++L]*2**8+this[++L];return(BigInt(le)<<BigInt(32))+BigInt(this[++L]*2**24+this[++L]*2**16+this[++L]*2**8+ee)}),a.prototype.readFloatLE=function(L,H){return L=L>>>0,H||D(L,4,this.length),r.read(this,L,!0,23,4)},a.prototype.readFloatBE=function(L,H){return L=L>>>0,H||D(L,4,this.length),r.read(this,L,!1,23,4)},a.prototype.readDoubleLE=function(L,H){return L=L>>>0,H||D(L,8,this.length),r.read(this,L,!0,52,8)},a.prototype.readDoubleBE=function(L,H){return L=L>>>0,H||D(L,8,this.length),r.read(this,L,!1,52,8)};function j($,L,H,ee,le,ye){if(!a.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>le||L<ye)throw new RangeError('"value" argument is out of bounds');if(H+ee>$.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(L,H,ee,le){if(L=+L,H=H>>>0,ee=ee>>>0,!le){const tt=Math.pow(2,8*ee)-1;j(this,L,H,ee,tt,0)}let ye=1,Ae=0;for(this[H]=L&255;++Ae<ee&&(ye*=256);)this[H+Ae]=L/ye&255;return H+ee},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(L,H,ee,le){if(L=+L,H=H>>>0,ee=ee>>>0,!le){const tt=Math.pow(2,8*ee)-1;j(this,L,H,ee,tt,0)}let ye=ee-1,Ae=1;for(this[H+ye]=L&255;--ye>=0&&(Ae*=256);)this[H+ye]=L/Ae&255;return H+ee},a.prototype.writeUint8=a.prototype.writeUInt8=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,1,255,0),this[H]=L&255,H+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,65535,0),this[H]=L&255,this[H+1]=L>>>8,H+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,65535,0),this[H]=L>>>8,this[H+1]=L&255,H+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,4294967295,0),this[H+3]=L>>>24,this[H+2]=L>>>16,this[H+1]=L>>>8,this[H]=L&255,H+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,4294967295,0),this[H]=L>>>24,this[H+1]=L>>>16,this[H+2]=L>>>8,this[H+3]=L&255,H+4};function F($,L,H,ee,le){Y(L,ee,le,$,H,7);let ye=Number(L&BigInt(4294967295));$[H++]=ye,ye=ye>>8,$[H++]=ye,ye=ye>>8,$[H++]=ye,ye=ye>>8,$[H++]=ye;let Ae=Number(L>>BigInt(32)&BigInt(4294967295));return $[H++]=Ae,Ae=Ae>>8,$[H++]=Ae,Ae=Ae>>8,$[H++]=Ae,Ae=Ae>>8,$[H++]=Ae,H}function q($,L,H,ee,le){Y(L,ee,le,$,H,7);let ye=Number(L&BigInt(4294967295));$[H+7]=ye,ye=ye>>8,$[H+6]=ye,ye=ye>>8,$[H+5]=ye,ye=ye>>8,$[H+4]=ye;let Ae=Number(L>>BigInt(32)&BigInt(4294967295));return $[H+3]=Ae,Ae=Ae>>8,$[H+2]=Ae,Ae=Ae>>8,$[H+1]=Ae,Ae=Ae>>8,$[H]=Ae,H+8}a.prototype.writeBigUInt64LE=de(function(L,H=0){return F(this,L,H,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=de(function(L,H=0){return q(this,L,H,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(L,H,ee,le){if(L=+L,H=H>>>0,!le){const wt=Math.pow(2,8*ee-1);j(this,L,H,ee,wt-1,-wt)}let ye=0,Ae=1,tt=0;for(this[H]=L&255;++ye<ee&&(Ae*=256);)L<0&&tt===0&&this[H+ye-1]!==0&&(tt=1),this[H+ye]=(L/Ae>>0)-tt&255;return H+ee},a.prototype.writeIntBE=function(L,H,ee,le){if(L=+L,H=H>>>0,!le){const wt=Math.pow(2,8*ee-1);j(this,L,H,ee,wt-1,-wt)}let ye=ee-1,Ae=1,tt=0;for(this[H+ye]=L&255;--ye>=0&&(Ae*=256);)L<0&&tt===0&&this[H+ye+1]!==0&&(tt=1),this[H+ye]=(L/Ae>>0)-tt&255;return H+ee},a.prototype.writeInt8=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,1,127,-128),L<0&&(L=255+L+1),this[H]=L&255,H+1},a.prototype.writeInt16LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,32767,-32768),this[H]=L&255,this[H+1]=L>>>8,H+2},a.prototype.writeInt16BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,2,32767,-32768),this[H]=L>>>8,this[H+1]=L&255,H+2},a.prototype.writeInt32LE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,2147483647,-2147483648),this[H]=L&255,this[H+1]=L>>>8,this[H+2]=L>>>16,this[H+3]=L>>>24,H+4},a.prototype.writeInt32BE=function(L,H,ee){return L=+L,H=H>>>0,ee||j(this,L,H,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[H]=L>>>24,this[H+1]=L>>>16,this[H+2]=L>>>8,this[H+3]=L&255,H+4},a.prototype.writeBigInt64LE=de(function(L,H=0){return F(this,L,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=de(function(L,H=0){return q(this,L,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function z($,L,H,ee,le,ye){if(H+ee>$.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function W($,L,H,ee,le){return L=+L,H=H>>>0,le||z($,L,H,4),r.write($,L,H,ee,23,4),H+4}a.prototype.writeFloatLE=function(L,H,ee){return W(this,L,H,!0,ee)},a.prototype.writeFloatBE=function(L,H,ee){return W(this,L,H,!1,ee)};function K($,L,H,ee,le){return L=+L,H=H>>>0,le||z($,L,H,8),r.write($,L,H,ee,52,8),H+8}a.prototype.writeDoubleLE=function(L,H,ee){return K(this,L,H,!0,ee)},a.prototype.writeDoubleBE=function(L,H,ee){return K(this,L,H,!1,ee)},a.prototype.copy=function(L,H,ee,le){if(!a.isBuffer(L))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!le&&le!==0&&(le=this.length),H>=L.length&&(H=L.length),H||(H=0),le>0&&le<ee&&(le=ee),le===ee||L.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),L.length-H<le-ee&&(le=L.length-H+ee);const ye=le-ee;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(H,ee,le):Uint8Array.prototype.set.call(L,this.subarray(ee,le),H),ye},a.prototype.fill=function(L,H,ee,le){if(typeof L=="string"){if(typeof H=="string"?(le=H,H=0,ee=this.length):typeof ee=="string"&&(le=ee,ee=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!a.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(L.length===1){const Ae=L.charCodeAt(0);(le==="utf8"&&Ae<128||le==="latin1")&&(L=Ae)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(H<0||this.length<H||this.length<ee)throw new RangeError("Out of range index");if(ee<=H)return this;H=H>>>0,ee=ee===void 0?this.length:ee>>>0,L||(L=0);let ye;if(typeof L=="number")for(ye=H;ye<ee;++ye)this[ye]=L;else{const Ae=a.isBuffer(L)?L:a.from(L,le),tt=Ae.length;if(tt===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(ye=0;ye<ee-H;++ye)this[ye+H]=Ae[ye%tt]}return this};const re={};function Q($,L,H){re[$]=class extends H{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}Q("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function($,L){return`The "${$}" argument must be of type number. Received type ${typeof L}`},TypeError),Q("ERR_OUT_OF_RANGE",function($,L,H){let ee=`The value of "${$}" is out of range.`,le=H;return Number.isInteger(H)&&Math.abs(H)>2**32?le=X(String(H)):typeof H=="bigint"&&(le=String(H),(H>BigInt(2)**BigInt(32)||H<-(BigInt(2)**BigInt(32)))&&(le=X(le)),le+="n"),ee+=` It must be ${L}. Received ${le}`,ee},RangeError);function X($){let L="",H=$.length;const ee=$[0]==="-"?1:0;for(;H>=ee+4;H-=3)L=`_${$.slice(H-3,H)}${L}`;return`${$.slice(0,H)}${L}`}function ie($,L,H){V(L,"offset"),($[L]===void 0||$[L+H]===void 0)&&Z(L,$.length-(H+1))}function Y($,L,H,ee,le,ye){if($>H||$<L){const Ae=typeof L=="bigint"?"n":"";let tt;throw L===0||L===BigInt(0)?tt=`>= 0${Ae} and < 2${Ae} ** ${(ye+1)*8}${Ae}`:tt=`>= -(2${Ae} ** ${(ye+1)*8-1}${Ae}) and < 2 ** ${(ye+1)*8-1}${Ae}`,new re.ERR_OUT_OF_RANGE("value",tt,$)}ie(ee,le,ye)}function V($,L){if(typeof $!="number")throw new re.ERR_INVALID_ARG_TYPE(L,"number",$)}function Z($,L,H){throw Math.floor($)!==$?(V($,H),new re.ERR_OUT_OF_RANGE("offset","an integer",$)):L<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${L}`,$)}const ne=/[^+/0-9A-Za-z-_]/g;function ue($){if($=$.split("=")[0],$=$.trim().replace(ne,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function ce($,L){L=L||1/0;let H;const ee=$.length;let le=null;const ye=[];for(let Ae=0;Ae<ee;++Ae){if(H=$.charCodeAt(Ae),H>55295&&H<57344){if(!le){if(H>56319){(L-=3)>-1&&ye.push(239,191,189);continue}else if(Ae+1===ee){(L-=3)>-1&&ye.push(239,191,189);continue}le=H;continue}if(H<56320){(L-=3)>-1&&ye.push(239,191,189),le=H;continue}H=(le-55296<<10|H-56320)+65536}else le&&(L-=3)>-1&&ye.push(239,191,189);if(le=null,H<128){if((L-=1)<0)break;ye.push(H)}else if(H<2048){if((L-=2)<0)break;ye.push(H>>6|192,H&63|128)}else if(H<65536){if((L-=3)<0)break;ye.push(H>>12|224,H>>6&63|128,H&63|128)}else if(H<1114112){if((L-=4)<0)break;ye.push(H>>18|240,H>>12&63|128,H>>6&63|128,H&63|128)}else throw new Error("Invalid code point")}return ye}function ge($){const L=[];for(let H=0;H<$.length;++H)L.push($.charCodeAt(H)&255);return L}function we($,L){let H,ee,le;const ye=[];for(let Ae=0;Ae<$.length&&!((L-=2)<0);++Ae)H=$.charCodeAt(Ae),ee=H>>8,le=H%256,ye.push(le),ye.push(ee);return ye}function me($){return e.toByteArray(ue($))}function ae($,L,H,ee){let le;for(le=0;le<ee&&!(le+H>=L.length||le>=$.length);++le)L[le+H]=$[le];return le}function Oe($,L){return $ instanceof L||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===L.name}function Ie($){return $!==$}const Be=(function(){const $="0123456789abcdef",L=new Array(256);for(let H=0;H<16;++H){const ee=H*16;for(let le=0;le<16;++le)L[ee+le]=$[H]+$[le]}return L})();function de($){return typeof BigInt>"u"?oe:$}function oe(){throw new Error("BigInt not supported")}})(sx)),sx}var Vae=$ae();const GK=""+new URL("logo-CwAGNRlz.svg",import.meta.url).href,Gae="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI3BhaW50MF9hbmd1bGFyXzM3ODEwXzMzNDRfY2xpcF9wYXRoKSIgZGF0YS1maWdtYS1za2lwLXBhcnNlPSJ0cnVlIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjAwODEyNSAwIDAgMC4wMDgxMjUgMTAgMTAuNSkiPjxmb3JlaWduT2JqZWN0IHg9Ii0xMDQ2LjE1IiB5PSItMTA0Ni4xNSIgd2lkdGg9IjIwOTIuMzEiIGhlaWdodD0iMjA5Mi4zMSI+PGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgc3R5bGU9ImJhY2tncm91bmQ6Y29uaWMtZ3JhZGllbnQoZnJvbSA5MGRlZyxyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDAwMSkgMGRlZyxyZ2JhKDEzMiwgMTM5LCAxNTAsIDEpIDM2MGRlZyk7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtvcGFjaXR5OjEiPjwvZGl2PjwvZm9yZWlnbk9iamVjdD48L2c+PC9nPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi4yNSAxMC41QzIuMjUgNi4yMTk3OSA1LjcxOTc5IDIuNzUgMTAgMi43NUMxNC4yODAyIDIuNzUgMTcuNzUgNi4yMTk3OSAxNy43NSAxMC41QzE3Ljc1IDE0Ljc4MDIgMTQuMjgwMiAxOC4yNSAxMCAxOC4yNUM1LjcxOTc5IDE4LjI1IDIuMjUgMTQuNzgwMiAyLjI1IDEwLjVaTTEwIDQuNUM2LjY4NjI5IDQuNSA0IDcuMTg2MjkgNCAxMC41QzQgMTMuODEzNyA2LjY4NjI5IDE2LjUgMTAgMTYuNUMxMy4zMTM3IDE2LjUgMTYgMTMuODEzNyAxNiAxMC41QzE2IDcuMTg2MjkgMTMuMzEzNyA0LjUgMTAgNC41WiIgZGF0YS1maWdtYS1ncmFkaWVudC1maWxsPSJ7JiMzNDt0eXBlJiMzNDs6JiMzNDtHUkFESUVOVF9BTkdVTEFSJiMzNDssJiMzNDtzdG9wcyYjMzQ7Olt7JiMzNDtjb2xvciYjMzQ7OnsmIzM0O3ImIzM0OzoxLjAsJiMzNDtnJiMzNDs6MS4wLCYjMzQ7YiYjMzQ7OjEuMCwmIzM0O2EmIzM0Ozo5Ljk5OTk5OTc0NzM3ODc1MTZlLTA1fSwmIzM0O3Bvc2l0aW9uJiMzNDs6MC4wfSx7JiMzNDtjb2xvciYjMzQ7OnsmIzM0O3ImIzM0OzowLjUxNzY0NzA4NzU3NDAwNTEzLCYjMzQ7ZyYjMzQ7OjAuNTQ1MDk4MDY2MzI5OTU2MDUsJiMzNDtiJiMzNDs6MC41ODgyMzUzMTg2NjA3MzYwOCwmIzM0O2EmIzM0OzoxLjB9LCYjMzQ7cG9zaXRpb24mIzM0OzoxLjB9XSwmIzM0O3N0b3BzVmFyJiMzNDs6W10sJiMzNDt0cmFuc2Zvcm0mIzM0Ozp7JiMzNDttMDAmIzM0OzoxNi4yNTAsJiMzNDttMDEmIzM0OzowLjAsJiMzNDttMDImIzM0OzoxLjg3NTAsJiMzNDttMTAmIzM0OzowLjAsJiMzNDttMTEmIzM0OzoxNi4yNTAsJiMzNDttMTImIzM0OzoyLjM3NTB9LCYjMzQ7b3BhY2l0eSYjMzQ7OjEuMCwmIzM0O2JsZW5kTW9kZSYjMzQ7OiYjMzQ7Tk9STUFMJiMzNDssJiMzNDt2aXNpYmxlJiMzNDs6dHJ1ZX0iLz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0icGFpbnQwX2FuZ3VsYXJfMzc4MTBfMzM0NF9jbGlwX3BhdGgiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMi4yNSAxMC41QzIuMjUgNi4yMTk3OSA1LjcxOTc5IDIuNzUgMTAgMi43NUMxNC4yODAyIDIuNzUgMTcuNzUgNi4yMTk3OSAxNy43NSAxMC41QzE3Ljc1IDE0Ljc4MDIgMTQuMjgwMiAxOC4yNSAxMCAxOC4yNUM1LjcxOTc5IDE4LjI1IDIuMjUgMTQuNzgwMiAyLjI1IDEwLjVaTTEwIDQuNUM2LjY4NjI5IDQuNSA0IDcuMTg2MjkgNCAxMC41QzQgMTMuODEzNyA2LjY4NjI5IDE2LjUgMTAgMTYuNUMxMy4zMTM3IDE2LjUgMTYgMTMuODEzNyAxNiAxMC41QzE2IDcuMTg2MjkgMTMuMzEzNyA0LjUgMTAgNC41WiIvPjwvY2xpcFBhdGg+PC9kZWZzPgo8L3N2Zz4K",Wae=Symbol(),dk=Object.getPrototypeOf,ZO=new WeakMap,Kae=t=>t&&(ZO.has(t)?ZO.get(t):dk(t)===Object.prototype||dk(t)===Array.prototype),Zae=t=>Kae(t)&&t[Wae]||null,fk=(t,e=!0)=>{ZO.set(t,e)},hI={},b8=t=>typeof t=="object"&&t!==null,Yae=t=>b8(t)&&!z1.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),WK=(t,e)=>{const r=YO.get(t);if((r==null?void 0:r[0])===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return fk(n,!0),YO.set(t,[e,n]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(n,s))return;const i=Reflect.get(t,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,s),a={value:i,enumerable:o,configurable:!0};if(z1.has(i))fk(i,!1);else if(pd.has(i)){const[c,u]=pd.get(i);a.value=WK(c,u())}Object.defineProperty(n,s,a)}),Object.preventExtensions(n)},Jae=(t,e,r,n)=>({deleteProperty(s,i){const o=Reflect.get(s,i);r(i);const a=Reflect.deleteProperty(s,i);return a&&n(["delete",[i],o]),a},set(s,i,o,a){const c=!t()&&Reflect.has(s,i),u=Reflect.get(s,i,a);if(c&&(hk(u,o)||vw.has(o)&&hk(u,vw.get(o))))return!0;r(i),b8(o)&&(o=Zae(o)||o);const l=!pd.has(o)&&Xae(o)?Dr(o):o;return e(i,l),Reflect.set(s,i,l,a),n(["set",[i],o,u]),!0}}),pd=new WeakMap,z1=new WeakSet,YO=new WeakMap,CS=[1],vw=new WeakMap;let hk=Object.is,Qae=(t,e)=>new Proxy(t,e),Xae=Yae,ece=WK,tce=Jae;function Dr(t={}){if(!b8(t))throw new Error("object required");const e=vw.get(t);if(e)return e;let r=CS[0];const n=new Set,s=(y,E=++CS[0])=>{r!==E&&(i=r=E,n.forEach(w=>w(y,E)))};let i=r;const o=(y=CS[0])=>(i!==y&&(i=y,c.forEach(([E])=>{const w=E[1](y);w>r&&(r=w)})),r),a=y=>(E,w)=>{const b=[...E];b[1]=[y,...b[1]],s(b,w)},c=new Map,u=(y,E)=>{const w=!z1.has(E)&&pd.get(E);if(w){if((hI?"production":void 0)!=="production"&&c.has(y))throw new Error("prop listener already exists");if(n.size){const b=w[2](a(y));c.set(y,[w,b])}else c.set(y,[w])}},l=y=>{var E;const w=c.get(y);w&&(c.delete(y),(E=w[1])==null||E.call(w))},d=y=>(n.add(y),n.size===1&&c.forEach(([w,b],g)=>{if((hI?"production":void 0)!=="production"&&b)throw new Error("remove already exists");const v=w[2](a(g));c.set(g,[w,v])}),()=>{n.delete(y),n.size===0&&c.forEach(([w,b],g)=>{b&&(b(),c.set(g,[w]))})});let f=!0;const h=tce(()=>f,u,l,s),p=Qae(t,h);vw.set(t,p);const m=[t,o,d];return pd.set(p,m),Reflect.ownKeys(t).forEach(y=>{const E=Object.getOwnPropertyDescriptor(t,y);"value"in E&&E.writable&&(p[y]=t[y])}),f=!1,p}function Kn(t,e,r){const n=pd.get(t);(hI?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let s;const i=[],o=n[2];let a=!1;const u=o(l=>{i.push(l),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,u()}}function _w(t){const e=pd.get(t);(hI?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[r,n]=e;return ece(r,n())}function Aw(t){return z1.add(t),t}function rce(){return{proxyStateMap:pd,refSet:z1,snapCache:YO,versionHolder:CS,proxyCache:vw}}function Zn(t,e,r,n){let s=t[e];return Kn(t,()=>{const i=t[e];Object.is(s,i)||r(s=i)})}const{proxyStateMap:nce,snapCache:sce}=rce(),nv=t=>nce.has(t);function ice(t){const e=[];let r=0;const n=new Map,s=new WeakMap,i=()=>{const u=sce.get(a),l=u==null?void 0:u[1];if(l&&!s.has(l)){const d=new Map(n);s.set(l,d)}},o=u=>s.get(u)||n,a={data:e,index:r,epoch:0,get size(){return nv(this)||i(),o(this).size},get(u){const d=o(this).get(u);if(d===void 0){this.epoch;return}return this.data[d]},has(u){const l=o(this);return this.epoch,l.has(u)},set(u,l){if(!nv(this))throw new Error("Cannot perform mutations on a snapshot");const d=n.get(u);return d===void 0?(n.set(u,this.index),this.data[this.index++]=l):this.data[d]=l,this.epoch++,this},delete(u){if(!nv(this))throw new Error("Cannot perform mutations on a snapshot");const l=n.get(u);return l===void 0?!1:(delete this.data[l],n.delete(u),this.epoch++,!0)},clear(){if(!nv(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(u){this.epoch,o(this).forEach((d,f)=>{u(this.data[d],f,this)})},*entries(){this.epoch;const u=o(this);for(const[l,d]of u)yield[l,this.data[d]]},*keys(){this.epoch;const u=o(this);for(const l of u.keys())yield l},*values(){this.epoch;const u=o(this);for(const l of u.values())yield this.data[l]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=Dr(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var pk={};const Ee={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof pk<"u"?pk.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},KK={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var s;if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return((s=Ee.CHAIN_NAME_MAP)==null?void 0:s[n])||void 0}},ZK=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var oce=20,ace=1,Vh=1e6,mk=1e6,cce=-7,uce=21,lce=!1,$1="[big.js] ",dp=$1+"Invalid ",MT=dp+"decimal places",dce=dp+"rounding mode",YK=$1+"Division by zero",pr={},oc=void 0,fce=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function JK(){function t(e){var r=this;if(!(r instanceof t))return e===oc?JK():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(dp+"value");e=e===0&&1/e<0?"-0":String(e)}hce(r,e)}r.constructor=t}return t.prototype=pr,t.DP=oce,t.RM=ace,t.NE=cce,t.PE=uce,t.strict=lce,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function hce(t,e){var r,n,s;if(!fce.test(e))throw Error(dp+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),s=e.length,n=0;n<s&&e.charAt(n)=="0";)++n;if(n==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=s;)t.c[r++]=+e.charAt(n++)}return t}function fp(t,e,r,n){var s=t.c;if(r===oc&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(dce);if(e<1)n=r===3&&(n||!!s[0])||e===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(n||s[1]!==oc))),s.length=1,n?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(n=r===1&&s[e]>=5||r===2&&(s[e]>5||s[e]===5&&(n||s[e+1]!==oc||s[e-1]&1))||r===3&&(n||!!s[0]),s.length=e,n){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function hp(t,e,r){var n=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>i)for(n-=i;n--;)s+="0";else n<i&&(s=s.slice(0,n)+"."+s.slice(n));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&r?"-"+s:s}pr.abs=function(){var t=new this.constructor(this);return t.s=1,t};pr.cmp=function(t){var e,r=this,n=r.c,s=(t=new r.constructor(t)).c,i=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!s[0])return n[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=s.length)?a:c,i=-1;++i<o;)if(n[i]!=s[i])return n[i]>s[i]^e?1:-1;return a==c?0:a>c^e?1:-1};pr.div=function(t){var e=this,r=e.constructor,n=e.c,s=(t=new r(t)).c,i=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Vh)throw Error(MT);if(!s[0])throw Error(YK);if(!n[0])return t.s=i,t.c=[t.e=0],t;var a,c,u,l,d,f=s.slice(),h=a=s.length,p=n.length,m=n.slice(0,a),y=m.length,E=t,w=E.c=[],b=0,g=o+(E.e=e.e-t.e)+1;for(E.s=i,i=g<0?0:g,f.unshift(0);y++<a;)m.push(0);do{for(u=0;u<10;u++){if(a!=(y=m.length))l=a>y?1:-1;else for(d=-1,l=0;++d<a;)if(s[d]!=m[d]){l=s[d]>m[d]?1:-1;break}if(l<0){for(c=y==a?s:f;y;){if(m[--y]<c[y]){for(d=y;d&&!m[--d];)m[d]=9;--m[d],m[y]+=10}m[y]-=c[y]}for(;!m[0];)m.shift()}else break}w[b++]=l?u:++u,m[0]&&l?m[y]=n[h]||0:m=[n[h]]}while((h++<p||m[0]!==oc)&&i--);return!w[0]&&b!=1&&(w.shift(),E.e--,g--),b>g&&fp(E,g,r.RM,m[0]!==oc),E};pr.eq=function(t){return this.cmp(t)===0};pr.gt=function(t){return this.cmp(t)>0};pr.gte=function(t){return this.cmp(t)>-1};pr.lt=function(t){return this.cmp(t)<0};pr.lte=function(t){return this.cmp(t)<1};pr.minus=pr.sub=function(t){var e,r,n,s,i=this,o=i.constructor,a=i.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,i.plus(t);var u=i.c.slice(),l=i.e,d=t.c,f=t.e;if(!u[0]||!d[0])return d[0]?t.s=-c:u[0]?t=new o(i):t.s=1,t;if(a=l-f){for((s=a<0)?(a=-a,n=u):(f=l,n=d),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((s=u.length<d.length)?u:d).length,a=c=0;c<r;c++)if(u[c]!=d[c]){s=u[c]<d[c];break}if(s&&(n=u,u=d,d=n,t.s=-t.s),(c=(r=d.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;r>a;){if(u[--r]<d[r]){for(e=r;e&&!u[--e];)u[e]=9;--u[e],u[r]+=10}u[r]-=d[r]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--f;return u[0]||(t.s=1,u=[f=0]),t.c=u,t.e=f,t};pr.mod=function(t){var e,r=this,n=r.constructor,s=r.s,i=(t=new n(t)).s;if(!t.c[0])throw Error(YK);return r.s=t.s=1,e=t.cmp(r)==1,r.s=s,t.s=i,e?new n(r):(s=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=s,n.RM=i,this.minus(r.times(t)))};pr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};pr.plus=pr.add=function(t){var e,r,n,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=u):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),e=u.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+u[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};pr.pow=function(t){var e=this,r=new e.constructor("1"),n=r,s=t<0;if(t!==~~t||t<-mk||t>mk)throw Error(dp+"exponent");for(s&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return s?r.div(n):n};pr.prec=function(t,e){if(t!==~~t||t<1||t>Vh)throw Error(dp+"precision");return fp(new this.constructor(this),t,e)};pr.round=function(t,e){if(t===oc)t=0;else if(t!==~~t||t<-Vh||t>Vh)throw Error(MT);return fp(new this.constructor(this),t+this.e+1,e)};pr.sqrt=function(){var t,e,r,n=this,s=n.constructor,i=n.s,o=n.e,a=new s("0.5");if(!n.c[0])return new s(n);if(i<0)throw Error($1+"No square root");i=Math.sqrt(+hp(n,!0,!0)),i===0||i===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return fp(t,(s.DP-=4)+t.e+1,s.RM)};pr.times=pr.mul=function(t){var e,r=this,n=r.constructor,s=r.c,i=(t=new n(t)).c,o=s.length,a=i.length,c=r.e,u=t.e;if(t.s=r.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=c+u,o<a&&(e=s,s=i,i=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=e[u]+i[c]*s[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};pr.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==oc){if(t!==~~t||t<0||t>Vh)throw Error(MT);for(r=fp(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return hp(r,!0,!!n)};pr.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==oc){if(t!==~~t||t<0||t>Vh)throw Error(MT);for(r=fp(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return hp(r,!1,!!n)};pr[Symbol.for("nodejs.util.inspect.custom")]=pr.toJSON=pr.toString=function(){var t=this,e=t.constructor;return hp(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};pr.toNumber=function(){var t=+hp(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error($1+"Imprecise conversion");return t};pr.toPrecision=function(t,e){var r=this,n=r.constructor,s=r.c[0];if(t!==oc){if(t!==~~t||t<1||t>Vh)throw Error(dp+"precision");for(r=fp(new n(r),t,e);r.c.length<t;)r.c.push(0)}return hp(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)};pr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error($1+"valueOf disallowed");return hp(t,t.e<=e.NE||t.e>=e.PE,!0)};var Qu=JK();const pce={bigNumber(t){return t?new Qu(t):new Qu(0)},multiply(t,e){if(t===void 0||e===void 0)return new Qu(0);const r=new Qu(t),n=new Qu(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new Qu(0).toFixed(e):new Qu(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new Qu(e).toNumber()}},mce=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],gce=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],yce=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],bce={getERC20Abi:t=>Ee.USDT_CONTRACT_ADDRESSES.includes(t)?yce:mce,getSwapAbi:()=>gce},mn={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,s]=e;if(!r||!n||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},Qa={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(t){try{if(typeof t=="object"&&t!==null){const e=t,r=typeof e.message=="string",n=typeof e.code=="number";return r&&n}return!1}catch{return!1}},isUserRejectedMessage(t){return t.toLowerCase().includes("user rejected")||t.toLowerCase().includes("user cancelled")||t.toLowerCase().includes("user canceled")},isUserRejectedRequestError(t){if(Qa.isRpcProviderError(t)){const e=t.code===Qa.RPC_ERROR_CODE.USER_REJECTED_REQUEST,r=t.code===Qa.RPC_ERROR_CODE.USER_REJECTED_METHODS;return e||r||Qa.isUserRejectedMessage(t.message)}return t instanceof Error?Qa.isUserRejectedMessage(t.message):!1}};let wce=class extends Error{constructor(e,r){super(r.message,{cause:e}),this.name=Qa.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=r.code}},w8=class extends wce{constructor(e){super(e,{code:Qa.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Qa.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}};const Xe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};function ix(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Je={setItem(t,e){Ob()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Ob())return localStorage.getItem(t)||void 0},removeItem(t){Ob()&&localStorage.removeItem(t)},clear(){Ob()&&localStorage.clear()}};function Ob(){return typeof window<"u"&&typeof localStorage<"u"}function Cw(t,e){const r=(t==null?void 0:t["--apkt-accent"])??(t==null?void 0:t["--w3m-accent"]);return e==="light"?{"--w3m-accent":r||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":r||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var gk={};const ox=(typeof process<"u"&&typeof gk<"u"?gk.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",QK=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Ece="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Ft={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:ox,SECURE_SITE_DASHBOARD:`${ox}/dashboard`,SECURE_SITE_FAVICON:`${ox}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD0"]},BALANCE_SUPPORTED_CHAINS:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[Ee.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[Ee.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[Ee.CHAIN.EVM,Ee.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Te={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Te.getActiveNamespace(),e=Te.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{Je.setItem(Xe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Je.getItem(Xe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Je.removeItem(Xe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Je.setItem(Xe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Je.setItem(Xe.ACTIVE_CAIP_NETWORK_ID,t),Te.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Je.getItem(Xe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Je.removeItem(Xe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=ix(t);Je.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Te.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Je.setItem(Xe.RECENT_WALLETS,JSON.stringify(e)),Je.setItem(Xe.RECENT_WALLET,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Je.getItem(Xe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const t=Je.getItem(Xe.RECENT_WALLET);return t?JSON.parse(t):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Je.removeItem(Xe.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(t,e){try{const r=ix(t);Je.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Je.getItem(Xe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=ix(t);return Je.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Je.setItem(Xe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Je.getItem(Xe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Je.removeItem(Xe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Je.getItem(Xe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=Je.getItem(Xe.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{Je.setItem(Xe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Je.getItem(Xe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Je.getItem(Xe.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Je.setItem(Xe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Te.getConnectedNamespaces();e.includes(t)||(e.push(t),Te.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Te.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),Te.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Je.getItem(Xe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Je.setItem(Xe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Je.removeItem(Xe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Je.getItem(Xe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Te.getBalanceCache();Je.setItem(Xe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=Te.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;Te.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Te.getBalanceCache();e[t.caipAddress]=t,Je.setItem(Xe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Je.getItem(Xe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Te.getBalanceCache();Je.setItem(Xe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=Te.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),Te.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Te.getNativeBalanceCache();e[t.caipAddress]=t,Je.setItem(Xe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Je.getItem(Xe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=Te.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;Te.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Te.getEnsCache();e[t.address]=t,Je.setItem(Xe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Te.getEnsCache();Je.setItem(Xe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Je.getItem(Xe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=Te.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;Te.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Te.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Je.setItem(Xe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Te.getIdentityCache();Je.setItem(Xe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},getTonWalletsCache(){try{const t=Je.getItem(Xe.TON_WALLETS_CACHE),e=t?JSON.parse(t):void 0;if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.tonWallets))return e;Te.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(t){try{const e=Te.getTonWalletsCache()||{timestamp:0,wallets:[]};e.timestamp=new Date().getTime(),e.wallets=t,Je.setItem(Xe.TON_WALLETS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ton wallets cache",t)}},removeTonWalletsCache(){try{Je.removeItem(Xe.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{Je.removeItem(Xe.PORTFOLIO_CACHE),Je.removeItem(Xe.NATIVE_BALANCE_CACHE),Je.removeItem(Xe.ENS_CACHE),Je.removeItem(Xe.IDENTITY_CACHE),Je.removeItem(Xe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Je.setItem(Xe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Je.getItem(Xe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=Te.getConnections(),n=r[e]??[],s=new Map;for(const o of n)s.set(o.connectorId,{...o});for(const o of t){const a=s.get(o.connectorId),c=o.connectorId===Ee.CONNECTOR_ID.AUTH;if(a&&!c){const u=new Set(a.accounts.map(d=>d.address.toLowerCase())),l=o.accounts.filter(d=>!u.has(d.address.toLowerCase()));a.accounts.push(...l)}else s.set(o.connectorId,{...o})}const i={...r,[e]:Array.from(s.values())};Je.setItem(Xe.CONNECTIONS,JSON.stringify(i))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=Je.getItem(Xe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=Te.getConnections(),s=n[r]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?i.delete(t):i.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Je.setItem(Xe.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=Je.getItem(Xe.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=Te.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),Je.setItem(Xe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=Te.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(s=>s.toLowerCase()!==t.toLowerCase()),Je.setItem(Xe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(Te.getDisconnectedConnectorIds()[e]??[]).some(s=>s.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Je.getItem(Xe.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){var r;try{const s=(r=Te.getTransactionsCache()[t])==null?void 0:r[e];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;Te.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const s=Te.getTransactionsCache();s[t]={...s[t],[e]:{timestamp:r,transactions:n}},Je.setItem(Xe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=Te.getTransactionsCache(),n=(r==null?void 0:r[t])||{},{[e]:s,...i}=n;Je.setItem(Xe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:i}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Je.getItem(Xe.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=Te.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;Te.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=Te.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Je.setItem(Xe.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=Te.getTokenPriceCache();Je.setItem(Xe.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}},getLatestAppKitVersion(){try{const t=this.getLatestAppKitVersionCache(),e=t==null?void 0:t.version;return e&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.latestAppKitVersion)?e:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const t=Je.getItem(Xe.LATEST_APPKIT_VERSION);return t?JSON.parse(t):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(t){try{const e=Te.getLatestAppKitVersionCache();e.timestamp=t.timestamp,e.version=t.version,Je.setItem(Xe.LATEST_APPKIT_VERSION,JSON.stringify(e))}catch{console.info("Unable to update latest AppKit version on local storage",t)}}},Ue={getWindow(){if(!(typeof window>"u"))return window},isMobile(){var t;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((t=window.matchMedia("(pointer:coarse)"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Ue.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Ft.TEN_SEC_MS:!0},isAllowedRetry(t,e=Ft.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Ue.isClient()&&window.self!==window.top)try{const r=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],n="https://app.safe.global";if(r){const s=new URL(r),i=new URL(n);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Ft.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function s(){t(...n)}r&&clearTimeout(r),r=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(Ue.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,s=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${n}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:n}},formatUniversalUrl(t,e){if(!Ue.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Te.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var r,n;if(typeof window>"u")return!1;const t=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(r=window.matchMedia("(display-mode: standalone)"))==null?void 0:r.matches:!1,e=(n=window==null?void 0:window.navigator)==null?void 0:n.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const s=new Image;s.onload=r,s.onerror=n,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,Ue.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const u=(Math.floor(c*1e3)/1e3).toFixed(3);u&&(r=u)}}const[n,s]=r.split("."),i=n||"0",o=s||"000";return{formattedText:`${i}.${o}${e?` ${e}`:""}`,value:i,decimals:o,symbol:e}},getApiUrl(){return Ee.W3M_API_URL},getBlockchainApiUrl(){return Ee.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ee.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,s)=>{r[n]=s}),e.sort((n,s)=>{const i=r[n.id],o=r[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const s=n[e];return r.has(s)?!1:(r.add(s),!0)})},generateSdkVersion(t,e,r){const s=t.length===0?Ft.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${s}-${r}`},createAccount(t,e,r,n,s){return{namespace:t,address:e,type:r,publicKey:n,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in Ee.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const s="provider_authorization_url=",i=t.substring(t.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),r,e);return t.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",n),i=e.length,o=s!==-1?s:t.length,a=t.substring(0,n+i),c=t.substring(n+i,o),u=t.substring(s),l=c+r;return a+l+u}};var Vm={};const vce="https://secure.walletconnect.org/sdk",_ce=(typeof process<"u"&&typeof Vm<"u"?Vm.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||vce,Ace=(typeof process<"u"&&typeof Vm<"u"?Vm.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Cce=(typeof process<"u"&&typeof Vm<"u"?Vm.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ze={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},cn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},yk={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},En={set(t,e){Zi.isClient&&localStorage.setItem(`${Ze.STORAGE_KEY}${t}`,e)},get(t){return Zi.isClient?localStorage.getItem(`${Ze.STORAGE_KEY}${t}`):null},delete(t,e){Zi.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${Ze.STORAGE_KEY}${t}`))}},sv=30*1e3,Zi={checkIfAllowedToTriggerEmail(){const t=En.get(Ze.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<sv){const r=Math.ceil((sv-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=En.get(Ze.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<sv)return Math.ceil((sv-e)/1e3)}return 0},checkIfRequestExists(t){return cn.NOT_SAFE_RPC_METHODS.includes(t.method)||cn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(yk.transactionHash))||(t==null?void 0:t.match(yk.signedMessage)))?Ze.RPC_RESPONSE_TYPE_TX:Ze.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return cn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var tr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(tr||(tr={}));var JO;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(JO||(JO={}));const qe=tr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jl=t=>{switch(typeof t){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return isNaN(t)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(t)?qe.array:t===null?qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qe.promise:typeof Map<"u"&&t instanceof Map?qe.map:typeof Set<"u"&&t instanceof Set?qe.set:typeof Date<"u"&&t instanceof Date?qe.date:qe.object;default:return qe.unknown}},ke=tr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Sce=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ia extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,tr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ia.create=t=>new ia(t);const Sw=(t,e)=>{let r;switch(t.code){case ke.invalid_type:t.received===qe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,tr.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${tr.joinValues(t.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tr.joinValues(t.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${tr.joinValues(t.options)}, received '${t.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:tr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ke.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ke.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=e.defaultError,tr.assertNever(t)}return{message:r}};let XK=Sw;function Ice(t){XK=t}function pI(){return XK}const mI=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};let a="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},Tce=[];function Ge(t,e){const r=mI({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pI(),Sw].filter(n=>!!n)});t.common.issues.push(r)}class vs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return gt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r)n.push({key:await s.key,value:await s.value});return vs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return gt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const gt=Object.freeze({status:"aborted"}),eZ=t=>({status:"dirty",value:t}),zs=t=>({status:"valid",value:t}),QO=t=>t.status==="aborted",XO=t=>t.status==="dirty",Iw=t=>t.status==="valid",gI=t=>typeof Promise<"u"&&t instanceof Promise;var it;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(it||(it={}));class fc{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bk=(t,e)=>{if(Iw(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ia(t.common.issues);return this._error=r,this._error}}};function _t(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:s}}class xt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return jl(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vs,ctx:{common:e.parent.common,data:e.data,parsedType:jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(gI(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jl(e)},i=this._parseSync({data:e,path:s.path,parent:s});return bk(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jl(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(gI(s)?s:Promise.resolve(s));return bk(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ke.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new la({schema:this,typeName:dt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Tu.create(this,this._def)}nullable(){return Kh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oa.create(this,this._def)}promise(){return Wm.create(this,this._def)}or(e){return Ow.create([this,e],this._def)}and(e){return Rw.create(this,e,this._def)}transform(e){return new la({..._t(this._def),schema:this,typeName:dt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Dw({..._t(this._def),innerType:this,defaultValue:r,typeName:dt.ZodDefault})}brand(){return new rZ({typeName:dt.ZodBranded,type:this,..._t(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new EI({..._t(this._def),innerType:this,catchValue:r,typeName:dt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return V1.create(this,e)}readonly(){return _I.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pce=/^c[^\s-]{8,}$/i,xce=/^[a-z][a-z0-9]*$/,Oce=/^[0-9A-HJKMNP-TV-Z]{26}$/,Rce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Nce=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ax;const kce=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,jce=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Dce=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Mce(t,e){return!!((e==="v4"||!e)&&kce.test(t)||(e==="v6"||!e)&&jce.test(t))}class ta extends xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qe.string){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.string,received:i.parsedType}),gt}const n=new vs;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Ge(s,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Ge(s,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Nce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"email",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ax||(ax=new RegExp(Bce,"u")),ax.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"emoji",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Rce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"uuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Pce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"cuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")xce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"cuid2",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Oce.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"ulid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ge(s,{validation:"url",code:ke.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"regex",code:ke.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Dce(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="ip"?Mce(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ge(s,{validation:"ip",code:ke.invalid_string,message:i.message}),n.dirty()):tr.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:ke.invalid_string,...it.errToObj(n)})}_addCheck(e){return new ta({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...it.errToObj(e)})}url(e){return this._addCheck({kind:"url",...it.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...it.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...it.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...it.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...it.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...it.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...it.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...it.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...it.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...it.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...it.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...it.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...it.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...it.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...it.errToObj(r)})}nonempty(e){return this.min(1,it.errToObj(e))}trim(){return new ta({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ta({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ta({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ta.create=t=>{var e;return new ta({checks:[],typeName:dt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};function Uce(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class md extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qe.number){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.number,received:i.parsedType}),gt}let n;const s=new vs;for(const i of this._def.checks)i.kind==="int"?tr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Uce(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.not_finite,message:i.message}),s.dirty()):tr.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,s){return new md({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(s)}]})}_addCheck(e){return new md({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:it.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:it.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:it.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:it.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&tr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}md.create=t=>new md({checks:[],typeName:dt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class gd extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==qe.bigint){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.bigint,received:i.parsedType}),gt}let n;const s=new vs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ge(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):tr.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,it.toString(r))}gt(e,r){return this.setLimit("min",e,!1,it.toString(r))}lte(e,r){return this.setLimit("max",e,!0,it.toString(r))}lt(e,r){return this.setLimit("max",e,!1,it.toString(r))}setLimit(e,r,n,s){return new gd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:it.toString(s)}]})}_addCheck(e){return new gd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:it.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}gd.create=t=>{var e;return new gd({checks:[],typeName:dt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};class Tw extends xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qe.boolean){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.boolean,received:n.parsedType}),gt}return zs(e.data)}}Tw.create=t=>new Tw({typeName:dt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class Gh extends xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qe.date){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_type,expected:qe.date,received:i.parsedType}),gt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ge(i,{code:ke.invalid_date}),gt}const n=new vs;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ge(s,{code:ke.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):tr.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Gh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:it.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:it.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Gh.create=t=>new Gh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:dt.ZodDate,..._t(t)});class yI extends xt{_parse(e){if(this._getType(e)!==qe.symbol){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.symbol,received:n.parsedType}),gt}return zs(e.data)}}yI.create=t=>new yI({typeName:dt.ZodSymbol,..._t(t)});class Pw extends xt{_parse(e){if(this._getType(e)!==qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.undefined,received:n.parsedType}),gt}return zs(e.data)}}Pw.create=t=>new Pw({typeName:dt.ZodUndefined,..._t(t)});class xw extends xt{_parse(e){if(this._getType(e)!==qe.null){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.null,received:n.parsedType}),gt}return zs(e.data)}}xw.create=t=>new xw({typeName:dt.ZodNull,..._t(t)});class Gm extends xt{constructor(){super(...arguments),this._any=!0}_parse(e){return zs(e.data)}}Gm.create=t=>new Gm({typeName:dt.ZodAny,..._t(t)});class jh extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zs(e.data)}}jh.create=t=>new jh({typeName:dt.ZodUnknown,..._t(t)});class ju extends xt{_parse(e){const r=this._getOrReturnCtx(e);return Ge(r,{code:ke.invalid_type,expected:qe.never,received:r.parsedType}),gt}}ju.create=t=>new ju({typeName:dt.ZodNever,..._t(t)});class bI extends xt{_parse(e){if(this._getType(e)!==qe.undefined){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.void,received:n.parsedType}),gt}return zs(e.data)}}bI.create=t=>new bI({typeName:dt.ZodVoid,..._t(t)});class oa extends xt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==qe.array)return Ge(r,{code:ke.invalid_type,expected:qe.array,received:r.parsedType}),gt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(Ge(r,{code:o?ke.too_big:ke.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ge(r,{code:ke.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ge(r,{code:ke.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new fc(r,o,r.path,a)))).then(o=>vs.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new fc(r,o,r.path,a)));return vs.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new oa({...this._def,minLength:{value:e,message:it.toString(r)}})}max(e,r){return new oa({...this._def,maxLength:{value:e,message:it.toString(r)}})}length(e,r){return new oa({...this._def,exactLength:{value:e,message:it.toString(r)}})}nonempty(e){return this.min(1,e)}}oa.create=(t,e)=>new oa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:dt.ZodArray,..._t(e)});function b0(t){if(t instanceof $r){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Tu.create(b0(n))}return new $r({...t._def,shape:()=>e})}else return t instanceof oa?new oa({...t._def,type:b0(t.element)}):t instanceof Tu?Tu.create(b0(t.unwrap())):t instanceof Kh?Kh.create(b0(t.unwrap())):t instanceof hc?hc.create(t.items.map(e=>b0(e))):t}class $r extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=tr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==qe.object){const u=this._getOrReturnCtx(e);return Ge(u,{code:ke.invalid_type,expected:qe.object,received:u.parsedType}),gt}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ju&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const l=i[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new fc(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ju){const u=this._def.unknownKeys;if(u==="passthrough")for(const l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(u==="strict")a.length>0&&(Ge(s,{code:ke.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const l of a){const d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new fc(s,d,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const l of c){const d=await l.key;u.push({key:d,value:await l.value,alwaysSet:l.alwaysSet})}return u}).then(u=>vs.mergeObjectSync(n,u)):vs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return it.errToObj,new $r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=it.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new $r({...this._def,unknownKeys:"strip"})}passthrough(){return new $r({...this._def,unknownKeys:"passthrough"})}extend(e){return new $r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:dt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new $r({...this._def,catchall:e})}pick(e){const r={};return tr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new $r({...this._def,shape:()=>r})}omit(e){const r={};return tr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new $r({...this._def,shape:()=>r})}deepPartial(){return b0(this)}partial(e){const r={};return tr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new $r({...this._def,shape:()=>r})}required(e){const r={};return tr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Tu;)i=i._def.innerType;r[n]=i}}),new $r({...this._def,shape:()=>r})}keyof(){return tZ(tr.objectKeys(this.shape))}}$r.create=(t,e)=>new $r({shape:()=>t,unknownKeys:"strip",catchall:ju.create(),typeName:dt.ZodObject,..._t(e)});$r.strictCreate=(t,e)=>new $r({shape:()=>t,unknownKeys:"strict",catchall:ju.create(),typeName:dt.ZodObject,..._t(e)});$r.lazycreate=(t,e)=>new $r({shape:t,unknownKeys:"strip",catchall:ju.create(),typeName:dt.ZodObject,..._t(e)});class Ow extends xt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ia(a.ctx.common.issues));return Ge(r,{code:ke.invalid_union,unionErrors:o}),gt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new ia(c));return Ge(r,{code:ke.invalid_union,unionErrors:a}),gt}}get options(){return this._def.options}}Ow.create=(t,e)=>new Ow({options:t,typeName:dt.ZodUnion,..._t(e)});const SS=t=>t instanceof Bw?SS(t.schema):t instanceof la?SS(t.innerType()):t instanceof kw?[t.value]:t instanceof yd?t.options:t instanceof jw?Object.keys(t.enum):t instanceof Dw?SS(t._def.innerType):t instanceof Pw?[void 0]:t instanceof xw?[null]:null;class UT extends xt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.object)return Ge(r,{code:ke.invalid_type,expected:qe.object,received:r.parsedType}),gt;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Ge(r,{code:ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=SS(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new UT({typeName:dt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,..._t(n)})}}function eR(t,e){const r=jl(t),n=jl(e);if(t===e)return{valid:!0,data:t};if(r===qe.object&&n===qe.object){const s=tr.objectKeys(e),i=tr.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=eR(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===qe.array&&n===qe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=eR(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===qe.date&&n===qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Rw extends xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(QO(i)||QO(o))return gt;const a=eR(i.value,o.value);return a.valid?((XO(i)||XO(o))&&r.dirty(),{status:r.value,value:a.data}):(Ge(n,{code:ke.invalid_intersection_types}),gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Rw.create=(t,e,r)=>new Rw({left:t,right:e,typeName:dt.ZodIntersection,..._t(r)});class hc extends xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.array)return Ge(n,{code:ke.invalid_type,expected:qe.array,received:n.parsedType}),gt;if(n.data.length<this._def.items.length)return Ge(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&n.data.length>this._def.items.length&&(Ge(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new fc(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>vs.mergeArray(r,o)):vs.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new hc({...this._def,rest:e})}}hc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hc({items:t,typeName:dt.ZodTuple,rest:null,..._t(e)})};class Nw extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.object)return Ge(n,{code:ke.invalid_type,expected:qe.object,received:n.parsedType}),gt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new fc(n,a,n.path,a)),value:o._parse(new fc(n,n.data[a],n.path,a))});return n.common.async?vs.mergeObjectAsync(r,s):vs.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof xt?new Nw({keyType:e,valueType:r,typeName:dt.ZodRecord,..._t(n)}):new Nw({keyType:ta.create(),valueType:e,typeName:dt.ZodRecord,..._t(r)})}}class wI extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.map)return Ge(n,{code:ke.invalid_type,expected:qe.map,received:n.parsedType}),gt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new fc(n,a,n.path,[u,"key"])),value:i._parse(new fc(n,c,n.path,[u,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return gt;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return gt;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(u.value,l.value)}return{status:r.value,value:a}}}}wI.create=(t,e,r)=>new wI({valueType:e,keyType:t,typeName:dt.ZodMap,..._t(r)});class Wh extends xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.set)return Ge(n,{code:ke.invalid_type,expected:qe.set,received:n.parsedType}),gt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ge(n,{code:ke.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ge(n,{code:ke.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const l of c){if(l.status==="aborted")return gt;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}const a=[...n.data.values()].map((c,u)=>i._parse(new fc(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Wh({...this._def,minSize:{value:e,message:it.toString(r)}})}max(e,r){return new Wh({...this._def,maxSize:{value:e,message:it.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Wh.create=(t,e)=>new Wh({valueType:t,minSize:null,maxSize:null,typeName:dt.ZodSet,..._t(e)});class z0 extends xt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.function)return Ge(r,{code:ke.invalid_type,expected:qe.function,received:r.parsedType}),gt;function n(a,c){return mI({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pI(),Sw].filter(u=>!!u),issueData:{code:ke.invalid_arguments,argumentsError:c}})}function s(a,c){return mI({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,pI(),Sw].filter(u=>!!u),issueData:{code:ke.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Wm){const a=this;return zs(async function(...c){const u=new ia([]),l=await a._def.args.parseAsync(c,i).catch(h=>{throw u.addIssue(n(c,h)),u}),d=await Reflect.apply(o,this,l);return await a._def.returns._def.type.parseAsync(d,i).catch(h=>{throw u.addIssue(s(d,h)),u})})}else{const a=this;return zs(function(...c){const u=a._def.args.safeParse(c,i);if(!u.success)throw new ia([n(c,u.error)]);const l=Reflect.apply(o,this,u.data),d=a._def.returns.safeParse(l,i);if(!d.success)throw new ia([s(l,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new z0({...this._def,args:hc.create(e).rest(jh.create())})}returns(e){return new z0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new z0({args:e||hc.create([]).rest(jh.create()),returns:r||jh.create(),typeName:dt.ZodFunction,..._t(n)})}}class Bw extends xt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Bw.create=(t,e)=>new Bw({getter:t,typeName:dt.ZodLazy,..._t(e)});class kw extends xt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ge(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}kw.create=(t,e)=>new kw({value:t,typeName:dt.ZodLiteral,..._t(e)});function tZ(t,e){return new yd({values:t,typeName:dt.ZodEnum,..._t(e)})}class yd extends xt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{expected:tr.joinValues(n),received:r.parsedType,code:ke.invalid_type}),gt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Ge(r,{received:r.data,code:ke.invalid_enum_value,options:n}),gt}return zs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return yd.create(e)}exclude(e){return yd.create(this.options.filter(r=>!e.includes(r)))}}yd.create=tZ;class jw extends xt{_parse(e){const r=tr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==qe.string&&n.parsedType!==qe.number){const s=tr.objectValues(r);return Ge(n,{expected:tr.joinValues(s),received:n.parsedType,code:ke.invalid_type}),gt}if(r.indexOf(e.data)===-1){const s=tr.objectValues(r);return Ge(n,{received:n.data,code:ke.invalid_enum_value,options:s}),gt}return zs(e.data)}get enum(){return this._def.values}}jw.create=(t,e)=>new jw({values:t,typeName:dt.ZodNativeEnum,..._t(e)});class Wm extends xt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.promise&&r.common.async===!1)return Ge(r,{code:ke.invalid_type,expected:qe.promise,received:r.parsedType}),gt;const n=r.parsedType===qe.promise?r.data:Promise.resolve(r.data);return zs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Wm.create=(t,e)=>new Wm({type:t,typeName:dt.ZodPromise,..._t(e)});class la extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Ge(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?gt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?gt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Iw(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Iw(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);tr.assertNever(s)}}la.create=(t,e,r)=>new la({schema:t,typeName:dt.ZodEffects,effect:e,..._t(r)});la.createWithPreprocess=(t,e,r)=>new la({schema:e,effect:{type:"preprocess",transform:t},typeName:dt.ZodEffects,..._t(r)});class Tu extends xt{_parse(e){return this._getType(e)===qe.undefined?zs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tu.create=(t,e)=>new Tu({innerType:t,typeName:dt.ZodOptional,..._t(e)});class Kh extends xt{_parse(e){return this._getType(e)===qe.null?zs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Kh.create=(t,e)=>new Kh({innerType:t,typeName:dt.ZodNullable,..._t(e)});class Dw extends xt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Dw.create=(t,e)=>new Dw({innerType:t,typeName:dt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._t(e)});class EI extends xt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gI(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ia(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ia(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}EI.create=(t,e)=>new EI({innerType:t,typeName:dt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._t(e)});class vI extends xt{_parse(e){if(this._getType(e)!==qe.nan){const n=this._getOrReturnCtx(e);return Ge(n,{code:ke.invalid_type,expected:qe.nan,received:n.parsedType}),gt}return{status:"valid",value:e.data}}}vI.create=t=>new vI({typeName:dt.ZodNaN,..._t(t)});const Lce=Symbol("zod_brand");class rZ extends xt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class V1 extends xt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?gt:i.status==="dirty"?(r.dirty(),eZ(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?gt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new V1({in:e,out:r,typeName:dt.ZodPipeline})}}class _I extends xt{_parse(e){const r=this._def.innerType._parse(e);return Iw(r)&&(r.value=Object.freeze(r.value)),r}}_I.create=(t,e)=>new _I({innerType:t,typeName:dt.ZodReadonly,..._t(e)});const nZ=(t,e={},r)=>t?Gm.create().superRefine((n,s)=>{var i,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:c})}}):Gm.create(),Fce={object:$r.lazycreate};var dt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(dt||(dt={}));const Hce=(t,e={message:`Input not instance of ${t.name}`})=>nZ(r=>r instanceof t,e),sZ=ta.create,iZ=md.create,qce=vI.create,zce=gd.create,oZ=Tw.create,$ce=Gh.create,Vce=yI.create,Gce=Pw.create,Wce=xw.create,Kce=Gm.create,Zce=jh.create,Yce=ju.create,Jce=bI.create,Qce=oa.create,Xce=$r.create,eue=$r.strictCreate,tue=Ow.create,rue=UT.create,nue=Rw.create,sue=hc.create,iue=Nw.create,oue=wI.create,aue=Wh.create,cue=z0.create,uue=Bw.create,lue=kw.create,due=yd.create,fue=jw.create,hue=Wm.create,wk=la.create,pue=Tu.create,mue=Kh.create,gue=la.createWithPreprocess,yue=V1.create,bue=()=>sZ().optional(),wue=()=>iZ().optional(),Eue=()=>oZ().optional(),vue={string:(t=>ta.create({...t,coerce:!0})),number:(t=>md.create({...t,coerce:!0})),boolean:(t=>Tw.create({...t,coerce:!0})),bigint:(t=>gd.create({...t,coerce:!0})),date:(t=>Gh.create({...t,coerce:!0}))},_ue=gt;var J=Object.freeze({__proto__:null,defaultErrorMap:Sw,setErrorMap:Ice,getErrorMap:pI,makeIssue:mI,EMPTY_PATH:Tce,addIssueToContext:Ge,ParseStatus:vs,INVALID:gt,DIRTY:eZ,OK:zs,isAborted:QO,isDirty:XO,isValid:Iw,isAsync:gI,get util(){return tr},get objectUtil(){return JO},ZodParsedType:qe,getParsedType:jl,ZodType:xt,ZodString:ta,ZodNumber:md,ZodBigInt:gd,ZodBoolean:Tw,ZodDate:Gh,ZodSymbol:yI,ZodUndefined:Pw,ZodNull:xw,ZodAny:Gm,ZodUnknown:jh,ZodNever:ju,ZodVoid:bI,ZodArray:oa,ZodObject:$r,ZodUnion:Ow,ZodDiscriminatedUnion:UT,ZodIntersection:Rw,ZodTuple:hc,ZodRecord:Nw,ZodMap:wI,ZodSet:Wh,ZodFunction:z0,ZodLazy:Bw,ZodLiteral:kw,ZodEnum:yd,ZodNativeEnum:jw,ZodPromise:Wm,ZodEffects:la,ZodTransformer:la,ZodOptional:Tu,ZodNullable:Kh,ZodDefault:Dw,ZodCatch:EI,ZodNaN:vI,BRAND:Lce,ZodBranded:rZ,ZodPipeline:V1,ZodReadonly:_I,custom:nZ,Schema:xt,ZodSchema:xt,late:Fce,get ZodFirstPartyTypeKind(){return dt},coerce:vue,any:Kce,array:Qce,bigint:zce,boolean:oZ,date:$ce,discriminatedUnion:rue,effect:wk,enum:due,function:cue,instanceof:Hce,intersection:nue,lazy:uue,literal:lue,map:oue,nan:qce,nativeEnum:fue,never:Yce,null:Wce,nullable:mue,number:iZ,object:Xce,oboolean:Eue,onumber:wue,optional:pue,ostring:bue,pipeline:yue,preprocess:gue,promise:hue,record:iue,set:aue,strictObject:eue,string:sZ,symbol:Vce,transformer:wk,tuple:sue,undefined:Gce,union:tue,unknown:Zce,void:Jce,NEVER:_ue,ZodIssueCode:ke,quotelessJson:Sce,ZodError:ia});const Kr=J.object({message:J.string()});function $e(t){return J.literal(Ze[t])}const LT=J.object({serializedMessage:J.string().optional(),accountAddress:J.string(),chainId:J.string(),notBefore:J.string().optional(),domain:J.string(),uri:J.string(),version:J.string(),nonce:J.string(),statement:J.string().optional(),resources:J.array(J.string()).optional(),requestId:J.string().optional(),issuedAt:J.string().optional(),expirationTime:J.string().optional()});J.object({accessList:J.array(J.string()),blockHash:J.string().nullable(),blockNumber:J.string().nullable(),chainId:J.string().or(J.number()),from:J.string(),gas:J.string(),hash:J.string(),input:J.string().nullable(),maxFeePerGas:J.string(),maxPriorityFeePerGas:J.string(),nonce:J.string(),r:J.string(),s:J.string(),to:J.string(),transactionIndex:J.string().nullable(),type:J.string(),v:J.string(),value:J.string()});const Aue=J.object({chainId:J.string().or(J.number()),rpcUrl:J.optional(J.string())}),Cue=J.object({email:J.string().email()}),Sue=J.object({otp:J.string()}),Iue=J.object({uri:J.string(),preferredAccountType:J.optional(J.string()),chainId:J.optional(J.string().or(J.number())),siwxMessage:J.optional(LT),rpcUrl:J.optional(J.string())}),Tue=J.object({chainId:J.optional(J.string().or(J.number())),preferredAccountType:J.optional(J.string()),socialUri:J.optional(J.string()),siwxMessage:J.optional(LT),rpcUrl:J.optional(J.string())}),Pue=J.object({provider:J.enum(["google","github","apple","facebook","x","discord"])}),xue=J.object({email:J.string().email()}),Oue=J.object({otp:J.string()}),Rue=J.object({otp:J.string()}),Nue=J.object({themeMode:J.optional(J.enum(["light","dark"])),themeVariables:J.optional(J.record(J.string(),J.string().or(J.number()))),w3mThemeVariables:J.optional(J.record(J.string(),J.string()))}),Bue=J.object({metadata:J.object({name:J.string(),description:J.string(),url:J.string(),icons:J.array(J.string())}).optional(),sdkVersion:J.string().optional(),sdkType:J.string().optional(),projectId:J.string()}),kue=J.object({type:J.string()}),jue=J.object({action:J.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Due=J.object({url:J.string()}),Mue=J.object({userName:J.string()}),Uue=J.object({email:J.string().optional().nullable(),address:J.string(),chainId:J.string().or(J.number()),accounts:J.array(J.object({address:J.string(),type:J.enum([cn.ACCOUNT_TYPES.EOA,cn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:J.string().optional().nullable(),preferredAccountType:J.optional(J.string()),signature:J.string().optional(),message:J.string().optional(),siwxMessage:J.optional(LT)}),Lue=J.object({action:J.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Fue=J.object({email:J.string().email().optional().nullable(),address:J.string(),chainId:J.string().or(J.number()),smartAccountDeployed:J.optional(J.boolean()),accounts:J.array(J.object({address:J.string(),type:J.enum([cn.ACCOUNT_TYPES.EOA,cn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:J.optional(J.string()),signature:J.string().optional(),message:J.string().optional(),siwxMessage:J.optional(LT)}),Hue=J.object({uri:J.string()}),que=J.object({isConnected:J.boolean()}),zue=J.object({chainId:J.string().or(J.number())}),$ue=J.object({chainId:J.string().or(J.number())}),Vue=J.object({newEmail:J.string().email()}),Gue=J.object({smartAccountEnabledNetworks:J.array(J.number())});J.object({address:J.string(),isDeployed:J.boolean()});const Wue=J.object({version:J.string().optional()}),Kue=J.object({type:J.string(),address:J.string()}),Zue=J.any(),Yue=J.object({method:J.literal("eth_accounts")}),Jue=J.object({method:J.literal("eth_blockNumber")}),Que=J.object({method:J.literal("eth_call"),params:J.array(J.any())}),Xue=J.object({method:J.literal("eth_chainId")}),ele=J.object({method:J.literal("eth_estimateGas"),params:J.array(J.any())}),tle=J.object({method:J.literal("eth_feeHistory"),params:J.array(J.any())}),rle=J.object({method:J.literal("eth_gasPrice")}),nle=J.object({method:J.literal("eth_getAccount"),params:J.array(J.any())}),sle=J.object({method:J.literal("eth_getBalance"),params:J.array(J.any())}),ile=J.object({method:J.literal("eth_getBlockByHash"),params:J.array(J.any())}),ole=J.object({method:J.literal("eth_getBlockByNumber"),params:J.array(J.any())}),ale=J.object({method:J.literal("eth_getBlockReceipts"),params:J.array(J.any())}),cle=J.object({method:J.literal("eth_getBlockTransactionCountByHash"),params:J.array(J.any())}),ule=J.object({method:J.literal("eth_getBlockTransactionCountByNumber"),params:J.array(J.any())}),lle=J.object({method:J.literal("eth_getCode"),params:J.array(J.any())}),dle=J.object({method:J.literal("eth_getFilterChanges"),params:J.array(J.any())}),fle=J.object({method:J.literal("eth_getFilterLogs"),params:J.array(J.any())}),hle=J.object({method:J.literal("eth_getLogs"),params:J.array(J.any())}),ple=J.object({method:J.literal("eth_getProof"),params:J.array(J.any())}),mle=J.object({method:J.literal("eth_getStorageAt"),params:J.array(J.any())}),gle=J.object({method:J.literal("eth_getTransactionByBlockHashAndIndex"),params:J.array(J.any())}),yle=J.object({method:J.literal("eth_getTransactionByBlockNumberAndIndex"),params:J.array(J.any())}),ble=J.object({method:J.literal("eth_getTransactionByHash"),params:J.array(J.any())}),wle=J.object({method:J.literal("eth_getTransactionCount"),params:J.array(J.any())}),Ele=J.object({method:J.literal("eth_getTransactionReceipt"),params:J.array(J.any())}),vle=J.object({method:J.literal("eth_getUncleCountByBlockHash"),params:J.array(J.any())}),_le=J.object({method:J.literal("eth_getUncleCountByBlockNumber"),params:J.array(J.any())}),Ale=J.object({method:J.literal("eth_maxPriorityFeePerGas")}),Cle=J.object({method:J.literal("eth_newBlockFilter")}),Sle=J.object({method:J.literal("eth_newFilter"),params:J.array(J.any())}),Ile=J.object({method:J.literal("eth_newPendingTransactionFilter")}),Tle=J.object({method:J.literal("eth_sendRawTransaction"),params:J.array(J.any())}),Ple=J.object({method:J.literal("eth_syncing"),params:J.array(J.any())}),xle=J.object({method:J.literal("eth_uninstallFilter"),params:J.array(J.any())}),Ek=J.object({method:J.literal("personal_sign"),params:J.array(J.any())}),Ole=J.object({method:J.literal("eth_signTypedData_v4"),params:J.array(J.any())}),Rle=J.object({method:J.literal("eth_sendTransaction"),params:J.array(J.any())}),Nle=J.object({method:J.literal("solana_signMessage"),params:J.object({message:J.string(),pubkey:J.string()})}),Ble=J.object({method:J.literal("solana_signTransaction"),params:J.object({transaction:J.string()})}),kle=J.object({method:J.literal("solana_signAllTransactions"),params:J.object({transactions:J.array(J.string())})}),jle=J.object({method:J.literal("solana_signAndSendTransaction"),params:J.object({transaction:J.string(),options:J.object({skipPreflight:J.boolean().optional(),preflightCommitment:J.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:J.number().optional(),minContextSlot:J.number().optional()}).optional()})}),Dle=J.object({method:J.literal("wallet_sendCalls"),params:J.array(J.object({chainId:J.string().or(J.number()).optional(),from:J.string().optional(),version:J.string().optional(),capabilities:J.any().optional(),calls:J.array(J.object({to:J.string().startsWith("0x"),data:J.string().startsWith("0x").optional(),value:J.string().optional()}))}))}),Mle=J.object({method:J.literal("wallet_getCallsStatus"),params:J.array(J.string())}),Ule=J.object({method:J.literal("wallet_getCapabilities"),params:J.array(J.string().or(J.number()).optional()).optional()}),Lle=J.object({method:J.literal("wallet_grantPermissions"),params:J.array(J.any())}),Fle=J.object({method:J.literal("wallet_revokePermissions"),params:J.any()}),Hle=J.object({method:J.literal("wallet_getAssets"),params:J.any()}),vk=J.object({token:J.string()}),Ve=J.object({id:J.string().optional()}),cx={appEvent:Ve.extend({type:$e("APP_SWITCH_NETWORK"),payload:Aue}).or(Ve.extend({type:$e("APP_CONNECT_EMAIL"),payload:Cue})).or(Ve.extend({type:$e("APP_CONNECT_DEVICE")})).or(Ve.extend({type:$e("APP_CONNECT_OTP"),payload:Sue})).or(Ve.extend({type:$e("APP_CONNECT_SOCIAL"),payload:Iue})).or(Ve.extend({type:$e("APP_GET_FARCASTER_URI")})).or(Ve.extend({type:$e("APP_CONNECT_FARCASTER")})).or(Ve.extend({type:$e("APP_GET_USER"),payload:J.optional(Tue)})).or(Ve.extend({type:$e("APP_GET_SOCIAL_REDIRECT_URI"),payload:Pue})).or(Ve.extend({type:$e("APP_SIGN_OUT")})).or(Ve.extend({type:$e("APP_IS_CONNECTED"),payload:J.optional(vk)})).or(Ve.extend({type:$e("APP_GET_CHAIN_ID")})).or(Ve.extend({type:$e("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ve.extend({type:$e("APP_INIT_SMART_ACCOUNT")})).or(Ve.extend({type:$e("APP_SET_PREFERRED_ACCOUNT"),payload:kue})).or(Ve.extend({type:$e("APP_RPC_REQUEST"),payload:Ek.or(Hle).or(Yue).or(Jue).or(Que).or(Xue).or(ele).or(tle).or(rle).or(nle).or(sle).or(ile).or(ole).or(ale).or(cle).or(ule).or(lle).or(dle).or(fle).or(hle).or(ple).or(mle).or(gle).or(yle).or(ble).or(wle).or(Ele).or(vle).or(_le).or(Ale).or(Cle).or(Sle).or(Ile).or(Tle).or(Ple).or(xle).or(Ek).or(Ole).or(Rle).or(Nle).or(Ble).or(kle).or(jle).or(Mle).or(Dle).or(Ule).or(Lle).or(Fle).and(J.object({chainId:J.string().or(J.number()).optional(),chainNamespace:J.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:J.string().optional()}))})).or(Ve.extend({type:$e("APP_UPDATE_EMAIL"),payload:xue})).or(Ve.extend({type:$e("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Oue})).or(Ve.extend({type:$e("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Rue})).or(Ve.extend({type:$e("APP_SYNC_THEME"),payload:Nue})).or(Ve.extend({type:$e("APP_SYNC_DAPP_DATA"),payload:Bue})).or(Ve.extend({type:$e("APP_RELOAD")})).or(Ve.extend({type:$e("APP_RPC_ABORT")})),frameEvent:Ve.extend({type:$e("FRAME_SWITCH_NETWORK_ERROR"),payload:Kr}).or(Ve.extend({type:$e("FRAME_SWITCH_NETWORK_SUCCESS"),payload:$ue})).or(Ve.extend({type:$e("FRAME_CONNECT_EMAIL_SUCCESS"),payload:jue})).or(Ve.extend({type:$e("FRAME_CONNECT_EMAIL_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Due})).or(Ve.extend({type:$e("FRAME_GET_FARCASTER_URI_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Mue})).or(Ve.extend({type:$e("FRAME_CONNECT_FARCASTER_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_CONNECT_OTP_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_CONNECT_OTP_SUCCESS")})).or(Ve.extend({type:$e("FRAME_CONNECT_DEVICE_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ve.extend({type:$e("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Uue})).or(Ve.extend({type:$e("FRAME_CONNECT_SOCIAL_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_GET_USER_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_GET_USER_SUCCESS"),payload:Fue})).or(Ve.extend({type:$e("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Hue})).or(Ve.extend({type:$e("FRAME_SIGN_OUT_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_SIGN_OUT_SUCCESS")})).or(Ve.extend({type:$e("FRAME_IS_CONNECTED_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_IS_CONNECTED_SUCCESS"),payload:que})).or(Ve.extend({type:$e("FRAME_GET_CHAIN_ID_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_GET_CHAIN_ID_SUCCESS"),payload:zue})).or(Ve.extend({type:$e("FRAME_RPC_REQUEST_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_RPC_REQUEST_SUCCESS"),payload:Zue})).or(Ve.extend({type:$e("FRAME_SESSION_UPDATE"),payload:vk})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Lue})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Vue})).or(Ve.extend({type:$e("FRAME_SYNC_THEME_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_SYNC_THEME_SUCCESS")})).or(Ve.extend({type:$e("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ve.extend({type:$e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Gue})).or(Ve.extend({type:$e("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Kue})).or(Ve.extend({type:$e("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_READY"),payload:Wue})).or(Ve.extend({type:$e("FRAME_RELOAD_ERROR"),payload:Kr})).or(Ve.extend({type:$e("FRAME_RELOAD_SUCCESS")}))};function ux(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}function qle({projectId:t,chainId:e,enableLogger:r,rpcUrl:n=Ee.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const i=new URL(_ce);i.searchParams.set("projectId",t),i.searchParams.set("chainId",String(e)),i.searchParams.set("version",Cce),i.searchParams.set("enableLogger",String(r)),i.searchParams.set("rpcUrl",n);const o=En.get("dapp_smart_account_version");return o&&(o==="v6"||o==="v7")&&(console.warn(">> AppKit - Forcing smart account version",o),i.searchParams.set("smartAccountVersion",o)),s&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}class zle{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:i=!1,rpcUrl:o=Ee.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,u)=>{function l({data:d}){var h;if(!ux(Ze.FRAME_EVENT_KEY,d))return;const f=cx.frameEvent.safeParse(d);if(!f.success){console.warn("W3mFrame: invalid frame event",f.error.message);return}((h=f.data)==null?void 0:h.id)===a&&(c(f.data),window.removeEventListener("message",l))}Zi.isClient&&(window.addEventListener("message",l),u.addEventListener("abort",()=>{window.removeEventListener("message",l)}))},onFrameEvent:a=>{Zi.isClient&&window.addEventListener("message",({data:c})=>{if(!ux(Ze.FRAME_EVENT_KEY,c))return;const u=cx.frameEvent.safeParse(c);u.success?a(u.data):console.warn("W3mFrame: invalid frame event",u.error.message)})},onAppEvent:a=>{Zi.isClient&&window.addEventListener("message",({data:c})=>{if(!ux(Ze.APP_EVENT_KEY,c))return;const u=cx.appEvent.safeParse(c);u.success||console.warn("W3mFrame: invalid app event",u.error.message),a(c)})},postAppEvent:a=>{var c;if(Zi.isClient){if(!((c=this.iframe)!=null&&c.contentWindow))throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(Zi.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,r&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),Zi.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=qle({projectId:e,chainId:n,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{var c;(c=this.frameLoadPromiseResolver)==null||c.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{var u;c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,(u=this.frameLoadPromiseResolver)==null||u.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}var Wg={exports:{}},lx,_k;function $le(){if(_k)return lx;_k=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}lx=e;function e(r,n,s){var i=s&&s.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=i(r);for(var u=1;u<a;u++)c[u]=i(n[u]);return c.join(" ")}if(typeof r!="string")return r;var l=n.length;if(l===0)return r;for(var d="",f=1-o,h=-1,p=r&&r.length||0,m=0;m<p;){if(r.charCodeAt(m)===37&&m+1<p){switch(h=h>-1?h:0,r.charCodeAt(m+1)){case 100:case 102:if(f>=l||n[f]==null)break;h<m&&(d+=r.slice(h,m)),d+=Number(n[f]),h=m+2,m++;break;case 105:if(f>=l||n[f]==null)break;h<m&&(d+=r.slice(h,m)),d+=Math.floor(Number(n[f])),h=m+2,m++;break;case 79:case 111:case 106:if(f>=l||n[f]===void 0)break;h<m&&(d+=r.slice(h,m));var y=typeof n[f];if(y==="string"){d+="'"+n[f]+"'",h=m+2,m++;break}if(y==="function"){d+=n[f].name||"<anonymous>",h=m+2,m++;break}d+=i(n[f]),h=m+2,m++;break;case 115:if(f>=l)break;h<m&&(d+=r.slice(h,m)),d+=String(n[f]),h=m+2,m++;break;case 37:h<m&&(d+=r.slice(h,m)),d+="%",h=m+2,m++,f--;break}++f}++m}return h===-1?r:(h<p&&(d+=r.slice(h)),d)}return lx}var Ak;function Vle(){if(Ak)return Wg.exports;Ak=1;const t=$le();Wg.exports=l;const e=U().console||{},r={mapHttpRequest:C,mapHttpResponse:C,wrapRequestSerializer:x,wrapResponseSerializer:x,wrapErrorSerializer:x,req:C,res:C,err:v,errWithCause:v};function n(I,S){return I==="silent"?1/0:S.levels.values[I]}const s=Symbol("pino.logFuncs"),i=Symbol("pino.hierarchy"),o={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function a(I,S){const _={logger:S,parent:I[i]};S[i]=_}function c(I,S,_){const R={};S.forEach(O=>{R[O]=_[O]?_[O]:e[O]||e[o[O]||"log"]||T}),I[s]=R}function u(I,S){return Array.isArray(I)?I.filter(function(R){return R!=="!stdSerializers.err"}):I===!0?Object.keys(S):!1}function l(I){I=I||{},I.browser=I.browser||{};const S=I.browser.transmit;if(S&&typeof S.send!="function")throw Error("pino: transmit option must have a send function");const _=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const R=I.serializers||{},O=u(I.browser.serialize,R);let P=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&(P=!1);const D=Object.keys(I.customLevels||{}),j=["error","fatal","warn","info","debug","trace"].concat(D);typeof _=="function"&&j.forEach(function(X){_[X]=_}),(I.enabled===!1||I.browser.disabled)&&(I.level="silent");const F=I.level||"info",q=Object.create(_);q.log||(q.log=T),c(q,j,_),a({},q),Object.defineProperty(q,"levelVal",{get:W}),Object.defineProperty(q,"level",{get:K,set:re});const z={transmit:S,serialize:O,asObject:I.browser.asObject,asObjectBindingsOnly:I.browser.asObjectBindingsOnly,formatters:I.browser.formatters,levels:j,timestamp:A(I),messageKey:I.messageKey||"msg",onChild:I.onChild||T};q.levels=d(I),q.level=F,q.isLevelEnabled=function(X){return this.levels.values[X]?this.levels.values[X]>=this.levels.values[this.level]:!1},q.setMaxListeners=q.getMaxListeners=q.emit=q.addListener=q.on=q.prependListener=q.once=q.prependOnceListener=q.removeListener=q.removeAllListeners=q.listeners=q.listenerCount=q.eventNames=q.write=q.flush=T,q.serializers=R,q._serialize=O,q._stdErrSerialize=P,q.child=function(...X){return Q.call(this,z,...X)},S&&(q._logEvent=g());function W(){return n(this.level,this)}function K(){return this._level}function re(X){if(X!=="silent"&&!this.levels.values[X])throw Error("unknown level "+X);this._level=X,p(this,z,q,"error"),p(this,z,q,"fatal"),p(this,z,q,"warn"),p(this,z,q,"info"),p(this,z,q,"debug"),p(this,z,q,"trace"),D.forEach(ie=>{p(this,z,q,ie)})}function Q(X,ie,Y){if(!ie)throw new Error("missing bindings for child Pino");Y=Y||{},O&&ie.serializers&&(Y.serializers=ie.serializers);const V=Y.serializers;if(O&&V){var Z=Object.assign({},R,V),ne=I.browser.serialize===!0?Object.keys(Z):O;delete ie.serializers,w([ie],ne,Z,this._stdErrSerialize)}function ue(ge){this._childLevel=(ge._childLevel|0)+1,this.bindings=ie,Z&&(this.serializers=Z,this._serialize=ne),S&&(this._logEvent=g([].concat(ge._logEvent.bindings,ie)))}ue.prototype=this;const ce=new ue(this);return a(this,ce),ce.child=function(...ge){return Q.call(this,X,...ge)},ce.level=Y.level||this.level,X.onChild(ce),ce}return q}function d(I){const S=I.customLevels||{},_=Object.assign({},l.levels.values,S),R=Object.assign({},l.levels.labels,f(S));return{values:_,labels:R}}function f(I){const S={};return Object.keys(I).forEach(function(_){S[I[_]]=_}),S}l.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},l.stdSerializers=r,l.stdTimeFunctions=Object.assign({},{nullTime:N,epochTime:M,unixTime:k,isoTime:B});function h(I){const S=[];I.bindings&&S.push(I.bindings);let _=I[i];for(;_.parent;)_=_.parent,_.logger.bindings&&S.push(_.logger.bindings);return S.reverse()}function p(I,S,_,R){if(Object.defineProperty(I,R,{value:n(I.level,_)>n(R,_)?T:_[s][R],writable:!0,enumerable:!0,configurable:!0}),I[R]===T){if(!S.transmit)return;const P=S.transmit.level||I.level,D=n(P,_);if(n(R,_)<D)return}I[R]=y(I,S,_,R);const O=h(I);O.length!==0&&(I[R]=m(O,I[R]))}function m(I,S){return function(){return S.apply(this,[...I,...arguments])}}function y(I,S,_,R){return(function(O){return function(){const D=S.timestamp(),j=new Array(arguments.length),F=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var q=0;q<j.length;q++)j[q]=arguments[q];var z=!1;if(S.serialize&&(w(j,this._serialize,this.serializers,this._stdErrSerialize),z=!0),S.asObject||S.formatters?O.call(F,...E(this,R,j,D,S)):O.apply(F,j),S.transmit){const W=S.transmit.level||I._level,K=n(W,_),re=n(R,_);if(re<K)return;b(this,{ts:D,methodLevel:R,methodValue:re,transmitValue:_.levels.values[S.transmit.level||I._level],send:S.transmit.send,val:n(I._level,_)},j,z)}}})(I[s][R])}function E(I,S,_,R,O){const{level:P,log:D=W=>W}=O.formatters||{},j=_.slice();let F=j[0];const q={};let z=(I._childLevel|0)+1;if(z<1&&(z=1),R&&(q.time=R),P){const W=P(S,I.levels.values[S]);Object.assign(q,W)}else q.level=I.levels.values[S];if(O.asObjectBindingsOnly){if(F!==null&&typeof F=="object")for(;z--&&typeof j[0]=="object";)Object.assign(q,j.shift());return[D(q),...j]}else{if(F!==null&&typeof F=="object"){for(;z--&&typeof j[0]=="object";)Object.assign(q,j.shift());F=j.length?t(j.shift(),j):void 0}else typeof F=="string"&&(F=t(j.shift(),j));return F!==void 0&&(q[O.messageKey]=F),[D(q)]}}function w(I,S,_,R){for(const O in I)if(R&&I[O]instanceof Error)I[O]=l.stdSerializers.err(I[O]);else if(typeof I[O]=="object"&&!Array.isArray(I[O])&&S)for(const P in I[O])S.indexOf(P)>-1&&P in _&&(I[O][P]=_[P](I[O][P]))}function b(I,S,_,R=!1){const O=S.send,P=S.ts,D=S.methodLevel,j=S.methodValue,F=S.val,q=I._logEvent.bindings;R||w(_,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=P,I._logEvent.messages=_.filter(function(z){return q.indexOf(z)===-1}),I._logEvent.level.label=D,I._logEvent.level.value=j,O(D,I._logEvent,F),I._logEvent=g(q)}function g(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function v(I){const S={type:I.constructor.name,msg:I.message,stack:I.stack};for(const _ in I)S[_]===void 0&&(S[_]=I[_]);return S}function A(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?N:M}function C(){return{}}function x(I){return I}function T(){}function N(){return!1}function M(){return Date.now()}function k(){return Math.round(Date.now()/1e3)}function B(){return new Date(Date.now()).toISOString()}function U(){function I(S){return typeof S<"u"&&S}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return Wg.exports.default=l,Wg.exports.pino=l,Wg.exports}var w0=Vle();const aZ=gg(w0),Gle=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),Wle=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Zh(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Wle(t)}catch{return t}}function Du(t){return typeof t=="string"?t:Gle(t)||""}const Kle={level:"info"},FT="custom_context",E8=1e3*1024;var Zle=Object.defineProperty,Yle=(t,e,r)=>e in t?Zle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dl=(t,e,r)=>Yle(t,typeof e!="symbol"?e+"":e,r);let Jle=class{constructor(e){Dl(this,"nodeValue"),Dl(this,"sizeInBytes"),Dl(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Ck=class{constructor(e){Dl(this,"lengthInNodes"),Dl(this,"sizeInBytes"),Dl(this,"head"),Dl(this,"tail"),Dl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Jle(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}};var Qle=Object.defineProperty,Xle=(t,e,r)=>e in t?Qle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iv=(t,e,r)=>Xle(t,typeof e!="symbol"?e+"":e,r);let cZ=class{constructor(e,r=E8){iv(this,"logs"),iv(this,"level"),iv(this,"levelValue"),iv(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=w0.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Ck(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===w0.levels.values.error?console.error(e):r===w0.levels.values.warn?console.warn(e):r===w0.levels.values.debug?console.debug(e):r===w0.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Du({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Ck(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Du({extraMetadata:e})),new Blob(r,{type:"application/json"})}};var ede=Object.defineProperty,tde=(t,e,r)=>e in t?ede(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rde=(t,e,r)=>tde(t,e+"",r);let nde=class{constructor(e,r=E8){rde(this,"baseChunkLogger"),this.baseChunkLogger=new cZ(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}};var sde=Object.defineProperty,ide=(t,e,r)=>e in t?sde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ode=(t,e,r)=>ide(t,e+"",r);let ade=class{constructor(e,r=E8){ode(this,"baseChunkLogger"),this.baseChunkLogger=new cZ(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var cde=Object.defineProperty,ude=Object.defineProperties,lde=Object.getOwnPropertyDescriptors,Sk=Object.getOwnPropertySymbols,dde=Object.prototype.hasOwnProperty,fde=Object.prototype.propertyIsEnumerable,Ik=(t,e,r)=>e in t?cde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AI=(t,e)=>{for(var r in e||(e={}))dde.call(e,r)&&Ik(t,r,e[r]);if(Sk)for(var r of Sk(e))fde.call(e,r)&&Ik(t,r,e[r]);return t},CI=(t,e)=>ude(t,lde(e));function v8(t){return CI(AI({},t),{level:(t==null?void 0:t.level)||Kle.level})}function hde(t,e,r=FT){return t[r]=e,t}function wi(t,e=FT){return t[e]||""}function pde(t,e,r=FT){const n=wi(t,r);return n.trim()?`${n}/${e}`:e}function Ei(t,e,r=FT){const n=pde(t,e,r),s=t.child({context:n});return hde(s,n,r)}function mde(t){var e,r;const n=new nde((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:aZ(CI(AI({},t.opts),{level:"trace",browser:CI(AI({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function gde(t){var e;const r=new ade((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:aZ(CI(AI({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function HT(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?mde(t):gde(t)}class yde{constructor(e){var i;const r=v8({level:Ace}),{logger:n,chunkLoggerController:s}=HT({opts:r});this.logger=Ei(n,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&((i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class bde{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c,metadata:u,sdkVersion:l,sdkType:d}){this.openRpcRequests=new Map,this.isInitialized=!1,n&&(this.w3mLogger=new yde(e)),this.abortController=i,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const f=this.getRpcUrl(r);this.projectId=e,this.sdkVersion=l,this.sdkType=d,this.metadata=u,this.w3mFrame=new zle({projectId:e,isAppClient:!0,chainId:r,enableLogger:n,rpcUrl:f,enableCloudAuthAccount:c}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,await this.syncDappData({metadata:this.metadata,projectId:this.projectId,sdkVersion:this.sdkVersion,sdkType:this.sdkType}),await this.getSmartAccountEnabledNetworks(),this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!En.get(Ze.EMAIL_LOGIN_USED_KEY)}getEmail(){return En.get(Ze.EMAIL)}getUsername(){return En.get(Ze.SOCIAL_USERNAME)}async reload(){var e;try{await this.appEvent({type:Ze.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{Zi.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:Ze.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){var e;try{return this.appEvent({type:Ze.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:Ze.APP_CONNECT_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:Ze.APP_IS_CONNECTED});return r!=null&&r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:Ze.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return await this.init(),this.appEvent({type:Ze.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){var r;try{const n=await this.appEvent({type:Ze.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:Ze.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){var r;try{const n=await this.appEvent({type:Ze.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){var r;try{return this.appEvent({type:Ze.APP_SYNC_THEME,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){var r;try{return this.appEvent({type:Ze.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:Ze.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:Ze.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){var r,n;if(e!=null&&e.socialUri)try{await this.init();const s=this.getRpcUrl(e.chainId),i=await this.appEvent({type:Ze.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:s}});return i.userName&&this.setSocialLoginSuccess(i.userName),this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting social"),s}else try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType,siwxMessage:e==null?void 0:e.siwxMessage,rpcUrl:this.getRpcUrl(s)});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(s){throw(n=this.w3mLogger)==null||n.logger.error({error:s},"Error connecting"),s}}async getUser(e){var r;try{await this.init();const n=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,s=await this.appEvent({type:Ze.APP_GET_USER,payload:{...e,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=s,s}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:e,chainId:r,preferredAccountType:n}){var s;try{await this.init();const i=this.getRpcUrl(r),o=await this.appEvent({type:Ze.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:r,rpcUrl:i,preferredAccountType:n}});return o.userName&&this.setSocialLoginSuccess(o.userName),o}catch(i){throw(s=this.w3mLogger)==null||s.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){var e;try{return await this.init(),await this.appEvent({type:Ze.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:Ze.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork({chainId:e}){var r;try{const n=this.getRpcUrl(e),s=await this.appEvent({type:Ze.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:n}});return this.setLastUsedChainId(s.chainId),s}catch(n){throw(r=this.w3mLogger)==null||r.logger.error({error:n},"Error switching network"),n}}async disconnect(){var e;try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const s=setTimeout(()=>{n()},3e3);await this.appEvent({type:Ze.APP_SIGN_OUT}),clearTimeout(s),n()})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var n,s,i,o,a;const r=e;try{if(cn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const c=e.chainNamespace||"eip155",u=(n=this.getActiveCaipNetwork(c))==null?void 0:n.id;r.chainNamespace=c,r.chainId=u,r.rpcUrl=this.getRpcUrl(u),(s=this.rpcRequestHandler)==null||s.call(this,e);const l=await this.appEvent({type:Ze.APP_RPC_REQUEST,payload:r});return(i=this.rpcSuccessHandler)==null||i.call(this,l,r),l}catch(c){throw(o=this.rpcErrorHandler)==null||o.call(this,c,r),(a=this.w3mLogger)==null||a.logger.error({error:c},"Error requesting"),c}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_IS_CONNECTED_ERROR&&e(),r.type===Ze.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===Ze.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===Ze.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:cn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){var e;try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:r,method:n})=>{cn.SAFE_RPC_METHODS.includes(n)||r.abort(),await this.appEvent({type:Ze.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){let r,n;function s(c){return c.replace("@w3m-app/","")}const i=[Ze.APP_SYNC_DAPP_DATA,Ze.APP_SYNC_THEME,Ze.APP_SET_PREFERRED_ACCOUNT],o=s(e.type);return!this.w3mFrame.iframeIsReady&&!i.includes(e.type)&&(n=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(n),[Ze.APP_CONNECT_EMAIL,Ze.APP_CONNECT_DEVICE,Ze.APP_CONNECT_OTP,Ze.APP_CONNECT_SOCIAL,Ze.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(o)&&(r=setTimeout(()=>{var c;(c=this.onTimeout)==null||c.call(this,"iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,u)=>{var h,p,m;const l=Math.random().toString(36).substring(7);(m=(h=this.w3mLogger)==null?void 0:(p=h.logger).info)==null||m.call(p,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l});const d=new AbortController;if(o==="RPC_REQUEST"){const y=e;this.openRpcRequests.set(l,{...y.payload,abortController:d})}d.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?u(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});const f=(y,E)=>{var w,b,g;y.id===l&&((b=E==null?void 0:(w=E.logger).info)==null||b.call(w,{framEvent:y,id:l},"Received frame response"),this.openRpcRequests.delete(y.id),y.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in y&&c(y.payload),c(void 0)):y.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in y&&u(new Error(((g=y.payload)==null?void 0:g.message)||"An error occurred")),u(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(l,y=>f(y,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){En.set(Ze.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){En.set(Ze.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&En.set(Ze.EMAIL,e),En.set(Ze.EMAIL_LOGIN_USED_KEY,"true"),En.delete(Ze.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){En.delete(Ze.EMAIL_LOGIN_USED_KEY),En.delete(Ze.EMAIL),En.delete(Ze.LAST_USED_CHAIN_KEY),En.delete(Ze.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&En.set(Ze.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=En.get(Ze.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){En.set(Ze.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){var i,o;let r=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?r=(i=mn.parseCaipNetworkId(e))==null?void 0:i.chainNamespace:Number.isInteger(Number(e))?r="eip155":r="solana");const n=this.getCaipNetworks(r),s=e?n.find(a=>String(a.id)===String(e)||a.caipNetworkId===e):n[0];return(o=s==null?void 0:s.rpcUrls.default.http)==null?void 0:o[0]}}function G1(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function bd(t){return G1(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const uZ="2.40.3";let Kg={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${uZ}`},ht=class tR extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof tR?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof tR&&r.cause.docsPath||r.docsPath,i=(a=Kg.getDocsUrl)==null?void 0:a.call(Kg,{...r,docsPath:s}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...Kg.version?[`Version: ${Kg.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=uZ}walk(e){return lZ(this,e)}};function lZ(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?lZ(t.cause,e):e?null:t}let dZ=class extends ht{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},fZ=class extends ht{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class x7e extends ht{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function yg(t,{dir:e,size:r=32}={}){return typeof t=="string"?wde(t,{dir:e,size:r}):Ede(t,{dir:e,size:r})}function wde(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new fZ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Ede(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new fZ({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i=e==="right";n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}let vde=class extends ht{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}};class R7e extends ht{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class _de extends ht{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Ade=class extends ht{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function ad(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let s=0;s<r.length-1&&r[e==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Rd(t,{size:e}){if(bd(t)>e)throw new Ade({givenSize:bd(t),maxSize:e})}function E0(t,e={}){const{signed:r}=e;e.size&&Rd(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function B7e(t,e={}){let r=t;if(e.size&&(Rd(r,{size:e.size}),r=ad(r)),ad(r)==="0x00")return!1;if(ad(r)==="0x01")return!0;throw new _de(r)}function SI(t,e={}){return Number(E0(t,e))}function k7e(t,e={}){let r=wd(t);return e.size&&(Rd(r,{size:e.size}),r=ad(r,{dir:"right"})),new TextDecoder().decode(r)}const Cde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cd(t,e={}){return typeof t=="number"||typeof t=="bigint"?qt(t,e):typeof t=="string"?hZ(t,e):typeof t=="boolean"?Sde(t,e):Nd(t,e)}function Sde(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Rd(r,{size:e.size}),yg(r,{size:e.size})):r}function Nd(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=Cde[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(Rd(n,{size:e.size}),yg(n,{dir:"right",size:e.size})):n}function qt(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new vde({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?yg(a,{size:n}):a}const Ide=new TextEncoder;function hZ(t,e={}){const r=Ide.encode(t);return Nd(r,e)}const Tde=new TextEncoder;function pZ(t,e={}){return typeof t=="number"||typeof t=="bigint"?xde(t,e):typeof t=="boolean"?Pde(t,e):G1(t)?wd(t,e):mZ(t,e)}function Pde(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Rd(r,{size:e.size}),yg(r,{size:e.size})):r}const wc={zero:48,nine:57,A:65,F:70,a:97,f:102};function Tk(t){if(t>=wc.zero&&t<=wc.nine)return t-wc.zero;if(t>=wc.A&&t<=wc.F)return t-(wc.A-10);if(t>=wc.a&&t<=wc.f)return t-(wc.a-10)}function wd(t,e={}){let r=t;e.size&&(Rd(r,{size:e.size}),r=yg(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=n.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=Tk(n.charCodeAt(a++)),u=Tk(n.charCodeAt(a++));if(c===void 0||u===void 0)throw new ht(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);i[o]=c*16+u}return i}function xde(t,e){const r=qt(t,e);return wd(r)}function mZ(t,e={}){const r=Tde.encode(t);return typeof e.size=="number"?(Rd(r,{size:e.size}),yg(r,{dir:"right",size:e.size})):r}const ov=BigInt(2**32-1),Pk=BigInt(32);function Ode(t,e=!1){return e?{h:Number(t&ov),l:Number(t>>Pk&ov)}:{h:Number(t>>Pk&ov)|0,l:Number(t&ov)|0}}function gZ(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:o,l:a}=Ode(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}const xk=(t,e,r)=>t>>>r,Ok=(t,e,r)=>t<<32-r|e>>>r,Bp=(t,e,r)=>t>>>r|e<<32-r,kp=(t,e,r)=>t<<32-r|e>>>r,av=(t,e,r)=>t<<64-r|e>>>r-32,cv=(t,e,r)=>t>>>r-32|e<<64-r,Rde=(t,e,r)=>t<<r|e>>>32-r,Nde=(t,e,r)=>e<<r|t>>>32-r,Bde=(t,e,r)=>e<<r-32|t>>>64-r,kde=(t,e,r)=>t<<r-32|e>>>64-r;function Ec(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const jde=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Dde=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Mde=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Ude=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Lde=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Fde=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,jp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hde(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Mw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ed(t,...e){if(!Hde(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function qde(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Mw(t.outputLen),Mw(t.blockLen)}function Km(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function yZ(t,e){Ed(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function zde(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function vd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function dx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ca(t,e){return t<<32-e|t>>>e}const $de=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Vde(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Gde(t){for(let e=0;e<t.length;e++)t[e]=Vde(t[e]);return t}const Rk=$de?t=>t:Gde,bZ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Wde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function j7e(t){if(Ed(t),bZ)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Wde[t[r]];return e}const vc={_0:48,_9:57,A:65,F:70,a:97,f:102};function Nk(t){if(t>=vc._0&&t<=vc._9)return t-vc._0;if(t>=vc.A&&t<=vc.F)return t-(vc.A-10);if(t>=vc.a&&t<=vc.f)return t-(vc.a-10)}function D7e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(bZ)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=Nk(t.charCodeAt(i)),a=Nk(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Kde(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function qT(t){return typeof t=="string"&&(t=Kde(t)),Ed(t),t}function Zde(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];Ed(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}let _8=class{};function zT(t){const e=n=>t().update(qT(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Yde(t=32){if(jp&&typeof jp.getRandomValues=="function")return jp.getRandomValues(new Uint8Array(t));if(jp&&typeof jp.randomBytes=="function")return Uint8Array.from(jp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Jde=BigInt(0),Zg=BigInt(1),Qde=BigInt(2),Xde=BigInt(7),efe=BigInt(256),tfe=BigInt(113),wZ=[],EZ=[],vZ=[];for(let t=0,e=Zg,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],wZ.push(2*(5*n+r)),EZ.push((t+1)*(t+2)/2%64);let s=Jde;for(let i=0;i<7;i++)e=(e<<Zg^(e>>Xde)*tfe)%efe,e&Qde&&(s^=Zg<<(Zg<<BigInt(i))-Zg);vZ.push(s)}const _Z=gZ(vZ,!0),rfe=_Z[0],nfe=_Z[1],Bk=(t,e,r)=>r>32?Bde(t,e,r):Rde(t,e,r),kk=(t,e,r)=>r>32?kde(t,e,r):Nde(t,e,r);function sfe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=Bk(u,l,1)^r[a],f=kk(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=EZ[o],c=Bk(s,i,a),u=kk(s,i,a),l=wZ[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=rfe[n],t[1]^=nfe[n]}vd(r)}let ife=class AZ extends _8{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Mw(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=zde(this.state)}clone(){return this._cloneInto()}keccak(){Rk(this.state32),sfe(this.state32,this.rounds),Rk(this.state32),this.posOut=0,this.pos=0}update(e){Km(this),e=qT(e),Ed(e);const{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Km(this,!1),Ed(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Mw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(yZ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,vd(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new AZ(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ofe=(t,e,r)=>zT(()=>new ife(e,t,r)),CZ=ofe(1,136,256/8);function afe(t,e){const r=e||"hex",n=CZ(G1(t,{strict:!1})?pZ(t):t);return r==="bytes"?n:cd(n)}let _d=class extends ht{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},A8=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const fx=new A8(8192);function SZ(t,e){if(fx.has(`${t}.${e}`))return fx.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=afe(mZ(r),"bytes"),s=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return fx.set(`${t}.${e}`,i),i}function F7e(t,e){if(!Ad(t,{strict:!1}))throw new _d({address:t});return SZ(t,e)}const cfe=/^0x[a-fA-F0-9]{40}$/,hx=new A8(8192);function Ad(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(hx.has(n))return hx.get(n);const s=cfe.test(t)?t.toLowerCase()===t?!0:r?SZ(t)===t:!0:!1;return hx.set(n,s),s}function H7e(t){return typeof t[0]=="string"?bg(t):ufe(t)}function ufe(t){let e=0;for(const s of t)e+=s.length;const r=new Uint8Array(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function bg(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function lfe(t,e,r,{strict:n}={}){return G1(t,{strict:!1})?ffe(t,e,r,{strict:n}):dfe(t,e,r,{strict:n})}function IZ(t,e){if(typeof e=="number"&&e>0&&e>bd(t)-1)throw new dZ({offset:e,position:"start",size:bd(t)})}function TZ(t,e,r){if(typeof e=="number"&&typeof r=="number"&&bd(t)!==r-e)throw new dZ({offset:r,position:"end",size:bd(t)})}function dfe(t,e,r,{strict:n}={}){IZ(t,e);const s=t.slice(e,r);return n&&TZ(s,e,r),s}function ffe(t,e,r,{strict:n}={}){IZ(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&TZ(s,e,r),s}class jk extends ht{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class hfe extends ht{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class pfe extends ht{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const mfe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new pfe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new hfe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new jk({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new jk({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function PZ(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(mfe);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}const Dh=(t,e,r)=>JSON.stringify(t,(n,s)=>typeof s=="bigint"?s.toString():s,r),gfe={gwei:9,wei:18},yfe={ether:-9,wei:9};function $T(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[s,i]=[r.slice(0,r.length-e),r.slice(r.length-e)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${i?`.${i}`:""}`}function bfe(t,e="wei"){return $T(t,gfe[e])}function Mh(t,e="wei"){return $T(t,yfe[e])}function xZ(t){const e=Object.entries(t).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=e.reduce((n,[s])=>Math.max(n,s.length),0);return e.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}class wfe extends ht{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Efe extends ht{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",xZ(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class vfe extends ht{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class q7e extends ht{constructor(e,{account:r,docsPath:n,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var p;const h=xZ({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:r==null?void 0:r.address,to:d,value:typeof f<"u"&&`${bfe(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Mh(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Mh(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Mh(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class z7e extends ht{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:s,index:i}){let o="Transaction";n&&i!==void 0&&(o=`Transaction at block time "${n}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),r&&i!==void 0&&(o=`Transaction at block number "${r}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class $7e extends ht{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class V7e extends ht{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class G7e extends ht{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const W7e=t=>t,C8=t=>t;class Kb extends ht{constructor({body:e,cause:r,details:n,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[i&&`Status: ${i}`,`URL: ${C8(o)}`,e&&`Request body: ${Dh(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class OZ extends ht{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${C8(n)}`,`Request body: ${Dh(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=n}}class Dk extends ht{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${C8(r)}`,`Request body: ${Dh(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const _fe=-1;class vi extends ht{constructor(e,{code:r,docsPath:n,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof OZ?e.code:r??_fe}}class to extends vi{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Uw extends vi{constructor(e){super(e,{code:Uw.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Uw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Lw extends vi{constructor(e){super(e,{code:Lw.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Lw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Fw extends vi{constructor(e,{method:r}={}){super(e,{code:Fw.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Fw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Hw extends vi{constructor(e){super(e,{code:Hw.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Zm extends vi{constructor(e){super(e,{code:Zm.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Zm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class qw extends vi{constructor(e){super(e,{code:qw.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(qw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class zw extends vi{constructor(e){super(e,{code:zw.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(zw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class $w extends vi{constructor(e){super(e,{code:$w.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty($w,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ym extends vi{constructor(e){super(e,{code:Ym.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ym,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Xf extends vi{constructor(e,{method:r}={}){super(e,{code:Xf.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Xf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Jm extends vi{constructor(e){super(e,{code:Jm.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Jm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Vw extends vi{constructor(e){super(e,{code:Vw.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Vw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Uh extends to{constructor(e){super(e,{code:Uh.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Gw extends to{constructor(e){super(e,{code:Gw.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Gw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Ww extends to{constructor(e,{method:r}={}){super(e,{code:Ww.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Ww,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Kw extends to{constructor(e){super(e,{code:Kw.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Kw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Zw extends to{constructor(e){super(e,{code:Zw.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Zw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Yw extends to{constructor(e){super(e,{code:Yw.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Yw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Jw extends to{constructor(e){super(e,{code:Jw.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Jw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Qw extends to{constructor(e){super(e,{code:Qw.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Qw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Xw extends to{constructor(e){super(e,{code:Xw.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Xw,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class e1 extends to{constructor(e){super(e,{code:e1.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(e1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class t1 extends to{constructor(e){super(e,{code:t1.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(t1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class r1 extends to{constructor(e){super(e,{code:r1.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(r1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class n1 extends to{constructor(e){super(e,{code:n1.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(n1,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Afe extends vi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Cfe="modulepreload",Sfe=function(t,e){return new URL(t,e).href},Mk={},vn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(r.map(l=>{if(l=Sfe(l,n),l in Mk)return;Mk[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let m=a.length-1;m>=0;m--){const y=a[m];if(y.href===l&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Cfe,d||(p.as="script"),p.crossOrigin="",p.href=l,u&&p.setAttribute("nonce",u),document.head.appendChild(p),d)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function Yh(t,e="hex"){const r=RZ(t),n=PZ(new Uint8Array(r.length));return r.encode(n),e==="hex"?Nd(n.bytes):n.bytes}function RZ(t){return Array.isArray(t)?Ife(t.map(e=>RZ(e))):Tfe(t)}function Ife(t){const e=t.reduce((s,i)=>s+i.length,0),r=NZ(e);return{length:e<=55?1+e:1+r+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+r),r===1?s.pushUint8(e):r===2?s.pushUint16(e):r===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function Tfe(t){const e=typeof t=="string"?wd(t):t,r=NZ(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+r),r===1?s.pushUint8(e.length):r===2?s.pushUint16(e.length):r===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function NZ(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ht("Length is too large.")}class S8 extends ht{constructor({cause:e,message:r}={}){var s;const n=(s=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(S8,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(S8,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class VT extends ht{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Mh(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(VT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Pfe extends ht{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Mh(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Pfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class xfe extends ht{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(xfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ofe extends ht{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Ofe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Rfe extends ht{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(Rfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Nfe extends ht{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Nfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Bfe extends ht{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Bfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class kfe extends ht{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(kfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class jfe extends ht{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(jfe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class BZ extends ht{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Mh(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Mh(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(BZ,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class K7e extends ht{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function I8(t,e){return({exclude:r,format:n})=>({exclude:r,format:(s,i)=>{const o=e(s,i);if(r)for(const a of r)delete o[a];return{...o,...n(s,i)}},type:t})}const T8=2n**256n-1n,kZ={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function P8(t,e){const r={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?SI(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?SI(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?kZ[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(r.authorizationList=Mfe(t.authorizationList)),r.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}const Dfe=I8("transaction",P8);function Mfe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Ufe(t,e){const r=(t.transactions??[]).map(n=>typeof n=="string"?n:P8(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:r,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Lfe=I8("block",Ufe);function jZ(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(i=>wd(i)):t.blobs,s=[];for(const i of n)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return r==="bytes"?s:s.map(i=>Nd(i))}function DZ(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>wd(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>wd(o)):t.commitments,i=[];for(let o=0;o<n.length;o++){const a=n[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?i:i.map(o=>Nd(o))}function Ffe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function Hfe(t,e,r){return t&e^~t&r}function qfe(t,e,r){return t&e^t&r^e&r}class MZ extends _8{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=dx(this.buffer)}update(e){Km(this),e=qT(e),Ed(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=dx(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Km(this),yZ(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,vd(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;Ffe(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=dx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Xu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ts=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),rs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),zfe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),el=new Uint32Array(64);let $fe=class extends MZ{constructor(e=32){super(64,e,8,!1),this.A=Xu[0]|0,this.B=Xu[1]|0,this.C=Xu[2]|0,this.D=Xu[3]|0,this.E=Xu[4]|0,this.F=Xu[5]|0,this.G=Xu[6]|0,this.H=Xu[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)el[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=el[d-15],h=el[d-2],p=Ca(f,7)^Ca(f,18)^f>>>3,m=Ca(h,17)^Ca(h,19)^h>>>10;el[d]=m+el[d-7]+p+el[d-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=Ca(a,6)^Ca(a,11)^Ca(a,25),h=l+f+Hfe(a,c,u)+zfe[d]+el[d]|0,m=(Ca(n,2)^Ca(n,13)^Ca(n,22))+qfe(n,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,s,i,o,a,c,u,l)}roundClean(){vd(el)}destroy(){this.set(0,0,0,0,0,0,0,0),vd(this.buffer)}};const UZ=gZ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Vfe=UZ[0],Gfe=UZ[1],tl=new Uint32Array(80),rl=new Uint32Array(80);let LZ=class extends MZ{constructor(e=64){super(128,e,16,!1),this.Ah=rs[0]|0,this.Al=rs[1]|0,this.Bh=rs[2]|0,this.Bl=rs[3]|0,this.Ch=rs[4]|0,this.Cl=rs[5]|0,this.Dh=rs[6]|0,this.Dl=rs[7]|0,this.Eh=rs[8]|0,this.El=rs[9]|0,this.Fh=rs[10]|0,this.Fl=rs[11]|0,this.Gh=rs[12]|0,this.Gl=rs[13]|0,this.Hh=rs[14]|0,this.Hl=rs[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)tl[b]=e.getUint32(r),rl[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=tl[b-15]|0,v=rl[b-15]|0,A=Bp(g,v,1)^Bp(g,v,8)^xk(g,v,7),C=kp(g,v,1)^kp(g,v,8)^Ok(g,v,7),x=tl[b-2]|0,T=rl[b-2]|0,N=Bp(x,T,19)^av(x,T,61)^xk(x,T,6),M=kp(x,T,19)^cv(x,T,61)^Ok(x,T,6),k=Mde(C,M,rl[b-7],rl[b-16]),B=Ude(k,A,N,tl[b-7],tl[b-16]);tl[b]=B|0,rl[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=Bp(d,f,14)^Bp(d,f,18)^av(d,f,41),v=kp(d,f,14)^kp(d,f,18)^cv(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=Lde(w,v,C,Gfe[b],rl[b]),T=Fde(x,E,g,A,Vfe[b],tl[b]),N=x|0,M=Bp(n,s,28)^av(n,s,34)^av(n,s,39),k=kp(n,s,28)^cv(n,s,34)^cv(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Ec(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=jde(N,k,U);n=Dde(I,T,M,B),s=I|0}({h:n,l:s}=Ec(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Ec(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ec(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ec(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=Ec(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Ec(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Ec(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=Ec(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){vd(tl,rl)}destroy(){vd(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class Wfe extends LZ{constructor(){super(48),this.Ah=ts[0]|0,this.Al=ts[1]|0,this.Bh=ts[2]|0,this.Bl=ts[3]|0,this.Ch=ts[4]|0,this.Cl=ts[5]|0,this.Dh=ts[6]|0,this.Dl=ts[7]|0,this.Eh=ts[8]|0,this.El=ts[9]|0,this.Fh=ts[10]|0,this.Fl=ts[11]|0,this.Gh=ts[12]|0,this.Gl=ts[13]|0,this.Hh=ts[14]|0,this.Hl=ts[15]|0}}const FZ=zT(()=>new $fe),J7e=zT(()=>new LZ),Q7e=zT(()=>new Wfe),Kfe=FZ;function Zfe(t,e){return Kfe(G1(t,{strict:!1})?pZ(t):t)}function Yfe(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),s=Zfe(e);return s.set([r],0),n==="bytes"?s:Nd(s)}function Jfe(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(Yfe({commitment:i,to:n,version:r}));return s}const Uk=6,HZ=32,x8=4096,qZ=HZ*x8,Lk=qZ*Uk-1-1*x8*Uk,zZ=1;class Qfe extends ht{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class $Z extends ht{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Xfe extends ht{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class ehe extends ht{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${zZ}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function the(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?wd(t.data):t.data,n=bd(r);if(!n)throw new $Z;if(n>Lk)throw new Qfe({maxSize:Lk,size:n});const s=[];let i=!0,o=0;for(;i;){const a=PZ(new Uint8Array(qZ));let c=0;for(;c<x8;){const u=r.slice(o,o+(HZ-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return e==="bytes"?s.map(a=>a.bytes):s.map(a=>Nd(a.bytes))}function rhe(t){const{data:e,kzg:r,to:n}=t,s=t.blobs??the({data:e,to:n}),i=t.commitments??jZ({blobs:s,kzg:r,to:n}),o=t.proofs??DZ({blobs:s,commitments:i,kzg:r,to:n}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function nhe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Efe({transaction:t})}function she(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const X7e=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],eHe=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],VZ=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],tHe=[...VZ,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],rHe=[...VZ,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],nHe=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],sHe=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],iHe=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],oHe=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],uv=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];class aHe extends ht{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class cHe extends ht{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class GT extends ht{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function ihe(){let t=()=>{},e=()=>{};return{promise:new Promise((n,s)=>{t=n,e=s}),resolve:t,reject:e}}const px=new Map;function ohe({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:s}){const i=async()=>{const l=c();o();const d=l.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<l.length;h++){const{resolve:p}=l[h];p==null||p([f[h],f])}}).catch(f=>{for(let h=0;h<l.length;h++){const{reject:p}=l[h];p==null||p(f)}})},o=()=>px.delete(e),a=()=>c().map(({args:l})=>l),c=()=>px.get(e)||[],u=l=>px.set(e,[...c(),l]);return{flush:o,async schedule(l){const{promise:d,resolve:f,reject:h}=ihe();return(r==null?void 0:r([...a(),l]))&&i(),c().length>0?(u({args:l,resolve:f,reject:h}),d):(u({args:l,resolve:f,reject:h}),setTimeout(i,n),d)}}}async function GZ(t){return new Promise(e=>setTimeout(e,t))}function ahe(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof e=="function"?e({count:a,error:u}):e;l&&await GZ(l),o({count:a+1})};try{const u=await t();s(u)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});i(u)}};o()})}const che={"0x0":"reverted","0x1":"success"};function uhe(t,e){const r={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>she(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?SI(t.transactionIndex):null,status:t.status?che[t.status]:null,type:t.type?kZ[t.type]||t.type:null};return t.blobGasPrice&&(r.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(r.blobGasUsed=BigInt(t.blobGasUsed)),r}const lhe=I8("transactionReceipt",uhe),rR=256;let lv=rR,dv;function dhe(t=11){if(!dv||lv+t>rR*2){dv="",lv=0;for(let e=0;e<rR;e++)dv+=(256+Math.random()*256|0).toString(16).substring(1)}return dv.substring(lv,lv+++t)}function fhe(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:n}=r,s=r.address;if(!Ad(s))throw new _d({address:s});if(n<0)throw new GT({chainId:n})}O8(t)}function hhe(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new $Z;for(const r of e){const n=bd(r),s=SI(lfe(r,0,1));if(n!==32)throw new Xfe({hash:r,size:n});if(s!==zZ)throw new ehe({hash:r,version:s})}}O8(t)}function O8(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:s}=t;if(e<=0)throw new GT({chainId:e});if(s&&!Ad(s))throw new _d({address:s});if(n&&n>T8)throw new VT({maxFeePerGas:n});if(r&&n&&r>n)throw new BZ({maxFeePerGas:n,maxPriorityFeePerGas:r})}function phe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(e<=0)throw new GT({chainId:e});if(i&&!Ad(i))throw new _d({address:i});if(r||s)throw new ht("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>T8)throw new VT({maxFeePerGas:n})}function mhe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:i}=t;if(i&&!Ad(i))throw new _d({address:i});if(typeof e<"u"&&e<=0)throw new GT({chainId:e});if(r||s)throw new ht("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>T8)throw new VT({maxFeePerGas:n})}function WT(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:s}=t[r];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new vfe({storageKey:s[i]});if(!Ad(n,{strict:!1}))throw new _d({address:n});e.push([n,s])}return e}function ghe(t,e){const r=nhe(t);return r==="eip1559"?whe(t,e):r==="eip2930"?Ehe(t,e):r==="eip4844"?bhe(t,e):r==="eip7702"?yhe(t,e):vhe(t,e)}function yhe(t,e){const{authorizationList:r,chainId:n,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=t;fhe(t);const f=WT(l),h=_he(r);return bg(["0x04",Yh([qt(n),i?qt(i):"0x",u?qt(u):"0x",c?qt(c):"0x",s?qt(s):"0x",o??"0x",a?qt(a):"0x",d??"0x",f,h,...W1(t,e)])])}function bhe(t,e){const{chainId:r,gas:n,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=t;hhe(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const b=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(A=>Nd(A)),g=t.kzg,v=jZ({blobs:b,kzg:g});if(typeof f>"u"&&(f=Jfe({commitments:v})),typeof h>"u"){const A=DZ({blobs:b,commitments:v,kzg:g});h=rhe({blobs:b,commitments:v,proofs:A})}}const p=WT(l),m=[qt(r),s?qt(s):"0x",u?qt(u):"0x",c?qt(c):"0x",n?qt(n):"0x",i??"0x",o?qt(o):"0x",d??"0x",p,a?qt(a):"0x",f??[],...W1(t,e)],y=[],E=[],w=[];if(h)for(let b=0;b<h.length;b++){const{blob:g,commitment:v,proof:A}=h[b];y.push(g),E.push(v),w.push(A)}return bg(["0x03",Yh(h?[m,y,E,w]:m)])}function whe(t,e){const{chainId:r,gas:n,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=t;O8(t);const d=WT(u),f=[qt(r),s?qt(s):"0x",c?qt(c):"0x",a?qt(a):"0x",n?qt(n):"0x",i??"0x",o?qt(o):"0x",l??"0x",d,...W1(t,e)];return bg(["0x02",Yh(f)])}function Ehe(t,e){const{chainId:r,gas:n,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=t;phe(t);const l=WT(c),d=[qt(r),i?qt(i):"0x",u?qt(u):"0x",n?qt(n):"0x",o??"0x",a?qt(a):"0x",s??"0x",l,...W1(t,e)];return bg(["0x01",Yh(d)])}function vhe(t,e){const{chainId:r=0,gas:n,data:s,nonce:i,to:o,value:a,gasPrice:c}=t;mhe(t);let u=[i?qt(i):"0x",c?qt(c):"0x",n?qt(n):"0x",o??"0x",a?qt(a):"0x",s??"0x"];if(e){const l=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new wfe({v:e.v});return h})(),d=ad(e.r),f=ad(e.s);u=[...u,qt(l),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else r>0&&(u=[...u,qt(r),"0x","0x"]);return Yh(u)}function W1(t,e){const r=e??t,{v:n,yParity:s}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof s>"u")return[];const i=ad(r.r),o=ad(r.s);return[typeof s=="number"?s?qt(1):"0x":n===0n?"0x":n===1n?qt(1):n===27n?"0x":qt(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function _he(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:n,nonce:s,...i}=r,o=r.address;e.push([n?cd(n):"0x",o,s?cd(s):"0x",...W1({},i)])}return e}const fv=new A8(8192);function Ahe(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(fv.get(r))return fv.get(r);const n=t().finally(()=>fv.delete(r));return fv.set(r,n),n}function Che(t,e={}){return async(r,n={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:u}=r;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new Xf(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new Xf(new Error("method not supported"),{method:u});const l=s?hZ(`${c}.${Dh(r)}`):void 0;return Ahe(()=>ahe(async()=>{try{return await t(r)}catch(f){const h=f;switch(h.code){case Uw.code:throw new Uw(h);case Lw.code:throw new Lw(h);case Fw.code:throw new Fw(h,{method:r.method});case Hw.code:throw new Hw(h);case Zm.code:throw new Zm(h);case qw.code:throw new qw(h);case zw.code:throw new zw(h);case $w.code:throw new $w(h);case Ym.code:throw new Ym(h);case Xf.code:throw new Xf(h,{method:r.method});case Jm.code:throw new Jm(h);case Vw.code:throw new Vw(h);case Uh.code:throw new Uh(h);case Gw.code:throw new Gw(h);case Ww.code:throw new Ww(h);case Kw.code:throw new Kw(h);case Zw.code:throw new Zw(h);case Yw.code:throw new Yw(h);case Jw.code:throw new Jw(h);case Qw.code:throw new Qw(h);case Xw.code:throw new Xw(h);case e1.code:throw new e1(h);case t1.code:throw new t1(h);case r1.code:throw new r1(h);case n1.code:throw new n1(h);case 5e3:throw new Uh(h);default:throw f instanceof ht?f:new Afe(h)}}},{delay:({count:f,error:h})=>{var p;if(h&&h instanceof Kb){const m=(p=h==null?void 0:h.headers)==null?void 0:p.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>She(f)}),{enabled:s,id:l})}}function She(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Jm.code||t.code===Zm.code:t instanceof Kb&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function KT(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Ihe(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function The(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Fk=The();function Phe(t,e={}){return{async request(r){var f;const{body:n,fetchFn:s=e.fetchFn??fetch,onRequest:i=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:l,signal:d}=c;try{const h=await Ihe(async({signal:m})=>{const y={...c,body:Array.isArray(n)?Dh(n.map(g=>({jsonrpc:"2.0",id:g.id??Fk.take(),...g}))):Dh({jsonrpc:"2.0",id:n.id??Fk.take(),...n}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:d||(a>0?m:null)},E=new Request(t,y),w=await(i==null?void 0:i(E,y))??{...y,url:t};return await s(w.url??t,w)},{errorInstance:new Dk({body:n,url:t}),timeout:a,signal:!0});o&&await o(h);let p;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))p=await h.json();else{p=await h.text();try{p=JSON.parse(p||"{}")}catch(m){if(h.ok)throw m;p={error:p}}}if(!h.ok)throw new Kb({body:n,details:Dh(p.error)||h.statusText,headers:h.headers,status:h.status,url:t});return p}catch(h){throw h instanceof Kb||h instanceof Dk?h:new Kb({body:n,cause:h,url:t})}}}}let WZ=class extends _8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,qde(e);const n=qT(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),vd(i)}update(e){return Km(this),this.iHash.update(e),this}digestInto(e){Km(this),Ed(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const KZ=(t,e,r)=>new WZ(t,e).update(r).digest();KZ.create=(t,e)=>new WZ(t,e);function ZZ({key:t,methods:e,name:r,request:n,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=dhe();return{config:{key:t,methods:e,name:r,request:n,retryCount:s,retryDelay:i,timeout:o,type:a},request:Che(n,{methods:e,retryCount:s,retryDelay:i,uid:u}),value:c}}function Hk(t,e={}){const{key:r="fallback",name:n="Fallback",rank:s=!1,shouldThrow:i=xhe,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:u=4e3,timeout:l,...d})=>{let f=t,h=()=>{};const p=ZZ({key:r,name:n,async request({method:m,params:y}){let E;const w=async(b=0)=>{const g=f[b]({...d,chain:c,retryCount:0,timeout:l});try{const v=await g.request({method:m,params:y});return h({method:m,params:y,response:v,transport:g,status:"success"}),v}catch(v){if(h({error:v,method:m,params:y,transport:g,status:"error"}),i(v)||b===f.length-1||(E??(E=f.slice(b+1).some(A=>{const{include:C,exclude:x}=A({chain:c}).config.methods||{};return C?C.includes(m):x?!x.includes(m):!0})),!E))throw v;return w(b+1)}};return w()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>h=m,transports:f.map(m=>m({chain:c,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};Ohe({chain:c,interval:m.interval??u,onTransports:y=>f=y,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:f,weights:m.weights})}return p})}function xhe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Ym.code||t.code===Uh.code||S8.nodeMessage.test(t.message)||t.code===5e3))}function Ohe({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],d=async()=>{const f=await Promise.all(o.map(async m=>{const y=m({chain:t,retryCount:0,timeout:i}),E=Date.now();let w,b;try{await(n?n({transport:y}):y.request({method:"net_listening"})),b=1}catch{b=0}finally{w=Date.now()}return{latency:w-E,success:b}}));l.push(f),l.length>s&&l.shift();const h=Math.max(...l.map(m=>Math.max(...m.map(({latency:y})=>y)))),p=o.map((m,y)=>{const E=l.map(A=>A[y].latency),b=1-E.reduce((A,C)=>A+C,0)/E.length/h,g=l.map(A=>A[y].success),v=g.reduce((A,C)=>A+C,0)/g.length;return v===0?[0,y]:[u*b+c*v,y]}).sort((m,y)=>y[0]-m[0]);r(p.map(([,m])=>o[m])),await GZ(e),d()};d()}class Rhe extends ht{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function hv(t,e={}){const{batch:r,fetchFn:n,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:l,raw:d}=e;return({chain:f,retryCount:h,timeout:p})=>{const{batchSize:m=1e3,wait:y=0}=typeof r=="object"?r:{},E=e.retryCount??h,w=p??e.timeout??1e4,b=t||(f==null?void 0:f.rpcUrls.default.http[0]);if(!b)throw new Rhe;const g=Phe(b,{fetchFn:n,fetchOptions:s,onRequest:c,onResponse:u,timeout:w});return ZZ({key:i,methods:o,name:a,async request({method:v,params:A}){const C={method:v,params:A},{schedule:x}=ohe({id:b,wait:y,shouldSplitBatch(k){return k.length>m},fn:k=>g.request({body:k}),sort:(k,B)=>k.id-B.id}),T=async k=>r?x(k):[await g.request({body:k})],[{error:N,result:M}]=await T(C);if(d)return{error:N,result:M};if(N)throw new OZ({body:C,error:N,url:b});return M},retryCount:E,retryDelay:l,timeout:w,type:"http"},{fetchOptions:s,url:b})}}async function Yg(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class K1{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...s}){const i=this.createUrl(s);return(await Yg(i,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const s=this.createUrl(n);return(await Yg(s,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await Yg(i,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await Yg(i,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...s}){const i=this.createUrl(s);return(await Yg(i,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([s,i])=>{i&&n.searchParams.append(s,i)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}sendBeacon({body:e,...r}){const n=this.createUrl(r);return navigator.sendBeacon(n.toString(),e?JSON.stringify(e):void 0)}}const nR={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Ft.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;let e=t;return Ue.isTelegram()&&(Ue.isIos()&&(e=e.filter(r=>r!=="google")),Ue.isMac()&&(e=e.filter(r=>r!=="x")),Ue.isAndroid()&&(e=e.filter(r=>!["facebook","x"].includes(r)))),Ue.isMobile()&&(e=e.filter(r=>r!=="facebook")),e},isSocialsEnabled(){var t,e,r,n;return Array.isArray((t=Ce.state.features)==null?void 0:t.socials)&&((e=Ce.state.features)==null?void 0:e.socials.length)>0||Array.isArray((r=Ce.state.remoteFeatures)==null?void 0:r.socials)&&((n=Ce.state.remoteFeatures)==null?void 0:n.socials.length)>0},isEmailEnabled(){var t,e;return!!((t=Ce.state.features)!=null&&t.email||(e=Ce.state.remoteFeatures)!=null&&e.email)}},et=Dr({features:Ft.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Ft.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),Ce={state:et,subscribeKey(t,e){return Zn(et,t,e)},setOptions(t){Object.assign(et,t)},setRemoteFeatures(t){var r,n;if(!t)return;const e={...et.remoteFeatures,...t};et.remoteFeatures=e,(r=et.remoteFeatures)!=null&&r.socials&&(et.remoteFeatures.socials=nR.filterSocialsByPlatform(et.remoteFeatures.socials)),(n=et.features)!=null&&n.pay&&(et.remoteFeatures.email=!1,et.remoteFeatures.socials=!1)},setFeatures(t){var r;if(!t)return;et.features||(et.features=Ft.DEFAULT_FEATURES);const e={...et.features,...t};et.features=e,(r=et.features)!=null&&r.pay&&et.remoteFeatures&&(et.remoteFeatures.email=!1,et.remoteFeatures.socials=!1)},setProjectId(t){et.projectId=t},setCustomRpcUrls(t){et.customRpcUrls=t},setAllWallets(t){et.allWallets=t},setIncludeWalletIds(t){et.includeWalletIds=t},setExcludeWalletIds(t){et.excludeWalletIds=t},setFeaturedWalletIds(t){et.featuredWalletIds=t},setTokens(t){et.tokens=t},setTermsConditionsUrl(t){et.termsConditionsUrl=t},setPrivacyPolicyUrl(t){et.privacyPolicyUrl=t},setCustomWallets(t){et.customWallets=t},setIsSiweEnabled(t){et.isSiweEnabled=t},setIsUniversalProvider(t){et.isUniversalProvider=t},setSdkVersion(t){et.sdkVersion=t},setMetadata(t){et.metadata=t},setDisableAppend(t){et.disableAppend=t},setEIP6963Enabled(t){et.enableEIP6963=t},setDebug(t){et.debug=t},setEnableWalletGuide(t){et.enableWalletGuide=t},setEnableAuthLogger(t){et.enableAuthLogger=t},setEnableWallets(t){et.enableWallets=t},setPreferUniversalLinks(t){et.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(Ft.SIWX_DEFAULTS))t[e]??(t[e]=r);et.siwx=t},setConnectMethodsOrder(t){et.features={...et.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){et.features={...et.features,walletFeaturesOrder:t}},setSocialsOrder(t){et.remoteFeatures={...et.remoteFeatures,socials:t}},setCollapseWallets(t){et.features={...et.features,collapseWallets:t}},setEnableEmbedded(t){et.enableEmbedded=t},setAllowUnsupportedChain(t){et.allowUnsupportedChain=t},setManualWCControl(t){et.manualWCControl=t},setEnableNetworkSwitch(t){et.enableNetworkSwitch=t},setEnableMobileFullScreen(t){et.enableMobileFullScreen=Ue.isMobile()&&t},setEnableReconnect(t){et.enableReconnect=t},setCoinbasePreference(t){et.coinbasePreference=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(et.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){et.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return et.universalProviderConfigOverride},getSnapshot(){return _w(et)}},Mf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),yn=Dr({...Mf}),Nhe={state:yn,subscribeKey(t,e){return Zn(yn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ue.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){yn.message=Mf.message,yn.variant=Mf.variant,yn.svg=Mf.svg,yn.open=Mf.open,yn.autoClose=Mf.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Mf.autoClose}){yn.open?(yn.open=!1,setTimeout(()=>{yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n},150)):(yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n)}},tc=Nhe,Bhe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},YZ=Ue.getBlockchainApiUrl(),_s=Dr({clientId:null,api:new K1({baseUrl:YZ,clientId:null}),supportedChains:{http:[],ws:[]}}),at={state:_s,async get(t){const{st:e,sv:r}=at.getSdkProperties(),n=Ce.state.projectId,s={...t.params||{},st:e,sv:r,projectId:n};return _s.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Ce.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{_s.supportedChains.http.length||await at.getSupportedNetworks()}catch{return!1}return _s.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await at.get({path:"v1/supported-chains"});return _s.supportedChains=t,t}catch{return _s.supportedChains}},async fetchIdentity({address:t}){const e=Te.getIdentityFromCacheForAddress(t);if(e)return e;const r=await at.get({path:`/v1/identity/${t}`,params:{sender:te.state.activeCaipAddress?Ue.getPlainAddress(te.state.activeCaipAddress):void 0}});return Te.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:s}){var c;if(!await at.isNetworkSupported((c=te.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};const o=Te.getTransactionsCacheForAddress({address:t,chainId:s});if(o)return o;const a=await at.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:r,cache:n});return Te.updateTransactionsCache({address:t,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:s}){var o;return await at.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?at.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async getAddressBalance({caipNetworkId:t,address:e}){return _s.api.post({path:`/v1?chainId=${t}&projectId=${Ce.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:e}}}).then(r=>r.result)},async fetchTokenPrice({addresses:t}){var s;if(!await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))return{fungibles:[]};const r=Te.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await _s.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Ce.state.projectId},headers:{"Content-Type":"application/json"}});return Te.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var n;return await at.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?at.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var s;const{st:e,sv:r}=at.getSdkProperties();if(!await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return at.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:s}){var o;if(!await at.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return _s.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Ft.CONVERT_SLIPPAGE_TOLERANCE},projectId:Ce.state.projectId,from:e,to:r,userAddress:n,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var o;const{st:n,sv:s}=at.getSdkProperties();if(!await at.isNetworkSupported((o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return at.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:s}})},async getBalance(t,e,r){var u;const{st:n,sv:s}=at.getSdkProperties();if(!await at.isNetworkSupported((u=te.state.activeCaipNetwork)==null?void 0:u.caipNetworkId))return tc.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Te.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await at.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:s}});return Te.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n,s;if(!await at.isNetworkSupported((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId))return[];const r=(s=te.getAccountData())==null?void 0:s.address;return at.get({path:`/v1/profile/reverse/${t}`,params:{sender:r,apiVersion:"2"}})},async getEnsNameSuggestions(t){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var i;return await at.isNetworkSupported((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?_s.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:s}){var a;return await at.isNetworkSupported((a=te.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await _s.api.post({path:"/v1/generators/onrampurl",params:{projectId:Ce.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var e;if(!await at.isNetworkSupported((e=te.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await at.get({path:"/v1/onramp/options"})}catch{return Bhe}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var s;try{return await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await _s.api.post({path:"/v1/onramp/quote",params:{projectId:Ce.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await at.isNetworkSupported((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?at.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var s;return await at.isNetworkSupported((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?_s.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Ce.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){_s.clientId=t,_s.api=new K1({baseUrl:YZ,clientId:t})}},fo={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},khe={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===fo.PHANTOM.id&&!("phantom"in window)){const s=r.startsWith("https")?"https":"http",i=r.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${fo.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===fo.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${fo.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===Ee.CHAIN.SOLANA&&t===fo.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${fo.COINBASE.url}/dapp?cb_url=${n}`),e===Ee.CHAIN.BITCOIN&&t===fo.BINANCE.id&&!("binancew3w"in window)){const s=te.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${(s==null?void 0:s.id)??1}`),a=new URL(fo.BINANCE.deeplink);a.searchParams.set("appId",fo.BINANCE.appId),a.searchParams.set("startPagePath",i),a.searchParams.set("startPageQuery",o);const c=new URL(fo.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},jhe=Object.freeze({enabled:!0,events:[]}),Dhe=new K1({baseUrl:Ue.getAnalyticsUrl(),clientId:null}),Mhe=5,Uhe=60*1e3,nl=Dr({...jhe}),Lhe={state:nl,subscribeKey(t,e){return Zn(nl,t,e)},async sendError(t,e){if(!nl.enabled)return;const r=Date.now();if(nl.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return r-o<Uhe}).length>=Mhe)return;const s={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};nl.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=Ce.state;await Dhe.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ue.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){nl.enabled=!0},disable(){nl.enabled=!1},clearEvents(){nl.events=[]}};class Jh extends Error{constructor(e,r,n){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=r,this.originalError=n,n&&n instanceof Error&&(this.originalName=n.name),Object.setPrototypeOf(this,Jh.prototype);let s=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const i=n.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Jh):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function qk(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?Object.keys(t).length===0?r="Unknown error":r=(t==null?void 0:t.message)||JSON.stringify(t):r=String(t)}catch(s){r="Unknown error",console.error("Error parsing error message",s)}const n=t instanceof Jh?t:new Jh(r,e,t);throw Lhe.sendError(n,n.category),n}function Po(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const s=t[n];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return qk(a,e)}}:i=(...o)=>{try{return s(...o)}catch(a){return qk(a,e)}},r[n]=i}else r[n]=s}),r}const Ti=Dr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Fhe={state:Ti,subscribeNetworkImages(t){return Kn(Ti.networkImages,()=>t(Ti.networkImages))},subscribeKey(t,e){return Zn(Ti,t,e)},subscribe(t){return Kn(Ti,()=>t(Ti))},setWalletImage(t,e){Ti.walletImages[t]=e},setNetworkImage(t,e){Ti.networkImages[t]=e},setChainImage(t,e){Ti.chainImages[t]=e},setConnectorImage(t,e){Ti.connectorImages={...Ti.connectorImages,[t]:e}},setTokenImage(t,e){Ti.tokenImages[t]=e},setCurrencyImage(t,e){Ti.currencyImages[t]=e}},Gi=Po(Fhe),Hhe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},mx=Dr({networkImagePromises:{}}),JZ={async fetchWalletImage(t){if(t)return await Qe._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(mx.networkImagePromises[t]||(mx.networkImagePromises[t]=Qe._fetchNetworkImage(t)),await mx.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Gi.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Gi.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return Gi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Gi.state.networkImages[t]},getConnectorImage(t){var e;if(t!=null&&t.imageUrl)return t.imageUrl;if((e=t==null?void 0:t.info)!=null&&e.icon)return t.info.icon;if(t!=null&&t.imageId)return Gi.state.connectorImages[t.imageId]},getChainImage(t){return Gi.state.networkImages[Hhe[t]]},getTokenImage(t){if(t)return Gi.state.tokenImages[t]}},qhe=Ue.getAnalyticsUrl(),zhe=new K1({baseUrl:qhe,clientId:null}),$he=["MODAL_CREATED"],Vhe=45,zk=1e3*10,Zr=Dr({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),bt={state:Zr,subscribe(t){return Kn(Zr,()=>t(Zr))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Ce.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},shouldFlushEvents(){const t=JSON.stringify(Zr.pendingEvents).length/1024>Vhe,e=Zr.lastFlush+zk<Date.now();return t||e},_setPendingEvent(t){var e,r;try{let n=(e=te.getAccountData())==null?void 0:e.address;if("address"in t.data&&t.data.address&&(n=t.data.address),$he.includes(t.data.event)||typeof window>"u")return;const s=(r=te.getActiveCaipNetwork())==null?void 0:r.caipNetworkId;this.state.pendingEvents.push({eventId:Ue.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:n,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:s}}}),Zr.reportedErrors.FORBIDDEN=!1,bt.shouldFlushEvents()&&bt._submitPendingEvents()}catch(n){console.warn("_setPendingEvent",n)}},sendEvent(t){var r;Zr.timestamp=Date.now(),Zr.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];((r=Ce.state.features)!=null&&r.analytics||e.includes(t.event))&&bt._setPendingEvent(Zr),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(t){Zr.walletImpressions.push(t)},_transformPendingEventsForBatch(t){try{return t.filter(e=>e.props.event!=="WALLET_IMPRESSION_V2")}catch{return t}},_submitPendingEvents(){if(Zr.lastFlush=Date.now(),!(Zr.pendingEvents.length===0&&Zr.walletImpressions.length===0))try{const t=bt._transformPendingEventsForBatch(Zr.pendingEvents);Zr.walletImpressions.length&&t.push({eventId:Ue.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...Zr.walletImpressions]}}),zhe.sendBeacon({path:"/batch",params:bt.getSdkProperties(),body:t}),Zr.reportedErrors.FORBIDDEN=!1,Zr.pendingEvents=[],Zr.walletImpressions=[]}catch{Zr.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){var t,e,r;Zr.subscribedToVisibilityChange||typeof document>"u"||(Zr.subscribedToVisibilityChange=!0,(t=document==null?void 0:document.addEventListener)==null||t.call(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&bt._submitPendingEvents()}),(e=document==null?void 0:document.addEventListener)==null||e.call(document,"freeze",()=>{bt._submitPendingEvents()}),(r=window==null?void 0:window.addEventListener)==null||r.call(window,"pagehide",()=>{bt._submitPendingEvents()}),setInterval(()=>{bt._submitPendingEvents()},zk))}},Ghe=Ue.getApiUrl(),As=new K1({baseUrl:Ghe,clientId:null}),Whe=40,$k=4,Khe=20,pt=Dr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),Qe={state:pt,subscribeKey(t,e){return Zn(pt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Ce.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Ce.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${As.baseUrl}/getWalletImage/${t}`,r=await As.getBlob({path:e,params:Qe._getSdkProperties()});Gi.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${As.baseUrl}/public/getAssetImage/${t}`,r=await As.getBlob({path:e,params:Qe._getSdkProperties()});Gi.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${As.baseUrl}/public/getAssetImage/${t}`,r=await As.getBlob({path:e,params:Qe._getSdkProperties()});Gi.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${As.baseUrl}/public/getCurrencyImage/${t}`,r=await As.getBlob({path:e,params:Qe._getSdkProperties()});Gi.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${As.baseUrl}/public/getTokenImage/${t}`,r=await As.getBlob({path:e,params:Qe._getSdkProperties()});Gi.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){const e=t.length,r=Ue.isMobile()?t==null?void 0:t.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(fo).map(o=>o.id).includes(s.id)):t,n=e-r.length;return{filteredWallets:r,mobileFilteredOutWalletsLength:n}},async fetchProjectConfig(){return(await As.get({path:"/appkit/v1/config",params:Qe._getSdkProperties()})).features},async fetchUsage(){try{const t=await As.get({path:"/appkit/v1/project-limits",params:Qe._getSdkProperties()}),{tier:e,isAboveMauLimit:r,isAboveRpcLimit:n}=t.planLimits,s=e==="starter",i=r||n;Qe.state.plan={tier:e,hasExceededUsageLimit:s&&i,limits:{isAboveRpcLimit:n,isAboveMauLimit:r}}}catch(t){console.warn("Failed to fetch usage",t)}},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await As.get({path:"/projects/v1/origins",params:Qe._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===Ee.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=Ee.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=te.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!JZ.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>Qe._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=Ne.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>Qe._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Qe._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Qe._fetchTokenImage(e)))},async fetchWallets(t){var o;const e=t.exclude??[];Qe._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(fo).map(a=>a.id));const n=await As.get({path:"/getWallets",params:{...Qe._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(o=t.include)==null?void 0:o.join(","),exclude:e.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:i}=Qe._filterWalletsByPlatform(n==null?void 0:n.data);return{data:s||[],count:n==null?void 0:n.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const t=Ne.state.connectors;if(!(t!=null&&t.length))return;const e={page:1,entries:20,badge:"certified"};if(e.names=t.map(s=>s.name).join(","),te.state.activeChain===Ee.CHAIN.EVM){const s=[...t.flatMap(i=>{var o;return((o=i.connectors)==null?void 0:o.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}))||[]}),...t.map(i=>{var o;return(o=i.info)==null?void 0:o.rdns})].filter(i=>typeof i=="string"&&i.length>0);s.length&&(e.rdns=s.join(","))}const{data:r}=await Qe.fetchWallets(e);pt.explorerWallets=r,Ne.extendConnectorsWithExplorerWallets(r);const n=te.getRequestedCaipNetworkIds().join(",");pt.explorerFilteredWallets=r.filter(s=>{var i;return(i=s.chains)==null?void 0:i.some(o=>n.includes(o))})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Ce.state;if(t!=null&&t.length){const e={...Qe._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??$k,include:t},{data:r}=await Qe.fetchWallets(e),n=[...r].sort((i,o)=>t.indexOf(i.id)-t.indexOf(o.id)),s=n.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>Qe._fetchWalletImage(i))),pt.featured=n,pt.allFeatured=n}},async fetchRecommendedWallets(){try{pt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=Ce.state,n=[...e??[],...r??[]].filter(Boolean),s=te.getRequestedCaipNetworkIds().join(","),i={page:1,entries:$k,include:t,exclude:n,chains:s},{data:o,count:a}=await Qe.fetchWallets(i),c=Te.getRecentWallets(),u=o.map(d=>d.image_id).filter(Boolean),l=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...u,...l].map(d=>Qe._fetchWalletImage(d))),pt.recommended=o,pt.allRecommended=o,pt.count=a??0}catch{}finally{pt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=Ce.state,s=te.getRequestedCaipNetworkIds().join(","),i=[...pt.recommended.map(({id:d})=>d),...r??[],...n??[]].filter(Boolean),o={page:t,entries:Whe,include:e,exclude:i,chains:s},{data:a,count:c,mobileFilteredOutWalletsLength:u}=await Qe.fetchWallets(o);pt.mobileFilteredOutWalletsLength=u+(pt.mobileFilteredOutWalletsLength??0);const l=a.slice(0,Khe).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(l.map(d=>Qe._fetchWalletImage(d))),pt.wallets=Ue.uniqueBy([...pt.wallets,...Qe._filterOutExtensions(a)],"id").filter(d=>{var f;return(f=d.chains)==null?void 0:f.some(h=>s.includes(h))}),pt.count=c>pt.count?c:pt.count,pt.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await Qe.fetchWallets(e);r&&r.forEach(n=>{pt.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=Ce.state,s=te.getRequestedCaipNetworkIds().join(",");pt.search=[];const i={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:r,exclude:n,chains:s},{data:o}=await Qe.fetchWallets(i);bt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Qe._fetchWalletImage(c)),Ue.wait(300)]),pt.search=Qe._filterOutExtensions(o)},initPromise(t,e){const r=pt.promises[t];return r||(pt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0,fetchWalletRanks:s=!0}={}){const i=[t&&Qe.initPromise("connectorImages",Qe.fetchConnectorImages),e&&Qe.initPromise("featuredWallets",Qe.fetchFeaturedWallets),r&&Qe.initPromise("recommendedWallets",Qe.fetchRecommendedWallets),n&&Qe.initPromise("networkImages",Qe.fetchNetworkImages),s&&Qe.initPromise("walletRanks",Qe.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Ce.state.features)!=null&&t.analytics&&Qe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await As.get({path:"/getAnalyticsConfig",params:Qe._getSdkProperties()});Ce.setFeatures({analytics:t})}catch{Ce.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){pt.featured=pt.allFeatured,pt.recommended=pt.allRecommended;return}const e=te.getRequestedCaipNetworkIds().join(",");pt.featured=pt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.recommended=pt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.filteredWallets=pt.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))})},clearFilterByNamespaces(){pt.filteredWallets=[]},setFilterByNamespace(t){if(!t){pt.featured=pt.allFeatured,pt.recommended=pt.allRecommended;return}const e=te.getRequestedCaipNetworkIds().join(",");pt.featured=pt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.recommended=pt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))}),pt.filteredWallets=pt.wallets.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(s=>e.includes(s))})}},Zhe=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],cr=Dr({view:"Connect",history:["Connect"],transactionStack:[]}),Yhe={state:cr,subscribeKey(t,e){return Zn(cr,t,e)},pushTransactionStack(t){cr.transactionStack.push(t)},popTransactionStack(t){const e=cr.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:s}=e;switch(t){case"success":r==null||r();break;case"error":n==null||n(),st.goBack();break;case"cancel":s==null||s(),st.goBack();break}},push(t,e){let r=t,n=e;Qe.state.plan.hasExceededUsageLimit&&Zhe.includes(t)&&(r="UsageExceeded",n=void 0),r!==cr.view&&(cr.view=r,cr.history.push(r),cr.data=n)},reset(t,e){cr.view=t,cr.history=[t],cr.data=e},replace(t,e){cr.history.at(-1)===t||(cr.view=t,cr.history[cr.history.length-1]=t,cr.data=e)},goBack(){var n,s;const t=te.state.activeCaipAddress,e=st.state.view==="ConnectingFarcaster",r=!t&&e;if(cr.history.length>1){cr.history.pop();const[i]=cr.history.slice(-1);i&&(t&&i==="Connect"?cr.view="Account":cr.view=i)}else Bt.close();(n=cr.data)!=null&&n.wallet&&(cr.data.wallet=void 0),(s=cr.data)!=null&&s.redirectView&&(cr.data.redirectView=void 0),setTimeout(()=>{var i,o,a;if(r){te.setAccountProp("farcasterUrl",void 0,te.state.activeChain);const c=Ne.getAuthConnector();(i=c==null?void 0:c.provider)==null||i.reload();const u=_w(Ce.state);(a=(o=c==null?void 0:c.provider)==null?void 0:o.syncDappData)==null||a.call(o,{metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType})}},100)},goBackToIndex(t){if(cr.history.length>1){cr.history=cr.history.slice(0,t+1);const[e]=cr.history.slice(-1);e&&(cr.view=e)}},goBackOrCloseModal(){st.state.history.length>1?st.goBack():Bt.close()}},st=Po(Yhe),_c=Dr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),sR={state:_c,subscribe(t){return Kn(_c,()=>t(_c))},setThemeMode(t){_c.themeMode=t;try{const e=Ne.getAuthConnector();if(e){const r=sR.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Cw(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){_c.themeVariables={..._c.themeVariables,...t};try{const e=Ne.getAuthConnector();if(e){const r=sR.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Cw(_c.themeVariables,_c.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return _w(_c)}},ni=Po(sR),QZ=Object.fromEntries(ZK.map(t=>[t,void 0])),Jhe=Object.fromEntries(ZK.map(t=>[t,!0])),zt=Dr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:QZ,filterByNamespaceMap:Jhe}),Qhe={state:zt,subscribe(t){return Kn(zt,()=>{t(zt)})},subscribeKey(t,e){return Zn(zt,t,e)},initialize(t){t.forEach(e=>{const r=Te.getConnectedConnectorId(e);r&&Ne.setConnectorId(r,e)})},setActiveConnector(t){t&&(zt.activeConnector=Aw(t))},setConnectors(t){t.filter(s=>!zt.allConnectors.some(i=>i.id===s.id&&Ne.getConnectorName(i.name)===Ne.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&zt.allConnectors.push(Aw(s))});const r=Ne.getEnabledNamespaces(),n=Ne.getEnabledConnectors(r);zt.connectors=Ne.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(zt.filterByNamespaceMap).forEach(e=>{zt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{zt.filterByNamespaceMap[e]=!0}),Ne.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){zt.filterByNamespaceMap[t]=e,Ne.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ne.getEnabledNamespaces(),e=Ne.getEnabledConnectors(t),r=Ne.areAllNamespacesEnabled();zt.connectors=Ne.mergeMultiChainConnectors(e),r?Qe.clearFilterByNamespaces():Qe.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(zt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return zt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(zt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ne.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const s=n[0],i=(s==null?void 0:s.id)===Ee.CONNECTOR_ID.AUTH;n.length>1&&s?r.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...n],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&r.push(s)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,s=Ne.getConnectorName(n);if(!s)return;const i=e.get(s)||[];i.find(a=>a.chain===r.chain)||i.push(r),e.set(s,i)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===Ee.CONNECTOR_ID.AUTH){const s=t,i=_w(Ce.state),o=ni.getSnapshot().themeMode,a=ni.getSnapshot().themeVariables;(r=(e=s==null?void 0:s.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(n=s==null?void 0:s.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Cw(a,o)}),Ne.setConnectors([t])}else Ne.setConnectors([t])},getAuthConnector(t){var n;const e=t||te.state.activeChain,r=zt.connectors.find(s=>s.id===Ee.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return zt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return zt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||te.state.activeChain;return zt.allConnectors.filter(i=>i.chain===n).find(i=>{var o;return i.explorerId===t||((o=i.info)==null?void 0:o.rdns)===e})},syncIfAuthConnector(t){var i,o;if(t.id!=="AUTH")return;const e=t,r=_w(Ce.state),n=ni.getSnapshot().themeMode,s=ni.getSnapshot().themeVariables;(o=(i=e==null?void 0:e.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:s,w3mThemeVariables:Cw(s,n)})},getConnectorsByNamespace(t){const e=zt.allConnectors.filter(r=>r.chain===t);return Ne.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return te.checkIfSmartAccountEnabled()&&js(t)===cn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){var n;const e=(n=st.state.data)==null?void 0:n.redirectView,r=Ne.getConnector({id:t.id,rdns:t.rdns});khe.handleMobileDeeplinkRedirect((r==null?void 0:r.explorerId)||t.id,te.state.activeChain),r?st.push("ConnectingExternal",{connector:r,wallet:t,redirectView:e}):st.push("ConnectingWalletConnect",{wallet:t,redirectView:e})},getConnectors(t){return t?Ne.getConnectorsByNamespace(t):Ne.mergeMultiChainConnectors(zt.allConnectors)},setFilterByNamespace(t){zt.filterByNamespace=t,zt.connectors=Ne.getConnectors(t),Qe.setFilterByNamespace(t)},setConnectorId(t,e){t&&(zt.activeConnectorIds={...zt.activeConnectorIds,[e]:t},Te.setConnectedConnectorId(e,t))},removeConnectorId(t){zt.activeConnectorIds={...zt.activeConnectorIds,[t]:void 0},Te.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return zt.activeConnectorIds[t]},isConnected(t){return t?!!zt.activeConnectorIds[t]:Object.values(zt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){zt.activeConnectorIds={...QZ}},extendConnectorsWithExplorerWallets(t){zt.allConnectors.forEach(n=>{const s=t.find(i=>{var o;return i.id===n.id||i.rdns&&i.rdns===((o=n.info)==null?void 0:o.rdns)});s&&(n.explorerWallet=s)});const e=Ne.getEnabledNamespaces(),r=Ne.getEnabledConnectors(e);zt.connectors=Ne.mergeMultiChainConnectors(r)}},Ne=Po(Qhe),Xhe=1e3,Jg={checkNamespaceConnectorId(t,e){return Ne.getConnectorId(t)===e},isSocialProvider(t){return Ft.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(t&&Ne.setActiveConnector(e),s==null||s(Ue.isMobile()&&t),n){const u=Bt.subscribeKey("open",l=>{l||(st.state.view!==n&&st.replace(n),u(),a(new Error("Modal closed")))})}const c=te.subscribeKey("activeCaipAddress",u=>{u&&(i==null||i(),r&&Bt.close(),c(),o(mn.parseCaipAddress(u)))})})},connectExternal(t){return new Promise((e,r)=>{const n=te.subscribeKey("activeCaipAddress",s=>{s&&(Bt.close(),n(),e(mn.parseCaipAddress(s)))});Me.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:s}){let i,o=!1,a=null;const c=e||te.state.activeChain,u=te.subscribeKey("activeCaipAddress",l=>{l&&(r&&Bt.close(),u())});return new Promise((l,d)=>{async function f(p){var m;if((m=p.data)!=null&&m.resultUri)if(p.origin===Ee.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",f,!1);try{const y=Ne.getAuthConnector(c);if(y&&!o){i&&i.close(),o=!0;const E=p.data.resultUri;bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:t}}),Te.setConnectedSocialProvider(t),await Me.connectExternal({id:y.id,type:y.type,socialUri:E},y.chain);const w=te.state.activeCaipAddress;if(!w){d(new Error("Failed to connect"));return}l(mn.parseCaipAddress(w)),bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:t}})}}catch(y){bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:Ue.parseError(y)}}),d(new Error("Failed to connect"))}}else bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:t,message:"Untrusted Origin"}})}async function h(){if(bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:t}}),t==="farcaster"){n==null||n();const p=Bt.subscribeKey("open",y=>{!y&&t==="farcaster"&&(d(new Error("Popup closed")),s==null||s(),p())}),m=Ne.getAuthConnector();if(m){const y=te.getAccountData(c);if(!(y!=null&&y.farcasterUrl))try{const{url:E}=await m.provider.getFarcasterUri();te.setAccountProp("farcasterUrl",E,c)}catch{d(new Error("Failed to connect to farcaster"))}}}else{const p=Ne.getAuthConnector();a=Ue.returnOpenHref(`${Ee.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(p){const{uri:m}=await p.provider.getSocialRedirectUri({provider:t});if(a&&m){a.location.href=m,i=a;const y=setInterval(()=>{i!=null&&i.closed&&!o&&(d(new Error("Popup closed")),clearInterval(y))},1e3);window.addEventListener("message",f,!1)}else a==null||a.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),a==null||a.close()}}}h()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((s,i)=>{if(r==null||r(),e){const a=Bt.subscribeKey("open",c=>{c||(st.state.view!==e&&st.replace(e),a(),i(new Error("Modal closed")))})}const o=te.subscribeKey("activeCaipAddress",a=>{a&&(n==null||n(),t&&Bt.close(),o(),s(mn.parseCaipAddress(a)))})})},async updateEmail(){const t=Te.getConnectedConnectorId(te.state.activeChain),e=Ne.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==Ee.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await Bt.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,s)=>{const i=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(Bt.close(),clearInterval(i),o(),n({email:a}))},Xhe),o=Bt.subscribeKey("open",a=>{a||(st.state.view!=="Connect"&&st.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return te.checkIfSmartAccountEnabled()&&js(t)===cn.ACCOUNT_TYPES.EOA}};function XZ(){var n,s;const t=((n=te.state.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((s=te.state.activeCaipNetwork)==null?void 0:s.id)||1,r=Ft.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function js(t){var r;return(r=te.getAccountData(t))==null?void 0:r.preferredAccountType}function Rb(t){var e,r;return t?(r=(e=te.state.chains.get(t))==null?void 0:e.networkState)==null?void 0:r.caipNetwork:te.state.activeCaipNetwork}const II={getConnectionStatus(t,e){const r=Ne.state.activeConnectorIds[e],n=Me.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const i=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:i}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){var a;const e=!!((a=Ce.state.remoteFeatures)!=null&&a.multiWallet),r=Ne.state.activeConnectorIds[t],n=Me.getConnections(t),i=(Me.state.recentConnections.get(t)??[]).filter(c=>Ne.getConnectorById(c.connectorId)),o=II.excludeExistingConnections([...n.map(c=>c.connectorId),...r?[r]:[]],i);return e?{connections:n,recentConnections:o}:{connections:n.filter(c=>c.connectorId.toLowerCase()===(r==null?void 0:r.toLowerCase())),recentConnections:[]}}},Mr=Dr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),epe={state:Mr,subscribe(t){return Kn(Mr,()=>t(Mr))},setLastNetworkInView(t){Mr.lastNetworkInView=t},async fetchTransactions(t){var e;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Mr.loading=!0;try{const r=await at.fetchTransactions({account:t,cursor:Mr.next,chainId:(e=te.state.activeCaipNetwork)==null?void 0:e.caipNetworkId}),n=IS.filterSpamTransactions(r.data),s=IS.filterByConnectedChain(n),i=[...Mr.transactions,...s];Mr.loading=!1,Mr.transactions=i,Mr.transactionsByYear=IS.groupTransactionsByYearAndMonth(Mr.transactionsByYear,s),Mr.empty=i.length===0,Mr.next=r.next?r.next:void 0}catch{const n=te.state.activeChain;bt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Ce.state.projectId,cursor:Mr.next,isSmartAccount:js(n)===cn.ACCOUNT_TYPES.SMART_ACCOUNT}}),tc.showError("Failed to fetch transactions"),Mr.loading=!1,Mr.empty=!0,Mr.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const s=new Date(n.metadata.minedAt).getFullYear(),i=new Date(n.metadata.minedAt).getMonth(),o=r[s]??{},c=(o[i]??[]).filter(u=>u.id!==n.id);r[s]={...o,[i]:[...c,n].sort((u,l)=>new Date(l.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>{var s;return((s=n.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(t){var n;const e=(n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Mr.next=void 0},resetTransactions(){Mr.transactions=[],Mr.transactionsByYear={},Mr.lastNetworkInView=void 0,Mr.loading=!1,Mr.empty=!1,Mr.next=void 0}},IS=Po(epe,"API_ERROR"),$t=Dr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let nf;const tpe={state:$t,subscribe(t){return Kn($t,()=>t($t))},subscribeKey(t,e){return Zn($t,t,e)},_getClient(){return $t._client},setClient(t){$t._client=Aw(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);Me.syncStorageConnections(e)},syncStorageConnections(t){const e=Te.getConnections(),r=t??Array.from(te.state.chains.keys());for(const n of r){const s=e[n]??[],i=new Map($t.recentConnections);i.set(n,s),$t.recentConnections=i}},getConnections(t){return t?$t.connections.get(t)??[]:[]},hasAnyConnection(t){const e=Me.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){var r,n,s,i;const e=Ue.isTelegram()||Ue.isSafari()&&Ue.isIos();if(t==="always"||t==="auto"&&e){if(nf){await nf,nf=void 0;return}if(!Ue.isPairingExpired($t==null?void 0:$t.wcPairingExpiry)){const o=$t.wcUri;$t.wcUri=o;return}nf=(n=(r=Me._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r).catch(()=>{}),Me.state.status="connecting",await nf,nf=void 0,$t.wcPairingExpiry=void 0,Me.state.status="connected"}else await((i=(s=Me._getClient())==null?void 0:s.connectWalletConnect)==null?void 0:i.call(s))},async connectExternal(t,e,r=!0){var o,a,c;const n=await((a=(o=Me._getClient())==null?void 0:o.connectExternal)==null?void 0:a.call(o,t));r&&te.setActiveNamespace(e);const s=Ne.state.allConnectors.find(u=>u.id===(t==null?void 0:t.id)),i=t.type==="AUTH"?"email":"browser";return bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:i,name:(s==null?void 0:s.name)||"Unknown",view:st.state.view,walletRank:(c=s==null?void 0:s.explorerWallet)==null?void 0:c.order}}),n},async reconnectExternal(t){var r,n;await((n=(r=Me._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||te.state.activeChain;e&&Ne.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var n;if(!e)return;Bt.setLoading(!0,te.state.activeChain);const r=Ne.getAuthConnector();r&&(te.setAccountProp("preferredAccountType",t,e),await r.provider.setPreferredAccount(t),Te.setPreferredAccountTypes(Object.entries(te.state.chains).reduce((s,[i,o])=>{const a=i,c=js(a);return c!==void 0&&(s[a]=c),s},{})),await Me.reconnectExternal(r),Bt.setLoading(!1,te.state.activeChain),bt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=Me._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=Me._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=Me._getClient())==null?void 0:r.formatUnits(t,e)},updateBalance(t){var e;return(e=Me._getClient())==null?void 0:e.updateBalance(t)},async sendTransaction(t){var e;return(e=Me._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=Me._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=Me._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=Me._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=Me._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=Me._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=Me._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=Me._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=Me._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){$t.wcUri=void 0,$t.wcPairingExpiry=void 0,$t.wcLinking=void 0,$t.recentWallet=void 0,$t.status="disconnected",IS.resetTransactions(),Te.deleteWalletConnectDeepLink(),Te.deleteRecentWallet()},resetUri(){$t.wcUri=void 0,$t.wcPairingExpiry=void 0,nf=void 0},finalizeWcConnection(t){var n,s;const{wcLinking:e,recentWallet:r}=Me.state;e&&Te.setWalletConnectDeepLink(e),r&&Te.setAppKitRecent(r),t&&bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:((s=(n=st.state.data)==null?void 0:n.wallet)==null?void 0:s.name)||"Unknown",view:st.state.view,walletRank:r==null?void 0:r.order}})},setWcBasic(t){$t.wcBasic=t},setUri(t){$t.wcUri=t,$t.wcPairingExpiry=Ue.getPairingExpiry()},setWcLinking(t){$t.wcLinking=t},setWcError(t){$t.wcError=t,$t.buffering=!1},setRecentWallet(t){$t.recentWallet=t},setBuffering(t){$t.buffering=t},setStatus(t){$t.status=t},setIsSwitchingConnection(t){$t.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){var n;try{await((n=Me._getClient())==null?void 0:n.disconnect({id:t,chainNamespace:e,initialDisconnect:r}))}catch(s){throw new Jh("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},async disconnectConnector({id:t,namespace:e}){var r;try{await((r=Me._getClient())==null?void 0:r.disconnectConnector({id:t,namespace:e}))}catch(n){throw new Jh("Failed to disconnect connector","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map($t.connections);r.set(e,t),$t.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){var i,o;const r=te.getAccountData(e),n=(o=(i=r==null?void 0:r.user)==null?void 0:i.accounts)==null?void 0:o.find(a=>a.type==="smartAccount"),s=n&&n.address.toLowerCase()===t.toLowerCase()&&Jg.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await Me.setPreferredAccountType(s,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=Ne.getConnectorById(t.connectorId),s=t.connectorId===Ee.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)r&&await Me.handleAuthAccountSwitch({address:r,namespace:e});else{const i=await Me.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e);return i==null?void 0:i.address}return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){var u,l;const s=Ne.getConnectorById(t.connectorId),i=(l=(u=t.auth)==null?void 0:u.name)==null?void 0:l.toLowerCase(),o=t.connectorId===Ee.CONNECTOR_ID.AUTH,a=t.connectorId===Ee.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(i&&Jg.isSocialProvider(i)){const{address:d}=await Jg.connectSocial({social:i,closeModalOnConnect:n,onOpenFarcaster(){Bt.open({view:"ConnectingFarcaster"})},onConnect(){st.replace("ProfileWallets")}});c=d}else{const{address:d}=await Jg.connectEmail({closeModalOnConnect:n,onOpen(){Bt.open({view:"EmailLogin"})},onConnect(){st.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await Jg.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:n,onOpen(f){const h=f?"AllWallets":"ConnectingWalletConnect";Bt.state.open?st.push(h):Bt.open({view:h})},onConnect(){st.replace("ProfileWallets")}});c=d}else{const d=await Me.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);d&&(c=d.address)}return o&&r&&await Me.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:s}){var c;let i;const o=(c=te.getAccountData(r))==null?void 0:c.caipAddress;if(o){const{address:u}=mn.parseCaipAddress(o);i=u}const a=II.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const u=await Me.handleActiveConnection({connection:t,namespace:r,address:e});if(i&&u){const l=u.toLowerCase()!==i.toLowerCase();s==null||s({address:u,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const u=await Me.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});u&&(s==null||s({address:u,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},Me=Po(tpe),gx={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return $T(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}};let yx;async function Vk(){if(!yx){const{createPublicClient:t,http:e,defineChain:r}=await vn(async()=>{const{createPublicClient:n,http:s,defineChain:i}=await import("./index-C6vuhtPh.js").then(o=>o.i);return{createPublicClient:n,http:s,defineChain:i}},__vite__mapDeps([0,1,2]),import.meta.url);yx={createPublicClient:t,http:e,defineChain:r}}return yx}const iR={getBlockchainApiRpcUrl(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()},async getViemChain(t){const{defineChain:e}=await Vk(),{chainId:r}=mn.parseCaipNetworkId(t.caipNetworkId);return e({...t,id:Number(r)})},async createViemPublicClient(t){const{createPublicClient:e,http:r}=await Vk(),n=Ce.state.projectId,s=await iR.getViemChain(t);if(!s)throw new Error(`Chain ${t.caipNetworkId} not found in viem/chains`);return e({chain:s,transport:r(iR.getBlockchainApiRpcUrl(t.caipNetworkId,n))})}},R8={async getMyTokensWithBalance(t){var a;const e=(a=te.getAccountData())==null?void 0:a.address,r=te.state.activeCaipNetwork,n=Ne.getConnectorId("eip155")===Ee.CONNECTOR_ID.AUTH;if(!e||!r)return[];const s=`${r.caipNetworkId}:${e}`,i=Te.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(r.chainNamespace===Ee.CHAIN.EVM&&n){const c=await this.getEIP155Balances(e,r);if(c)return this.filterLowQualityTokens(c)}const o=await at.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){var r,n;try{const s=gx.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),i=await Me.getCapabilities(t);if(!((n=(r=i==null?void 0:i[s])==null?void 0:r.assetDiscovery)!=null&&n.supported))return null;const o=await Me.walletGetAssets({account:t,chainFilter:[s]});if(!gx.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(u=>gx.createBalance(u,e.caipNetworkId));return Te.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:t,assetAddress:e,caipNetwork:r}){const n=await iR.createViemPublicClient(r),{address:s}=mn.parseCaipAddress(t),[{result:i},{result:o},{result:a},{result:c}]=await n.multicall({contracts:[{address:e,functionName:"name",args:[],abi:uv},{address:e,functionName:"symbol",args:[],abi:uv},{address:e,functionName:"balanceOf",args:[s],abi:uv},{address:e,functionName:"decimals",args:[],abi:uv}]});return{name:i,symbol:o,decimals:c,balance:a&&c?$T(a,c):"0"}}},bx={adapters:{}},eY={state:bx,initialize(t){bx.adapters={...t}},get(t){return bx.adapters[t]}},TI={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Vs=Dr({providers:{...TI},providerIds:{...TI}}),Zt={state:Vs,subscribeKey(t,e){return Zn(Vs,t,e)},subscribe(t){return Kn(Vs,()=>{t(Vs)})},subscribeProviders(t){return Kn(Vs.providers,()=>t(Vs.providers))},setProvider(t,e){t&&e&&(Vs.providers[t]=Aw(e))},getProvider(t){if(t)return Vs.providers[t]},setProviderId(t,e){e&&(Vs.providerIds[t]=e)},getProviderId(t){if(t)return Vs.providerIds[t]},reset(){Vs.providers={...TI},Vs.providerIds={...TI}},resetChain(t){Vs.providers[t]=void 0,Vs.providerIds[t]=void 0}},Dp=Dr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ra={state:Dp,subscribe(t){return Kn(Dp,()=>t(Dp))},subscribeOpen(t){return Zn(Dp,"open",t)},set(t){Object.assign(Dp,{...Dp,...t})}},rpe={async getTokenList(t){var n;const e=await at.fetchSwapTokens({chainId:t});return((n=e==null?void 0:e.tokens)==null?void 0:n.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var e;const t=te.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const r=(e=await(Me==null?void 0:Me.estimateGas({chainNamespace:"solana"})))==null?void 0:e.toString();return{standard:r,fast:r,instant:r};case"eip155":default:return await at.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const s=await at.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s!=null&&s.allowance&&r&&n){const i=Me.parseUnits(r,n)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(t){const e=await R8.getMyTokensWithBalance(t);return te.setAccountProp("tokenBalance",e,te.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:XZ(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]},async handleSwapError(t){var e,r;try{const n=t==null?void 0:t.cause;if(!(n!=null&&n.json))return;const s=await n.json(),i=(r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description;return i!=null&&i.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},Vt=Dr({tokenBalances:[],loading:!1}),npe={state:Vt,subscribe(t){return Kn(Vt,()=>t(Vt))},subscribeKey(t,e){return Zn(Vt,t,e)},setToken(t){t&&(Vt.token=Aw(t))},setTokenAmount(t){Vt.sendTokenAmount=t},setReceiverAddress(t){Vt.receiverAddress=t},setReceiverProfileImageUrl(t){Vt.receiverProfileImageUrl=t},setReceiverProfileName(t){Vt.receiverProfileName=t},setNetworkBalanceInUsd(t){Vt.networkBalanceInUSD=t},setLoading(t){Vt.loading=t},getSdkEventProperties(t){var e,r;return{message:Ue.parseError(t),isSmartAccount:js(te.state.activeChain)===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((e=Vt.token)==null?void 0:e.symbol)||"",amount:Vt.sendTokenAmount??0,network:((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}},async sendToken(){var t;try{switch(Pt.setLoading(!0),(t=te.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":await Pt.sendEvmToken();return;case"solana":await Pt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw Qa.isUserRejectedRequestError(e)?new w8(e):e}finally{Pt.setLoading(!1)}},async sendEvmToken(){var r,n,s;const t=te.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=js(t);if(!Pt.state.sendTokenAmount||!Pt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Pt.state.token)throw new Error("A token is required");if((r=Pt.state.token)!=null&&r.address){bt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Pt.state.token.address,amount:Pt.state.sendTokenAmount,network:((n=te.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}});const{hash:i}=await Pt.sendERC20Token({receiverAddress:Pt.state.receiverAddress,tokenAddress:Pt.state.token.address,sendTokenAmount:Pt.state.sendTokenAmount,decimals:Pt.state.token.quantity.decimals});i&&(Vt.hash=i)}else{bt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Pt.state.token.symbol||"",amount:Pt.state.sendTokenAmount,network:((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}});const{hash:i}=await Pt.sendNativeToken({receiverAddress:Pt.state.receiverAddress,sendTokenAmount:Pt.state.sendTokenAmount,decimals:Pt.state.token.quantity.decimals});i&&(Vt.hash=i)}},async fetchTokenBalance(t){var o,a,c;Vt.loading=!0;const e=te.state.activeChain,r=(o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,n=(a=te.state.activeCaipNetwork)==null?void 0:a.chainNamespace,s=((c=te.getAccountData(e))==null?void 0:c.caipAddress)??te.state.activeCaipAddress,i=s?Ue.getPlainAddress(s):void 0;if(Vt.lastRetry&&!Ue.isAllowedRetry(Vt.lastRetry,30*Ft.ONE_SEC_MS))return Vt.loading=!1,[];try{if(i&&r&&n){const u=await R8.getMyTokensWithBalance();return Vt.tokenBalances=u,Vt.lastRetry=void 0,u}}catch(u){Vt.lastRetry=Date.now(),t==null||t(u),tc.showError("Token Balance Unavailable")}finally{Vt.loading=!1}return[]},fetchNetworkBalance(){if(Vt.tokenBalances.length===0)return;const t=rpe.mapBalancesToSwapTokens(Vt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===XZ());e&&(Vt.networkBalanceInUSD=e?pce.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){var o,a,c,u;st.pushTransactionStack({});const e=t.receiverAddress,r=(o=te.getAccountData())==null?void 0:o.address,n=Me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),i=await Me.sendTransaction({chainNamespace:Ee.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)});return bt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:js("eip155")===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=Pt.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=te.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||"",hash:i||""}}),(u=Me._getClient())==null||u.updateBalance("eip155"),Pt.resetSend(),{hash:i}},async sendERC20Token(t){var n,s,i;st.pushTransactionStack({onSuccess(){st.replace("Account")}});const e=Me.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),r=(n=te.getAccountData())==null?void 0:n.address;if(r&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const o=Ue.getPlainAddress(t.tokenAddress);if(!o)throw new Error("SendController:sendERC20Token - tokenAddress is required");const a=await Me.writeContract({fromAddress:r,tokenAddress:o,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:bce.getERC20Abi(o),chainNamespace:Ee.CHAIN.EVM});return bt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:js("eip155")===cn.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=Pt.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((i=te.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||"",hash:a||""}}),Pt.resetSend(),{hash:a}}return{hash:void 0}},async sendSolanaToken(){var r,n,s;if(!Pt.state.sendTokenAmount||!Pt.state.receiverAddress)throw new Error("An amount and receiver address are required");st.pushTransactionStack({onSuccess(){st.replace("Account")}});let t;Pt.state.token&&Pt.state.token.address!==Ft.SOLANA_NATIVE_TOKEN_ADDRESS&&(Ue.isCaipAddress(Pt.state.token.address)?t=Ue.getPlainAddress(Pt.state.token.address):t=Pt.state.token.address);const e=await Me.sendTransaction({chainNamespace:"solana",tokenMint:t,to:Pt.state.receiverAddress,value:Pt.state.sendTokenAmount});e&&(Vt.hash=e),(r=Me._getClient())==null||r.updateBalance("solana"),bt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:((n=Pt.state.token)==null?void 0:n.symbol)||"",amount:Pt.state.sendTokenAmount,network:((s=te.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||"",hash:e||""}}),Pt.resetSend()},resetSend(){Vt.token=void 0,Vt.sendTokenAmount=void 0,Vt.receiverAddress=void 0,Vt.receiverProfileImageUrl=void 0,Vt.receiverProfileName=void 0,Vt.loading=!1,Vt.tokenBalances=[]}},Pt=Po(npe),wx={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},pv={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Le=Dr({chains:ice(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),tY={state:Le,subscribe(t){return Kn(Le,()=>{t(Le)})},subscribeKey(t,e){return Zn(Le,t,e)},subscribeAccountStateProp(t,e,r){var s;const n=r||Le.activeChain;return n?Zn(((s=Le.chains.get(n))==null?void 0:s.accountState)||{},t,e):()=>{}},subscribeChainProp(t,e,r){let n;return Kn(Le.chains,()=>{var i;const s=r||Le.activeChain;if(s){const o=(i=Le.chains.get(s))==null?void 0:i[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:s}=Te.getActiveNetworkProps(),i=e==null?void 0:e.find(l=>l.id.toString()===(n==null?void 0:n.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===s)||(t==null?void 0:t[0]),c=t.map(l=>l.namespace).filter(l=>l!==void 0),u=Ce.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Le.noAdapters=!0),Le.noAdapters||(Le.activeChain=a==null?void 0:a.namespace,Le.activeCaipNetwork=i,te.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),Le.activeChain&&ra.set({activeChain:a==null?void 0:a.namespace})),u.forEach(l=>{const d=e==null?void 0:e.filter(p=>p.chainNamespace===l),f=Te.getPreferredAccountTypes()||{},h={...Ce.state.defaultAccountTypes,...f};te.state.chains.set(l,{namespace:l,networkState:Dr({...pv,caipNetwork:d==null?void 0:d[0]}),accountState:Dr({...wx,preferredAccountType:h[l]}),caipNetworks:d??[],...r}),te.setRequestedCaipNetworks(d??[],l)})},removeAdapter(t){var e,r;if(Le.activeChain===t){const n=Array.from(Le.chains.entries()).find(([s])=>s!==t);if(n){const s=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];s&&te.setActiveCaipNetwork(s)}}Le.chains.delete(t)},addAdapter(t,{connectionControllerClient:e},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Le.chains.set(t.namespace,{namespace:t.namespace,networkState:{...pv,caipNetwork:r[0]},accountState:{...wx},caipNetworks:r,connectionControllerClient:e}),te.setRequestedCaipNetworks((r==null?void 0:r.filter(n=>n.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=Le.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(s=>s.id===t.id)||n.push(t),Le.chains.set(t.chainNamespace,{...e,caipNetworks:n}),te.setRequestedCaipNetworks(n,t.chainNamespace),Ne.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var n,s,i;const r=Le.chains.get(t);if(r){const o=((n=Le.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((s=r.caipNetworks)==null?void 0:s.filter(c=>c.id!==e))||[]];o&&((i=r==null?void 0:r.caipNetworks)!=null&&i[0])&&te.setActiveCaipNetwork(r.caipNetworks[0]),Le.chains.set(t,{...r,caipNetworks:a}),te.setRequestedCaipNetworks(a||[],t),a.length===0&&Ne.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=Le.chains.get(t);r&&(r.networkState={...r.networkState||pv,...e},Le.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Le.chains.get(t);if(n){const s={...n.accountState||wx,...e};Le.chains.set(t,{...n,accountState:s}),(Le.chains.size===1||Le.activeChain===t)&&e.caipAddress&&(Le.activeCaipAddress=e.caipAddress)}},setChainNetworkData(t,e){if(!t)return;const r=Le.chains.get(t);if(r){const n={...r.networkState||pv,...e};Le.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){te.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){var n,s;Le.activeChain=t;const e=t?Le.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(Le.activeCaipAddress=(s=e==null?void 0:e.accountState)==null?void 0:s.caipAddress,Le.activeCaipNetwork=r,te.setChainNetworkData(t,{caipNetwork:r}),Te.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),ra.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var i,o;if(!t)return;const e=Le.activeChain===t.chainNamespace;e||te.setIsSwitchingNamespace(!0);const r=Le.chains.get(t.chainNamespace);Le.activeChain=t.chainNamespace,Le.activeCaipNetwork=t,te.setChainNetworkData(t.chainNamespace,{caipNetwork:t});let n=(i=r==null?void 0:r.accountState)==null?void 0:i.address;if(n)Le.activeCaipAddress=`${t.chainNamespace}:${t.id}:${n}`;else if(e&&Le.activeCaipAddress){const{address:a}=mn.parseCaipAddress(Le.activeCaipAddress);n=a,Le.activeCaipAddress=`${t.caipNetworkId}:${n}`}else Le.activeCaipAddress=void 0;te.setChainAccountData(t.chainNamespace,{address:n,caipAddress:Le.activeCaipAddress}),Pt.resetSend(),ra.set({activeChain:Le.activeChain,selectedNetworkId:(o=Le.activeCaipNetwork)==null?void 0:o.caipNetworkId}),Te.setActiveCaipNetworkId(t.caipNetworkId),!te.checkIfSupportedNetwork(t.chainNamespace)&&Ce.state.enableNetworkSwitch&&!Ce.state.allowUnsupportedChain&&!Me.state.wcBasic&&te.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=Le.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var s;if(!t)return;const e=t!==te.state.activeChain,r=(s=te.getNetworkData(t))==null?void 0:s.caipNetwork,n=te.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await te.switchActiveNetwork(n)},async switchActiveNetwork(t,{throwOnFailure:e=!1}={}){var o;const r=te.state.activeChain;if(!r)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=Zt.getProviderId(Le.activeChain)==="AUTH",s=(o=te.getAccountData(r))==null?void 0:o.address,i=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t.chainNamespace);try{if(s&&t.chainNamespace===r||n&&i){const a=eY.get(t.chainNamespace);if(!a)throw new Error("Adapter not found");await a.switchNetwork({caipNetwork:t})}te.setActiveCaipNetwork(t)}catch(a){if(e)throw a}bt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})},getConnectionControllerClient(t){const e=t||Le.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Le.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){var n;const r=(n=Le.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Le.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return Ue.sortRequestedNetworks(r,n).filter(o=>o==null?void 0:o.id)},getAllRequestedCaipNetworks(){const t=[];return Le.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=te.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){te.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=te.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(n));Ne.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const t=[];return Le.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=te.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){var e,r;return t?(r=(e=Le.chains.get(t))==null?void 0:e.networkState)==null?void 0:r.caipNetwork:Le.activeCaipNetwork},getActiveCaipAddress(){return Le.activeCaipAddress},getApprovedCaipNetworkIds(t){var n;const e=Le.chains.get(t);return((n=e==null?void 0:e.networkState)==null?void 0:n.approvedCaipNetworkIds)||[]},setApprovedCaipNetworksData(t,e){te.setAdapterNetworkState(t,e)},checkIfSupportedNetwork(t,e){var s;const r=e||((s=Le.activeCaipNetwork)==null?void 0:s.caipNetworkId),n=te.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){if(!Le.activeChain)return!0;const e=te.getRequestedCaipNetworks(Le.activeChain);return e==null?void 0:e.some(r=>r.id===t)},checkIfSmartAccountEnabled(){var n,s;const t=KK.caipNetworkIdToNumber((n=Le.activeCaipNetwork)==null?void 0:n.caipNetworkId);if(!Le.activeChain||!t)return!1;const r=((s=En.get(Ze.SMART_ACCOUNT_ENABLED_NETWORKS))==null?void 0:s.split(","))||[];return!!(r!=null&&r.includes(t.toString()))},showUnsupportedChainUI(){Bt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Le.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Ft.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){te.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){var s,i;const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=(i=(s=te.state.chains.get(e))==null?void 0:s.accountState)==null?void 0:i.preferredAccountType,n=Ce.state.defaultAccountTypes[e];Le.activeCaipAddress=void 0,te.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),Ne.removeConnectorId(e)},setIsSwitchingNamespace(t){Le.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(Le.chains.forEach(s=>{Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&t.push(s.namespace)}),t.length>0){const s=t[0];return e=s?(n=(r=Le.chains.get(s))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var r;const e=t||Le.activeChain;if(e)return(r=te.state.chains.get(e))==null?void 0:r.accountState},getNetworkData(t){var r;const e=t||Le.activeChain;if(e)return(r=te.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var s,i,o;if(!t)return;const r=te.state.chains.get(t),n=(s=r==null?void 0:r.caipNetworks)==null?void 0:s.find(a=>a.id.toString()===(e==null?void 0:e.toString()));return n||((i=r==null?void 0:r.networkState)==null?void 0:i.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Ne.state.filterByNamespace;return(t?[Le.chains.get(t)]:Array.from(Le.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?te.getRequestedCaipNetworks(t):te.getAllRequestedCaipNetworks()},getCaipNetworkById(t,e){return tY.getCaipNetworks(e).find(r=>r.id.toString()===t.toString()||r.caipNetworkId.toString()===t.toString())},setLastConnectedSIWECaipNetwork(t){Le.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Le.lastConnectedSIWECaipNetwork},async fetchTokenBalance(t){var o,a;const e=te.getAccountData();if(!e)return[];const r=(o=te.state.activeCaipNetwork)==null?void 0:o.caipNetworkId,n=(a=te.state.activeCaipNetwork)==null?void 0:a.chainNamespace,s=te.state.activeCaipAddress,i=s?Ue.getPlainAddress(s):void 0;if(te.setAccountProp("balanceLoading",!0,n),e.lastRetry&&!Ue.isAllowedRetry(e.lastRetry,30*Ft.ONE_SEC_MS))return te.setAccountProp("balanceLoading",!1,n),[];try{if(i&&r&&n){const c=await R8.getMyTokensWithBalance();return te.setAccountProp("tokenBalance",c,n),te.setAccountProp("lastRetry",void 0,n),te.setAccountProp("balanceLoading",!1,n),c}}catch(c){te.setAccountProp("lastRetry",Date.now(),n),t==null||t(c),tc.showError("Token Balance Unavailable")}finally{te.setAccountProp("balanceLoading",!1,n)}return[]},isCaipNetworkDisabled(t){var c;const e=t.chainNamespace,r=!!((c=te.getAccountData(e))!=null&&c.caipAddress),n=te.getAllApprovedCaipNetworkIds(),s=te.getNetworkProp("supportsAllNetworks",e)!==!1,i=Ne.getConnectorId(e),o=Ne.getAuthConnector(),a=i===Ee.CONNECTOR_ID.AUTH&&o;return!r||s||a?!1:!(n!=null&&n.includes(t.caipNetworkId))}},te=Po(tY),spe={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){var f,h;const r=te.state.activeCaipNetwork,n=te.state.activeChain,s=st.state.data;if(t.id===(r==null?void 0:r.id))return;const o=!!((f=te.getAccountData(n))!=null&&f.address),a=!!((h=te.getAccountData(t.chainNamespace))!=null&&h.address),c=t.chainNamespace!==n,l=Ne.getConnectorId(n)===Ee.CONNECTOR_ID.AUTH,d=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(p=>p===t.chainNamespace);e||l&&d?st.push("SwitchNetwork",{...s,network:t}):o&&c&&!a?st.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):st.push("SwitchNetwork",{...s,network:t})}},Gs=Dr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ipe={state:Gs,subscribe(t){return Kn(Gs,()=>t(Gs))},subscribeKey(t,e){return Zn(Gs,t,e)},async open(t){var o,a;const e=t==null?void 0:t.namespace,r=te.state.activeChain,n=e&&e!==r,s=(o=te.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress,i=te.state.noAdapters;if(Me.state.wcBasic?Qe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await Qe.prefetch(),Ne.setFilterByNamespace(t==null?void 0:t.namespace),Bt.setLoading(!0,e),e&&n){const c=((a=te.getNetworkData(e))==null?void 0:a.caipNetwork)||te.getRequestedCaipNetworks(e)[0];c&&(i?(await te.switchActiveNetwork(c),st.push("ConnectingWalletConnectBasic")):spe.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0}))}else Ce.state.manualWCControl||i&&!s?Ue.isMobile()?st.reset("AllWallets"):st.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?st.reset(t.view,t.data):s?st.reset("Account"):st.reset("Connect");Gs.open=!0,ra.set({open:!0}),bt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=Ce.state.enableEmbedded,e=!!te.state.activeCaipAddress;Gs.open&&bt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Gs.open=!1,st.reset("Connect"),Bt.clearLoading(),t?e?st.replace("Account"):st.push("Connect"):ra.set({open:!1}),Me.resetUri()},setLoading(t,e){e&&Gs.loadingNamespaceMap.set(e,t),Gs.loading=t,ra.set({loading:t})},clearLoading(){Gs.loadingNamespaceMap.clear(),Gs.loading=!1,ra.set({loading:!1})},shake(){Gs.shake||(Gs.shake=!0,setTimeout(()=>{Gs.shake=!1},500))}},Bt=Po(ipe),Zb={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},oR={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},ope={providers:QK,selectedProvider:null,error:null,purchaseCurrency:Zb,paymentCurrency:oR,purchaseCurrencies:[Zb],paymentCurrencies:[],quotesLoading:!1},Kt=Dr(ope),ape={state:Kt,subscribe(t){return Kn(Kt,()=>t(Kt))},subscribeKey(t,e){return Zn(Kt,t,e)},setSelectedProvider(t){var e,r;if(t&&t.name==="meld"){const n=te.state.activeChain,s=n===Ee.CHAIN.SOLANA?"SOL":"USDC",i=n?((r=(e=te.state.chains.get(n))==null?void 0:e.accountState)==null?void 0:r.address)??"":"",o=new URL(t.url);o.searchParams.append("publicKey",Ece),o.searchParams.append("destinationCurrencyCode",s),o.searchParams.append("walletAddress",i),o.searchParams.append("externalCustomerId",Ce.state.projectId),Kt.selectedProvider={...t,url:o.toString()}}else Kt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=QK.filter(n=>e.includes(n.name));Kt.providers=r}else Kt.providers=[]},setPurchaseCurrency(t){Kt.purchaseCurrency=t},setPaymentCurrency(t){Kt.paymentCurrency=t},setPurchaseAmount(t){aR.state.purchaseAmount=t},setPaymentAmount(t){aR.state.paymentAmount=t},async getAvailableCurrencies(){const t=await at.getOnrampOptions();Kt.purchaseCurrencies=t.purchaseCurrencies,Kt.paymentCurrencies=t.paymentCurrencies,Kt.paymentCurrency=t.paymentCurrencies[0]||oR,Kt.purchaseCurrency=t.purchaseCurrencies[0]||Zb,await Qe.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Qe.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Kt.quotesLoading=!0;try{const r=await at.getOnrampQuote({purchaseCurrency:Kt.purchaseCurrency,paymentCurrency:Kt.paymentCurrency,amount:((t=Kt.paymentAmount)==null?void 0:t.toString())||"0",network:(e=Kt.purchaseCurrency)==null?void 0:e.symbol});return Kt.quotesLoading=!1,Kt.purchaseAmount=Number(r==null?void 0:r.purchaseAmount.amount),r}catch(r){return Kt.error=r.message,Kt.quotesLoading=!1,null}finally{Kt.quotesLoading=!1}},resetState(){Kt.selectedProvider=null,Kt.error=null,Kt.purchaseCurrency=Zb,Kt.paymentCurrency=oR,Kt.purchaseCurrencies=[Zb],Kt.paymentCurrencies=[],Kt.paymentAmount=void 0,Kt.purchaseAmount=void 0,Kt.quotesLoading=!1}},aR=Po(ape);var mv={exports:{}},Gk;function rY(){if(Gk)return mv.exports;Gk=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(v,A,C){return Function.prototype.apply.call(v,A,C)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:r=function(v){return Object.getOwnPropertyNames(v)};function n(g){console&&console.warn&&console.warn(g)}var s=Number.isNaN||function(v){return v!==v};function i(){i.init.call(this)}mv.exports=i,mv.exports.once=E,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(g){if(typeof g!="number"||g<0||s(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");o=g}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||s(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function c(g){return g._maxListeners===void 0?i.defaultMaxListeners:g._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(v){for(var A=[],C=1;C<arguments.length;C++)A.push(arguments[C]);var x=v==="error",T=this._events;if(T!==void 0)x=x&&T.error===void 0;else if(!x)return!1;if(x){var N;if(A.length>0&&(N=A[0]),N instanceof Error)throw N;var M=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw M.context=N,M}var k=T[v];if(k===void 0)return!1;if(typeof k=="function")e(k,this,A);else for(var B=k.length,U=p(k,B),C=0;C<B;++C)e(U[C],this,A);return!0};function u(g,v,A,C){var x,T,N;if(a(A),T=g._events,T===void 0?(T=g._events=Object.create(null),g._eventsCount=0):(T.newListener!==void 0&&(g.emit("newListener",v,A.listener?A.listener:A),T=g._events),N=T[v]),N===void 0)N=T[v]=A,++g._eventsCount;else if(typeof N=="function"?N=T[v]=C?[A,N]:[N,A]:C?N.unshift(A):N.push(A),x=c(g),x>0&&N.length>x&&!N.warned){N.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=g,M.type=v,M.count=N.length,n(M)}return g}i.prototype.addListener=function(v,A){return u(this,v,A,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(v,A){return u(this,v,A,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(g,v,A){var C={fired:!1,wrapFn:void 0,target:g,type:v,listener:A},x=l.bind(C);return x.listener=A,C.wrapFn=x,x}i.prototype.once=function(v,A){return a(A),this.on(v,d(this,v,A)),this},i.prototype.prependOnceListener=function(v,A){return a(A),this.prependListener(v,d(this,v,A)),this},i.prototype.removeListener=function(v,A){var C,x,T,N,M;if(a(A),x=this._events,x===void 0)return this;if(C=x[v],C===void 0)return this;if(C===A||C.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete x[v],x.removeListener&&this.emit("removeListener",v,C.listener||A));else if(typeof C!="function"){for(T=-1,N=C.length-1;N>=0;N--)if(C[N]===A||C[N].listener===A){M=C[N].listener,T=N;break}if(T<0)return this;T===0?C.shift():m(C,T),C.length===1&&(x[v]=C[0]),x.removeListener!==void 0&&this.emit("removeListener",v,M||A)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(v){var A,C,x;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[v]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[v]),this;if(arguments.length===0){var T=Object.keys(C),N;for(x=0;x<T.length;++x)N=T[x],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=C[v],typeof A=="function")this.removeListener(v,A);else if(A!==void 0)for(x=A.length-1;x>=0;x--)this.removeListener(v,A[x]);return this};function f(g,v,A){var C=g._events;if(C===void 0)return[];var x=C[v];return x===void 0?[]:typeof x=="function"?A?[x.listener||x]:[x]:A?y(x):p(x,x.length)}i.prototype.listeners=function(v){return f(this,v,!0)},i.prototype.rawListeners=function(v){return f(this,v,!1)},i.listenerCount=function(g,v){return typeof g.listenerCount=="function"?g.listenerCount(v):h.call(g,v)},i.prototype.listenerCount=h;function h(g){var v=this._events;if(v!==void 0){var A=v[g];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function p(g,v){for(var A=new Array(v),C=0;C<v;++C)A[C]=g[C];return A}function m(g,v){for(;v+1<g.length;v++)g[v]=g[v+1];g.pop()}function y(g){for(var v=new Array(g.length),A=0;A<v.length;++A)v[A]=g[A].listener||g[A];return v}function E(g,v){return new Promise(function(A,C){function x(N){g.removeListener(v,T),C(N)}function T(){typeof g.removeListener=="function"&&g.removeListener("error",x),A([].slice.call(arguments))}b(g,v,T,{once:!0}),v!=="error"&&w(g,x,{once:!0})})}function w(g,v,A){typeof g.on=="function"&&b(g,"error",v,A)}function b(g,v,A,C){if(typeof g.on=="function")C.once?g.once(v,A):g.on(v,A);else if(typeof g.addEventListener=="function")g.addEventListener(v,function x(T){C.once&&g.removeEventListener(v,x),A(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g)}return mv.exports}var xo=rY();const N8=gg(xo);var Ex={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cR=function(t,e){return cR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},cR(t,e)};function cpe(t,e){cR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var uR=function(){return uR=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},uR.apply(this,arguments)};function upe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function lpe(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function dpe(t,e){return function(r,n){e(r,n,t)}}function fpe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function hpe(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function ppe(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function mpe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function gpe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function lR(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nY(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function ype(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nY(arguments[e]));return t}function bpe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function s1(t){return this instanceof s1?(this.v=t,this):new s1(t)}function wpe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(h){return new Promise(function(p,m){i.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(p){d(i[0][3],p)}}function c(f){f.value instanceof s1?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Epe(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:s1(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function vpe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof lR=="function"?lR(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function _pe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Ape(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Cpe(t){return t&&t.__esModule?t:{default:t}}function Spe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Ipe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Tpe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return uR},__asyncDelegator:Epe,__asyncGenerator:wpe,__asyncValues:vpe,__await:s1,__awaiter:hpe,__classPrivateFieldGet:Spe,__classPrivateFieldSet:Ipe,__createBinding:mpe,__decorate:lpe,__exportStar:gpe,__extends:cpe,__generator:ppe,__importDefault:Cpe,__importStar:Ape,__makeTemplateObject:_pe,__metadata:fpe,__param:dpe,__read:nY,__rest:upe,__spread:ype,__spreadArrays:bpe,__values:lR},Symbol.toStringTag,{value:"Module"})),Z1=VK(Tpe);var vx={},Qg={},Wk;function Ppe(){if(Wk)return Qg;Wk=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Qg.delay=t,Qg}var sf={},_x={},of={},Kk;function xpe(){return Kk||(Kk=1,Object.defineProperty(of,"__esModule",{value:!0}),of.ONE_THOUSAND=of.ONE_HUNDRED=void 0,of.ONE_HUNDRED=100,of.ONE_THOUSAND=1e3),of}var Ax={},Zk;function Ope(){return Zk||(Zk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(Ax)),Ax}var Yk;function sY(){return Yk||(Yk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Z1;e.__exportStar(xpe(),t),e.__exportStar(Ope(),t)})(_x)),_x}var Jk;function Rpe(){if(Jk)return sf;Jk=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.fromMiliseconds=sf.toMiliseconds=void 0;const t=sY();function e(n){return n*t.ONE_THOUSAND}sf.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return sf.fromMiliseconds=r,sf}var Qk;function Npe(){return Qk||(Qk=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Z1;e.__exportStar(Ppe(),t),e.__exportStar(Rpe(),t)})(vx)),vx}var Mp={},Xk;function Bpe(){if(Xk)return Mp;Xk=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Mp.Watch=t,Mp.default=t,Mp}var Cx={},Xg={},ej;function kpe(){if(ej)return Xg;ej=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.IWatch=void 0;class t{}return Xg.IWatch=t,Xg}var tj;function jpe(){return tj||(tj=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Z1.__exportStar(kpe(),t)})(Cx)),Cx}var rj;function Dpe(){return rj||(rj=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Z1;e.__exportStar(Npe(),t),e.__exportStar(Bpe(),t),e.__exportStar(jpe(),t),e.__exportStar(sY(),t)})(Ex)),Ex}var je=Dpe();class pp{}let Mpe=class extends pp{constructor(e){super()}};const nj=je.FIVE_SECONDS,mp={pulse:"heartbeat_pulse"};let Upe=class iY extends Mpe{constructor(e){super(e),this.events=new xo.EventEmitter,this.interval=nj,this.interval=(e==null?void 0:e.interval)||nj}static async init(e){const r=new iY(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),je.toMiliseconds(this.interval))}pulse(){this.events.emit(mp.pulse)}};const Lpe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Fpe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Hpe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function qpe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){zpe(t);return}return e}function zpe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function gv(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Hpe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Lpe.test(t)||Fpe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,qpe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function $pe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function In(t,...e){try{return $pe(t(...e))}catch(r){return Promise.reject(r)}}function Vpe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Gpe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function TS(t){if(Vpe(t))return String(t);if(Gpe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return TS(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const dR="base64:";function Wpe(t){return typeof t=="string"?t:dR+Ype(t)}function Kpe(t){return typeof t!="string"||!t.startsWith(dR)?t:Zpe(t.slice(dR.length))}function Zpe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Ype(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Xs(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Jpe(...t){return Xs(t.join(":"))}function yv(t){return t=Xs(t),t?t+":":""}function Qpe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function Xpe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const e0e="memory",t0e=()=>{const t=new Map;return{name:e0e,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function r0e(t={}){const e={mounts:{"":t.driver||t0e()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(const l of e.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:e.mounts[l]};return{base:"",relativeKey:u,driver:e.mounts[""]}},n=(u,l)=>e.mountpoints.filter(d=>d.startsWith(u)||l&&u.startsWith(d)).map(d=>({relativeBase:u.length>d.length?u.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),s=(u,l)=>{if(e.watching){l=Xs(l);for(const d of e.watchListeners)d(u,l)}},i=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await sj(e.mounts[u],s,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,l,d)=>{const f=new Map,h=p=>{let m=f.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},f.set(p.base,m)),m};for(const p of u){const m=typeof p=="string",y=Xs(m?p:p.key),E=m?void 0:p.value,w=m||!p.options?l:{...l,...p.options},b=r(y);h(b).items.push({key:y,value:E,relativeKey:b.relativeKey,options:w})}return Promise.all([...f.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(u,l={}){u=Xs(u);const{relativeKey:d,driver:f}=r(u);return In(f.hasItem,d,l)},getItem(u,l={}){u=Xs(u);const{relativeKey:d,driver:f}=r(u);return In(f.getItem,d,l).then(h=>gv(h))},getItems(u,l={}){return a(u,l,d=>d.driver.getItems?In(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),l).then(f=>f.map(h=>({key:Jpe(d.base,h.key),value:gv(h.value)}))):Promise.all(d.items.map(f=>In(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:gv(h)})))))},getItemRaw(u,l={}){u=Xs(u);const{relativeKey:d,driver:f}=r(u);return f.getItemRaw?In(f.getItemRaw,d,l):In(f.getItem,d,l).then(h=>Kpe(h))},async setItem(u,l,d={}){if(l===void 0)return c.removeItem(u);u=Xs(u);const{relativeKey:f,driver:h}=r(u);h.setItem&&(await In(h.setItem,f,TS(l),d),h.watch||s("update",u))},async setItems(u,l){await a(u,l,async d=>{if(d.driver.setItems)return In(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:TS(f.value),options:f.options})),l);d.driver.setItem&&await Promise.all(d.items.map(f=>In(d.driver.setItem,f.relativeKey,TS(f.value),f.options)))})},async setItemRaw(u,l,d={}){if(l===void 0)return c.removeItem(u,d);u=Xs(u);const{relativeKey:f,driver:h}=r(u);if(h.setItemRaw)await In(h.setItemRaw,f,l,d);else if(h.setItem)await In(h.setItem,f,Wpe(l),d);else return;h.watch||s("update",u)},async removeItem(u,l={}){typeof l=="boolean"&&(l={removeMeta:l}),u=Xs(u);const{relativeKey:d,driver:f}=r(u);f.removeItem&&(await In(f.removeItem,d,l),(l.removeMeta||l.removeMata)&&await In(f.removeItem,d+"$",l),f.watch||s("remove",u))},async getMeta(u,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),u=Xs(u);const{relativeKey:d,driver:f}=r(u),h=Object.create(null);if(f.getMeta&&Object.assign(h,await In(f.getMeta,d,l)),!l.nativeOnly){const p=await In(f.getItem,d+"$",l).then(m=>gv(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(h,p))}return h},setMeta(u,l,d={}){return this.setItem(u+"$",l,d)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){var y;u=yv(u);const d=n(u,!0);let f=[];const h=[];let p=!0;for(const E of d){(y=E.driver.flags)!=null&&y.maxDepth||(p=!1);const w=await In(E.driver.getKeys,E.relativeBase,l);for(const b of w){const g=E.mountpoint+Xs(b);f.some(v=>g.startsWith(v))||h.push(g)}f=[E.mountpoint,...f.filter(b=>!b.startsWith(E.mountpoint))]}const m=l.maxDepth!==void 0&&!p;return h.filter(E=>(!m||Qpe(E,l.maxDepth))&&Xpe(E,u))},async clear(u,l={}){u=yv(u),await Promise.all(n(u,!1).map(async d=>{if(d.driver.clear)return In(d.driver.clear,d.relativeBase,l);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",l);return Promise.all(f.map(h=>d.driver.removeItem(h,l)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>ij(u)))},async watch(u){return await i(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(l=>l!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,l){if(u=yv(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((d,f)=>f.length-d.length)),e.mounts[u]=l,e.watching&&Promise.resolve(sj(l,s,u)).then(d=>{e.unwatch[u]=d}).catch(console.error),c},async unmount(u,l=!0){var d,f;u=yv(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((f=(d=e.unwatch)[u])==null||f.call(d),delete e.unwatch[u]),l&&await ij(e.mounts[u]),e.mountpoints=e.mountpoints.filter(h=>h!==u),delete e.mounts[u])},getMount(u=""){u=Xs(u)+":";const l=r(u);return{driver:l.driver,base:l.base}},getMounts(u="",l={}){return u=Xs(u),n(u,l.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,d={})=>c.setItem(u,l,d),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function sj(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function ij(t){typeof t.dispose=="function"&&await In(t.dispose)}function gp(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function oY(t,e){let r;const n=()=>{if(r)return r;const s=indexedDB.open(t);return s.onupgradeneeded=()=>s.result.createObjectStore(e),r=gp(s),r.then(i=>{i.onclose=()=>r=void 0},()=>{}),r};return(s,i)=>n().then(o=>i(o.transaction(e,s).objectStore(e)))}let Sx;function Y1(){return Sx||(Sx=oY("keyval-store","keyval")),Sx}function oj(t,e=Y1()){return e("readonly",r=>gp(r.get(t)))}function n0e(t,e,r=Y1()){return r("readwrite",n=>(n.put(e,t),gp(n.transaction)))}function s0e(t,e=Y1()){return e("readwrite",r=>(r.delete(t),gp(r.transaction)))}function i0e(t=Y1()){return t("readwrite",e=>(e.clear(),gp(e.transaction)))}function o0e(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},gp(t.transaction)}function a0e(t=Y1()){return t("readonly",e=>{if(e.getAllKeys)return gp(e.getAllKeys());const r=[];return o0e(e,n=>r.push(n.key)).then(()=>r)})}const c0e="idb-keyval";var u0e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=oY(t.dbName,t.storeName)),{name:c0e,options:t,async hasItem(s){return!(typeof await oj(r(s),n)>"u")},async getItem(s){return await oj(r(s),n)??null},setItem(s,i){return n0e(r(s),i,n)},removeItem(s){return s0e(r(s),n)},getKeys(){return a0e(n)},clear(){return i0e(n)}}};const l0e="WALLET_CONNECT_V2_INDEXED_DB",d0e="keyvaluestorage";let f0e=class{constructor(){this.indexedDb=r0e({driver:u0e({dbName:l0e,storeName:d0e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Du(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PS={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Ix<"u"&&Ix.localStorage?PS.exports=Ix.localStorage:typeof window<"u"&&window.localStorage?PS.exports=window.localStorage:PS.exports=new e})();function h0e(t){var e;return[t[0],Zh((e=t[1])!=null?e:"")]}let p0e=class{constructor(){this.localStorage=PS.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(h0e)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Zh(r)}async setItem(e,r){this.localStorage.setItem(e,Du(r))}async removeItem(e){this.localStorage.removeItem(e)}};const m0e="wc_storage_version",aj=1,g0e=async(t,e,r)=>{const n=m0e,s=await e.getItem(n);if(s&&s>=aj){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(n,aj),r(e),y0e(t,o)},y0e=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let b0e=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new p0e;this.storage=e;try{const r=new f0e;g0e(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var w0e=Object.defineProperty,E0e=(t,e,r)=>e in t?w0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cj=(t,e,r)=>E0e(t,typeof e!="symbol"?e+"":e,r);let v0e=class extends pp{constructor(e){super(),this.opts=e,cj(this,"protocol","wc"),cj(this,"version",2)}};var _0e=Object.defineProperty,A0e=(t,e,r)=>e in t?_0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C0e=(t,e,r)=>A0e(t,e+"",r);let S0e=class extends pp{constructor(e,r){super(),this.core=e,this.logger=r,C0e(this,"records",new Map)}},I0e=class{constructor(e,r){this.logger=e,this.core=r}},T0e=class extends pp{constructor(e,r){super(),this.relayer=e,this.logger=r}},P0e=class extends pp{constructor(e){super()}},x0e=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},O0e=class extends pp{constructor(e,r){super(),this.relayer=e,this.logger=r}},R0e=class extends pp{constructor(e,r){super(),this.core=e,this.logger=r}},N0e=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},B0e=class{constructor(e,r){this.projectId=e,this.logger=r}},k0e=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var j0e=Object.defineProperty,D0e=(t,e,r)=>e in t?j0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uj=(t,e,r)=>D0e(t,typeof e!="symbol"?e+"":e,r);let M0e=class{constructor(e){this.opts=e,uj(this,"protocol","wc"),uj(this,"version",2)}},U0e=class{constructor(e){this.client=e}};function L0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function aY(t,...e){if(!L0e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function lj(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function F0e(t,e){aY(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Up=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function H0e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function cY(t){return typeof t=="string"&&(t=H0e(t)),aY(t),t}let q0e=class{clone(){return this._cloneInto()}};function z0e(t){const e=n=>t().update(cY(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function uY(t=32){if(Up&&typeof Up.getRandomValues=="function")return Up.getRandomValues(new Uint8Array(t));if(Up&&typeof Up.randomBytes=="function")return Up.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function $0e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}let V0e=class extends q0e{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Tx(this.buffer)}update(e){lj(this);const{view:r,buffer:n,blockLen:s}=this;e=cY(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Tx(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lj(this),F0e(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;$0e(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Tx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};const bv=BigInt(2**32-1),fR=BigInt(32);function lY(t,e=!1){return e?{h:Number(t&bv),l:Number(t>>fR&bv)}:{h:Number(t>>fR&bv)|0,l:Number(t&bv)|0}}function G0e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=lY(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const W0e=(t,e)=>BigInt(t>>>0)<<fR|BigInt(e>>>0),K0e=(t,e,r)=>t>>>r,Z0e=(t,e,r)=>t<<32-r|e>>>r,Y0e=(t,e,r)=>t>>>r|e<<32-r,J0e=(t,e,r)=>t<<32-r|e>>>r,Q0e=(t,e,r)=>t<<64-r|e>>>r-32,X0e=(t,e,r)=>t>>>r-32|e<<64-r,eme=(t,e)=>e,tme=(t,e)=>t,rme=(t,e,r)=>t<<r|e>>>32-r,nme=(t,e,r)=>e<<r|t>>>32-r,sme=(t,e,r)=>e<<r-32|t>>>64-r,ime=(t,e,r)=>t<<r-32|e>>>64-r;function ome(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const ame=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),cme=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,ume=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),lme=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,dme=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),fme=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,It={fromBig:lY,split:G0e,toBig:W0e,shrSH:K0e,shrSL:Z0e,rotrSH:Y0e,rotrSL:J0e,rotrBH:Q0e,rotrBL:X0e,rotr32H:eme,rotr32L:tme,rotlSH:rme,rotlSL:nme,rotlBH:sme,rotlBL:ime,add:ome,add3L:ame,add3H:cme,add4L:ume,add4H:lme,add5H:fme,add5L:dme},[hme,pme]=It.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),sl=new Uint32Array(80),il=new Uint32Array(80);let mme=class extends V0e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)sl[b]=e.getUint32(r),il[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=sl[b-15]|0,v=il[b-15]|0,A=It.rotrSH(g,v,1)^It.rotrSH(g,v,8)^It.shrSH(g,v,7),C=It.rotrSL(g,v,1)^It.rotrSL(g,v,8)^It.shrSL(g,v,7),x=sl[b-2]|0,T=il[b-2]|0,N=It.rotrSH(x,T,19)^It.rotrBH(x,T,61)^It.shrSH(x,T,6),M=It.rotrSL(x,T,19)^It.rotrBL(x,T,61)^It.shrSL(x,T,6),k=It.add4L(C,M,il[b-7],il[b-16]),B=It.add4H(k,A,N,sl[b-7],sl[b-16]);sl[b]=B|0,il[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=It.rotrSH(d,f,14)^It.rotrSH(d,f,18)^It.rotrBH(d,f,41),v=It.rotrSL(d,f,14)^It.rotrSL(d,f,18)^It.rotrBL(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=It.add5L(w,v,C,pme[b],il[b]),T=It.add5H(x,E,g,A,hme[b],sl[b]),N=x|0,M=It.rotrSH(n,s,28)^It.rotrBH(n,s,34)^It.rotrBH(n,s,39),k=It.rotrSL(n,s,28)^It.rotrBL(n,s,34)^It.rotrBL(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=It.add(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=It.add3L(N,k,U);n=It.add3H(I,T,M,B),s=I|0}({h:n,l:s}=It.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=It.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=It.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=It.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=It.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=It.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=It.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=It.add(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){sl.fill(0),il.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const gme=z0e(()=>new mme);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const B8=BigInt(0),dY=BigInt(1),yme=BigInt(2);function k8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function j8(t){if(!k8(t))throw new Error("Uint8Array expected")}function Px(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const bme=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function D8(t){j8(t);let e="";for(let r=0;r<t.length;r++)e+=bme[t[r]];return e}function fY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?B8:BigInt("0x"+t)}const Ac={_0:48,_9:57,A:65,F:70,a:97,f:102};function dj(t){if(t>=Ac._0&&t<=Ac._9)return t-Ac._0;if(t>=Ac.A&&t<=Ac.F)return t-(Ac.A-10);if(t>=Ac.a&&t<=Ac.f)return t-(Ac.a-10)}function hY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=dj(t.charCodeAt(i)),a=dj(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function wme(t){return fY(D8(t))}function xS(t){return j8(t),fY(D8(Uint8Array.from(t).reverse()))}function pY(t,e){return hY(t.toString(16).padStart(e*2,"0"))}function hR(t,e){return pY(t,e).reverse()}function Cc(t,e,r){let n;if(typeof e=="string")try{n=hY(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(k8(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function fj(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];j8(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const xx=t=>typeof t=="bigint"&&B8<=t;function Eme(t,e,r){return xx(t)&&xx(e)&&xx(r)&&e<=t&&t<r}function ey(t,e,r,n){if(!Eme(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function vme(t){let e;for(e=0;t>B8;t>>=dY,e+=1);return e}const _me=t=>(yme<<BigInt(t-1))-dY,Ame={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||k8(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function M8(t,e,r={}){const n=(s,i,o)=>{const a=Ame[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function hj(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const Nn=BigInt(0),on=BigInt(1),zf=BigInt(2),Cme=BigInt(3),pR=BigInt(4),pj=BigInt(5),mj=BigInt(8);function _n(t,e){const r=t%e;return r>=Nn?r:e+r}function Sme(t,e,r){if(e<Nn)throw new Error("invalid exponent, negatives unsupported");if(r<=Nn)throw new Error("invalid modulus");if(r===on)return Nn;let n=on;for(;e>Nn;)e&on&&(n=n*t%r),t=t*t%r,e>>=on;return n}function Sa(t,e,r){let n=t;for(;e-- >Nn;)n*=n,n%=r;return n}function gj(t,e){if(t===Nn)throw new Error("invert: expected non-zero number");if(e<=Nn)throw new Error("invert: expected positive modulus, got "+e);let r=_n(t,e),n=e,s=Nn,i=on;for(;r!==Nn;){const o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==on)throw new Error("invert: does not exist");return _n(s,e)}function Ime(t){const e=(t-on)/zf;let r,n,s;for(r=t-on,n=0;r%zf===Nn;r/=zf,n++);for(s=zf;s<t&&Sme(s,e,t)!==t-on;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+on)/pR;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const i=(r+on)/zf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,u=o.pow(o.mul(o.ONE,s),r),l=o.pow(a,i),d=o.pow(a,r);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let p=o.sqr(d);f<c&&!o.eql(p,o.ONE);f++)p=o.sqr(p);const h=o.pow(u,on<<BigInt(c-f-1));u=o.sqr(h),l=o.mul(l,h),d=o.mul(d,u),c=f}return l}}function Tme(t){if(t%pR===Cme){const e=(t+on)/pR;return function(r,n){const s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%mj===pj){const e=(t-pj)/mj;return function(r,n){const s=r.mul(n,zf),i=r.pow(s,e),o=r.mul(n,i),a=r.mul(r.mul(o,zf),i),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return Ime(t)}const Pme=(t,e)=>(_n(t,e)&on)===on,xme=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ome(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=xme.reduce((n,s)=>(n[s]="function",n),e);return M8(t,r)}function Rme(t,e,r){if(r<Nn)throw new Error("invalid exponent, negatives unsupported");if(r===Nn)return t.ONE;if(r===on)return e;let n=t.ONE,s=e;for(;r>Nn;)r&on&&(n=t.mul(n,s)),s=t.sqr(s),r>>=on;return n}function Nme(t,e){const r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function mY(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function gY(t,e,r=!1,n={}){if(t<=Nn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=mY(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:_me(s),ZERO:Nn,ONE:on,create:c=>_n(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Nn<=c&&c<t},is0:c=>c===Nn,isOdd:c=>(c&on)===on,neg:c=>_n(-c,t),eql:(c,u)=>c===u,sqr:c=>_n(c*c,t),add:(c,u)=>_n(c+u,t),sub:(c,u)=>_n(c-u,t),mul:(c,u)=>_n(c*u,t),pow:(c,u)=>Rme(a,c,u),div:(c,u)=>_n(c*gj(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>gj(c,t),sqrt:n.sqrt||(c=>(o||(o=Tme(t)),o(a,c))),invertBatch:c=>Nme(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?hR(c,i):pY(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?xS(c):wme(c)}});return Object.freeze(a)}const yj=BigInt(0),wv=BigInt(1);function Ox(t,e){const r=e.negate();return t?r:e}function yY(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Rx(t,e){yY(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function Bme(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function kme(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Nx=new WeakMap,bY=new WeakMap;function Bx(t){return bY.get(t)||1}function jme(t,e){return{constTimeNegate:Ox,hasPrecomputes(r){return Bx(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>yj;)n&wv&&(s=s.add(i)),i=i.double(),n>>=wv;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=Rx(n,e),o=[];let a=r,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){const{windows:i,windowSize:o}=Rx(r,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let f=0;f<i;f++){const h=f*o;let p=Number(s&u);s>>=d,p>o&&(p-=l,s+=wv);const m=h,y=h+Math.abs(p)-1,E=f%2!==0,w=p<0;p===0?c=c.add(Ox(E,n[m])):a=a.add(Ox(w,n[y]))}return{p:a,f:c}},wNAFUnsafe(r,n,s,i=t.ZERO){const{windows:o,windowSize:a}=Rx(r,e),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let d=0;d<o;d++){const f=d*a;if(s===yj)break;let h=Number(s&c);if(s>>=l,h>a&&(h-=u,s+=wv),h===0)continue;let p=n[f+Math.abs(h)-1];h<0&&(p=p.negate()),i=i.add(p)}return i},getPrecomputes(r,n,s){let i=Nx.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Nx.set(n,s(i))),i},wNAFCached(r,n,s){const i=Bx(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=Bx(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){yY(n,e),bY.set(r,n),Nx.delete(r)}}}function Dme(t,e,r,n){if(Bme(r,t),kme(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=vme(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),u=Math.floor((e.BITS-1)/o)*o;let l=s;for(let d=u;d>=0;d-=o){c.fill(s);for(let h=0;h<n.length;h++){const p=n[h],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(r[h])}let f=s;for(let h=c.length-1,p=s;h>0;h--)p=p.add(c[h]),f=f.add(p);if(l=l.add(f),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function Mme(t){return Ome(t.Fp),M8(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mY(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ro=BigInt(0),Ws=BigInt(1),Ev=BigInt(2),Ume=BigInt(8),Lme={zip215:!0};function Fme(t){const e=Mme(t);return M8(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Hme(t){const e=Fme(t),{Fp:r,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=Ev<<BigInt(a*8)-Ws,l=r.create,d=gY(e.n,e.nBitLength),f=e.uvRatio||((I,S)=>{try{return{isValid:!0,value:r.sqrt(I*r.inv(S))}}catch{return{isValid:!1,value:Ro}}}),h=e.adjustScalarBytes||(I=>I),p=e.domain||((I,S,_)=>{if(Px("phflag",_),S.length||_)throw new Error("Contexts/pre-hash are not supported");return I});function m(I,S){ey("coordinate "+I,S,Ro,u)}function y(I){if(!(I instanceof b))throw new Error("ExtendedPoint expected")}const E=hj((I,S)=>{const{ex:_,ey:R,ez:O}=I,P=I.is0();S==null&&(S=P?Ume:r.inv(O));const D=l(_*S),j=l(R*S),F=l(O*S);if(P)return{x:Ro,y:Ws};if(F!==Ws)throw new Error("invZ was invalid");return{x:D,y:j}}),w=hj(I=>{const{a:S,d:_}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:R,ey:O,ez:P,et:D}=I,j=l(R*R),F=l(O*O),q=l(P*P),z=l(q*q),W=l(j*S),K=l(q*l(W+F)),re=l(z+l(_*l(j*F)));if(K!==re)throw new Error("bad point: equation left != right (1)");const Q=l(R*O),X=l(P*D);if(Q!==X)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(S,_,R,O){this.ex=S,this.ey=_,this.ez=R,this.et=O,m("x",S),m("y",_),m("z",R),m("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof b)throw new Error("extended point not allowed");const{x:_,y:R}=S||{};return m("x",_),m("y",R),new b(_,R,Ws,l(_*R))}static normalizeZ(S){const _=r.invertBatch(S.map(R=>R.ez));return S.map((R,O)=>R.toAffine(_[O])).map(b.fromAffine)}static msm(S,_){return Dme(b,d,S,_)}_setWindowSize(S){A.setWindowSize(this,S)}assertValidity(){w(this)}equals(S){y(S);const{ex:_,ey:R,ez:O}=this,{ex:P,ey:D,ez:j}=S,F=l(_*j),q=l(P*O),z=l(R*j),W=l(D*O);return F===q&&z===W}is0(){return this.equals(b.ZERO)}negate(){return new b(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:S}=e,{ex:_,ey:R,ez:O}=this,P=l(_*_),D=l(R*R),j=l(Ev*l(O*O)),F=l(S*P),q=_+R,z=l(l(q*q)-P-D),W=F+D,K=W-j,re=F-D,Q=l(z*K),X=l(W*re),ie=l(z*re),Y=l(K*W);return new b(Q,X,Y,ie)}add(S){y(S);const{a:_,d:R}=e,{ex:O,ey:P,ez:D,et:j}=this,{ex:F,ey:q,ez:z,et:W}=S;if(_===BigInt(-1)){const we=l((P-O)*(q+F)),me=l((P+O)*(q-F)),ae=l(me-we);if(ae===Ro)return this.double();const Oe=l(D*Ev*W),Ie=l(j*Ev*z),Be=Ie+Oe,de=me+we,oe=Ie-Oe,$=l(Be*ae),L=l(de*oe),H=l(Be*oe),ee=l(ae*de);return new b($,L,ee,H)}const K=l(O*F),re=l(P*q),Q=l(j*R*W),X=l(D*z),ie=l((O+P)*(F+q)-K-re),Y=X-Q,V=X+Q,Z=l(re-_*K),ne=l(ie*Y),ue=l(V*Z),ce=l(ie*Z),ge=l(Y*V);return new b(ne,ue,ge,ce)}subtract(S){return this.add(S.negate())}wNAF(S){return A.wNAFCached(this,S,b.normalizeZ)}multiply(S){const _=S;ey("scalar",_,Ws,n);const{p:R,f:O}=this.wNAF(_);return b.normalizeZ([R,O])[0]}multiplyUnsafe(S,_=b.ZERO){const R=S;return ey("scalar",R,Ro,n),R===Ro?v:this.is0()||R===Ws?this:A.wNAFCachedUnsafe(this,R,b.normalizeZ,_)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,n).is0()}toAffine(S){return E(this,S)}clearCofactor(){const{h:S}=e;return S===Ws?this:this.multiplyUnsafe(S)}static fromHex(S,_=!1){const{d:R,a:O}=e,P=r.BYTES;S=Cc("pointHex",S,P),Px("zip215",_);const D=S.slice(),j=S[P-1];D[P-1]=j&-129;const F=xS(D),q=_?u:r.ORDER;ey("pointHex.y",F,Ro,q);const z=l(F*F),W=l(z-Ws),K=l(R*z-O);let{isValid:re,value:Q}=f(W,K);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const X=(Q&Ws)===Ws,ie=(j&128)!==0;if(!_&&Q===Ro&&ie)throw new Error("Point.fromHex: x=0 and x_0=1");return ie!==X&&(Q=l(-Q)),b.fromAffine({x:Q,y:F})}static fromPrivateKey(S){return T(S).point}toRawBytes(){const{x:S,y:_}=this.toAffine(),R=hR(_,r.BYTES);return R[R.length-1]|=S&Ws?128:0,R}toHex(){return D8(this.toRawBytes())}}b.BASE=new b(e.Gx,e.Gy,Ws,l(e.Gx*e.Gy)),b.ZERO=new b(Ro,Ws,Ws,Ro);const{BASE:g,ZERO:v}=b,A=jme(b,a*8);function C(I){return _n(I,n)}function x(I){return C(xS(I))}function T(I){const S=r.BYTES;I=Cc("private key",I,S);const _=Cc("hashed private key",i(I),2*S),R=h(_.slice(0,S)),O=_.slice(S,2*S),P=x(R),D=g.multiply(P),j=D.toRawBytes();return{head:R,prefix:O,scalar:P,point:D,pointBytes:j}}function N(I){return T(I).pointBytes}function M(I=new Uint8Array,...S){const _=fj(...S);return x(i(p(_,Cc("context",I),!!s)))}function k(I,S,_={}){I=Cc("message",I),s&&(I=s(I));const{prefix:R,scalar:O,pointBytes:P}=T(S),D=M(_.context,R,I),j=g.multiply(D).toRawBytes(),F=M(_.context,j,P,I),q=C(D+F*O);ey("signature.s",q,Ro,n);const z=fj(j,hR(q,r.BYTES));return Cc("result",z,r.BYTES*2)}const B=Lme;function U(I,S,_,R=B){const{context:O,zip215:P}=R,D=r.BYTES;I=Cc("signature",I,2*D),S=Cc("message",S),_=Cc("publicKey",_,D),P!==void 0&&Px("zip215",P),s&&(S=s(S));const j=xS(I.slice(D,2*D));let F,q,z;try{F=b.fromHex(_,P),q=b.fromHex(I.slice(0,D),P),z=g.multiplyUnsafe(j)}catch{return!1}if(!P&&F.isSmallOrder())return!1;const W=M(O,q.toRawBytes(),F.toRawBytes(),S);return q.add(F.multiplyUnsafe(W)).subtract(z).clearCofactor().equals(b.ZERO)}return g._setWindowSize(8),{CURVE:e,getPublicKey:N,sign:k,verify:U,ExtendedPoint:b,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(r.BYTES),precompute(I=8,S=b.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}}}}BigInt(0),BigInt(1);const U8=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bj=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const qme=BigInt(1),wj=BigInt(2);BigInt(3);const zme=BigInt(5),$me=BigInt(8);function Vme(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=U8,o=t*t%i*t%i,a=Sa(o,wj,i)*o%i,c=Sa(a,qme,i)*t%i,u=Sa(c,zme,i)*c%i,l=Sa(u,e,i)*u%i,d=Sa(l,r,i)*l%i,f=Sa(d,n,i)*d%i,h=Sa(f,s,i)*f%i,p=Sa(h,s,i)*f%i,m=Sa(p,e,i)*u%i;return{pow_p_5_8:Sa(m,wj,i)*t%i,b2:o}}function Gme(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Wme(t,e){const r=U8,n=_n(e*e*e,r),s=_n(n*n*e,r),i=Vme(t*s).pow_p_5_8;let o=_n(t*n*i,r);const a=_n(e*o*o,r),c=o,u=_n(o*bj,r),l=a===t,d=a===_n(-t,r),f=a===_n(-t*bj,r);return l&&(o=c),(d||f)&&(o=u),Pme(o,r)&&(o=_n(-o,r)),{isValid:l||d,value:o}}const Kme=gY(U8,void 0,!0),Zme={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Kme,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:$me,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gme,randomBytes:uY,adjustScalarBytes:Gme,uvRatio:Wme},wY=Hme(Zme),Yme="EdDSA",Jme="JWT",PI=".",ZT="base64url",EY="utf8",vY="utf8",Qme=":",Xme="did",ege="key",Ej="base58btc",tge="z",rge="K36",nge=32;function L8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _Y(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?L8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function AY(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=_Y(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return L8(r)}function sge(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,E=0,w=p.length;E!==w&&p[E]===0;)E++,m++;for(var b=(w-E)*l+1>>>0,g=new Uint8Array(b);E!==w;){for(var v=p[E],A=0,C=b-1;(v!==0||A<y)&&C!==-1;C--,A++)v+=256*g[C]>>>0,g[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");y=A,E++}for(var x=b-y;x!==b&&g[x]===0;)x++;for(var T=c.repeat(m);x<b;++x)T+=t.charAt(g[x]);return T}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,E=0;p[m]===c;)y++,m++;for(var w=(p.length-m)*u+1>>>0,b=new Uint8Array(w);p[m];){var g=r[p.charCodeAt(m)];if(g===255)return;for(var v=0,A=w-1;(g!==0||v<E)&&A!==-1;A--,v++)g+=a*b[A]>>>0,b[A]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=v,m++}if(p[m]!==" "){for(var C=w-E;C!==w&&b[C]===0;)C++;for(var x=new Uint8Array(y+(w-C)),T=y;C!==w;)x[T++]=b[C++];return x}}}function h(p){var m=f(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var ige=sge,oge=ige;const CY=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},age=t=>new TextEncoder().encode(t),cge=t=>new TextDecoder().decode(t);let uge=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},lge=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return SY(this,e)}},dge=class{constructor(e){this.decoders=e}or(e){return SY(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const SY=(t,e)=>new dge({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let fge=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new uge(e,r,n),this.decoder=new lge(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const YT=({name:t,prefix:e,encode:r,decode:n})=>new fge(t,e,r,n),J1=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=oge(r,e);return YT({prefix:t,name:e,encode:n,decode:i=>CY(s(i))})},hge=(t,e,r,n)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const d=s[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},pge=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Yn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>YT({prefix:e,name:t,encode(s){return pge(s,n,r)},decode(s){return hge(s,n,r,t)}}),mge=YT({prefix:"\0",name:"identity",encode:t=>cge(t),decode:t=>age(t)});var gge=Object.freeze({__proto__:null,identity:mge});const yge=Yn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var bge=Object.freeze({__proto__:null,base2:yge});const wge=Yn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ege=Object.freeze({__proto__:null,base8:wge});const vge=J1({prefix:"9",name:"base10",alphabet:"0123456789"});var _ge=Object.freeze({__proto__:null,base10:vge});const Age=Yn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Cge=Yn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Sge=Object.freeze({__proto__:null,base16:Age,base16upper:Cge});const Ige=Yn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Tge=Yn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pge=Yn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xge=Yn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Oge=Yn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Rge=Yn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Nge=Yn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Bge=Yn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),kge=Yn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var jge=Object.freeze({__proto__:null,base32:Ige,base32upper:Tge,base32pad:Pge,base32padupper:xge,base32hex:Oge,base32hexupper:Rge,base32hexpad:Nge,base32hexpadupper:Bge,base32z:kge});const Dge=J1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mge=J1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Uge=Object.freeze({__proto__:null,base36:Dge,base36upper:Mge});const Lge=J1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Fge=J1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Hge=Object.freeze({__proto__:null,base58btc:Lge,base58flickr:Fge});const qge=Yn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zge=Yn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$ge=Yn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Vge=Yn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Gge=Object.freeze({__proto__:null,base64:qge,base64pad:zge,base64url:$ge,base64urlpad:Vge});const IY=Array.from(""),Wge=IY.reduce((t,e,r)=>(t[r]=e,t),[]),Kge=IY.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Zge(t){return t.reduce((e,r)=>(e+=Wge[r],e),"")}function Yge(t){const e=[];for(const r of t){const n=Kge[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Jge=YT({prefix:"",name:"base256emoji",encode:Zge,decode:Yge});var Qge=Object.freeze({__proto__:null,base256emoji:Jge}),Xge=TY,vj=128,eye=-128,tye=Math.pow(2,31);function TY(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tye;)e[r++]=t&255|vj,t/=128;for(;t&eye;)e[r++]=t&255|vj,t>>>=7;return e[r]=t|0,TY.bytes=r-n+1,e}var rye=mR,nye=128,_j=127;function mR(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw mR.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&_j)<<s:(o&_j)*Math.pow(2,s),s+=7}while(o>=nye);return mR.bytes=i-n,r}var sye=Math.pow(2,7),iye=Math.pow(2,14),oye=Math.pow(2,21),aye=Math.pow(2,28),cye=Math.pow(2,35),uye=Math.pow(2,42),lye=Math.pow(2,49),dye=Math.pow(2,56),fye=Math.pow(2,63),hye=function(t){return t<sye?1:t<iye?2:t<oye?3:t<aye?4:t<cye?5:t<uye?6:t<lye?7:t<dye?8:t<fye?9:10},pye={encode:Xge,decode:rye,encodingLength:hye},PY=pye;const Aj=(t,e,r=0)=>(PY.encode(t,e,r),e),Cj=t=>PY.encodingLength(t),gR=(t,e)=>{const r=e.byteLength,n=Cj(t),s=n+Cj(r),i=new Uint8Array(s+r);return Aj(t,i,0),Aj(r,i,n),i.set(e,s),new mye(t,r,e,i)};let mye=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const xY=({name:t,code:e,encode:r})=>new gye(t,e,r);let gye=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?gR(this.code,r):r.then(n=>gR(this.code,n))}else throw Error("Unknown type, must be binary type")}};const OY=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),yye=xY({name:"sha2-256",code:18,encode:OY("SHA-256")}),bye=xY({name:"sha2-512",code:19,encode:OY("SHA-512")});var wye=Object.freeze({__proto__:null,sha256:yye,sha512:bye});const RY=0,Eye="identity",NY=CY,vye=t=>gR(RY,NY(t)),_ye={code:RY,name:Eye,encode:NY,digest:vye};var Aye=Object.freeze({__proto__:null,identity:_ye});new TextEncoder,new TextDecoder;const Sj={...gge,...bge,...Ege,..._ge,...Sge,...jge,...Uge,...Hge,...Gge,...Qge};({...wye,...Aye});function BY(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ij=BY("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),kx=BY("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=_Y(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),kY={utf8:Ij,"utf-8":Ij,hex:Sj.base16,latin1:kx,ascii:kx,binary:kx,...Sj};function JT(t,e="utf8"){const r=kY[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function wg(t,e="utf8"){const r=kY[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?L8(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Tj(t){return Zh(JT(wg(t,ZT),EY))}function xI(t){return JT(wg(Du(t),EY),ZT)}function jY(t){const e=wg(rge,Ej),r=tge+JT(AY([e,t]),Ej);return[Xme,ege,r].join(Qme)}function Cye(t){return JT(t,ZT)}function Sye(t){return wg(t,ZT)}function Iye(t){return wg([xI(t.header),xI(t.payload)].join(PI),vY)}function Tye(t){return[xI(t.header),xI(t.payload),Cye(t.signature)].join(PI)}function yR(t){const e=t.split(PI),r=Tj(e[0]),n=Tj(e[1]),s=Sye(e[2]),i=wg(e.slice(0,2).join(PI),vY);return{header:r,payload:n,signature:s,data:i}}function Pj(t=uY(nge)){const e=wY.getPublicKey(t);return{secretKey:AY([t,e]),publicKey:e}}async function Pye(t,e,r,n,s=je.fromMiliseconds(Date.now())){const i={alg:Yme,typ:Jme},o=jY(n.publicKey),a=s+r,c={iss:o,sub:t,aud:e,iat:s,exp:a},u=Iye({header:i,payload:c}),l=wY.sign(u,n.secretKey.slice(0,32));return Tye({header:i,payload:c,signature:l})}var xj=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},xye=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),Oye=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),Rye=(function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t})(),Nye=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),Bye=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),kye=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,jye=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Oj=3,Dye=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",kye]],Rj=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Mye(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Bye:typeof navigator<"u"?Lye(navigator.userAgent):Hye()}function Uye(t){return t!==""&&Dye.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function Lye(t){var e=Uye(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Nye;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<Oj&&(s=xj(xj([],s,!0),qye(Oj-s.length),!0)):s=[];var i=s.join("."),o=Fye(t),a=jye.exec(t);return a&&a[1]?new Rye(r,i,o,a[1]):new xye(r,i,o)}function Fye(t){for(var e=0,r=Rj.length;e<r;e++){var n=Rj[e],s=n[0],i=n[1],o=i.exec(t);if(o)return s}return null}function Hye(){var t=typeof process<"u"&&process.version;return t?new Oye(process.version.slice(1)):null}function qye(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var yr={},Nj;function DY(){if(Nj)return yr;Nj=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.getLocalStorage=yr.getLocalStorageOrThrow=yr.getCrypto=yr.getCryptoOrThrow=yr.getLocation=yr.getLocationOrThrow=yr.getNavigator=yr.getNavigatorOrThrow=yr.getDocument=yr.getDocumentOrThrow=yr.getFromWindowOrThrow=yr.getFromWindow=void 0;function t(f){let h;return typeof window<"u"&&typeof window[f]<"u"&&(h=window[f]),h}yr.getFromWindow=t;function e(f){const h=t(f);if(!h)throw new Error(`${f} is not defined in Window`);return h}yr.getFromWindowOrThrow=e;function r(){return e("document")}yr.getDocumentOrThrow=r;function n(){return t("document")}yr.getDocument=n;function s(){return e("navigator")}yr.getNavigatorOrThrow=s;function i(){return t("navigator")}yr.getNavigator=i;function o(){return e("location")}yr.getLocationOrThrow=o;function a(){return t("location")}yr.getLocation=a;function c(){return e("crypto")}yr.getCryptoOrThrow=c;function u(){return t("crypto")}yr.getCrypto=u;function l(){return e("localStorage")}yr.getLocalStorageOrThrow=l;function d(){return t("localStorage")}return yr.getLocalStorage=d,yr}var Mu=DY(),ty={},Bj;function zye(){if(Bj)return ty;Bj=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.getWindowMetadata=void 0;const t=DY();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function s(){const h=r.getElementsByTagName("link"),p=[];for(let m=0;m<h.length;m++){const y=h[m],E=y.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const w=y.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let b=n.protocol+"//"+n.host;if(w.indexOf("/")===0)b+=w;else{const g=n.pathname.split("/");g.pop();const v=g.join("/");b+=v+"/"+w}p.push(b)}else if(w.indexOf("//")===0){const b=n.protocol+w;p.push(b)}else p.push(w)}}return p}function i(...h){const p=r.getElementsByTagName("meta");for(let m=0;m<p.length;m++){const y=p[m],E=["itemprop","property","name"].map(w=>y.getAttribute(w)).filter(w=>w?h.includes(w):!1);if(E.length&&E){const w=y.getAttribute("content");if(w)return w}}return""}function o(){let h=i("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),u=a(),l=n.origin,d=s();return{description:u,url:l,icons:d,name:c}}return ty.getWindowMetadata=e,ty}var $ye=zye();const Vye="0.1.1";function Gye(){return Vye}class Fr extends Error{constructor(e,r={}){const n=(()=>{var c;if(r.cause instanceof Fr){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),s=r.cause instanceof Fr&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Gye()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return MY(this,e)}}function MY(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?MY(t.cause,e):e?null:t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F8=BigInt(0),bR=BigInt(1);function Q1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H8(t){if(!Q1(t))throw new Error("Uint8Array expected")}function i1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function vv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function UY(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?F8:BigInt("0x"+t)}const LY=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Wye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o1(t){if(H8(t),LY)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Wye[t[r]];return e}const Sc={_0:48,_9:57,A:65,F:70,a:97,f:102};function kj(t){if(t>=Sc._0&&t<=Sc._9)return t-Sc._0;if(t>=Sc.A&&t<=Sc.F)return t-(Sc.A-10);if(t>=Sc.a&&t<=Sc.f)return t-(Sc.a-10)}function OI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(LY)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=kj(t.charCodeAt(i)),a=kj(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function Lh(t){return UY(o1(t))}function FY(t){return H8(t),UY(o1(Uint8Array.from(t).reverse()))}function X1(t,e){return OI(t.toString(16).padStart(e*2,"0"))}function HY(t,e){return X1(t,e).reverse()}function go(t,e,r){let n;if(typeof e=="string")try{n=OI(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Q1(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function RI(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];H8(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const jx=t=>typeof t=="bigint"&&F8<=t;function q8(t,e,r){return jx(t)&&jx(e)&&jx(r)&&e<=t&&t<r}function $0(t,e,r,n){if(!q8(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Kye(t){let e;for(e=0;t>F8;t>>=bR,e+=1);return e}const QT=t=>(bR<<BigInt(t))-bR,Dx=t=>new Uint8Array(t),jj=t=>Uint8Array.from(t);function Zye(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Dx(t),s=Dx(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...d)=>r(s,n,...d),c=(d=Dx(0))=>{s=a(jj([0]),d),n=a(),d.length!==0&&(s=a(jj([1]),d),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){n=a();const h=n.slice();f.push(h),d+=n.length}return RI(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(u()));)c();return o(),h}}const Yye={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Q1(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function XT(t,e,r={}){const n=(s,i,o)=>{const a=Yye[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function Dj(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}function Jye(t,e){if(Fj(t)>e)throw new bbe({givenSize:Fj(t),maxSize:e})}const Ic={zero:48,nine:57,A:65,F:70,a:97,f:102};function Mj(t){if(t>=Ic.zero&&t<=Ic.nine)return t-Ic.zero;if(t>=Ic.A&&t<=Ic.F)return t-(Ic.A-10);if(t>=Ic.a&&t<=Ic.f)return t-(Ic.a-10)}function Qye(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new wbe({size:t.length,targetSize:n,type:"Bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const o=r==="right";s[o?i:n-i-1]=t[o?i:t.length-i-1]}return s}function qY(t,e){if(Cd(t)>e)throw new cbe({givenSize:Cd(t),maxSize:e})}function Xye(t,e){if(typeof e=="number"&&e>0&&e>Cd(t)-1)throw new VY({offset:e,position:"start",size:Cd(t)})}function ebe(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Cd(t)!==r-e)throw new VY({offset:r,position:"end",size:Cd(t)})}function zY(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const s=t.replace("0x","");if(s.length>n*2)throw new ube({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const tbe="#__bigint";function z8(t,e,r){return JSON.stringify(t,(n,s)=>typeof s=="bigint"?s.toString()+tbe:s,r)}const rbe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nbe(t,e={}){const{strict:r=!1}=e;if(!t)throw new Uj(t);if(typeof t!="string")throw new Uj(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new Lj(t);if(!t.startsWith("0x"))throw new Lj(t)}function sbe(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function $8(t){return t instanceof Uint8Array?NI(t):Array.isArray(t)?NI(new Uint8Array(t)):t}function NI(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=rbe[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(qY(n,e.size),$Y(n,e.size)):n}function Mx(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const u=typeof t=="bigint"?"n":"";throw new abe({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${t}${u}`})}const c=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?ibe(c,n):c}function ibe(t,e){return zY(t,{dir:"left",size:e})}function $Y(t,e){return zY(t,{dir:"right",size:e})}function ru(t,e,r,n={}){const{strict:s}=n;Xye(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return s&&ebe(i,e,r),i}function Cd(t){return Math.ceil((t.length-2)/2)}function obe(t,e={}){const{strict:r=!1}=e;try{return nbe(t,{strict:r}),!0}catch{return!1}}class abe extends Fr{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Uj extends Fr{constructor(e){super(`Value \`${typeof e=="object"?z8(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Lj extends Fr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let cbe=class extends Fr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class VY extends Fr{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let ube=class extends Fr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const lbe=new TextEncoder;function dbe(t){if(!(t instanceof Uint8Array)){if(!t)throw new _v(t);if(typeof t!="object")throw new _v(t);if(!("BYTES_PER_ELEMENT"in t))throw new _v(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new _v(t)}}function fbe(t){return t instanceof Uint8Array?t:typeof t=="string"?pbe(t):hbe(t)}function hbe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function pbe(t,e={}){const{size:r}=e;let n=t;r&&(qY(t,r),n=$Y(t,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=Mj(s.charCodeAt(c++)),l=Mj(s.charCodeAt(c++));if(u===void 0||l===void 0)throw new Fr(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+l}return o}function mbe(t,e={}){const{size:r}=e,n=lbe.encode(t);return typeof r=="number"?(Jye(n,r),gbe(n,r)):n}function gbe(t,e){return Qye(t,{dir:"right",size:e})}function Fj(t){return t.length}function ybe(t){try{return dbe(t),!0}catch{return!1}}class _v extends Fr{constructor(e){super(`Value \`${typeof e=="object"?z8(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class bbe extends Fr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class wbe extends Fr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function GY(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=CZ(fbe(t));return r==="Bytes"?n:NI(n)}class Ebe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const vbe={checksum:new Ebe(8192)},Ux=vbe.checksum;function WY(t,e={}){const{compressed:r}=e,{prefix:n,x:s,y:i}=t;if(r===!1||typeof s=="bigint"&&typeof i=="bigint"){if(n!==4)throw new Hj({prefix:n,cause:new Tbe});return}if(r===!0||typeof s=="bigint"&&typeof i>"u"){if(n!==3&&n!==2)throw new Hj({prefix:n,cause:new Ibe});return}throw new Sbe({publicKey:t})}function _be(t){const e=(()=>{if(obe(t))return KY(t);if(ybe(t))return Abe(t);const{prefix:r,x:n,y:s}=t;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r??4,x:n,y:s}:{prefix:r,x:n}})();return WY(e),e}function Abe(t){return KY(NI(t))}function KY(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new Pbe({publicKey:t});if(t.length===130){const n=BigInt(ru(t,0,32)),s=BigInt(ru(t,32,64));return{prefix:4,x:n,y:s}}if(t.length===132){const n=Number(ru(t,0,1)),s=BigInt(ru(t,1,33)),i=BigInt(ru(t,33,65));return{prefix:n,x:s,y:i}}const e=Number(ru(t,0,1)),r=BigInt(ru(t,1,33));return{prefix:e,x:r}}function Cbe(t,e={}){WY(t);const{prefix:r,x:n,y:s}=t,{includePrefix:i=!0}=e;return sbe(i?Mx(r,{size:1}):"0x",Mx(n,{size:32}),typeof s=="bigint"?Mx(s,{size:32}):"0x")}class Sbe extends Fr{constructor({publicKey:e}){super(`Value \`${z8(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Hj extends Fr{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Ibe extends Fr{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Tbe extends Fr{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Pbe=class extends Fr{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Cd($8(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const xbe=/^0x[a-fA-F0-9]{40}$/;function ZY(t,e={}){const{strict:r=!0}=e;if(!xbe.test(t))throw new qj({address:t,cause:new Nbe});if(r){if(t.toLowerCase()===t)return;if(YY(t)!==t)throw new qj({address:t,cause:new Bbe})}}function YY(t){if(Ux.has(t))return Ux.get(t);ZY(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=GY(mbe(e),{as:"Bytes"}),n=e.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&n[i]&&(n[i]=n[i].toUpperCase()),(r[i>>1]&15)>=8&&n[i+1]&&(n[i+1]=n[i+1].toUpperCase());const s=`0x${n.join("")}`;return Ux.set(t,s),s}function Obe(t,e={}){const{checksum:r=!1}=e;return ZY(t),r?YY(t):t}function Rbe(t,e={}){const r=GY(`0x${Cbe(t).slice(4)}`).substring(26);return Obe(`0x${r}`,e)}class qj extends Fr{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Nbe extends Fr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Bbe extends Fr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fi=BigInt(0),Ls=BigInt(1),eh=BigInt(2),kbe=BigInt(3),JY=BigInt(4),QY=BigInt(5),XY=BigInt(8);function ii(t,e){const r=t%e;return r>=fi?r:e+r}function io(t,e,r){let n=t;for(;e-- >fi;)n*=n,n%=r;return n}function wR(t,e){if(t===fi)throw new Error("invert: expected non-zero number");if(e<=fi)throw new Error("invert: expected positive modulus, got "+e);let r=ii(t,e),n=e,s=fi,i=Ls;for(;r!==fi;){const a=n/r,c=n%r,u=s-i*a;n=r,r=c,s=i,i=u}if(n!==Ls)throw new Error("invert: does not exist");return ii(s,e)}function eJ(t,e){const r=(t.ORDER+Ls)/JY,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function jbe(t,e){const r=(t.ORDER-QY)/XY,n=t.mul(e,eh),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,eh),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Dbe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ls,r=0;for(;e%eh===fi;)e/=eh,r++;let n=eh;const s=V8(t);for(;zj(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return eJ;let i=s.pow(n,e);const o=(e+Ls)/eh;return function(c,u){if(c.is0(u))return u;if(zj(c,u)!==1)throw new Error("Cannot find square root");let l=r,d=c.mul(c.ONE,i),f=c.pow(u,e),h=c.pow(u,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let p=1,m=c.sqr(f);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===l)throw new Error("Cannot find square root");const y=Ls<<BigInt(l-p-1),E=c.pow(d,y);l=p,d=c.sqr(E),f=c.mul(f,d),h=c.mul(h,E)}return h}}function Mbe(t){return t%JY===kbe?eJ:t%XY===QY?jbe:Dbe(t)}const Ube=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lbe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Ube.reduce((n,s)=>(n[s]="function",n),e);return XT(t,r)}function Fbe(t,e,r){if(r<fi)throw new Error("invalid exponent, negatives unsupported");if(r===fi)return t.ONE;if(r===Ls)return e;let n=t.ONE,s=e;for(;r>fi;)r&Ls&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ls;return n}function tJ(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function zj(t,e){const r=(t.ORDER-Ls)/eh,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function rJ(t,e){e!==void 0&&Mw(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function V8(t,e,r=!1,n={}){if(t<=fi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=rJ(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:QT(s),ZERO:fi,ONE:Ls,create:c=>ii(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return fi<=c&&c<t},is0:c=>c===fi,isOdd:c=>(c&Ls)===Ls,neg:c=>ii(-c,t),eql:(c,u)=>c===u,sqr:c=>ii(c*c,t),add:(c,u)=>ii(c+u,t),sub:(c,u)=>ii(c-u,t),mul:(c,u)=>ii(c*u,t),pow:(c,u)=>Fbe(a,c,u),div:(c,u)=>ii(c*wR(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>wR(c,t),sqrt:n.sqrt||(c=>(o||(o=Mbe(t)),o(a,c))),toBytes:c=>r?HY(c,i):X1(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?FY(c):Lh(c)},invertBatch:c=>tJ(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function nJ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function sJ(t){const e=nJ(t);return e+Math.ceil(e/2)}function Hbe(t,e,r=!1){const n=t.length,s=nJ(e),i=sJ(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=r?FY(t):Lh(t),a=ii(o,e-Ls)+Ls;return r?HY(a,s):X1(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $j=BigInt(0),ER=BigInt(1);function Lx(t,e){const r=e.negate();return t?r:e}function iJ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Fx(t,e){iJ(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=QT(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function Vj(t,e,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r;let a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=ER);const u=e*n,l=u+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:u}}function qbe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function zbe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Hx=new WeakMap,oJ=new WeakMap;function qx(t){return oJ.get(t)||1}function $be(t,e){return{constTimeNegate:Lx,hasPrecomputes(r){return qx(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>$j;)n&ER&&(s=s.add(i)),i=i.double(),n>>=ER;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=Fx(n,e),o=[];let a=r,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,s){let i=t.ZERO,o=t.BASE;const a=Fx(r,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:p}=Vj(s,c,a);s=u,d?o=o.add(Lx(h,n[p])):i=i.add(Lx(f,n[l]))}return{p:i,f:o}},wNAFUnsafe(r,n,s,i=t.ZERO){const o=Fx(r,e);for(let a=0;a<o.windows&&s!==$j;a++){const{nextN:c,offset:u,isZero:l,isNeg:d}=Vj(s,a,o);if(s=c,!l){const f=n[u];i=i.add(d?f.negate():f)}}return i},getPrecomputes(r,n,s){let i=Hx.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Hx.set(n,s(i))),i},wNAFCached(r,n,s){const i=qx(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=qx(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){iJ(n,e),oJ.set(r,n),Hx.delete(r)}}}function Vbe(t,e,r,n){qbe(r,t),zbe(n,e);const s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Kye(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=QT(c),l=new Array(Number(u)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){l.fill(o);for(let m=0;m<i;m++){const y=n[m],E=Number(y>>BigInt(h)&u);l[E]=l[E].add(r[m])}let p=o;for(let m=l.length-1,y=o;m>0;m--)y=y.add(l[m]),p=p.add(y);if(f=f.add(p),h!==0)for(let m=0;m<c;m++)f=f.double()}return f}function aJ(t){return Lbe(t.Fp),XT(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rJ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Gj(t){t.lowS!==void 0&&i1("lowS",t.lowS),t.prehash!==void 0&&i1("prehash",t.prehash)}function Gbe(t){const e=aJ(t);XT(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Wbe extends Error{constructor(e=""){super(e)}}const au={Err:Wbe,_tlv:{encode:(t,e)=>{const{Err:r}=au;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=vv(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?vv(s.length/2|128):"";return vv(t)+i+s+e},decode(t,e){const{Err:r}=au;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=au;if(t<Au)throw new e("integer: negative integers are not allowed");let r=vv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=au;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Lh(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=au,s=go("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,i),{v:u,l}=n.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=au,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}};function zx(t,e){return o1(X1(t,e))}const Au=BigInt(0),Pn=BigInt(1);BigInt(2);const $x=BigInt(3),Kbe=BigInt(4);function Zbe(t){const e=Gbe(t),{Fp:r}=e,n=V8(e.n,e.nBitLength),s=e.toBytes||((b,g,v)=>{const A=g.toAffine();return RI(Uint8Array.from([4]),r.toBytes(A.x),r.toBytes(A.y))}),i=e.fromBytes||(b=>{const g=b.subarray(1),v=r.fromBytes(g.subarray(0,r.BYTES)),A=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:v,y:A}});function o(b){const{a:g,b:v}=e,A=r.sqr(b),C=r.mul(A,b);return r.add(r.add(C,r.mul(b,g)),v)}function a(b,g){const v=r.sqr(g),A=o(b);return r.eql(v,A)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(e.a,$x),Kbe),u=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,u)))throw new Error("bad curve params: a or b");function l(b){return q8(b,Pn,e.n)}function d(b){const{allowedPrivateKeyLengths:g,nByteLength:v,wrapPrivateKey:A,n:C}=e;if(g&&typeof b!="bigint"){if(Q1(b)&&(b=o1(b)),typeof b!="string"||!g.includes(b.length))throw new Error("invalid private key");b=b.padStart(v*2,"0")}let x;try{x=typeof b=="bigint"?b:Lh(go("private key",b,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof b)}return A&&(x=ii(x,C)),$0("private key",x,Pn,C),x}function f(b){if(!(b instanceof m))throw new Error("ProjectivePoint expected")}const h=Dj((b,g)=>{const{px:v,py:A,pz:C}=b;if(r.eql(C,r.ONE))return{x:v,y:A};const x=b.is0();g==null&&(g=x?r.ONE:r.inv(C));const T=r.mul(v,g),N=r.mul(A,g),M=r.mul(C,g);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x:T,y:N}}),p=Dj(b=>{if(b.is0()){if(e.allowInfinityPoint&&!r.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:g,y:v}=b.toAffine();if(!r.isValid(g)||!r.isValid(v))throw new Error("bad point: x or y not FE");if(!a(g,v))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(g,v,A){if(g==null||!r.isValid(g))throw new Error("x required");if(v==null||!r.isValid(v)||r.is0(v))throw new Error("y required");if(A==null||!r.isValid(A))throw new Error("z required");this.px=g,this.py=v,this.pz=A,Object.freeze(this)}static fromAffine(g){const{x:v,y:A}=g||{};if(!g||!r.isValid(v)||!r.isValid(A))throw new Error("invalid affine point");if(g instanceof m)throw new Error("projective point not allowed");const C=x=>r.eql(x,r.ZERO);return C(v)&&C(A)?m.ZERO:new m(v,A,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const v=tJ(r,g.map(A=>A.pz));return g.map((A,C)=>A.toAffine(v[C])).map(m.fromAffine)}static fromHex(g){const v=m.fromAffine(i(go("pointHex",g)));return v.assertValidity(),v}static fromPrivateKey(g){return m.BASE.multiply(d(g))}static msm(g,v){return Vbe(m,n,g,v)}_setWindowSize(g){w.setWindowSize(this,g)}assertValidity(){p(this)}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){f(g);const{px:v,py:A,pz:C}=this,{px:x,py:T,pz:N}=g,M=r.eql(r.mul(v,N),r.mul(x,C)),k=r.eql(r.mul(A,N),r.mul(T,C));return M&&k}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b:v}=e,A=r.mul(v,$x),{px:C,py:x,pz:T}=this;let N=r.ZERO,M=r.ZERO,k=r.ZERO,B=r.mul(C,C),U=r.mul(x,x),I=r.mul(T,T),S=r.mul(C,x);return S=r.add(S,S),k=r.mul(C,T),k=r.add(k,k),N=r.mul(g,k),M=r.mul(A,I),M=r.add(N,M),N=r.sub(U,M),M=r.add(U,M),M=r.mul(N,M),N=r.mul(S,N),k=r.mul(A,k),I=r.mul(g,I),S=r.sub(B,I),S=r.mul(g,S),S=r.add(S,k),k=r.add(B,B),B=r.add(k,B),B=r.add(B,I),B=r.mul(B,S),M=r.add(M,B),I=r.mul(x,T),I=r.add(I,I),B=r.mul(I,S),N=r.sub(N,B),k=r.mul(I,U),k=r.add(k,k),k=r.add(k,k),new m(N,M,k)}add(g){f(g);const{px:v,py:A,pz:C}=this,{px:x,py:T,pz:N}=g;let M=r.ZERO,k=r.ZERO,B=r.ZERO;const U=e.a,I=r.mul(e.b,$x);let S=r.mul(v,x),_=r.mul(A,T),R=r.mul(C,N),O=r.add(v,A),P=r.add(x,T);O=r.mul(O,P),P=r.add(S,_),O=r.sub(O,P),P=r.add(v,C);let D=r.add(x,N);return P=r.mul(P,D),D=r.add(S,R),P=r.sub(P,D),D=r.add(A,C),M=r.add(T,N),D=r.mul(D,M),M=r.add(_,R),D=r.sub(D,M),B=r.mul(U,P),M=r.mul(I,R),B=r.add(M,B),M=r.sub(_,B),B=r.add(_,B),k=r.mul(M,B),_=r.add(S,S),_=r.add(_,S),R=r.mul(U,R),P=r.mul(I,P),_=r.add(_,R),R=r.sub(S,R),R=r.mul(U,R),P=r.add(P,R),S=r.mul(_,P),k=r.add(k,S),S=r.mul(D,P),M=r.mul(O,M),M=r.sub(M,S),S=r.mul(O,_),B=r.mul(D,B),B=r.add(B,S),new m(M,k,B)}subtract(g){return this.add(g.negate())}is0(){return this.equals(m.ZERO)}wNAF(g){return w.wNAFCached(this,g,m.normalizeZ)}multiplyUnsafe(g){const{endo:v,n:A}=e;$0("scalar",g,Au,A);const C=m.ZERO;if(g===Au)return C;if(this.is0()||g===Pn)return this;if(!v||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,g,m.normalizeZ);let{k1neg:x,k1:T,k2neg:N,k2:M}=v.splitScalar(g),k=C,B=C,U=this;for(;T>Au||M>Au;)T&Pn&&(k=k.add(U)),M&Pn&&(B=B.add(U)),U=U.double(),T>>=Pn,M>>=Pn;return x&&(k=k.negate()),N&&(B=B.negate()),B=new m(r.mul(B.px,v.beta),B.py,B.pz),k.add(B)}multiply(g){const{endo:v,n:A}=e;$0("scalar",g,Pn,A);let C,x;if(v){const{k1neg:T,k1:N,k2neg:M,k2:k}=v.splitScalar(g);let{p:B,f:U}=this.wNAF(N),{p:I,f:S}=this.wNAF(k);B=w.constTimeNegate(T,B),I=w.constTimeNegate(M,I),I=new m(r.mul(I.px,v.beta),I.py,I.pz),C=B.add(I),x=U.add(S)}else{const{p:T,f:N}=this.wNAF(g);C=T,x=N}return m.normalizeZ([C,x])[0]}multiplyAndAddUnsafe(g,v,A){const C=m.BASE,x=(N,M)=>M===Au||M===Pn||!N.equals(C)?N.multiplyUnsafe(M):N.multiply(M),T=x(this,v).add(x(g,A));return T.is0()?void 0:T}toAffine(g){return h(this,g)}isTorsionFree(){const{h:g,isTorsionFree:v}=e;if(g===Pn)return!0;if(v)return v(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:v}=e;return g===Pn?this:v?v(m,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return i1("isCompressed",g),this.assertValidity(),s(m,this,g)}toHex(g=!0){return i1("isCompressed",g),o1(this.toRawBytes(g))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:y,nBitLength:E}=e,w=$be(m,y?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:l}}function Ybe(t){const e=aJ(t);return XT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Jbe(t){const e=Ybe(t),{Fp:r,n,nByteLength:s,nBitLength:i}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(I){return ii(I,n)}function u(I){return wR(I,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=Zbe({...e,toBytes(I,S,_){const R=S.toAffine(),O=r.toBytes(R.x),P=RI;return i1("isCompressed",_),_?P(Uint8Array.from([S.hasEvenY()?2:3]),O):P(Uint8Array.from([4]),O,r.toBytes(R.y))},fromBytes(I){const S=I.length,_=I[0],R=I.subarray(1);if(S===o&&(_===2||_===3)){const O=Lh(R);if(!q8(O,Pn,r.ORDER))throw new Error("Point is not on curve");const P=f(O);let D;try{D=r.sqrt(P)}catch(q){const z=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+z)}const j=(D&Pn)===Pn;return(_&1)===1!==j&&(D=r.neg(D)),{x:O,y:D}}else if(S===a&&_===4){const O=r.fromBytes(R.subarray(0,r.BYTES)),P=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:O,y:P}}else{const O=o,P=a;throw new Error("invalid Point, expected length of "+O+", or uncompressed "+P+", got "+S)}}});function p(I){const S=n>>Pn;return I>S}function m(I){return p(I)?c(-I):I}const y=(I,S,_)=>Lh(I.slice(S,_));class E{constructor(S,_,R){$0("r",S,Pn,n),$0("s",_,Pn,n),this.r=S,this.s=_,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(S){const _=s;return S=go("compactSignature",S,_*2),new E(y(S,0,_),y(S,_,2*_))}static fromDER(S){const{r:_,s:R}=au.toSig(go("DER",S));return new E(_,R)}assertValidity(){}addRecoveryBit(S){return new E(this.r,this.s,S)}recoverPublicKey(S){const{r:_,s:R,recovery:O}=this,P=C(go("msgHash",S));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const D=O===2||O===3?_+e.n:_;if(D>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(O&1)===0?"02":"03",F=l.fromHex(j+zx(D,r.BYTES)),q=u(D),z=c(-P*q),W=c(R*q),K=l.BASE.multiplyAndAddUnsafe(F,z,W);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return OI(this.toDERHex())}toDERHex(){return au.hexFromSig(this)}toCompactRawBytes(){return OI(this.toCompactHex())}toCompactHex(){const S=s;return zx(this.r,S)+zx(this.s,S)}}const w={isValidPrivateKey(I){try{return d(I),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const I=sJ(e.n);return Hbe(e.randomBytes(I),e.n)},precompute(I=8,S=l.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}};function b(I,S=!0){return l.fromPrivateKey(I).toRawBytes(S)}function g(I){if(typeof I=="bigint")return!1;if(I instanceof l)return!0;const _=go("key",I).length,R=r.BYTES,O=R+1,P=2*R+1;if(!(e.allowedPrivateKeyLengths||s===O))return _===O||_===P}function v(I,S,_=!0){if(g(I)===!0)throw new Error("first arg must be private key");if(g(S)===!1)throw new Error("second arg must be public key");return l.fromHex(S).multiply(d(I)).toRawBytes(_)}const A=e.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const S=Lh(I),_=I.length*8-i;return _>0?S>>BigInt(_):S},C=e.bits2int_modN||function(I){return c(A(I))},x=QT(i);function T(I){return $0("num < 2^"+i,I,Au,x),X1(I,s)}function N(I,S,_=M){if(["recovered","canonical"].some(Q=>Q in _))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:O}=e;let{lowS:P,prehash:D,extraEntropy:j}=_;P==null&&(P=!0),I=go("msgHash",I),Gj(_),D&&(I=go("prehashed msgHash",R(I)));const F=C(I),q=d(S),z=[T(q),T(F)];if(j!=null&&j!==!1){const Q=j===!0?O(r.BYTES):j;z.push(go("extraEntropy",Q))}const W=RI(...z),K=F;function re(Q){const X=A(Q);if(!h(X))return;const ie=u(X),Y=l.BASE.multiply(X).toAffine(),V=c(Y.x);if(V===Au)return;const Z=c(ie*c(K+V*q));if(Z===Au)return;let ne=(Y.x===V?0:2)|Number(Y.y&Pn),ue=Z;return P&&p(Z)&&(ue=m(Z),ne^=1),new E(V,ue,ne)}return{seed:W,k2sig:re}}const M={lowS:e.lowS,prehash:!1},k={lowS:e.lowS,prehash:!1};function B(I,S,_=M){const{seed:R,k2sig:O}=N(I,S,_),P=e;return Zye(P.hash.outputLen,P.nByteLength,P.hmac)(R,O)}l.BASE._setWindowSize(8);function U(I,S,_,R=k){var ne;const O=I;S=go("msgHash",S),_=go("publicKey",_);const{lowS:P,prehash:D,format:j}=R;if(Gj(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&j!=="compact"&&j!=="der")throw new Error("format must be compact or der");const F=typeof O=="string"||Q1(O),q=!F&&!j&&typeof O=="object"&&O!==null&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!F&&!q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,W;try{if(q&&(z=new E(O.r,O.s)),F){try{j!=="compact"&&(z=E.fromDER(O))}catch(ue){if(!(ue instanceof au.Err))throw ue}!z&&j!=="der"&&(z=E.fromCompact(O))}W=l.fromHex(_)}catch{return!1}if(!z||P&&z.hasHighS())return!1;D&&(S=e.hash(S));const{r:K,s:re}=z,Q=C(S),X=u(re),ie=c(Q*X),Y=c(K*X),V=(ne=l.BASE.multiplyAndAddUnsafe(W,ie,Y))==null?void 0:ne.toAffine();return V?c(V.x)===K:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:v,sign:B,verify:U,ProjectivePoint:l,Signature:E,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qbe(t){return{hash:t,hmac:(e,...r)=>KZ(t,e,Zde(...r)),randomBytes:Yde}}function Xbe(t,e){const r=n=>Jbe({...t,...Qbe(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cJ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Wj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ewe=BigInt(0),twe=BigInt(1),vR=BigInt(2),Kj=(t,e)=>(t+e/vR)/e;function rwe(t){const e=cJ,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=io(l,r,e)*l%e,f=io(d,r,e)*l%e,h=io(f,vR,e)*u%e,p=io(h,s,e)*h%e,m=io(p,i,e)*p%e,y=io(m,a,e)*m%e,E=io(y,c,e)*y%e,w=io(E,a,e)*m%e,b=io(w,r,e)*l%e,g=io(b,o,e)*p%e,v=io(g,n,e)*u%e,A=io(v,vR,e);if(!_R.eql(_R.sqr(A),t))throw new Error("Cannot find square root");return A}const _R=V8(cJ,void 0,void 0,{sqrt:rwe}),nwe=Xbe({a:ewe,b:BigInt(7),Fp:_R,n:Wj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Wj,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-twe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=Kj(i*t,e),c=Kj(-n*t,e);let u=ii(t-a*r-c*s,e),l=ii(-a*n-c*i,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},FZ);function swe(t){if(t.length!==130&&t.length!==132)throw new owe({signature:t});const e=BigInt(ru(t,0,32)),r=BigInt(ru(t,32,64)),n=(()=>{const s=+`0x${t.slice(130)}`;if(!Number.isNaN(s))try{return iwe(s)}catch{throw new awe({value:s})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function iwe(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new cwe({value:t})}class owe extends Fr{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Cd($8(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class awe extends Fr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class cwe extends Fr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uwe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function uJ(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function BI(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function G8(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function AR(t){if(!Array.isArray(t))throw new Error("array expected")}function kI(t,e){if(!uJ(!0,e))throw new Error(`${t}: array of strings expected`)}function lwe(t,e){if(!uJ(!1,e))throw new Error(`${t}: array of numbers expected`)}function dwe(...t){const e=i=>i,r=(i,o)=>a=>i(o(a)),n=t.map(i=>i.encode).reduceRight(r,e),s=t.map(i=>i.decode).reduce(r,e);return{encode:n,decode:s}}function fwe(t){const e=typeof t=="string"?t.split(""):t,r=e.length;kI("alphabet",e);const n=new Map(e.map((s,i)=>[s,i]));return{encode:s=>(AR(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${t}`);return e[i]})),decode:s=>(AR(s),s.map(i=>{BI("alphabet.decode",i);const o=n.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${t}`);return o}))}}function hwe(t=""){return BI("join",t),{encode:e=>(kI("join.decode",e),e.join(t)),decode:e=>(BI("join.decode",e),e.split(t))}}function pwe(t,e="="){return G8(t),BI("padding",e),{encode(r){for(kI("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){kI("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const lJ=(t,e)=>e===0?t:lJ(e,t%e),jI=(t,e)=>t+(e-lJ(t,e)),Vx=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function Zj(t,e,r,n){if(AR(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(jI(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${jI(e,r)}`);let s=0,i=0;const o=Vx[e],a=Vx[r]-1,c=[];for(const u of t){if(G8(u),u>=o)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(s=s<<e|u,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=r;i-=r)c.push((s>>i-r&a)>>>0);const l=Vx[i];if(l===void 0)throw new Error("invalid carry");s&=l-1}if(s=s<<r-i&a,!n&&i>=e)throw new Error("Excess padding");if(!n&&s>0)throw new Error(`Non-zero padding: ${s}`);return n&&i>0&&c.push(s>>>0),c}function mwe(t,e=!1){if(G8(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(jI(8,t)>32||jI(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!uwe(r))throw new Error("radix2.encode input should be Uint8Array");return Zj(Array.from(r),8,t,!e)},decode:r=>(lwe("radix2.decode",r),Uint8Array.from(Zj(r,t,8,e)))}}const gwe=dwe(mwe(5),fwe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),pwe(5),hwe(""));function ywe(t){return Rbe(bwe(t))}function bwe(t){const{payload:e,signature:r}=t,{r:n,s,yParity:i}=r,a=new nwe.Signature(BigInt(n),BigInt(s)).addRecoveryBit(i).recoverPublicKey($8(e).substring(2));return _be(a)}function wwe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const l=t.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,f=0;const h=u.length;for(;f!==h&&u[f]===0;)f++,l++;const p=(h-f)*i+1>>>0,m=new Uint8Array(p);for(;f!==h;){let w=u[f],b=0;for(let g=p-1;(w!==0||b<d)&&g!==-1;g--,b++)w+=256*m[g]>>>0,m[g]=w%r>>>0,w=w/r>>>0;if(w!==0)throw new Error("Non-zero carry");d=b,f++}let y=p-d;for(;y!==p&&m[y]===0;)y++;let E=n.repeat(l);for(;y<p;++y)E+=t.charAt(m[y]);return E}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,f=0;for(;u[l]===n;)d++,l++;const h=(u.length-l)*s+1>>>0,p=new Uint8Array(h);for(;l<u.length;){const w=u.charCodeAt(l);if(w>255)return;let b=e[w];if(b===255)return;let g=0;for(let v=h-1;(b!==0||g<f)&&v!==-1;v--,g++)b+=r*p[v]>>>0,p[v]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");f=g,l++}let m=h-f;for(;m!==h&&p[m]===0;)m++;const y=new Uint8Array(d+(h-m));let E=d;for(;m!==h;)y[E++]=p[m++];return y}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Ewe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Eg=wwe(Ewe);function vwe(t){const e=t.length;let r=0,n=0;for(;n<e;){let s=t.charCodeAt(n++);if((s&4294967168)===0){r++;continue}else if((s&4294965248)===0)r+=2;else{if(s>=55296&&s<=56319&&n<e){const i=t.charCodeAt(n);(i&64512)===56320&&(++n,s=((s&1023)<<10)+(i&1023)+65536)}(s&4294901760)===0?r+=3:r+=4}}return r}function _we(t,e,r){const n=t.length;let s=r,i=0;for(;i<n;){let o=t.charCodeAt(i++);if((o&4294967168)===0){e[s++]=o;continue}else if((o&4294965248)===0)e[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<n){const a=t.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[s++]=o>>12&15|224,e[s++]=o>>6&63|128):(e[s++]=o>>18&7|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128)}e[s++]=o&63|128}}const Awe=new TextEncoder,Cwe=50;function Swe(t,e,r){Awe.encodeInto(t,e.subarray(r))}function Iwe(t,e,r){t.length>Cwe?Swe(t,e,r):_we(t,e,r)}const Twe=4096;function dJ(t,e,r){let n=e;const s=n+r,i=[];let o="";for(;n<s;){const a=t[n++];if((a&128)===0)i.push(a);else if((a&224)===192){const c=t[n++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,u=t[n++]&63;i.push((a&31)<<12|c<<6|u)}else if((a&248)===240){const c=t[n++]&63,u=t[n++]&63,l=t[n++]&63;let d=(a&7)<<18|c<<12|u<<6|l;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=Twe&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Pwe=new TextDecoder,xwe=200;function Owe(t,e,r){const n=t.subarray(e,e+r);return Pwe.decode(n)}function Rwe(t,e,r){return r>xwe?Owe(t,e,r):dJ(t,e,r)}class Av{constructor(e,r){this.type=e,this.data=r}}class $i extends Error{constructor(e){super(e);const r=Object.create($i.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:$i.name})}}const ry=4294967295;function Nwe(t,e,r){const n=r/4294967296,s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function fJ(t,e,r){const n=Math.floor(r/4294967296),s=r;t.setUint32(e,n),t.setUint32(e+4,s)}function hJ(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function Bwe(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const kwe=-1,jwe=4294967296-1,Dwe=17179869184-1;function Mwe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Dwe)if(e===0&&t<=jwe){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,e<<2|r&3),i.setUint32(4,n),s}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),fJ(n,4,t),r}}function Uwe(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,s=Math.floor(n/1e9);return{sec:r+s,nsec:n-s*1e9}}function Lwe(t){if(t instanceof Date){const e=Uwe(t);return Mwe(e)}else return null}function Fwe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),s=(r&3)*4294967296+n,i=r>>>2;return{sec:s,nsec:i}}case 12:{const r=hJ(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new $i(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Hwe(t){const e=Fwe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const qwe={type:kwe,encode:Lwe,decode:Hwe};class DI{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(qwe)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const s=-1-e;this.builtInEncoders[s]=r,this.builtInDecoders[s]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const s=this.builtInEncoders[n];if(s!=null){const i=s(e,r);if(i!=null){const o=-1-n;return new Av(o,i)}}}for(let n=0;n<this.encoders.length;n++){const s=this.encoders[n];if(s!=null){const i=s(e,r);if(i!=null){const o=n;return new Av(o,i)}}}return e instanceof Av?e:null}decode(e,r,n){const s=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return s?s(e,r,n):new Av(r,e)}}DI.defaultCodec=new DI;function zwe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function CR(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):zwe(t)?new Uint8Array(t):Uint8Array.from(t)}const $we=100,Vwe=2048;let Gwe=class pJ{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??DI.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??$we,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??Vwe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new pJ({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),s=new DataView(r);n.set(this.bytes),this.view=s,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=vwe(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),Iwe(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=CR(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const s of e)this.doEncode(s,r+1)}countWithoutUndefined(e,r){let n=0;for(const s of r)e[s]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of n){const o=e[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),s=n.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Nwe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),fJ(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Wwe(t,e){return new Gwe(e).encodeSharedRef(t)}function Gx(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Kwe=16,Zwe=16;class Ywe{constructor(e=Kwe,r=Zwe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const s=this.caches[n-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return i.str}return null}store(e,r){const n=this.caches[e.length-1],s={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=s:n.push(s)}decode(e,r,n){const s=this.find(e,r,n);if(s!=null)return this.hit++,s;this.miss++;const i=dJ(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,i),i}}const SR="array",Yb="map_key",mJ="map_value",Jwe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new $i("The type of key must be string or number but "+typeof t)};class Qwe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=SR,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=Yb,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===SR){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===Yb||e.type===mJ){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const ny=-1,W8=new DataView(new ArrayBuffer(0)),Xwe=new Uint8Array(W8.buffer);try{W8.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const Yj=new RangeError("Insufficient data"),e1e=new Ywe;let t1e=class gJ{constructor(e){this.totalPos=0,this.pos=0,this.view=W8,this.bytes=Xwe,this.headByte=ny,this.stack=new Qwe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??DI.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??ry,this.maxBinLength=(e==null?void 0:e.maxBinLength)??ry,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??ry,this.maxMapLength=(e==null?void 0:e.maxMapLength)??ry,this.maxExtLength=(e==null?void 0:e.maxExtLength)??ry,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:e1e,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??Jwe}clone(){return new gJ({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=ny,this.stack.reset()}setBuffer(e){const r=CR(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===ny&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=CR(e),s=new Uint8Array(r.length+n.length);s.set(r),s.set(n,r.length),this.setBuffer(s)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Gx(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,s=-1;for await(const i of e){if(r&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(s=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e<160){const s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else{const s=e-160;r=this.decodeString(s,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const s=this.lookU8();r=this.decodeString(s,1)}else if(e===218){const s=this.lookU16();r=this.decodeString(s,2)}else if(e===219){const s=this.lookU32();r=this.decodeString(s,4)}else if(e===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(e===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(e===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(e===196){const s=this.lookU8();r=this.decodeBinary(s,1)}else if(e===197){const s=this.lookU16();r=this.decodeBinary(s,2)}else if(e===198){const s=this.lookU32();r=this.decodeBinary(s,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const s=this.lookU8();r=this.decodeExtension(s,1)}else if(e===200){const s=this.lookU16();r=this.decodeExtension(s,2)}else if(e===201){const s=this.lookU32();r=this.decodeExtension(s,4)}else throw new $i(`Unrecognized type byte: ${Gx(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const s=n.top();if(s.type===SR)if(s.array[s.position]=r,s.position++,s.position===s.size)r=s.array,n.release(s);else continue e;else if(s.type===Yb){if(r==="__proto__")throw new $i("The key __proto__ is not allowed");s.key=this.mapKeyConverter(r),s.type=mJ;continue e}else if(s.map[s.key]=r,s.readCount++,s.readCount===s.size)r=s.map,n.release(s);else{s.key=null,s.type=Yb;continue e}}return r}}readHeadByte(){return this.headByte===ny&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=ny}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new $i(`Unrecognized array type byte: ${Gx(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new $i(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new $i(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){var i;if(e>this.maxStrLength)throw new $i(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw Yj;const n=this.pos+r;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,n,e):s=Rwe(this.bytes,n,e),this.pos+=r+e,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Yb:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new $i(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw Yj;const n=this.pos+r,s=this.bytes.subarray(n,n+e);return this.pos+=r+e,s}decodeExtension(e,r){if(e>this.maxExtLength)throw new $i(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),s=this.decodeBinary(e,r+1);return this.extensionCodec.decode(s,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Bwe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=hJ(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function r1e(t,e){return new t1e(e).decode(t)}function K8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function yJ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?K8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Jb(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=yJ(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return K8(r)}function n1e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,E=0,w=p.length;E!==w&&p[E]===0;)E++,m++;for(var b=(w-E)*l+1>>>0,g=new Uint8Array(b);E!==w;){for(var v=p[E],A=0,C=b-1;(v!==0||A<y)&&C!==-1;C--,A++)v+=256*g[C]>>>0,g[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");y=A,E++}for(var x=b-y;x!==b&&g[x]===0;)x++;for(var T=c.repeat(m);x<b;++x)T+=t.charAt(g[x]);return T}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,E=0;p[m]===c;)y++,m++;for(var w=(p.length-m)*u+1>>>0,b=new Uint8Array(w);p[m];){var g=r[p.charCodeAt(m)];if(g===255)return;for(var v=0,A=w-1;(g!==0||v<E)&&A!==-1;A--,v++)g+=a*b[A]>>>0,b[A]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=v,m++}if(p[m]!==" "){for(var C=w-E;C!==w&&b[C]===0;)C++;for(var x=new Uint8Array(y+(w-C)),T=y;C!==w;)x[T++]=b[C++];return x}}}function h(p){var m=f(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var s1e=n1e,i1e=s1e;const o1e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},a1e=t=>new TextEncoder().encode(t),c1e=t=>new TextDecoder().decode(t);class u1e{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class l1e{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return bJ(this,e)}}class d1e{constructor(e){this.decoders=e}or(e){return bJ(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const bJ=(t,e)=>new d1e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class f1e{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new u1e(e,r,n),this.decoder=new l1e(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const eP=({name:t,prefix:e,encode:r,decode:n})=>new f1e(t,e,r,n),eE=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=i1e(r,e);return eP({prefix:t,name:e,encode:n,decode:i=>o1e(s(i))})},h1e=(t,e,r,n)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const d=s[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},p1e=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Jn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>eP({prefix:e,name:t,encode(s){return p1e(s,n,r)},decode(s){return h1e(s,n,r,t)}}),m1e=eP({prefix:"\0",name:"identity",encode:t=>c1e(t),decode:t=>a1e(t)}),g1e=Object.freeze(Object.defineProperty({__proto__:null,identity:m1e},Symbol.toStringTag,{value:"Module"})),y1e=Jn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),b1e=Object.freeze(Object.defineProperty({__proto__:null,base2:y1e},Symbol.toStringTag,{value:"Module"})),w1e=Jn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),E1e=Object.freeze(Object.defineProperty({__proto__:null,base8:w1e},Symbol.toStringTag,{value:"Module"})),v1e=eE({prefix:"9",name:"base10",alphabet:"0123456789"}),_1e=Object.freeze(Object.defineProperty({__proto__:null,base10:v1e},Symbol.toStringTag,{value:"Module"})),A1e=Jn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),C1e=Jn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),S1e=Object.freeze(Object.defineProperty({__proto__:null,base16:A1e,base16upper:C1e},Symbol.toStringTag,{value:"Module"})),I1e=Jn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),T1e=Jn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),P1e=Jn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),x1e=Jn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),O1e=Jn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),R1e=Jn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),N1e=Jn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),B1e=Jn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),k1e=Jn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),j1e=Object.freeze(Object.defineProperty({__proto__:null,base32:I1e,base32hex:O1e,base32hexpad:N1e,base32hexpadupper:B1e,base32hexupper:R1e,base32pad:P1e,base32padupper:x1e,base32upper:T1e,base32z:k1e},Symbol.toStringTag,{value:"Module"})),D1e=eE({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),M1e=eE({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),U1e=Object.freeze(Object.defineProperty({__proto__:null,base36:D1e,base36upper:M1e},Symbol.toStringTag,{value:"Module"})),L1e=eE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),F1e=eE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),H1e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:L1e,base58flickr:F1e},Symbol.toStringTag,{value:"Module"})),q1e=Jn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),z1e=Jn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$1e=Jn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),V1e=Jn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),G1e=Object.freeze(Object.defineProperty({__proto__:null,base64:q1e,base64pad:z1e,base64url:$1e,base64urlpad:V1e},Symbol.toStringTag,{value:"Module"})),wJ=Array.from(""),W1e=wJ.reduce((t,e,r)=>(t[r]=e,t),[]),K1e=wJ.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Z1e(t){return t.reduce((e,r)=>(e+=W1e[r],e),"")}function Y1e(t){const e=[];for(const r of t){const n=K1e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const J1e=eP({prefix:"",name:"base256emoji",encode:Z1e,decode:Y1e}),Q1e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:J1e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Jj={...g1e,...b1e,...E1e,..._1e,...S1e,...j1e,...U1e,...H1e,...G1e,...Q1e};function EJ(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Qj=EJ("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Wx=EJ("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=yJ(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),vJ={utf8:Qj,"utf-8":Qj,hex:Jj.base16,latin1:Wx,ascii:Wx,binary:Wx,...Jj};function Co(t,e="utf8"){const r=vJ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?K8(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function mi(t,e="utf8"){const r=vJ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const X1e={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Kx,Xj;function _J(){if(Xj)return Kx;Xj=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function s(o,a,c){let u=`
`+o+" = ";for(let l=0;l<a.length;l+=2){if(c===32)u+=n(a[l]).toUpperCase(),u+=" ",u+=n(a[l+1]).toUpperCase();else if(c===64)u+=n(a[l+1]).toUpperCase(),u+=n(a[l]).toUpperCase();else throw new Error("Invalid size "+c);l%6===4?u+=`
`+new Array(o.length+4).join(" "):l<a.length-2&&(u+=" ")}console.log(u)}function i(o,a,c){let u=new Date().getTime();const l=new Uint8Array(a);for(let f=0;f<a;f++)l[f]=f%256;const d=new Date().getTime();console.log("Generated random input in "+(d-u)+"ms"),u=d;for(let f=0;f<c;f++){const h=o(l),p=new Date().getTime(),m=p-u;u=p,console.log("Hashed in "+m+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(m/1e3)*100)/100+" MB PER SECOND")}}return Kx={normalizeInput:e,toHex:r,debugPrint:s,testSpeed:i},Kx}var Zx,eD;function eEe(){if(eD)return Zx;eD=1;const t=_J();function e(E,w,b){const g=E[w]+E[b];let v=E[w+1]+E[b+1];g>=4294967296&&v++,E[w]=g,E[w+1]=v}function r(E,w,b,g){let v=E[w]+b;b<0&&(v+=4294967296);let A=E[w+1]+g;v>=4294967296&&A++,E[w]=v,E[w+1]=A}function n(E,w){return E[w]^E[w+1]<<8^E[w+2]<<16^E[w+3]<<24}function s(E,w,b,g,v,A){const C=u[v],x=u[v+1],T=u[A],N=u[A+1];e(c,E,w),r(c,E,C,x);let M=c[g]^c[E],k=c[g+1]^c[E+1];c[g]=k,c[g+1]=M,e(c,b,g),M=c[w]^c[b],k=c[w+1]^c[b+1],c[w]=M>>>24^k<<8,c[w+1]=k>>>24^M<<8,e(c,E,w),r(c,E,T,N),M=c[g]^c[E],k=c[g+1]^c[E+1],c[g]=M>>>16^k<<16,c[g+1]=k>>>16^M<<16,e(c,b,g),M=c[w]^c[b],k=c[w+1]^c[b+1],c[w]=k>>>31^M<<1,c[w+1]=M>>>31^k<<1}const i=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(E){return E*2})),c=new Uint32Array(32),u=new Uint32Array(32);function l(E,w){let b=0;for(b=0;b<16;b++)c[b]=E.h[b],c[b+16]=i[b];for(c[24]=c[24]^E.t,c[25]=c[25]^E.t/4294967296,w&&(c[28]=~c[28],c[29]=~c[29]),b=0;b<32;b++)u[b]=n(E.b,4*b);for(b=0;b<12;b++)s(0,8,16,24,a[b*16+0],a[b*16+1]),s(2,10,18,26,a[b*16+2],a[b*16+3]),s(4,12,20,28,a[b*16+4],a[b*16+5]),s(6,14,22,30,a[b*16+6],a[b*16+7]),s(0,10,20,30,a[b*16+8],a[b*16+9]),s(2,12,22,24,a[b*16+10],a[b*16+11]),s(4,14,16,26,a[b*16+12],a[b*16+13]),s(6,8,18,28,a[b*16+14],a[b*16+15]);for(b=0;b<16;b++)E.h[b]=E.h[b]^c[b]^c[b+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function f(E,w,b,g){if(E===0||E>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(w&&w.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(b&&b.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(g&&g.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const v={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:E};d.fill(0),d[0]=E,w&&(d[1]=w.length),d[2]=1,d[3]=1,b&&d.set(b,32),g&&d.set(g,48);for(let A=0;A<16;A++)v.h[A]=i[A]^n(d,A*4);return w&&(h(v,w),v.c=128),v}function h(E,w){for(let b=0;b<w.length;b++)E.c===128&&(E.t+=E.c,l(E,!1),E.c=0),E.b[E.c++]=w[b]}function p(E){for(E.t+=E.c;E.c<128;)E.b[E.c++]=0;l(E,!0);const w=new Uint8Array(E.outlen);for(let b=0;b<E.outlen;b++)w[b]=E.h[b>>2]>>8*(b&3);return w}function m(E,w,b,g,v){b=b||64,E=t.normalizeInput(E),g&&(g=t.normalizeInput(g)),v&&(v=t.normalizeInput(v));const A=f(b,w,g,v);return h(A,E),p(A)}function y(E,w,b,g,v){const A=m(E,w,b,g,v);return t.toHex(A)}return Zx={blake2b:m,blake2bHex:y,blake2bInit:f,blake2bUpdate:h,blake2bFinal:p},Zx}var Yx,tD;function tEe(){if(tD)return Yx;tD=1;const t=_J();function e(p,m){return p[m]^p[m+1]<<8^p[m+2]<<16^p[m+3]<<24}function r(p,m,y,E,w,b){o[p]=o[p]+o[m]+w,o[E]=n(o[E]^o[p],16),o[y]=o[y]+o[E],o[m]=n(o[m]^o[y],12),o[p]=o[p]+o[m]+b,o[E]=n(o[E]^o[p],8),o[y]=o[y]+o[E],o[m]=n(o[m]^o[y],7)}function n(p,m){return p>>>m^p<<32-m}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),i=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(p,m){let y=0;for(y=0;y<8;y++)o[y]=p.h[y],o[y+8]=s[y];for(o[12]^=p.t,o[13]^=p.t/4294967296,m&&(o[14]=~o[14]),y=0;y<16;y++)a[y]=e(p.b,4*y);for(y=0;y<10;y++)r(0,4,8,12,a[i[y*16+0]],a[i[y*16+1]]),r(1,5,9,13,a[i[y*16+2]],a[i[y*16+3]]),r(2,6,10,14,a[i[y*16+4]],a[i[y*16+5]]),r(3,7,11,15,a[i[y*16+6]],a[i[y*16+7]]),r(0,5,10,15,a[i[y*16+8]],a[i[y*16+9]]),r(1,6,11,12,a[i[y*16+10]],a[i[y*16+11]]),r(2,7,8,13,a[i[y*16+12]],a[i[y*16+13]]),r(3,4,9,14,a[i[y*16+14]],a[i[y*16+15]]);for(y=0;y<8;y++)p.h[y]^=o[y]^o[y+8]}function u(p,m){if(!(p>0&&p<=32))throw new Error("Incorrect output length, should be in [1, 32]");const y=m?m.length:0;if(m&&!(y>0&&y<=32))throw new Error("Incorrect key length, should be in [1, 32]");const E={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:p};return E.h[0]^=16842752^y<<8^p,y>0&&(l(E,m),E.c=64),E}function l(p,m){for(let y=0;y<m.length;y++)p.c===64&&(p.t+=p.c,c(p,!1),p.c=0),p.b[p.c++]=m[y]}function d(p){for(p.t+=p.c;p.c<64;)p.b[p.c++]=0;c(p,!0);const m=new Uint8Array(p.outlen);for(let y=0;y<p.outlen;y++)m[y]=p.h[y>>2]>>8*(y&3)&255;return m}function f(p,m,y){y=y||32,p=t.normalizeInput(p);const E=u(y,m);return l(E,p),d(E)}function h(p,m,y){const E=f(p,m,y);return t.toHex(E)}return Yx={blake2s:f,blake2sHex:h,blake2sInit:u,blake2sUpdate:l,blake2sFinal:d},Yx}var Jx,rD;function rEe(){if(rD)return Jx;rD=1;const t=eEe(),e=tEe();return Jx={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Jx}var nEe=rEe(),sEe={};const iEe=":";function Pu(t){const[e,r]=t.split(iEe);return{namespace:e,reference:r}}function AJ(t,e){return t.includes(":")?[t]:e.chains||[]}var oEe=Object.defineProperty,aEe=Object.defineProperties,cEe=Object.getOwnPropertyDescriptors,nD=Object.getOwnPropertySymbols,uEe=Object.prototype.hasOwnProperty,lEe=Object.prototype.propertyIsEnumerable,IR=(t,e,r)=>e in t?oEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sD=(t,e)=>{for(var r in e||(e={}))uEe.call(e,r)&&IR(t,r,e[r]);if(nD)for(var r of nD(e))lEe.call(e,r)&&IR(t,r,e[r]);return t},dEe=(t,e)=>aEe(t,cEe(e)),iD=(t,e,r)=>IR(t,typeof e!="symbol"?e+"":e,r);const fEe="ReactNative",Qi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},hEe="js";function MI(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Bd(){return!Mu.getDocument()&&!!Mu.getNavigator()&&navigator.product===fEe}function pEe(){return Bd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function mEe(){return Bd()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function vg(){return!MI()&&!!Mu.getNavigator()&&!!Mu.getDocument()}function tE(){return Bd()?Qi.reactNative:MI()?Qi.node:vg()?Qi.browser:Qi.unknown}function oD(){var t;try{return Bd()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function gEe(t,e){const r=new URLSearchParams(t);return Object.entries(e).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function yEe(t){var e,r;const n=CJ();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),dEe(sD(sD({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(s){return console.warn("Error populating app metadata",s),t||n}}function CJ(){return $ye.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function bEe(){if(tE()===Qi.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=Mye();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function wEe(){var t;const e=tE();return e===Qi.browser?[e,((t=Mu.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function SJ(t,e,r){const n=bEe(),s=wEe();return[[t,e].join("-"),[hEe,r].join("-"),n,s].join("/")}function EEe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=r.split("?"),l=SJ(t,e,n),d={auth:s,ua:l,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},f=gEe(u[1]||"",d);return u[0]+"?"+f}function th(t,e){return t.filter(r=>e.includes(r)).length===t.length}function TR(t){return Object.fromEntries(t.entries())}function PR(t){return new Map(Object.entries(t))}function Uf(t=je.FIVE_MINUTES,e){const r=je.toMiliseconds(t||je.FIVE_MINUTES);let n,s,i,o;return{resolve:a=>{i&&n&&(clearTimeout(i),n(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},r),n=a,s=c})}}function rc(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const o=await t;n(o)}catch(o){s(o)}clearTimeout(i)})}function IJ(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function vEe(t){return IJ("topic",t)}function _Ee(t){return IJ("id",t)}function TJ(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function dn(t,e){return je.fromMiliseconds(Date.now()+je.toMiliseconds(t))}function Ya(t){return Date.now()>=je.toMiliseconds(t)}function hr(t,e){return`${t}${e?`:${e}`:""}`}function ac(t=[],e=[]){return[...new Set([...t,...e])]}async function AEe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=CEe(i,t,e),a=tE();if(a===Qi.browser){if(!((n=Mu.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}SEe(o)}else a===Qi.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function CEe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${xEe(n,!0)}`}else s=`${s}/wc?${n}`;return s}function SEe(t){let e="_self";PEe()?e="_top":(TEe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function IEe(t,e){let r="";try{if(vg()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function aD(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function cD(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Z8(){return typeof process<"u"&&sEe.IS_VITEST==="true"}function TEe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function PEe(){try{return window.self!==window.top}catch{return!1}}function xEe(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function PJ(t){return Buffer.from(t,"base64").toString("utf-8")}function OEe(t){return new Promise(e=>setTimeout(e,t))}let REe=class{constructor({limit:e}){iD(this,"limit"),iD(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const Cv=BigInt(2**32-1),uD=BigInt(32);function xJ(t,e=!1){return e?{h:Number(t&Cv),l:Number(t>>uD&Cv)}:{h:Number(t>>uD&Cv)|0,l:Number(t&Cv)|0}}function OJ(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:o,l:a}=xJ(t[i],e);[n[i],s[i]]=[o,a]}return[n,s]}const lD=(t,e,r)=>t>>>r,dD=(t,e,r)=>t<<32-r|e>>>r,Ol=(t,e,r)=>t>>>r|e<<32-r,Rl=(t,e,r)=>t<<32-r|e>>>r,Nb=(t,e,r)=>t<<64-r|e>>>r-32,Bb=(t,e,r)=>t>>>r-32|e<<64-r,NEe=(t,e)=>e,BEe=(t,e)=>t,kEe=(t,e,r)=>t<<r|e>>>32-r,jEe=(t,e,r)=>e<<r|t>>>32-r,DEe=(t,e,r)=>e<<r-32|t>>>64-r,MEe=(t,e,r)=>t<<r-32|e>>>64-r;function Ho(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const Y8=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),J8=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,UEe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),LEe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,FEe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),HEe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Lp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function tP(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Uu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function da(t,...e){if(!tP(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function rP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Uu(t.outputLen),Uu(t.blockLen)}function Sd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Q8(t,e){da(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function a1(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function To(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Qx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ia(t,e){return t<<32-e|t>>>e}const RJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function NJ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Jc=RJ?t=>t:t=>NJ(t);function qEe(t){for(let e=0;e<t.length;e++)t[e]=NJ(t[e]);return t}const Nl=RJ?t=>t:qEe,BJ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",zEe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function V0(t){if(da(t),BJ)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=zEe[t[r]];return e}const Tc={_0:48,_9:57,A:65,F:70,a:97,f:102};function fD(t){if(t>=Tc._0&&t<=Tc._9)return t-Tc._0;if(t>=Tc.A&&t<=Tc.F)return t-(Tc.A-10);if(t>=Tc.a&&t<=Tc.f)return t-(Tc.a-10)}function UI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(BJ)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=fD(t.charCodeAt(i)),a=fD(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function kJ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function aa(t){return typeof t=="string"&&(t=kJ(t)),da(t),t}function Ml(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];da(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}let nP=class{};function rE(t){const e=n=>t().update(aa(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function $Ee(t){const e=(n,s)=>t(s).update(aa(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function yp(t=32){if(Lp&&typeof Lp.getRandomValues=="function")return Lp.getRandomValues(new Uint8Array(t));if(Lp&&typeof Lp.randomBytes=="function")return Uint8Array.from(Lp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const VEe=BigInt(0),sy=BigInt(1),GEe=BigInt(2),WEe=BigInt(7),KEe=BigInt(256),ZEe=BigInt(113),jJ=[],DJ=[],MJ=[];for(let t=0,e=sy,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],jJ.push(2*(5*n+r)),DJ.push((t+1)*(t+2)/2%64);let s=VEe;for(let i=0;i<7;i++)e=(e<<sy^(e>>WEe)*ZEe)%KEe,e&GEe&&(s^=sy<<(sy<<BigInt(i))-sy);MJ.push(s)}const UJ=OJ(MJ,!0),YEe=UJ[0],JEe=UJ[1],hD=(t,e,r)=>r>32?DEe(t,e,r):kEe(t,e,r),pD=(t,e,r)=>r>32?MEe(t,e,r):jEe(t,e,r);function QEe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=hD(u,l,1)^r[a],f=pD(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=DJ[o],c=hD(s,i,a),u=pD(s,i,a),l=jJ[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=YEe[n],t[1]^=JEe[n]}To(r)}let XEe=class LJ extends nP{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,Uu(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=a1(this.state)}clone(){return this._cloneInto()}keccak(){Nl(this.state32),QEe(this.state32,this.rounds),Nl(this.state32),this.posOut=0,this.pos=0}update(e){Sd(this),e=aa(e),da(e);const{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Sd(this,!1),da(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Uu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Q8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,To(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new LJ(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const eve=(t,e,r)=>rE(()=>new XEe(e,t,r)),tve=eve(1,136,256/8);function rve(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}function nve(t,e,r){return t&e^~t&r}function sve(t,e,r){return t&e^t&r^e&r}let FJ=class extends nP{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Qx(this.buffer)}update(e){Sd(this),e=aa(e),da(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Qx(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sd(this),Q8(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,To(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;rve(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Qx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const ol=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ns=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ss=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ive=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),al=new Uint32Array(64);class ove extends FJ{constructor(e=32){super(64,e,8,!1),this.A=ol[0]|0,this.B=ol[1]|0,this.C=ol[2]|0,this.D=ol[3]|0,this.E=ol[4]|0,this.F=ol[5]|0,this.G=ol[6]|0,this.H=ol[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)al[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=al[d-15],h=al[d-2],p=Ia(f,7)^Ia(f,18)^f>>>3,m=Ia(h,17)^Ia(h,19)^h>>>10;al[d]=m+al[d-7]+p+al[d-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=Ia(a,6)^Ia(a,11)^Ia(a,25),h=l+f+nve(a,c,u)+ive[d]+al[d]|0,p=(Ia(n,2)^Ia(n,13)^Ia(n,22))+sve(n,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+p|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,s,i,o,a,c,u,l)}roundClean(){To(al)}destroy(){this.set(0,0,0,0,0,0,0,0),To(this.buffer)}}const HJ=OJ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ave=HJ[0],cve=HJ[1],cl=new Uint32Array(80),ul=new Uint32Array(80);let X8=class extends FJ{constructor(e=64){super(128,e,16,!1),this.Ah=ss[0]|0,this.Al=ss[1]|0,this.Bh=ss[2]|0,this.Bl=ss[3]|0,this.Ch=ss[4]|0,this.Cl=ss[5]|0,this.Dh=ss[6]|0,this.Dl=ss[7]|0,this.Eh=ss[8]|0,this.El=ss[9]|0,this.Fh=ss[10]|0,this.Fl=ss[11]|0,this.Gh=ss[12]|0,this.Gl=ss[13]|0,this.Hh=ss[14]|0,this.Hl=ss[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)cl[b]=e.getUint32(r),ul[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=cl[b-15]|0,v=ul[b-15]|0,A=Ol(g,v,1)^Ol(g,v,8)^lD(g,v,7),C=Rl(g,v,1)^Rl(g,v,8)^dD(g,v,7),x=cl[b-2]|0,T=ul[b-2]|0,N=Ol(x,T,19)^Nb(x,T,61)^lD(x,T,6),M=Rl(x,T,19)^Bb(x,T,61)^dD(x,T,6),k=UEe(C,M,ul[b-7],ul[b-16]),B=LEe(k,A,N,cl[b-7],cl[b-16]);cl[b]=B|0,ul[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=Ol(d,f,14)^Ol(d,f,18)^Nb(d,f,41),v=Rl(d,f,14)^Rl(d,f,18)^Bb(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=FEe(w,v,C,cve[b],ul[b]),T=HEe(x,E,g,A,ave[b],cl[b]),N=x|0,M=Ol(n,s,28)^Nb(n,s,34)^Nb(n,s,39),k=Rl(n,s,28)^Bb(n,s,34)^Bb(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Ho(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=Y8(N,k,U);n=J8(I,T,M,B),s=I|0}({h:n,l:s}=Ho(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Ho(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Ho(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ho(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=Ho(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Ho(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Ho(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=Ho(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){To(cl,ul)}destroy(){To(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class uve extends X8{constructor(){super(48),this.Ah=ns[0]|0,this.Al=ns[1]|0,this.Bh=ns[2]|0,this.Bl=ns[3]|0,this.Ch=ns[4]|0,this.Cl=ns[5]|0,this.Dh=ns[6]|0,this.Dl=ns[7]|0,this.Eh=ns[8]|0,this.El=ns[9]|0,this.Fh=ns[10]|0,this.Fl=ns[11]|0,this.Gh=ns[12]|0,this.Gl=ns[13]|0,this.Hh=ns[14]|0,this.Hl=ns[15]|0}}const is=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class lve extends X8{constructor(){super(32),this.Ah=is[0]|0,this.Al=is[1]|0,this.Bh=is[2]|0,this.Bl=is[3]|0,this.Ch=is[4]|0,this.Cl=is[5]|0,this.Dh=is[6]|0,this.Dl=is[7]|0,this.Eh=is[8]|0,this.El=is[9]|0,this.Fh=is[10]|0,this.Fl=is[11]|0,this.Gh=is[12]|0,this.Gl=is[13]|0,this.Hh=is[14]|0,this.Hl=is[15]|0}}const sP=rE(()=>new ove),dve=rE(()=>new X8),fve=rE(()=>new uve),hve=rE(()=>new lve),pve=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),bn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),He=new Uint32Array(32);function ll(t,e,r,n,s,i){const o=s[i],a=s[i+1];let c=He[2*t],u=He[2*t+1],l=He[2*e],d=He[2*e+1],f=He[2*r],h=He[2*r+1],p=He[2*n],m=He[2*n+1],y=Y8(c,l,o);u=J8(y,u,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^u,Dl:p^c},{Dh:m,Dl:p}={Dh:NEe(m,p),Dl:BEe(m)},{h,l:f}=Ho(h,f,m,p),{Bh:d,Bl:l}={Bh:d^h,Bl:l^f},{Bh:d,Bl:l}={Bh:Ol(d,l,24),Bl:Rl(d,l,24)},He[2*t]=c,He[2*t+1]=u,He[2*e]=l,He[2*e+1]=d,He[2*r]=f,He[2*r+1]=h,He[2*n]=p,He[2*n+1]=m}function dl(t,e,r,n,s,i){const o=s[i],a=s[i+1];let c=He[2*t],u=He[2*t+1],l=He[2*e],d=He[2*e+1],f=He[2*r],h=He[2*r+1],p=He[2*n],m=He[2*n+1],y=Y8(c,l,o);u=J8(y,u,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^u,Dl:p^c},{Dh:m,Dl:p}={Dh:Ol(m,p,16),Dl:Rl(m,p,16)},{h,l:f}=Ho(h,f,m,p),{Bh:d,Bl:l}={Bh:d^h,Bl:l^f},{Bh:d,Bl:l}={Bh:Nb(d,l,63),Bl:Bb(d,l,63)},He[2*t]=c,He[2*t+1]=u,He[2*e]=l,He[2*e+1]=d,He[2*r]=f,He[2*r+1]=h,He[2*n]=p,He[2*n+1]=m}function mve(t,e={},r,n,s){if(Uu(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=e;if(i!==void 0&&(i.length<1||i.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class gve extends nP{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Uu(e),Uu(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=a1(this.buffer)}update(e){Sd(this),e=aa(e),da(e);const{blockLen:r,buffer:n,buffer32:s}=this,i=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===r&&(Nl(s),this.compress(s,0,!1),Nl(s),this.pos=0);const u=Math.min(r-this.pos,i-c),l=o+c;if(u===r&&!(l%4)&&c+u<i){const d=new Uint32Array(a,l,Math.floor((i-c)/4));Nl(d);for(let f=0;c+r<i;f+=s.length,c+=r)this.length+=r,this.compress(d,f,!1);Nl(d);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){Sd(this),Q8(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,To(this.buffer.subarray(r)),Nl(n),this.compress(n,0,!0),Nl(n);const s=a1(e);this.get().forEach((i,o)=>s[o]=Jc(i))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:s,destroyed:i,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=i,e.finished=s,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class yve extends gve{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=bn[0]|0,this.v0h=bn[1]|0,this.v1l=bn[2]|0,this.v1h=bn[3]|0,this.v2l=bn[4]|0,this.v2h=bn[5]|0,this.v3l=bn[6]|0,this.v3h=bn[7]|0,this.v4l=bn[8]|0,this.v4h=bn[9]|0,this.v5l=bn[10]|0,this.v5h=bn[11]|0,this.v6l=bn[12]|0,this.v6h=bn[13]|0,this.v7l=bn[14]|0,this.v7h=bn[15]|0,mve(r,e,64,16,16);let{key:n,personalization:s,salt:i}=e,o=0;if(n!==void 0&&(n=aa(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=aa(i);const a=a1(i);this.v4l^=Jc(a[0]),this.v4h^=Jc(a[1]),this.v5l^=Jc(a[2]),this.v5h^=Jc(a[3])}if(s!==void 0){s=aa(s);const a=a1(s);this.v6l^=Jc(a[0]),this.v6h^=Jc(a[1]),this.v7l^=Jc(a[2]),this.v7h^=Jc(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:u,v4h:l,v5l:d,v5h:f,v6l:h,v6h:p,v7l:m,v7h:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=l|0,this.v5l=d|0,this.v5h=f|0,this.v6l=h|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(e,r,n){this.get().forEach((c,u)=>He[u]=c),He.set(bn,16);let{h:s,l:i}=xJ(BigInt(this.length));He[24]=bn[8]^i,He[25]=bn[9]^s,n&&(He[28]=~He[28],He[29]=~He[29]);let o=0;const a=pve;for(let c=0;c<12;c++)ll(0,4,8,12,e,r+2*a[o++]),dl(0,4,8,12,e,r+2*a[o++]),ll(1,5,9,13,e,r+2*a[o++]),dl(1,5,9,13,e,r+2*a[o++]),ll(2,6,10,14,e,r+2*a[o++]),dl(2,6,10,14,e,r+2*a[o++]),ll(3,7,11,15,e,r+2*a[o++]),dl(3,7,11,15,e,r+2*a[o++]),ll(0,5,10,15,e,r+2*a[o++]),dl(0,5,10,15,e,r+2*a[o++]),ll(1,6,11,12,e,r+2*a[o++]),dl(1,6,11,12,e,r+2*a[o++]),ll(2,7,8,13,e,r+2*a[o++]),dl(2,7,8,13,e,r+2*a[o++]),ll(3,4,9,14,e,r+2*a[o++]),dl(3,4,9,14,e,r+2*a[o++]);this.v0l^=He[0]^He[16],this.v0h^=He[1]^He[17],this.v1l^=He[2]^He[18],this.v1h^=He[3]^He[19],this.v2l^=He[4]^He[20],this.v2h^=He[5]^He[21],this.v3l^=He[6]^He[22],this.v3h^=He[7]^He[23],this.v4l^=He[8]^He[24],this.v4h^=He[9]^He[25],this.v5l^=He[10]^He[26],this.v5h^=He[11]^He[27],this.v6l^=He[12]^He[28],this.v6h^=He[13]^He[29],this.v7l^=He[14]^He[30],this.v7h^=He[15]^He[31],To(He)}destroy(){this.destroyed=!0,To(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bve=$Ee(t=>new yve(t)),wve="https://rpc.walletconnect.org/v1";function qJ(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(tve(r)).toString("hex")}async function Eve(t,e,r,n,s,i){switch(r.t){case"eip191":return await vve(t,e,r.s);case"eip1271":return await _ve(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function vve(t,e,r){const n=swe(r);return ywe({payload:qJ(e),signature:n}).toLowerCase()===t.toLowerCase()}async function _ve(t,e,r,n,s,i){const o=Pu(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u=r.substring(2),l=(u.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:qJ(e)).substring(2),f=a+d+c+l+u,h=await fetch(`${i||wve}/?chainId=${n}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Ave(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:p}=await h.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Ave(){return Date.now()+Math.floor(Math.random()*1e3)}function Cve(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return Eg.encode(i)}function Sve(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const s=bve(n,{dkLen:32});return Eg.encode(s)}function mD(t){const e=new Uint8Array(sP(Ive(t)));return Eg.encode(e)}function Ive(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function gD(t){const e=Buffer.from(t,"base64"),r=r1e(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=Wwe(r),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(n)]),o=hve(i);return gwe.encode(o).replace(/=+$/,"")}function Xx(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function Tve(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(Xx(e.length)),s.push(e),s.push(Buffer.from([18])),s.push(Xx(r.length)),s.push(r),s.push(Buffer.from([26])),s.push(Xx(n.length)),s.push(n);const i=Buffer.concat(s),o=sP(i);return Buffer.from(o).toString("hex").toUpperCase()}function Pve(t){var e,r;const n=[];try{if(typeof t=="string")return n.push(t),n;if(typeof t!="object")return n;t!=null&&t.id&&n.push(t.id);const s=(r=(e=t==null?void 0:t.capabilities)==null?void 0:e.caip345)==null?void 0:r.transactionHashes;s&&n.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return n}var xve=Object.defineProperty,Ove=Object.defineProperties,Rve=Object.getOwnPropertyDescriptors,yD=Object.getOwnPropertySymbols,Nve=Object.prototype.hasOwnProperty,Bve=Object.prototype.propertyIsEnumerable,bD=(t,e,r)=>e in t?xve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kve=(t,e)=>{for(var r in e||(e={}))Nve.call(e,r)&&bD(t,r,e[r]);if(yD)for(var r of yD(e))Bve.call(e,r)&&bD(t,r,e[r]);return t},jve=(t,e)=>Ove(t,Rve(e));const zJ="did:pkh:",Dve={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},Mve=t=>t?Dve[t]||t:"",iP=t=>t==null?void 0:t.split(":"),Uve=t=>{const e=t&&iP(t);if(e)return t.includes(zJ)?e[3]:e[1]},Lve=t=>{const e=t&&iP(t);if(e)return t.includes(zJ)?e[2]:e[0]},xR=t=>{const e=t&&iP(t);if(e)return e[2]+":"+e[3]},LI=t=>{const e=t&&iP(t);if(e)return e.pop()};async function wD(t){const{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=$J(s,s.iss),o=LI(s.iss);return await Eve(o,i,n,xR(s.iss),r)}const $J=(t,e)=>{const r=Lve(e);if(!r)throw new Error("Invalid issuer: "+e);const n=`${t.domain} wants you to sign in with your ${Mve(r)} account:`,s=LI(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const o=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${Uve(e)}`,u=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(y=>`
- ${y}`).join("")}`:void 0,m=OS(t.resources);if(m){const y=c1(m);i=Kve(i,y)}return[n,s,"",i,"",o,a,c,u,l,d,f,h,p].filter(y=>y!=null).join(`
`)};function Fve(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Hve(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Qh(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{const i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function qve(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:zve(e,r,n)}}}function zve(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function VJ(t){return Qh(t),`urn:recap:${Fve(t).replace(/=/g,"")}`}function c1(t){const e=Hve(t.replace("urn:recap:",""));return Qh(e),e}function $ve(t,e,r){const n=qve(t,e,r);return VJ(n)}function Vve(t){return t&&t.includes("urn:recap:")}function Gve(t,e){const r=c1(t),n=c1(e),s=Wve(r,n);return VJ(s)}function Wve(t,e){Qh(t),Qh(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;n.att[s]=jve(kve({},n.att[s]),{[a]:((c=t.att[s])==null?void 0:c[a])||((u=e.att[s])==null?void 0:u[a])})})}),n}function Kve(t="",e){Qh(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let s=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const u={};c.forEach(d=>{u[d.ability]||(u[d.ability]=[]),u[d.ability].push(d.action)});const l=Object.keys(u).map(d=>(s++,`(${s}) '${d}': '${u[d].join("', '")}' for '${a}'.`));n.push(l.join(", ").replace(".,","."))});const i=n.join(" "),o=`${r}${i}`;return`${t?t+" ":""}${o}`}function ED(t){var e;const r=c1(t);Qh(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function vD(t){const e=c1(t);Qh(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function OS(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return Vve(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function GJ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function OR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function e5(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function oi(t,...e){if(!GJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _D(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Zve(t,e){oi(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function ud(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Yve(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Jve=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Qve(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function RR(t){if(typeof t=="string")t=Qve(t);else if(GJ(t))t=NR(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Xve(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function e_e(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const t_e=(t,e)=>{function r(n,...s){if(oi(n),!Jve)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=s[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?oi(u):oi(u,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&oi(s[1]);const o=e(n,...s),a=(u,l)=>{if(l!==void 0){if(u!==2)throw new Error("cipher output not supported");oi(l)}};let c=!1;return{encrypt(u,l){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,oi(u),a(o.encrypt.length,l),o.encrypt(u,l)},decrypt(u,l){if(oi(u),i&&u.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,l),o.decrypt(u,l)}}}return Object.assign(r,t),r};function AD(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!n_e(e))throw new Error("invalid output, must be aligned");return e}function CD(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function r_e(t,e,r){OR(r);const n=new Uint8Array(16),s=Yve(n);return CD(s,0,BigInt(e),r),CD(s,8,BigInt(t),r),n}function n_e(t){return t.byteOffset%4===0}function NR(t){return Uint8Array.from(t)}const WJ=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),s_e=WJ("expand 16-byte k"),i_e=WJ("expand 32-byte k"),o_e=ud(s_e),a_e=ud(i_e);function Jt(t,e){return t<<e|t>>>32-e}function BR(t){return t.byteOffset%4===0}const Sv=64,c_e=16,KJ=2**32-1,SD=new Uint32Array;function u_e(t,e,r,n,s,i,o,a){const c=s.length,u=new Uint8Array(Sv),l=ud(u),d=BR(s)&&BR(i),f=d?ud(s):SD,h=d?ud(i):SD;for(let p=0;p<c;o++){if(t(e,r,n,l,o,a),o>=KJ)throw new Error("arx: counter overflow");const m=Math.min(Sv,c-p);if(d&&m===Sv){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let E=0,w;E<c_e;E++)w=y+E,h[w]=f[w]^l[E];p+=Sv;continue}for(let y=0,E;y<m;y++)E=p+y,i[E]=s[E]^u[y];p+=m}}function l_e(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:o}=Xve({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return e5(s),e5(o),OR(i),OR(r),(a,c,u,l,d=0)=>{oi(a),oi(c),oi(u);const f=u.length;if(l===void 0&&(l=new Uint8Array(f)),oi(l),e5(d),d<0||d>=KJ)throw new Error("arx: counter overflow");if(l.length<f)throw new Error(`arx: output (${l.length}) is shorter than data (${f})`);const h=[];let p=a.length,m,y;if(p===32)h.push(m=NR(a)),y=a_e;else if(p===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),y=o_e,h.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);BR(c)||h.push(c=NR(c));const E=ud(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,E,ud(c.subarray(0,16)),E),c=c.subarray(16)}const w=16-s;if(w!==c.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(w!==12){const g=new Uint8Array(12);g.set(c,i?0:12-c.length),c=g,h.push(c)}const b=ud(c);return u_e(t,y,E,b,u,l,d,o),Qm(...h),l}}const Dn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class d_e{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=RR(e),oi(e,32);const r=Dn(e,0),n=Dn(e,2),s=Dn(e,4),i=Dn(e,6),o=Dn(e,8),a=Dn(e,10),c=Dn(e,12),u=Dn(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let l=0;l<8;l++)this.pad[l]=Dn(e,16+2*l)}process(e,r,n=!1){const s=n?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],u=o[2],l=o[3],d=o[4],f=o[5],h=o[6],p=o[7],m=o[8],y=o[9],E=Dn(e,r+0),w=Dn(e,r+2),b=Dn(e,r+4),g=Dn(e,r+6),v=Dn(e,r+8),A=Dn(e,r+10),C=Dn(e,r+12),x=Dn(e,r+14);let T=i[0]+(E&8191),N=i[1]+((E>>>13|w<<3)&8191),M=i[2]+((w>>>10|b<<6)&8191),k=i[3]+((b>>>7|g<<9)&8191),B=i[4]+((g>>>4|v<<12)&8191),U=i[5]+(v>>>1&8191),I=i[6]+((v>>>14|A<<2)&8191),S=i[7]+((A>>>11|C<<5)&8191),_=i[8]+((C>>>8|x<<8)&8191),R=i[9]+(x>>>5|s),O=0,P=O+T*a+N*(5*y)+M*(5*m)+k*(5*p)+B*(5*h);O=P>>>13,P&=8191,P+=U*(5*f)+I*(5*d)+S*(5*l)+_*(5*u)+R*(5*c),O+=P>>>13,P&=8191;let D=O+T*c+N*a+M*(5*y)+k*(5*m)+B*(5*p);O=D>>>13,D&=8191,D+=U*(5*h)+I*(5*f)+S*(5*d)+_*(5*l)+R*(5*u),O+=D>>>13,D&=8191;let j=O+T*u+N*c+M*a+k*(5*y)+B*(5*m);O=j>>>13,j&=8191,j+=U*(5*p)+I*(5*h)+S*(5*f)+_*(5*d)+R*(5*l),O+=j>>>13,j&=8191;let F=O+T*l+N*u+M*c+k*a+B*(5*y);O=F>>>13,F&=8191,F+=U*(5*m)+I*(5*p)+S*(5*h)+_*(5*f)+R*(5*d),O+=F>>>13,F&=8191;let q=O+T*d+N*l+M*u+k*c+B*a;O=q>>>13,q&=8191,q+=U*(5*y)+I*(5*m)+S*(5*p)+_*(5*h)+R*(5*f),O+=q>>>13,q&=8191;let z=O+T*f+N*d+M*l+k*u+B*c;O=z>>>13,z&=8191,z+=U*a+I*(5*y)+S*(5*m)+_*(5*p)+R*(5*h),O+=z>>>13,z&=8191;let W=O+T*h+N*f+M*d+k*l+B*u;O=W>>>13,W&=8191,W+=U*c+I*a+S*(5*y)+_*(5*m)+R*(5*p),O+=W>>>13,W&=8191;let K=O+T*p+N*h+M*f+k*d+B*l;O=K>>>13,K&=8191,K+=U*u+I*c+S*a+_*(5*y)+R*(5*m),O+=K>>>13,K&=8191;let re=O+T*m+N*p+M*h+k*f+B*d;O=re>>>13,re&=8191,re+=U*l+I*u+S*c+_*a+R*(5*y),O+=re>>>13,re&=8191;let Q=O+T*y+N*m+M*p+k*h+B*f;O=Q>>>13,Q&=8191,Q+=U*d+I*l+S*u+_*c+R*a,O+=Q>>>13,Q&=8191,O=(O<<2)+O|0,O=O+P|0,P=O&8191,O=O>>>13,D+=O,i[0]=P,i[1]=D,i[2]=j,i[3]=F,i[4]=q,i[5]=z,i[6]=W,i[7]=K,i[8]=re,i[9]=Q}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=s,s=e[a]>>>13,e[a]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+s,s=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;Qm(n)}update(e){_D(this),e=RR(e),oi(e);const{buffer:r,blockLen:n}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);if(o===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Qm(this.h,this.r,this.buffer,this.pad)}digestInto(e){_D(this),Zve(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function f_e(t){const e=(n,s)=>t(s).update(RR(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const h_e=f_e(t=>new d_e(t));function p_e(t,e,r,n,s,i=20){let o=t[0],a=t[1],c=t[2],u=t[3],l=e[0],d=e[1],f=e[2],h=e[3],p=e[4],m=e[5],y=e[6],E=e[7],w=s,b=r[0],g=r[1],v=r[2],A=o,C=a,x=c,T=u,N=l,M=d,k=f,B=h,U=p,I=m,S=y,_=E,R=w,O=b,P=g,D=v;for(let F=0;F<i;F+=2)A=A+N|0,R=Jt(R^A,16),U=U+R|0,N=Jt(N^U,12),A=A+N|0,R=Jt(R^A,8),U=U+R|0,N=Jt(N^U,7),C=C+M|0,O=Jt(O^C,16),I=I+O|0,M=Jt(M^I,12),C=C+M|0,O=Jt(O^C,8),I=I+O|0,M=Jt(M^I,7),x=x+k|0,P=Jt(P^x,16),S=S+P|0,k=Jt(k^S,12),x=x+k|0,P=Jt(P^x,8),S=S+P|0,k=Jt(k^S,7),T=T+B|0,D=Jt(D^T,16),_=_+D|0,B=Jt(B^_,12),T=T+B|0,D=Jt(D^T,8),_=_+D|0,B=Jt(B^_,7),A=A+M|0,D=Jt(D^A,16),S=S+D|0,M=Jt(M^S,12),A=A+M|0,D=Jt(D^A,8),S=S+D|0,M=Jt(M^S,7),C=C+k|0,R=Jt(R^C,16),_=_+R|0,k=Jt(k^_,12),C=C+k|0,R=Jt(R^C,8),_=_+R|0,k=Jt(k^_,7),x=x+B|0,O=Jt(O^x,16),U=U+O|0,B=Jt(B^U,12),x=x+B|0,O=Jt(O^x,8),U=U+O|0,B=Jt(B^U,7),T=T+N|0,P=Jt(P^T,16),I=I+P|0,N=Jt(N^I,12),T=T+N|0,P=Jt(P^T,8),I=I+P|0,N=Jt(N^I,7);let j=0;n[j++]=o+A|0,n[j++]=a+C|0,n[j++]=c+x|0,n[j++]=u+T|0,n[j++]=l+N|0,n[j++]=d+M|0,n[j++]=f+k|0,n[j++]=h+B|0,n[j++]=p+U|0,n[j++]=m+I|0,n[j++]=y+S|0,n[j++]=E+_|0,n[j++]=w+R|0,n[j++]=b+O|0,n[j++]=g+P|0,n[j++]=v+D|0}const m_e=l_e(p_e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),g_e=new Uint8Array(16),ID=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(g_e.subarray(r))},y_e=new Uint8Array(32);function TD(t,e,r,n,s){const i=t(e,r,y_e),o=h_e.create(i);s&&ID(o,s),ID(o,n);const a=r_e(n.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Qm(i,a),c}const b_e=t=>(e,r,n)=>({encrypt(s,i){const o=s.length;i=AD(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);t(e,r,a,a,1);const c=TD(t,e,r,a,n);return i.set(c,o),Qm(c),i},decrypt(s,i){i=AD(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=TD(t,e,r,o,n);if(!e_e(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),Qm(c),i}}),ZJ=t_e({blockSize:64,nonceLength:12,tagLength:16},b_e(m_e));let YJ=class extends nP{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,rP(e);const n=aa(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),To(i)}update(e){return Sd(this),this.iHash.update(e),this}digestInto(e){Sd(this),da(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const oP=(t,e,r)=>new YJ(t,e).update(r).digest();oP.create=(t,e)=>new YJ(t,e);function w_e(t,e,r){return rP(t),r===void 0&&(r=new Uint8Array(t.outputLen)),oP(t,aa(r),aa(e))}const t5=Uint8Array.from([0]),PD=Uint8Array.of();function E_e(t,e,r,n=32){rP(t),Uu(n);const s=t.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/s);r===void 0&&(r=PD);const o=new Uint8Array(i*s),a=oP.create(t,e),c=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let l=0;l<i;l++)t5[0]=l+1,c.update(l===0?PD:u).update(r).update(t5).digestInto(u),o.set(u,s*l),a._cloneInto(c);return a.destroy(),c.destroy(),To(u,t5),o.slice(0,n)}const v_e=(t,e,r,n,s)=>E_e(t,w_e(t,e,r),n,s),aP=sP,e3=BigInt(0),kR=BigInt(1);function FI(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function rh(t,e,r=""){const n=tP(t),s=t==null?void 0:t.length,i=e!==void 0;if(!n||i&&s!==e){const o=r&&`"${r}" `,a=i?` of length ${e}`:"",c=n?`length=${s}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function Iv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function JJ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?e3:BigInt("0x"+t)}function cP(t){return JJ(V0(t))}function HI(t){return da(t),JJ(V0(Uint8Array.from(t).reverse()))}function t3(t,e){return UI(t.toString(16).padStart(e*2,"0"))}function r3(t,e){return t3(t,e).reverse()}function ps(t,e,r){let n;if(typeof e=="string")try{n=UI(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(tP(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}const r5=t=>typeof t=="bigint"&&e3<=t;function __e(t,e,r){return r5(t)&&r5(e)&&r5(r)&&e<=t&&t<r}function jR(t,e,r,n){if(!__e(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function QJ(t){let e;for(e=0;t>e3;t>>=kR,e+=1);return e}const nE=t=>(kR<<BigInt(t))-kR;function A_e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=f=>new Uint8Array(f),s=f=>Uint8Array.of(f);let i=n(t),o=n(t),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},u=(...f)=>r(o,i,...f),l=(f=n(0))=>{o=u(s(0),f),i=u(),f.length!==0&&(o=u(s(1),f),i=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){i=u();const p=i.slice();h.push(p),f+=i.length}return Ml(...h)};return(f,h)=>{c(),l(f);let p;for(;!(p=h(d()));)l();return c(),p}}function uP(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(s,i,o){const a=t[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(e).forEach(([s,i])=>n(s,i,!1)),Object.entries(r).forEach(([s,i])=>n(s,i,!0))}function xD(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const hi=BigInt(0),Fs=BigInt(1),nh=BigInt(2),XJ=BigInt(3),eQ=BigInt(4),tQ=BigInt(5),C_e=BigInt(7),rQ=BigInt(8),S_e=BigInt(9),nQ=BigInt(16);function Vi(t,e){const r=t%e;return r>=hi?r:e+r}function Fo(t,e,r){let n=t;for(;e-- >hi;)n*=n,n%=r;return n}function OD(t,e){if(t===hi)throw new Error("invert: expected non-zero number");if(e<=hi)throw new Error("invert: expected positive modulus, got "+e);let r=Vi(t,e),n=e,s=hi,i=Fs;for(;r!==hi;){const o=n/r,a=n%r,c=s-i*o;n=r,r=a,s=i,i=c}if(n!==Fs)throw new Error("invert: does not exist");return Vi(s,e)}function n3(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function sQ(t,e){const r=(t.ORDER+Fs)/eQ,n=t.pow(e,r);return n3(t,n,e),n}function I_e(t,e){const r=(t.ORDER-tQ)/rQ,n=t.mul(e,nh),s=t.pow(n,r),i=t.mul(e,s),o=t.mul(t.mul(i,nh),s),a=t.mul(i,t.sub(o,t.ONE));return n3(t,a,e),a}function T_e(t){const e=kd(t),r=iQ(t),n=r(e,e.neg(e.ONE)),s=r(e,n),i=r(e,e.neg(n)),o=(t+C_e)/nQ;return(a,c)=>{let u=a.pow(c,o),l=a.mul(u,n);const d=a.mul(u,s),f=a.mul(u,i),h=a.eql(a.sqr(l),c),p=a.eql(a.sqr(d),c);u=a.cmov(u,l,h),l=a.cmov(f,d,p);const m=a.eql(a.sqr(l),c),y=a.cmov(u,l,m);return n3(a,y,c),y}}function iQ(t){if(t<XJ)throw new Error("sqrt is not defined for small field");let e=t-Fs,r=0;for(;e%nh===hi;)e/=nh,r++;let n=nh;const s=kd(t);for(;RD(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return sQ;let i=s.pow(n,e);const o=(e+Fs)/nh;return function(a,c){if(a.is0(c))return c;if(RD(a,c)!==1)throw new Error("Cannot find square root");let u=r,l=a.mul(a.ONE,i),d=a.pow(c,e),f=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let h=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(h++,p=a.sqr(p),h===u)throw new Error("Cannot find square root");const m=Fs<<BigInt(u-h-1),y=a.pow(l,m);u=h,l=a.sqr(y),d=a.mul(d,l),f=a.mul(f,y)}return f}}function P_e(t){return t%eQ===XJ?sQ:t%rQ===tQ?I_e:t%nQ===S_e?T_e(t):iQ(t)}const x_e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function O_e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=x_e.reduce((n,s)=>(n[s]="function",n),e);return uP(t,r),t}function R_e(t,e,r){if(r<hi)throw new Error("invalid exponent, negatives unsupported");if(r===hi)return t.ONE;if(r===Fs)return e;let n=t.ONE,s=e;for(;r>hi;)r&Fs&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Fs;return n}function oQ(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),i),n}function RD(t,e){const r=(t.ORDER-Fs)/nh,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function aQ(t,e){e!==void 0&&Uu(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function kd(t,e,r=!1,n={}){if(t<=hi)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,i,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const f=e;f.BITS&&(s=f.BITS),f.sqrt&&(i=f.sqrt),typeof f.isLE=="boolean"&&(r=f.isLE),typeof f.modFromBytes=="boolean"&&(o=f.modFromBytes),a=f.allowedLengths}else typeof e=="number"&&(s=e),n.sqrt&&(i=n.sqrt);const{nBitLength:c,nByteLength:u}=aQ(t,s);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:u,MASK:nE(c),ZERO:hi,ONE:Fs,allowedLengths:a,create:f=>Vi(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return hi<=f&&f<t},is0:f=>f===hi,isValidNot0:f=>!d.is0(f)&&d.isValid(f),isOdd:f=>(f&Fs)===Fs,neg:f=>Vi(-f,t),eql:(f,h)=>f===h,sqr:f=>Vi(f*f,t),add:(f,h)=>Vi(f+h,t),sub:(f,h)=>Vi(f-h,t),mul:(f,h)=>Vi(f*h,t),pow:(f,h)=>R_e(d,f,h),div:(f,h)=>Vi(f*OD(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>OD(f,t),sqrt:i||(f=>(l||(l=P_e(t)),l(d,f))),toBytes:f=>r?r3(f,u):t3(f,u),fromBytes:(f,h=!0)=>{if(a){if(!a.includes(f.length)||f.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);const m=new Uint8Array(u);m.set(f,r?0:m.length-f.length),f=m}if(f.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+f.length);let p=r?HI(f):cP(f);if(o&&(p=Vi(p,t)),!h&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:f=>oQ(d,f),cmov:(f,h,p)=>p?h:f});return Object.freeze(d)}function cQ(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function uQ(t){const e=cQ(t);return e+Math.ceil(e/2)}function N_e(t,e,r=!1){const n=t.length,s=cQ(e),i=uQ(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=r?HI(t):cP(t),a=Vi(o,e-Fs)+Fs;return r?r3(a,s):t3(a,s)}const Xm=BigInt(0),sh=BigInt(1);function qI(t,e){const r=e.negate();return t?r:e}function n5(t,e){const r=oQ(t.Fp,e.map(n=>n.Z));return e.map((n,s)=>t.fromAffine(n.toAffine(r[s])))}function lQ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function s5(t,e){lQ(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=nE(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function ND(t,e,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r;let a=Number(t&s),c=t>>o;a>n&&(a-=i,c+=sh);const u=e*n,l=u+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:u}}function B_e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function k_e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const i5=new WeakMap,dQ=new WeakMap;function o5(t){return dQ.get(t)||1}function BD(t){if(t!==Xm)throw new Error("invalid wNAF")}class j_e{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let s=e;for(;r>Xm;)r&sh&&(n=n.add(s)),s=s.double(),r>>=sh;return n}precomputeWindow(e,r){const{windows:n,windowSize:s}=s5(r,this.bits),i=[];let o=e,a=o;for(let c=0;c<n;c++){a=o,i.push(a);for(let u=1;u<s;u++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=s5(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:l,isNeg:d,isNegF:f,offsetF:h}=ND(n,a,o);n=c,l?i=i.add(qI(f,r[h])):s=s.add(qI(d,r[u]))}return BD(n),{p:s,f:i}}wNAFUnsafe(e,r,n,s=this.ZERO){const i=s5(e,this.bits);for(let o=0;o<i.windows&&n!==Xm;o++){const{nextN:a,offset:c,isZero:u,isNeg:l}=ND(n,o,i);if(n=a,!u){const d=r[c];s=s.add(l?d.negate():d)}}return BD(n),s}getPrecomputes(e,r,n){let s=i5.get(r);return s||(s=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(s=n(s)),i5.set(r,s))),s}cached(e,r,n){const s=o5(e);return this.wNAF(s,this.getPrecomputes(s,e,n),r)}unsafe(e,r,n,s){const i=o5(e);return i===1?this._unsafeLadder(e,r,s):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),r,s)}createCache(e,r){lQ(r,this.bits),dQ.set(e,r),i5.delete(e)}hasCache(e){return o5(e)!==1}}function D_e(t,e,r,n){let s=e,i=t.ZERO,o=t.ZERO;for(;r>Xm||n>Xm;)r&sh&&(i=i.add(s)),n&sh&&(o=o.add(s)),s=s.double(),r>>=sh,n>>=sh;return{p1:i,p2:o}}function M_e(t,e,r,n){B_e(r,t),k_e(n,e);const s=r.length,i=n.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=QJ(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=nE(c),l=new Array(Number(u)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){l.fill(o);for(let m=0;m<i;m++){const y=n[m],E=Number(y>>BigInt(h)&u);l[E]=l[E].add(r[m])}let p=o;for(let m=l.length-1,y=o;m>0;m--)y=y.add(l[m]),p=p.add(y);if(f=f.add(p),h!==0)for(let m=0;m<c;m++)f=f.double()}return f}function kD(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return O_e(e),e}else return kd(t,{isLE:r})}function U_e(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>Xm))throw new Error(`CURVE.${a} must be positive bigint`)}const s=kD(e.p,r.Fp,n),i=kD(e.n,r.Fn,n),o=["Gx","Gy","a","b"];for(const a of o)if(!s.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),kJ("HashToScalar-");const iy=BigInt(0),Fp=BigInt(1),Tv=BigInt(2);function L_e(t){return uP(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function F_e(t){const e=L_e(t),{P:r,type:n,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||yp,u=a?255:448,l=a?32:56,d=BigInt(a?9:5),f=BigInt(a?121665:39081),h=a?Tv**BigInt(254):Tv**BigInt(447),p=a?BigInt(8)*Tv**BigInt(251)-Fp:BigInt(4)*Tv**BigInt(445)-Fp,m=h+p+Fp,y=k=>Vi(k,r),E=w(d);function w(k){return r3(y(k),l)}function b(k){const B=ps("u coordinate",k,l);return a&&(B[31]&=127),y(HI(B))}function g(k){return HI(s(ps("scalar",k,l)))}function v(k,B){const U=x(b(B),g(k));if(U===iy)throw new Error("invalid private or public key received");return w(U)}function A(k){return v(k,E)}function C(k,B,U){const I=y(k*(B-U));return B=y(B-I),U=y(U+I),{x_2:B,x_3:U}}function x(k,B){jR("u",k,iy,r),jR("scalar",B,h,m);const U=B,I=k;let S=Fp,_=iy,R=k,O=Fp,P=iy;for(let j=BigInt(u-1);j>=iy;j--){const F=U>>j&Fp;P^=F,{x_2:S,x_3:R}=C(P,S,R),{x_2:_,x_3:O}=C(P,_,O),P=F;const q=S+_,z=y(q*q),W=S-_,K=y(W*W),re=z-K,Q=R+O,X=R-O,ie=y(X*q),Y=y(Q*W),V=ie+Y,Z=ie-Y;R=y(V*V),O=y(I*y(Z*Z)),S=y(z*K),_=y(re*(z+y(f*re)))}({x_2:S,x_3:R}=C(P,S,R)),{x_2:_,x_3:O}=C(P,_,O);const D=i(_);return y(S*D)}const T={secretKey:l,publicKey:l,seed:l},N=(k=c(l))=>(da(k,T.seed),k);function M(k){const B=N(k);return{secretKey:B,publicKey:A(B)}}return{keygen:M,getSharedSecret:(k,B)=>v(k,B),getPublicKey:k=>A(k),scalarMult:v,scalarMultBase:A,utils:{randomSecretKey:N,randomPrivateKey:N},GuBytes:E.slice(),lengths:T}}const H_e=BigInt(1),jD=BigInt(2),q_e=BigInt(3),z_e=BigInt(5);BigInt(8);const fQ=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),$_e={p:fQ,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function V_e(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=fQ,o=t*t%i*t%i,a=Fo(o,jD,i)*o%i,c=Fo(a,H_e,i)*t%i,u=Fo(c,z_e,i)*c%i,l=Fo(u,e,i)*u%i,d=Fo(l,r,i)*l%i,f=Fo(d,n,i)*d%i,h=Fo(f,s,i)*f%i,p=Fo(h,s,i)*f%i,m=Fo(p,e,i)*u%i;return{pow_p_5_8:Fo(m,jD,i)*t%i,b2:o}}function G_e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const W_e=kd($_e.p,{isLE:!0}),DR=(()=>{const t=W_e.ORDER;return F_e({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=V_e(e);return Vi(Fo(r,q_e,t)*n,t)},adjustScalarBytes:G_e})})(),DD=(t,e)=>(t+(t>=0?e:-e)/hQ)/e;function K_e(t,e,r){const[[n,s],[i,o]]=e,a=DD(o*t,r),c=DD(-s*t,r);let u=t-a*n-c*i,l=-a*s-c*o;const d=u<Su,f=l<Su;d&&(u=-u),f&&(l=-l);const h=nE(Math.ceil(QJ(r)/2))+G0;if(u<Su||u>=h||l<Su||l>=h)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}function MR(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function a5(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return FI(r.lowS,"lowS"),FI(r.prehash,"prehash"),r.format!==void 0&&MR(r.format),r}class Z_e extends Error{constructor(e=""){super(e)}}const cu={Err:Z_e,_tlv:{encode:(t,e)=>{const{Err:r}=cu;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=Iv(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?Iv(s.length/2|128):"";return Iv(t)+i+s+e},decode(t,e){const{Err:r}=cu;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+c);if(u.length!==c)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=cu;if(t<Su)throw new e("integer: negative integers are not allowed");let r=Iv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=cu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return cP(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=cu,s=ps("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,i),{v:u,l}=n.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=cu,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},Su=BigInt(0),G0=BigInt(1),hQ=BigInt(2),Pv=BigInt(3),Y_e=BigInt(4);function P0(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let s=ps("private key",e);try{n=t.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function J_e(t,e={}){const r=U_e("weierstrass",t,e),{Fp:n,Fn:s}=r;let i=r.CURVE;const{h:o,n:a}=i;uP(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=mQ(n,s);function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(k,B,U){const{x:I,y:S}=B.toAffine(),_=n.toBytes(I);if(FI(U,"isCompressed"),U){l();const R=!n.isOdd(S);return Ml(pQ(R),_)}else return Ml(Uint8Array.of(4),_,n.toBytes(S))}function f(k){rh(k,void 0,"Point");const{publicKey:B,publicKeyUncompressed:U}=u,I=k.length,S=k[0],_=k.subarray(1);if(I===B&&(S===2||S===3)){const R=n.fromBytes(_);if(!n.isValid(R))throw new Error("bad point: is not on curve, wrong x");const O=m(R);let P;try{P=n.sqrt(O)}catch(j){const F=j instanceof Error?": "+j.message:"";throw new Error("bad point: is not on curve, sqrt error"+F)}l();const D=n.isOdd(P);return(S&1)===1!==D&&(P=n.neg(P)),{x:R,y:P}}else if(I===U&&S===4){const R=n.BYTES,O=n.fromBytes(_.subarray(0,R)),P=n.fromBytes(_.subarray(R,R*2));if(!y(O,P))throw new Error("bad point: is not on curve");return{x:O,y:P}}else throw new Error(`bad point: got length ${I}, expected compressed=${B} or uncompressed=${U}`)}const h=e.toBytes||d,p=e.fromBytes||f;function m(k){const B=n.sqr(k),U=n.mul(B,k);return n.add(n.add(U,n.mul(k,i.a)),i.b)}function y(k,B){const U=n.sqr(B),I=m(k);return n.eql(U,I)}if(!y(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const E=n.mul(n.pow(i.a,Pv),Y_e),w=n.mul(n.sqr(i.b),BigInt(27));if(n.is0(n.add(E,w)))throw new Error("bad curve params: a or b");function b(k,B,U=!1){if(!n.isValid(B)||U&&n.is0(B))throw new Error(`bad point coordinate ${k}`);return B}function g(k){if(!(k instanceof T))throw new Error("ProjectivePoint expected")}function v(k){if(!c||!c.basises)throw new Error("no endo");return K_e(k,c.basises,s.ORDER)}const A=xD((k,B)=>{const{X:U,Y:I,Z:S}=k;if(n.eql(S,n.ONE))return{x:U,y:I};const _=k.is0();B==null&&(B=_?n.ONE:n.inv(S));const R=n.mul(U,B),O=n.mul(I,B),P=n.mul(S,B);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(P,n.ONE))throw new Error("invZ was invalid");return{x:R,y:O}}),C=xD(k=>{if(k.is0()){if(e.allowInfinityPoint&&!n.is0(k.Y))return;throw new Error("bad point: ZERO")}const{x:B,y:U}=k.toAffine();if(!n.isValid(B)||!n.isValid(U))throw new Error("bad point: x or y not field elements");if(!y(B,U))throw new Error("bad point: equation left != right");if(!k.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(k,B,U,I,S){return U=new T(n.mul(U.X,k),U.Y,U.Z),B=qI(I,B),U=qI(S,U),B.add(U)}class T{constructor(B,U,I){this.X=b("x",B),this.Y=b("y",U,!0),this.Z=b("z",I),Object.freeze(this)}static CURVE(){return i}static fromAffine(B){const{x:U,y:I}=B||{};if(!B||!n.isValid(U)||!n.isValid(I))throw new Error("invalid affine point");if(B instanceof T)throw new Error("projective point not allowed");return n.is0(U)&&n.is0(I)?T.ZERO:new T(U,I,n.ONE)}static fromBytes(B){const U=T.fromAffine(p(rh(B,void 0,"point")));return U.assertValidity(),U}static fromHex(B){return T.fromBytes(ps("pointHex",B))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(B=8,U=!0){return M.createCache(this,B),U||this.multiply(Pv),this}assertValidity(){C(this)}hasEvenY(){const{y:B}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(B)}equals(B){g(B);const{X:U,Y:I,Z:S}=this,{X:_,Y:R,Z:O}=B,P=n.eql(n.mul(U,O),n.mul(_,S)),D=n.eql(n.mul(I,O),n.mul(R,S));return P&&D}negate(){return new T(this.X,n.neg(this.Y),this.Z)}double(){const{a:B,b:U}=i,I=n.mul(U,Pv),{X:S,Y:_,Z:R}=this;let O=n.ZERO,P=n.ZERO,D=n.ZERO,j=n.mul(S,S),F=n.mul(_,_),q=n.mul(R,R),z=n.mul(S,_);return z=n.add(z,z),D=n.mul(S,R),D=n.add(D,D),O=n.mul(B,D),P=n.mul(I,q),P=n.add(O,P),O=n.sub(F,P),P=n.add(F,P),P=n.mul(O,P),O=n.mul(z,O),D=n.mul(I,D),q=n.mul(B,q),z=n.sub(j,q),z=n.mul(B,z),z=n.add(z,D),D=n.add(j,j),j=n.add(D,j),j=n.add(j,q),j=n.mul(j,z),P=n.add(P,j),q=n.mul(_,R),q=n.add(q,q),j=n.mul(q,z),O=n.sub(O,j),D=n.mul(q,F),D=n.add(D,D),D=n.add(D,D),new T(O,P,D)}add(B){g(B);const{X:U,Y:I,Z:S}=this,{X:_,Y:R,Z:O}=B;let P=n.ZERO,D=n.ZERO,j=n.ZERO;const F=i.a,q=n.mul(i.b,Pv);let z=n.mul(U,_),W=n.mul(I,R),K=n.mul(S,O),re=n.add(U,I),Q=n.add(_,R);re=n.mul(re,Q),Q=n.add(z,W),re=n.sub(re,Q),Q=n.add(U,S);let X=n.add(_,O);return Q=n.mul(Q,X),X=n.add(z,K),Q=n.sub(Q,X),X=n.add(I,S),P=n.add(R,O),X=n.mul(X,P),P=n.add(W,K),X=n.sub(X,P),j=n.mul(F,Q),P=n.mul(q,K),j=n.add(P,j),P=n.sub(W,j),j=n.add(W,j),D=n.mul(P,j),W=n.add(z,z),W=n.add(W,z),K=n.mul(F,K),Q=n.mul(q,Q),W=n.add(W,K),K=n.sub(z,K),K=n.mul(F,K),Q=n.add(Q,K),z=n.mul(W,Q),D=n.add(D,z),z=n.mul(X,Q),P=n.mul(re,P),P=n.sub(P,z),z=n.mul(re,W),j=n.mul(X,j),j=n.add(j,z),new T(P,D,j)}subtract(B){return this.add(B.negate())}is0(){return this.equals(T.ZERO)}multiply(B){const{endo:U}=e;if(!s.isValidNot0(B))throw new Error("invalid scalar: out of range");let I,S;const _=R=>M.cached(this,R,O=>n5(T,O));if(U){const{k1neg:R,k1:O,k2neg:P,k2:D}=v(B),{p:j,f:F}=_(O),{p:q,f:z}=_(D);S=F.add(z),I=x(U.beta,j,q,R,P)}else{const{p:R,f:O}=_(B);I=R,S=O}return n5(T,[I,S])[0]}multiplyUnsafe(B){const{endo:U}=e,I=this;if(!s.isValid(B))throw new Error("invalid scalar: out of range");if(B===Su||I.is0())return T.ZERO;if(B===G0)return I;if(M.hasCache(this))return this.multiply(B);if(U){const{k1neg:S,k1:_,k2neg:R,k2:O}=v(B),{p1:P,p2:D}=D_e(T,I,_,O);return x(U.beta,P,D,S,R)}else return M.unsafe(I,B)}multiplyAndAddUnsafe(B,U,I){const S=this.multiplyUnsafe(U).add(B.multiplyUnsafe(I));return S.is0()?void 0:S}toAffine(B){return A(this,B)}isTorsionFree(){const{isTorsionFree:B}=e;return o===G0?!0:B?B(T,this):M.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:B}=e;return o===G0?this:B?B(T,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(B=!0){return FI(B,"isCompressed"),this.assertValidity(),h(T,this,B)}toHex(B=!0){return V0(this.toBytes(B))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(B=!0){return this.toBytes(B)}_setWindowSize(B){this.precompute(B)}static normalizeZ(B){return n5(T,B)}static msm(B,U){return M_e(T,s,B,U)}static fromPrivateKey(B){return T.BASE.multiply(P0(s,B))}}T.BASE=new T(i.Gx,i.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=s;const N=s.BITS,M=new j_e(T,e.endo?Math.ceil(N/2):N);return T.BASE.precompute(8),T}function pQ(t){return Uint8Array.of(t?2:3)}function mQ(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Q_e(t,e={}){const{Fn:r}=t,n=e.randomBytes||yp,s=Object.assign(mQ(t.Fp,r),{seed:uQ(r.ORDER)});function i(f){try{return!!P0(r,f)}catch{return!1}}function o(f,h){const{publicKey:p,publicKeyUncompressed:m}=s;try{const y=f.length;return h===!0&&y!==p||h===!1&&y!==m?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=n(s.seed)){return N_e(rh(f,s.seed,"seed"),r.ORDER)}function c(f,h=!0){return t.BASE.multiply(P0(r,f)).toBytes(h)}function u(f){const h=a(f);return{secretKey:h,publicKey:c(h)}}function l(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:h,publicKey:p,publicKeyUncompressed:m}=s;if(r.allowedLengths||h===p)return;const y=ps("key",f).length;return y===p||y===m}function d(f,h,p=!0){if(l(f)===!0)throw new Error("first arg must be private key");if(l(h)===!1)throw new Error("second arg must be public key");const m=P0(r,f);return t.fromHex(h).multiply(m).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:u,Point:t,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:f=>P0(r,f),precompute(f=8,h=t.BASE){return h.precompute(f,!1)}},lengths:s})}function X_e(t,e,r={}){rP(e),uP(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||yp,s=r.hmac||((U,...I)=>oP(e,U,Ml(...I))),{Fp:i,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:u,getPublicKey:l,getSharedSecret:d,utils:f,lengths:h}=Q_e(t,r),p={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(U){const I=a>>G0;return U>I}function E(U,I){if(!o.isValidNot0(I))throw new Error(`invalid signature ${U}: out of range 1..Point.Fn.ORDER`);return I}function w(U,I){MR(I);const S=h.signature,_=I==="compact"?S:I==="recovered"?S+1:void 0;return rh(U,_,`${I} signature`)}class b{constructor(I,S,_){this.r=E("r",I),this.s=E("s",S),_!=null&&(this.recovery=_),Object.freeze(this)}static fromBytes(I,S=m){w(I,S);let _;if(S==="der"){const{r:D,s:j}=cu.toSig(rh(I));return new b(D,j)}S==="recovered"&&(_=I[0],S="compact",I=I.subarray(1));const R=o.BYTES,O=I.subarray(0,R),P=I.subarray(R,R*2);return new b(o.fromBytes(O),o.fromBytes(P),_)}static fromHex(I,S){return this.fromBytes(UI(I),S)}addRecoveryBit(I){return new b(this.r,this.s,I)}recoverPublicKey(I){const S=i.ORDER,{r:_,s:R,recovery:O}=this;if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");if(a*hQ<S&&O>1)throw new Error("recovery id is ambiguous for h>1 curve");const P=O===2||O===3?_+a:_;if(!i.isValid(P))throw new Error("recovery id 2 or 3 invalid");const D=i.toBytes(P),j=t.fromBytes(Ml(pQ((O&1)===0),D)),F=o.inv(P),q=v(ps("msgHash",I)),z=o.create(-q*F),W=o.create(R*F),K=t.BASE.multiplyUnsafe(z).add(j.multiplyUnsafe(W));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return y(this.s)}toBytes(I=m){if(MR(I),I==="der")return UI(cu.hexFromSig(this));const S=o.toBytes(this.r),_=o.toBytes(this.s);if(I==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Ml(Uint8Array.of(this.recovery),S,_)}return Ml(S,_)}toHex(I){return V0(this.toBytes(I))}assertValidity(){}static fromCompact(I){return b.fromBytes(ps("sig",I),"compact")}static fromDER(I){return b.fromBytes(ps("sig",I),"der")}normalizeS(){return this.hasHighS()?new b(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return V0(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return V0(this.toBytes("compact"))}}const g=r.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const I=cP(U),S=U.length*8-c;return S>0?I>>BigInt(S):I},v=r.bits2int_modN||function(U){return o.create(g(U))},A=nE(c);function C(U){return jR("num < 2^"+c,U,Su,A),o.toBytes(U)}function x(U,I){return rh(U,void 0,"message"),I?rh(e(U),void 0,"prehashed message"):U}function T(U,I,S){if(["recovered","canonical"].some(W=>W in S))throw new Error("sign() legacy options not supported");const{lowS:_,prehash:R,extraEntropy:O}=a5(S,p);U=x(U,R);const P=v(U),D=P0(o,I),j=[C(D),C(P)];if(O!=null&&O!==!1){const W=O===!0?n(h.secretKey):O;j.push(ps("extraEntropy",W))}const F=Ml(...j),q=P;function z(W){const K=g(W);if(!o.isValidNot0(K))return;const re=o.inv(K),Q=t.BASE.multiply(K).toAffine(),X=o.create(Q.x);if(X===Su)return;const ie=o.create(re*o.create(q+X*D));if(ie===Su)return;let Y=(Q.x===X?0:2)|Number(Q.y&G0),V=ie;return _&&y(ie)&&(V=o.neg(ie),Y^=1),new b(X,V,Y)}return{seed:F,k2sig:z}}function N(U,I,S={}){U=ps("message",U);const{seed:_,k2sig:R}=T(U,I,S);return A_e(e.outputLen,o.BYTES,s)(_,R)}function M(U){let I;const S=typeof U=="string"||tP(U),_=!S&&U!==null&&typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint";if(!S&&!_)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(_)I=new b(U.r,U.s);else if(S){try{I=b.fromBytes(ps("sig",U),"der")}catch(R){if(!(R instanceof cu.Err))throw R}if(!I)try{I=b.fromBytes(ps("sig",U),"compact")}catch{return!1}}return I||!1}function k(U,I,S,_={}){const{lowS:R,prehash:O,format:P}=a5(_,p);if(S=ps("publicKey",S),I=x(ps("message",I),O),"strict"in _)throw new Error("options.strict was renamed to lowS");const D=P===void 0?M(U):b.fromBytes(ps("sig",U),P);if(D===!1)return!1;try{const j=t.fromBytes(S);if(R&&D.hasHighS())return!1;const{r:F,s:q}=D,z=v(I),W=o.inv(q),K=o.create(z*W),re=o.create(F*W),Q=t.BASE.multiplyUnsafe(K).add(j.multiplyUnsafe(re));return Q.is0()?!1:o.create(Q.x)===F}catch{return!1}}function B(U,I,S={}){const{prehash:_}=a5(S,p);return I=x(I,_),b.fromBytes(U,"recovered").recoverPublicKey(I).toBytes()}return Object.freeze({keygen:u,getPublicKey:l,getSharedSecret:d,utils:f,lengths:h,Point:t,sign:N,verify:k,recoverPublicKey:B,Signature:b,hash:e})}function eAe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=kd(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),i={Fp:r,Fn:s,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function tAe(t){const{CURVE:e,curveOpts:r}=eAe(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function rAe(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,aQ(r.Fn.ORDER,r.Fn.BITS))})}function nAe(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:s}=tAe(t),i=J_e(e,r),o=X_e(i,n,s);return rAe(t,o)}function UR(t,e){const r=n=>nAe({...t,hash:n});return{...r(e),create:r}}const gQ={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},yQ={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},bQ={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},sAe=kd(gQ.p),iAe=kd(yQ.p),oAe=kd(bQ.p),aAe=UR({...gQ,Fp:sAe,lowS:!1},sP);UR({...yQ,Fp:iAe,lowS:!1},fve),UR({...bQ,Fp:oAe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},dve);const cAe=aAe,wQ="base10",Hs="base16",ai="base64pad",Ul="base64url",sE="utf8",EQ=0,xu=1,iE=2,uAe=0,MD=1,Qb=12,s3=32;function lAe(){const t=DR.utils.randomPrivateKey(),e=DR.getPublicKey(t);return{privateKey:mi(t,Hs),publicKey:mi(e,Hs)}}function LR(){const t=yp(s3);return mi(t,Hs)}function dAe(t,e){const r=DR.getSharedSecret(Co(t,Hs),Co(e,Hs)),n=v_e(aP,r,void 0,void 0,s3);return mi(n,Hs)}function RS(t){const e=aP(Co(t,Hs));return mi(e,Hs)}function vo(t){const e=aP(Co(t,sE));return mi(e,Hs)}function vQ(t){return Co(`${t}`,wQ)}function Xh(t){return Number(mi(t,wQ))}function _Q(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function AQ(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function fAe(t){const e=vQ(typeof t.type<"u"?t.type:EQ);if(Xh(e)===xu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Co(t.senderPublicKey,Hs):void 0,n=typeof t.iv<"u"?Co(t.iv,Hs):yp(Qb),s=Co(t.symKey,Hs),i=ZJ(s,n).encrypt(Co(t.message,sE)),o=CQ({type:e,sealed:i,iv:n,senderPublicKey:r});return t.encoding===Ul?_Q(o):o}function hAe(t){const e=Co(t.symKey,Hs),{sealed:r,iv:n}=u1({encoded:t.encoded,encoding:t.encoding}),s=ZJ(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return mi(s,sE)}function pAe(t,e){const r=vQ(iE),n=yp(Qb),s=Co(t,sE),i=CQ({type:r,sealed:s,iv:n});return e===Ul?_Q(i):i}function mAe(t,e){const{sealed:r}=u1({encoded:t,encoding:e});return mi(r,sE)}function CQ(t){if(Xh(t.type)===iE)return mi(Jb([t.type,t.sealed]),ai);if(Xh(t.type)===xu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return mi(Jb([t.type,t.senderPublicKey,t.iv,t.sealed]),ai)}return mi(Jb([t.type,t.iv,t.sealed]),ai)}function u1(t){const e=(t.encoding||ai)===Ul?AQ(t.encoded):t.encoded,r=Co(e,ai),n=r.slice(uAe,MD),s=MD;if(Xh(n)===xu){const c=s+s3,u=c+Qb,l=r.slice(s,c),d=r.slice(c,u),f=r.slice(u);return{type:n,sealed:f,iv:d,senderPublicKey:l}}if(Xh(n)===iE){const c=r.slice(s),u=yp(Qb);return{type:n,sealed:c,iv:u}}const i=s+Qb,o=r.slice(s,i),a=r.slice(i);return{type:n,sealed:a,iv:o}}function gAe(t,e){const r=u1({encoded:t,encoding:e==null?void 0:e.encoding});return SQ({type:Xh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?mi(r.senderPublicKey,Hs):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function SQ(t){const e=(t==null?void 0:t.type)||EQ;if(e===xu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function UD(t){return t.type===xu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function LD(t){return t.type===iE}function yAe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Jb([new Uint8Array([4]),e,r])}function bAe(t,e){const[r,n,s]=t.split("."),i=Buffer.from(AQ(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${r}.${n}`,u=aP(c),l=yAe(e);if(!cAe.verify(Jb([o,a]),u,l))throw new Error("Invalid signature");return yR(t).payload}const wAe="irn";function zI(t){return(t==null?void 0:t.relay)||{protocol:wAe}}function x0(t){const e=X1e[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var EAe=Object.defineProperty,vAe=Object.defineProperties,_Ae=Object.getOwnPropertyDescriptors,FD=Object.getOwnPropertySymbols,AAe=Object.prototype.hasOwnProperty,CAe=Object.prototype.propertyIsEnumerable,HD=(t,e,r)=>e in t?EAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c5=(t,e)=>{for(var r in e||(e={}))AAe.call(e,r)&&HD(t,r,e[r]);if(FD)for(var r of FD(e))CAe.call(e,r)&&HD(t,r,e[r]);return t},SAe=(t,e)=>vAe(t,_Ae(e));function IAe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),o=t[s];r[i]=o}}),r}function qD(t){if(!t.includes("wc:")){const u=PJ(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(i),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:TAe(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:IAe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function TAe(t){return t.startsWith("//")?t.substring(2):t}function PAe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=s,o=r+e+i;t[i]&&(n[o]=t[i])}),n}function zD(t){const e=new URLSearchParams,r=c5(c5(SAe(c5({},PAe(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&e.append(n,String(s))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function xv(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var xAe=Object.defineProperty,OAe=Object.defineProperties,RAe=Object.getOwnPropertyDescriptors,$D=Object.getOwnPropertySymbols,NAe=Object.prototype.hasOwnProperty,BAe=Object.prototype.propertyIsEnumerable,VD=(t,e,r)=>e in t?xAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kAe=(t,e)=>{for(var r in e||(e={}))NAe.call(e,r)&&VD(t,r,e[r]);if($D)for(var r of $D(e))BAe.call(e,r)&&VD(t,r,e[r]);return t},jAe=(t,e)=>OAe(t,RAe(e));function _g(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function IQ(t){const e=[];return Object.values(t).forEach(r=>{e.push(..._g(r.accounts))}),[...new Set(e)]}function DAe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...r.methods)}),[...new Set(e)]}function MAe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...r.events)}),[...new Set(e)]}function UAe(t,e){const r=[];return Object.values(t).forEach(n=>{_g(n.accounts).includes(e)&&r.push(...n.methods)}),r}function LAe(t,e){const r=[];return Object.values(t).forEach(n=>{_g(n.accounts).includes(e)&&r.push(...n.events)}),r}function lP(t){return t.includes(":")}function O0(t){return lP(t)?t.split(":")[0]:t}function GD(t){var e,r,n;const s={};if(!cc(t))return s;for(const[i,o]of Object.entries(t)){const a=lP(i)?[i]:o.chains,c=o.methods||[],u=o.events||[],l=O0(i);s[l]=jAe(kAe({},s[l]),{chains:ac(a,(e=s[l])==null?void 0:e.chains),methods:ac(c,(r=s[l])==null?void 0:r.methods),events:ac(u,(n=s[l])==null?void 0:n.events)})}return s}function FAe(t){const e={};return t==null||t.forEach(r=>{var n;const[s,i]=r.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(r),(n=e[s].chains)==null||n.push(`${s}:${i}`)}),e}function WD(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=FAe(e);for(const[n,s]of Object.entries(r))s.methods?s.methods=ac(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}function HAe(t,e){var r,n,s,i,o,a;const c=GD(t),u=GD(e),l={},d=Object.keys(c).concat(Object.keys(u));for(const f of d)l[f]={chains:ac((r=c[f])==null?void 0:r.chains,(n=u[f])==null?void 0:n.chains),methods:ac((s=c[f])==null?void 0:s.methods,(i=u[f])==null?void 0:i.methods),events:ac((o=c[f])==null?void 0:o.events,(a=u[f])==null?void 0:a.events)};return l}const qAe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},zAe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function De(t,e){const{message:r,code:n}=zAe[t];return{message:e?`${r} ${e}`:r,code:n}}function Lr(t,e){const{message:r,code:n}=qAe[t];return{message:e?`${r} ${e}`:r,code:n}}function Ou(t,e){return!!Array.isArray(t)}function cc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function xn(t){return typeof t>"u"}function pn(t,e){return e&&xn(t)?!0:typeof t=="string"&&!!t.trim().length}function i3(t,e){return typeof t=="number"&&!isNaN(t)}function $Ae(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let i=!0;return th(s,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],l=_g(a),d=r[o];(!th(AJ(o,d),l)||!th(d.methods,c)||!th(d.events,u))&&(i=!1)}),i):!1}function $I(t){return pn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function VAe(t){if(pn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&$I(r)}}return!1}function GAe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(pn(t,!1)){if(e(t))return!0;const r=PJ(t);return e(r)}}catch{}return!1}function WAe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function KAe(t){return t==null?void 0:t.topic}function ZAe(t,e){let r=null;return pn(t==null?void 0:t.publicKey,!1)||(r=De("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function KD(t){let e=!0;return Ou(t)?t.length&&(e=t.every(r=>pn(r,!1))):e=!1,e}function YAe(t,e,r){let n=null;return Ou(e)&&e.length?e.forEach(s=>{n||$I(s)||(n=Lr("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):$I(t)||(n=Lr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function JAe(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;const o=YAe(s,AJ(s,i),`${e} ${r}`);o&&(n=o)}),n}function QAe(t,e){let r=null;return Ou(t)?t.forEach(n=>{r||VAe(n)||(r=Lr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Lr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function XAe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=QAe(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function e2e(t,e){let r=null;return KD(t==null?void 0:t.methods)?KD(t==null?void 0:t.events)||(r=Lr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Lr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function TQ(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=e2e(n,`${e}, namespace`);s&&(r=s)}),r}function t2e(t,e,r){let n=null;if(t&&cc(t)){const s=TQ(t,e);s&&(n=s);const i=JAe(t,e,r);i&&(n=i)}else n=De("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function u5(t,e){let r=null;if(t&&cc(t)){const n=TQ(t,e);n&&(r=n);const s=XAe(t,e);s&&(r=s)}else r=De("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function PQ(t){return pn(t.protocol,!0)}function r2e(t,e){let r=!1;return t?t&&Ou(t)&&t.length&&t.forEach(n=>{r=PQ(n)}):r=!0,r}function n2e(t){return typeof t=="number"}function ei(t){return typeof t<"u"&&typeof t!==null}function s2e(t){return!(!t||typeof t!="object"||!t.code||!i3(t.code)||!t.message||!pn(t.message,!1))}function i2e(t){return!(xn(t)||!pn(t.method,!1))}function o2e(t){return!(xn(t)||xn(t.result)&&xn(t.error)||!i3(t.id)||!pn(t.jsonrpc,!1))}function a2e(t){return!(xn(t)||!pn(t.name,!1))}function ZD(t,e){return!(!$I(e)||!IQ(t).includes(e))}function c2e(t,e,r){return pn(r,!1)?UAe(t,e).includes(r):!1}function u2e(t,e,r){return pn(r,!1)?LAe(t,e).includes(r):!1}function YD(t,e,r){let n=null;const s=l2e(t),i=d2e(e),o=Object.keys(s),a=Object.keys(i),c=JD(Object.keys(t)),u=JD(Object.keys(e)),l=c.filter(d=>!u.includes(d));return l.length&&(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${l.toString()}
      Received: ${Object.keys(e).toString()}`)),th(o,a)||(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;const f=_g(e[d].accounts);f.includes(d)||(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{n||(th(s[d].methods,i[d].methods)?th(s[d].events,i[d].events)||(n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=De("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function l2e(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function JD(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function d2e(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=_g(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function f2e(t,e){return i3(t)&&t<=e.max&&t>=e.min}function QD(){const t=tE();return new Promise(e=>{switch(t){case Qi.browser:e(h2e());break;case Qi.reactNative:e(p2e());break;case Qi.node:e(m2e());break;default:e(!0)}})}function h2e(){return vg()&&(navigator==null?void 0:navigator.onLine)}async function p2e(){if(Bd()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function m2e(){return!0}function g2e(t){switch(tE()){case Qi.browser:y2e(t);break;case Qi.reactNative:b2e(t);break}}function y2e(t){!Bd()&&vg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function b2e(t){Bd()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function w2e(){var t;return vg()&&Mu.getDocument()?((t=Mu.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const l5={};class oy{static get(e){return l5[e]}static set(e,r){l5[e]=r}static delete(e){delete l5[e]}}function E2e(t){const e=Eg.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function v2e({publicKey:t,signature:e,payload:r}){var n;const s=FR(r.method),i=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=C2e(r.address),a=r.era==="00"?new Uint8Array([0]):FR(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),u=new Uint8Array([c&255,c>>8&255]),l=BigInt(`0x${A2e(r.tip)}`),d=I2e(l),f=new Uint8Array([0,...t,o,...e,...a,...u,...d,...s]),h=S2e(f.length+1);return new Uint8Array([...h,i,...f])}function _2e(t){const e=FR(t),r=nEe.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function FR(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function A2e(t){return t.startsWith("0x")?t.slice(2):t}function C2e(t){const e=Eg.decode(t)[0];return e===42?0:e===60?2:1}function S2e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function I2e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function T2e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=E2e(t.transaction.address),n=v2e({publicKey:r,signature:e,payload:t.transaction}),s=Buffer.from(n).toString("hex");return _2e(s)}function o3({logger:t,name:e}){const r=typeof t=="string"?HT({opts:{level:t,name:e}}).logger:t;return r.level=typeof t=="string"?t:t.level,r}const P2e="PARSE_ERROR",x2e="INVALID_REQUEST",O2e="METHOD_NOT_FOUND",R2e="INVALID_PARAMS",xQ="INTERNAL_ERROR",a3="SERVER_ERROR",N2e=[-32700,-32600,-32601,-32602,-32603],Xb={[P2e]:{code:-32700,message:"Parse error"},[x2e]:{code:-32600,message:"Invalid Request"},[O2e]:{code:-32601,message:"Method not found"},[R2e]:{code:-32602,message:"Invalid params"},[xQ]:{code:-32603,message:"Internal error"},[a3]:{code:-32e3,message:"Server error"}},OQ=a3;function B2e(t){return N2e.includes(t)}function XD(t){return Object.keys(Xb).includes(t)?Xb[t]:Xb[OQ]}function k2e(t){const e=Object.values(Xb).find(r=>r.code===t);return e||Xb[OQ]}function RQ(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var d5={},Pc={},eM;function j2e(){if(eM)return Pc;eM=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.isBrowserCryptoAvailable=Pc.getSubtleCrypto=Pc.getBrowerCrypto=void 0;function t(){return(Za==null?void 0:Za.crypto)||(Za==null?void 0:Za.msCrypto)||{}}Pc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Pc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Pc.isBrowserCryptoAvailable=r,Pc}var xc={},tM;function D2e(){if(tM)return xc;tM=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.isBrowser=xc.isNode=xc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}xc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}xc.isNode=e;function r(){return!t()&&!e()}return xc.isBrowser=r,xc}var rM;function M2e(){return rM||(rM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Z1;e.__exportStar(j2e(),t),e.__exportStar(D2e(),t)})(d5)),d5}var U2e=M2e();function Da(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function sd(t=6){return BigInt(Da(t))}function Qo(t,e,r){return{id:r||Da(),jsonrpc:"2.0",method:t,params:e}}function l1(t,e){return{id:t,jsonrpc:"2.0",result:e}}function dP(t,e,r){return{id:t,jsonrpc:"2.0",error:L2e(e)}}function L2e(t,e){return typeof t>"u"?XD(xQ):(typeof t=="string"&&(t=Object.assign(Object.assign({},XD(a3)),{message:t})),B2e(t.code)&&(t=k2e(t.code)),t)}let F2e=class{},H2e=class extends F2e{constructor(){super()}},q2e=class extends H2e{constructor(e){super()}};const z2e="^https?:",$2e="^wss?:";function V2e(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function NQ(t,e){const r=V2e(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function nM(t){return NQ(t,z2e)}function sM(t){return NQ(t,$2e)}function G2e(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function BQ(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function c3(t){return BQ(t)&&"method"in t}function fP(t){return BQ(t)&&(Ma(t)||_o(t))}function Ma(t){return"result"in t}function _o(t){return"error"in t}let u3=class extends q2e{constructor(e){super(e),this.events=new xo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Qo(e.method,e.params||[],e.id||sd().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{_o(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),fP(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const W2e=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),K2e=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",iM=t=>t.split("?")[0],oM=10,Z2e=W2e();let Y2e=class{constructor(e){if(this.url=e,this.events=new xo.EventEmitter,this.registering=!1,!sM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Du(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!sM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=U2e.isReactNative()?void 0:{rejectUnauthorized:!G2e(e)},i=new Z2e(e,[],s);K2e()?i.onerror=o=>{const a=o;n(this.emitError(a.error))}:i.on("error",o=>{n(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Zh(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=dP(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return RQ(e,iM(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>oM&&this.events.setMaxListeners(oM)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${iM(this.url)}`));return this.events.emit("register_error",r),r}};var J2e={};const kQ="wc",jQ=2,HR="core",pc=`${kQ}@2:${HR}:`,Q2e={logger:"error"},X2e={database:":memory:"},eCe="crypto",aM="client_ed25519_seed",tCe=je.ONE_DAY,rCe="keychain",nCe="0.3",sCe="messages",iCe="0.3",oCe=je.SIX_HOURS,aCe="publisher",DQ="irn",cCe="error",MQ="wss://relay.walletconnect.org",uCe="relayer",hn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lCe="_subscription",oo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dCe=.1,qR="2.23.0",kr={link_mode:"link_mode",relay:"relay"},NS={inbound:"inbound",outbound:"outbound"},fCe="0.3",hCe="WALLETCONNECT_CLIENT_ID",cM="WALLETCONNECT_LINK_MODE_APPS",Ui={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},pCe="subscription",mCe="0.3",gCe="pairing",yCe="0.3",ay={wc_pairingDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:je.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:je.ONE_DAY,prompt:!1,tag:0},res:{ttl:je.ONE_DAY,prompt:!1,tag:0}}},$f={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},No={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},bCe="history",wCe="0.3",ECe="expirer",ho={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vCe="0.3",_Ce="verify-api",ACe="https://verify.walletconnect.com",UQ="https://verify.walletconnect.org",ew=UQ,CCe=`${ew}/v3`,SCe=[ACe,UQ],ICe="echo",TCe="https://echo.walletconnect.com",ka={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Qc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Bo={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},af={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},cf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},cy={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},PCe=.1,xCe="event-client",OCe=86400,RCe="https://pulse.walletconnect.org/batch";function NCe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,E=0,w=p.length;E!==w&&p[E]===0;)E++,m++;for(var b=(w-E)*l+1>>>0,g=new Uint8Array(b);E!==w;){for(var v=p[E],A=0,C=b-1;(v!==0||A<y)&&C!==-1;C--,A++)v+=256*g[C]>>>0,g[C]=v%a>>>0,v=v/a>>>0;if(v!==0)throw new Error("Non-zero carry");y=A,E++}for(var x=b-y;x!==b&&g[x]===0;)x++;for(var T=c.repeat(m);x<b;++x)T+=t.charAt(g[x]);return T}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,E=0;p[m]===c;)y++,m++;for(var w=(p.length-m)*u+1>>>0,b=new Uint8Array(w);p[m];){var g=r[p.charCodeAt(m)];if(g===255)return;for(var v=0,A=w-1;(g!==0||v<E)&&A!==-1;A--,v++)g+=a*b[A]>>>0,b[A]=g%256>>>0,g=g/256>>>0;if(g!==0)throw new Error("Non-zero carry");E=v,m++}if(p[m]!==" "){for(var C=w-E;C!==w&&b[C]===0;)C++;for(var x=new Uint8Array(y+(w-C)),T=y;C!==w;)x[T++]=b[C++];return x}}}function h(p){var m=f(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var BCe=NCe,kCe=BCe;const LQ=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jCe=t=>new TextEncoder().encode(t),DCe=t=>new TextDecoder().decode(t);class MCe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class UCe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return FQ(this,e)}}class LCe{constructor(e){this.decoders=e}or(e){return FQ(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const FQ=(t,e)=>new LCe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class FCe{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new MCe(e,r,n),this.decoder=new UCe(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const hP=({name:t,prefix:e,encode:r,decode:n})=>new FCe(t,e,r,n),oE=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=kCe(r,e);return hP({prefix:t,name:e,encode:n,decode:i=>LQ(s(i))})},HCe=(t,e,r,n)=>{const s={};for(let l=0;l<e.length;++l)s[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,c=0,u=0;for(let l=0;l<i;++l){const d=s[t[l]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},qCe=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,i+=e[s&a>>o];if(o&&(i+=e[s&a<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Qn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>hP({prefix:e,name:t,encode(s){return qCe(s,n,r)},decode(s){return HCe(s,n,r,t)}}),zCe=hP({prefix:"\0",name:"identity",encode:t=>DCe(t),decode:t=>jCe(t)});var $Ce=Object.freeze({__proto__:null,identity:zCe});const VCe=Qn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var GCe=Object.freeze({__proto__:null,base2:VCe});const WCe=Qn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var KCe=Object.freeze({__proto__:null,base8:WCe});const ZCe=oE({prefix:"9",name:"base10",alphabet:"0123456789"});var YCe=Object.freeze({__proto__:null,base10:ZCe});const JCe=Qn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),QCe=Qn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var XCe=Object.freeze({__proto__:null,base16:JCe,base16upper:QCe});const eSe=Qn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tSe=Qn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rSe=Qn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nSe=Qn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),sSe=Qn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iSe=Qn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),oSe=Qn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),aSe=Qn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cSe=Qn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var uSe=Object.freeze({__proto__:null,base32:eSe,base32upper:tSe,base32pad:rSe,base32padupper:nSe,base32hex:sSe,base32hexupper:iSe,base32hexpad:oSe,base32hexpadupper:aSe,base32z:cSe});const lSe=oE({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dSe=oE({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var fSe=Object.freeze({__proto__:null,base36:lSe,base36upper:dSe});const hSe=oE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pSe=oE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var mSe=Object.freeze({__proto__:null,base58btc:hSe,base58flickr:pSe});const gSe=Qn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ySe=Qn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),bSe=Qn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wSe=Qn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ESe=Object.freeze({__proto__:null,base64:gSe,base64pad:ySe,base64url:bSe,base64urlpad:wSe});const HQ=Array.from(""),vSe=HQ.reduce((t,e,r)=>(t[r]=e,t),[]),_Se=HQ.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ASe(t){return t.reduce((e,r)=>(e+=vSe[r],e),"")}function CSe(t){const e=[];for(const r of t){const n=_Se[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const SSe=hP({prefix:"",name:"base256emoji",encode:ASe,decode:CSe});var ISe=Object.freeze({__proto__:null,base256emoji:SSe}),TSe=qQ,uM=128,PSe=-128,xSe=Math.pow(2,31);function qQ(t,e,r){e=e||[],r=r||0;for(var n=r;t>=xSe;)e[r++]=t&255|uM,t/=128;for(;t&PSe;)e[r++]=t&255|uM,t>>>=7;return e[r]=t|0,qQ.bytes=r-n+1,e}var OSe=zR,RSe=128,lM=127;function zR(t,n){var r=0,n=n||0,s=0,i=n,o,a=t.length;do{if(i>=a)throw zR.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&lM)<<s:(o&lM)*Math.pow(2,s),s+=7}while(o>=RSe);return zR.bytes=i-n,r}var NSe=Math.pow(2,7),BSe=Math.pow(2,14),kSe=Math.pow(2,21),jSe=Math.pow(2,28),DSe=Math.pow(2,35),MSe=Math.pow(2,42),USe=Math.pow(2,49),LSe=Math.pow(2,56),FSe=Math.pow(2,63),HSe=function(t){return t<NSe?1:t<BSe?2:t<kSe?3:t<jSe?4:t<DSe?5:t<MSe?6:t<USe?7:t<LSe?8:t<FSe?9:10},qSe={encode:TSe,decode:OSe,encodingLength:HSe},zQ=qSe;const dM=(t,e,r=0)=>(zQ.encode(t,e,r),e),fM=t=>zQ.encodingLength(t),$R=(t,e)=>{const r=e.byteLength,n=fM(t),s=n+fM(r),i=new Uint8Array(s+r);return dM(t,i,0),dM(r,i,n),i.set(e,s),new zSe(t,r,e,i)};class zSe{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const $Q=({name:t,code:e,encode:r})=>new $Se(t,e,r);class $Se{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?$R(this.code,r):r.then(n=>$R(this.code,n))}else throw Error("Unknown type, must be binary type")}}const VQ=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),VSe=$Q({name:"sha2-256",code:18,encode:VQ("SHA-256")}),GSe=$Q({name:"sha2-512",code:19,encode:VQ("SHA-512")});var WSe=Object.freeze({__proto__:null,sha256:VSe,sha512:GSe});const GQ=0,KSe="identity",WQ=LQ,ZSe=t=>$R(GQ,WQ(t)),YSe={code:GQ,name:KSe,encode:WQ,digest:ZSe};var JSe=Object.freeze({__proto__:null,identity:YSe});new TextEncoder,new TextDecoder;const hM={...$Ce,...GCe,...KCe,...YCe,...XCe,...uSe,...fSe,...mSe,...ESe,...ISe};({...WSe,...JSe});function KQ(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function QSe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?KQ(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ZQ(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const pM=ZQ("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),f5=ZQ("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=QSe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),XSe={utf8:pM,"utf-8":pM,hex:hM.base16,latin1:f5,ascii:f5,binary:f5,...hM};function eIe(t,e="utf8"){const r=XSe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?KQ(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var tIe=Object.defineProperty,rIe=(t,e,r)=>e in t?tIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ta=(t,e,r)=>rIe(t,typeof e!="symbol"?e+"":e,r);class nIe{constructor(e,r){this.core=e,this.logger=r,Ta(this,"keychain",new Map),Ta(this,"name",rCe),Ta(this,"version",nCe),Ta(this,"initialized",!1),Ta(this,"storagePrefix",pc),Ta(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Ta(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Ta(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),Ta(this,"get",n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=De("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),Ta(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Ei(r,this.name)}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,TR(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?PR(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sIe=Object.defineProperty,iIe=(t,e,r)=>e in t?sIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cn=(t,e,r)=>iIe(t,typeof e!="symbol"?e+"":e,r);class oIe{constructor(e,r,n){this.core=e,this.logger=r,Cn(this,"name",eCe),Cn(this,"keychain"),Cn(this,"randomSessionIdentifier",LR()),Cn(this,"initialized",!1),Cn(this,"clientId"),Cn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Cn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Cn(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const s=await this.getClientSeed(),i=Pj(s),o=jY(i.publicKey);return this.clientId=o,o}),Cn(this,"generateKeyPair",()=>{this.isInitialized();const s=lAe();return this.setPrivateKey(s.publicKey,s.privateKey)}),Cn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=Pj(i),a=this.randomSessionIdentifier;return await Pye(a,s,tCe,o)}),Cn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=dAe(a,i);return this.setSymKey(c,o)}),Cn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||RS(s);return await this.keychain.set(o,s),o}),Cn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Cn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Cn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=SQ(o),c=Du(i);if(LD(a))return pAe(c,o==null?void 0:o.encoding);if(UD(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(f,h)}const u=this.getSymKey(s),{type:l,senderPublicKey:d}=a;return fAe({type:l,symKey:u,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Cn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=gAe(i,o);if(LD(a)){const c=mAe(i,o==null?void 0:o.encoding);return Zh(c)}if(UD(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;s=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(s),u=hAe({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Zh(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Cn(this,"getPayloadType",(s,i=ai)=>{const o=u1({encoded:s,encoding:i});return Xh(o.type)}),Cn(this,"getPayloadSenderPublicKey",(s,i=ai)=>{const o=u1({encoded:s,encoding:i});return o.senderPublicKey?mi(o.senderPublicKey,Hs):void 0}),this.core=e,this.logger=Ei(r,this.name),this.keychain=n||new nIe(this.core,this.logger)}get context(){return wi(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(aM)}catch{e=LR(),await this.keychain.set(aM,e)}return eIe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var aIe=Object.defineProperty,cIe=Object.defineProperties,uIe=Object.getOwnPropertyDescriptors,mM=Object.getOwnPropertySymbols,lIe=Object.prototype.hasOwnProperty,dIe=Object.prototype.propertyIsEnumerable,VR=(t,e,r)=>e in t?aIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fIe=(t,e)=>{for(var r in e||(e={}))lIe.call(e,r)&&VR(t,r,e[r]);if(mM)for(var r of mM(e))dIe.call(e,r)&&VR(t,r,e[r]);return t},hIe=(t,e)=>cIe(t,uIe(e)),Pi=(t,e,r)=>VR(t,typeof e!="symbol"?e+"":e,r);class pIe extends I0e{constructor(e,r){super(e,r),this.logger=e,this.core=r,Pi(this,"messages",new Map),Pi(this,"messagesWithoutClientAck",new Map),Pi(this,"name",sCe),Pi(this,"version",iCe),Pi(this,"initialized",!1),Pi(this,"storagePrefix",pc),Pi(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Pi(this,"set",async(n,s,i)=>{this.isInitialized();const o=vo(s);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(n,a),i===NS.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,hIe(fIe({},c),{[o]:s}))}return await this.persist(),o}),Pi(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Pi(this,"getWithoutAck",n=>{this.isInitialized();const s={};for(const i of n){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Pi(this,"has",(n,s)=>{this.isInitialized();const i=this.get(n),o=vo(s);return typeof i[o]<"u"}),Pi(this,"ack",async(n,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;const o=vo(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),Pi(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Ei(e,this.name),this.core=r}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,TR(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,TR(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?PR(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?PR(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var mIe=Object.defineProperty,gIe=Object.defineProperties,yIe=Object.getOwnPropertyDescriptors,gM=Object.getOwnPropertySymbols,bIe=Object.prototype.hasOwnProperty,wIe=Object.prototype.propertyIsEnumerable,GR=(t,e,r)=>e in t?mIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hp=(t,e)=>{for(var r in e||(e={}))bIe.call(e,r)&&GR(t,r,e[r]);if(gM)for(var r of gM(e))wIe.call(e,r)&&GR(t,r,e[r]);return t},yM=(t,e)=>gIe(t,yIe(e)),ao=(t,e,r)=>GR(t,typeof e!="symbol"?e+"":e,r);class EIe extends T0e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ao(this,"events",new xo.EventEmitter),ao(this,"name",aCe),ao(this,"queue",new Map),ao(this,"publishTimeout",je.toMiliseconds(je.ONE_MINUTE)),ao(this,"initialPublishTimeout",je.toMiliseconds(je.ONE_SECOND*15)),ao(this,"needsTransportRestart",!1),ao(this,"publish",async(n,s,i)=>{var o,a,c,u,l;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const d=(i==null?void 0:i.ttl)||oCe,f=(i==null?void 0:i.prompt)||!1,h=(i==null?void 0:i.tag)||0,p=(i==null?void 0:i.id)||sd().toString(),m=x0(zI().protocol),y={id:p,method:(i==null?void 0:i.publishMethod)||m.publish,params:Hp({topic:n,message:s,ttl:d,prompt:f,tag:h,attestation:i==null?void 0:i.attestation},i==null?void 0:i.tvf)},E=`Failed to publish payload, please try again. id:${p} tag:${h}`;try{xn((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),xn((c=y.params)==null?void 0:c.tag)&&((u=y.params)==null||delete u.tag);const w=new Promise(async b=>{const g=({id:A})=>{var C;((C=y.id)==null?void 0:C.toString())===A.toString()&&(this.removeRequestFromQueue(A),this.relayer.events.removeListener(hn.publish,g),b())};this.relayer.events.on(hn.publish,g);const v=rc(new Promise((A,C)=>{this.rpcPublish(y,i).then(A).catch(x=>{this.logger.warn(x,x==null?void 0:x.message),C(x)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${h}`);try{await v,this.events.removeListener(hn.publish,g)}catch(A){this.queue.set(p,{request:y,opts:i,attempt:1}),this.logger.warn(A,A==null?void 0:A.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:n,message:s,opts:i}}),await rc(w,this.publishTimeout,E)}catch(w){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(w),(l=i==null?void 0:i.internal)!=null&&l.throwOnFailedPublish)throw w}finally{this.queue.delete(p)}}),ao(this,"publishCustom",async n=>{var s,i,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:u,opts:l={}}=n,{attestation:d,tvf:f,publishMethod:h,prompt:p,tag:m,ttl:y=je.FIVE_MINUTES}=l,E=l.id||sd().toString(),w=x0(zI().protocol),b=h||w.publish,g={id:E,method:b,params:Hp(yM(Hp({},u),{ttl:y,prompt:p,tag:m,attestation:d}),f)},v=`Failed to publish custom payload, please try again. id:${E} tag:${m}`;try{xn((s=g.params)==null?void 0:s.prompt)&&((i=g.params)==null||delete i.prompt),xn((o=g.params)==null?void 0:o.tag)&&((a=g.params)==null||delete a.tag);const A=new Promise(async C=>{const x=({id:N})=>{var M;((M=g.id)==null?void 0:M.toString())===N.toString()&&(this.removeRequestFromQueue(N),this.relayer.events.removeListener(hn.publish,x),C())};this.relayer.events.on(hn.publish,x);const T=rc(new Promise((N,M)=>{this.rpcPublish(g,l).then(N).catch(k=>{this.logger.warn(k,k==null?void 0:k.message),M(k)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${b} id:${E} tag:${m}`);try{await T,this.events.removeListener(hn.publish,x)}catch(N){this.queue.set(E,{request:g,opts:l,attempt:1}),this.logger.warn(N,N==null?void 0:N.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:u,opts:l}}),await rc(A,this.publishTimeout,v)}catch(A){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(A),(c=l==null?void 0:l.internal)!=null&&c.throwOnFailedPublish)throw A}finally{this.queue.delete(E)}}),ao(this,"on",(n,s)=>{this.events.on(n,s)}),ao(this,"once",(n,s)=>{this.events.once(n,s)}),ao(this,"off",(n,s)=>{this.events.off(n,s)}),ao(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=Ei(r,this.name),this.registerEventListeners()}get context(){return wi(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(hn.publish,Hp(Hp({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const s=e.attempt+1;this.queue.set(r,yM(Hp({},e),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(mp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(hn.connection_stalled);return}this.checkQueue()}),this.relayer.on(hn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var vIe=Object.defineProperty,_Ie=(t,e,r)=>e in t?vIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qp=(t,e,r)=>_Ie(t,typeof e!="symbol"?e+"":e,r);class AIe{constructor(){qp(this,"map",new Map),qp(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),qp(this,"get",e=>this.map.get(e)||[]),qp(this,"exists",(e,r)=>this.get(e).includes(r)),qp(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),qp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var CIe=Object.defineProperty,SIe=Object.defineProperties,IIe=Object.getOwnPropertyDescriptors,bM=Object.getOwnPropertySymbols,TIe=Object.prototype.hasOwnProperty,PIe=Object.prototype.propertyIsEnumerable,WR=(t,e,r)=>e in t?CIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uy=(t,e)=>{for(var r in e||(e={}))TIe.call(e,r)&&WR(t,r,e[r]);if(bM)for(var r of bM(e))PIe.call(e,r)&&WR(t,r,e[r]);return t},h5=(t,e)=>SIe(t,IIe(e)),br=(t,e,r)=>WR(t,typeof e!="symbol"?e+"":e,r);class xIe extends O0e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,br(this,"subscriptions",new Map),br(this,"topicMap",new AIe),br(this,"events",new xo.EventEmitter),br(this,"name",pCe),br(this,"version",mCe),br(this,"pending",new Map),br(this,"cached",[]),br(this,"initialized",!1),br(this,"storagePrefix",pc),br(this,"subscribeTimeout",je.toMiliseconds(je.ONE_MINUTE)),br(this,"initialSubscribeTimeout",je.toMiliseconds(je.ONE_SECOND*15)),br(this,"clientId"),br(this,"batchSubscribeTopicsLimit",500),br(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),br(this,"subscribe",async(n,s)=>{var i;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const o=zI(s),a={topic:n,relay:o,transportType:s==null?void 0:s.transportType};(i=s==null?void 0:s.internal)!=null&&i.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),br(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),br(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),br(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),br(this,"on",(n,s)=>{this.events.on(n,s)}),br(this,"once",(n,s)=>{this.events.once(n,s)}),br(this,"off",(n,s)=>{this.events.off(n,s)}),br(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),br(this,"start",async()=>{await this.onConnect()}),br(this,"stop",async()=>{await this.onDisconnect()}),br(this,"restart",async()=>{await this.restore(),await this.onRestart()}),br(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),br(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(mp.pulse,async()=>{await this.checkPending()}),this.events.on(Ui.created,async n=>{const s=Ui.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(Ui.deleted,async n=>{const s=Ui.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=Ei(r,this.name),this.clientId=""}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=zI(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);const i=Lr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s,i;const o=await this.getSubscriptionId(e);if((s=n==null?void 0:n.internal)!=null&&s.skipSubscribe)return o;(!n||(n==null?void 0:n.transportType)===kr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:x0(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===kr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},je.toMiliseconds(je.ONE_SECOND)),o;const u=new Promise(async d=>{const f=h=>{h.topic===e&&(this.events.removeListener(Ui.created,f),d(h.id))};this.events.on(Ui.created,f);try{const h=await rc(new Promise((p,m)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),m(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ui.created,f),d(h)}catch{}}),l=await rc(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return l?o:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(hn.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:x0(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await rc(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:x0(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await rc(new Promise((i,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(hn.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:x0(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,h5(uy({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,uy({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,uy({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ui.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ui.deleted,h5(uy({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ui.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Ui.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>h5(uy({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await OEe(je.toMiliseconds(je.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return vo(e+await this.getClientId())}}var OIe=Object.defineProperty,wM=Object.getOwnPropertySymbols,RIe=Object.prototype.hasOwnProperty,NIe=Object.prototype.propertyIsEnumerable,KR=(t,e,r)=>e in t?OIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EM=(t,e)=>{for(var r in e||(e={}))RIe.call(e,r)&&KR(t,r,e[r]);if(wM)for(var r of wM(e))NIe.call(e,r)&&KR(t,r,e[r]);return t},Qt=(t,e,r)=>KR(t,typeof e!="symbol"?e+"":e,r);class BIe extends P0e{constructor(e){var r;super(e),Qt(this,"protocol","wc"),Qt(this,"version",2),Qt(this,"core"),Qt(this,"logger"),Qt(this,"events",new xo.EventEmitter),Qt(this,"provider"),Qt(this,"messages"),Qt(this,"subscriber"),Qt(this,"publisher"),Qt(this,"name",uCe),Qt(this,"transportExplicitlyClosed",!1),Qt(this,"initialized",!1),Qt(this,"connectionAttemptInProgress",!1),Qt(this,"relayUrl"),Qt(this,"projectId"),Qt(this,"packageName"),Qt(this,"bundleId"),Qt(this,"hasExperiencedNetworkDisruption",!1),Qt(this,"pingTimeout"),Qt(this,"heartBeatTimeout",je.toMiliseconds(je.THIRTY_SECONDS+je.FIVE_SECONDS)),Qt(this,"reconnectTimeout"),Qt(this,"connectPromise"),Qt(this,"reconnectInProgress",!1),Qt(this,"requestsInFlight",[]),Qt(this,"connectTimeout",je.toMiliseconds(je.ONE_SECOND*15)),Qt(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");const o=n.id||sd().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");const a=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);const c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${o}`),a}}),Qt(this,"resetPingTimeout",()=>{MI()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),Qt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Qt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(hn.connect)}),Qt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Qt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(hn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Qt(this,"registerProviderListeners",()=>{this.provider.on(oo.payload,this.onPayloadHandler),this.provider.on(oo.connect,this.onConnectHandler),this.provider.on(oo.disconnect,this.onDisconnectHandler),this.provider.on(oo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=o3({logger:(r=e.logger)!=null?r:cCe,name:this.name}),this.messages=new pIe(this.logger,e.core),this.subscriber=new xIe(this,this.logger),this.publisher=new EIe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||MQ,pEe()?this.packageName=oD():mEe()&&(this.bundleId=oD()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return wi(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:kr.relay},NS.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",c;const u=l=>{l.topic===e&&(this.subscriber.off(Ui.created,u),c())};return await Promise.all([new Promise(l=>{c=l,this.subscriber.on(Ui.created,u)}),new Promise(async(l,d)=>{a=await this.subscriber.subscribe(e,EM({internal:{throwOnFailedPublish:o}},r)).catch(f=>{o&&d(f)})||a,l()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await rc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await QD())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=dn(je.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(hn.message,e),await this.recordMessageEvent(e,NS.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(oo.disconnect,i),await rc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(oo.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(oo.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(oo.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,je.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if(MI())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new u3(new Y2e(EEe({sdkVersion:qR,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),c3(e)){if(!e.method.endsWith(lCe))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:o}=r.data,a={topic:n,message:s,publishedAt:i,transportType:kr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(EM({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else fP(e)&&this.events.emit(hn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,NS.inbound),this.events.emit(hn.message,e))}async acknowledgePayload(e){const r=l1(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(oo.payload,this.onPayloadHandler),this.provider.off(oo.connect,this.onConnectHandler),this.provider.off(oo.disconnect,this.onDisconnectHandler),this.provider.off(oo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await QD();g2e(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(mp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&w2e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(hn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},je.toMiliseconds(dCe)))))}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function kIe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function vM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function _M(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const jIe="[object RegExp]",DIe="[object String]",MIe="[object Number]",UIe="[object Boolean]",AM="[object Arguments]",LIe="[object Symbol]",FIe="[object Date]",HIe="[object Map]",qIe="[object Set]",zIe="[object Array]",$Ie="[object Function]",VIe="[object ArrayBuffer]",p5="[object Object]",GIe="[object Error]",WIe="[object DataView]",KIe="[object Uint8Array]",ZIe="[object Uint8ClampedArray]",YIe="[object Uint16Array]",JIe="[object Uint32Array]",QIe="[object BigUint64Array]",XIe="[object Int8Array]",eTe="[object Int16Array]",tTe="[object Int32Array]",rTe="[object BigInt64Array]",nTe="[object Float32Array]",sTe="[object Float64Array]";function iTe(){}function CM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function oTe(t,e,r){return kb(t,e,void 0,void 0,void 0,void 0,r)}function kb(t,e,r,n,s,i,o){const a=o(t,e,r,n,s,i);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return tw(t,e,i,o)}return tw(t,e,i,o)}function tw(t,e,r,n){if(Object.is(t,e))return!0;let s=_M(t),i=_M(e);if(s===AM&&(s=p5),i===AM&&(i=p5),s!==i)return!1;switch(s){case DIe:return t.toString()===e.toString();case MIe:{const c=t.valueOf(),u=e.valueOf();return kIe(c,u)}case UIe:case FIe:case LIe:return Object.is(t.valueOf(),e.valueOf());case jIe:return t.source===e.source&&t.flags===e.flags;case $Ie:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(s){case HIe:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!kb(u,e.get(c),c,t,e,r,n))return!1;return!0}case qIe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let l=0;l<c.length;l++){const d=c[l],f=u.findIndex(h=>kb(d,h,void 0,t,e,r,n));if(f===-1)return!1;u.splice(f,1)}return!0}case zIe:case KIe:case ZIe:case YIe:case JIe:case QIe:case XIe:case eTe:case tTe:case rTe:case nTe:case sTe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!kb(t[c],e[c],c,t,e,r,n))return!1;return!0}case VIe:return t.byteLength!==e.byteLength?!1:tw(new Uint8Array(t),new Uint8Array(e),r,n);case WIe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:tw(new Uint8Array(t),new Uint8Array(e),r,n);case GIe:return t.name===e.name&&t.message===e.message;case p5:{if(!(tw(t.constructor,e.constructor,r,n)||CM(t)&&CM(e)))return!1;const c=[...Object.keys(t),...vM(t)],u=[...Object.keys(e),...vM(e)];if(c.length!==u.length)return!1;for(let l=0;l<c.length;l++){const d=c[l],f=t[d];if(!Object.hasOwn(e,d))return!1;const h=e[d];if(!kb(f,h,d,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function aTe(t,e){return oTe(t,e,iTe)}var cTe=Object.defineProperty,SM=Object.getOwnPropertySymbols,uTe=Object.prototype.hasOwnProperty,lTe=Object.prototype.propertyIsEnumerable,ZR=(t,e,r)=>e in t?cTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,IM=(t,e)=>{for(var r in e||(e={}))uTe.call(e,r)&&ZR(t,r,e[r]);if(SM)for(var r of SM(e))lTe.call(e,r)&&ZR(t,r,e[r]);return t},Ks=(t,e,r)=>ZR(t,typeof e!="symbol"?e+"":e,r);class bp extends x0e{constructor(e,r,n,s=pc,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,Ks(this,"map",new Map),Ks(this,"version",fCe),Ks(this,"cached",[]),Ks(this,"initialized",!1),Ks(this,"getKey"),Ks(this,"storagePrefix",pc),Ks(this,"recentlyDeleted",[]),Ks(this,"recentlyDeletedLimit",200),Ks(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!xn(o)?this.map.set(this.getKey(o),o):WAe(o)?this.map.set(o.id,o):KAe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ks(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ks(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Ks(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>aTe(a[c],o[c]))):this.values)),Ks(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=IM(IM({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ks(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Ei(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=De("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dTe=Object.defineProperty,fTe=(t,e,r)=>e in t?dTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jt=(t,e,r)=>fTe(t,typeof e!="symbol"?e+"":e,r);class hTe{constructor(e,r){this.core=e,this.logger=r,jt(this,"name",gCe),jt(this,"version",yCe),jt(this,"events",new N8),jt(this,"pairings"),jt(this,"initialized",!1),jt(this,"storagePrefix",pc),jt(this,"ignoredPayloadTypes",[xu]),jt(this,"registeredMethods",[]),jt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),jt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),jt(this,"create",async n=>{this.isInitialized();const s=LR(),i=await this.core.crypto.setSymKey(s),o=dn(je.FIVE_MINUTES),a={protocol:DQ},c={topic:i,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},u=zD({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit($f.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:i,uri:u}}),jt(this,"pair",async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[ka.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:u}=qD(n.uri);s.props.properties.topic=i,s.addTrace(ka.pairing_uri_validation_success),s.addTrace(ka.pairing_uri_not_expired);let l;if(this.pairings.keys.includes(i)){if(l=this.pairings.get(i),s.addTrace(ka.existing_pairing),l.active)throw s.setError(Qc.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ka.pairing_not_expired)}const d=c||dn(je.FIVE_MINUTES),f={topic:i,relay:a,expiry:d,active:!1,methods:u};this.core.expirer.set(i,d),await this.pairings.set(i,f),s.addTrace(ka.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit($f.create,f),s.addTrace(ka.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ka.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Qc.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(Qc.subscribe_pairing_topic_failure),h}return s.addTrace(ka.subscribe_pairing_topic_success),f}),jt(this,"activate",async({topic:n})=>{this.isInitialized();const s=dn(je.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),jt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Uf();this.events.once(hr("pairing_ping",i),({error:u})=>{u?c(u):a()}),await o()}}),jt(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),jt(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),jt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),jt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Lr("USER_DISCONNECTED")),await this.deletePairing(s))}),jt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(s);return zD({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),jt(this,"sendRequest",async(n,s,i)=>{const o=Qo(s,i),a=await this.core.crypto.encode(n,o),c=ay[s].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),jt(this,"sendResult",async(n,s,i)=>{const o=l1(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,u=ay[c].res;await this.core.relayer.publish(s,a,u),await this.core.history.resolve(o)}),jt(this,"sendError",async(n,s,i)=>{const o=dP(n,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,n)).request.method,u=ay[c]?ay[c].res:ay.unregistered_method.res;await this.core.relayer.publish(s,a,u),await this.core.history.resolve(o)}),jt(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Lr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),jt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(s=>Ya(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),jt(this,"onRelayEventRequest",async n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),jt(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i}=n,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),jt(this,"onPairingPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit($f.ping,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),jt(this,"onPairingPingResponse",(n,s)=>{const{id:i}=s;setTimeout(()=>{Ma(s)?this.events.emit(hr("pairing_ping",i),{}):_o(s)&&this.events.emit(hr("pairing_ping",i),{error:s.error})},500)}),jt(this,"onPairingDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit($f.delete,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),jt(this,"onUnknownRpcMethodRequest",async(n,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=Lr("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,n,a),this.logger.error(a)}catch(a){await this.sendError(i,n,a),this.logger.error(a)}}),jt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Lr("WC_METHOD_UNSUPPORTED",n))}),jt(this,"isValidPair",(n,s)=>{var i;if(!ei(n)){const{message:a}=De("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(Qc.malformed_pairing_uri),new Error(a)}if(!GAe(n.uri)){const{message:a}=De("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(Qc.malformed_pairing_uri),new Error(a)}const o=qD(n==null?void 0:n.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=De("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Qc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=De("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Qc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&je.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(Qc.pairing_expired);const{message:a}=De("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),jt(this,"isValidPing",async n=>{if(!ei(n)){const{message:i}=De("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),jt(this,"isValidDisconnect",async n=>{if(!ei(n)){const{message:i}=De("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),jt(this,"isValidPairingTopic",async n=>{if(!pn(n,!1)){const{message:s}=De("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=De("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(Ya(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=De("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=Ei(r,this.name),this.pairings=new bp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return wi(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(hn.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==kr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const i=await this.core.crypto.decode(r,n);c3(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):fP(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(ho.expired,async e=>{const{topic:r}=TJ(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit($f.expire,{topic:r}))})}}var pTe=Object.defineProperty,mTe=(t,e,r)=>e in t?pTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mn=(t,e,r)=>mTe(t,typeof e!="symbol"?e+"":e,r);class gTe extends S0e{constructor(e,r){super(e,r),this.core=e,this.logger=r,Mn(this,"records",new Map),Mn(this,"events",new xo.EventEmitter),Mn(this,"name",bCe),Mn(this,"version",wCe),Mn(this,"cached",[]),Mn(this,"initialized",!1),Mn(this,"storagePrefix",pc),Mn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Mn(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:dn(je.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(No.created,o)}),Mn(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=_o(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(No.updated,s))}),Mn(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),Mn(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(No.deleted,i)}}),this.persist()}),Mn(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),Mn(this,"on",(n,s)=>{this.events.on(n,s)}),Mn(this,"once",(n,s)=>{this.events.once(n,s)}),Mn(this,"off",(n,s)=>{this.events.off(n,s)}),Mn(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=Ei(r,this.name)}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Qo(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(No.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(No.created,e=>{const r=No.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(No.updated,e=>{const r=No.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(No.deleted,e=>{const r=No.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(mp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{je.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(No.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var yTe=Object.defineProperty,bTe=(t,e,r)=>e in t?yTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,os=(t,e,r)=>bTe(t,typeof e!="symbol"?e+"":e,r);class wTe extends R0e{constructor(e,r){super(e,r),this.core=e,this.logger=r,os(this,"expirations",new Map),os(this,"events",new xo.EventEmitter),os(this,"name",ECe),os(this,"version",vCe),os(this,"cached",[]),os(this,"initialized",!1),os(this,"storagePrefix",pc),os(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),os(this,"has",n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),os(this,"set",(n,s)=>{this.isInitialized();const i=this.formatTarget(n),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(ho.created,{target:i,expiration:o})}),os(this,"get",n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)}),os(this,"del",n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(ho.deleted,{target:s,expiration:i})}}),os(this,"on",(n,s)=>{this.events.on(n,s)}),os(this,"once",(n,s)=>{this.events.once(n,s)}),os(this,"off",(n,s)=>{this.events.off(n,s)}),os(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=Ei(r,this.name)}get context(){return wi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return vEe(e);if(typeof e=="number")return _Ee(e);const{message:r}=De("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ho.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=De("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=De("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;je.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(ho.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(mp.pulse,()=>this.checkExpirations()),this.events.on(ho.created,e=>{const r=ho.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ho.expired,e=>{const r=ho.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ho.deleted,e=>{const r=ho.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ETe=Object.defineProperty,vTe=(t,e,r)=>e in t?ETe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ln=(t,e,r)=>vTe(t,typeof e!="symbol"?e+"":e,r);class _Te extends N0e{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,ln(this,"name",_Ce),ln(this,"abortController"),ln(this,"isDevEnv"),ln(this,"verifyUrlV3",CCe),ln(this,"storagePrefix",pc),ln(this,"version",jQ),ln(this,"publicKey"),ln(this,"fetchPromise"),ln(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&je.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ln(this,"register",async s=>{if(!vg()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const u=Mu.getDocument(),l=this.startAbortTimer(je.ONE_SECOND*5),d=await new Promise((f,h)=>{const p=()=>{window.removeEventListener("message",y),u.body.removeChild(m),h("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=u.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const y=E=>{if(E.data&&typeof E.data=="string")try{const w=JSON.parse(E.data);if(w.type==="verify_attestation"){if(yR(w.attestation).payload.id!==o)return;clearInterval(l),u.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),f(w.attestation===null?"":w.attestation)}}catch(w){this.logger.warn(w)}};u.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(u){this.logger.warn(u)}return""}),ln(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(yR(i).payload.id!==a)return;const u=await this.isValidJwtAttestation(i);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),ln(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(je.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),ln(this,"getVerifyUrl",s=>{let i=s||ew;return SCe.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${ew}`),i=ew),i}),ln(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(je.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),ln(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),ln(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ln(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),ln(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ln(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),ln(this,"validateAttestation",(s,i)=>{const o=bAe(s,i.publicKey),a={hasExpired:je.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Ei(r,this.name),this.abortController=new AbortController,this.isDevEnv=Z8(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return wi(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),je.toMiliseconds(e))}}var ATe=Object.defineProperty,CTe=(t,e,r)=>e in t?ATe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TM=(t,e,r)=>CTe(t,typeof e!="symbol"?e+"":e,r);class STe extends B0e{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,TM(this,"context",ICe),TM(this,"registerDeviceToken",async n=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=n,c=`${TCe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Ei(r,this.context)}}var ITe=Object.defineProperty,PM=Object.getOwnPropertySymbols,TTe=Object.prototype.hasOwnProperty,PTe=Object.prototype.propertyIsEnumerable,YR=(t,e,r)=>e in t?ITe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ly=(t,e)=>{for(var r in e||(e={}))TTe.call(e,r)&&YR(t,r,e[r]);if(PM)for(var r of PM(e))PTe.call(e,r)&&YR(t,r,e[r]);return t},Sn=(t,e,r)=>YR(t,typeof e!="symbol"?e+"":e,r);class xTe extends k0e{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Sn(this,"context",xCe),Sn(this,"storagePrefix",pc),Sn(this,"storageVersion",PCe),Sn(this,"events",new Map),Sn(this,"shouldPersist",!1),Sn(this,"init",async()=>{if(!Z8())try{const s={eventId:cD(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:SJ(this.core.relayer.protocol,this.core.relayer.version,qR)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Sn(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,u=cD(),l=this.core.projectId||"",d=Date.now(),f=ly({eventId:u,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:l,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,f),this.shouldPersist=!0),f}),Sn(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return ly(ly({},a),this.setMethods(a.eventId))}),Sn(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Sn(this,"setEventListeners",()=>{this.core.heartbeat.on(mp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{je.fromMiliseconds(Date.now())-je.fromMiliseconds(s.timestamp)>OCe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Sn(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Sn(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Sn(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Sn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Sn(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,ly(ly({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Sn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Sn(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${RCe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${qR}${i}`,{method:"POST",body:JSON.stringify(s)})}),Sn(this,"getAppDomain",()=>CJ().url),this.logger=Ei(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var OTe=Object.defineProperty,xM=Object.getOwnPropertySymbols,RTe=Object.prototype.hasOwnProperty,NTe=Object.prototype.propertyIsEnumerable,JR=(t,e,r)=>e in t?OTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OM=(t,e)=>{for(var r in e||(e={}))RTe.call(e,r)&&JR(t,r,e[r]);if(xM)for(var r of xM(e))NTe.call(e,r)&&JR(t,r,e[r]);return t},Sr=(t,e,r)=>JR(t,typeof e!="symbol"?e+"":e,r);let BTe=class YQ extends v0e{constructor(e){var r;super(e),Sr(this,"protocol",kQ),Sr(this,"version",jQ),Sr(this,"name",HR),Sr(this,"relayUrl"),Sr(this,"projectId"),Sr(this,"customStoragePrefix"),Sr(this,"events",new xo.EventEmitter),Sr(this,"logger"),Sr(this,"heartbeat"),Sr(this,"relayer"),Sr(this,"crypto"),Sr(this,"storage"),Sr(this,"history"),Sr(this,"expirer"),Sr(this,"pairing"),Sr(this,"verify"),Sr(this,"echoClient"),Sr(this,"linkModeSupportedApps"),Sr(this,"eventClient"),Sr(this,"initialized",!1),Sr(this,"logChunkController"),Sr(this,"on",(a,c)=>this.events.on(a,c)),Sr(this,"once",(a,c)=>this.events.once(a,c)),Sr(this,"off",(a,c)=>this.events.off(a,c)),Sr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Sr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const l={topic:a,message:c,publishedAt:Date.now(),transportType:kr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:u})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||MQ,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=v8({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Q2e.logger,name:HR}),{logger:i,chunkLoggerController:o}=HT({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ei(i,this.name),this.heartbeat=new Upe,this.crypto=new oIe(this,this.logger,e==null?void 0:e.keychain),this.history=new gTe(this,this.logger),this.expirer=new wTe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new b0e(OM(OM({},X2e),e==null?void 0:e.storageOptions)),this.relayer=new BIe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new hTe(this,this.logger),this.verify=new _Te(this,this.logger,this.storage),this.echoClient=new STe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new xTe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new YQ(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(hCe,n),r}get context(){return wi(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(cM,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(cM)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&J2e.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const kTe=BTe,JQ="wc",QQ=2,XQ="client",l3=`${JQ}@${QQ}:${XQ}:`,m5={name:XQ,logger:"error"},RM="WALLETCONNECT_DEEPLINK_CHOICE",jTe="proposal",NM="Proposal expired",DTe="session",zp=je.SEVEN_DAYS,MTe="engine",Un={wc_sessionPropose:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1104},res:{ttl:je.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1106},res:{ttl:je.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1112},res:{ttl:je.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1114},res:{ttl:je.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:je.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:je.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1119}}},g5={min:je.FIVE_MINUTES,max:je.SEVEN_DAYS},Pa={idle:"IDLE",active:"ACTIVE"},UTe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},LTe="request",FTe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],HTe="wc",qTe="auth",zTe="authKeys",$Te="pairingTopics",VTe="requests",pP=`${HTe}@${1.5}:${qTe}:`,BS=`${pP}:PUB_KEY`;var GTe=Object.defineProperty,WTe=Object.defineProperties,KTe=Object.getOwnPropertyDescriptors,BM=Object.getOwnPropertySymbols,ZTe=Object.prototype.hasOwnProperty,YTe=Object.prototype.propertyIsEnumerable,QR=(t,e,r)=>e in t?GTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rr=(t,e)=>{for(var r in e||(e={}))ZTe.call(e,r)&&QR(t,r,e[r]);if(BM)for(var r of BM(e))YTe.call(e,r)&&QR(t,r,e[r]);return t},Ln=(t,e)=>WTe(t,KTe(e)),xe=(t,e,r)=>QR(t,typeof e!="symbol"?e+"":e,r);class JTe extends U0e{constructor(e){super(e),xe(this,"name",MTe),xe(this,"events",new N8),xe(this,"initialized",!1),xe(this,"requestQueue",{state:Pa.idle,queue:[]}),xe(this,"sessionRequestQueue",{state:Pa.idle,queue:[]}),xe(this,"emittedSessionRequests",new REe({limit:500})),xe(this,"requestQueueDelay",je.ONE_SECOND),xe(this,"expectedPairingMethodMap",new Map),xe(this,"recentlyDeletedMap",new Map),xe(this,"recentlyDeletedLimit",200),xe(this,"relayMessageCache",[]),xe(this,"pendingSessions",new Map),xe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Un)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay)))}),xe(this,"connect",async r=>{var n;this.isInitialized(),await this.confirmOnlineStateOrThrow();const s=Ln(rr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=HAe(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:l,authentication:d,walletPay:f}=s,h=((n=d==null?void 0:d[0])==null?void 0:n.ttl)||Un.wc_sessionPropose.req.ttl||je.FIVE_MINUTES;this.validateRequestExpiry(h);let p=i,m,y=!1;try{if(p){const T=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),T}if(!p||!y){const{topic:T,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=T,m=N}if(!p){const{message:T}=De("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(T)}const E=await this.client.core.crypto.generateKeyPair(),w=dn(h),b=rr(Ln(rr(rr({requiredNamespaces:o,optionalNamespaces:a,relays:l??[{protocol:DQ}],proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:p},c&&{sessionProperties:c}),u&&{scopedProperties:u}),{id:Da()}),(d||f)&&{requests:{authentication:d==null?void 0:d.map(T=>{const{domain:N,chains:M,nonce:k,uri:B,exp:U,nbf:I,type:S,statement:_,requestId:R,resources:O,signatureTypes:P}=T;return{domain:N,chains:M,nonce:k,type:S??"caip122",aud:B,version:"1",iat:new Date().toISOString(),exp:U,nbf:I,statement:_,requestId:R,resources:O,signatureTypes:P}}),walletPay:f}}),g=hr("session_connect",b.id),{reject:v,resolve:A,done:C}=Uf(h,NM),x=({id:T})=>{T===b.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(b.id),this.events.emit(g,{error:{message:NM,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(g,({error:T,session:N})=>{this.client.events.off("proposal_expire",x),T?v(T):N&&A(N)}),await this.setProposal(b.id,b),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}).catch(T=>{throw this.deleteProposal(b.id),T}),{uri:m,approval:C}}),xe(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),xe(this,"approve",async r=>{var n,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Bo.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(af.no_internet_connection),N}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(af.proposal_not_found),N}try{await this.isValidApprove(r)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(af.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f,proposalRequestsResponses:h}=r,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:y,requiredNamespaces:E,optionalNamespaces:w}=p;let b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:m});b||(b=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Bo.session_approve_started,properties:{topic:m,trace:[Bo.session_approve_started,Bo.session_namespaces_validation_success]}}));const g=await this.client.core.crypto.generateKeyPair(),v=y.publicKey,A=await this.client.core.crypto.generateSharedKey(g,v),C=Ln(rr(rr(rr({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:g,metadata:this.client.metadata},expiry:dn(zp)},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{proposalRequestsResponses:h}),x=kr.relay;b.addTrace(Bo.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:x,internal:{skipSubscribe:!0}})}catch(N){throw b.setError(af.subscribe_session_topic_failure),N}b.addTrace(Bo.subscribe_session_topic_success);const T=Ln(rr({},C),{topic:A,requiredNamespaces:E,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:C.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:g,transportType:kr.relay,authentication:h==null?void 0:h.authentication,walletPayResult:h==null?void 0:h.walletPay});await this.client.session.set(A,T),b.addTrace(Bo.store_session);try{await this.sendApproveSession({sessionTopic:A,proposal:p,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:g},sessionSettleRequest:C,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:rr({correlationId:a},this.getTVFApproveParams(T))}}),b.addTrace(Bo.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(A,Lr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(A),N}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:y.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(A,dn(zp)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),xe(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:s}=r;let i;try{i=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}i&&await this.sendError({id:n,topic:i,error:s,rpcOpts:Un.wc_sessionPropose.reject}),await this.deleteProposal(n)}),xe(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:n,namespaces:s}=r,{done:i,resolve:o,reject:a}=Uf(je.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=Da(),u=sd().toString(),l=this.client.session.get(n).namespaces;return this.events.once(hr("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:l}),a(d)}),{acknowledged:i}}),xe(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,s=Da(),{done:i,resolve:o,reject:a}=Uf(je.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(hr("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,dn(zp)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),xe(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:s,topic:i,expiry:o=Un.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(i);(a==null?void 0:a.transportType)===kr.relay&&await this.confirmOnlineStateOrThrow();const c=Da(),u=sd().toString(),{done:l,resolve:d,reject:f}=Uf(o,"Request expired. Please try again.");this.events.once(hr("session_request",c),({error:y,result:E})=>{y?f(y):d(E)});const h="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:i,method:h,params:{request:Ln(rr({},s),{expiryTimestamp:dn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),await l();const m={request:Ln(rr({},s),{expiryTimestamp:dn(o)}),chainId:n};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:i,method:h,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(E=>f(E)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:c}),y()}),new Promise(async y=>{var E;if(!((E=a.sessionConfig)!=null&&E.disableDeepLink)){const w=await IEe(this.client.core.storage,RM);await AEe({id:c,topic:i,wcDeepLink:w})}y()}),l()]).then(y=>y[2])}),xe(this,"respond",async r=>{var n,s;this.isInitialized();const i=this.client.core.eventClient.createEvent({properties:{topic:(r==null?void 0:r.topic)||((s=(n=r==null?void 0:r.response)==null?void 0:n.id)==null?void 0:s.toString()),trace:[Bo.session_request_response_started]}});try{await this.isValidRespond(r)}catch(d){throw i.addTrace(d==null?void 0:d.message),i.setError(af.session_request_response_validation_failure),d}i.addTrace(Bo.session_request_response_validation_success);const{topic:o,response:a}=r,{id:c}=a,u=this.client.session.get(o);u.transportType===kr.relay&&await this.confirmOnlineStateOrThrow();const l=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);try{i.addTrace(Bo.session_request_response_publish_started),Ma(a)?await this.sendResult({id:c,topic:o,result:a.result,throwOnFailedPublish:!0,appLink:l}):_o(a)&&await this.sendError({id:c,topic:o,error:a.error,appLink:l}),this.cleanupAfterResponse(r)}catch(d){throw i.addTrace(d==null?void 0:d.message),i.setError(af.session_request_response_publish_failure),d}}),xe(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=Da(),i=sd().toString(),{done:o,resolve:a,reject:c}=Uf(je.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(hr("session_ping",s),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),xe(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:s,chainId:i}=r,o=sd().toString(),a=Da();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),xe(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Lr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:s}=De("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),xe(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>$Ae(n,r)))),xe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),xe(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?kr.link_mode:kr.relay;o===kr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:l,nonce:d,type:f,exp:h,nbf:p,methods:m=[],expiry:y}=r,E=[...r.resources||[]],{topic:w,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:b}});const g=await this.client.core.crypto.generateKeyPair(),v=RS(g);if(await Promise.all([this.client.auth.authKeys.set(BS,{responseTopic:v,publicKey:g}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:w})]),await this.client.core.relayer.subscribe(v,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${w}`),m.length>0){const{namespace:O}=Pu(a[0]);let P=$ve(O,"request",m);OS(E)&&(P=Gve(P,E.pop())),E.push(P)}const A=y&&y>Un.wc_sessionAuthenticate.req.ttl?y:Un.wc_sessionAuthenticate.req.ttl,C={authPayload:{type:f??"caip122",chains:a,statement:c,aud:u,domain:l,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:p,resources:E},requester:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:dn(A)},x={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},T={requiredNamespaces:{},optionalNamespaces:x,relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:dn(Un.wc_sessionPropose.req.ttl),id:Da()},{done:N,resolve:M,reject:k}=Uf(A,"Request expired"),B=Da(),U=hr("session_connect",T.id),I=hr("session_request",B),S=async({error:O,session:P})=>{this.events.off(I,_),O?k(O):P&&M({session:P})},_=async O=>{var P,D,j;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),O.error){const Q=Lr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return O.error.code===Q.code?void 0:(this.events.off(U,S),k(O.error.message))}await this.deleteProposal(T.id),this.events.off(U,S);const{cacaos:F,responder:q}=O.result,z=[],W=[];for(const Q of F){await wD({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,"Signature verification failed"),k(Lr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:X}=Q,ie=OS(X.resources),Y=[xR(X.iss)],V=LI(X.iss);if(ie){const Z=ED(ie),ne=vD(ie);z.push(...Z),Y.push(...ne)}for(const Z of Y)W.push(`${Z}:${V}`)}const K=await this.client.core.crypto.generateSharedKey(g,q.publicKey);let re;z.length>0&&(re={topic:K,acknowledged:!0,self:{publicKey:g,metadata:this.client.metadata},peer:q,controller:q.publicKey,expiry:dn(zp),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:WD([...new Set(z)],[...new Set(W)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,re),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:q.metadata}),re=this.client.session.get(K)),(P=this.client.metadata.redirect)!=null&&P.linkMode&&(D=q.metadata.redirect)!=null&&D.linkMode&&(j=q.metadata.redirect)!=null&&j.universal&&n&&(this.client.core.addLinkModeSupportedApp(q.metadata.redirect.universal),this.client.session.update(K,{transportType:kr.link_mode})),M({auths:F,session:re})};this.events.once(U,S),this.events.once(I,_);let R;try{if(i){const O=Qo("wc_sessionAuthenticate",C,B);this.client.core.history.set(w,O);const P=await this.client.core.crypto.encode("",O,{type:iE,encoding:Ul});R=xv(n,w,P)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:C,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:T,expiry:Un.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:T.id})])}catch(O){throw this.events.off(U,S),this.events.off(I,_),O}return await this.setProposal(T.id,T),await this.setAuthRequest(B,{request:Ln(rr({},C),{verifyContext:{}}),pairingTopic:w,transportType:o}),{uri:R??b,response:N}}),xe(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[cf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(cy.no_internet_connection),y}const o=this.getPendingAuthRequest(n);if(!o)throw i.setError(cy.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||kr.relay;a===kr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),l=RS(c),d={type:xu,receiverPublicKey:c,senderPublicKey:u},f=[],h=[];for(const y of s){if(!await wD({cacao:y,projectId:this.client.core.projectId})){i.setError(cy.invalid_cacao);const v=Lr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:l,error:v,encodeOpts:d}),new Error(v.message)}i.addTrace(cf.cacaos_verified);const{p:E}=y,w=OS(E.resources),b=[xR(E.iss)],g=LI(E.iss);if(w){const v=ED(w),A=vD(w);f.push(...v),b.push(...A)}for(const v of b)h.push(`${v}:${g}`)}const p=await this.client.core.crypto.generateSharedKey(u,c);i.addTrace(cf.create_authenticated_session_topic);let m;if((f==null?void 0:f.length)>0){m={topic:p,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:dn(zp),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:WD([...new Set(f)],[...new Set(h)]),transportType:a},i.addTrace(cf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw i.setError(cy.subscribe_authenticated_session_topic_failure),y}i.addTrace(cf.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),i.addTrace(cf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(cf.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:n,result:{cacaos:s,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(cy.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:m}}),xe(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===kr.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=RS(o),u={type:xu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:s,encodeOpts:u,rpcOpts:Un.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),xe(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:s}=r;return $J(n,s)}),xe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),xe(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),xe(this,"deleteSession",async r=>{var n;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Lr("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(RM).catch(u=>this.client.logger.warn(u)),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Pa.idle),await Promise.all(this.getPendingSessionRequests().filter(u=>u.topic===s).map(u=>this.deletePendingSessionRequest(u.id,Lr("USER_DISCONNECTED")))),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),xe(this,"deleteProposal",async(r,n)=>{if(n)try{const s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(af.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Lr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),xe(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=Pa.idle,this.client.events.emit("session_request_expire",{id:r}))}),xe(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),xe(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),xe(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,dn(Un.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),xe(this,"setAuthRequest",async(r,n)=>{const{request:s,pairingTopic:i,transportType:o=kr.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),xe(this,"setPendingSessionRequest",async r=>{const{id:n,topic:s,params:i,verifyContext:o}=r,a=i.request.expiryTimestamp||dn(Un.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:o})}),xe(this,"sendRequest",async r=>{const{topic:n,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:l,tvf:d,publishOpts:f={}}=r,h=Qo(s,i,c);let p;const m=!!l;try{const w=m?Ul:ai;p=await this.client.core.crypto.encode(n,h,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),w}let y;if(FTe.includes(s)){const w=vo(JSON.stringify(h)),b=vo(p);y=await this.client.core.verify.register({id:b,decryptedId:w})}const E=rr(rr({},Un[s].req),f);if(E.attestation=y,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(n,h),m){const w=xv(l,n,p);await global.Linking.openURL(w,this.client.name)}else E.tvf=Ln(rr({},d),{correlationId:h.id}),u?(E.internal=Ln(rr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,p,E)):this.client.core.relayer.publish(n,p,E).catch(w=>this.client.logger.error(w));return h.id}),xe(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:s}=r,i=Qo("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,i);const o=await this.client.core.crypto.encode(n.pairingTopic,i,{encoding:ai}),a=vo(JSON.stringify(i)),c=vo(o),u=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Ln(rr({},s),{publishMethod:"wc_proposeSession",attestation:u})})}),xe(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:s,proposal:i,sessionSettleRequest:o,publishOpts:a}=r,c=l1(i.id,s),u=await this.client.core.crypto.encode(i.pairingTopic,c,{encoding:ai}),l=Qo("wc_sessionSettle",o,a==null?void 0:a.id),d=await this.client.core.crypto.encode(n,l,{encoding:ai});this.client.core.history.set(n,l),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:i.pairingTopic,sessionProposalResponse:u,sessionSettlementRequest:d},opts:Ln(rr({},a),{publishMethod:"wc_approveSession"})})}),xe(this,"sendResult",async r=>{const{id:n,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,u=l1(n,i);let l;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Ul:ai;l=await this.client.core.crypto.encode(s,u,Ln(rr({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),p}let f,h;try{f=await this.client.core.history.get(s,n);const p=f.request;try{h=this.getTVFParams(n,p.params,i)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),p}if(d){const p=xv(c,s,l);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,m=Un[p].res;m.tvf=Ln(rr({},h),{correlationId:n}),o?(m.internal=Ln(rr({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,l,m)):this.client.core.relayer.publish(s,l,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(u)}),xe(this,"sendError",async r=>{const{id:n,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=r,u=dP(n,i);let l;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?Ul:ai;l=await this.client.core.crypto.encode(s,u,Ln(rr({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let f;try{f=await this.client.core.history.get(s,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),h}if(d){const h=xv(c,s,l);await global.Linking.openURL(h,this.client.name)}else{const h=f.request.method,p=a||Un[h].res;this.client.core.relayer.publish(s,l,p)}await this.client.core.history.resolve(u)}),xe(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;Ya(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Ya(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),xe(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),xe(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),xe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Pa.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Pa.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Pa.idle}),xe(this,"processRequest",async r=>{const{topic:n,payload:s,attestation:i,transportType:o,encryptedId:a}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),xe(this,"onRelayEventResponse",async r=>{const{topic:n,payload:s,transportType:i}=r,o=(await this.client.core.history.get(n,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),xe(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:s}=De("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),xe(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),xe(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:s,attestation:i,encryptedId:o}=r,{params:a,id:c}=s;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError(Qc.proposal_listener_not_found)),this.isValidConnect(rr({},s.params));const l=a.expiryTimestamp||dn(Un.wc_sessionPropose.req.ttl),d=rr({id:c,pairingTopic:n,expiryTimestamp:l,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:i,hash:vo(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});u==null||u.addTrace(ka.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(u){await this.sendError({id:c,topic:n,error:u,rpcOpts:Un.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),xe(this,"onSessionProposeResponse",async(r,n,s)=>{const{id:i}=n;if(Ma(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const l=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(i,{sessionTopic:l,pairingTopic:r,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(l,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(_o(n)){await this.deleteProposal(i);const o=hr("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),xe(this,"onSessionSettleRequest",async(r,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:l,scopedProperties:d,sessionConfig:f,proposalRequestsResponses:h}=n.params,p=[...this.pendingSessions.values()].find(E=>E.sessionTopic===r);if(!p)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(p.proposalId),y=Ln(rr(rr(rr({topic:r,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},l&&{sessionProperties:l}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:kr.relay,authentication:h==null?void 0:h.authentication,walletPayResult:h==null?void 0:h.walletPay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:y.peer.metadata}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:n.id,topic:r,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:y}),this.events.emit(hr("session_connect",p.proposalId),{session:y})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionSettleResponse",async(r,n)=>{const{id:s}=n;Ma(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(hr("session_approve",s),{})):_o(n)&&(await this.client.session.delete(r,Lr("USER_DISCONNECTED")),this.events.emit(hr("session_approve",s),{error:n.error}))}),xe(this,"onSessionUpdateRequest",async(r,n)=>{const{params:s,id:i}=n;try{const o=`${r}_session_update`,a=oy.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:Lr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(rr({topic:r},s));try{oy.set(o,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0})}catch(c){throw oy.delete(o),c}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),xe(this,"onSessionUpdateResponse",(r,n)=>{const{id:s}=n,i=hr("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ma(n)?this.events.emit(hr("session_update",s),{}):_o(n)&&this.events.emit(hr("session_update",s),{error:n.error})}),xe(this,"onSessionExtendRequest",async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,dn(zp)),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionExtendResponse",(r,n)=>{const{id:s}=n,i=hr("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ma(n)?this.events.emit(hr("session_extend",s),{}):_o(n)&&this.events.emit(hr("session_extend",s),{error:n.error})}),xe(this,"onSessionPingRequest",async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionPingResponse",(r,n)=>{const{id:s}=n,i=hr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);Ma(n)?this.events.emit(hr("session_ping",s),{}):_o(n)&&this.events.emit(hr("session_ping",s),{error:n.error})},500)}),xe(this,"onSessionDeleteRequest",async(r,n)=>{const{id:s}=n;try{await this.isValidDisconnect({topic:r,reason:n.params}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Lr("USER_DISCONNECTED")}),await this.deleteSession({topic:r,id:s})}catch(i){this.client.logger.error(i)}}),xe(this,"onSessionRequest",async r=>{var n,s,i;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:l}=r,{id:d,params:f}=a;try{await this.isValidRequest(rr({topic:o},f));const h=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:vo(JSON.stringify(Qo("wc_sessionRequest",f,d))),encryptedId:u,metadata:h.peer.metadata,transportType:l}),m={id:d,topic:o,params:f,verifyContext:p};await this.setPendingSessionRequest(m),l===kr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),xe(this,"onSessionRequestResponse",(r,n)=>{const{id:s}=n,i=hr("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);Ma(n)?this.events.emit(hr("session_request",s),{result:n.result}):_o(n)&&this.events.emit(hr("session_request",s),{error:n.error})}),xe(this,"onSessionEventRequest",async(r,n)=>{const{id:s,params:i}=n;try{const o=`${r}_session_event_${i.event.name}`,a=oy.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(rr({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),oy.set(o,s)}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Ma(n)?this.events.emit(hr("session_request",s),{result:n.result}):_o(n)&&this.events.emit(hr("session_request",s),{error:n.error})}),xe(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:u,authPayload:l,expiryTimestamp:d}=i.params,f=await this.getVerifyContext({attestationId:o,hash:vo(JSON.stringify(i)),encryptedId:a,metadata:u.metadata,transportType:c}),h={requester:u,pairingTopic:s,id:i.id,authPayload:l,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===kr.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:f})}catch(u){this.client.logger.error(u);const l=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:xu,receiverPublicKey:l,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:u,encodeOpts:h,rpcOpts:Un.wc_sessionAuthenticate.autoReject,appLink:f})}}),xe(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),xe(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Pa.idle,this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay))}),xe(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{this.events.emit(hr("session_request",i.request.id),{error:n})})}),xe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Pa.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),xe(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Pa.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),xe(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Qo("wc_sessionPropose",Ln(rr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),xe(this,"isValidConnect",async r=>{if(!ei(r)){const{message:u}=De("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=r;if(xn(n)||await this.isValidPairingTopic(n),!r2e(c)){const{message:u}=De("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(s&&!xn(s)&&cc(s)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(s,"requiredNamespaces")}if(i&&!xn(i)&&cc(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),o&&!xn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!xn(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(l=>u.includes(l.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),xe(this,"validateNamespaces",(r,n)=>{const s=t2e(r,"connect()",n);if(s)throw new Error(s.message)}),xe(this,"isValidApprove",async r=>{if(!ei(r))throw new Error(De("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),u=u5(s,"approve()");if(u)throw new Error(u.message);const l=YD(c.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!pn(i,!0)){const{message:d}=De("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(o&&!xn(o)&&this.validateSessionProps(o,"sessionProperties"),a&&!xn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(f=>d.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),xe(this,"isValidReject",async r=>{if(!ei(r)){const{message:i}=De("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!s2e(s)){const{message:i}=De("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),xe(this,"isValidSessionSettleRequest",r=>{if(!ei(r)){const{message:u}=De("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:s,namespaces:i,expiry:o}=r;if(!PQ(n)){const{message:u}=De("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=ZAe(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=u5(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ya(o)){const{message:u}=De("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),xe(this,"isValidUpdate",async r=>{if(!ei(r)){const{message:c}=De("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const i=this.client.session.get(n),o=u5(s,"update()");if(o)throw new Error(o.message);const a=YD(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),xe(this,"isValidExtend",async r=>{if(!ei(r)){const{message:s}=De("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),xe(this,"isValidRequest",async r=>{if(!ei(r)){const{message:c}=De("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:s,chainId:i,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!ZD(a,i)){const{message:c}=De("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!i2e(s)){const{message:c}=De("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!c2e(a,i,s.method)){const{message:c}=De("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}this.validateRequestExpiry(o)}),xe(this,"isValidRespond",async r=>{var n;if(!ei(r)){const{message:a}=De("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!o2e(i)){const{message:a}=De("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(a)}const o=this.client.pendingRequest.get(i.id);if(o.topic!==s){const{message:a}=De("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${i.id}, expected topic: ${o.topic}, received topic: ${s}`);throw new Error(a)}}),xe(this,"isValidPing",async r=>{if(!ei(r)){const{message:s}=De("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),xe(this,"isValidEmit",async r=>{if(!ei(r)){const{message:a}=De("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!ZD(o,i)){const{message:a}=De("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!a2e(s)){const{message:a}=De("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!u2e(o,i,s.name)){const{message:a}=De("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),xe(this,"isValidDisconnect",async r=>{if(!ei(r)){const{message:s}=De("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),xe(this,"isValidAuthenticate",r=>{const{chains:n,uri:s,domain:i,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!pn(s,!1))throw new Error("uri is required parameter");if(!pn(i,!1))throw new Error("domain is required parameter");if(!pn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Pu(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Pu(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),xe(this,"getVerifyContext",async r=>{const{attestationId:n,hash:s,encryptedId:i,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||ew,validation:"UNKNOWN",origin:o.url||""}};try{if(a===kr.link_mode){const l=this.getAppLinkIfEnabled(o,a);return c.verified.validation=l&&new URL(l).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),xe(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,i)=>{if(s==null){const{message:o}=De("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[i]}`);throw new Error(o)}})}),xe(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),xe(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),xe(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:s}=De("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),xe(this,"isLinkModeEnabled",(r,n)=>{var s,i,o,a,c,u,l,d,f;return!r||n!==kr.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((l=r==null?void 0:r.redirect)==null?void 0:l.universal)!==void 0&&((d=r==null?void 0:r.redirect)==null?void 0:d.universal)!==""&&((f=r==null?void 0:r.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),xe(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0}),xe(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=aD(r,"topic")||"",s=decodeURIComponent(aD(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:kr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})}),xe(this,"registerLinkModeListeners",async()=>{var r;if(Z8()||Bd()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),xe(this,"getTVFApproveParams",r=>{try{const n=IQ(r.namespaces),s=DAe(r.namespaces),i=MAe(r.namespaces),o=r.sessionProperties,a=r.scopedProperties;return{approvedChains:n,approvedMethods:s,approvedEvents:i,sessionProperties:o,scopedProperties:a}}catch(n){return this.client.logger.warn(n,"Error getting TVF approve params"),{}}}),xe(this,"getTVFParams",(r,n,s)=>{var i,o,a;if(!((i=n.request)!=null&&i.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const u=this.extractTxHashesFromResult(n.request,s);c.txHashes=u,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(u){this.client.logger.warn(u,"Error getting TVF params")}return c}),xe(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const s=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),xe(this,"extractTxHashesFromResult",(r,n)=>{var s;try{if(!n)return[];const i=r.method,o=UTe[i];if(i==="sui_signTransaction")return[Sve(n.transactionBytes)];if(i==="near_signTransaction")return[mD(n)];if(i==="near_signTransactions")return n.map(c=>mD(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=n.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[T2e({transaction:r.params.transactionPayload,signature:n.signature})];if(i==="algo_signTxn")return Ou(n)?n.map(c=>gD(c)):[gD(n)];if(i==="cosmos_signDirect")return[Tve(n)];if(i==="wallet_sendCalls")return Pve(n);if(typeof n=="string")return[n];const a=n[o.key];if(Ou(a))return i==="solana_signAllTransactions"?a.map(c=>Cve(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn(i,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,s]of Object.entries(r))for(const i of s)try{await this.onProviderMessageEvent({topic:n,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${i}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=De("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(hn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(BS)?this.client.auth.authKeys.get(BS):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:i===kr.link_mode?Ul:ai});c3(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:s,transportType:i,encryptedId:vo(n)})):fP(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:i}),this.client.core.history.delete(r,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:i})),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(ho.expired,async e=>{const{topic:r,id:n}=TJ(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,De("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,De("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on($f.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on($f.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!pn(e,!1)){const{message:r}=De("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=De("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Ya(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=De("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!pn(e,!1)){const{message:r}=De("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=De("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Ya(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=De("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=De("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(pn(e,!1)){const{message:r}=De("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=De("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!n2e(e)){const{message:r}=De("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=De("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Ya(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=De("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}validateRequestExpiry(e){if(e&&!f2e(e,g5)){const{message:r}=De("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${g5.min} and ${g5.max}`);throw new Error(r)}}}class QTe extends bp{constructor(e,r){super(e,r,jTe,l3),this.core=e,this.logger=r}}let XTe=class extends bp{constructor(e,r){super(e,r,DTe,l3),this.core=e,this.logger=r}};class ePe extends bp{constructor(e,r){super(e,r,LTe,l3,n=>n.id),this.core=e,this.logger=r}}class tPe extends bp{constructor(e,r){super(e,r,zTe,pP,()=>BS),this.core=e,this.logger=r}}class rPe extends bp{constructor(e,r){super(e,r,$Te,pP),this.core=e,this.logger=r}}class nPe extends bp{constructor(e,r){super(e,r,VTe,pP,n=>n.id),this.core=e,this.logger=r}}var sPe=Object.defineProperty,iPe=(t,e,r)=>e in t?sPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y5=(t,e,r)=>iPe(t,typeof e!="symbol"?e+"":e,r);class oPe{constructor(e,r){this.core=e,this.logger=r,y5(this,"authKeys"),y5(this,"pairingTopics"),y5(this,"requests"),this.authKeys=new tPe(this.core,this.logger),this.pairingTopics=new rPe(this.core,this.logger),this.requests=new nPe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var aPe=Object.defineProperty,cPe=(t,e,r)=>e in t?aPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dt=(t,e,r)=>cPe(t,typeof e!="symbol"?e+"":e,r);class d3 extends M0e{constructor(e){super(e),Dt(this,"protocol",JQ),Dt(this,"version",QQ),Dt(this,"name",m5.name),Dt(this,"metadata"),Dt(this,"core"),Dt(this,"logger"),Dt(this,"events",new xo.EventEmitter),Dt(this,"engine"),Dt(this,"session"),Dt(this,"proposal"),Dt(this,"pendingRequest"),Dt(this,"auth"),Dt(this,"signConfig"),Dt(this,"on",(n,s)=>this.events.on(n,s)),Dt(this,"once",(n,s)=>this.events.once(n,s)),Dt(this,"off",(n,s)=>this.events.off(n,s)),Dt(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),Dt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Dt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Dt(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}}),Dt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),Dt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||m5.name,this.metadata=yEe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=o3({logger:(e==null?void 0:e.logger)||m5.logger,name:this.name});this.logger=r,this.core=(e==null?void 0:e.core)||new kTe(e),this.session=new XTe(this.core,this.logger),this.proposal=new QTe(this.core,this.logger),this.pendingRequest=new ePe(this.core,this.logger),this.engine=new JTe(this),this.auth=new oPe(this.core,this.logger)}static async init(e){const r=new d3(e);return await r.initialize(),r}get context(){return wi(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const uPe=d3;var Ov={exports:{}},kM;function lPe(){return kM||(kM=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Za<"u"&&Za,n=(function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i})();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof Za<"u"&&Za||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&l.indexOf(Object.prototype.toString.call(I))>-1};function f(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function h(I){return typeof I!="string"&&(I=String(I)),I}function p(I){var S={next:function(){var _=I.shift();return{done:_===void 0,value:_}}};return c.iterable&&(S[Symbol.iterator]=function(){return S}),S}function m(I){this.map={},I instanceof m?I.forEach(function(S,_){this.append(_,S)},this):Array.isArray(I)?I.forEach(function(S){if(S.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+S.length);this.append(S[0],S[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(S){this.append(S,I[S])},this)}m.prototype.append=function(I,S){I=f(I),S=h(S);var _=this.map[I];this.map[I]=_?_+", "+S:S},m.prototype.delete=function(I){delete this.map[f(I)]},m.prototype.get=function(I){return I=f(I),this.has(I)?this.map[I]:null},m.prototype.has=function(I){return this.map.hasOwnProperty(f(I))},m.prototype.set=function(I,S){this.map[f(I)]=h(S)},m.prototype.forEach=function(I,S){for(var _ in this.map)this.map.hasOwnProperty(_)&&I.call(S,this.map[_],_,this)},m.prototype.keys=function(){var I=[];return this.forEach(function(S,_){I.push(_)}),p(I)},m.prototype.values=function(){var I=[];return this.forEach(function(S){I.push(S)}),p(I)},m.prototype.entries=function(){var I=[];return this.forEach(function(S,_){I.push([_,S])}),p(I)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function E(I){return new Promise(function(S,_){I.onload=function(){S(I.result)},I.onerror=function(){_(I.error)}})}function w(I){var S=new FileReader,_=E(S);return S.readAsArrayBuffer(I),_}function b(I){var S=new FileReader,_=E(S),R=/charset=([A-Za-z0-9_-]+)/.exec(I.type),O=R?R[1]:"utf-8";return S.readAsText(I,O),_}function g(I){for(var S=new Uint8Array(I),_=new Array(S.length),R=0;R<S.length;R++)_[R]=String.fromCharCode(S[R]);return _.join("")}function v(I){if(I.slice)return I.slice(0);var S=new Uint8Array(I.byteLength);return S.set(new Uint8Array(I)),S.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&u(I)?(this._bodyArrayBuffer=v(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=v(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=y(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(g(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(I){var S=I.toUpperCase();return C.indexOf(S)>-1?S:I}function T(I,S){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');S=S||{};var _=S.body;if(I instanceof T){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,S.headers||(this.headers=new m(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!_&&I._bodyInit!=null&&(_=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=S.credentials||this.credentials||"same-origin",(S.headers||!this.headers)&&(this.headers=new m(S.headers)),this.method=x(S.method||this.method||"GET"),this.mode=S.mode||this.mode||null,this.signal=S.signal||this.signal||(function(){if("AbortController"in a){var P=new AbortController;return P.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&_)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(_),(this.method==="GET"||this.method==="HEAD")&&(S.cache==="no-store"||S.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var O=/\?/;this.url+=(O.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function N(I){var S=new FormData;return I.trim().split("&").forEach(function(_){if(_){var R=_.split("="),O=R.shift().replace(/\+/g," "),P=R.join("=").replace(/\+/g," ");S.append(decodeURIComponent(O),decodeURIComponent(P))}}),S}function M(I){var S=new m,_=I.replace(/\r?\n[\t ]+/g," ");return _.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var O=R.split(":"),P=O.shift().trim();if(P){var D=O.join(":").trim();try{S.append(P,D)}catch(j){console.warn("Response "+j.message)}}}),S}A.call(T.prototype);function k(I,S){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(S||(S={}),this.type="default",this.status=S.status===void 0?200:S.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=S.statusText===void 0?"":""+S.statusText,this.headers=new m(S.headers),this.url=S.url||"",this._initBody(I)}A.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},k.error=function(){var I=new k(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var B=[301,302,303,307,308];k.redirect=function(I,S){if(B.indexOf(S)===-1)throw new RangeError("Invalid status code");return new k(null,{status:S,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(S,_){this.message=S,this.name=_;var R=Error(S);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function U(I,S){return new Promise(function(_,R){var O=new T(I,S);if(O.signal&&O.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var P=new XMLHttpRequest;function D(){P.abort()}P.onload=function(){var q={statusText:P.statusText,headers:M(P.getAllResponseHeaders()||"")};O.url.indexOf("file://")===0&&(P.status<200||P.status>599)?q.status=200:q.status=P.status,q.url="responseURL"in P?P.responseURL:q.headers.get("X-Request-URL");var z="response"in P?P.response:P.responseText;setTimeout(function(){_(new k(z,q))},0)},P.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},P.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request timed out"))},0)},P.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function j(q){try{return q===""&&a.location.href?a.location.href:q}catch{return q}}if(P.open(O.method,j(O.url),!0),O.credentials==="include"?P.withCredentials=!0:O.credentials==="omit"&&(P.withCredentials=!1),"responseType"in P&&(c.blob?P.responseType="blob":c.arrayBuffer&&(P.responseType="arraybuffer")),S&&typeof S.headers=="object"&&!(S.headers instanceof m||a.Headers&&S.headers instanceof a.Headers)){var F=[];Object.getOwnPropertyNames(S.headers).forEach(function(q){F.push(f(q)),P.setRequestHeader(q,h(S.headers[q]))}),O.headers.forEach(function(q,z){F.indexOf(z)===-1&&P.setRequestHeader(z,q)})}else O.headers.forEach(function(q,z){P.setRequestHeader(z,q)});O.signal&&(O.signal.addEventListener("abort",D),P.onreadystatechange=function(){P.readyState===4&&O.signal.removeEventListener("abort",D)}),P.send(typeof O._bodyInit>"u"?null:O._bodyInit)})}return U.polyfill=!0,a.fetch||(a.fetch=U,a.Headers=m,a.Request=T,a.Response=k),o.Headers=m,o.Request=T,o.Response=k,o.fetch=U,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=r.fetch?r:n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Ov,Ov.exports)),Ov.exports}var dPe=lPe();const jM=gg(dPe);var fPe=Object.defineProperty,hPe=Object.defineProperties,pPe=Object.getOwnPropertyDescriptors,DM=Object.getOwnPropertySymbols,mPe=Object.prototype.hasOwnProperty,gPe=Object.prototype.propertyIsEnumerable,MM=(t,e,r)=>e in t?fPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,UM=(t,e)=>{for(var r in e||(e={}))mPe.call(e,r)&&MM(t,r,e[r]);if(DM)for(var r of DM(e))gPe.call(e,r)&&MM(t,r,e[r]);return t},LM=(t,e)=>hPe(t,pPe(e));const yPe={Accept:"application/json","Content-Type":"application/json"},bPe="POST",FM={headers:yPe,method:bPe},HM=10;let eX=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new xo.EventEmitter,this.isAvailable=!1,this.registering=!1,!nM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Du(e),n=await(await jM(this.url,LM(UM({},FM),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!nM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Du({id:1,jsonrpc:"2.0",method:"test",params:[]});await jM(e,LM(UM({},FM),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Zh(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=dP(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return RQ(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>HM&&this.events.setMaxListeners(HM)}};function f3(t){return t==null||typeof t!="object"&&typeof t!="function"}function tX(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function rX(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const wPe="[object RegExp]",nX="[object String]",sX="[object Number]",iX="[object Boolean]",oX="[object Arguments]",EPe="[object Symbol]",vPe="[object Date]",_Pe="[object Map]",APe="[object Set]",CPe="[object Array]",SPe="[object ArrayBuffer]",IPe="[object Object]",TPe="[object DataView]",PPe="[object Uint8Array]",xPe="[object Uint8ClampedArray]",OPe="[object Uint16Array]",RPe="[object Uint32Array]",NPe="[object Int8Array]",BPe="[object Int16Array]",kPe="[object Int32Array]",jPe="[object Float32Array]",DPe="[object Float64Array]";function h3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function MPe(t,e){return R0(t,void 0,t,new Map,e)}function R0(t,e,r,n=new Map,s=void 0){const i=s==null?void 0:s(t,e,r,n);if(i!=null)return i;if(f3(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=R0(t[a],a,r,n,s);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,R0(c,a,r,n,s));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(R0(a,void 0,r,n,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(h3(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=R0(t[a],a,r,n,s);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Vf(o,t,r,n,s),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Vf(o,t,r,n,s),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Vf(o,t,r,n,s),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Vf(o,t,r,n,s),o}if(typeof t=="object"&&UPe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Vf(o,t,r,n,s),o}return t}function Vf(t,e,r=t,n,s){const i=[...Object.keys(e),...tX(e)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=R0(e[a],a,r,n,s))}}function UPe(t){switch(rX(t)){case oX:case CPe:case SPe:case TPe:case iX:case vPe:case jPe:case DPe:case NPe:case BPe:case kPe:case _Pe:case sX:case IPe:case wPe:case APe:case nX:case EPe:case PPe:case xPe:case OPe:case RPe:return!0;default:return!1}}function LPe(t,e){return MPe(t,(r,n,s,i)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case sX:case nX:case iX:{const o=new t.constructor(t==null?void 0:t.valueOf());return Vf(o,t),o}case oX:{const o={};return Vf(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function qM(t){return LPe(t)}function zM(t){return t!==null&&typeof t=="object"&&rX(t)==="[object Arguments]"}function $M(t){return typeof t=="object"&&t!==null}function FPe(){}function HPe(t){return h3(t)}function qPe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zPe(t){if(f3(t))return t;if(Array.isArray(t)||h3(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function $Pe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let s=t;for(let i=0;i<r.length;i++){const o=r[i];s=XR(s,o,n,new Map)}return s}function XR(t,e,r,n){if(f3(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return zPe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...tX(e)];for(let i=0;i<s.length;i++){const o=s[i];let a=e[o],c=t[o];if(zM(a)&&(a={...a}),zM(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=qM(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const l=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];l[h]=c[h]}c=l}else c=[];const u=r(c,a,o,t,e,n);u!=null?t[o]=u:Array.isArray(a)||$M(c)&&$M(a)?t[o]=XR(c,a,r,n):c==null&&qPe(a)?t[o]=XR({},a,r,n):c==null&&HPe(a)?t[o]=qM(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function VPe(t,...e){return $Pe(t,...e,FPe)}const VM="error",GPe="wss://relay.walletconnect.org",WPe="wc",aX="universal_provider",Rv=`${WPe}@2:${aX}:`,cX="https://rpc.walletconnect.org/v1/",uX="generic",KPe=`${cX}bundler`,W0="call_status",ZPe=86400,p3={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var YPe=Object.defineProperty,JPe=Object.defineProperties,QPe=Object.getOwnPropertyDescriptors,GM=Object.getOwnPropertySymbols,XPe=Object.prototype.hasOwnProperty,e6e=Object.prototype.propertyIsEnumerable,WM=(t,e,r)=>e in t?YPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nv=(t,e)=>{for(var r in e||(e={}))XPe.call(e,r)&&WM(t,r,e[r]);if(GM)for(var r of GM(e))e6e.call(e,r)&&WM(t,r,e[r]);return t},t6e=(t,e)=>JPe(t,QPe(e));function lX(t,e,r){var n;const s=Pu(t);return((n=e.rpcMap)==null?void 0:n[s.reference])||`${cX}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function r6e(t){return t.includes(":")?t.split(":")[1]:t}function dX(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function n6e(t,e){const r=Object.keys(e.namespaces).filter(s=>s.includes(t));if(!r.length)return[];const n=[];return r.forEach(s=>{const i=e.namespaces[s].accounts;n.push(...i)}),n}function KM(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,s;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((s=r==null?void 0:r.chains)==null?void 0:s.length)>0}))}function Bv(t={},e={}){const r=KM(ZM(t)),n=KM(ZM(e));return VPe(r,n)}function ZM(t){var e,r,n,s,i;const o={};if(!cc(t))return o;for(const[a,c]of Object.entries(t)){const u=lP(a)?[a]:c.chains,l=c.methods||[],d=c.events||[],f=c.rpcMap||{},h=O0(a);o[h]=t6e(Nv(Nv({},o[h]),c),{chains:ac(u,(e=o[h])==null?void 0:e.chains),methods:ac(l,(r=o[h])==null?void 0:r.methods),events:ac(d,(n=o[h])==null?void 0:n.events)}),(cc(f)||cc(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=Nv(Nv({},f),(i=o[h])==null?void 0:i.rpcMap))}return o}function YM(t){return t.includes(":")?t.split(":")[2]:t}function JM(t){const e={};for(const[r,n]of Object.entries(t)){const s=n.methods||[],i=n.events||[],o=n.accounts||[],a=lP(r)?[r]:n.chains?n.chains:dX(n.accounts);e[r]={chains:a,methods:s,events:i,accounts:o}}return e}function b5(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function s6e(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const fX={},K0=t=>fX[t],w5=(t,e)=>{fX[t]=e};var i6e=Object.defineProperty,QM=Object.getOwnPropertySymbols,o6e=Object.prototype.hasOwnProperty,a6e=Object.prototype.propertyIsEnumerable,XM=(t,e,r)=>e in t?i6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eU=(t,e)=>{for(var r in e||(e={}))o6e.call(e,r)&&XM(t,r,e[r]);if(QM)for(var r of QM(e))a6e.call(e,r)&&XM(t,r,e[r]);return t};const tU="eip155",c6e=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],u6e=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,E5=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,rU=t=>Object.keys(t).filter(e=>c6e.includes(e)).reduce((e,r)=>(e[r]=l6e(t[r]),e),{}),l6e=t=>typeof t=="string"&&s6e(t)?JSON.parse(t):t,d6e=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:s={}}=t,i={};if(!cc(s)&&!cc(n))return;const o=rU(n);for(const a of r){const c=u6e(a);if(!c)continue;i[E5(c)]=o;const u=s==null?void 0:s[`${tU}:${c}`];if(u){const l=u==null?void 0:u[`${tU}:${c}:${e}`];i[E5(c)]=eU(eU({},i[E5(c)]),rU(l||u))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var f6e=Object.defineProperty,h6e=(t,e,r)=>e in t?f6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p6e=(t,e,r)=>h6e(t,e+"",r);let v5;class m3{constructor(e){p6e(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,r){return await this.storage.setItem(e,r)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return v5||(v5=new m3(e)),v5}}var m6e=Object.defineProperty,g6e=Object.defineProperties,y6e=Object.getOwnPropertyDescriptors,nU=Object.getOwnPropertySymbols,b6e=Object.prototype.hasOwnProperty,w6e=Object.prototype.propertyIsEnumerable,sU=(t,e,r)=>e in t?m6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,E6e=(t,e)=>{for(var r in e||(e={}))b6e.call(e,r)&&sU(t,r,e[r]);if(nU)for(var r of nU(e))w6e.call(e,r)&&sU(t,r,e[r]);return t},v6e=(t,e)=>g6e(t,y6e(e));async function _6e(t,e){const r=Pu(t.result.capabilities.caip345.caip2),n=t.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(n.map(d=>A6e(r.reference,d,e))),i=s.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);s.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));const o=!i.length||i.some(d=>!d),a=i.every(d=>(d==null?void 0:d.status)==="0x1"),c=i.every(d=>(d==null?void 0:d.status)==="0x0"),u=i.some(d=>(d==null?void 0:d.status)==="0x0");let l;return o?l=100:a?l=200:c?l=500:u&&(l=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:i,status:l}}async function A6e(t,e,r){return await r(parseInt(t)).request(Qo("eth_getTransactionReceipt",[e]))}async function C6e({sendCalls:t,storage:e}){const r=await e.getItem(W0);await e.setItem(W0,v6e(E6e({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:dn(ZPe)}}))}async function S6e({resultId:t,storage:e}){const r=await e.getItem(W0);if(r){delete r[t],await e.setItem(W0,r);for(const n in r)Ya(r[n].expiry)&&delete r[n];await e.setItem(W0,r)}}async function I6e({resultId:t,storage:e}){const r=await e.getItem(W0),n=r==null?void 0:r[t];if(n&&!Ya(n.expiry))return n;await S6e({resultId:t,storage:e})}var T6e=Object.defineProperty,P6e=Object.defineProperties,x6e=Object.getOwnPropertyDescriptors,iU=Object.getOwnPropertySymbols,O6e=Object.prototype.hasOwnProperty,R6e=Object.prototype.propertyIsEnumerable,eN=(t,e,r)=>e in t?T6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_5=(t,e)=>{for(var r in e||(e={}))O6e.call(e,r)&&eN(t,r,e[r]);if(iU)for(var r of iU(e))R6e.call(e,r)&&eN(t,r,e[r]);return t},A5=(t,e)=>P6e(t,x6e(e)),uf=(t,e,r)=>eN(t,typeof e!="symbol"?e+"":e,r);class N6e{constructor(e){uf(this,"name","eip155"),uf(this,"client"),uf(this,"chainId"),uf(this,"namespace"),uf(this,"httpProviders"),uf(this,"events"),uf(this,"storage"),this.namespace=e.namespace,this.events=K0("events"),this.client=K0("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=m3.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(p3.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||lX(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new u3(new eX(n,K0("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const s=parseInt(r6e(r));e[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(e){const r=e||this.chainId;return this.httpProviders[r]||(this.httpProviders=A5(_5({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(e){var r,n;let s=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:s}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,s,i,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((i=(s=e.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),l=((o=u==null?void 0:u.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,f=l==null?void 0:l[d];if(f)return f;let h;try{h=d6e(u,a,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(h)return h;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:A5(_5({},u.sessionProperties||{}),{capabilities:A5(_5({},l||{}),{[d]:p})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return p}async getCallStatus(e){var r,n,s;const i=this.client.session.get(e.topic),o=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(o){const u=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(u,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,u)}}const a=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,a)}const c=await I6e({resultId:(s=e.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await _6e(c,this.getHttpProvider.bind(this))}catch(u){console.warn("Failed to fetch call status from stored send calls",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const s=new URL(e),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Qo("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,r){return`${KPe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}async sendCalls(e){var r,n,s;const i=await this.client.request(e),o=(r=e.request.params)==null?void 0:r[0],a=i==null?void 0:i.id,c=(i==null?void 0:i.capabilities)||{},u=(n=c==null?void 0:c.caip345)==null?void 0:n.caip2,l=(s=c==null?void 0:c.caip345)==null?void 0:s.transactionHashes;return!a||!u||!(l!=null&&l.length)||await C6e({sendCalls:{request:o,result:i},storage:this.storage}),i}}var B6e=Object.defineProperty,k6e=(t,e,r)=>e in t?B6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$p=(t,e,r)=>k6e(t,typeof e!="symbol"?e+"":e,r);class j6e{constructor(e){$p(this,"name",uX),$p(this,"client"),$p(this,"httpProviders"),$p(this,"events"),$p(this,"namespace"),$p(this,"chainId"),this.namespace=e.namespace,this.events=K0("events"),this.client=K0("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r);const n=this.chainId;this.chainId=e,this.events.emit(p3.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Pu(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(s=>{var i,o;const a=Pu(s),c=(o=(i=this.namespace)==null?void 0:i.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(s,c)}),n}getHttpProvider(e){const r=Pu(e).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||lX(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new u3(new eX(n,K0("disableProviderPing")))}}var D6e=Object.defineProperty,M6e=Object.defineProperties,U6e=Object.getOwnPropertyDescriptors,oU=Object.getOwnPropertySymbols,L6e=Object.prototype.hasOwnProperty,F6e=Object.prototype.propertyIsEnumerable,tN=(t,e,r)=>e in t?D6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dy=(t,e)=>{for(var r in e||(e={}))L6e.call(e,r)&&tN(t,r,e[r]);if(oU)for(var r of oU(e))F6e.call(e,r)&&tN(t,r,e[r]);return t},kv=(t,e)=>M6e(t,U6e(e)),xi=(t,e,r)=>tN(t,typeof e!="symbol"?e+"":e,r);let H6e=class hX{constructor(e){xi(this,"client"),xi(this,"namespaces"),xi(this,"optionalNamespaces"),xi(this,"sessionProperties"),xi(this,"scopedProperties"),xi(this,"events",new N8),xi(this,"rpcProviders",{}),xi(this,"session"),xi(this,"providerOpts"),xi(this,"logger"),xi(this,"uri"),xi(this,"disableProviderPing",!1),xi(this,"connectParams");var r,n;this.providerOpts=e,this.logger=o3({logger:(r=e.logger)!=null?r:VM,name:(n=this.providerOpts.name)!=null?n:aX}),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new hX(e);return await r.initialize(),r}async request(e,r,n){const[s,i]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:dy({},e),chainId:`${s}:${i}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,s){const i=new Date().getTime();this.request(e,n,s).then(o=>r(null,l1(i,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Lr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:s}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const i=await s();if(this.session=i.session,this.session){const o=JM(this.session.namespaces);this.namespaces=Bv(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){var r,n;const{uri:s,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(r=this.connectParams)==null?void 0:r.authentication,walletPay:(n=this.connectParams)==null?void 0:n.walletPay});s&&(this.uri=s,this.events.emit("display_uri",s));const o=await i();this.session=o;const a=JM(o.namespaces);return this.namespaces=Bv(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,s]=this.validateChain(e);this.getProvider(n).setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Ou(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn(r,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await uPe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||VM,relayUrl:this.providerOpts.relayUrl||GPe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>O0(r)))];w5("client",this.client),w5("events",this.events),w5("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=n6e(r,this.session);if((n==null?void 0:n.length)===0)return;const s=dX(n),i=Bv(this.namespaces,this.optionalNamespaces),o=kv(dy({},i[r]),{accounts:n,chains:s});switch(r){case"eip155":this.rpcProviders[r]=new N6e({namespace:o});break;default:this.rpcProviders[r]=new j6e({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:s}=e;if(s!==((r=this.session)==null?void 0:r.topic))return;const{event:i}=n;if(i.name==="accountsChanged"){const o=i.data;o&&Ou(o)&&this.events.emit("accountsChanged",o.map(YM))}else if(i.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=O0(o),u=b5(o)!==b5(a)?`${c}:${b5(a)}`:o;this.onChainChanged({currentCaipChainId:u})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,s;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:i}=r,o=(s=this.client)==null?void 0:s.session.get(e);this.session=kv(dy({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",kv(dy({},Lr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(p3.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(kv(dy({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[uX]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:s,scopedProperties:i}=e;this.optionalNamespaces=Bv(r,n),this.sessionProperties=s,this.scopedProperties=i}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>O0(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const s=O0(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;const[s,i]=this.validateChain(e);i&&(this.updateNamespaceChain(s,i),n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:e,previousCaipChainId:r})):this.getProvider(s).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:r,previousCaipChainId:n}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[e])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(YM);if(!Ou(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn(o,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,s={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Rv}/${e}${s}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Rv}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Rv}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Rv)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn(r,"Failed to cleanup storage")}}};const aU=2147483648,q6e={convertEVMChainIdToCoinType(t){if(t>=aU)throw new Error("Invalid chainId");return(aU|t)>>>0}},co=Dr({suggestions:[],loading:!1}),z6e={state:co,subscribe(t){return Kn(co,()=>t(co))},subscribeKey(t,e){return Zn(co,t,e)},async resolveName(t){var e,r;try{return await at.lookupEnsName(t)}catch(n){const s=n;throw new Error(((r=(e=s==null?void 0:s.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await at.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{co.loading=!0,co.suggestions=[];const e=await at.getEnsNameSuggestions(t);return co.suggestions=e.suggestions||[],co.suggestions}catch(e){const r=rw.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{co.loading=!1}},async getNamesForAddress(t){try{if(!te.state.activeCaipNetwork)return[];const r=Te.getEnsFromCacheForAddress(t);if(r)return r;const n=await at.reverseLookupEnsName({address:t});return Te.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=rw.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){var s;const e=te.state.activeCaipNetwork,r=(s=te.getAccountData(e==null?void 0:e.chainNamespace))==null?void 0:s.address,n=Ne.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");co.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});st.pushTransactionStack({onCancel(){st.replace("RegisterAccountName")}});const o=await Me.signMessage(i);co.loading=!1;const a=e.id;if(!a)throw new Error("Network not found");const c=q6e.convertEVMChainIdToCoinType(Number(a));await at.registerEnsName({coinType:c,address:r,signature:o,message:i}),te.setAccountProp("profileName",t,e.chainNamespace),Te.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),st.replace("RegisterAccountNameSuccess")}catch(i){const o=rw.parseEnsApiError(i,`Error registering name ${t}`);throw st.replace("RegisterAccountName"),new Error(o)}finally{co.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var n,s;const r=t;return((s=(n=r==null?void 0:r.reasons)==null?void 0:n[0])==null?void 0:s.description)||e}},rw=Po(z6e);function rN(t){try{return new URL(t)}catch{return null}}function $6e(t){const e=t.split("/"),r=e.length>0&&e[0]!==void 0?e[0]:"",n=r.lastIndexOf(":");return n===-1?{host:r}:{host:r.slice(0,n),port:r.slice(n+1)}}function V6e(t){const e=t.indexOf("://");if(e===-1)return null;const r=t.slice(0,e),n=e+3;let s=t.indexOf("/",n);s===-1&&(s=t.length);const i=t.slice(n,s),o=i.lastIndexOf(":");return o===-1?{scheme:r,host:i}:{scheme:r,host:i.slice(0,o),port:i.slice(o+1)}}function G6e(t,e){if(e.includes("://")){const o=rN(e);return o?o.origin===t:!1}const{host:r,port:n}=$6e(e),s=t.indexOf("://");if(s!==-1){const o=s+3;let a=t.indexOf("/",o);a===-1&&(a=t.length);const c=t.slice(o,a);if(n!==void 0)return`${r}:${n}`===c;const u=c.split(":")[0];return r===u}const i=rN(t);return i?n!==void 0?r===i.hostname&&n===(i.port||void 0):r===i.hostname:!1}function W6e(t,e,r){let n=r,s;const i=n.indexOf("://");i!==-1&&(s=n.slice(0,i),n=n.slice(i+3));const o=n.indexOf("/");o!==-1&&(n=n.slice(0,o));let a=n,c;const u=a.lastIndexOf(":");u!==-1&&(c=a.slice(u+1),a=a.slice(0,u));const l=a.split(".");for(const m of l)if(m.includes("*")&&m!=="*")return!1;const d=t.protocol.replace(/:$/u,"");if(s&&s!==d||c!==void 0&&c!=="*"&&c!==t.port)return!1;const f=V6e(e),p=(f?f.host:t.hostname).split(".");if(l.length!==p.length)return!1;for(let m=l.length-1;m>=0;m-=1){const y=l[m],E=p[m];if(y!=="*"&&y!==E)return!1}return!0}const K6e={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},uc={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(t){return K6e[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>n.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>n.add(s)),e.events&&Object.keys(e.events).forEach(s=>n.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[i]=s.split(":");i&&n.add(i)}),n.forEach(s=>{r[s]||(r[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,i])=>{r[s]&&(r[s].methods=i)}),e.chains&&Object.entries(e.chains).forEach(([s,i])=>{r[s]&&(r[s].chains=i)}),e.events&&Object.entries(e.events).forEach(([s,i])=>{r[s]&&(r[s].events=i)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),s.has(a)||(r[a].rpcMap={},s.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const u=`${o}:${i}`,l=n[o];switch(l.chains.push(u),u){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":l.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":l.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break}return l!=null&&l.rpcMap&&c&&(l.rpcMap[i]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var n;const e=await rw.resolveName(t);return((n=(e!=null&&e.addresses?Object.values(e.addresses):[])[0])==null?void 0:n.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isUserRejectedRequestError(t){try{if(typeof t=="object"&&t!==null){const e=t,r=typeof e.code=="number",n=r&&e.code===uc.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=r&&e.code===uc.RPC_ERROR_CODE.USER_REJECTED;return n||s}return!1}catch{return!1}},isOriginAllowed(t,e,r){const n=[...e,...r];if(e.length===0)return!0;const s=rN(t);if(!s)return n.some(i=>!i.includes("*")&&i===t);if(s.hostname==="localhost"||s.hostname==="127.0.0.1")return!0;for(const i of n)if(i.includes("*")){if(W6e(s,t,i))return!0}else if(G6e(t,i))return!0;return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){r&&t.on("connect",()=>{const a=uc.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),s&&t.on("accountsChanged",a=>{var c,u,l,d,f;try{const h=((l=(u=(c=t.session)==null?void 0:c.namespaces)==null?void 0:u[e])==null?void 0:l.accounts)||[],p=(f=(d=t.rpcProviders)==null?void 0:d[e])==null?void 0:f.getDefaultChain(),m=a.map(y=>{const E=h.find(g=>g.includes(`${e}:${p}:${y}`));if(!E)return;const{chainId:w,chainNamespace:b}=mn.parseCaipAddress(E);return{address:y,chainId:w,chainNamespace:b}}).filter(y=>y!==void 0);m.length>0&&s(m)}catch(h){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,h)}}),i&&t.on("chainChanged",a=>{i(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){var s,i,o,a;const r=new Set,n=(a=(o=(i=(s=t==null?void 0:t.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>mn.parseCaipAddress(c)).filter(({address:c})=>r.has(c.toLowerCase())?!1:(r.add(c.toLowerCase()),!0));return n&&n.length>0?n:[]}},Z6e=[Ee.CONNECTOR_ID.AUTH,Ee.CONNECTOR_ID.WALLET_CONNECT];class pX{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>te.getCaipNetworks(r),this.getConnectorId=r=>Ne.getConnectorId(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===(r==null?void 0:r.toString()));e&&n&&this.addConnection({connectorId:Ee.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:Ee.CONNECTOR_ID.AUTH,type:"AUTH",name:Ee.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>r.connectorId.toLowerCase()!==e.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){te.setAccountProp("status",e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(s=>s(r))}async connectWalletConnect(e){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(r){throw uc.isUserRejectedRequestError(r)?new w8(r):r}}async switchNetwork(e){var i;const{caipNetwork:r}=e,n=Zt.getProviderId(r.chainNamespace),s=Zt.getProvider(r.chainNamespace);if(!s)throw new Error("Provider not found");if(n==="WALLET_CONNECT"){s.setDefaultChain(r.caipNetworkId);return}if(n==="AUTH"){const o=(i=Ne.getAuthConnector())==null?void 0:i.provider;if(!o)throw new Error("Auth provider not found");const a=js(r.chainNamespace);await o.switchNetwork({chainId:r.caipNetworkId});const c=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r.id==="walletConnect");if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:s}=Ue.getAccount(e[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===(s==null?void 0:s.toString())),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:s,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=Ue.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(e,r,n=!0){var s,i;if(e.length>0){const{address:o}=Ue.getAccount(e[0]),a=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});o&&((s=this.getConnectorId(Ee.CHAIN.EVM))==null?void 0:s.toLowerCase())===r.toLowerCase()&&this.emit("accountChanged",{address:o,chainId:(i=a==null?void 0:a.caipNetwork)==null?void 0:i.id,connector:a==null?void 0:a.connector}),this.addConnection({connectorId:r,accounts:e.map(c=>{const{address:u}=Ue.getAccount(c);return{address:u}}),caipNetwork:a==null?void 0:a.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){var r;this.removeProviderListeners(e),this.deleteConnection(e),((r=this.getConnectorId(Ee.CHAIN.EVM))==null?void 0:r.toLowerCase())===e.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){var o;const n=typeof e=="string"&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),s=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===n);s&&this.addConnection({connectorId:r,accounts:s.accounts,caipNetwork:i}),((o=this.getConnectorId(Ee.CHAIN.EVM))==null?void 0:o.toLowerCase())===r.toLowerCase()&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(Z6e.includes(e))return;const n=o=>this.onAccountsChanged(o,e),s=o=>this.onChainChanged(o,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",i),r.on("accountsChanged",n),r.on("chainChanged",s),this.providerHandlers[e]={provider:r,disconnect:i,accountsChanged:n,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:s,chainChanged:i}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",s),r.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){var r;const e=this.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n==null?void 0:n.address,chainId:(r=e.caipNetwork)==null?void 0:r.id,connector:e.connector})}}getConnection({address:e,connectorId:r,connections:n,connectors:s}){if(r){const o=n.find(u=>u.connectorId.toLowerCase()===r.toLowerCase());if(!o)return null;const a=s.find(u=>u.id.toLowerCase()===o.connectorId.toLowerCase()),c=e?o.accounts.find(u=>u.address.toLowerCase()===e.toLowerCase()):o.accounts[0];return{...o,account:c,connector:a}}const i=n.find(o=>o.accounts.length>0&&s.some(a=>a.id.toLowerCase()===o.connectorId.toLowerCase()));if(i){const[o]=i.accounts,a=s.find(c=>c.id.toLowerCase()===i.connectorId.toLowerCase());return{...i,account:o,connector:a}}return null}}let lf=null;const ci={getSIWX(){return Ce.state.siwx},async initializeIfEnabled(t=te.getActiveCaipAddress()){var i,o,a;const e=Ce.state.siwx;if(!(e&&t))return;const[r,n,s]=t.split(":");if(te.checkIfSupportedNetwork(r,`${r}:${n}`))try{if((i=Ce.state.remoteFeatures)!=null&&i.emailCapture){const u=(o=te.getAccountData(r))==null?void 0:o.user;await Bt.open({view:"DataCapture",data:{email:(u==null?void 0:u.email)??void 0}});return}if(lf&&await lf,(await e.getSessions(`${r}:${n}`,s)).length)return;await Bt.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),bt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(c)}),await((a=Me._getClient())==null?void 0:a.disconnect().catch(console.error)),st.reset("Connect"),tc.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(t=te.getActiveCaipAddress()){if(!Ce.state.siwx||!t)return!0;const{chainNamespace:r,chainId:n,address:s}=mn.parseCaipAddress(t),i=`${r}:${n}`;return(await ci.getSessions({address:s,caipNetworkId:i})).length>0},async requestSignMessage(){const t=Ce.state.siwx,e=Ue.getPlainAddress(te.getActiveCaipAddress()),r=Rb();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");try{const n=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=n.toString();let i="";t.signMessage?i=await t.signMessage({message:s,chainId:r.caipNetworkId,accountAddress:e}):(Ne.getConnectorId(r.chainNamespace)===Ee.CONNECTOR_ID.AUTH&&st.pushTransactionStack({}),i=await Me.signMessage(s)||""),await t.addSession({data:n,message:s,signature:i}),te.setLastConnectedSIWECaipNetwork(r),Bt.close(),bt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){(!Bt.state.open||st.state.view==="ApproveTransaction")&&await Bt.open({view:"SIWXSignMessage"}),tc.showError("Error signing message"),bt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(n)}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();if((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e)){const n=te.getLastConnectedSIWECaipNetwork();if(n){const s=await(e==null?void 0:e.getSessions(n==null?void 0:n.caipNetworkId,Ue.getPlainAddress(te.getActiveCaipAddress())||""));s&&s.length>0?await te.switchActiveNetwork(n):await Me.disconnect()}else await Me.disconnect()}else Bt.close();Bt.close(),bt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const t=this.getSIWX(),e=te.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const s=await(t==null?void 0:t.getSessions(n.caipNetworkId,Ue.getPlainAddress(te.getActiveCaipAddress())||""));s&&r.push(...s)})),r},async getSessions(t){const e=Ce.state.siwx;let r=t==null?void 0:t.address;if(!r){const s=te.getActiveCaipAddress();r=Ue.getPlainAddress(s)}let n=t==null?void 0:t.caipNetworkId;if(!n){const s=te.getActiveCaipNetwork();n=s==null?void 0:s.caipNetworkId}return e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=st.state.view==="ApproveTransaction",n=st.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:s}){var d;const i=ci.getSIWX(),o=Rb();if(!i||!s.includes(Ee.CHAIN.EVM)||(d=Ce.state.remoteFeatures)!=null&&d.emailCapture){const f=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${s}:${e}`,c=await i.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),u={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},l=await t.connect({chainId:e,socialUri:r,siwxMessage:u,preferredAccountType:n});return u.accountAddress=l.address,u.serializedMessage=l.message||"",l.signature&&l.message&&await ci.addEmbeddedWalletSession(u,l.message,l.signature),te.setLastConnectedSIWECaipNetwork(o),{address:l.address,chainId:l.chainId,accounts:l.accounts}},async addEmbeddedWalletSession(t,e,r){if(lf)return lf;const n=ci.getSIWX();return n?(lf=n.addSession({data:t,message:e,signature:r}).finally(()=>{lf=null}),lf):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var u,l,d;const n=ci.getSIWX(),s=Rb(),i=new Set(e.map(f=>f.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const o=await n.createMessage({chainId:((u=Rb())==null?void 0:u.caipNetworkId)||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(f=>f!==o.chainId)]});tc.showLoading("Authenticating...",{autoClose:!1});const c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(l=a.session.peer.metadata.icons)==null?void 0:l[0],type:"WALLET_CONNECT"};if(te.setAccountProp("connectedWalletInfo",c,Array.from(i)[0]),(d=a==null?void 0:a.auths)!=null&&d.length){const f=a.auths.map(h=>{const p=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud??"",version:h.p.version||o.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:p,signature:h.s.s,cacao:h}});try{await n.setSessions(f),s&&te.setLastConnectedSIWECaipNetwork(s),bt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ci.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),bt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ci.getSIWXEventProperties(h)}),await t.disconnect().catch(console.error),h}finally{tc.hide()}}return!0},getSIWXEventProperties(t){var r;const e=te.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((r=te.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||"",isSmartAccount:js(e)===cn.ACCOUNT_TYPES.SMART_ACCOUNT,message:t?Ue.parseError(t):void 0}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}};class mX{constructor({provider:e,namespace:r}){this.id=Ee.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=te.getCaipNetworks.bind(te),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=Ce.state.universalProviderConfigOverride,s=uc.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return ci.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Y6e})}}const Y6e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],ko=Dr({message:"",variant:"info",open:!1}),J6e={state:ko,subscribeKey(t,e){return Zn(ko,t,e)},open(t,e){const{debug:r}=Ce.state,{code:n,displayMessage:s,debugMessage:i}=t;s&&r&&(ko.message=s,ko.variant=e,ko.open=!0),i&&console.error(typeof i=="function"?i():i,n?{code:n}:void 0)},warn(t,e,r){ko.open=!0,ko.message=t,ko.variant="warning",e&&console.warn(e,r)},close(){ko.open=!1,ko.message="",ko.variant="info"}},ds=Po(J6e),Q6e={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};class X6e extends Error{}function exe(){const{sdkType:t,sdkVersion:e,projectId:r}=Ce.getSnapshot(),n=new URL("https://rpc.walletconnect.org/v1/json-rpc");return n.searchParams.set("projectId",r),n.searchParams.set("st",t),n.searchParams.set("sv",e),n.searchParams.set("source","fund-wallet"),n.toString()}async function g3(t,e){const r=exe(),{projectId:n}=Ce.getSnapshot(),s={jsonrpc:"2.0",id:1,method:t,params:{...e||{},projectId:n}},o=await(await fetch(r,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}})).json();if(o.error)throw new X6e(o.error.message);return o}async function JHe(t){return(await g3("reown_getExchanges",t)).result}async function QHe(t){return(await g3("reown_getExchangePayUrl",t)).result}async function XHe(t){return(await g3("reown_getExchangeBuyStatus",t)).result}function eqe(t,e){const{chainNamespace:r,chainId:n}=mn.parseCaipNetworkId(t),s=Q6e[r];if(!s)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${r}`);let i=s.native.assetNamespace,o=s.native.assetReference;return e!=="native"&&(i=s.defaultTokenNamespace,o=e),`${`${r}:${n}`}/${i}:${o}`}const txe={network:"eip155:1",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},rxe={network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},gX={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},nxe={asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"},sxe={network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},ixe={network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},oxe={network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},axe={network:"eip155:137",asset:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},cxe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},uxe={network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},lxe={network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},dxe={network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},fxe={network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},hxe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},pxe={network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}},mxe={ethereumETH:txe,baseETH:rxe,baseUSDC:gX,baseSepoliaETH:sxe,ethereumUSDC:ixe,arbitrumUSDC:oxe,polygonUSDC:axe,solanaUSDC:cxe,ethereumUSDT:uxe,optimismUSDT:lxe,arbitrumUSDT:dxe,polygonUSDT:fxe,solanaUSDT:hxe,solanaSOL:pxe};function tqe(t){return Object.values(mxe).filter(e=>e.network===t)}const Ot={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:Ee.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(t,e){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${t} is outdated. Latest version is ${e}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},Yi={ConnectorExplorerIds:{[Ee.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ee.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ee.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ee.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Ot.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Ot.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Ot.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Ot.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Ot.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Ot.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Ot.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Ot.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Ot.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Ot.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Ot.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Ot.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Ot.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[Ee.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ee.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ee.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[Ee.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ee.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ee.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ee.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ee.CONNECTOR_ID.COINBASE]:"Coinbase",[Ee.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ee.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[Ee.CONNECTOR_ID.LEDGER]:"Ledger",[Ee.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ee.CONNECTOR_ID.INJECTED]:"INJECTED",[Ee.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ee.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ee.CONNECTOR_ID.AUTH]:"AUTH",[Ot.CONNECTOR_TYPE_AUTH]:"AUTH"}},na={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${Ot.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())},getActiveNamespaceConnectedToAuth(){const t=te.state.activeChain;return Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Ne.getConnectorId(e)===Ee.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(s=>{async function i(){return n+=1,await t()?s(!0):n>=r?s(!1):(setTimeout(i,e),null)}i()})},userChainIdToChainNamespace(t){if(typeof t=="number")return Ee.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]},getConnectorStorageInfo(t,e){const n=Te.getConnections()[e]??[];return{hasDisconnected:Te.isConnectorDisconnected(t,e),hasConnected:n.some(s=>na.isLowerCaseMatch(s.connectorId,t))}}},gxe=new AbortController,fs={EmbeddedWalletAbortController:gxe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Ob()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${Ce.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},yX={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:gX.asset,84532:nxe.asset}},getTokenSymbolByAddress(t){if(!t)return;const[e]=Object.entries(yX.TOKEN_ADDRESSES_BY_SYMBOL).find(([r,n])=>Object.values(n).includes(t))??[];return e}},yxe={createLogger(t,e="error"){const r=v8({level:e}),{logger:n}=HT({opts:r});return n.error=(...s)=>{for(const i of s)if(i instanceof Error){t(i,...s);return}t(void 0,...s)},n}},bxe="rpc.walletconnect.org";function cU(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const C5=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],v0={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===bxe}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ee.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ee.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var s,i,o;const n=(o=(i=(s=t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return C5.includes(e)?cU(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var f,h,p,m,y,E,w;const s=this.getChainNamespace(t),i=this.getCaipNetworkId(t),o=(p=(h=(f=t.rpcUrls)==null?void 0:f.default)==null?void 0:h.http)==null?void 0:p[0],a=this.getDefaultRpcUrl(t,i,r),c=((E=(y=(m=t==null?void 0:t.rpcUrls)==null?void 0:m.chainDefault)==null?void 0:y.http)==null?void 0:E[0])||o,u=((w=n==null?void 0:n[i])==null?void 0:w.map(b=>b.url))||[],l=[...u,...a?[a]:[]],d=[...u];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:s,caipNetworkId:i,assets:{imageId:Yi.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:l},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(s=>v0.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){var s,i,o;const n=[];return r==null||r.forEach(a=>{n.push(hv(a.url,a.config))}),C5.includes(t.caipNetworkId)&&n.push(hv(cU(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=t==null?void 0:t.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{n.push(hv(a))}),Hk(n)},extendWagmiTransports(t,e,r){if(C5.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return Hk([r,hv(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Ee.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=Te.getActiveCaipNetworkId(),r=te.getAllRequestedCaipNetworks(),n=Array.from(((c=te.state.chains)==null?void 0:c.keys())||[]),s=e==null?void 0:e.split(":")[0],i=s?n.includes(s):!1,o=r==null?void 0:r.find(u=>u.caipNetworkId===e);return i&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}};class nw{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a}){var d;const{metadata:c,sdkVersion:u,sdkType:l}=Ce.getSnapshot();return nw.instance||(nw.instance=new bde({projectId:e,chainId:r,enableLogger:n,onTimeout:s,abortController:i,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!((d=Ce.state.remoteFeatures)!=null&&d.emailCapture),metadata:c,sdkVersion:u,sdkType:l})),nw.instance}}var uU={};const wxe={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof uU<"u"?uU.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},Exe=[Yi.ConnectorExplorerIds[Ee.CONNECTOR_ID.COINBASE],Yi.ConnectorExplorerIds[Ee.CONNECTOR_ID.COINBASE_SDK],Yi.ConnectorExplorerIds[Ee.CONNECTOR_ID.BASE_ACCOUNT],Yi.ConnectorExplorerIds[Ot.SOLFLARE_CONNECTOR_NAME],Yi.ConnectorExplorerIds[Ot.PHANTOM_CONNECTOR_NAME],Yi.ConnectorExplorerIds[Ot.BINANCE_CONNECTOR_NAME]],jb={filterOutDuplicatesByRDNS(t){const e=Ce.state.enableEIP6963?Ne.state.connectors:[],r=Te.getRecentWallets(),n=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=r.map(a=>a.rdns).filter(Boolean),i=n.concat(s);if(i.includes("io.metamask.mobile")&&Ue.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return t.filter(a=>!(a!=null&&a.rdns&&i.includes(String(a.rdns))||!(a!=null&&a.rdns)&&e.some(u=>u.name===a.name)))},filterOutDuplicatesByIds(t){const e=Ne.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"||a.type==="MULTI_CHAIN"),r=Te.getRecentWallets(),n=e.map(a=>{var c;return a.explorerId||((c=a.explorerWallet)==null?void 0:c.id)||a.id}),s=r.map(a=>a.id),i=n.concat(s);return t.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ne.state,{featuredWalletIds:r}=Ce.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r!=null&&r.length){const u=r.indexOf(o.id),l=r.indexOf(a.id);if(u!==-1&&l!==-1)return u-l;if(u!==-1)return-1;if(l!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const r=(t==null?void 0:t.connectMethodsOrder)||((c=Ce.state.features)==null?void 0:c.connectMethodsOrder),n=e||Ne.state.connectors;if(r)return r;const{injected:s,announced:i}=kS.getConnectorsByType(n,Qe.state.recommended,Qe.state.featured),o=s.filter(kS.showConnector),a=i.filter(kS.showConnector);return o.length||a.length?["wallet","email","social"]:wxe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Qe.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&Qe.state.excludedWallets.some(n=>na.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))},filterWalletsByWcSupport(t){return Me.state.wcBasic?t.filter(e=>e.supports_wc):Ue.isMobile()?t.filter(e=>e.supports_wc||Exe.includes(e.id)):t}},kS={getConnectorsByType(t,e,r){const{customWallets:n}=Ce.state,s=Te.getRecentWallets(),i=jb.filterOutDuplicateWallets(e),o=jb.filterOutDuplicateWallets(r),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),u=t.filter(d=>d.type==="INJECTED"),l=t.filter(d=>d.type==="EXTERNAL");return{custom:n,recent:s,external:l,multiChain:a,announced:c,injected:u,recommended:i,featured:o}},showConnector(t){var s;const e=(s=t.info)==null?void 0:s.rdns,r=!!e&&Qe.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&Qe.state.excludedWallets.some(i=>na.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Ue.isMobile()||Ue.isMobile()&&!e&&!Me.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(te.state.chains.values()).some(r=>Ne.getConnectorId(r.namespace)===Ee.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(u=>(u=Ce.state.features)==null?void 0:u.connectorTypeOrder)()??[]}){const d=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),f=new Set(d.map(m=>m.type)),h=c.filter(m=>f.has(m)).map(m=>({type:m,isEnabled:!0})),p=d.filter(({type:m})=>!h.some(({type:E})=>E===m));return Array.from(new Set([...h,...p].map(({type:m})=>m)))},sortConnectorsByExplorerWallet(t){return[...t].sort((e,r)=>e.explorerWallet&&r.explorerWallet?(e.explorerWallet.order??0)-(r.explorerWallet.order??0):e.explorerWallet?-1:r.explorerWallet?1:0)},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){var e,r;try{if(t.name==="Browser Wallet"&&!Ue.isMobile())return{accounts:[],chainId:void 0};if(t.id===Ee.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[n,s]=await Promise.all([(e=t.provider)==null?void 0:e.request({method:"eth_accounts"}),(r=t.provider)==null?void 0:r.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:n,chainId:s}}catch(n){return console.warn(`Failed to fetch provider data for ${t.name}`,n),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(t){const e=Te.getRecentWallets(),r=Ne.state.connectors.map(o=>{var a;return(a=o.info)==null?void 0:a.rdns}).filter(Boolean),n=e.map(o=>o.rdns).filter(Boolean),s=r.concat(n);if(s.includes("io.metamask.mobile")&&Ue.isMobile()){const o=s.indexOf("io.metamask.mobile");s[o]="io.metamask"}return t.filter(o=>!s.includes(String(o==null?void 0:o.rdns)))},hasWalletConnector(t){return Ne.state.connectors.some(e=>e.id===t.id||e.name===t.name)},isWalletCompatibleWithCurrentChain(t){const e=te.state.activeChain;return e&&t.chains?t.chains.some(r=>{const n=r.split(":")[0];return e===n}):!0},getFilteredRecentWallets(){return Te.getRecentWallets().filter(r=>!jb.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r))},getCappedRecommendedWallets(t){const{connectors:e}=Ne.state,{customWallets:r,featuredWalletIds:n}=Ce.state,s=e.find(w=>w.id==="walletConnect"),i=e.filter(w=>w.type==="INJECTED"||w.type==="ANNOUNCED"||w.type==="MULTI_CHAIN");if(!s&&!i.length&&!(r!=null&&r.length))return[];const o=nR.isEmailEnabled(),a=nR.isSocialsEnabled(),c=i.filter(w=>w.name!=="Browser Wallet"&&w.name!=="WalletConnect"),u=(n==null?void 0:n.length)||0,l=(r==null?void 0:r.length)||0,d=c.length||0,f=o?1:0,h=a?1:0,p=u+l+d+f+h,y=Math.max(0,4-p);return y<=0?[]:jb.filterOutDuplicateWallets(t).slice(0,y)}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jS=globalThis,y3=jS.ShadowRoot&&(jS.ShadyCSS===void 0||jS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,b3=Symbol(),lU=new WeakMap;let bX=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==b3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(y3&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=lU.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&lU.set(r,e))}return e}toString(){return this.cssText}};const zo=t=>new bX(typeof t=="string"?t:t+"",void 0,b3),Ll=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((n,s,i)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1]),t[0]);return new bX(r,t,b3)},vxe=(t,e)=>{if(y3)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const n=document.createElement("style"),s=jS.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,t.appendChild(n)}},dU=y3?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return zo(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:_xe,defineProperty:Axe,getOwnPropertyDescriptor:Cxe,getOwnPropertyNames:Sxe,getOwnPropertySymbols:Ixe,getPrototypeOf:Txe}=Object,ld=globalThis,fU=ld.trustedTypes,Pxe=fU?fU.emptyScript:"",S5=ld.reactiveElementPolyfillSupport,sw=(t,e)=>t,nN={toAttribute(t,e){switch(e){case Boolean:t=t?Pxe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},wX=(t,e)=>!_xe(t,e),hU={attribute:!0,type:String,converter:nN,reflect:!1,useDefault:!1,hasChanged:wX};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),ld.litPropertyMetadata??(ld.litPropertyMetadata=new WeakMap);let _0=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=hU){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),s=this.getPropertyDescriptor(e,n,r);s!==void 0&&Axe(this.prototype,e,s)}}static getPropertyDescriptor(e,r,n){const{get:s,set:i}=Cxe(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??hU}static _$Ei(){if(this.hasOwnProperty(sw("elementProperties")))return;const e=Txe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(sw("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(sw("properties"))){const r=this.properties,n=[...Sxe(r),...Ixe(r)];for(const s of n)this.createProperty(s,r[s])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const s of n)r.unshift(dU(s))}else e!==void 0&&r.push(dU(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise((r=>this.enableUpdating=r)),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach((r=>r(this)))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return vxe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach((r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)}))}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach((r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)}))}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var i;const n=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,n);if(s!==void 0&&n.reflect===!0){const o=(((i=n.converter)==null?void 0:i.toAttribute)!==void 0?n.converter:nN).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,r){var i,o;const n=this.constructor,s=n._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const a=n.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:nN;this._$Em=s;const u=c.fromAttribute(r,a.type);this[s]=u??((o=this._$Ej)==null?void 0:o.get(s))??u,this._$Em=null}}requestUpdate(e,r,n){var s;if(e!==void 0){const i=this.constructor,o=this[e];if(n??(n=i.getPropertyOptions(e)),!((n.hasChanged??wX)(o,r)||n.useDefault&&n.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:s,wrapped:i},o){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??r??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach((s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)})),this.update(r)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach((n=>{var s;return(s=n.hostUpdated)==null?void 0:s.call(n)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach((r=>this._$ET(r,this[r])))),this._$EM()}updated(e){}firstUpdated(e){}};_0.elementStyles=[],_0.shadowRootOptions={mode:"open"},_0[sw("elementProperties")]=new Map,_0[sw("finalized")]=new Map,S5==null||S5({ReactiveElement:_0}),(ld.reactiveElementVersions??(ld.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const iw=globalThis,VI=iw.trustedTypes,pU=VI?VI.createPolicy("lit-html",{createHTML:t=>t}):void 0,EX="$lit$",Fl=`lit$${Math.random().toFixed(9).slice(2)}$`,vX="?"+Fl,xxe=`<${vX}>`,ep=document,d1=()=>ep.createComment(""),f1=t=>t===null||typeof t!="object"&&typeof t!="function",w3=Array.isArray,Oxe=t=>w3(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",I5=`[ 	
\f\r]`,fy=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,mU=/-->/g,gU=/>/g,df=RegExp(`>|${I5}(?:([^\\s"'>=/]+)(${I5}*=${I5}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),yU=/'/g,bU=/"/g,_X=/^(?:script|style|textarea|title)$/i,AX=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),sqe=AX(1),iqe=AX(2),eg=Symbol.for("lit-noChange"),Rn=Symbol.for("lit-nothing"),wU=new WeakMap,ih=ep.createTreeWalker(ep,129);function CX(t,e){if(!w3(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return pU!==void 0?pU.createHTML(e):e}const Rxe=(t,e)=>{const r=t.length-1,n=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=fy;for(let a=0;a<r;a++){const c=t[a];let u,l,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,l=o.exec(c),l!==null);)f=o.lastIndex,o===fy?l[1]==="!--"?o=mU:l[1]!==void 0?o=gU:l[2]!==void 0?(_X.test(l[2])&&(s=RegExp("</"+l[2],"g")),o=df):l[3]!==void 0&&(o=df):o===df?l[0]===">"?(o=s??fy,d=-1):l[1]===void 0?d=-2:(d=o.lastIndex-l[2].length,u=l[1],o=l[3]===void 0?df:l[3]==='"'?bU:yU):o===bU||o===yU?o=df:o===mU||o===gU?o=fy:(o=df,s=void 0);const h=o===df&&t[a+1].startsWith("/>")?" ":"";i+=o===fy?c+xxe:d>=0?(n.push(u),c.slice(0,d)+EX+c.slice(d)+Fl+h):c+Fl+(d===-2?a:h)}return[CX(t,i+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class h1{constructor({strings:e,_$litType$:r},n){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[u,l]=Rxe(e,r);if(this.el=h1.createElement(u,n),ih.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=ih.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(EX)){const f=l[o++],h=s.getAttribute(d).split(Fl),p=/([.?@])?(.*)/.exec(f);c.push({type:1,index:i,name:p[2],strings:h,ctor:p[1]==="."?Bxe:p[1]==="?"?kxe:p[1]==="@"?jxe:mP}),s.removeAttribute(d)}else d.startsWith(Fl)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(_X.test(s.tagName)){const d=s.textContent.split(Fl),f=d.length-1;if(f>0){s.textContent=VI?VI.emptyScript:"";for(let h=0;h<f;h++)s.append(d[h],d1()),ih.nextNode(),c.push({type:2,index:++i});s.append(d[f],d1())}}}else if(s.nodeType===8)if(s.data===vX)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(Fl,d+1))!==-1;)c.push({type:7,index:i}),d+=Fl.length-1}i++}}static createElement(e,r){const n=ep.createElement("template");return n.innerHTML=e,n}}function tg(t,e,r=t,n){var o,a;if(e===eg)return e;let s=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const i=f1(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=s:r._$Cl=s),s!==void 0&&(e=tg(t,s._$AS(t,e.values),s,n)),e}class Nxe{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,s=((e==null?void 0:e.creationScope)??ep).importNode(r,!0);ih.currentNode=s;let i=ih.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new aE(i,i.nextSibling,this,e):c.type===1?u=new c.ctor(i,c.name,c.strings,this,e):c.type===6&&(u=new Dxe(i,this,e)),this._$AV.push(u),c=n[++a]}o!==(c==null?void 0:c.index)&&(i=ih.nextNode(),o++)}return ih.currentNode=ep,s}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class aE{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,s){this.type=2,this._$AH=Rn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=tg(this,e,r),f1(e)?e===Rn||e==null||e===""?(this._$AH!==Rn&&this._$AR(),this._$AH=Rn):e!==this._$AH&&e!==eg&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Oxe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Rn&&f1(this._$AH)?this._$AA.nextSibling.data=e:this.T(ep.createTextNode(e)),this._$AH=e}$(e){var i;const{values:r,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=h1.createElement(CX(n.h,n.h[0]),this.options)),n);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(r);else{const o=new Nxe(s,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=wU.get(e.strings);return r===void 0&&wU.set(e.strings,r=new h1(e)),r}k(e){w3(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,s=0;for(const i of e)s===r.length?r.push(n=new aE(this.O(d1()),this.O(d1()),this,this.options)):n=r[s],n._$AI(i),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class mP{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,s,i){this.type=1,this._$AH=Rn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=s,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Rn}_$AI(e,r=this,n,s){const i=this.strings;let o=!1;if(i===void 0)e=tg(this,e,r,0),o=!f1(e)||e!==this._$AH&&e!==eg,o&&(this._$AH=e);else{const a=e;let c,u;for(e=i[0],c=0;c<i.length-1;c++)u=tg(this,a[n+c],r,c),u===eg&&(u=this._$AH[c]),o||(o=!f1(u)||u!==this._$AH[c]),u===Rn?e=Rn:e!==Rn&&(e+=(u??"")+i[c+1]),this._$AH[c]=u}o&&!s&&this.j(e)}j(e){e===Rn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Bxe extends mP{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Rn?void 0:e}}class kxe extends mP{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Rn)}}class jxe extends mP{constructor(e,r,n,s,i){super(e,r,n,s,i),this.type=5}_$AI(e,r=this){if((e=tg(this,e,r,0)??Rn)===eg)return;const n=this._$AH,s=e===Rn&&n!==Rn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==Rn&&(n===Rn||s);s&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class Dxe{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){tg(this,e)}}const T5=iw.litHtmlPolyfillSupport;T5==null||T5(h1,aE),(iw.litHtmlVersions??(iw.litHtmlVersions=[])).push("3.3.1");const Mxe=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let s=n._$litPart$;if(s===void 0){const i=(r==null?void 0:r.renderBefore)??null;n._$litPart$=s=new aE(e.insertBefore(d1(),i),i,void 0,r??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fh=globalThis;class DS extends _0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Mxe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return eg}}var _W;DS._$litElement$=!0,DS.finalized=!0,(_W=Fh.litElementHydrateSupport)==null||_W.call(Fh,{LitElement:DS});const P5=Fh.litElementPolyfillSupport;P5==null||P5({LitElement:DS});(Fh.litElementVersions??(Fh.litElementVersions=[])).push("4.2.1");const Uxe={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},GI={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Lxe={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},Fxe={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Hxe={regular:"KHTeka",mono:"KHTekaMono"},qxe={regular:"400",medium:"500"},zxe={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},$xe={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},Vxe={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},Gxe={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},sN={colors:Uxe,fontFamily:Hxe,fontWeight:qxe,textSize:zxe,typography:$xe,tokens:{core:GI.core,theme:GI.dark},borderRadius:Lxe,spacing:Fxe,durations:Gxe,easings:Vxe},EU="--apkt";function jv(t){if(!t)return{};const e={};return e["font-family"]=t["--apkt-font-family"]??t["--w3m-font-family"]??"KHTeka",e.accent=t["--apkt-accent"]??t["--w3m-accent"]??"#0988F0",e["color-mix"]=t["--apkt-color-mix"]??t["--w3m-color-mix"]??"#000",e["color-mix-strength"]=t["--apkt-color-mix-strength"]??t["--w3m-color-mix-strength"]??0,e["font-size-master"]=t["--apkt-font-size-master"]??t["--w3m-font-size-master"]??"10px",e["border-radius-master"]=t["--apkt-border-radius-master"]??t["--w3m-border-radius-master"]??"4px",t["--apkt-z-index"]!==void 0?e["z-index"]=t["--apkt-z-index"]:t["--w3m-z-index"]!==void 0&&(e["z-index"]=t["--w3m-z-index"]),e}const nu={createCSSVariables(t){const e={},r={};function n(i,o,a=""){for(const[c,u]of Object.entries(i)){const l=a?`${a}-${c}`:c;u&&typeof u=="object"&&Object.keys(u).length?(o[c]={},n(u,o[c],l)):typeof u=="string"&&(o[c]=`${EU}-${l}`)}}function s(i,o){for(const[a,c]of Object.entries(i))c&&typeof c=="object"?(o[a]={},s(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),s(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(s,i,o){for(const[a,c]of Object.entries(s)){const u=o?`${o}-${a}`:a,l=i[a];c&&typeof c=="object"?n(c,l,u):typeof l=="string"&&(r[`${EU}-${u}`]=l)}}return n(t,e),r},createRootStyles(t,e){const r={...sN,tokens:{...sN.tokens,theme:t==="light"?GI.light:GI.dark}},{cssVariables:n}=nu.createCSSVariables(r),s=nu.assignCSSVariables(n,r),i=nu.generateW3MVariables(e),o=nu.generateW3MOverrides(e),a=nu.generateScaledVariables(e),c=nu.generateBaseVariables(s),u={...s,...c,...i,...o,...a},l=nu.applyColorMixToVariables(e,u),d={...u,...l};return`:root {${Object.entries(d).map(([h,p])=>`${h}:${p.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e=jv(t),r={};return r["--w3m-font-family"]=e["font-family"],r["--w3m-accent"]=e.accent,r["--w3m-color-mix"]=e["color-mix"],r["--w3m-color-mix-strength"]=`${e["color-mix-strength"]}%`,r["--w3m-font-size-master"]=e["font-size-master"],r["--w3m-border-radius-master"]=e["border-radius-master"],r},generateW3MOverrides(t){if(!t)return{};const e=jv(t),r={};if(t["--apkt-accent"]||t["--w3m-accent"]){const n=e.accent;r["--apkt-tokens-core-iconAccentPrimary"]=n,r["--apkt-tokens-core-borderAccentPrimary"]=n,r["--apkt-tokens-core-textAccentPrimary"]=n,r["--apkt-tokens-core-backgroundAccentPrimary"]=n}return(t["--apkt-font-family"]||t["--w3m-font-family"])&&(r["--apkt-fontFamily-regular"]=e["font-family"]),e["z-index"]!==void 0&&(r["--apkt-tokens-core-zIndex"]=`${e["z-index"]}`),r},generateScaledVariables(t){if(!t)return{};const e=jv(t),r={};if(t["--apkt-font-size-master"]||t["--w3m-font-size-master"]){const n=parseFloat(e["font-size-master"].replace("px",""));r["--apkt-textSize-h1"]=`${Number(n)*5}px`,r["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,r["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,r["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,r["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,r["--apkt-textSize-h6"]=`${Number(n)*2}px`,r["--apkt-textSize-large"]=`${Number(n)*1.6}px`,r["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,r["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(t["--apkt-border-radius-master"]||t["--w3m-border-radius-master"]){const n=parseFloat(e["border-radius-master"].replace("px",""));r["--apkt-borderRadius-1"]=`${Number(n)}px`,r["--apkt-borderRadius-2"]=`${Number(n)*2}px`,r["--apkt-borderRadius-3"]=`${Number(n)*3}px`,r["--apkt-borderRadius-4"]=`${Number(n)*4}px`,r["--apkt-borderRadius-5"]=`${Number(n)*5}px`,r["--apkt-borderRadius-6"]=`${Number(n)*6}px`,r["--apkt-borderRadius-8"]=`${Number(n)*8}px`,r["--apkt-borderRadius-16"]=`${Number(n)*16}px`,r["--apkt-borderRadius-20"]=`${Number(n)*20}px`,r["--apkt-borderRadius-32"]=`${Number(n)*32}px`,r["--apkt-borderRadius-64"]=`${Number(n)*64}px`,r["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return r},generateColorMixCSS(t,e){if(!(t!=null&&t["--w3m-color-mix"])||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(o=>{const a=(e==null?void 0:e[o])||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};e!=null&&e["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e!=null&&e["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");const n=jv(t),s=n["color-mix"],i=n["color-mix-strength"];if(!i||i===0)return r;const o=Object.keys(e||{}).filter(a=>{const c=a.includes("-tokens-core-background")||a.includes("-tokens-core-text")||a.includes("-tokens-core-border")||a.includes("-tokens-core-foreground")||a.includes("-tokens-core-icon")||a.includes("-tokens-theme-background")||a.includes("-tokens-theme-text")||a.includes("-tokens-theme-border")||a.includes("-tokens-theme-foreground")||a.includes("-tokens-theme-icon")||a.includes("-tokens-theme-overlay"),u=a.includes("-borderRadius-")||a.includes("-spacing-")||a.includes("-textSize-")||a.includes("-fontFamily-")||a.includes("-fontWeight-")||a.includes("-typography-")||a.includes("-duration-")||a.includes("-ease-")||a.includes("-path-")||a.includes("-width-")||a.includes("-height-")||a.includes("-visual-size-")||a.includes("-modal-width")||a.includes("-cover");return c&&!u});return o.length===0||o.forEach(a=>{const c=(e==null?void 0:e[a])||"";a.endsWith("-base")||(a==="--apkt-tokens-theme-backgroundPrimary"||a==="--apkt-tokens-core-backgroundAccentPrimary"?r[a]=`color-mix(in srgb, ${s} ${i}%, var(${a}-base))`:c.includes("color-mix")||c.startsWith("#")||c.startsWith("rgb")?r[a]=`color-mix(in srgb, ${s} ${i}%, ${c})`:r[a]=`color-mix(in srgb, ${s} ${i}%, var(${a}-base, ${c}))`)}),r}},{cssVariablesVarPrefix:Wxe}=nu.createCSSVariables(sN);function oqe(t,...e){return Ll(t,...e.map(r=>zo(typeof r=="function"?r(Wxe):r)))}let Gf,oh,nc,Wi,WI;const Xc={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function KI(t,e="dark"){Gf&&document.head.removeChild(Gf),Gf=document.createElement("style"),Gf.textContent=nu.createRootStyles(e,t),document.head.appendChild(Gf)}function aqe(t,e="dark"){if(WI=t,oh=document.createElement("style"),nc=document.createElement("style"),Wi=document.createElement("style"),oh.textContent=Z0(t).core.cssText,nc.textContent=Z0(t).dark.cssText,Wi.textContent=Z0(t).light.cssText,document.head.appendChild(oh),document.head.appendChild(nc),document.head.appendChild(Wi),KI(t,e),iN(e),!((t==null?void 0:t["--apkt-font-family"])||(t==null?void 0:t["--w3m-font-family"])))for(const[n,s]of Object.entries(Xc)){const i=document.createElement("link");i.rel="preload",i.href=s,i.as="font",i.type=n.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}iN(e)}function iN(t="dark"){nc&&Wi&&Gf&&(t==="light"?(KI(WI,t),nc.removeAttribute("media"),Wi.media="enabled"):(KI(WI,t),Wi.removeAttribute("media"),nc.media="enabled"))}function Kxe(t){var e,r,n;if(WI=t,oh&&nc&&Wi){oh.textContent=Z0(t).core.cssText,nc.textContent=Z0(t).dark.cssText,Wi.textContent=Z0(t).light.cssText;const s=(t==null?void 0:t["--apkt-font-family"])||(t==null?void 0:t["--w3m-font-family"]);s&&(oh.textContent=(e=oh.textContent)==null?void 0:e.replace("font-family: KHTeka",`font-family: ${s}`),nc.textContent=(r=nc.textContent)==null?void 0:r.replace("font-family: KHTeka",`font-family: ${s}`),Wi.textContent=(n=Wi.textContent)==null?void 0:n.replace("font-family: KHTeka",`font-family: ${s}`))}if(Gf){const s=(Wi==null?void 0:Wi.media)==="enabled"?"light":"dark";KI(t,s)}}function Z0(t){const e=!!(t!=null&&t["--apkt-font-family"]||t!=null&&t["--w3m-font-family"]);return{core:Ll`
      ${e?Ll``:Ll`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${zo(Xc["KHTeka-400-woff2"])}) format('woff2'),
                url(${zo(Xc["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${zo(Xc["KHTeka-300-woff2"])}) format('woff2'),
                url(${zo(Xc["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${zo(Xc["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${zo(Xc["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${zo(Xc["KHTeka-400-woff2"])}) format('woff2'),
                url(${zo(Xc["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Ll`
      :root {
      }
    `,light:Ll`
      :root {
      }
    `}}const cqe=Ll`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,uqe=Ll`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,id={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};class Zxe extends pX{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new mX({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){var s,i,o,a;const r=this.provider,n=((a=(o=(i=(s=r==null?void 0:r.session)==null?void 0:s.namespaces)==null?void 0:i[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,u]=c.split(":");return u}).filter((c,u,l)=>l.indexOf(c)===u))||[];return Promise.resolve({accounts:n.map(c=>Ue.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var o,a,c,u,l;if(!(e.caipNetwork&&Ft.BALANCE_SUPPORTED_CHAINS.includes((o=e.caipNetwork)==null?void 0:o.chainNamespace))||(a=e.caipNetwork)!=null&&a.testnet)return{balance:"0.00",symbol:((c=e.caipNetwork)==null?void 0:c.nativeCurrency.symbol)||""};const n=te.getAccountData();if(n!=null&&n.balanceLoading&&e.chainId===((u=te.state.activeCaipNetwork)==null?void 0:u.id))return{balance:(n==null?void 0:n.balance)||"0.00",symbol:(n==null?void 0:n.balanceSymbol)||""};const i=(await te.fetchTokenBalance()).find(d=>{var f,h;return d.chainId===`${(f=e.caipNetwork)==null?void 0:f.chainNamespace}:${e.chainId}`&&d.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:r,message:n,address:s}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=te.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Ee.CHAIN.SOLANA?i=(await r.request({method:"solana_signMessage",params:{message:Eg.encode(new TextEncoder().encode(n)),pubkey:s}},(a=te.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await r.request({method:"personal_sign",params:[n,s]},(c=te.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var s,i,o,a,c,u;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===Ee.CHAIN.EVM)try{await((s=n.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:cd(r.id)}]}))}catch(l){if(l.code===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||l.code===id.ERROR_INVALID_CHAIN_ID||l.code===id.ERROR_CODE_DEFAULT||((o=(i=l==null?void 0:l.data)==null?void 0:i.originalError)==null?void 0:o.code)===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((u=n.provider)==null?void 0:u.request({method:"wallet_addEthereumChain",params:[{chainId:cd(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(n=>n.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}const Yxe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],Dv={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Ft.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?Ft.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Ft.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Ft.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Ft.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Ft.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Ft.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Ft.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Ft.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Ft.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Ft.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Ft.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?Ft.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},Jxe={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=Dv[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,s){const i=Dv[t],o=e[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(i.apiFeatureName,r);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return Dv[t].processApi(e)},processFallbackFeature(t,e){return Dv[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,s=!1;try{n=await Qe.fetchProjectConfig(),s=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!e?Ft.DEFAULT_REMOTE_FEATURES:Ft.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Yxe){const a=this.processFeature(o,r,n,s,e);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Ft.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ds.open({debugMessage:fs.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return i}};class Qxe{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{var s,i,o;if(r){const a=(s=te.getCaipNetworks(r))==null?void 0:s.find(l=>l.id===n);if(a)return a;const c=(i=te.getNetworkData(r))==null?void 0:i.caipNetwork;return c||((o=te.getRequestedCaipNetworks(r).filter(l=>l.chainNamespace===r))==null?void 0:o[0])}return te.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>te.getCaipNetworks(r),this.getActiveChainNamespace=()=>te.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{te.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>te.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>{var n,s;return te.state.activeChain===r||!r?te.state.activeCaipAddress:(s=(n=te.state.chains.get(r))==null?void 0:n.accountState)==null?void 0:s.caipAddress},this.setClientId=r=>{at.setClientId(r)},this.getProvider=r=>Zt.getProvider(r),this.getProviderType=r=>Zt.getProviderId(r),this.getPreferredAccountType=r=>js(r),this.setCaipAddress=(r,n,s=!1)=>{te.setAccountProp("caipAddress",r,n,s),te.setAccountProp("address",Ue.getPlainAddress(r),n,s)},this.setBalance=(r,n,s)=>{te.setAccountProp("balance",r,s),te.setAccountProp("balanceSymbol",n,s)},this.setProfileName=(r,n)=>{te.setAccountProp("profileName",r,n)},this.setProfileImage=(r,n)=>{te.setAccountProp("profileImage",r,n)},this.setUser=(r,n)=>{te.setAccountProp("user",r,n)},this.resetAccount=r=>{te.resetAccount(r)},this.setCaipNetwork=r=>{te.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{te.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{te.setAccountProp("status",r,n),Ne.isConnected()?Te.setConnectionStatus("connected"):Te.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>{var n;return(n=te.getAccountData(r))==null?void 0:n.address},this.setConnectors=r=>{const n=[...Ne.state.allConnectors,...r];Ne.setConnectors(n)},this.setConnections=(r,n)=>{Te.setConnections(r,n),Me.setConnections(r,n)},this.fetchIdentity=r=>at.fetchIdentity(r),this.getReownName=r=>rw.getNamesForAddress(r),this.getConnectors=()=>Ne.getConnectors(),this.getConnectorImage=r=>JZ.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?II.getConnectionsData(r).connections:(ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?II.getConnectionsData(r).recentConnections:(ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Me.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}Te.deleteAddressFromConnection(r),Me.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const s=Zt.getProviderId(n),i=r?{...r,type:s}:void 0;te.setAccountProp("connectedWalletInfo",i,n)},this.getIsConnectedState=()=>!!te.state.activeCaipAddress,this.addAddressLabel=(r,n,s)=>{var o;const i=((o=te.getAccountData(s))==null?void 0:o.addressLabels)||{};te.setAccountProp("addressLabels",{...i,[r]:n},s)},this.removeAddressLabel=(r,n)=>{var i;const s=((i=te.getAccountData(n))==null?void 0:i.addressLabels)||{};te.setAccountProp("addressLabels",{...s,[r]:void 0},n)},this.getAddress=r=>{var s;const n=r||te.state.activeChain;return(s=te.getAccountData(n))==null?void 0:s.address},this.resetNetwork=r=>{te.resetNetwork(r)},this.addConnector=r=>{Ne.addConnector(r)},this.resetWcConnection=()=>{Me.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{te.setAccountProp("addressExplorerUrl",r,n)},this.setSmartAccountDeployed=(r,n)=>{te.setAccountProp("smartAccountDeployed",r,n)},this.setPreferredAccountType=(r,n)=>{te.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{Ce.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e==null?void 0:e.map(i=>i.namespace).filter(i=>!!i);if(n!=null&&n.length)return[...new Set(n)];const s=r==null?void 0:r.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(e){var r,n,s,i,o;if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),Ce.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),!e.basic&&!e.manualWCControl&&(this.remoteFeatures=await Jxe.fetchRemoteFeatures(e)),await Qe.fetchUsage(),Ce.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&aR.setOnrampProviders(this.remoteFeatures.onramp),((r=Ce.state.remoteFeatures)!=null&&r.email||Array.isArray((n=Ce.state.remoteFeatures)==null?void 0:n.socials)&&((s=Ce.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins(),(i=Ce.state.features)!=null&&i.reownAuthentication||(o=Ce.state.remoteFeatures)!=null&&o.reownAuthentication){const{ReownAuthentication:a}=await vn(async()=>{const{ReownAuthentication:u}=await import("./features-ARISqqzJ.js");return{ReownAuthentication:u}},[],import.meta.url),c=Ce.state.siwx;c instanceof a||(c&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),Ce.setSIWX(new a))}}async openSend(e){var i;const r=e.namespace||te.state.activeChain,n=this.getCaipAddress(r),s=(i=this.getCaipNetwork(r))==null?void 0:i.id;if(!n)throw new Error("openSend: caipAddress not found");if((s==null?void 0:s.toString())!==e.chainId.toString()){const o=te.getCaipNetworkById(e.chainId,r);if(!o)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(o,{throwOnFailure:!0})}try{const o=yX.getTokenSymbolByAddress(e.assetAddress);o&&await Qe.fetchTokenImages([o])}catch{}return await Bt.open({view:"WalletSend",data:{send:e}}),new Promise((o,a)=>{const c=Pt.subscribeKey("hash",d=>{d&&(l(),o({hash:d}))}),u=Bt.subscribe(d=>{d.open||(l(),a(new Error("Modal closed")))}),l=this.createCleanupHandler([c,u])})}toModalOptions(){function e(n){return(n==null?void 0:n.view)==="Swap"}function r(n){return(n==null?void 0:n.view)==="WalletSend"}return{isSwap:e,isSend:r}}async checkAllowedOrigins(){try{const e=await Qe.fetchAllowedOrigins();if(!Ue.isClient())return;const r=window.location.origin;uc.isOriginAllowed(r,e,Ee.DEFAULT_ALLOWED_ANCESTORS)||ds.open(fs.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":ds.open(fs.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;ds.open({displayMessage:fs.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:fs.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}createCleanupHandler(e){return()=>{e.forEach(r=>{try{r()}catch{}})}}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,delete r.universalProvider,bt.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(s=>s.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initAdapterController(){eY.initialize(this.chainAdapters)}initializeThemeController(e){e.themeMode&&ni.setThemeMode(e.themeMode),e.themeVariables&&ni.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");te.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const r=this.getDefaultNetwork();r&&te.setActiveCaipNetwork(r)}initializeConnectionController(e){Me.initialize(e.adapters??[]),Me.setWcBasic(e.basic??!1)}initializeConnectorController(){Ne.initialize(this.chainNamespaces)}initializeProjectSettings(e){Ce.setProjectId(e.projectId),Ce.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var s;Ce.setDebug(e.debug!==!1),Ce.setEnableWalletGuide(e.enableWalletGuide!==!1),Ce.setEnableWallets(e.enableWallets!==!1),Ce.setEIP6963Enabled(e.enableEIP6963!==!1),Ce.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Ce.setEnableReconnect(e.enableReconnect!==!1),Ce.setEnableMobileFullScreen(e.enableMobileFullScreen===!0),Ce.setCoinbasePreference(e.coinbasePreference),Ce.setEnableAuthLogger(e.enableAuthLogger!==!1),Ce.setCustomRpcUrls(e.customRpcUrls),Ce.setEnableEmbedded(e.enableEmbedded),Ce.setAllWallets(e.allWallets),Ce.setIncludeWalletIds(e.includeWalletIds),Ce.setExcludeWalletIds(e.excludeWalletIds),Ce.setFeaturedWalletIds(e.featuredWalletIds),Ce.setTokens(e.tokens),Ce.setTermsConditionsUrl(e.termsConditionsUrl),Ce.setPrivacyPolicyUrl(e.privacyPolicyUrl),Ce.setCustomWallets(e.customWallets),Ce.setFeatures(e.features),Ce.setAllowUnsupportedChain(e.allowUnsupportedChain),Ce.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Ce.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Ce.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),Ce.setMetadata(e.metadata),Ce.setDisableAppend(e.disableAppend),Ce.setEnableEmbedded(e.enableEmbedded),Ce.setSIWX(e.siwx),this.features=Ce.state.features??{},!e.projectId){ds.open(fs.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=e.adapters)==null?void 0:s.find(i=>i.namespace===Ee.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Ce.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,s;return Ue.isClient()?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=v0.getUnsupportedNetwork(`${r}:${e}`);te.setActiveCaipNetwork(n)}}getDefaultNetwork(){return v0.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return v0.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return v0.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(s=>{var i;return s.id===((i=e.defaultNetwork)==null?void 0:i.id)});return r?v0.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,r){var n,s;try{this.setLoading(!0,e);let i={connections:[]};const o=this.getAdapter(e);return(((s=(n=te.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:s.caipAddress)||!Ce.state.enableReconnect)&&(o!=null&&o.disconnect)&&(i=await o.disconnect({id:r})),this.setLoading(!1,e),i}catch(i){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${i.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var u;const e=te.state.activeChain,r=this.getAdapter(e),n=(u=this.getCaipNetwork(e))==null?void 0:u.id,s=Me.getConnections(e),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!i)&&this.close(),this.setClientId((a==null?void 0:a.clientId)||null),Te.setConnectedNamespaces([...te.state.chains.keys()]),await this.syncWalletConnectAccount(),await ci.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:s})=>{var a;const i=te.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),Te.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{var u;const{id:r,chainNamespace:n,initialDisconnect:s}=e||{},i=n||te.state.activeChain,o=Ne.getConnectorId(i),a=r===Ee.CONNECTOR_ID.AUTH||o===Ee.CONNECTOR_ID.AUTH,c=r===Ee.CONNECTOR_ID.WALLET_CONNECT||o===Ee.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(te.state.chains.keys());let d=n?[n]:l;(c||a)&&(d=l);const f=d.map(async m=>{const y=Ne.getConnectorId(m),E=r||y,w=await this.disconnectConnector(m,E);w&&(a&&Te.deleteConnectedSocialProvider(),w.connections.forEach(b=>{Te.addDisconnectedConnectorId(b.connectorId,m)})),s&&this.onDisconnectNamespace({chainNamespace:m,closeModal:!1})}),h=await Promise.allSettled(f);Pt.resetSend(),Me.resetWcConnection(),(u=ci.getSIWX())!=null&&u.signOutOnDisconnect&&await ci.clearSessions(),Ne.setFilterByNamespace(void 0),Me.syncStorageConnections();const p=h.filter(m=>m.status==="rejected");if(p.length>0)throw new Error(p.map(m=>m.reason.message).join(", "));bt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=te.state.activeChain,n=this.getAdapter(te.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");const s=this.getAddress(r);if(!s)throw new Error("signMessage: address not found");const i=await(n==null?void 0:n.signMessage({message:e,address:s,provider:Zt.getProvider(r)}));return(i==null?void 0:i.signature)||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(Ft.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const s=Zt.getProvider(r),i=await(n==null?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===Ee.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const s=Zt.getProvider(r),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");const o=await(n==null?void 0:n.estimateGas({...e,provider:s,caipNetwork:i}));return(o==null?void 0:o.gas)||0n}return 0n},getEnsAvatar:async()=>{var s;const e=te.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");const r=this.getAddress(e);if(!r)throw new Error("getEnsAvatar: address not found");await this.syncIdentity({address:r,chainId:Number((s=this.getCaipNetwork())==null?void 0:s.id),chainNamespace:e});const n=te.getAccountData();return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>await uc.resolveReownName(e),writeContract:async e=>{const r=te.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=Zt.getProvider(r);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const a=await(n==null?void 0:n.writeContract({...e,caipNetwork:s,provider:o,caipAddress:i}));return a==null?void 0:a.hash},parseUnits:(e,r)=>{const n=this.getAdapter(te.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return(n==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const n=this.getAdapter(te.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return(n==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(te.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await(r==null?void 0:r.walletGetAssets(e))??{}},updateBalance:e=>{const r=this.getAddress(e),n=this.getCaipNetwork(e);!n||!r||this.updateNativeBalance(r,n==null?void 0:n.id,e)}},Me.setClient(this.connectionControllerClient)}async onConnectExternal(e){var u,l,d,f,h,p,m,y;const r=te.state.activeChain,n=e.chain||r,s=this.getAdapter(n);let i=!0;if(e.type===Ot.CONNECTOR_TYPE_AUTH&&Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(b=>Ne.getConnectorId(b)===Ee.CONNECTOR_ID.AUTH)&&e.chain!==r&&(i=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const E=this.getCaipNetworks().find(w=>w.chainNamespace===e.chain);E&&i&&this.setCaipNetwork(E)}if(!n)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await s.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:((u=e.caipNetwork)==null?void 0:u.id)||(o==null?void 0:o.id),rpcUrl:((h=(f=(d=(l=e.caipNetwork)==null?void 0:l.rpcUrls)==null?void 0:d.default)==null?void 0:f.http)==null?void 0:h[0])||((y=(m=(p=o==null?void 0:o.rpcUrls)==null?void 0:p.default)==null?void 0:m.http)==null?void 0:y[0])});if(c)return Te.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),Te.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){var a;const n=e.type===Ot.CONNECTOR_TYPE_AUTH,s=na.getOtherAuthNamespaces((a=r==null?void 0:r.connectedCaipNetwork)==null?void 0:a.chainNamespace),i=te.state.activeCaipNetwork,o=this.getAdapter(i==null?void 0:i.chainNamespace);n&&(await Promise.all(s.map(async c=>{var u,l,d;try{const f=Zt.getProvider(c),h=this.getCaipNetwork(c),p=this.getAdapter(c);await(p==null?void 0:p.connect({...e,provider:f,socialUri:void 0,chainId:h==null?void 0:h.id,rpcUrl:(d=(l=(u=h==null?void 0:h.rpcUrls)==null?void 0:u.default)==null?void 0:l.http)==null?void 0:d[0]}))&&(Te.addConnectedNamespace(c),Te.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(f){ds.warn(fs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,fs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,f instanceof Error?f.message:void 0),fs.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await(o==null?void 0:o.switchNetwork({caipNetwork:i})))}getApprovedCaipNetworksData(){var r,n,s,i,o;if(Zt.getProviderId(te.state.activeChain)===Ot.CONNECTOR_TYPE_WALLET_CONNECT){const a=(n=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:n.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const s=Zt.getProviderId(r);if(e.chainNamespace===te.state.activeChain){const i=this.getAdapter(r);await(i==null?void 0:i.switchNetwork({caipNetwork:e}))}else if(this.setCaipNetwork(e),s===Ot.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const i=this.getAddressByChainNamespace(r);i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],s=r.accounts.map(i=>{const{chainId:o,chainNamespace:a}=mn.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...n,...s]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var i,o;const s=e==null?void 0:e.find(a=>a.namespace===n);return s?(s.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:(o=this.caipNetworks)==null?void 0:o.filter(({chainNamespace:a})=>a===n)}),r[n]=s):r[n]=new Zxe({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e);const r=this.getAdapter(e);if(!r)throw new Error("adapter not found");await r.syncConnectors(),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)})),this.initAdapterController()}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=Te.getConnectionStatus();Ce.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(Te.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:s,chainId:i})=>{var u,l;const o=this.getCaipNetworks().find(d=>d.id.toString()===i.toString()||d.caipNetworkId.toString()===i.toString()),a=te.state.activeChain===e,c=(l=(u=te.state.chains.get(e))==null?void 0:u.accountState)==null?void 0:l.address;if(o){const d=a&&s?s:c;d&&this.syncAccount({address:d,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(i)}),r.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(Me.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!s||i.length===0})}),r.on("connections",s=>{this.setConnections(s,e)}),r.on("pendingTransactions",()=>{const s=this.getAddress(e),i=te.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),r.on("accountChanged",({address:s,chainId:i,connector:o})=>{var l,d;this.handlePreviousConnectorConnection(o);const a=te.state.activeChain===e;o!=null&&o.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o==null?void 0:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=(d=(l=te.getNetworkData(e))==null?void 0:l.caipNetwork)==null?void 0:d.id,u=i||c;a&&u?this.syncAccount({address:s,chainId:u,chainNamespace:e}):!a&&u?(this.syncAccountInfo(s,u,e),this.syncBalance({address:s,chainId:u,chainNamespace:e})):this.syncAccountInfo(s,i,e),Te.addConnectedNamespace(e)})}async handlePreviousConnectorConnection(e){var c;const r=e==null?void 0:e.chain,n=e==null?void 0:e.id,s=Ne.getConnectorId(r),i=(c=Ce.state.remoteFeatures)==null?void 0:c.multiWallet,a=r&&n&&s&&s!==n&&!i;try{a&&await Me.disconnect({id:s,namespace:r})}catch(u){console.warn("Error disconnecting previous connector",u)}}async createUniversalProviderForAdapter(e){var r,n,s;await this.getUniversalProvider(),this.universalProvider&&await((s=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null?void 0:s.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Me.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();this.getCaipAddress()||Te.deleteRecentWallet();const r=Te.getRecentWallet();bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:Ue.isMobile()?"mobile":"qrcode",name:(r==null?void 0:r.name)||"Unknown",reconnect:!0,view:st.state.view,walletRank:r==null?void 0:r.order}})}async syncNamespaceConnection(e){try{e===Ee.CHAIN.EVM&&Ue.isSafeApp()&&Ne.setConnectorId(Ee.CONNECTOR_ID.SAFE,e);const r=Ne.getConnectorId(e);switch(this.setStatus("connecting",e),r){case Ee.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case Ee.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};te.resetAccount(r),te.resetNetwork(r),Te.removeConnectedNamespace(r);const s=Array.from(te.state.chains.keys());(r?[r]:s).forEach(o=>Te.addDisconnectedConnectorId(Ne.getConnectorId(o)||"",o)),Ne.removeConnectorId(r),Zt.resetChain(r),this.setUser(null,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(null,r),n!==!1&&Bt.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getAdapter(e),n=this.getCaipAddress(e),s=this.getCaipNetwork(e);return r==null?void 0:r.syncConnections({connectToFirstConnector:!n,caipNetwork:s})}))}async syncAdapterConnection(e){var a,c,u,l,d;const r=this.getAdapter(e),n=this.getCaipNetwork(e),s=Ne.getConnectorId(e),o=Ne.getConnectors(e).find(f=>f.id===s);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(n!=null&&n.id))throw new Error("CaipNetwork not found");const f=await(r==null?void 0:r.syncConnection({namespace:e,id:o.id,chainId:n.id,rpcUrl:(u=(c=(a=n==null?void 0:n.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:u[0]}));f?(this.syncProvider({...f,chainNamespace:e}),await this.syncAccount({...f,chainNamespace:e}),this.setStatus("connected",e),bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:f.address,properties:{method:"browser",name:((l=o.info)==null?void 0:l.name)||o.name||"Unknown",reconnect:!0,view:st.state.view,walletRank:(d=o==null?void 0:o.explorerWallet)==null?void 0:d.order}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){var n,s;const e=Object.keys(((s=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:s.namespaces)||{}),r=this.chainNamespaces.map(async i=>{var d,f,h,p,m;const o=this.getAdapter(i);if(!o)return;const a=((p=(h=(f=(d=this.universalProvider)==null?void 0:d.session)==null?void 0:f.namespaces)==null?void 0:h[i])==null?void 0:p.accounts)||[],c=(m=te.state.activeCaipNetwork)==null?void 0:m.id,u=a.find(y=>{const{chainId:E}=mn.parseCaipAddress(y);return E===(c==null?void 0:c.toString())})||a[0];if(u){const y=mn.validateCaipAddress(u),{chainId:E,address:w}=mn.parseCaipAddress(y);if(Zt.setProviderId(i,Ot.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&te.state.activeCaipNetwork&&o.namespace!==Ee.CHAIN.EVM){const b=o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:te.state.activeCaipNetwork});Zt.setProvider(i,b)}else Zt.setProvider(i,this.universalProvider);Ne.setConnectorId(Ee.CONNECTOR_ID.WALLET_CONNECT,i),Te.addConnectedNamespace(i),await this.syncAccount({address:w,chainId:E,chainNamespace:i})}else e.includes(i)&&this.setStatus("disconnected",i);const l=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(i),te.setApprovedCaipNetworksData(i,{approvedCaipNetworkIds:l.approvedCaipNetworkIds,supportsAllNetworks:l.supportsAllNetworks})});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:s}){Zt.setProviderId(s,e),Zt.setProvider(s,r),Ne.setConnectorId(n,s)}async syncAccount(e){var d,f;const r=e.chainNamespace===te.state.activeChain,n=te.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:s,chainId:i,chainNamespace:o}=e,{chainId:a}=Te.getActiveNetworkProps(),c=(n==null?void 0:n.id)||a,u=((d=te.state.activeCaipNetwork)==null?void 0:d.name)===Ee.UNSUPPORTED_NETWORK_NAME,l=te.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!l)&&c){let h=this.getCaipNetworks().find(E=>E.id.toString()===c.toString()),p=this.getCaipNetworks().find(E=>E.chainNamespace===o);if(!l&&!h&&!p){const E=this.getApprovedCaipNetworkIds()||[],w=E.find(g=>{var v;return((v=mn.parseCaipNetworkId(g))==null?void 0:v.chainId)===c.toString()}),b=E.find(g=>{var v;return((v=mn.parseCaipNetworkId(g))==null?void 0:v.chainNamespace)===o});h=this.getCaipNetworks().find(g=>g.caipNetworkId===w),p=this.getCaipNetworks().find(g=>g.caipNetworkId===b||"deprecatedCaipNetworkId"in g&&g.deprecatedCaipNetworkId===b)}const m=h||p;(m==null?void 0:m.chainNamespace)===te.state.activeChain?Ce.state.enableNetworkSwitch&&!Ce.state.allowUnsupportedChain&&((f=te.state.activeCaipNetwork)==null?void 0:f.name)===Ee.UNSUPPORTED_NETWORK_NAME?te.showUnsupportedChainUI():this.setCaipNetwork(m):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o);const y=this.getAddress(o);na.isLowerCaseMatch(s,y)||this.syncAccountInfo(s,m==null?void 0:m.id,o),r?await this.syncBalance({address:s,chainId:m==null?void 0:m.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:n==null?void 0:n.id,chainNamespace:o}),this.syncIdentity({address:s,chainId:i,chainNamespace:o})}}async syncAccountInfo(e,r,n){const s=this.getCaipAddress(n),i=r||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${n}:${i}:${e}`;this.setCaipAddress(o,n,!0),await this.syncIdentity({address:e,chainId:i,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const s=n[0];this.setProfileName(s.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var s;const r=Ne.getConnectorId(e),n=Zt.getProviderId(e);if(n===Ot.CONNECTOR_TYPE_ANNOUNCED||n===Ot.CONNECTOR_TYPE_INJECTED){if(r){const o=this.getConnectors().find(a=>{var d,f;const c=a.id===r,u=((d=a.info)==null?void 0:d.rdns)===r,l=(f=a.connectors)==null?void 0:f.some(h=>{var p;return h.id===r||((p=h.info)==null?void 0:p.rdns)===r});return c||u||!!l});if(o){const{info:a,name:c,imageUrl:u}=o,l=u||this.getConnectorImage(o);this.setConnectedWalletInfo({name:c,icon:l,...a},e)}}}else if(n===Ot.CONNECTOR_TYPE_WALLET_CONNECT){const i=Zt.getProvider(e);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},e)}else if(r&&(r===Ee.CONNECTOR_ID.COINBASE_SDK||r===Ee.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(u=>u.id===r),o=(i==null?void 0:i.name)||"Coinbase Wallet",a=(i==null?void 0:i.imageUrl)||this.getConnectorImage(i),c=i==null?void 0:i.info;this.setConnectedWalletInfo({...c,name:o,icon:a},e)}}async syncBalance(e){!KK.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>{var s;return n.id.toString()===((s=e.chainId)==null?void 0:s.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const s=this.getAdapter(n),i=te.getCaipNetworkByNamespace(n,r);if(s){const o=await s.getBalance({address:e,chainId:r,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){var s,i,o,a,c,u,l,d,f,h;const e=yxe.createLogger((p,...m)=>{p&&this.handleAlertError(p),console.error(...m)}),r={projectId:(s=this.options)==null?void 0:s.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(o=this.options)==null?void 0:o.metadata.name:"",description:(a=this.options)!=null&&a.metadata?(c=this.options)==null?void 0:c.metadata.description:"",url:(u=this.options)!=null&&u.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(d=this.options)!=null&&d.metadata?(f=this.options)==null?void 0:f.metadata.icons:[""]},logger:e};Ce.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await H6e.init(r);const n=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await n()}catch(p){if(p instanceof Error&&p.message.includes("Missing or invalid. Record was recently deleted"))return;throw p}},Ce.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{uc.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{Me.setUri(r)},onConnect:r=>{const{address:n}=Ue.getAccount(r[0]);Me.finalizeWcConnection(n)},onDisconnect:()=>{te.state.noAdapters&&this.resetAccount(e),Me.resetWcConnection()},onChainChanged:r=>{const n=te.state.activeChain,s=n&&Ne.state.activeConnectorIds[n]===Ee.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(te.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(r);return}(o==null?void 0:o.id.toString())!==(i==null?void 0:i.id.toString())&&(o==null?void 0:o.chainNamespace)===(i==null?void 0:i.chainNamespace)&&this.setCaipNetwork(i)}},onAccountsChanged:r=>{const n=te.state.activeChain,s=n&&Ne.state.activeConnectorIds[n]===Ee.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(te.state.noAdapters||s)){const i=r==null?void 0:r[0];i&&this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Ue.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){bt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}getDisabledCaipNetworks(){const e=te.getAllApprovedCaipNetworkIds(),r=te.getAllRequestedCaipNetworks();return Ue.sortRequestedNetworks(e,r).filter(s=>te.isCaipNetworkDisabled(s))}handleAlertError(e){const r=Object.entries(fs.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,s]=r??[],{message:i,alertErrorKey:o}=s??{};if(n&&i&&!this.reportedAlertErrors[n]){const a=fs.ALERT_ERRORS[o];a&&(ds.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var s,i;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:(i=this.caipNetworks)==null?void 0:i.filter(({chainNamespace:o})=>o===r)}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){await this.injectModalUi(),e!=null&&e.uri&&Me.setUri(e.uri);const{isSwap:r,isSend:n}=this.toModalOptions();return r(e)?Bt.open({...e,data:{swap:e.arguments}}):n(e)&&e.arguments?this.openSend(e.arguments):Bt.open(e)}async close(){await this.injectModalUi(),Bt.close()}setLoading(e,r){Bt.setLoading(e,r)}async disconnect(e){await Me.disconnect({namespace:e})}getSIWX(){return Ce.state.siwx}getError(){return""}getChainId(){var e;return(e=te.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e,{throwOnFailure:r=!1}={}){const n=this.getCaipNetworks().find(s=>s.id===e.id);if(!n){ds.open(fs.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await te.switchActiveNetwork(n,{throwOnFailure:r})}getWalletProvider(){return te.state.activeChain?Zt.state.providers[te.state.activeChain]:null}getWalletProviderType(){return Zt.getProviderId(te.state.activeChain)}subscribeProviders(e){return Zt.subscribeProviders(e)}getThemeMode(){return ni.state.themeMode}getThemeVariables(){return ni.state.themeVariables}setThemeMode(e){ni.setThemeMode(e),iN(ni.state.themeMode)}setTermsConditionsUrl(e){Ce.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Ce.setPrivacyPolicyUrl(e)}setThemeVariables(e){ni.setThemeVariables(e),Kxe(ni.state.themeVariables)}subscribeTheme(e){return ni.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Me.subscribe(e):(ds.open(Ee.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){var n,s;if(e)return(s=(n=te.state.chains.get(e))==null?void 0:n.accountState)==null?void 0:s.connectedWalletInfo;const r=te.getAccountData();return r==null?void 0:r.connectedWalletInfo}getAccount(e){const r=e||te.state.activeChain,n=Ne.getAuthConnector(r),s=te.getAccountData(r),i=Te.getConnectedConnectorId(te.state.activeChain),o=Me.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:u,type:l,publicKey:d})=>Ue.createAccount(r,u,l||"eoa",d)));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:Ue.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:n&&i===Ee.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:Te.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:js(r),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const s=this.getAccount(r);s&&e(s)};r?te.subscribeChainProp("accountState",n,r):te.subscribe(n),Ne.subscribe(n)}subscribeNetwork(e){return te.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e,r){return r?te.subscribeChainProp("accountState",n=>e(n==null?void 0:n.connectedWalletInfo),r):te.subscribeChainProp("accountState",n=>e(n==null?void 0:n.connectedWalletInfo))}subscribeShouldUpdateToAddress(e){te.subscribeChainProp("accountState",r=>e(r==null?void 0:r.shouldUpdateToAddress))}subscribeCaipNetworkChange(e){te.subscribeKey("activeCaipNetwork",e)}getState(){return ra.state}getRemoteFeatures(){return Ce.state.remoteFeatures}subscribeState(e){return ra.subscribe(e)}subscribeRemoteFeatures(e){return Ce.subscribeKey("remoteFeatures",e)}showErrorMessage(e){tc.showError(e)}showSuccessMessage(e){tc.showSuccess(e)}getEvent(){return{...bt.state}}subscribeEvents(e){return bt.subscribe(e)}replace(e){st.replace(e)}redirect(e){st.push(e)}popTransactionStack(e){st.popTransactionStack(e)}isOpen(){return Bt.state.open}isTransactionStackEmpty(){return st.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Ce.setFeatures(e)}updateRemoteFeatures(e){Ce.setRemoteFeatures(e)}updateOptions(e){const n={...Ce.state||{},...e};Ce.setOptions(n)}setConnectMethodsOrder(e){Ce.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Ce.setWalletFeaturesOrder(e)}setCollapseWallets(e){Ce.setCollapseWallets(e)}setSocialsOrder(e){Ce.setSocialsOrder(e)}getConnectMethodsOrder(){return jb.getConnectOrderMethod(Ce.state.features,Ne.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(s=>s.id===n.id)||te.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(s=>s.id===r)&&te.removeNetwork(e,r)}}let vU=!1;class Xxe extends Qxe{async onAuthProviderConnected(e){const r=na.userChainIdToChainNamespace(e==null?void 0:e.chainId);if(e.message&&e.signature&&e.siwxMessage&&await ci.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!r)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const n=r===Ee.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,s=Ce.state.defaultAccountTypes[r],i=js(r),o=e.preferredAccountType||i||s;this.setCaipAddress(n,r);const{signature:a,siwxMessage:c,message:u,...l}=e,d=te.getAccountData(r);this.setUser({...(d==null?void 0:d.user)||{},...l},r),this.setSmartAccountDeployed(!!e.smartAccountDeployed,r),this.setPreferredAccountType(o,r),await Promise.all([this.syncAuthConnectorTheme(this.authProvider),this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:r})]),this.setLoading(!1,r)}setupAuthConnectorListeners(e){e.onRpcRequest(r=>{Zi.checkIfRequestExists(r)?Zi.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(cn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(cn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((r,n)=>{const s=Zi.checkIfRequestIsSafe(n),i=this.getAddress(),o=te.state.activeCaipNetwork;s||(i&&(o!=null&&o.id)&&this.updateNativeBalance(i,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const r=te.state.activeChain;if(!r)throw new Error("AppKit:onNotConnected - namespace is required");Ne.getConnectorId(r)===Ee.CONNECTOR_ID.AUTH&&(this.setCaipAddress(null,r),this.setLoading(!1,r))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:r,type:n})=>{const s=te.state.activeChain;if(!s)throw new Error("AppKit:onSetPreferredAccount - namespace is required");r&&this.setPreferredAccountType(n,s)})}async syncAuthConnectorTheme(e){if(!e)return;const r=ni.getSnapshot();await e.syncTheme({themeMode:r.themeMode,themeVariables:r.themeVariables,w3mThemeVariables:Cw(r.themeVariables,r.themeMode)})}async syncAuthConnector(e,r){var l,d,f,h,p,m,y,E,w;const n=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r),s=r===te.state.activeChain;if(!n)return;this.setLoading(!0,r);const i=e.getLoginEmailUsed();this.setLoading(i,r),i&&this.setStatus("connecting",r);const o=e.getEmail(),a=e.getUsername(),c=((l=te.getAccountData(r))==null?void 0:l.user)||{};this.setUser({...c,username:a,email:o},r),this.setupAuthConnectorListeners(e);const{isConnected:u}=await e.isConnected();if(r&&n&&s)if(u&&((d=this.connectionControllerClient)!=null&&d.connectExternal)){await e.init(),await this.syncAuthConnectorTheme(e),await((p=this.connectionControllerClient)==null?void 0:p.connectExternal({id:Ee.CONNECTOR_ID.AUTH,info:{name:Ee.CONNECTOR_ID.AUTH},type:Ot.CONNECTOR_TYPE_AUTH,provider:e,chainId:(h=(f=te.getNetworkData(r))==null?void 0:f.caipNetwork)==null?void 0:h.id,chain:r})),this.setStatus("connected",r);const b=Te.getConnectedSocialProvider();b?bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:this.getAddress(),properties:{provider:b,reconnect:!0}}):bt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:this.getAddress(),properties:{method:"email",name:((w=(E=(y=(m=this.universalProvider)==null?void 0:m.session)==null?void 0:y.peer)==null?void 0:E.metadata)==null?void 0:w.name)||"Unknown",reconnect:!0,view:st.state.view,walletRank:void 0}})}else Ne.getConnectorId(r)===Ee.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),Te.removeConnectedNamespace(r));this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!Ue.isTelegram())return;const n=Te.getTelegramSocialProvider();if(!n||!Ue.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;n&&te.setAccountProp("socialProvider",n,e),await((r=this.authProvider)==null?void 0:r.init());const o=Ne.getAuthConnector();n&&o&&(this.setLoading(!0,e),await Me.connectExternal({id:o.id,type:o.type,socialUri:i},o.chain),Te.setConnectedSocialProvider(n),Te.removeTelegramSocialProvider(),bt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){var u,l,d,f;if(!Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=(u=this.remoteFeatures)==null?void 0:u.email,s=Array.isArray((l=this.remoteFeatures)==null?void 0:l.socials)&&this.remoteFeatures.socials.length>0,i=n||s,a=na.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&((d=this.options)!=null&&d.projectId)&&i&&(this.authProvider=nw.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(f=this.getCaipNetwork(a))==null?void 0:f.caipNetworkId,abortController:fs.EmbeddedWalletAbortController,onTimeout:h=>{h==="iframe_load_failed"?ds.open(fs.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):h==="iframe_request_timeout"?ds.open(fs.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):h==="unverified_domain"&&ds.open(fs.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:h=>Rb(h),getCaipNetworks:h=>te.getCaipNetworks(h)}),ra.subscribeOpen(h=>{var p;!h&&this.isTransactionStackEmpty()&&((p=this.authProvider)==null||p.rejectRpcRequests())}));const c=e===te.state.activeChain&&Ce.state.enableReconnect;Ce.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,n,s;this.createAuthProvider(e),this.authProvider&&((s=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setAuthProvider)==null||s.call(n,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Qe.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var o,a,c;if(!e)return;const r=te.state.activeChain,n=e.chainNamespace,s=this.getAddressByChainNamespace(n);if(n===r&&((o=te.getAccountData(n))!=null&&o.caipAddress)){const u=this.getAdapter(n);await(u==null?void 0:u.switchNetwork({caipNetwork:e})),this.setCaipNetwork(e)}else{const l=Zt.getProviderId(r)===Ot.CONNECTOR_TYPE_AUTH,d=Zt.getProviderId(n),f=d===Ot.CONNECTOR_TYPE_AUTH,h=Ee.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!n)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((l&&d===void 0||f)&&h)try{if(te.state.activeChain=e.chainNamespace,s){const p=this.getAdapter(n);await(p==null?void 0:p.switchNetwork({caipNetwork:e}))}else await((c=(a=this.connectionControllerClient)==null?void 0:a.connectExternal)==null?void 0:c.call(a,{id:Ee.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:Ot.CONNECTOR_TYPE_AUTH,caipNetwork:e}));this.setCaipNetwork(e)}catch{const m=this.getAdapter(n);await(m==null?void 0:m.switchNetwork({caipNetwork:e}))}else if(d===Ot.CONNECTOR_TYPE_WALLET_CONNECT){if(!te.state.noAdapters){const p=this.getAdapter(n);await(p==null?void 0:p.switchNetwork({caipNetwork:e}))}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),s&&this.syncAccount({address:s,chainId:e.id,chainNamespace:n})}}async initialize(e){var r;await super.initialize(e),(r=this.chainNamespaces)==null||r.forEach(n=>{this.createAuthProviderForAdapter(n)}),await this.injectModalUi(),ra.set({initialized:!0})}async syncIdentity({address:e,chainId:r,chainNamespace:n}){var a;const s=`${n}:${r}`,i=(a=this.caipNetworks)==null?void 0:a.find(c=>c.caipNetworkId===s);if(i!=null&&i.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}const o=Ne.getConnectorId(n)===Ee.CONNECTOR_ID.AUTH;try{const{name:c,avatar:u}=await this.fetchIdentity({address:e});!c&&o?await this.syncReownName(e,n):(this.setProfileName(c,n),this.setProfileImage(u,n))}catch{r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=Zt.getProviderId(e);if(r===Ot.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const s=Te.getConnectedSocialProvider()??"email",i=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:i,social:s},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Ue.isClient()&&!vU)try{const e={...Ft.DEFAULT_FEATURES,...this.options.features},r=this.remoteFeatures;if(await this.loadModalComponents(e,r),Ue.isClient()&&!document.querySelector("w3m-modal")){const s=document.createElement("w3m-modal");!Ce.state.disableAppend&&!Ce.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",s)}vU=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,r){if(!Ue.isClient())return;const n=[];(r.email||r.socials&&r.socials.length>0)&&n.push(vn(()=>import("./embedded-wallet-Crs_5LGT.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url)),r.email&&n.push(vn(()=>import("./email--Uea8QPe.js"),__vite__mapDeps([16,4,17,14,8,13,6,7,12,18,10]),import.meta.url)),r.socials&&n.push(vn(()=>import("./socials-DcTYYvfk.js"),__vite__mapDeps([19,4,6,20,7,21,13,22,12,8,23,5,24]),import.meta.url)),r.swaps&&r.swaps.length>0&&n.push(vn(()=>import("./swaps-BKU37g94.js"),__vite__mapDeps([25,4,12,8,13,6,26,27,28,24,29,5,10,7]),import.meta.url)),e.send&&n.push(vn(()=>import("./send-DYeNEjvB.js"),__vite__mapDeps([30,4,12,8,13,6,31,7,32,14,29,5,24,28,10,33,34]),import.meta.url)),e.receive&&n.push(vn(()=>import("./receive-BlKoZ3tR.js"),__vite__mapDeps([35,4,6,5,23]),import.meta.url)),r.onramp&&r.onramp.length>0&&n.push(vn(()=>import("./onramp-Csvbq5O_.js"),__vite__mapDeps([36,4,6,37,8,20,7,5,38,39,14,12,13,22,10]),import.meta.url)),r.payWithExchange&&n.push(vn(()=>import("./pay-with-exchange-DUMTWq6P.js"),__vite__mapDeps([40,4,6,5,11,37,8,24,12,32,7,14,41,13,10,33,31]),import.meta.url)),r.activity&&n.push(vn(()=>import("./transactions-CEF7iLDM.js"),__vite__mapDeps([42,4,43,13,6,14,5,24]),import.meta.url)),(e.pay||r.payments)&&n.push(vn(()=>import("./index-CYokMq9c.js"),__vite__mapDeps([44,4,6,12,8,45,11,5,37,46,31,47,13,22]),import.meta.url)),r.emailCapture&&n.push(vn(()=>import("./data-capture-iS-k-9Ny.js"),__vite__mapDeps([48,4,17,14,8,49]),import.meta.url)),await Promise.all([...n,vn(()=>import("./index-rPljnN2v.js"),__vite__mapDeps([50,4,6,5,8,34,13,51,39,14,9,47,11,37,12,41,43,24,33,26,27,31,7,10,46,18,20,21,22,23,15,38]),import.meta.url),vn(()=>import("./w3m-modal-B0xsrsOw.js"),__vite__mapDeps([52,4,6,45,5,9,8,13,27,51,39,14,47,28,12]),import.meta.url)])}}function e5e(){async function t(e){await Me.disconnect(e)}return{disconnect:t}}let ui;function t5e(t){t&&(ui=t)}function r5e(){if(!ui)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){return ui==null?void 0:ui.open(r)}async function e(){await(ui==null?void 0:ui.close())}return lp({open:t,close:e})}function n5e(){if(!ui)throw new Error('Please call "createAppKit" before using "useAppKitState" composable');const t=ui.getState(),e=ui.getRemoteFeatures(),r=vt(t.open),n=vt(e),s=vt(t.selectedNetworkId),i=ui==null?void 0:ui.subscribeState(o=>{r.value=o.open,s.value=o.selectedNetworkId});return H1(()=>{i==null||i()}),lp({open:r,remoteFeatures:n,selectedNetworkId:s})}const s5e="1.8.14";let Mv;function i5e(t){return Mv||(Mv=new Xxe({...t,sdkVersion:Ue.generateSdkVersion(t.adapters??[],"html",s5e)}),t5e(Mv)),Mv}const o5e="6.15.0";function a5e(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=t,s}async function Ns(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function ut(t,e,r){for(let n in e){let s=e[n];const i=r?r[n]:null;i&&a5e(s,i,n),Object.defineProperty(t,n,{enumerable:!0,value:s,writable:!1})}}function N0(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>N0(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let s=0;s<t.length;s++)n+=r[t[s]>>4],n+=r[t[s]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return N0(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${N0(n,e)}: ${N0(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Vn(t,e){return t&&t.code===e}function E3(t){return Vn(t,"CALL_EXCEPTION")}function Ur(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${N0(r)}`);for(const o in r){if(o==="shortMessage")continue;const a=r[o];i.push(o+"="+N0(a))}}i.push(`code=${e}`),i.push(`version=${o5e}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return ut(s,{code:e}),r&&Object.assign(s,r),s.shortMessage==null&&ut(s,{shortMessage:n}),s}function Pe(t,e,r,n){if(!t)throw Ur(e,r,n)}function pe(t,e,r,n){Pe(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function SX(t,e,r){r==null&&(r=""),r&&(r=": "+r),Pe(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Pe(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function cE(t,e,r){if(r==null&&(r=""),t!==e){let n=r,s="new";r&&(n+=".",s+=" "+r),Pe(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function IX(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(s,s+2),16),s+=2;return n}pe(!1,"invalid BytesLike value",e||"value",t)}function Rt(t,e){return IX(t,e,!1)}function ks(t,e){return IX(t,e,!0)}function Ar(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function v3(t){return Ar(t,!0)||t instanceof Uint8Array}const _U="0123456789abcdef";function Fe(t){const e=Rt(t);let r="0x";for(let n=0;n<e.length;n++){const s=e[n];r+=_U[(s&240)>>4]+_U[s&15]}return r}function en(t){return"0x"+t.map(e=>Fe(e).substring(2)).join("")}function Y0(t){return Ar(t,!0)?(t.length-2)/2:Rt(t).length}function Xr(t,e,r){const n=Rt(t);return r!=null&&r>n.length&&Pe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Fe(n.slice(e??0,r??n.length))}function TX(t,e,r){const n=Rt(t);Pe(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),r?s.set(n,e-n.length):s.set(n,0),Fe(s)}function Lu(t,e){return TX(t,e,!0)}function c5e(t,e){return TX(t,e,!1)}const gP=BigInt(0),ea=BigInt(1),B0=9007199254740991;function ZI(t,e){const r=yP(t,"value"),n=BigInt(At(e,"width"));if(Pe(r>>n===gP,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-ea){const s=(ea<<n)-ea;return-((~r&s)+ea)}return r}function PX(t,e){let r=Ye(t,"value");const n=BigInt(At(e,"width")),s=ea<<n-ea;if(r<gP){r=-r,Pe(r<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(ea<<n)-ea;return(~r&i)+ea}else Pe(r<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function ah(t,e){const r=yP(t,"value"),n=BigInt(At(e,"bits"));return r&(ea<<n)-ea}function Ye(t,e){switch(typeof t){case"bigint":return t;case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-B0&&t<=B0,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){pe(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}pe(!1,"invalid BigNumberish value",e||"value",t)}function yP(t,e){const r=Ye(t,e);return Pe(r>=gP,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const AU="0123456789abcdef";function bP(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=AU[r>>4],e+=AU[r&15];return BigInt(e)}return Ye(t)}function At(t,e){switch(typeof t){case"bigint":return pe(t>=-B0&&t<=B0,"overflow",e||"value",t),Number(t);case"number":return pe(Number.isInteger(t),"underflow",e||"value",t),pe(t>=-B0&&t<=B0,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return At(BigInt(t),e)}catch(r){pe(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}pe(!1,"invalid numeric value",e||"value",t)}function u5e(t){return At(bP(t))}function Id(t,e){let n=yP(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=At(e,"width");for(Pe(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<s*2;)n="0"+n}return"0x"+n}function An(t){const e=yP(t,"value");if(e===gP)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(r.substring(i,i+2),16)}return n}function Xo(t){let e=Fe(v3(t)?t:An(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const CU="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const SU=BigInt(58);function l5e(t){const e=Rt(t);let r=bP(e),n="";for(;r;)n=CU[Number(r%SU)]+n,r/=SU;for(let s=0;s<e.length&&!e[s];s++)n=CU[0]+n;return n}function d5e(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Rt(e)}function f5e(t){const e=Rt(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var nm;class xX{constructor(e,r,n){be(this,"filter");be(this,"emitter");ve(this,nm);se(this,nm,r),ut(this,{emitter:e,filter:n})}async removeListener(){G(this,nm)!=null&&await this.emitter.off(this.filter,G(this,nm))}}nm=new WeakMap;function h5e(t,e,r,n,s){pe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function OX(t,e,r,n,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function p5e(t,e,r,n,s){return t==="OVERLONG"?(pe(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),OX(t,e,r))}const m5e=Object.freeze({error:h5e,ignore:OX,replace:p5e});function g5e(t,e){e==null&&(e=m5e.error);const r=Rt(t,"bytes"),n=[];let s=0;for(;s<r.length;){const i=r[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,r,n):s+=e("BAD_PREFIX",s-1,r,n);continue}if(s-1+o>=r.length){s+=e("OVERRUN",s-1,r,n);continue}let c=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let l=r[s];if((l&192)!=128){s+=e("MISSING_CONTINUE",s,r,n),c=null;break}c=c<<6|l&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,r,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,r,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,r,n,c);continue}n.push(c)}}return n}function lc(t,e){pe(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(s<128)r.push(s);else if(s<2048)r.push(s>>6|192),r.push(s&63|128);else if((s&64512)==55296){n++;const i=t.charCodeAt(n);pe(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128)}return new Uint8Array(r)}function y5e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function YI(t,e){return y5e(g5e(t,e))}function RX(t){async function e(r,n){Pe(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=r.url.split(":")[0].toLowerCase();Pe(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),Pe(s==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=Ur("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{i=Ur("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal});let u;try{u=await fetch(r.url,c)}catch(h){throw clearTimeout(a),i||h}clearTimeout(a);const l={};u.headers.forEach((h,p)=>{l[p.toLowerCase()]=h});const d=await u.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:u.status,statusMessage:u.statusText,headers:l,body:f}}return e}const b5e=12,w5e=250;let IU=RX();const E5e=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),v5e=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let x5=!1;async function NX(t,e){try{const r=t.match(E5e);if(!r)throw new Error("invalid data");return new dd(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?d5e(r[3]):A5e(r[3]))}catch{return new dd(599,"BAD REQUEST (invalid data: URI)",{},null,new Fu(t))}}function BX(t){async function e(r,n){try{const s=r.match(v5e);if(!s)throw new Error("invalid link");return new Fu(`${t}${s[2]}`)}catch{return new dd(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Fu(r))}}return e}const Uv={data:NX,ipfs:BX("https://gateway.ipfs.io/ipfs/")},kX=new WeakMap;var hh,Hl;class _5e{constructor(e){ve(this,hh);ve(this,Hl);se(this,hh,[]),se(this,Hl,!1),kX.set(e,()=>{if(!G(this,Hl)){se(this,Hl,!0);for(const r of G(this,hh))setTimeout(()=>{r()},0);se(this,hh,[])}})}addListener(e){Pe(!G(this,Hl),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),G(this,hh).push(e)}get cancelled(){return G(this,Hl)}checkSignal(){Pe(!this.cancelled,"cancelled","CANCELLED",{})}}hh=new WeakMap,Hl=new WeakMap;function Lv(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var sm,im,Vo,lu,om,am,Tn,Fi,du,ph,mh,gh,La,Go,ql,yh,Db;const gT=class gT{constructor(e){ve(this,yh);ve(this,sm);ve(this,im);ve(this,Vo);ve(this,lu);ve(this,om);ve(this,am);ve(this,Tn);ve(this,Fi);ve(this,du);ve(this,ph);ve(this,mh);ve(this,gh);ve(this,La);ve(this,Go);ve(this,ql);se(this,am,String(e)),se(this,sm,!1),se(this,im,!0),se(this,Vo,{}),se(this,lu,""),se(this,om,3e5),se(this,Go,{slotInterval:w5e,maxAttempts:b5e}),se(this,ql,null)}get url(){return G(this,am)}set url(e){se(this,am,String(e))}get body(){return G(this,Tn)==null?null:new Uint8Array(G(this,Tn))}set body(e){if(e==null)se(this,Tn,void 0),se(this,Fi,void 0);else if(typeof e=="string")se(this,Tn,lc(e)),se(this,Fi,"text/plain");else if(e instanceof Uint8Array)se(this,Tn,e),se(this,Fi,"application/octet-stream");else if(typeof e=="object")se(this,Tn,lc(JSON.stringify(e))),se(this,Fi,"application/json");else throw new Error("invalid body")}hasBody(){return G(this,Tn)!=null}get method(){return G(this,lu)?G(this,lu):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),se(this,lu,String(e).toUpperCase())}get headers(){const e=Object.assign({},G(this,Vo));return G(this,du)&&(e.authorization=`Basic ${f5e(lc(G(this,du)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&G(this,Fi)&&(e["content-type"]=G(this,Fi)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){G(this,Vo)[String(e).toLowerCase()]=String(r)}clearHeaders(){se(this,Vo,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return G(this,du)||null}setCredentials(e,r){pe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),se(this,du,`${e}:${r}`)}get allowGzip(){return G(this,im)}set allowGzip(e){se(this,im,!!e)}get allowInsecureAuthentication(){return!!G(this,sm)}set allowInsecureAuthentication(e){se(this,sm,!!e)}get timeout(){return G(this,om)}set timeout(e){pe(e>=0,"timeout must be non-zero","timeout",e),se(this,om,e)}get preflightFunc(){return G(this,ph)||null}set preflightFunc(e){se(this,ph,e)}get processFunc(){return G(this,mh)||null}set processFunc(e){se(this,mh,e)}get retryFunc(){return G(this,gh)||null}set retryFunc(e){se(this,gh,e)}get getUrlFunc(){return G(this,ql)||IU}set getUrlFunc(e){se(this,ql,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${G(this,Tn)?Fe(G(this,Tn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(G(this,Go).slotInterval=e.slotInterval),e.maxAttempts!=null&&(G(this,Go).maxAttempts=e.maxAttempts)}send(){return Pe(G(this,La)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),se(this,La,new _5e(this)),Re(this,yh,Db).call(this,0,TU()+this.timeout,0,this,new dd(0,"",{},null,this))}cancel(){Pe(G(this,La)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=kX.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Pe(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new gT(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,se(s,Vo,Object.assign({},G(this,Vo))),G(this,Tn)&&se(s,Tn,new Uint8Array(G(this,Tn))),se(s,Fi,G(this,Fi)),s}clone(){const e=new gT(this.url);return se(e,lu,G(this,lu)),G(this,Tn)&&se(e,Tn,G(this,Tn)),se(e,Fi,G(this,Fi)),se(e,Vo,Object.assign({},G(this,Vo))),se(e,du,G(this,du)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),se(e,ph,G(this,ph)),se(e,mh,G(this,mh)),se(e,gh,G(this,gh)),se(e,Go,Object.assign({},G(this,Go))),se(e,ql,G(this,ql)),e}static lockConfig(){x5=!0}static getGateway(e){return Uv[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(x5)throw new Error("gateways locked");Uv[e]=r}static registerGetUrl(e){if(x5)throw new Error("gateways locked");IU=e}static createGetUrlFunc(e){return RX(e)}static createDataGateway(){return NX}static createIpfsGatewayFunc(e){return BX(e)}};sm=new WeakMap,im=new WeakMap,Vo=new WeakMap,lu=new WeakMap,om=new WeakMap,am=new WeakMap,Tn=new WeakMap,Fi=new WeakMap,du=new WeakMap,ph=new WeakMap,mh=new WeakMap,gh=new WeakMap,La=new WeakMap,Go=new WeakMap,ql=new WeakMap,yh=new WeakSet,Db=async function(e,r,n,s,i){var l,d,f;if(e>=G(this,Go).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Pe(TU()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await C5e(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Uv){const h=await Uv[a](o.url,Lv(G(s,La)));if(h instanceof dd){let p=h;if(this.processFunc){Lv(G(s,La));try{p=await this.processFunc(o,p)}catch(m){(m.throttle==null||typeof m.stall!="number")&&p.makeServerError("error in post-processing function",m).assertOk()}}return p}o=h}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,Lv(G(s,La)));let u=new dd(c.statusCode,c.statusMessage,c.headers,c.body,s);if(u.statusCode===301||u.statusCode===302){try{const h=u.headers.location||"";return Re(l=o.redirect(h),yh,Db).call(l,e+1,r,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const h=u.headers["retry-after"];let p=G(this,Go).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof h=="string"&&h.match(/^[1-9][0-9]*$/)&&(p=parseInt(h)),Re(d=o.clone(),yh,Db).call(d,e+1,r,p,s,u)}if(this.processFunc){Lv(G(s,La));try{u=await this.processFunc(o,u)}catch(h){(h.throttle==null||typeof h.stall!="number")&&u.makeServerError("error in post-processing function",h).assertOk();let p=G(this,Go).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return h.stall>=0&&(p=h.stall),Re(f=o.clone(),yh,Db).call(f,e+1,r,p,s,u)}}return u};let Fu=gT;var P1,x1,O1,Hi,cm,bh;const mB=class mB{constructor(e,r,n,s,i){ve(this,P1);ve(this,x1);ve(this,O1);ve(this,Hi);ve(this,cm);ve(this,bh);se(this,P1,e),se(this,x1,r),se(this,O1,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),se(this,Hi,s==null?null:new Uint8Array(s)),se(this,cm,i||null),se(this,bh,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${G(this,Hi)?Fe(G(this,Hi)):"null"}>`}get statusCode(){return G(this,P1)}get statusMessage(){return G(this,x1)}get headers(){return Object.assign({},G(this,O1))}get body(){return G(this,Hi)==null?null:new Uint8Array(G(this,Hi))}get bodyText(){try{return G(this,Hi)==null?"":YI(G(this,Hi))}catch{Pe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Pe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const s=r[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new mB(599,n,this.headers,this.body,G(this,cm)||void 0);return se(s,bh,{message:e,error:r}),s}throwThrottleError(e,r){r==null?r=-1:pe(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw ut(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return G(this,Hi)!=null}get request(){return G(this,cm)}ok(){return G(this,bh).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=G(this,bh);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{G(this,Hi)&&(s=YI(G(this,Hi)))}catch{}Pe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};P1=new WeakMap,x1=new WeakMap,O1=new WeakMap,Hi=new WeakMap,cm=new WeakMap,bh=new WeakMap;let dd=mB;function TU(){return new Date().getTime()}function A5e(t){return lc(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function C5e(t){return new Promise(e=>setTimeout(e,t))}const S5e=BigInt(-1),qo=BigInt(0),k0=BigInt(1),I5e=BigInt(5),Vp={};let J0="0000";for(;J0.length<80;)J0+=J0;function ff(t){let e=J0;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function hy(t,e,r){const n=BigInt(e.width);if(e.signed){const s=k0<<n-k0;Pe(r==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>qo?t=ZI(ah(t,n),n):t=-ZI(ah(-t,n),n)}else{const s=k0<<n;Pe(r==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%s+s)%s&s-k0}return t}function O5(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);pe(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,o=(a,c,u)=>i[a]==null?u:(pe(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}pe(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),pe(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:s}}function T5e(t,e){let r="";t<qo&&(r="-",t*=S5e);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=J0+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var Wo,mr,xs,lr,Lf,eu,oN,aN,cN,uN;const kl=class kl{constructor(e,r,n){ve(this,lr);be(this,"format");ve(this,Wo);ve(this,mr);ve(this,xs);be(this,"_value");cE(e,Vp,"FixedNumber"),se(this,mr,r),se(this,Wo,n);const s=T5e(r,n.decimals);ut(this,{format:n.name,_value:s}),se(this,xs,ff(n.decimals))}get signed(){return G(this,Wo).signed}get width(){return G(this,Wo).width}get decimals(){return G(this,Wo).decimals}get value(){return G(this,mr)}addUnsafe(e){return Re(this,lr,oN).call(this,e)}add(e){return Re(this,lr,oN).call(this,e,"add")}subUnsafe(e){return Re(this,lr,aN).call(this,e)}sub(e){return Re(this,lr,aN).call(this,e,"sub")}mulUnsafe(e){return Re(this,lr,cN).call(this,e)}mul(e){return Re(this,lr,cN).call(this,e,"mul")}mulSignal(e){Re(this,lr,Lf).call(this,e);const r=G(this,mr)*G(e,mr);return Pe(r%G(this,xs)===qo,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Re(this,lr,eu).call(this,r/G(this,xs),"mulSignal")}divUnsafe(e){return Re(this,lr,uN).call(this,e)}div(e){return Re(this,lr,uN).call(this,e,"div")}divSignal(e){Pe(G(e,mr)!==qo,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Re(this,lr,Lf).call(this,e);const r=G(this,mr)*G(this,xs);return Pe(r%G(e,mr)===qo,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Re(this,lr,eu).call(this,r/G(e,mr),"divSignal")}cmp(e){let r=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=ff(s):s<0&&(r*=ff(-s)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=G(this,mr);return G(this,mr)<qo&&(e-=G(this,xs)-k0),e=G(this,mr)/G(this,xs)*G(this,xs),Re(this,lr,eu).call(this,e,"floor")}ceiling(){let e=G(this,mr);return G(this,mr)>qo&&(e+=G(this,xs)-k0),e=G(this,mr)/G(this,xs)*G(this,xs),Re(this,lr,eu).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=I5e*ff(r-1);let s=this.value+n;const i=ff(r);return s=s/i*i,hy(s,G(this,Wo),"round"),new kl(Vp,s,G(this,Wo))}isZero(){return G(this,mr)===qo}isNegative(){return G(this,mr)<qo}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return kl.fromString(this.toString(),e)}static fromValue(e,r,n){const s=r==null?0:At(r),i=O5(n);let o=Ye(e,"value");const a=s-i.decimals;if(a>0){const c=ff(a);Pe(o%c===qo,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=ff(-a));return hy(o,i,"fromValue"),new kl(Vp,o,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);pe(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=O5(r);let i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=J0;Pe(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(n[1]+i+o);return hy(a,s,"fromString"),new kl(Vp,a,s)}static fromBytes(e,r){let n=bP(Rt(e,"value"));const s=O5(r);return s.signed&&(n=ZI(n,s.width)),hy(n,s,"fromBytes"),new kl(Vp,n,s)}};Wo=new WeakMap,mr=new WeakMap,xs=new WeakMap,lr=new WeakSet,Lf=function(e){pe(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},eu=function(e,r){return e=hy(e,G(this,Wo),r),new kl(Vp,e,G(this,Wo))},oN=function(e,r){return Re(this,lr,Lf).call(this,e),Re(this,lr,eu).call(this,G(this,mr)+G(e,mr),r)},aN=function(e,r){return Re(this,lr,Lf).call(this,e),Re(this,lr,eu).call(this,G(this,mr)-G(e,mr),r)},cN=function(e,r){return Re(this,lr,Lf).call(this,e),Re(this,lr,eu).call(this,G(this,mr)*G(e,mr)/G(this,xs),r)},uN=function(e,r){return Pe(G(e,mr)!==qo,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Re(this,lr,Lf).call(this,e),Re(this,lr,eu).call(this,G(this,mr)*G(this,xs)/G(e,mr),r)};let JI=kl;function P5e(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function PU(t,e,r){let n=0;for(let s=0;s<r;s++)n=n*256+t[e+s];return n}function xU(t,e,r,n){const s=[];for(;r<e+1+n;){const i=jX(t,r);s.push(i.result),r+=i.consumed,Pe(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:s}}function jX(t,e){Pe(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{Pe(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const s=PU(t,e+1,n);return r(e+1+n+s),xU(t,e,e+1+n,n+s)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),xU(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const s=PU(t,e+1,n);r(e+1+n+s);const i=Fe(t.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const s=Fe(t.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:P5e(t[e])}}function uE(t){const e=Rt(t,"data"),r=jX(e,0);return pe(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function OU(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function DX(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(DX(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=OU(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(Rt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=OU(e.length);return r.unshift(183+r.length),r.concat(e)}const RU="0123456789abcdef";function Td(t){let e="0x";for(const r of DX(t))e+=RU[r>>4],e+=RU[r&15];return e}const MX=["wei","kwei","mwei","gwei","szabo","finney","ether"];function UX(t,e){let r=18;if(typeof e=="string"){const n=MX.indexOf(e);pe(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=At(e,"unit"));return JI.fromValue(t,r,{decimals:r,width:512}).toString()}function x5e(t,e){pe(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=MX.indexOf(e);pe(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=At(e,"unit"));return JI.fromString(t,{decimals:r,width:512}).value}function O5e(t){return UX(t,18)}const Ds=32,lN=new Uint8Array(Ds),R5e=["then"],Fv={},LX=new WeakMap;function Wf(t){return LX.get(t)}function NU(t,e){LX.set(t,e)}function py(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function dN(t,e,r){return t.indexOf(null)>=0?e.map((n,s)=>n instanceof rg?dN(Wf(n),n,r):n):t.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(r&&o instanceof rg&&(o=dN(Wf(o),o,r)),n[s]=o),n},{})}var um;const j0=class j0 extends Array{constructor(...r){const n=r[0];let s=r[1],i=(r[2]||[]).slice(),o=!0;n!==Fv&&(s=r,i=[],o=!1);super(s.length);ve(this,um);s.forEach((u,l)=>{this[l]=u});const a=i.reduce((u,l)=>(typeof l=="string"&&u.set(l,(u.get(l)||0)+1),u),new Map);if(NU(this,Object.freeze(s.map((u,l)=>{const d=i[l];return d!=null&&a.get(d)===1?d:null}))),se(this,um,[]),G(this,um)==null&&G(this,um),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(u,l,d)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const h=At(l,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");const p=u[h];return p instanceof Error&&py(`index ${h}`,p),p}if(R5e.indexOf(l)>=0)return Reflect.get(u,l,d);const f=u[l];if(f instanceof Function)return function(...h){return f.apply(this===d?u:this,h)};if(!(l in u))return u.getValue.apply(this===d?u:this,[l])}return Reflect.get(u,l,d)}});return NU(c,Wf(this)),c}toArray(r){const n=[];return this.forEach((s,i)=>{s instanceof Error&&py(`index ${i}`,s),r&&s instanceof j0&&(s=s.toArray(r)),n.push(s)}),n}toObject(r){const n=Wf(this);return n.reduce((s,i,o)=>(Pe(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),dN(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const s=Wf(this),i=[],o=[];for(let a=r;a<n;a++)i.push(this[a]),o.push(s[a]);return new j0(Fv,i,o)}filter(r,n){const s=Wf(this),i=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&py(`index ${a}`,c),r.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new j0(Fv,i,o)}map(r,n){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&py(`index ${i}`,o),s.push(r.call(n,o,i,this))}return s}getValue(r){const n=Wf(this).indexOf(r);if(n===-1)return;const s=this[n];return s instanceof Error&&py(`property ${JSON.stringify(r)}`,s.error),s}static fromItems(r,n){return new j0(Fv,r,n)}};um=new WeakMap;let rg=j0;function BU(t){let e=An(t);return Pe(e.length<=Ds,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Ds,offset:e.length}),e.length!==Ds&&(e=ks(en([lN.slice(e.length%Ds),e]))),e}class $u{constructor(e,r,n,s){be(this,"name");be(this,"type");be(this,"localName");be(this,"dynamic");ut(this,{name:e,type:r,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){pe(!1,e,this.localName,r)}}var fu,wh,lm,MS;class fN{constructor(){ve(this,lm);ve(this,fu);ve(this,wh);se(this,fu,[]),se(this,wh,0)}get data(){return en(G(this,fu))}get length(){return G(this,wh)}appendWriter(e){return Re(this,lm,MS).call(this,ks(e.data))}writeBytes(e){let r=ks(e);const n=r.length%Ds;return n&&(r=ks(en([r,lN.slice(n)]))),Re(this,lm,MS).call(this,r)}writeValue(e){return Re(this,lm,MS).call(this,BU(e))}writeUpdatableValue(){const e=G(this,fu).length;return G(this,fu).push(lN),se(this,wh,G(this,wh)+Ds),r=>{G(this,fu)[e]=BU(r)}}}fu=new WeakMap,wh=new WeakMap,lm=new WeakSet,MS=function(e){return G(this,fu).push(e),se(this,wh,G(this,wh)+e.length),e.length};var ti,qi,Eh,vh,zl,cp,pN,FX;const gB=class gB{constructor(e,r,n){ve(this,cp);be(this,"allowLoose");ve(this,ti);ve(this,qi);ve(this,Eh);ve(this,vh);ve(this,zl);ut(this,{allowLoose:!!r}),se(this,ti,ks(e)),se(this,Eh,0),se(this,vh,null),se(this,zl,n??1024),se(this,qi,0)}get data(){return Fe(G(this,ti))}get dataLength(){return G(this,ti).length}get consumed(){return G(this,qi)}get bytes(){return new Uint8Array(G(this,ti))}subReader(e){const r=new gB(G(this,ti).slice(G(this,qi)+e),this.allowLoose,G(this,zl));return se(r,vh,this),r}readBytes(e,r){let n=Re(this,cp,FX).call(this,0,e,!!r);return Re(this,cp,pN).call(this,e),se(this,qi,G(this,qi)+n.length),n.slice(0,e)}readValue(){return bP(this.readBytes(Ds))}readIndex(){return u5e(this.readBytes(Ds))}};ti=new WeakMap,qi=new WeakMap,Eh=new WeakMap,vh=new WeakMap,zl=new WeakMap,cp=new WeakSet,pN=function(e){var r;if(G(this,vh))return Re(r=G(this,vh),cp,pN).call(r,e);se(this,Eh,G(this,Eh)+e),Pe(G(this,zl)<1||G(this,Eh)<=G(this,zl)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${G(this,zl)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ks(G(this,ti)),offset:G(this,qi),length:e,info:{bytesRead:G(this,Eh),dataLength:this.dataLength}})},FX=function(e,r,n){let s=Math.ceil(r/Ds)*Ds;return G(this,qi)+s>G(this,ti).length&&(this.allowLoose&&n&&G(this,qi)+r<=G(this,ti).length?s=r:Pe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ks(G(this,ti)),length:G(this,ti).length,offset:G(this,qi)+s})),G(this,ti).slice(G(this,qi),G(this,qi)+s)};let hN=gB;function QI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function _3(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function N5e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");QI(t.outputLen),QI(t.blockLen)}function ng(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HX(t,e){_3(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const R5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qX=t=>t instanceof Uint8Array,B5e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),N5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),xa=(t,e)=>t<<32-e|t>>>e,k5e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!k5e)throw new Error("Non little-endian hardware is not supported");function j5e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function wP(t){if(typeof t=="string"&&(t=j5e(t)),!qX(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function D5e(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!qX(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let A3=class{clone(){return this._cloneInto()}};function C3(t){const e=n=>t().update(wP(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function M5e(t=32){if(R5&&typeof R5.getRandomValues=="function")return R5.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class zX extends A3{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,N5e(e);const n=wP(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return ng(this),this.iHash.update(e),this}digestInto(e){ng(this),_3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $X=(t,e,r)=>new zX(t,e).update(r).digest();$X.create=(t,e)=>new zX(t,e);function U5e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,a,n)}class VX extends A3{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=N5(this.buffer)}update(e){ng(this);const{view:r,buffer:n,blockLen:s}=this;e=wP(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=N5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ng(this),HX(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let d=o;d<s;d++)r[d]=0;U5e(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=N5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}}const L5e=(t,e,r)=>t&e^~t&r,F5e=(t,e,r)=>t&e^t&r^e&r,H5e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hl=new Uint32Array(64);class q5e extends VX{constructor(){super(64,32,8,!1),this.A=fl[0]|0,this.B=fl[1]|0,this.C=fl[2]|0,this.D=fl[3]|0,this.E=fl[4]|0,this.F=fl[5]|0,this.G=fl[6]|0,this.H=fl[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,r,n,s,i,o,a,c]}set(e,r,n,s,i,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)hl[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const f=hl[d-15],h=hl[d-2],p=xa(f,7)^xa(f,18)^f>>>3,m=xa(h,17)^xa(h,19)^h>>>10;hl[d]=m+hl[d-7]+p+hl[d-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=xa(a,6)^xa(a,11)^xa(a,25),h=l+f+L5e(a,c,u)+H5e[d]+hl[d]|0,m=(xa(n,2)^xa(n,13)^xa(n,22))+F5e(n,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=n,n=h+m|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(n,s,i,o,a,c,u,l)}roundClean(){hl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const GX=C3(()=>new q5e),Hv=BigInt(2**32-1),mN=BigInt(32);function WX(t,e=!1){return e?{h:Number(t&Hv),l:Number(t>>mN&Hv)}:{h:Number(t>>mN&Hv)|0,l:Number(t&Hv)|0}}function KX(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=WX(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const z5e=(t,e)=>BigInt(t>>>0)<<mN|BigInt(e>>>0),$5e=(t,e,r)=>t>>>r,V5e=(t,e,r)=>t<<32-r|e>>>r,G5e=(t,e,r)=>t>>>r|e<<32-r,W5e=(t,e,r)=>t<<32-r|e>>>r,K5e=(t,e,r)=>t<<64-r|e>>>r-32,Z5e=(t,e,r)=>t>>>r-32|e<<64-r,Y5e=(t,e)=>e,J5e=(t,e)=>t,ZX=(t,e,r)=>t<<r|e>>>32-r,YX=(t,e,r)=>e<<r|t>>>32-r,JX=(t,e,r)=>e<<r-32|t>>>64-r,QX=(t,e,r)=>t<<r-32|e>>>64-r;function Q5e(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const X5e=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),eOe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,tOe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),rOe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,nOe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),sOe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Tt={fromBig:WX,split:KX,toBig:z5e,shrSH:$5e,shrSL:V5e,rotrSH:G5e,rotrSL:W5e,rotrBH:K5e,rotrBL:Z5e,rotr32H:Y5e,rotr32L:J5e,rotlSH:ZX,rotlSL:YX,rotlBH:JX,rotlBL:QX,add:Q5e,add3L:X5e,add3H:eOe,add4L:tOe,add4H:rOe,add5H:sOe,add5L:nOe},[iOe,oOe]=Tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),pl=new Uint32Array(80),ml=new Uint32Array(80);class aOe extends VX{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:f,Gh:h,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y]}set(e,r,n,s,i,o,a,c,u,l,d,f,h,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let b=0;b<16;b++,r+=4)pl[b]=e.getUint32(r),ml[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const g=pl[b-15]|0,v=ml[b-15]|0,A=Tt.rotrSH(g,v,1)^Tt.rotrSH(g,v,8)^Tt.shrSH(g,v,7),C=Tt.rotrSL(g,v,1)^Tt.rotrSL(g,v,8)^Tt.shrSL(g,v,7),x=pl[b-2]|0,T=ml[b-2]|0,N=Tt.rotrSH(x,T,19)^Tt.rotrBH(x,T,61)^Tt.shrSH(x,T,6),M=Tt.rotrSL(x,T,19)^Tt.rotrBL(x,T,61)^Tt.shrSL(x,T,6),k=Tt.add4L(C,M,ml[b-7],ml[b-16]),B=Tt.add4H(k,A,N,pl[b-7],pl[b-16]);pl[b]=B|0,ml[b]=k|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:f,Fh:h,Fl:p,Gh:m,Gl:y,Hh:E,Hl:w}=this;for(let b=0;b<80;b++){const g=Tt.rotrSH(d,f,14)^Tt.rotrSH(d,f,18)^Tt.rotrBH(d,f,41),v=Tt.rotrSL(d,f,14)^Tt.rotrSL(d,f,18)^Tt.rotrBL(d,f,41),A=d&h^~d&m,C=f&p^~f&y,x=Tt.add5L(w,v,C,oOe[b],ml[b]),T=Tt.add5H(x,E,g,A,iOe[b],pl[b]),N=x|0,M=Tt.rotrSH(n,s,28)^Tt.rotrBH(n,s,34)^Tt.rotrBH(n,s,39),k=Tt.rotrSL(n,s,28)^Tt.rotrBL(n,s,34)^Tt.rotrBL(n,s,39),B=n&i^n&a^i&a,U=s&o^s&c^o&c;E=m|0,w=y|0,m=h|0,y=p|0,h=d|0,p=f|0,{h:d,l:f}=Tt.add(u|0,l|0,T|0,N|0),u=a|0,l=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const I=Tt.add3L(N,k,U);n=Tt.add3H(I,T,M,B),s=I|0}({h:n,l:s}=Tt.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Tt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Tt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Tt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:f}=Tt.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:p}=Tt.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:m,l:y}=Tt.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:E,l:w}=Tt.add(this.Hh|0,this.Hl|0,E|0,w|0),this.set(n,s,i,o,a,c,u,l,d,f,h,p,m,y,E,w)}roundClean(){pl.fill(0),ml.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const cOe=C3(()=>new aOe);function uOe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const kU=uOe();kU.crypto||kU.msCrypto;function lOe(t){switch(t){case"sha256":return GX.create();case"sha512":return cOe.create()}pe(!1,"invalid hashing algorithm name","algorithm",t)}const[XX,eee,tee]=[[],[],[]],dOe=BigInt(0),my=BigInt(1),fOe=BigInt(2),hOe=BigInt(7),pOe=BigInt(256),mOe=BigInt(113);for(let t=0,e=my,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],XX.push(2*(5*n+r)),eee.push((t+1)*(t+2)/2%64);let s=dOe;for(let i=0;i<7;i++)e=(e<<my^(e>>hOe)*mOe)%pOe,e&fOe&&(s^=my<<(my<<BigInt(i))-my);tee.push(s)}const[gOe,yOe]=KX(tee,!0),jU=(t,e,r)=>r>32?JX(t,e,r):ZX(t,e,r),DU=(t,e,r)=>r>32?QX(t,e,r):YX(t,e,r);function bOe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=r[c],l=r[c+1],d=jU(u,l,1)^r[a],f=DU(u,l,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=eee[o],c=jU(s,i,a),u=DU(s,i,a),l=XX[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=gOe[n],t[1]^=yOe[n]}r.fill(0)}class S3 extends A3{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,QI(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=B5e(this.state)}keccak(){bOe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ng(this);const{blockLen:r,state:n}=this;e=wP(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ng(this,!1),_3(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return QI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(HX(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new S3(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const wOe=(t,e,r)=>C3(()=>new S3(e,t,r)),EOe=wOe(1,136,256/8);let ree=!1;const nee=function(t){return EOe(t)};let see=nee;function gn(t){const e=Rt(t,"data");return Fe(see(e))}gn._=nee;gn.lock=function(){ree=!0};gn.register=function(t){if(ree)throw new TypeError("keccak256 is locked");see=t};Object.freeze(gn);const iee=function(t){return lOe("sha256").update(t).digest()};let oee=iee,aee=!1;function Ag(t){const e=Rt(t,"data");return Fe(oee(e))}Ag._=iee;Ag.lock=function(){aee=!0};Ag.register=function(t){if(aee)throw new Error("sha256 is locked");oee=t};Object.freeze(Ag);Object.freeze(Ag);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cee=BigInt(0),EP=BigInt(1),vOe=BigInt(2),vP=t=>t instanceof Uint8Array,_Oe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sg(t){if(!vP(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=_Oe[t[r]];return e}function uee(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function I3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ig(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const s=n*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function Hh(t){return I3(sg(t))}function T3(t){if(!vP(t))throw new Error("Uint8Array expected");return I3(sg(Uint8Array.from(t).reverse()))}function og(t,e){return ig(t.toString(16).padStart(e*2,"0"))}function P3(t,e){return og(t,e).reverse()}function AOe(t){return ig(uee(t))}function $o(t,e,r){let n;if(typeof e=="string")try{n=ig(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(vP(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${t} expected ${r} bytes, got ${s}`);return n}function p1(...t){const e=new Uint8Array(t.reduce((n,s)=>n+s.length,0));let r=0;return t.forEach(n=>{if(!vP(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function COe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function SOe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function IOe(t){let e;for(e=0;t>cee;t>>=EP,e+=1);return e}function TOe(t,e){return t>>BigInt(e)&EP}const POe=(t,e,r)=>t|(r?EP:cee)<<BigInt(e),x3=t=>(vOe<<BigInt(t-1))-EP,B5=t=>new Uint8Array(t),MU=t=>Uint8Array.from(t);function lee(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=B5(t),s=B5(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...d)=>r(s,n,...d),c=(d=B5())=>{s=a(MU([0]),d),n=a(),d.length!==0&&(s=a(MU([1]),d),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){n=a();const h=n.slice();f.push(h),d+=n.length}return p1(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(u()));)c();return o(),h}}const xOe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function lE(t,e,r={}){const n=(s,i,o)=>{const a=xOe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const OOe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:TOe,bitLen:IOe,bitMask:x3,bitSet:POe,bytesToHex:sg,bytesToNumberBE:Hh,bytesToNumberLE:T3,concatBytes:p1,createHmacDrbg:lee,ensureBytes:$o,equalBytes:COe,hexToBytes:ig,hexToNumber:I3,numberToBytesBE:og,numberToBytesLE:P3,numberToHexUnpadded:uee,numberToVarBytesBE:AOe,utf8ToBytes:SOe,validateObject:lE},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bn=BigInt(0),an=BigInt(1),Kf=BigInt(2),ROe=BigInt(3),gN=BigInt(4),UU=BigInt(5),LU=BigInt(8);BigInt(9);BigInt(16);function li(t,e){const r=t%e;return r>=Bn?r:e+r}function NOe(t,e,r){if(r<=Bn||e<Bn)throw new Error("Expected power/modulo > 0");if(r===an)return Bn;let n=an;for(;e>Bn;)e&an&&(n=n*t%r),t=t*t%r,e>>=an;return n}function uo(t,e,r){let n=t;for(;e-- >Bn;)n*=n,n%=r;return n}function yN(t,e){if(t===Bn||e<=Bn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=li(t,e),n=e,s=Bn,i=an;for(;r!==Bn;){const a=n/r,c=n%r,u=s-i*a;n=r,r=c,s=i,i=u}if(n!==an)throw new Error("invert: does not exist");return li(s,e)}function BOe(t){const e=(t-an)/Kf;let r,n,s;for(r=t-an,n=0;r%Kf===Bn;r/=Kf,n++);for(s=Kf;s<t&&NOe(s,e,t)!==t-an;s++);if(n===1){const o=(t+an)/gN;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(r+an)/Kf;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=n,l=a.pow(a.mul(a.ONE,s),r),d=a.pow(c,i),f=a.pow(c,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let m=a.sqr(f);h<u&&!a.eql(m,a.ONE);h++)m=a.sqr(m);const p=a.pow(l,an<<BigInt(u-h-1));l=a.sqr(p),d=a.mul(d,p),f=a.mul(f,l),u=h}return d}}function kOe(t){if(t%gN===ROe){const e=(t+an)/gN;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%LU===UU){const e=(t-UU)/LU;return function(n,s){const i=n.mul(s,Kf),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,Kf),o),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),s))throw new Error("Cannot find square root");return u}}return BOe(t)}const jOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function DOe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=jOe.reduce((n,s)=>(n[s]="function",n),e);return lE(t,r)}function MOe(t,e,r){if(r<Bn)throw new Error("Expected power > 0");if(r===Bn)return t.ONE;if(r===an)return e;let n=t.ONE,s=e;for(;r>Bn;)r&an&&(n=t.mul(n,s)),s=t.sqr(s),r>>=an;return n}function UOe(t,e){const r=new Array(e.length),n=e.reduce((i,o,a)=>t.is0(o)?i:(r[a]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,a)=>t.is0(o)?i:(r[a]=t.mul(i,r[a]),t.mul(i,o)),s),r}function dee(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function LOe(t,e,r=!1,n={}){if(t<=Bn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=dee(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=kOe(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:x3(s),ZERO:Bn,ONE:an,create:c=>li(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Bn<=c&&c<t},is0:c=>c===Bn,isOdd:c=>(c&an)===an,neg:c=>li(-c,t),eql:(c,u)=>c===u,sqr:c=>li(c*c,t),add:(c,u)=>li(c+u,t),sub:(c,u)=>li(c-u,t),mul:(c,u)=>li(c*u,t),pow:(c,u)=>MOe(a,c,u),div:(c,u)=>li(c*yN(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>yN(c,t),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>UOe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>r?P3(c,i):og(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?T3(c):Hh(c)}});return Object.freeze(a)}function fee(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function hee(t){const e=fee(t);return e+Math.ceil(e/2)}function FOe(t,e,r=!1){const n=t.length,s=fee(e),i=hee(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=r?Hh(t):T3(t),a=li(o,e-an)+an;return r?P3(a,s):og(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HOe=BigInt(0),k5=BigInt(1);function qOe(t,e){const r=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>HOe;)i&k5&&(o=o.add(a)),a=a.double(),i>>=k5;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=n(i),c=[];let u=s,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let f=1;f<a;f++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=n(s);let u=t.ZERO,l=t.BASE;const d=BigInt(2**s-1),f=2**s,h=BigInt(s);for(let p=0;p<a;p++){const m=p*c;let y=Number(o&d);o>>=h,y>c&&(y-=f,o+=k5);const E=m,w=m+Math.abs(y)-1,b=p%2!==0,g=y<0;y===0?l=l.add(r(b,i[E])):u=u.add(r(g,i[w]))}return{p:u,f:l}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function pee(t){return DOe(t.Fp),lE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...dee(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zOe(t){const e=pee(t);lE(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:$Oe,hexToBytes:VOe}=OOe,ch={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ch;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:$Oe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=ch,r=typeof t=="string"?VOe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ch._parseInt(r.subarray(2)),{d:o,l:a}=ch._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},n=e(r(t.s)),s=e(r(t.r)),i=n.length/2,o=s.length/2,a=r(i),c=r(o);return`30${r(o+i+4)}02${c}${s}02${a}${n}`}},Cu=BigInt(0),Ao=BigInt(1);BigInt(2);const FU=BigInt(3);BigInt(4);function GOe(t){const e=zOe(t),{Fp:r}=e,n=e.toBytes||((p,m,y)=>{const E=m.toAffine();return p1(Uint8Array.from([4]),r.toBytes(E.x),r.toBytes(E.y))}),s=e.fromBytes||(p=>{const m=p.subarray(1),y=r.fromBytes(m.subarray(0,r.BYTES)),E=r.fromBytes(m.subarray(r.BYTES,2*r.BYTES));return{x:y,y:E}});function i(p){const{a:m,b:y}=e,E=r.sqr(p),w=r.mul(E,p);return r.add(r.add(w,r.mul(p,m)),y)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(p){return typeof p=="bigint"&&Cu<p&&p<e.n}function a(p){if(!o(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:E,n:w}=e;if(m&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=sg(p)),typeof p!="string"||!m.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let b;try{b=typeof p=="bigint"?p:Hh($o("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return E&&(b=li(b,w)),a(b),b}const u=new Map;function l(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(m,y,E){if(this.px=m,this.py=y,this.pz=E,m==null||!r.isValid(m))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(E==null||!r.isValid(E))throw new Error("z required")}static fromAffine(m){const{x:y,y:E}=m||{};if(!m||!r.isValid(y)||!r.isValid(E))throw new Error("invalid affine point");if(m instanceof d)throw new Error("projective point not allowed");const w=b=>r.eql(b,r.ZERO);return w(y)&&w(E)?d.ZERO:new d(y,E,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=r.invertBatch(m.map(E=>E.pz));return m.map((E,w)=>E.toAffine(y[w])).map(d.fromAffine)}static fromHex(m){const y=d.fromAffine(s($o("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return d.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!r.isValid(m)||!r.isValid(y))throw new Error("bad point: x or y not FE");const E=r.sqr(y),w=i(m);if(!r.eql(E,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(r.isOdd)return!r.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:y,py:E,pz:w}=this,{px:b,py:g,pz:v}=m,A=r.eql(r.mul(y,v),r.mul(b,w)),C=r.eql(r.mul(E,v),r.mul(g,w));return A&&C}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,E=r.mul(y,FU),{px:w,py:b,pz:g}=this;let v=r.ZERO,A=r.ZERO,C=r.ZERO,x=r.mul(w,w),T=r.mul(b,b),N=r.mul(g,g),M=r.mul(w,b);return M=r.add(M,M),C=r.mul(w,g),C=r.add(C,C),v=r.mul(m,C),A=r.mul(E,N),A=r.add(v,A),v=r.sub(T,A),A=r.add(T,A),A=r.mul(v,A),v=r.mul(M,v),C=r.mul(E,C),N=r.mul(m,N),M=r.sub(x,N),M=r.mul(m,M),M=r.add(M,C),C=r.add(x,x),x=r.add(C,x),x=r.add(x,N),x=r.mul(x,M),A=r.add(A,x),N=r.mul(b,g),N=r.add(N,N),x=r.mul(N,M),v=r.sub(v,x),C=r.mul(N,T),C=r.add(C,C),C=r.add(C,C),new d(v,A,C)}add(m){l(m);const{px:y,py:E,pz:w}=this,{px:b,py:g,pz:v}=m;let A=r.ZERO,C=r.ZERO,x=r.ZERO;const T=e.a,N=r.mul(e.b,FU);let M=r.mul(y,b),k=r.mul(E,g),B=r.mul(w,v),U=r.add(y,E),I=r.add(b,g);U=r.mul(U,I),I=r.add(M,k),U=r.sub(U,I),I=r.add(y,w);let S=r.add(b,v);return I=r.mul(I,S),S=r.add(M,B),I=r.sub(I,S),S=r.add(E,w),A=r.add(g,v),S=r.mul(S,A),A=r.add(k,B),S=r.sub(S,A),x=r.mul(T,I),A=r.mul(N,B),x=r.add(A,x),A=r.sub(k,x),x=r.add(k,x),C=r.mul(A,x),k=r.add(M,M),k=r.add(k,M),B=r.mul(T,B),I=r.mul(N,I),k=r.add(k,B),B=r.sub(M,B),B=r.mul(T,B),I=r.add(I,B),M=r.mul(k,I),C=r.add(C,M),M=r.mul(S,I),A=r.mul(U,A),A=r.sub(A,M),M=r.mul(U,k),x=r.mul(S,x),x=r.add(x,M),new d(A,C,x)}subtract(m){return this.add(m.negate())}is0(){return this.equals(d.ZERO)}wNAF(m){return h.wNAFCached(this,u,m,y=>{const E=r.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(E[b])).map(d.fromAffine)})}multiplyUnsafe(m){const y=d.ZERO;if(m===Cu)return y;if(a(m),m===Ao)return this;const{endo:E}=e;if(!E)return h.unsafeLadder(this,m);let{k1neg:w,k1:b,k2neg:g,k2:v}=E.splitScalar(m),A=y,C=y,x=this;for(;b>Cu||v>Cu;)b&Ao&&(A=A.add(x)),v&Ao&&(C=C.add(x)),x=x.double(),b>>=Ao,v>>=Ao;return w&&(A=A.negate()),g&&(C=C.negate()),C=new d(r.mul(C.px,E.beta),C.py,C.pz),A.add(C)}multiply(m){a(m);let y=m,E,w;const{endo:b}=e;if(b){const{k1neg:g,k1:v,k2neg:A,k2:C}=b.splitScalar(y);let{p:x,f:T}=this.wNAF(v),{p:N,f:M}=this.wNAF(C);x=h.constTimeNegate(g,x),N=h.constTimeNegate(A,N),N=new d(r.mul(N.px,b.beta),N.py,N.pz),E=x.add(N),w=T.add(M)}else{const{p:g,f:v}=this.wNAF(y);E=g,w=v}return d.normalizeZ([E,w])[0]}multiplyAndAddUnsafe(m,y,E){const w=d.BASE,b=(v,A)=>A===Cu||A===Ao||!v.equals(w)?v.multiplyUnsafe(A):v.multiply(A),g=b(this,y).add(b(m,E));return g.is0()?void 0:g}toAffine(m){const{px:y,py:E,pz:w}=this,b=this.is0();m==null&&(m=b?r.ONE:r.inv(w));const g=r.mul(y,m),v=r.mul(E,m),A=r.mul(w,m);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(A,r.ONE))throw new Error("invZ was invalid");return{x:g,y:v}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===Ao)return!0;if(y)return y(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===Ao?this:y?y(d,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(d,this,m)}toHex(m=!0){return sg(this.toRawBytes(m))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,h=qOe(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function WOe(t){const e=pee(t);return lE(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function KOe(t){const e=WOe(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(I){return Cu<I&&I<r.ORDER}function a(I){return li(I,n)}function c(I){return yN(I,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:f}=GOe({...e,toBytes(I,S,_){const R=S.toAffine(),O=r.toBytes(R.x),P=p1;return _?P(Uint8Array.from([S.hasEvenY()?2:3]),O):P(Uint8Array.from([4]),O,r.toBytes(R.y))},fromBytes(I){const S=I.length,_=I[0],R=I.subarray(1);if(S===s&&(_===2||_===3)){const O=Hh(R);if(!o(O))throw new Error("Point is not on curve");const P=d(O);let D=r.sqrt(P);const j=(D&Ao)===Ao;return(_&1)===1!==j&&(D=r.neg(D)),{x:O,y:D}}else if(S===i&&_===4){const O=r.fromBytes(R.subarray(0,r.BYTES)),P=r.fromBytes(R.subarray(r.BYTES,2*r.BYTES));return{x:O,y:P}}else throw new Error(`Point of length ${S} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=I=>sg(og(I,e.nByteLength));function p(I){const S=n>>Ao;return I>S}function m(I){return p(I)?a(-I):I}const y=(I,S,_)=>Hh(I.slice(S,_));class E{constructor(S,_,R){this.r=S,this.s=_,this.recovery=R,this.assertValidity()}static fromCompact(S){const _=e.nByteLength;return S=$o("compactSignature",S,_*2),new E(y(S,0,_),y(S,_,2*_))}static fromDER(S){const{r:_,s:R}=ch.toSig($o("DER",S));return new E(_,R)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new E(this.r,this.s,S)}recoverPublicKey(S){const{r:_,s:R,recovery:O}=this,P=C($o("msgHash",S));if(O==null||![0,1,2,3].includes(O))throw new Error("recovery id invalid");const D=O===2||O===3?_+e.n:_;if(D>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(O&1)===0?"02":"03",F=u.fromHex(j+h(D)),q=c(D),z=a(-P*q),W=a(R*q),K=u.BASE.multiplyAndAddUnsafe(F,z,W);if(!K)throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ig(this.toDERHex())}toDERHex(){return ch.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ig(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const w={isValidPrivateKey(I){try{return l(I),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const I=hee(e.n);return FOe(e.randomBytes(I),e.n)},precompute(I=8,S=u.BASE){return S._setWindowSize(I),S.multiply(BigInt(3)),S}};function b(I,S=!0){return u.fromPrivateKey(I).toRawBytes(S)}function g(I){const S=I instanceof Uint8Array,_=typeof I=="string",R=(S||_)&&I.length;return S?R===s||R===i:_?R===2*s||R===2*i:I instanceof u}function v(I,S,_=!0){if(g(I))throw new Error("first arg must be private key");if(!g(S))throw new Error("second arg must be public key");return u.fromHex(S).multiply(l(I)).toRawBytes(_)}const A=e.bits2int||function(I){const S=Hh(I),_=I.length*8-e.nBitLength;return _>0?S>>BigInt(_):S},C=e.bits2int_modN||function(I){return a(A(I))},x=x3(e.nBitLength);function T(I){if(typeof I!="bigint")throw new Error("bigint expected");if(!(Cu<=I&&I<x))throw new Error(`bigint expected < 2^${e.nBitLength}`);return og(I,e.nByteLength)}function N(I,S,_=M){if(["recovered","canonical"].some(Q=>Q in _))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:O}=e;let{lowS:P,prehash:D,extraEntropy:j}=_;P==null&&(P=!0),I=$o("msgHash",I),D&&(I=$o("prehashed msgHash",R(I)));const F=C(I),q=l(S),z=[T(q),T(F)];if(j!=null){const Q=j===!0?O(r.BYTES):j;z.push($o("extraEntropy",Q))}const W=p1(...z),K=F;function re(Q){const X=A(Q);if(!f(X))return;const ie=c(X),Y=u.BASE.multiply(X).toAffine(),V=a(Y.x);if(V===Cu)return;const Z=a(ie*a(K+V*q));if(Z===Cu)return;let ne=(Y.x===V?0:2)|Number(Y.y&Ao),ue=Z;return P&&p(Z)&&(ue=m(Z),ne^=1),new E(V,ue,ne)}return{seed:W,k2sig:re}}const M={lowS:e.lowS,prehash:!1},k={lowS:e.lowS,prehash:!1};function B(I,S,_=M){const{seed:R,k2sig:O}=N(I,S,_),P=e;return lee(P.hash.outputLen,P.nByteLength,P.hmac)(R,O)}u.BASE._setWindowSize(8);function U(I,S,_,R=k){var Y;const O=I;if(S=$o("msgHash",S),_=$o("publicKey",_),"strict"in R)throw new Error("options.strict was renamed to lowS");const{lowS:P,prehash:D}=R;let j,F;try{if(typeof O=="string"||O instanceof Uint8Array)try{j=E.fromDER(O)}catch(V){if(!(V instanceof ch.Err))throw V;j=E.fromCompact(O)}else if(typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint"){const{r:V,s:Z}=O;j=new E(V,Z)}else throw new Error("PARSE");F=u.fromHex(_)}catch(V){if(V.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&j.hasHighS())return!1;D&&(S=e.hash(S));const{r:q,s:z}=j,W=C(S),K=c(z),re=a(W*K),Q=a(q*K),X=(Y=u.BASE.multiplyAndAddUnsafe(F,re,Q))==null?void 0:Y.toAffine();return X?a(X.x)===q:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:v,sign:B,verify:U,ProjectivePoint:u,Signature:E,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZOe(t){return{hash:t,hmac:(e,...r)=>$X(t,e,D5e(...r)),randomBytes:M5e}}function YOe(t,e){const r=n=>KOe({...t,...ZOe(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mee=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),HU=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),JOe=BigInt(1),bN=BigInt(2),qU=(t,e)=>(t+e/bN)/e;function QOe(t){const e=mee,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=uo(l,r,e)*l%e,f=uo(d,r,e)*l%e,h=uo(f,bN,e)*u%e,p=uo(h,s,e)*h%e,m=uo(p,i,e)*p%e,y=uo(m,a,e)*m%e,E=uo(y,c,e)*y%e,w=uo(E,a,e)*m%e,b=uo(w,r,e)*l%e,g=uo(b,o,e)*p%e,v=uo(g,n,e)*u%e,A=uo(v,bN,e);if(!wN.eql(wN.sqr(A),t))throw new Error("Cannot find square root");return A}const wN=LOe(mee,void 0,void 0,{sqrt:QOe}),Sl=YOe({a:BigInt(0),b:BigInt(7),Fp:wN,n:HU,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=HU,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-JOe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),a=qU(i*t,e),c=qU(-n*t,e);let u=li(t-a*r-c*s,e),l=li(-a*n-c*i,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},GX);BigInt(0);Sl.ProjectivePoint;const m1="0x0000000000000000000000000000000000000000",zU="0x0000000000000000000000000000000000000000000000000000000000000000",$U=BigInt(0),VU=BigInt(1),GU=BigInt(2),WU=BigInt(27),KU=BigInt(28),qv=BigInt(35),Gp={};function ZU(t){return Lu(An(t),32)}var dm,Fa,fm,_h,si;let So=(si=class{constructor(e,r,n,s){ve(this,dm);ve(this,Fa);ve(this,fm);ve(this,_h);cE(e,Gp,"Signature"),se(this,dm,r),se(this,Fa,n),se(this,fm,s),se(this,_h,null)}get r(){return G(this,dm)}set r(e){pe(Y0(e)===32,"invalid r","value",e),se(this,dm,Fe(e))}get s(){return pe(parseInt(G(this,Fa).substring(0,3))<8,"non-canonical s; use ._s","s",G(this,Fa)),G(this,Fa)}set s(e){pe(Y0(e)===32,"invalid s","value",e),se(this,Fa,Fe(e))}get _s(){return G(this,Fa)}isValid(){return parseInt(G(this,Fa).substring(0,3))<8}get v(){return G(this,fm)}set v(e){const r=At(e,"value");pe(r===27||r===28,"invalid v","v",e),se(this,fm,r)}get networkV(){return G(this,_h)}get legacyChainId(){const e=this.networkV;return e==null?null:si.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Rt(this.s);return this.yParity&&(e[0]|=128),Fe(e)}get compactSerialized(){return en([this.r,this.yParityAndS])}get serialized(){return en([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new si(Gp,this.r,this._s,this.v);return this.networkV&&se(e,_h,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const r=Ye(e,"v");return r==WU||r==KU?$U:(pe(r>=qv,"invalid EIP-155 v","v",e),(r-qv)/GU)}static getChainIdV(e,r){return Ye(e)*GU+BigInt(35+r-27)}static getNormalizedV(e){const r=Ye(e);return r===$U||r===WU?27:r===VU||r===KU?28:(pe(r>=qv,"invalid v","v",e),r&VU?27:28)}static from(e){function r(u,l){pe(u,l,"signature",e)}if(e==null)return new si(Gp,zU,zU,27);if(typeof e=="string"){const u=Rt(e,"signature");if(u.length===64){const l=Fe(u.slice(0,32)),d=u.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new si(Gp,l,Fe(d),f)}if(u.length===65){const l=Fe(u.slice(0,32)),d=Fe(u.slice(32,64)),f=si.getNormalizedV(u[64]);return new si(Gp,l,d,f)}r(!1,"invalid raw signature length")}if(e instanceof si)return e.clone();const n=e.r;r(n!=null,"missing r");const s=ZU(n),i=(function(u,l){if(u!=null)return ZU(u);if(l!=null){r(Ar(l,32),"invalid yParityAndS");const d=Rt(l);return d[0]&=127,Fe(d)}r(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(u,l,d){if(u!=null){const f=Ye(u);return{networkV:f>=qv?f:void 0,v:si.getNormalizedV(f)}}if(l!=null)return r(Ar(l,32),"invalid yParityAndS"),{v:Rt(l)[0]&128?28:27};if(d!=null){switch(At(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new si(Gp,s,i,a);return o&&se(c,_h,o),r(e.yParity==null||At(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},dm=new WeakMap,Fa=new WeakMap,fm=new WeakMap,_h=new WeakMap,si);var hu;const Yf=class Yf{constructor(e){ve(this,hu);pe(Y0(e)===32,"invalid private key","privateKey","[REDACTED]"),se(this,hu,Fe(e))}get privateKey(){return G(this,hu)}get publicKey(){return Yf.computePublicKey(G(this,hu))}get compressedPublicKey(){return Yf.computePublicKey(G(this,hu),!0)}sign(e){pe(Y0(e)===32,"invalid digest length","digest",e);const r=Sl.sign(ks(e),ks(G(this,hu)),{lowS:!0});return So.from({r:Id(r.r,32),s:Id(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Yf.computePublicKey(e);return Fe(Sl.getSharedSecret(ks(G(this,hu)),Rt(r),!1))}static computePublicKey(e,r){let n=Rt(e,"key");if(n.length===32){const i=Sl.getPublicKey(n,!!r);return Fe(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=Sl.ProjectivePoint.fromHex(n);return Fe(s.toRawBytes(r))}static recoverPublicKey(e,r){pe(Y0(e)===32,"invalid digest length","digest",e);const n=So.from(r);let s=Sl.Signature.fromCompact(ks(en([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(ks(e));return pe(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const s=Sl.ProjectivePoint.fromHex(Yf.computePublicKey(e).substring(2)),i=Sl.ProjectivePoint.fromHex(Yf.computePublicKey(r).substring(2));return"0x"+s.add(i).toHex(!!n)}};hu=new WeakMap;let g1=Yf;const XOe=BigInt(0),eRe=BigInt(36);function YU(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let s=0;s<40;s++)r[s]=e[s].charCodeAt(0);const n=Rt(gn(r));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const O3={};for(let t=0;t<10;t++)O3[String(t)]=String(t);for(let t=0;t<26;t++)O3[String.fromCharCode(65+t)]=String(10+t);const JU=15;function tRe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>O3[n]).join("");for(;e.length>=JU;){let n=e.substring(0,JU);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const rRe=(function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t})();function nRe(t){t=t.toLowerCase();let e=XOe;for(let r=0;r<t.length;r++)e=e*eRe+rRe[t[r]];return e}function or(t){if(pe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=YU(t);return pe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){pe(t.substring(2,4)===tRe(t),"bad icap checksum","address",t);let e=nRe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return YU("0x"+e)}pe(!1,"invalid address","address",t)}function sRe(t){const e=or(t.from);let n=Ye(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,or(Xr(gn(Td([e,n])),12))}function gee(t){return t&&typeof t.getAddress=="function"}async function j5(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Pe(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),pe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),or(r)}function Ms(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?or(t):(Pe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),j5(t,e.resolveName(t)));if(gee(t))return j5(t,t.getAddress());if(t&&typeof t.then=="function")return j5(t,t);pe(!1,"unsupported addressable value","target",t)}const su={};function Ke(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Es(su,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Xt(t,e){return new Es(su,`bytes${e||""}`,t,{size:e})}const QU=Symbol.for("_ethers_typed");var Ah;const iu=class iu{constructor(e,r,n,s){be(this,"type");be(this,"value");ve(this,Ah);be(this,"_typedSymbol");s==null&&(s=null),cE(su,e,"Typed"),ut(this,{_typedSymbol:QU,type:r,value:n}),se(this,Ah,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return G(this,Ah)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return G(this,Ah)===!0?-1:G(this,Ah)===!1?this.value.length:null}static from(e,r){return new iu(su,e,r)}static uint8(e){return Ke(e,8)}static uint16(e){return Ke(e,16)}static uint24(e){return Ke(e,24)}static uint32(e){return Ke(e,32)}static uint40(e){return Ke(e,40)}static uint48(e){return Ke(e,48)}static uint56(e){return Ke(e,56)}static uint64(e){return Ke(e,64)}static uint72(e){return Ke(e,72)}static uint80(e){return Ke(e,80)}static uint88(e){return Ke(e,88)}static uint96(e){return Ke(e,96)}static uint104(e){return Ke(e,104)}static uint112(e){return Ke(e,112)}static uint120(e){return Ke(e,120)}static uint128(e){return Ke(e,128)}static uint136(e){return Ke(e,136)}static uint144(e){return Ke(e,144)}static uint152(e){return Ke(e,152)}static uint160(e){return Ke(e,160)}static uint168(e){return Ke(e,168)}static uint176(e){return Ke(e,176)}static uint184(e){return Ke(e,184)}static uint192(e){return Ke(e,192)}static uint200(e){return Ke(e,200)}static uint208(e){return Ke(e,208)}static uint216(e){return Ke(e,216)}static uint224(e){return Ke(e,224)}static uint232(e){return Ke(e,232)}static uint240(e){return Ke(e,240)}static uint248(e){return Ke(e,248)}static uint256(e){return Ke(e,256)}static uint(e){return Ke(e,256)}static int8(e){return Ke(e,-8)}static int16(e){return Ke(e,-16)}static int24(e){return Ke(e,-24)}static int32(e){return Ke(e,-32)}static int40(e){return Ke(e,-40)}static int48(e){return Ke(e,-48)}static int56(e){return Ke(e,-56)}static int64(e){return Ke(e,-64)}static int72(e){return Ke(e,-72)}static int80(e){return Ke(e,-80)}static int88(e){return Ke(e,-88)}static int96(e){return Ke(e,-96)}static int104(e){return Ke(e,-104)}static int112(e){return Ke(e,-112)}static int120(e){return Ke(e,-120)}static int128(e){return Ke(e,-128)}static int136(e){return Ke(e,-136)}static int144(e){return Ke(e,-144)}static int152(e){return Ke(e,-152)}static int160(e){return Ke(e,-160)}static int168(e){return Ke(e,-168)}static int176(e){return Ke(e,-176)}static int184(e){return Ke(e,-184)}static int192(e){return Ke(e,-192)}static int200(e){return Ke(e,-200)}static int208(e){return Ke(e,-208)}static int216(e){return Ke(e,-216)}static int224(e){return Ke(e,-224)}static int232(e){return Ke(e,-232)}static int240(e){return Ke(e,-240)}static int248(e){return Ke(e,-248)}static int256(e){return Ke(e,-256)}static int(e){return Ke(e,-256)}static bytes1(e){return Xt(e,1)}static bytes2(e){return Xt(e,2)}static bytes3(e){return Xt(e,3)}static bytes4(e){return Xt(e,4)}static bytes5(e){return Xt(e,5)}static bytes6(e){return Xt(e,6)}static bytes7(e){return Xt(e,7)}static bytes8(e){return Xt(e,8)}static bytes9(e){return Xt(e,9)}static bytes10(e){return Xt(e,10)}static bytes11(e){return Xt(e,11)}static bytes12(e){return Xt(e,12)}static bytes13(e){return Xt(e,13)}static bytes14(e){return Xt(e,14)}static bytes15(e){return Xt(e,15)}static bytes16(e){return Xt(e,16)}static bytes17(e){return Xt(e,17)}static bytes18(e){return Xt(e,18)}static bytes19(e){return Xt(e,19)}static bytes20(e){return Xt(e,20)}static bytes21(e){return Xt(e,21)}static bytes22(e){return Xt(e,22)}static bytes23(e){return Xt(e,23)}static bytes24(e){return Xt(e,24)}static bytes25(e){return Xt(e,25)}static bytes26(e){return Xt(e,26)}static bytes27(e){return Xt(e,27)}static bytes28(e){return Xt(e,28)}static bytes29(e){return Xt(e,29)}static bytes30(e){return Xt(e,30)}static bytes31(e){return Xt(e,31)}static bytes32(e){return Xt(e,32)}static address(e){return new iu(su,"address",e)}static bool(e){return new iu(su,"bool",!!e)}static bytes(e){return new iu(su,"bytes",e)}static string(e){return new iu(su,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new iu(su,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===QU}static dereference(e,r){if(iu.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};Ah=new WeakMap;let Es=iu;class iRe extends $u{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Es.dereference(r,"string");try{n=or(n)}catch(s){return this._throwError(s.message,r)}return e.writeValue(n)}decode(e){return or(Id(e.readValue(),20))}}class oRe extends $u{constructor(r){super(r.name,r.type,"_",r.dynamic);be(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function yee(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{const l=u.localName;return Pe(l,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),Pe(!c[l],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),c[l]=!0,r[l]})}else pe(!1,"invalid tuple value","tuple",r);pe(e.length===n.length,"types/value length mismatch","tuple",r);let s=new fN,i=new fN,o=[];e.forEach((c,u)=>{let l=n[u];if(c.dynamic){let d=i.length;c.encode(i,l);let f=s.writeUpdatableValue();o.push(h=>{f(h+d)})}else c.encode(s,l)}),o.forEach(c=>{c(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function bee(t,e){let r=[],n=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(u){if(Vn(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Vn(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");r.push(o),n.push(i.localName||null)}),rg.fromItems(r,n)}class aRe extends $u{constructor(r,n,s){const i=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",i,s,o);be(this,"coder");be(this,"length");ut(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(r);return n}encode(r,n){const s=Es.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,r.writeValue(s.length)),SX(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return yee(r,o,s)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),Pe(n*Ds<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Ds,length:r.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new oRe(this.coder));return bee(r,s)}}class cRe extends $u{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Es.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class wee extends $u{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=ks(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class uRe extends wee{constructor(e){super("bytes",e)}decode(e){return Fe(super.decode(e))}}class lRe extends $u{constructor(r,n){let s="bytes"+String(r);super(s,s,n,!1);be(this,"size");ut(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let s=ks(Es.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(s)}decode(r){return Fe(r.readBytes(this.size))}}const dRe=new Uint8Array([]);class fRe extends $u{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(dRe)}decode(e){return e.readBytes(0),null}}const hRe=BigInt(0),pRe=BigInt(1),mRe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class gRe extends $u{constructor(r,n,s){const i=(n?"int":"uint")+r*8;super(i,i,s,!1);be(this,"size");be(this,"signed");ut(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let s=Ye(Es.dereference(n,this.type)),i=ah(mRe,Ds*8);if(this.signed){let o=ah(i,this.size*8-1);(s>o||s<-(o+pRe))&&this._throwError("value out-of-bounds",n),s=PX(s,8*Ds)}else(s<hRe||s>ah(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(s)}decode(r){let n=ah(r.readValue(),this.size*8);return this.signed&&(n=ZI(n,this.size*8)),n}}class yRe extends wee{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,lc(Es.dereference(r,"string")))}decode(e){return YI(super.decode(e))}}class zv extends $u{constructor(r,n){let s=!1;const i=[];r.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,s);be(this,"coders");ut(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(s=>{r.push(s.defaultValue())});const n=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[i]))}),Object.freeze(r)}encode(r,n){const s=Es.dereference(n,"tuple");return yee(r,this.coders,s)}decode(r){return bee(r,this.coders)}}function D5(t,e){return{address:or(t),storageKeys:e.map((r,n)=>(pe(Ar(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function wp(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(pe(r.length===2,"invalid slot set",`value[${n}]`,r),D5(r[0],r[1])):(pe(r!=null&&typeof r=="object","invalid address-slot set","value",t),D5(r.address,r.storageKeys)));pe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((s,i)=>(s[i]=!0,s),{});return D5(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Eee(t){return{address:or(t.address),nonce:Ye(t.nonce!=null?t.nonce:0),chainId:Ye(t.chainId!=null?t.chainId:0),signature:So.from(t.signature)}}function bRe(t){let e;return typeof t=="string"?e=g1.computePublicKey(t,!1):e=t.publicKey,or(gn("0x"+e.substring(4)).substring(26))}function wRe(t,e){return bRe(g1.recoverPublicKey(t,e))}const On=BigInt(0),ERe=BigInt(2),vRe=BigInt(27),_Re=BigInt(28),ARe=BigInt(35),CRe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),M5=4096*32;function SRe(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Rt(t.blobToKzgCommitment(Fe(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Rt(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Rt(t.blobToKZGCommitment(Fe(n)));pe(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Rt(t.computeBlobProof(Fe(n),Fe(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Rt(t.computeBlobKZGProof(Fe(n),Fe(s)));pe(!1,"unsupported KZG library","kzg",t)}}}function XU(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Ag(e).substring(4),"0x"+r}function Cg(t){return t==="0x"?null:or(t)}function _P(t,e){try{return wp(t)}catch(r){pe(!1,r.message,e,t)}}function IRe(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const s=t[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);r.push({address:Cg(s[1]),nonce:gr(s[2],"nonce"),chainId:gr(s[0],"chainId"),signature:So.from({yParity:Ep(s[3],"yParity"),r:Lu(s[4],32),s:Lu(s[5],32)})})}return r}catch(r){pe(!1,r.message,e,t)}}function Ep(t,e){return t==="0x"?0:At(t,e)}function gr(t,e){if(t==="0x")return On;const r=Ye(t,e);return pe(r<=CRe,"value exceeds uint size",e,r),r}function Ht(t,e){const r=Ye(t,"value"),n=An(r);return pe(n.length<=32,"value too large",`tx.${e}`,r),n}function AP(t){return wp(t).map(e=>[e.address,e.storageKeys])}function TRe(t){return t.map(e=>[Ht(e.chainId,"chainId"),e.address,Ht(e.nonce,"nonce"),Ht(e.signature.yParity,"yParity"),An(e.signature.r),An(e.signature.s)])}function PRe(t,e){pe(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)pe(Ar(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function xRe(t){const e=uE(t);pe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:Ep(e[0],"nonce"),gasPrice:gr(e[1],"gasPrice"),gasLimit:gr(e[2],"gasLimit"),to:Cg(e[3]),value:gr(e[4],"value"),data:Fe(e[5]),chainId:On};if(e.length===6)return r;const n=gr(e[6],"v"),s=gr(e[7],"r"),i=gr(e[8],"s");if(s===On&&i===On)r.chainId=n;else{let o=(n-ARe)/ERe;o<On&&(o=On),r.chainId=o,pe(o!==On||n===vRe||n===_Re,"non-canonical legacy v","v",e[6]),r.signature=So.from({r:Lu(e[7],32),s:Lu(e[8],32),v:n})}return r}function ORe(t,e){const r=[Ht(t.nonce,"nonce"),Ht(t.gasPrice||0,"gasPrice"),Ht(t.gasLimit,"gasLimit"),t.to||"0x",Ht(t.value,"value"),t.data];let n=On;if(t.chainId!=On)n=Ye(t.chainId,"tx.chainId"),pe(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==On&&(r.push(An(n)),r.push("0x"),r.push("0x")),Td(r);let s=BigInt(27+e.yParity);return n!==On?s=So.getChainIdV(n,e.v):BigInt(e.v)!==s&&pe(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(An(s)),r.push(An(e.r)),r.push(An(e.s)),Td(r)}function CP(t,e){let r;try{if(r=Ep(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{pe(!1,"invalid yParity","yParity",e[0])}const n=Lu(e[1],32),s=Lu(e[2],32),i=So.from({r:n,s,yParity:r});t.signature=i}function RRe(t){const e=uE(Rt(t).slice(1));pe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Fe(t));const r={type:2,chainId:gr(e[0],"chainId"),nonce:Ep(e[1],"nonce"),maxPriorityFeePerGas:gr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gr(e[4],"gasLimit"),to:Cg(e[5]),value:gr(e[6],"value"),data:Fe(e[7]),accessList:_P(e[8],"accessList")};return e.length===9||CP(r,e.slice(9)),r}function NRe(t,e){const r=[Ht(t.chainId,"chainId"),Ht(t.nonce,"nonce"),Ht(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ht(t.maxFeePerGas||0,"maxFeePerGas"),Ht(t.gasLimit,"gasLimit"),t.to||"0x",Ht(t.value,"value"),t.data,AP(t.accessList||[])];return e&&(r.push(Ht(e.yParity,"yParity")),r.push(An(e.r)),r.push(An(e.s))),en(["0x02",Td(r)])}function BRe(t){const e=uE(Rt(t).slice(1));pe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Fe(t));const r={type:1,chainId:gr(e[0],"chainId"),nonce:Ep(e[1],"nonce"),gasPrice:gr(e[2],"gasPrice"),gasLimit:gr(e[3],"gasLimit"),to:Cg(e[4]),value:gr(e[5],"value"),data:Fe(e[6]),accessList:_P(e[7],"accessList")};return e.length===8||CP(r,e.slice(8)),r}function kRe(t,e){const r=[Ht(t.chainId,"chainId"),Ht(t.nonce,"nonce"),Ht(t.gasPrice||0,"gasPrice"),Ht(t.gasLimit,"gasLimit"),t.to||"0x",Ht(t.value,"value"),t.data,AP(t.accessList||[])];return e&&(r.push(Ht(e.yParity,"recoveryParam")),r.push(An(e.r)),r.push(An(e.s))),en(["0x01",Td(r)])}function jRe(t){let e=uE(Rt(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const i=e[1],o=e[2],a=e[3];pe(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),pe(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),pe(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),pe(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),pe(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}pe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",Fe(t));const s={type:3,chainId:gr(e[0],"chainId"),nonce:Ep(e[1],"nonce"),maxPriorityFeePerGas:gr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gr(e[4],"gasLimit"),to:Cg(e[5]),value:gr(e[6],"value"),data:Fe(e[7]),accessList:_P(e[8],"accessList"),maxFeePerBlobGas:gr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),pe(s.to!=null,`invalid address for transaction type: ${r}`,"data",t),pe(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)pe(Ar(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||CP(s,e.slice(11)),s}function DRe(t,e,r){const n=[Ht(t.chainId,"chainId"),Ht(t.nonce,"nonce"),Ht(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ht(t.maxFeePerGas||0,"maxFeePerGas"),Ht(t.gasLimit,"gasLimit"),t.to||m1,Ht(t.value,"value"),t.data,AP(t.accessList||[]),Ht(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),PRe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Ht(e.yParity,"yParity")),n.push(An(e.r)),n.push(An(e.s)),r)?en(["0x03",Td([n,r.map(s=>s.data),r.map(s=>s.commitment),r.map(s=>s.proof)])]):en(["0x03",Td(n)])}function MRe(t){const e=uE(Rt(t).slice(1));pe(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Fe(t));const r={type:4,chainId:gr(e[0],"chainId"),nonce:Ep(e[1],"nonce"),maxPriorityFeePerGas:gr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:gr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:gr(e[4],"gasLimit"),to:Cg(e[5]),value:gr(e[6],"value"),data:Fe(e[7]),accessList:_P(e[8],"accessList"),authorizationList:IRe(e[9],"authorizationList")};return e.length===10||CP(r,e.slice(10)),r}function URe(t,e){const r=[Ht(t.chainId,"chainId"),Ht(t.nonce,"nonce"),Ht(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ht(t.maxFeePerGas||0,"maxFeePerGas"),Ht(t.gasLimit,"gasLimit"),t.to||"0x",Ht(t.value,"value"),t.data,AP(t.accessList||[]),TRe(t.authorizationList||[])];return e&&(r.push(Ht(e.yParity,"yParity")),r.push(An(e.r)),r.push(An(e.s))),en(["0x04",Td(r)])}var Ko,hm,pm,mm,gm,ym,bm,wm,Em,vm,_m,Am,Ch,$l,Ha,Vl,Cm,Sm,US;const Ua=class Ua{constructor(){ve(this,Sm);ve(this,Ko);ve(this,hm);ve(this,pm);ve(this,mm);ve(this,gm);ve(this,ym);ve(this,bm);ve(this,wm);ve(this,Em);ve(this,vm);ve(this,_m);ve(this,Am);ve(this,Ch);ve(this,$l);ve(this,Ha);ve(this,Vl);ve(this,Cm);se(this,Ko,null),se(this,hm,null),se(this,mm,0),se(this,gm,On),se(this,ym,null),se(this,bm,null),se(this,wm,null),se(this,pm,"0x"),se(this,Em,On),se(this,vm,On),se(this,_m,null),se(this,Am,null),se(this,Ch,null),se(this,$l,null),se(this,Ha,null),se(this,Vl,null),se(this,Cm,null)}get type(){return G(this,Ko)}set type(e){switch(e){case null:se(this,Ko,null);break;case 0:case"legacy":se(this,Ko,0);break;case 1:case"berlin":case"eip-2930":se(this,Ko,1);break;case 2:case"london":case"eip-1559":se(this,Ko,2);break;case 3:case"cancun":case"eip-4844":se(this,Ko,3);break;case 4:case"pectra":case"eip-7702":se(this,Ko,4);break;default:pe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=G(this,hm);return e==null&&this.type===3?m1:e}set to(e){se(this,hm,e==null?null:or(e))}get nonce(){return G(this,mm)}set nonce(e){se(this,mm,At(e,"value"))}get gasLimit(){return G(this,gm)}set gasLimit(e){se(this,gm,Ye(e))}get gasPrice(){const e=G(this,ym);return e==null&&(this.type===0||this.type===1)?On:e}set gasPrice(e){se(this,ym,e==null?null:Ye(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=G(this,bm);return e??(this.type===2||this.type===3?On:null)}set maxPriorityFeePerGas(e){se(this,bm,e==null?null:Ye(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=G(this,wm);return e??(this.type===2||this.type===3?On:null)}set maxFeePerGas(e){se(this,wm,e==null?null:Ye(e,"maxFeePerGas"))}get data(){return G(this,pm)}set data(e){se(this,pm,Fe(e))}get value(){return G(this,Em)}set value(e){se(this,Em,Ye(e,"value"))}get chainId(){return G(this,vm)}set chainId(e){se(this,vm,Ye(e))}get signature(){return G(this,_m)||null}set signature(e){se(this,_m,e==null?null:So.from(e))}get accessList(){const e=G(this,Am)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){se(this,Am,e==null?null:wp(e))}get authorizationList(){const e=G(this,Cm)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){se(this,Cm,e==null?null:e.map(r=>Eee(r)))}get maxFeePerBlobGas(){const e=G(this,Ch);return e==null&&this.type===3?On:e}set maxFeePerBlobGas(e){se(this,Ch,e==null?null:Ye(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=G(this,$l);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){pe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)pe(Ar(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}se(this,$l,e)}get blobs(){return G(this,Vl)==null?null:G(this,Vl).map(e=>Object.assign({},e))}set blobs(e){if(e==null){se(this,Vl,null);return}const r=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(v3(i)){Pe(G(this,Ha),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Rt(i);if(pe(o.length<=M5,"blob is too large",`blobs[${s}]`,i),o.length!==M5){const u=new Uint8Array(M5);u.set(o),o=u}const a=G(this,Ha).blobToKzgCommitment(o),c=Fe(G(this,Ha).computeBlobKzgProof(o,a));r.push({data:Fe(o),commitment:Fe(a),proof:c}),n.push(XU(1,a))}else{const o=Fe(i.commitment);r.push({data:Fe(i.data),commitment:o,proof:Fe(i.proof)}),n.push(XU(1,o))}}se(this,Vl,r),se(this,$l,n)}get kzg(){return G(this,Ha)}set kzg(e){e==null?se(this,Ha,null):se(this,Ha,SRe(e))}get hash(){return this.signature==null?null:gn(Re(this,Sm,US).call(this,!0,!1))}get unsignedHash(){return gn(this.unsignedSerialized)}get from(){return this.signature==null?null:wRe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:g1.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Re(this,Sm,US).call(this,!0,!0)}get unsignedSerialized(){return Re(this,Sm,US).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=G(this,Ch)!=null||G(this,$l);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Pe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Pe(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Pe(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ua.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ua;if(typeof e=="string"){const n=Rt(e);if(n[0]>=127)return Ua.from(xRe(n));switch(n[0]){case 1:return Ua.from(BRe(n));case 2:return Ua.from(RRe(n));case 3:return Ua.from(jRe(n));case 4:return Ua.from(MRe(n))}Pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new Ua;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=So.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(pe(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),pe(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(pe(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),pe(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};Ko=new WeakMap,hm=new WeakMap,pm=new WeakMap,mm=new WeakMap,gm=new WeakMap,ym=new WeakMap,bm=new WeakMap,wm=new WeakMap,Em=new WeakMap,vm=new WeakMap,_m=new WeakMap,Am=new WeakMap,Ch=new WeakMap,$l=new WeakMap,Ha=new WeakMap,Vl=new WeakMap,Cm=new WeakMap,Sm=new WeakSet,US=function(e,r){Pe(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return ORe(this,n);case 1:return kRe(this,n);case 2:return NRe(this,n);case 3:return DRe(this,n,r?this.blobs:null);case 4:return URe(this,n)}Pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let XI=Ua;function tp(t){return gn(lc(t))}var LRe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const eL=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),tL=4;function FRe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),s=1,i=[0,1];for(let v=1;v<n;v++)i.push(s+=r());let o=r(),a=e;e+=o;let c=0,u=0;function l(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const d=31,f=2**d,h=f>>>1,p=h>>1,m=f-1;let y=0;for(let v=0;v<d;v++)y=y<<1|l();let E=[],w=0,b=f;for(;;){let v=Math.floor(((y-w+1)*s-1)/b),A=0,C=n;for(;C-A>1;){let N=A+C>>>1;v<i[N]?C=N:A=N}if(A==0)break;E.push(A);let x=w+Math.floor(b*i[A]/s),T=w+Math.floor(b*i[A+1]/s)-1;for(;((x^T)&h)==0;)y=y<<1&m|l(),x=x<<1&m,T=T<<1&m|1;for(;x&~T&p;)y=y&h|y<<1&m>>>1|l(),x=x<<1^h,T=(T^h)<<1|h|1;w=x,b=1+T-x}let g=n-4;return E.map(v=>{switch(v-g){case 3:return g+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return g+256+(t[a++]<<8|t[a++]);case 1:return g+t[a++];default:return v-1}})}function HRe(t){let e=0;return()=>t[e++]}function vee(t){return HRe(FRe(qRe(t)))}function qRe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,o=0,a=0;s<r;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function zRe(t){return t&1?~t>>1:t>>1}function $Re(t,e){let r=Array(t);for(let n=0,s=0;n<t;n++)r[n]=s+=zRe(e());return r}function y1(t,e=0){let r=[];for(;;){let n=t(),s=t();if(!s)break;e+=n;for(let i=0;i<s;i++)r.push(e+i);e+=s+1}return r}function _ee(t){return b1(()=>{let e=y1(t);if(e.length)return e})}function Aee(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(VRe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(GRe(r,t))}return e.flat()}function b1(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Cee(t,e,r){let n=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)$Re(t,r).forEach((i,o)=>n[o].push(i));return n}function VRe(t,e){let r=1+e(),n=e(),s=b1(e);return Cee(s.length,1+t,e).flatMap((o,a)=>{let[c,...u]=o;return Array(s[a]).fill().map((l,d)=>{let f=d*n;return[c+d*r,u.map(h=>h+f)]})})}function GRe(t,e){let r=1+e();return Cee(r,1+t,e).map(s=>[s[0],s.slice(1)])}function WRe(t){let e=[],r=y1(t);return s(n([]),[]),e;function n(i){let o=t(),a=b1(()=>{let c=y1(t).map(u=>r[u]);if(c.length)return n(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let u of o)for(let l of u.Q)s(u,[...a,l],c)}}}function KRe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function See(t){return`{${KRe(t)}}`}function ZRe(t){let e=[];for(let r=0,n=t.length;r<n;){let s=t.codePointAt(r);r+=s<65536?1:2,e.push(s)}return e}function ag(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let s=0;s<r;)n.push(String.fromCodePoint(...t.slice(s,s+=4096)));return n.join("")}function YRe(t,e){let r=t.length,n=r-e.length;for(let s=0;n==0&&s<r;s++)n=t[s]-e[s];return n}var JRe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const w1=44032,eT=4352,tT=4449,rT=4519,Iee=19,Tee=21,cg=28,nT=Tee*cg,QRe=Iee*nT,XRe=w1+QRe,eNe=eT+Iee,tNe=tT+Tee,rNe=rT+cg;function Mb(t){return t>>24&255}function Pee(t){return t&16777215}let EN,rL,vN,LS;function nNe(){let t=vee(JRe);EN=new Map(_ee(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),rL=new Set(y1(t)),vN=new Map,LS=new Map;for(let[e,r]of Aee(t)){if(!rL.has(e)&&r.length==2){let[n,s]=r,i=LS.get(n);i||(i=new Map,LS.set(n,i)),i.set(s,e)}vN.set(e,r.reverse())}}function xee(t){return t>=w1&&t<XRe}function sNe(t,e){if(t>=eT&&t<eNe&&e>=tT&&e<tNe)return w1+(t-eT)*nT+(e-tT)*cg;if(xee(t)&&e>rT&&e<rNe&&(t-w1)%cg==0)return t+(e-rT);{let r=LS.get(t);return r&&(r=r.get(e),r)?r:-1}}function Oee(t){EN||nNe();let e=[],r=[],n=!1;function s(i){let o=EN.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(xee(i)){let o=i-w1,a=o/nT|0,c=o%nT/cg|0,u=o%cg;s(eT+a),s(tT+c),u>0&&s(rT+u)}else{let o=vN.get(i);o?r.push(...o):s(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=Mb(e[0]);for(let o=1;o<e.length;o++){let a=Mb(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(i=Mb(e[--c]),i<=a))break}i=Mb(e[o])}}return e}function iNe(t){let e=[],r=[],n=-1,s=0;for(let i of t){let o=Mb(i),a=Pee(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),s=o;else{let c=sNe(n,a);c>=0?n=c:s==0&&o==0?(e.push(n),n=a):(r.push(a),s=o)}}return n>=0&&e.push(n,...r),e}function Ree(t){return Oee(t).map(Pee)}function oNe(t){return iNe(Oee(t))}const nL=45,Nee=".",Bee=65039,kee=1,sT=t=>Array.from(t);function E1(t,e){return t.P.has(e)||t.Q.has(e)}class aNe extends Array{get is_emoji(){return!0}}let _N,jee,uh,AN,Dee,Q0,U5,A0,Ff,sL,CN;function R3(){if(_N)return;let t=vee(LRe);const e=()=>y1(t),r=()=>new Set(e()),n=(l,d)=>d.forEach(f=>l.add(f));_N=new Map(Aee(t)),jee=r(),uh=e(),AN=new Set(e().map(l=>uh[l])),uh=new Set(uh),Dee=r(),r();let s=_ee(t),i=t();const o=()=>{let l=new Set;return e().forEach(d=>n(l,s[d])),n(l,e()),l};Q0=b1(l=>{let d=b1(t).map(f=>f+96);if(d.length){let f=l>=i;d[0]-=32,d=ag(d),f&&(d=`Restricted[${d}]`);let h=o(),p=o(),m=!t();return{N:d,P:h,Q:p,M:m,R:f}}}),U5=r(),A0=new Map;let a=e().concat(sT(U5)).sort((l,d)=>l-d);a.forEach((l,d)=>{let f=t(),h=a[d]=f?a[d-f]:{V:[],M:new Map};h.V.push(l),U5.has(l)||A0.set(l,h)});for(let{V:l,M:d}of new Set(A0.values())){let f=[];for(let p of l){let m=Q0.filter(E=>E1(E,p)),y=f.find(({G:E})=>m.some(w=>E.has(w)));y||(y={G:new Set,V:[]},f.push(y)),y.V.push(p),n(y.G,m)}let h=f.flatMap(p=>sT(p.G));for(let{G:p,V:m}of f){let y=new Set(h.filter(E=>!p.has(E)));for(let E of m)d.set(E,y)}}Ff=new Set;let c=new Set;const u=l=>Ff.has(l)?c.add(l):Ff.add(l);for(let l of Q0){for(let d of l.P)u(d);for(let d of l.Q)u(d)}for(let l of Ff)!A0.has(l)&&!c.has(l)&&A0.set(l,kee);n(Ff,Ree(Ff)),sL=WRe(t).map(l=>aNe.from(l)).sort(YRe),CN=new Map;for(let l of sL){let d=[CN];for(let f of l){let h=d.map(p=>{let m=p.get(f);return m||(m=new Map,p.set(f,m)),m});f===Bee?d.push(...h):d=h}for(let f of d)f.V=l}}function N3(t){return(Mee(t)?"":`${B3(SP([t]))} `)+See(t)}function B3(t){return`"${t}"`}function cNe(t){if(t.length>=4&&t[2]==nL&&t[3]==nL)throw new Error(`invalid label extension: "${ag(t.slice(0,4))}"`)}function uNe(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function lNe(t){let e=t[0],r=eL.get(e);if(r)throw ow(`leading ${r}`);let n=t.length,s=-1;for(let i=1;i<n;i++){e=t[i];let o=eL.get(e);if(o){if(s==i)throw ow(`${r} + ${o}`);s=i+1,r=o}}if(s==n)throw ow(`trailing ${r}`)}function SP(t,e=1/0,r=See){let n=[];dNe(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];Mee(a)&&(n.push(ag(t.slice(s,o))),n.push(r(a)),s=o+1)}return n.push(ag(t.slice(s,i))),n.join("")}function dNe(t){return R3(),uh.has(t)}function Mee(t){return R3(),Dee.has(t)}function fNe(t){return gNe(hNe(t,oNe,wNe))}function hNe(t,e,r){if(!t)return[];R3();let n=0;return t.split(Nee).map(s=>{let i=ZRe(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=bNe(i,e,r),c=a.length,u;if(!c)throw new Error("empty label");let l=o.output=a.flat();if(uNe(l),!(o.emoji=c>1||a[0].is_emoji)&&l.every(f=>f<128))cNe(l),u="ASCII";else{let f=a.flatMap(h=>h.is_emoji?[]:h);if(!f.length)u="Emoji";else{if(uh.has(l[0]))throw ow("leading combining mark");for(let m=1;m<c;m++){let y=a[m];if(!y.is_emoji&&uh.has(y[0]))throw ow(`emoji + combining mark: "${ag(a[m-1])} + ${SP([y[0]])}"`)}lNe(l);let h=sT(new Set(f)),[p]=mNe(h);yNe(p,f),pNe(p,h),u=p.N}}o.type=u}catch(a){o.error=a}return o})}function pNe(t,e){let r,n=[];for(let s of e){let i=A0.get(s);if(i===kee)return;if(i){let o=i.M.get(s);if(r=r?r.filter(a=>o.has(a)):sT(o),!r.length)return}else n.push(s)}if(r){for(let s of r)if(n.every(i=>E1(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function mNe(t){let e=Q0;for(let r of t){let n=e.filter(s=>E1(s,r));if(!n.length)throw Q0.some(s=>E1(s,r))?Lee(e[0],r):Uee(r);if(e=n,n.length==1)break}return e}function gNe(t){return t.map(({input:e,error:r,output:n})=>{if(r){let s=r.message;throw new Error(t.length==1?s:`Invalid label ${B3(SP(e,63))}: ${s}`)}return ag(n)}).join(Nee)}function Uee(t){return new Error(`disallowed character: ${N3(t)}`)}function Lee(t,e){let r=N3(e),n=Q0.find(s=>s.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function ow(t){return new Error(`illegal placement: ${t}`)}function yNe(t,e){for(let r of e)if(!E1(t,r))throw Lee(t,r);if(t.M){let r=Ree(e);for(let n=1,s=r.length;n<s;n++)if(AN.has(r[n])){let i=n+1;for(let o;i<s&&AN.has(o=r[i]);i++)for(let a=n;a<i;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${N3(o)}`);if(i-n>tL)throw new Error(`excessive non-spacing marks: ${B3(SP(r.slice(n-1,i)))} (${i-n}/${tL})`);n=i}}}function bNe(t,e,r){let n=[],s=[];for(t=t.slice().reverse();t.length;){let i=ENe(t);if(i)s.length&&(n.push(e(s)),s=[]),n.push(r(i));else{let o=t.pop();if(Ff.has(o))s.push(o);else{let a=_N.get(o);if(a)s.push(...a);else if(!jee.has(o))throw Uee(o)}}}return s.length&&n.push(e(s)),n}function wNe(t){return t.filter(e=>e!=Bee)}function ENe(t,e){let r=CN,n,s=t.length;for(;s&&(r=r.get(t[--s]),!!r);){let{V:i}=r;i&&(n=i,t.length=s)}return n}const Fee=new Uint8Array(32);Fee.fill(0);function iL(t){return pe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function Hee(t){const e=lc(vNe(t)),r=[];if(t.length===0)return r;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(r.push(iL(e.slice(n,s))),n=s+1);return pe(n<e.length,"invalid ENS name; empty component","name",t),r.push(iL(e.slice(n))),r}function vNe(t){try{if(t.length===0)throw new Error("empty label");return fNe(t)}catch(e){pe(!1,`invalid ENS name (${e.message})`,"name",t)}}function SN(t){pe(typeof t=="string","invalid ENS name; not a string","name",t),pe(t.length,"invalid ENS name (empty label)","name",t);let e=Fee;const r=Hee(t);for(;r.length;)e=gn(en([e,gn(r.pop())]));return Fe(e)}function _Ne(t,e){const r=e;return pe(r<=255,"DNS encoded label cannot exceed 255","length",r),Fe(en(Hee(t).map(n=>{pe(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}const qee=new Uint8Array(32);qee.fill(0);const ANe=BigInt(-1),zee=BigInt(0),$ee=BigInt(1),CNe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function SNe(t){const e=Rt(t),r=e.length%32;return r?en([e,qee.slice(r)]):Fe(e)}const INe=Id($ee,32),TNe=Id(zee,32),oL={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},L5=["name","version","chainId","verifyingContract","salt"];function aL(t){return function(e){return pe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const PNe={name:aL("name"),version:aL("version"),chainId:function(t){const e=Ye(t,"domain.chainId");return pe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Xo(e)},verifyingContract:function(t){try{return or(t).toLowerCase()}catch{}pe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Rt(t,"domain.salt");return pe(e.length===32,'invalid domain value "salt"',"domain.salt",t),Fe(e)}};function F5(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);pe(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const s=ah(CNe,r?n-1:n),i=r?(s+$ee)*ANe:zee;return function(o){const a=Ye(o,"value");return pe(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),Id(r?PX(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return pe(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const s=Rt(n);return pe(s.length===r,`invalid length for ${t}`,"value",n),SNe(n)}}}switch(t){case"address":return function(e){return Lu(or(e),32)};case"bool":return function(e){return e?INe:TNe};case"bytes":return function(e){return gn(e)};case"string":return function(e){return tp(e)}}return null}function cL(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function $v(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var R1,pu,Im,yT,Vee;const po=class po{constructor(e){ve(this,yT);be(this,"primaryType");ve(this,R1);ve(this,pu);ve(this,Im);se(this,pu,new Map),se(this,Im,new Map);const r=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:u,type:l})=>{let{base:d,index:f}=$v(l);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:u,type:d+(f||"")}}),r.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),se(this,R1,JSON.stringify(i));for(const c in i){const u=new Set;for(const l of i[c]){pe(!u.has(l.name),`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(c)}`,"types",e),u.add(l.name);const d=$v(l.type).base;pe(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!F5(d)&&(pe(n.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),n.get(d).push(c),r.get(c).add(d))}}const o=Array.from(n.keys()).filter(c=>n.get(c).length===0);pe(o.length!==0,"missing primary type","types",e),pe(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),ut(this,{primaryType:o[0]});function a(c,u){pe(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const l of r.get(c))if(n.has(l)){a(l,u);for(const d of u)s.get(d).add(l)}u.delete(c)}a(this.primaryType,new Set);for(const[c,u]of s){const l=Array.from(u);l.sort(),G(this,pu).set(c,cL(c,i[c])+l.map(d=>cL(d,i[d])).join(""))}}get types(){return JSON.parse(G(this,R1))}getEncoder(e){let r=G(this,Im).get(e);return r||(r=Re(this,yT,Vee).call(this,e),G(this,Im).set(e,r)),r}encodeType(e){const r=G(this,pu).get(e);return pe(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return gn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(F5(e))return n(e,r);const s=$v(e).array;if(s)return pe(s.count===-1||s.count===r.length,`array length mismatch; expected length ${s.count}`,"value",r),r.map(o=>this._visit(s.prefix,o,n));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{});pe(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new po(e)}static getPrimaryType(e){return po.from(e).primaryType}static hashStruct(e,r,n){return po.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const s=oL[n];pe(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:s})}return r.sort((n,s)=>L5.indexOf(n.name)-L5.indexOf(s.name)),po.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return en(["0x1901",po.hashDomain(e),po.from(r).hash(n)])}static hash(e,r,n){return gn(po.encode(e,r,n))}static async resolveNames(e,r,n,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!Ar(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=po.from(r);o.visit(n,(a,c)=>(a==="address"&&!Ar(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){po.hashDomain(e);const s={},i=[];L5.forEach(c=>{const u=e[c];u!=null&&(s[c]=PNe[c](u),i.push({name:c,type:oL[c]}))});const o=po.from(r);r=o.types;const a=Object.assign({},r);return pe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return Fe(Rt(u));if(c.match(/^u?int/))return Ye(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return pe(typeof u=="string","invalid string","value",u),u}pe(!1,"unsupported type","type",c)})}}};R1=new WeakMap,pu=new WeakMap,Im=new WeakMap,yT=new WeakSet,Vee=function(e){{const s=F5(e);if(s)return s}const r=$v(e).array;if(r){const s=r.prefix,i=this.getEncoder(s);return o=>{pe(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(i);return G(this,pu).has(s)&&(a=a.map(gn)),gn(en(a))}}const n=this.types[e];if(n){const s=tp(G(this,pu).get(e));return i=>{const o=n.map(({name:a,type:c})=>{const u=this.getEncoder(c)(i[a]);return G(this,pu).has(c)?gn(u):u});return o.unshift(s),en(o)}}pe(!1,`unknown type: ${e}`,"type",e)};let iT=po;function Us(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const xNe="external public payable override",ONe=Us(xNe.split(" ")),Gee="constant external internal payable private public pure view override",RNe=Us(Gee.split(" ")),Wee="constructor error event fallback function receive struct",Kee=Us(Wee.split(" ")),Zee="calldata memory storage payable indexed",NNe=Us(Zee.split(" ")),BNe="tuple returns",kNe=[Wee,Zee,BNe,Gee].join(" "),jNe=Us(kNe.split(" ")),DNe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},MNe=new RegExp("^(\\s*)"),UNe=new RegExp("^([0-9]+)"),LNe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Yee=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Jee=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var qn,Zo,N1,IN;const bT=class bT{constructor(e){ve(this,N1);ve(this,qn);ve(this,Zo);se(this,qn,0),se(this,Zo,e.slice())}get offset(){return G(this,qn)}get length(){return G(this,Zo).length-G(this,qn)}clone(){return new bT(G(this,Zo))}reset(){se(this,qn,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=Re(this,N1,IN).call(this,G(this,qn)+1,e.match+1);return se(this,qn,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;G(this,qn)<e.match-1;){const n=this.peek().linkNext;r.push(Re(this,N1,IN).call(this,G(this,qn)+1,n)),se(this,qn,n)}return se(this,qn,e.match+1),r}peek(){if(G(this,qn)>=G(this,Zo).length)throw new Error("out-of-bounds");return G(this,Zo)[G(this,qn)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return qg(this,qn)._++,e}toString(){const e=[];for(let r=G(this,qn);r<G(this,Zo).length;r++){const n=G(this,Zo)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};qn=new WeakMap,Zo=new WeakMap,N1=new WeakSet,IN=function(e=0,r=0){return new bT(G(this,Zo).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let fa=bT;function jd(t){const e=[],r=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let n=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(MNe);a&&(i+=a[1].length,o=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let u=DNe[o[0]]||"";if(u){if(c.type=u,c.text=o[0],i++,u==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let l=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;l=d+l,e[e.length-1].value=At(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=l}continue}if(a=o.match(LNe),a){if(c.text=a[1],i+=c.text.length,jNe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Jee)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(UNe),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new fa(e.map(o=>Object.freeze(o)))}function uL(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function IP(t,e){if(e.peekKeyword(Kee)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Hu(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function Qee(t){let e=Hu(t,RNe);return uL(e,Us("constant payable nonpayable".split(" "))),uL(e,Us("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ru(t,e){return t.popParams().map(r=>Wn.from(r,e))}function Xee(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Ye(t.pop().text);throw new Error("invalid gas")}return null}function rp(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const FNe=new RegExp(/^(.*)\[([0-9]*)\]$/);function lL(t){const e=t.match(Jee);if(pe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);pe(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);pe(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const Vr={},bi=Symbol.for("_ethers_internal"),dL="_ParamTypeInternal",fL="_ErrorInternal",hL="_EventInternal",pL="_ConstructorInternal",mL="_FallbackInternal",gL="_FunctionInternal",yL="_StructInternal";var Tm,FS;const mo=class mo{constructor(e,r,n,s,i,o,a,c){ve(this,Tm);be(this,"name");be(this,"type");be(this,"baseType");be(this,"indexed");be(this,"components");be(this,"arrayLength");be(this,"arrayChildren");if(cE(e,Vr,"ParamType"),Object.defineProperty(this,bi,{value:dL}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");ut(this,{name:r,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],s=[e];return Re(this,Tm,FS).call(this,n,e,r,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,r){if(mo.isParamType(e))return e;if(typeof e=="string")try{return mo.from(jd(e),r)}catch{pe(!1,"invalid param type","obj",e)}else if(e instanceof fa){let a="",c="",u=null;Hu(e,Us(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(m=>mo.from(m)),a=`tuple(${u.map(m=>m.format()).join(",")})`):(a=lL(e.popType("TYPE")),c=a);let l=null,d=null;for(;e.length&&e.peekType("BRACKET");){const m=e.pop();l=new mo(Vr,"",a,c,null,u,d,l),d=m.value,a+=m.text,c="array",u=null}let f=null;if(Hu(e,NNe).has("indexed")){if(!r)throw new Error("");f=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new mo(Vr,p,a,c,f,u,d,l)}const n=e.name;pe(!n||typeof n=="string"&&n.match(Yee),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(pe(r,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(FNe);if(o){const a=parseInt(o[2]||"-1"),c=mo.from({type:o[1],components:e.components});return new mo(Vr,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(u=>mo.from(u)):null;return new mo(Vr,n||"",i,"tuple",s,a,null,null)}return i=lL(e.type),new mo(Vr,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[bi]===dL}};Tm=new WeakSet,FS=function(e,r,n,s){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=r.slice();a.forEach((c,u)=>{var l;Re(l=o,Tm,FS).call(l,e,c,n,d=>{a[u]=d})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,u)=>{var l;Re(l=o[u],Tm,FS).call(l,e,c,n,d=>{a[u]=d})}),s(a);return}const i=n(this.type,r);i.then?e.push((async function(){s(await i)})()):s(i)};let Wn=mo;class np{constructor(e,r,n){be(this,"type");be(this,"inputs");cE(e,Vr,"Fragment"),n=Object.freeze(n.slice()),ut(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{np.from(JSON.parse(e))}catch{}return np.from(jd(e))}if(e instanceof fa)switch(e.peekKeyword(Kee)){case"constructor":return Iu.from(e);case"error":return di.from(e);case"event":return Xa.from(e);case"fallback":case"receive":return uu.from(e);case"function":return ec.from(e);case"struct":return qh.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Iu.from(e);case"error":return di.from(e);case"event":return Xa.from(e);case"fallback":case"receive":return uu.from(e);case"function":return ec.from(e);case"struct":return qh.from(e)}Pe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}pe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Iu.isFragment(e)}static isError(e){return di.isFragment(e)}static isEvent(e){return Xa.isFragment(e)}static isFunction(e){return ec.isFragment(e)}static isStruct(e){return qh.isFragment(e)}}class TP extends np{constructor(r,n,s,i){super(r,n,i);be(this,"name");pe(typeof s=="string"&&s.match(Yee),"invalid identifier","name",s),i=Object.freeze(i.slice()),ut(this,{name:s})}}function v1(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class di extends TP{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,bi,{value:fL})}get selector(){return tp(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+v1(e,this.inputs)),r.join(" ")}static from(e){if(di.isFragment(e))return e;if(typeof e=="string")return di.from(jd(e));if(e instanceof fa){const r=IP("error",e),n=Ru(e);return rp(e),new di(Vr,r,n)}return new di(Vr,e.name,e.inputs?e.inputs.map(Wn.from):[])}static isFragment(e){return e&&e[bi]===fL}}class Xa extends TP{constructor(r,n,s,i){super(r,"event",n,s);be(this,"anonymous");Object.defineProperty(this,bi,{value:hL}),ut(this,{anonymous:i})}get topicHash(){return tp(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+v1(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>Wn.from(i)),new Xa(Vr,r,n,!1).topicHash}static from(r){if(Xa.isFragment(r))return r;if(typeof r=="string")try{return Xa.from(jd(r))}catch{pe(!1,"invalid event fragment","obj",r)}else if(r instanceof fa){const n=IP("event",r),s=Ru(r,!0),i=!!Hu(r,Us(["anonymous"])).has("anonymous");return rp(r),new Xa(Vr,n,s,i)}return new Xa(Vr,r.name,r.inputs?r.inputs.map(n=>Wn.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[bi]===hL}}class Iu extends np{constructor(r,n,s,i,o){super(r,n,s);be(this,"payable");be(this,"gas");Object.defineProperty(this,bi,{value:pL}),ut(this,{payable:i,gas:o})}format(r){if(Pe(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r)))});const n=[`constructor${v1(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Iu.isFragment(r))return r;if(typeof r=="string")try{return Iu.from(jd(r))}catch{pe(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof fa){Hu(r,Us(["constructor"]));const n=Ru(r),s=!!Hu(r,ONe).has("payable"),i=Xee(r);return rp(r),new Iu(Vr,"constructor",n,s,i)}return new Iu(Vr,"constructor",r.inputs?r.inputs.map(Wn.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[bi]===pL}}class uu extends np{constructor(r,n,s){super(r,"fallback",n);be(this,"payable");Object.defineProperty(this,bi,{value:mL}),ut(this,{payable:s})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(r){if(uu.isFragment(r))return r;if(typeof r=="string")try{return uu.from(jd(r))}catch{pe(!1,"invalid fallback fragment","obj",r)}else if(r instanceof fa){const n=r.toString(),s=r.peekKeyword(Us(["fallback","receive"]));if(pe(s,"type must be fallback or receive","obj",n),r.popKeyword(Us(["fallback","receive"]))==="receive"){const c=Ru(r);return pe(c.length===0,"receive cannot have arguments","obj.inputs",c),Hu(r,Us(["payable"])),rp(r),new uu(Vr,[],!0)}let o=Ru(r);o.length?pe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Wn.from("bytes")];const a=Qee(r);if(pe(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Hu(r,Us(["returns"])).has("returns")){const c=Ru(r);pe(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return rp(r),new uu(Vr,o,a==="payable")}if(r.type==="receive")return new uu(Vr,[],!0);if(r.type==="fallback"){const n=[Wn.from("bytes")],s=r.stateMutability==="payable";return new uu(Vr,n,s)}pe(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[bi]===mL}}class ec extends TP{constructor(r,n,s,i,o,a){super(r,"function",n,i);be(this,"constant");be(this,"outputs");be(this,"stateMutability");be(this,"payable");be(this,"gas");Object.defineProperty(this,bi,{value:gL}),o=Object.freeze(o.slice()),ut(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return tp(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(r))),outputs:this.outputs.map(s=>JSON.parse(s.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+v1(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(v1(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>Wn.from(i)),new ec(Vr,r,"view",n,[],null).selector}static from(r){if(ec.isFragment(r))return r;if(typeof r=="string")try{return ec.from(jd(r))}catch{pe(!1,"invalid function fragment","obj",r)}else if(r instanceof fa){const s=IP("function",r),i=Ru(r),o=Qee(r);let a=[];Hu(r,Us(["returns"])).has("returns")&&(a=Ru(r));const c=Xee(r);return rp(r),new ec(Vr,s,o,i,a,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new ec(Vr,r.name,n,r.inputs?r.inputs.map(Wn.from):[],r.outputs?r.outputs.map(Wn.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[bi]===gL}}class qh extends TP{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,bi,{value:yL})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return qh.from(jd(e))}catch{pe(!1,"invalid struct fragment","obj",e)}else if(e instanceof fa){const r=IP("struct",e),n=Ru(e);return rp(e),new qh(Vr,r,n)}return new qh(Vr,e.name,e.inputs?e.inputs.map(Wn.from):[])}static isFragment(e){return e&&e[bi]===yL}}const pa=new Map;pa.set(0,"GENERIC_PANIC");pa.set(1,"ASSERT_FALSE");pa.set(17,"OVERFLOW");pa.set(18,"DIVIDE_BY_ZERO");pa.set(33,"ENUM_RANGE_ERROR");pa.set(34,"BAD_STORAGE_DATA");pa.set(49,"STACK_UNDERFLOW");pa.set(50,"ARRAY_RANGE_ERROR");pa.set(65,"OUT_OF_MEMORY");pa.set(81,"UNINITIALIZED_FUNCTION_CALL");const HNe=new RegExp(/^bytes([0-9]*)$/),qNe=new RegExp(/^(u?int)([0-9]*)$/);let H5=null,bL=1024;function zNe(t,e,r,n){let s="missing revert data",i=null;const o=null;let a=null;if(r){s="execution reverted";const u=Rt(r);if(r=Fe(r),u.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Fe(u.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],u.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Fe(u.slice(0,4))==="0x4e487b71")try{const l=Number(n.decode(["uint256"],u.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[l]},i=`Panic due to ${pa.get(l)||"UNKNOWN"}(${l})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?or(e.to):null,data:e.data||"0x"};return e.from&&(c.from=or(e.from)),Ur(s,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:o,revert:a})}var Gl,C0;const wT=class wT{constructor(){ve(this,Gl)}getDefaultValue(e){const r=e.map(s=>Re(this,Gl,C0).call(this,Wn.from(s)));return new zv(r,"_").defaultValue()}encode(e,r){SX(r.length,e.length,"types/values length mismatch");const n=e.map(o=>Re(this,Gl,C0).call(this,Wn.from(o))),s=new zv(n,"_"),i=new fN;return s.encode(i,r),i.data}decode(e,r,n){const s=e.map(o=>Re(this,Gl,C0).call(this,Wn.from(o)));return new zv(s,"_").decode(new hN(r,n,bL))}static _setDefaultMaxInflation(e){pe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),bL=e}static defaultAbiCoder(){return H5==null&&(H5=new wT),H5}static getBuiltinCallException(e,r,n){return zNe(e,r,n,wT.defaultAbiCoder())}};Gl=new WeakSet,C0=function(e){if(e.isArray())return new aRe(Re(this,Gl,C0).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new zv(e.components.map(n=>Re(this,Gl,C0).call(this,n)),e.name);switch(e.baseType){case"address":return new iRe(e.name);case"bool":return new cRe(e.name);case"string":return new yRe(e.name);case"bytes":return new uRe(e.name);case"":return new fRe(e.name)}let r=e.type.match(qNe);if(r){let n=parseInt(r[2]||"256");return pe(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new gRe(n/8,r[1]==="int",e.name)}if(r=e.type.match(HNe),r){let n=parseInt(r[1]);return pe(n!==0&&n<=32,"invalid bytes length","param",e),new lRe(n,e.name)}pe(!1,"invalid type","type",e.type)};let _1=wT;class $Ne{constructor(e,r,n){be(this,"fragment");be(this,"name");be(this,"signature");be(this,"topic");be(this,"args");const s=e.name,i=e.format();ut(this,{fragment:e,name:s,signature:i,topic:r,args:n})}}class VNe{constructor(e,r,n,s){be(this,"fragment");be(this,"name");be(this,"args");be(this,"signature");be(this,"selector");be(this,"value");const i=e.name,o=e.format();ut(this,{fragment:e,name:i,args:n,signature:o,selector:r,value:s})}}class GNe{constructor(e,r,n){be(this,"fragment");be(this,"name");be(this,"args");be(this,"signature");be(this,"selector");const s=e.name,i=e.format();ut(this,{fragment:e,name:s,args:n,signature:i,selector:r})}}class wL{constructor(e){be(this,"hash");be(this,"_isIndexed");ut(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const EL={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},vL={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&EL[t.toString()]&&(e=EL[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var qa,za,$a,cs,dc,HS,qS;const Jf=class Jf{constructor(e){ve(this,dc);be(this,"fragments");be(this,"deploy");be(this,"fallback");be(this,"receive");ve(this,qa);ve(this,za);ve(this,$a);ve(this,cs);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,se(this,$a,new Map),se(this,qa,new Map),se(this,za,new Map);const n=[];for(const o of r)try{n.push(np.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}ut(this,{fragments:Object.freeze(n)});let s=null,i=!1;se(this,cs,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ut(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(pe(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=G(this,$a);break;case"event":c=G(this,za);break;case"error":c=G(this,qa);break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||ut(this,{deploy:Iu.from("constructor()")}),ut(this,{fallback:s,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(s=>s.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return _1.defaultAbiCoder()}getFunctionName(e){const r=Re(this,dc,HS).call(this,e,null,!1);return pe(r,"no matching function","key",e),r.name}hasFunction(e){return!!Re(this,dc,HS).call(this,e,null,!1)}getFunction(e,r){return Re(this,dc,HS).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(G(this,$a).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(G(this,$a).get(s),n)}}getEventName(e){const r=Re(this,dc,qS).call(this,e,null,!1);return pe(r,"no matching event","key",e),r.name}hasEvent(e){return!!Re(this,dc,qS).call(this,e,null,!1)}getEvent(e,r){return Re(this,dc,qS).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(G(this,za).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(G(this,za).get(s),n)}}getError(e,r){if(Ar(e)){const s=e.toLowerCase();if(vL[s])return di.from(vL[s].signature);for(const i of G(this,qa).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of G(this,qa))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?di.from("error Error(string)"):e==="Panic"?di.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");pe(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=di.from(e).format(),e==="Error(string)")return di.from("error Error(string)");if(e==="Panic(uint256)")return di.from("error Panic(uint256)");const n=G(this,qa).get(e);return n||null}forEachError(e){const r=Array.from(G(this,qa).keys());r.sort((n,s)=>n.localeCompare(s));for(let n=0;n<r.length;n++){const s=r[n];e(G(this,qa).get(s),n)}}_decodeParams(e,r){return G(this,cs).decode(e,r)}_encodeParams(e,r){return G(this,cs).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);pe(n,"unknown error","fragment",e),e=n}return pe(Xr(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Xr(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);pe(n,"unknown error","fragment",e),e=n}return en([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);pe(n,"unknown function","fragment",e),e=n}return pe(Xr(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Xr(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);pe(n,"unknown function","fragment",e),e=n}return en([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);pe(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=ks(r);if(s.length%32===0)try{return G(this,cs).decode(e.outputs,s)}catch{n="could not decode result data"}Pe(!1,n,"BAD_DATA",{value:Fe(s),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=Rt(e,"data"),s=_1.getBuiltinCallException("call",r,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=Fe(n.slice(0,4)),c=this.getError(a);if(c)try{const u=G(this,cs).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);pe(n,"unknown function","fragment",e),e=n}return Fe(G(this,cs).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);pe(i,"unknown event","eventFragment",e),e=i}Pe(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,o)=>i.type==="string"?tp(o):i.type==="bytes"?gn(Fe(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Id(o):i.type.match(/^bytes/)?o=c5e(o,32):i.type==="address"&&G(this,cs).encode(["address"],[o]),Lu(Fe(o),32));for(r.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){pe(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?pe(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);pe(o,"unknown event","eventFragment",e),e=o}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),pe(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(tp(c));else if(o.type==="bytes")n.push(gn(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(G(this,cs).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:G(this,cs).encode(s,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const h=this.getEvent(e);pe(h,"unknown event","eventFragment",e),e=h}if(n!=null&&!e.anonymous){const h=e.topicHash;pe(Ar(n[0],32)&&n[0].toLowerCase()===h,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((h,p)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(s.push(Wn.from({type:"bytes32",name:h.name})),o.push(!0)):(s.push(h),o.push(!1)):(i.push(h),o.push(!1))});const a=n!=null?G(this,cs).decode(s,en(n)):null,c=G(this,cs).decode(i,r,!0),u=[],l=[];let d=0,f=0;return e.inputs.forEach((h,p)=>{let m=null;if(h.indexed)if(a==null)m=new wL(null);else if(o[p])m=new wL(a[f++]);else try{m=a[f++]}catch(y){m=y}else try{m=c[d++]}catch(y){m=y}u.push(m),l.push(h.name||null)}),rg.fromItems(u,l)}parseTransaction(e){const r=Rt(e.data,"tx.data"),n=Ye(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Fe(r.slice(0,4)));if(!s)return null;const i=G(this,cs).decode(s.inputs,r.slice(4));return new VNe(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new $Ne(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=Fe(e),n=this.getError(Xr(r,0,4));if(!n)return null;const s=G(this,cs).decode(n.inputs,Xr(r,4));return new GNe(n,n.selector,s)}static from(e){return e instanceof Jf?e:typeof e=="string"?new Jf(JSON.parse(e)):typeof e.formatJson=="function"?new Jf(e.formatJson()):typeof e.format=="function"?new Jf(e.format("json")):new Jf(e)}};qa=new WeakMap,za=new WeakMap,$a=new WeakMap,cs=new WeakMap,dc=new WeakSet,HS=function(e,r,n){if(Ar(e)){const i=e.toLowerCase();for(const o of G(this,$a).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of G(this,$a))o.split("(")[0]===e&&i.push(a);if(r){const o=r.length>0?r[r.length-1]:null;let a=r.length,c=!0;Es.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let u=i.length-1;u>=0;u--){const l=i[u].inputs.length;l!==a&&(!c||l!==a-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const l=i[u].inputs;for(let d=0;d<r.length;d++)if(Es.isTyped(r[d])){if(d>=l.length){if(r[d].type==="overrides")continue;i.splice(u,1);break}if(r[d].type!==l[d].baseType){i.splice(u,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=G(this,$a).get(ec.from(e).format());return s||null},qS=function(e,r,n){if(Ar(e)){const i=e.toLowerCase();for(const o of G(this,za).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of G(this,za))o.split("(")[0]===e&&i.push(a);if(r){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<r.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<r.length;c++)if(Es.isTyped(r[c])&&r[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");pe(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=G(this,za).get(Xa.from(e).format());return s||null};let TN=Jf;const ete=BigInt(0);function X0(t){return t??null}function sn(t){return t==null?null:t.toString()}class _L{constructor(e,r,n){be(this,"gasPrice");be(this,"maxFeePerGas");be(this,"maxPriorityFeePerGas");ut(this,{gasPrice:X0(e),maxFeePerGas:X0(r),maxPriorityFeePerGas:X0(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:sn(e),maxFeePerGas:sn(r),maxPriorityFeePerGas:sn(n)}}}function oT(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Fe(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=Ye(t[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=At(t[s],`request.${s}`));return t.accessList&&(e.accessList=wp(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>v3(s)?Fe(s):Object.assign({},s))),e}var mu;class WNe{constructor(e,r){be(this,"provider");be(this,"number");be(this,"hash");be(this,"timestamp");be(this,"parentHash");be(this,"parentBeaconBlockRoot");be(this,"nonce");be(this,"difficulty");be(this,"gasLimit");be(this,"gasUsed");be(this,"stateRoot");be(this,"receiptsRoot");be(this,"blobGasUsed");be(this,"excessBlobGas");be(this,"miner");be(this,"prevRandao");be(this,"extraData");be(this,"baseFeePerGas");ve(this,mu);se(this,mu,e.transactions.map(n=>typeof n!="string"?new A1(n,r):n)),ut(this,{provider:r,hash:X0(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:X0(e.prevRandao),extraData:e.extraData,baseFeePerGas:X0(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return G(this,mu).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=G(this,mu).slice();return e.length===0?[]:(Pe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:u,number:l,parentHash:d,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:sn(e),difficulty:sn(r),extraData:n,gasLimit:sn(s),gasUsed:sn(i),blobGasUsed:sn(this.blobGasUsed),excessBlobGas:sn(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:u,number:l,parentHash:d,timestamp:m,parentBeaconBlockRoot:f,stateRoot:h,receiptsRoot:p,transactions:y}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return G(this,mu).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=G(this,mu)[e];else{const n=e.toLowerCase();for(const s of G(this,mu))if(typeof s=="string"){if(s!==n)continue;r=s;break}else{if(s.hash!==n)continue;r=s;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;pe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return KNe(this)}}mu=new WeakMap;class dE{constructor(e,r){be(this,"provider");be(this,"transactionHash");be(this,"blockHash");be(this,"blockNumber");be(this,"removed");be(this,"address");be(this,"data");be(this,"topics");be(this,"index");be(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());ut(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Pe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return ZNe(this)}}var B1;class tte{constructor(e,r){be(this,"provider");be(this,"to");be(this,"from");be(this,"contractAddress");be(this,"hash");be(this,"index");be(this,"blockHash");be(this,"blockNumber");be(this,"logsBloom");be(this,"gasUsed");be(this,"blobGasUsed");be(this,"cumulativeGasUsed");be(this,"gasPrice");be(this,"blobGasPrice");be(this,"type");be(this,"status");be(this,"root");ve(this,B1);se(this,B1,Object.freeze(e.logs.map(s=>new dE(s,r))));let n=ete;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),ut(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return G(this,B1)}toJSON(){const{to:e,from:r,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:u,status:l,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:sn(this.cumulativeGasUsed),from:r,gasPrice:sn(this.gasPrice),blobGasUsed:sn(this.blobGasUsed),blobGasPrice:sn(this.blobGasPrice),gasUsed:sn(this.gasUsed),hash:s,index:i,logs:u,logsBloom:c,root:d,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return nte(this)}reorderedEvent(e){return Pe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),rte(this,e)}}B1=new WeakMap;var Wl;const yB=class yB{constructor(e,r){be(this,"provider");be(this,"blockNumber");be(this,"blockHash");be(this,"index");be(this,"hash");be(this,"type");be(this,"to");be(this,"from");be(this,"nonce");be(this,"gasLimit");be(this,"gasPrice");be(this,"maxPriorityFeePerGas");be(this,"maxFeePerGas");be(this,"maxFeePerBlobGas");be(this,"data");be(this,"value");be(this,"chainId");be(this,"signature");be(this,"accessList");be(this,"blobVersionedHashes");be(this,"authorizationList");ve(this,Wl);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,se(this,Wl,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:u,signature:l,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:r,blobVersionedHashes:f,chainId:sn(this.chainId),data:u,from:a,gasLimit:sn(this.gasLimit),gasPrice:sn(this.gasPrice),hash:s,maxFeePerGas:sn(this.maxFeePerGas),maxPriorityFeePerGas:sn(this.maxPriorityFeePerGas),maxFeePerBlobGas:sn(this.maxFeePerBlobGas),nonce:c,signature:l,to:o,index:n,type:i,value:sn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Ns({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,s=r??0;let i=G(this,Wl),o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:f,nonce:h}=await Ns({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(h<this.nonce){i=f;return}if(a)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(o===-1&&(o=i-3,o<G(this,Wl)&&(o=G(this,Wl)));o<=f;){if(a)return null;const m=await this.provider.getBlock(o,!0);if(m==null)return;for(const y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){const E=await m.getTransaction(y);if(E.from===this.from&&E.nonce===this.nonce){if(a)return null;const w=await this.provider.getTransactionReceipt(E.hash);if(w==null||f-w.blockNumber+1<n)return;let b="replaced";E.data===this.data&&E.to===this.to&&E.value===this.value?b="repriced":E.data==="0x"&&E.from===E.to&&E.value===ete&&(b="cancelled"),Pe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:E.replaceableTransaction(i),hash:E.hash,receipt:w})}}o++}},u=f=>{if(f==null||f.status!==0)return f;Pe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},l=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(l);if(l){if(n===1||await l.confirmations()>=n)return u(l)}else if(await c(),n===0)return null;return await new Promise((f,h)=>{const p=[],m=()=>{p.forEach(E=>E())};if(p.push(()=>{a=!0}),s>0){const E=setTimeout(()=>{m(),h(Ur("wait for transaction timeout","TIMEOUT"))},s);p.push(()=>{clearTimeout(E)})}const y=async E=>{if(await E.confirmations()>=n){m();try{f(u(E))}catch(w){h(w)}}};if(p.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),i>=0){const E=async()=>{try{await c()}catch(w){if(Vn(w,"TRANSACTION_REPLACED")){m(),h(w);return}}a||this.provider.once("block",E)};p.push(()=>{this.provider.off("block",E)}),this.provider.once("block",E)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),nte(this)}reorderedEvent(e){return Pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Pe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rte(this,e)}replaceableTransaction(e){pe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new yB(this,this.provider);return se(r,Wl,e),r}};Wl=new WeakMap;let A1=yB;function KNe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function rte(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function nte(t){return{orphan:"drop-transaction",tx:t}}function ZNe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class k3 extends dE{constructor(r,n,s){super(r,r.provider);be(this,"interface");be(this,"fragment");be(this,"args");const i=n.decodeEventLog(s,r.data,r.topics);ut(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class ste extends dE{constructor(r,n){super(r,r.provider);be(this,"error");ut(this,{error:n})}}var Pm;class YNe extends tte{constructor(r,n,s){super(s,n);ve(this,Pm);se(this,Pm,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?G(this,Pm).getEvent(r.topics[0]):null;if(n)try{return new k3(r,G(this,Pm),n)}catch(s){return new ste(r,s)}return r})}}Pm=new WeakMap;var k1;class j3 extends A1{constructor(r,n,s){super(s,n);ve(this,k1);se(this,k1,r)}async wait(r,n){const s=await super.wait(r,n);return s==null?null:new YNe(G(this,k1),this.provider,s)}}k1=new WeakMap;class ite extends xX{constructor(r,n,s,i){super(r,n,s);be(this,"log");ut(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class JNe extends ite{constructor(e,r,n,s,i){super(e,r,n,new k3(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);ut(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const AL=BigInt(0);function ote(t){return t&&typeof t.call=="function"}function ate(t){return t&&typeof t.estimateGas=="function"}function PP(t){return t&&typeof t.resolveName=="function"}function cte(t){return t&&typeof t.sendTransaction=="function"}function ute(t){if(t!=null){if(PP(t))return t;if(t.provider)return t.provider}}var j1;class QNe{constructor(e,r,n){ve(this,j1);be(this,"fragment");if(ut(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const s=sp(e.runner,"resolveName"),i=PP(s)?s:null;se(this,j1,(async function(){const o=await Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(l,d)=>l==="address"?Array.isArray(d)?Promise.all(d.map(f=>Ms(f,i))):Ms(d,i):d)));return e.interface.encodeFilterTopics(r,o)})())}getTopicFilter(){return G(this,j1)}}j1=new WeakMap;function sp(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function lh(t){return t==null?null:t.provider||null}async function lte(t,e){const r=Es.dereference(t,"overrides");pe(typeof r=="object","invalid overrides parameter","overrides",t);const n=oT(r);return pe(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),pe(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function XNe(t,e,r){const n=sp(t,"resolveName"),s=PP(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(r[o],(a,c)=>(c=Es.dereference(c,a),a==="address"?Ms(c,s):c))))}function e8e(t){const e=async function(o){const a=await lte(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Ms(a.from,ute(t.runner)));const c=t.interface,u=Ye(a.value||AL,"overrides.value")===AL,l=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!l&&!u&&pe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),pe(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data);const d=c.receive||c.fallback&&c.fallback.payable;return pe(d||u,"cannot send value to non-payable fallback","overrides.value",a.value),pe(c.fallback||l,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){const a=sp(t.runner,"call");Pe(ote(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(u){throw E3(u)&&u.data?t.interface.makeError(u.data,c):u}},n=async function(o){const a=t.runner;Pe(cte(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),u=lh(t.runner);return new j3(t.interface,u,c)},s=async function(o){const a=sp(t.runner,"estimateGas");return Pe(ate(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return ut(i,{_contract:t,estimateGas:s,populateTransaction:e,send:n,staticCall:r}),i}function t8e(t,e){const r=function(...u){const l=t.interface.getFunction(e,u);return Pe(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),l},n=async function(...u){const l=r(...u);let d={};if(l.inputs.length+1===u.length&&(d=await lte(u.pop()),d.from&&(d.from=await Ms(d.from,ute(t.runner)))),l.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await XNe(t.runner,l.inputs,u);return Object.assign({},d,await Ns({to:t.getAddress(),data:t.interface.encodeFunctionData(l,f)}))},s=async function(...u){const l=await a(...u);return l.length===1?l[0]:l},i=async function(...u){const l=t.runner;Pe(cte(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await l.sendTransaction(await n(...u)),f=lh(t.runner);return new j3(t.interface,f,d)},o=async function(...u){const l=sp(t.runner,"estimateGas");return Pe(ate(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await n(...u))},a=async function(...u){const l=sp(t.runner,"call");Pe(ote(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await n(...u);let f="0x";try{f=await l.call(d)}catch(p){throw E3(p)&&p.data?t.interface.makeError(p.data,d):p}const h=r(...u);return t.interface.decodeFunctionResult(h,f)},c=async(...u)=>r(...u).constant?await s(...u):await i(...u);return ut(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return Pe(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function r8e(t,e){const r=function(...s){const i=t.interface.getEvent(e,s);return Pe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new QNe(t,r(...s),s)};return ut(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return Pe(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const aT=Symbol.for("_ethersInternal_contract"),dte=new WeakMap;function n8e(t,e){dte.set(t[aT],e)}function Li(t){return dte.get(t[aT])}function s8e(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function D3(t,e){let r,n=null;if(Array.isArray(e)){const i=function(o){if(Ar(o,32))return o;const a=t.interface.getEvent(o);return pe(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?r=[null]:typeof e=="string"?Ar(e,32)?r=[e]:(n=t.interface.getEvent(e),pe(n,"unknown fragment","event",e),r=[n.topicHash]):s8e(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):pe(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:r}}async function Ub(t,e){const{subs:r}=Li(t);return r.get((await D3(t,e)).tag)||null}async function CL(t,e,r){const n=lh(t.runner);Pe(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await D3(t,r),{addr:a,subs:c}=Li(t);let u=c.get(i);if(!u){const d={address:a||t,topics:o},f=y=>{let E=s;if(E==null)try{E=t.interface.getEvent(y.topics[0])}catch{}if(E){const w=E,b=s?t.interface.decodeEventLog(s,y.data,y.topics):[];xN(t,r,b,g=>new JNe(t,g,r,w,y))}else xN(t,r,[],w=>new ite(t,w,r,y))};let h=[];u={tag:i,listeners:[],start:()=>{h.length||h.push(n.on(d,f))},stop:async()=>{if(h.length==0)return;let y=h;h=[],await Promise.all(y),n.off(d,f)}},c.set(i,u)}return u}let PN=Promise.resolve();async function i8e(t,e,r,n){await PN;const s=await Ub(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(r);n&&c.push(n(a?null:o));try{o.call(t,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Li(t).subs.delete(s.tag)),i>0}async function xN(t,e,r,n){try{await PN}catch{}const s=i8e(t,e,r,n);return PN=s,await s}const Vv=["then"];var AW;AW=aT;const fw=class fw{constructor(e,r,n,s){be(this,"target");be(this,"interface");be(this,"runner");be(this,"filters");be(this,AW);be(this,"fallback");pe(typeof e=="string"||gee(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=TN.from(r);ut(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,aT,{value:{}});let o,a=null,c=null;if(s){const d=lh(n);c=new j3(this.interface,d,s)}let u=new Map;if(typeof e=="string")if(Ar(e))a=e,o=Promise.resolve(e);else{const d=sp(n,"resolveName");if(!PP(d))throw Ur("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(f=>{if(f==null)throw Ur("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Li(this).addr=f,f})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Li(this).addr=d,d});n8e(this,{addrPromise:o,addr:a,deployTx:c,subs:u});const l=new Proxy({},{get:(d,f,h)=>{if(typeof f=="symbol"||Vv.indexOf(f)>=0)return Reflect.get(d,f,h);try{return this.getEvent(f)}catch(p){if(!Vn(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>Vv.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return ut(this,{filters:l}),ut(this,{fallback:i.receive||i.fallback?e8e(this):null}),new Proxy(this,{get:(d,f,h)=>{if(typeof f=="symbol"||f in d||Vv.indexOf(f)>=0)return Reflect.get(d,f,h);try{return d.getFunction(f)}catch(p){if(!Vn(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(d,f)=>typeof f=="symbol"||f in d||Vv.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new fw(this.target,this.interface,e)}attach(e){return new fw(e,this.interface,this.runner)}async getAddress(){return await Li(this).addrPromise}async getDeployedCode(){const e=lh(this.runner);Pe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=lh(this.runner);return Pe(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Li(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),t8e(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),r8e(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=Li(this),o=s||await i,{fragment:a,topics:c}=await D3(this,e),u={address:o,topics:c,fromBlock:r,toBlock:n},l=lh(this.runner);return Pe(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(u)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new k3(d,this.interface,f)}catch(h){return new ste(d,h)}return new dE(d,l)})}async on(e,r){const n=await CL(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await CL(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await xN(this,e,r,null)}async listenerCount(e){if(e){const s=await Ub(this,e);return s?s.listeners.length:0}const{subs:r}=Li(this);let n=0;for(const{listeners:s}of r.values())n+=s.length;return n}async listeners(e){if(e){const s=await Ub(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:r}=Li(this);let n=[];for(const{listeners:s}of r.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,r){const n=await Ub(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Li(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await Ub(this,e);if(!r)return this;r.stop(),Li(this).subs.delete(r.tag)}else{const{subs:r}=Li(this);for(const{tag:n,stop:s}of r.values())s(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends fw{constructor(s,i=null){super(s,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let ON=fw;function o8e(){return ON}class em extends o8e(){}function q5(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):pe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class a8e{constructor(e){be(this,"name");ut(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const fte=new RegExp("^(ipfs)://(.*)$","i"),SL=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),fte,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Kl,Sh,Zl,S0,ET,hte;const D0=class D0{constructor(e,r,n){ve(this,Zl);be(this,"provider");be(this,"address");be(this,"name");ve(this,Kl);ve(this,Sh);ut(this,{provider:e,address:r,name:n}),se(this,Kl,null),se(this,Sh,new em(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return G(this,Kl)==null&&se(this,Kl,(async()=>{try{return await G(this,Sh).supportsInterface("0x9061b923")}catch(e){if(Vn(e,"CALL_EXCEPTION"))return!1;throw se(this,Kl,null),e}})()),await G(this,Kl)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await Re(this,Zl,S0).call(this,"addr(bytes32)");return i==null||i===m1?null:i}catch(i){if(Vn(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await Re(this,Zl,S0).call(this,"addr(bytes32,uint)",[i]);if(Ar(o,20))return or(o)}let r=null;for(const i of this.provider.plugins)if(i instanceof a8e&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await Re(this,Zl,S0).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await r.decodeAddress(e,n);if(s!=null)return s;Pe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await Re(this,Zl,S0).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await Re(this,Zl,S0).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const s=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${s}://${l5e("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;Pe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<SL.length;n++){const s=r.match(SL[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=q5(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const u=c[1],l=new em(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const m=await l.ownerOf(u);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(i==="erc1155"){const m=await l.balanceOf(a,u);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let d=await l[o](u);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",Id(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=q5(d)),e.push({type:"metadata-url",value:d});let f={};const h=await new Fu(d).send();h.assertOk();try{f=h.bodyJson}catch{try{e.push({type:"!metadata",value:h.bodyText})}catch{const E=h.body;return E&&e.push({type:"!metadata",value:Fe(E)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let p=f.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(fte)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=q5(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return Pe(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var s;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await Re(s=D0,ET,hte).call(s,e,n);if(i!=null){const o=new D0(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Kl=new WeakMap,Sh=new WeakMap,Zl=new WeakSet,S0=async function(e,r){r=(r||[]).slice();const n=G(this,Sh).interface;r.unshift(SN(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),Pe(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[_Ne(this.name,255),n.encodeFunctionData(s,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await G(this,Sh)[e](...r);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Vn(i,"CALL_EXCEPTION"))throw i}return null},ET=new WeakSet,hte=async function(e,r){const n=await D0.getEnsAddress(e);try{const i=await new em(n,["function resolver(bytes32) view returns (address)"],e).resolver(SN(r),{enableCcipRead:!0});return i===m1?null:i}catch(s){throw s}return null},ve(D0,ET);let cT=D0;const IL=BigInt(0);function Lt(t,e){return(function(r){return r==null?e:t(r)})}function C1(t,e){return(r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))})}function fE(t,e){return(r=>{const n={};for(const s in t){let i=s;if(e&&s in e&&!(i in r)){for(const o of e[s])if(o in r){i=o;break}}try{const o=t[s](r[i]);o!==void 0&&(n[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Pe(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:r})}}return n})}function c8e(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}pe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function ug(t){return pe(Ar(t,!0),"invalid data","value",t),t}function $n(t){return pe(Ar(t,32),"invalid hash","value",t),t}const u8e=fE({address:or,blockHash:$n,blockNumber:At,data:ug,index:At,removed:Lt(c8e,!1),topics:C1($n),transactionHash:$n,transactionIndex:At},{index:["logIndex"]});function l8e(t){return u8e(t)}const d8e=fE({hash:Lt($n),parentHash:$n,parentBeaconBlockRoot:Lt($n,null),number:At,timestamp:At,nonce:Lt(ug),difficulty:Ye,gasLimit:Ye,gasUsed:Ye,stateRoot:Lt($n,null),receiptsRoot:Lt($n,null),blobGasUsed:Lt(Ye,null),excessBlobGas:Lt(Ye,null),miner:Lt(or),prevRandao:Lt($n,null),extraData:ug,baseFeePerGas:Lt(Ye)},{prevRandao:["mixHash"]});function f8e(t){const e=d8e(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:pte(r)),e}const h8e=fE({transactionIndex:At,blockNumber:At,transactionHash:$n,address:or,topics:C1($n),data:ug,index:At,blockHash:$n},{index:["logIndex"]});function p8e(t){return h8e(t)}const m8e=fE({to:Lt(or,null),from:Lt(or,null),contractAddress:Lt(or,null),index:At,root:Lt(Fe),gasUsed:Ye,blobGasUsed:Lt(Ye,null),logsBloom:Lt(ug),blockHash:$n,hash:$n,logs:C1(p8e),blockNumber:At,cumulativeGasUsed:Ye,effectiveGasPrice:Lt(Ye),blobGasPrice:Lt(Ye,null),status:Lt(At),type:Lt(At,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function g8e(t){return m8e(t)}function pte(t){t.to&&Ye(t.to)===IL&&(t.to="0x0000000000000000000000000000000000000000");const e=fE({hash:$n,index:Lt(At,void 0),type:r=>r==="0x"||r==null?0:At(r),accessList:Lt(wp,null),blobVersionedHashes:Lt(C1($n,!0),null),authorizationList:Lt(C1(r=>{let n;if(r.signature)n=r.signature;else{let s=r.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},r,{yParity:s})}return{address:or(r.address),chainId:Ye(r.chainId),nonce:Ye(r.nonce),signature:So.from(n)}},!1),null),blockHash:Lt($n,null),blockNumber:Lt(At,null),transactionIndex:Lt(At,null),from:or,gasPrice:Lt(Ye),maxPriorityFeePerGas:Lt(Ye),maxFeePerGas:Lt(Ye),maxFeePerBlobGas:Lt(Ye,null),gasLimit:Ye,to:Lt(or,null),value:Ye,nonce:At,data:ug,creates:Lt(or,null),chainId:Lt(Ye,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=sRe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=So.from(t.signature):e.signature=So.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Ye(e.blockHash)===IL&&(e.blockHash=null),e}const y8e="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class hE{constructor(e){be(this,"name");ut(this,{name:e})}clone(){return new hE(this.name)}}class xP extends hE{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);be(this,"effectiveBlock");be(this,"txBase");be(this,"txCreate");be(this,"txDataZero");be(this,"txDataNonzero");be(this,"txAccessListStorageKey");be(this,"txAccessListAddress");const s={effectiveBlock:r};function i(o,a){let c=(n||{})[o];c==null&&(c=a),pe(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),ut(this,s)}clone(){return new xP(this.effectiveBlock,this)}}class OP extends hE{constructor(r,n){super("org.ethers.plugins.network.Ens");be(this,"address");be(this,"targetNetwork");ut(this,{address:r||y8e,targetNetwork:n??1})}clone(){return new OP(this.address,this.targetNetwork)}}var D1,M1;class b8e extends hE{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ve(this,D1);ve(this,M1);se(this,D1,r),se(this,M1,n)}get url(){return G(this,D1)}get processFunc(){return G(this,M1)}clone(){return this}}D1=new WeakMap,M1=new WeakMap;const z5=new Map;var xm,Om,Yl;const M0=class M0{constructor(e,r){ve(this,xm);ve(this,Om);ve(this,Yl);se(this,xm,e),se(this,Om,Ye(r)),se(this,Yl,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return G(this,xm)}set name(e){se(this,xm,e)}get chainId(){return G(this,Om)}set chainId(e){se(this,Om,Ye(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Ye(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Ye(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Ye(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(G(this,Yl).values())}attachPlugin(e){if(G(this,Yl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return G(this,Yl).set(e.name,e.clone()),this}getPlugin(e){return G(this,Yl).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new M0(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new xP;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const s=wp(e.accessList);for(const i in s)n+=r.txAccessListAddress+r.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(w8e(),e==null)return M0.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=z5.get(e);if(r)return r();if(typeof e=="bigint")return new M0("unknown",e);pe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){pe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new M0(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new OP(e.ensAddress,e.ensNetwork)),r}pe(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=z5.get(e);n&&pe(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),z5.set(e,r)}};xm=new WeakMap,Om=new WeakMap,Yl=new WeakMap;let sc=M0;function TL(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function PL(t){return new b8e(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([n.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:TL(a.maxFee,9),maxPriorityFeePerGas:TL(a.maxPriorityFee,9)}}catch(i){Pe(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let xL=!1;function w8e(){if(xL)return;xL=!0;function t(e,r,n){const s=function(){const i=new sc(e,r);return n.ensNetwork!=null&&i.attachPlugin(new OP(null,n.ensNetwork)),i.attachPlugin(new xP),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};sc.register(e,s),sc.register(r,s),n.altNames&&n.altNames.forEach(i=>{sc.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[PL("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[PL("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function RN(t){return JSON.parse(JSON.stringify(t))}var gu,yo,Jl,Va,Rm,zS;class E8e{constructor(e){ve(this,Rm);ve(this,gu);ve(this,yo);ve(this,Jl);ve(this,Va);se(this,gu,e),se(this,yo,null),se(this,Jl,4e3),se(this,Va,-2)}get pollingInterval(){return G(this,Jl)}set pollingInterval(e){se(this,Jl,e)}start(){G(this,yo)||(se(this,yo,G(this,gu)._setTimeout(Re(this,Rm,zS).bind(this),G(this,Jl))),Re(this,Rm,zS).call(this))}stop(){G(this,yo)&&(G(this,gu)._clearTimeout(G(this,yo)),se(this,yo,null))}pause(e){this.stop(),e&&se(this,Va,-2)}resume(){this.start()}}gu=new WeakMap,yo=new WeakMap,Jl=new WeakMap,Va=new WeakMap,Rm=new WeakSet,zS=async function(){try{const e=await G(this,gu).getBlockNumber();if(G(this,Va)===-2){se(this,Va,e);return}if(e!==G(this,Va)){for(let r=G(this,Va)+1;r<=e;r++){if(G(this,yo)==null)return;await G(this,gu).emit("block",r)}se(this,Va,e)}}catch{}G(this,yo)!=null&&se(this,yo,G(this,gu)._setTimeout(Re(this,Rm,zS).bind(this),G(this,Jl)))};var Ih,Th,Ql;class M3{constructor(e){ve(this,Ih);ve(this,Th);ve(this,Ql);se(this,Ih,e),se(this,Ql,!1),se(this,Th,r=>{this._poll(r,G(this,Ih))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){G(this,Ql)||(se(this,Ql,!0),G(this,Th).call(this,-2),G(this,Ih).on("block",G(this,Th)))}stop(){G(this,Ql)&&(se(this,Ql,!1),G(this,Ih).off("block",G(this,Th)))}pause(e){this.stop()}resume(){this.start()}}Ih=new WeakMap,Th=new WeakMap,Ql=new WeakMap;var Nm,yu;class v8e extends M3{constructor(r,n){super(r);ve(this,Nm);ve(this,yu);se(this,Nm,n),se(this,yu,-2)}pause(r){r&&se(this,yu,-2),super.pause(r)}async _poll(r,n){const s=await n.getBlock(G(this,Nm));s!=null&&(G(this,yu)===-2?se(this,yu,s.number):s.number>G(this,yu)&&(n.emit(G(this,Nm),s.number),se(this,yu,s.number)))}}Nm=new WeakMap,yu=new WeakMap;var vT;class _8e extends M3{constructor(r,n){super(r);ve(this,vT);se(this,vT,RN(n))}async _poll(r,n){throw new Error("@TODO")}}vT=new WeakMap;var Bm;class A8e extends M3{constructor(r,n){super(r);ve(this,Bm);se(this,Bm,n)}async _poll(r,n){const s=await n.getTransactionReceipt(G(this,Bm));s&&n.emit(G(this,Bm),s)}}Bm=new WeakMap;var bu,km,jm,Xl,bo,_T,mte;class U3{constructor(e,r){ve(this,_T);ve(this,bu);ve(this,km);ve(this,jm);ve(this,Xl);ve(this,bo);se(this,bu,e),se(this,km,RN(r)),se(this,jm,Re(this,_T,mte).bind(this)),se(this,Xl,!1),se(this,bo,-2)}start(){G(this,Xl)||(se(this,Xl,!0),G(this,bo)===-2&&G(this,bu).getBlockNumber().then(e=>{se(this,bo,e)}),G(this,bu).on("block",G(this,jm)))}stop(){G(this,Xl)&&(se(this,Xl,!1),G(this,bu).off("block",G(this,jm)))}pause(e){this.stop(),e&&se(this,bo,-2)}resume(){this.start()}}bu=new WeakMap,km=new WeakMap,jm=new WeakMap,Xl=new WeakMap,bo=new WeakMap,_T=new WeakSet,mte=async function(e){if(G(this,bo)===-2)return;const r=RN(G(this,km));r.fromBlock=G(this,bo)+1,r.toBlock=e;const n=await G(this,bu).getLogs(r);if(n.length===0){G(this,bo)<e-60&&se(this,bo,e-60);return}for(const s of n)G(this,bu).emit(G(this,km),s),se(this,bo,s.blockNumber)};const C8e=BigInt(2),S8e=10;function Gv(t){return t&&typeof t.then=="function"}function $S(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}class gte{constructor(e){be(this,"name");ut(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function I8e(t){return JSON.parse(JSON.stringify(t))}function NN(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function $5(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ar(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:$S("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:$S("orphan",r),filter:I8e(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?NN(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(r.address){const s=[],i=[],o=a=>{Ar(a)?s.push(a):i.push((async()=>{s.push(await Ms(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),i.length&&await Promise.all(i),n.address=NN(s.map(a=>a.toLowerCase()))}return{filter:n,tag:$S("event",n),type:"event"}}pe(!1,"unknown ProviderEvent","event",t)}function V5(){return new Date().getTime()}const T8e={cacheTimeout:250,pollingInterval:4e3};var us,ed,ls,Dm,zi,Ph,td,wu,U1,wo,Mm,Um,Nt,Di,BN,kN,Lb,jN,Fb,VS;class P8e{constructor(e,r){ve(this,Nt);ve(this,us);ve(this,ed);ve(this,ls);ve(this,Dm);ve(this,zi);ve(this,Ph);ve(this,td);ve(this,wu);ve(this,U1);ve(this,wo);ve(this,Mm);ve(this,Um);if(se(this,Um,Object.assign({},T8e,r||{})),e==="any")se(this,Ph,!0),se(this,zi,null);else if(e){const n=sc.from(e);se(this,Ph,!1),se(this,zi,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else se(this,Ph,!1),se(this,zi,null);se(this,wu,-1),se(this,td,new Map),se(this,us,new Map),se(this,ed,new Map),se(this,ls,null),se(this,Dm,!1),se(this,U1,1),se(this,wo,new Map),se(this,Mm,!1)}get pollingInterval(){return G(this,Um).pollingInterval}get provider(){return this}get plugins(){return Array.from(G(this,ed).values())}attachPlugin(e){if(G(this,ed).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return G(this,ed).set(e.name,e.connect(this)),this}getPlugin(e){return G(this,ed).get(e)||null}get disableCcipRead(){return G(this,Mm)}set disableCcipRead(e){se(this,Mm,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],u=c.replace("{sender}",s).replace("{data}",i),l=new Fu(u);c.indexOf("{data}")===-1&&(l.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:a,urls:n});let d="unknown error",f;try{f=await l.send()}catch(h){o.push(h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:h}});continue}try{const h=f.bodyJson;if(h.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:h}),h.data;h.message&&(d=h.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:h})}catch{}Pe(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),o.push(d)}Pe(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new WNe(f8e(e),this)}_wrapLog(e,r){return new dE(l8e(e),this)}_wrapTransactionReceipt(e,r){return new tte(g8e(e),this)}_wrapTransactionResponse(e,r){return new A1(pte(e),this)}_detectNetwork(){Pe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Pe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=At(await Re(this,Nt,Di).call(this,{method:"getBlockNumber"}),"%response");return G(this,wu)>=0&&se(this,wu,e),e}_getAddress(e){return Ms(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ar(e))return Ar(e,32)?e:Xo(e);if(typeof e=="bigint"&&(e=At(e,"blockTag")),typeof e=="number")return e>=0?Xo(e):G(this,wu)>=0?Xo(G(this,wu)+e):this.getBlockNumber().then(r=>Xo(r+e));pe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?NN(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,u,l)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(n&&(u!=null||l!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),r.length&&(f.topics=r),u&&(f.fromBlock=u),l&&(f.toBlock=l),n&&(f.blockHash=n),f};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const r=oT(e),n=[];if(["to","from"].forEach(s=>{if(r[s]==null)return;const i=Ms(r[s],this);Gv(i)?n.push((async function(){r[s]=await i})()):r[s]=i}),r.blockTag!=null){const s=this._getBlockTag(r.blockTag);Gv(s)?n.push((async function(){r.blockTag=await s})()):r.blockTag=s}return n.length?(async function(){return await Promise.all(n),r})():r}async getNetwork(){if(G(this,zi)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw G(this,zi)===s&&se(this,zi,null),i}})();return se(this,zi,s),(await s).clone()}const e=G(this,zi),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(G(this,Ph)?(this.emit("network",n,r),G(this,zi)===e&&se(this,zi,Promise.resolve(n))):Pe(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await Ns({_block:Re(this,Nt,jN).call(this,"latest",!1),gasPrice:(async()=>{try{const l=await Re(this,Nt,Di).call(this,{method:"getGasPrice"});return Ye(l,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const l=await Re(this,Nt,Di).call(this,{method:"getPriorityFee"});return Ye(l,"%response")}catch{}return null})()});let a=null,c=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),a=u.baseFeePerGas*C8e+c),new _L(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new Fu(n.url),i=await n.processFunc(r,this,s);return new _L(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return Gv(r)&&(r=await r),Ye(await Re(this,Nt,Di).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Ns({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Re(this,Nt,kN).call(this,Re(this,Nt,BN).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Ye(await Re(this,Nt,Lb).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return At(await Re(this,Nt,Lb).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return Fe(await Re(this,Nt,Lb).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const s=Ye(r,"position");return Fe(await Re(this,Nt,Lb).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:s}=await Ns({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=XI.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:s}=await Ns({network:this.getNetwork(),params:Re(this,Nt,jN).call(this,e,!!r)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:r,params:n}=await Ns({network:this.getNetwork(),params:Re(this,Nt,Di).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Ns({network:this.getNetwork(),params:Re(this,Nt,Di).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await Re(this,Nt,Di).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Ns({network:this.getNetwork(),result:Re(this,Nt,Di).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:Fe(r)}async getLogs(e){let r=this._getFilter(e);Gv(r)&&(r=await r);const{network:n,params:s}=await Ns({network:this.getNetwork(),params:Re(this,Nt,Di).call(this,{method:"getLogs",filter:r})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){Pe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await cT.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=or(e);const r=SN(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await cT.getEnsAddress(this),i=await new em(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===m1)return null;const a=await new em(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(Vn(n,"BAD_DATA")&&n.value==="0x"||Vn(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const s=r??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=(async u=>{try{const l=await this.getTransactionReceipt(e);if(l!=null&&u-l.blockNumber+1>=s){i(l),a&&(clearTimeout(a),a=null);return}}catch(l){console.log("EEE",l)}this.once("block",c)});n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Ur("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){Pe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=G(this,wo).get(e);r&&(r.timer&&clearTimeout(r.timer),G(this,wo).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=qg(this,U1)._++,s=()=>{G(this,wo).delete(n),e()};if(this.paused)G(this,wo).set(n,{timer:null,func:s,time:r});else{const i=setTimeout(s,r);G(this,wo).set(n,{timer:i,func:s,time:V5()})}return n}_forEachSubscriber(e){for(const r of G(this,us).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new gte(e.type);case"block":{const r=new E8e(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new v8e(this,e.type);case"event":return new U3(this,e.filter);case"transaction":return new A8e(this,e.hash);case"orphan":return new _8e(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of G(this,us).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),G(this,ls)!=null&&r.pause(G(this,ls));break}}async on(e,r){const n=await Re(this,Nt,VS).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,G(this,ls)!=null&&n.subscriber.pause(G(this,ls))),this}async once(e,r){const n=await Re(this,Nt,VS).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,G(this,ls)!=null&&n.subscriber.pause(G(this,ls))),this}async emit(e,...r){const n=await Re(this,Nt,Fb).call(this,e,r);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{const a=new xX(this,o?null:i,e);try{i.call(this,...r,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),G(this,us).delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await Re(this,Nt,Fb).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of G(this,us).values())r+=n.length;return r}async listeners(e){if(e){const n=await Re(this,Nt,Fb).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let r=[];for(const{listeners:n}of G(this,us).values())r=r.concat(n.map(({listener:s})=>s));return r}async off(e,r){const n=await Re(this,Nt,Fb).call(this,e);if(!n)return this;if(r){const s=n.listeners.map(({listener:i})=>i).indexOf(r);s>=0&&n.listeners.splice(s,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),G(this,us).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:s}=await Re(this,Nt,VS).call(this,e);n&&s.stop(),G(this,us).delete(r)}else for(const[r,{started:n,subscriber:s}]of G(this,us))n&&s.stop(),G(this,us).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return G(this,Dm)}destroy(){this.removeAllListeners();for(const e of G(this,wo).keys())this._clearTimeout(e);se(this,Dm,!0)}get paused(){return G(this,ls)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(se(this,wu,-1),G(this,ls)!=null){if(G(this,ls)==!!e)return;Pe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),se(this,ls,!!e);for(const r of G(this,wo).values())r.timer&&clearTimeout(r.timer),r.time=V5()-r.time}resume(){if(G(this,ls)!=null){this._forEachSubscriber(e=>e.resume()),se(this,ls,null);for(const e of G(this,wo).values()){let r=e.time;r<0&&(r=0),e.time=V5(),setTimeout(e.func,r)}}}}us=new WeakMap,ed=new WeakMap,ls=new WeakMap,Dm=new WeakMap,zi=new WeakMap,Ph=new WeakMap,td=new WeakMap,wu=new WeakMap,U1=new WeakMap,wo=new WeakMap,Mm=new WeakMap,Um=new WeakMap,Nt=new WeakSet,Di=async function(e){const r=G(this,Um).cacheTimeout;if(r<0)return await this._perform(e);const n=$S(e.method,e);let s=G(this,td).get(n);return s||(s=this._perform(e),G(this,td).set(n,s),setTimeout(()=>{G(this,td).get(n)===s&&G(this,td).delete(n)},r)),await s},BN=async function(e,r,n){Pe(n<S8e,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const s=oT(e);try{return Fe(await this._perform({method:"call",transaction:s,blockTag:r}))}catch(i){if(!this.disableCcipRead&&E3(i)&&i.data&&n>=0&&r==="latest"&&s.to!=null&&Xr(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Ms(s.to,this);let c;try{c=B8e(Xr(i.data,4))}catch(d){Pe(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}Pe(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(s,c.calldata,c.urls);Pe(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const l={to:a,data:en([c.selector,N8e([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const d=await Re(this,Nt,BN).call(this,l,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:d}),d}}throw i}},kN=async function(e){const{value:r}=await Ns({network:this.getNetwork(),value:e});return r},Lb=async function(e,r,n){let s=this._getAddress(r),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await Re(this,Nt,kN).call(this,Re(this,Nt,Di).call(this,Object.assign(e,{address:s,blockTag:i})))},jN=async function(e,r){if(Ar(e,32))return await Re(this,Nt,Di).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await Re(this,Nt,Di).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},Fb=async function(e,r){let n=await $5(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await $5({orphan:"drop-log",log:r[0]},this)),G(this,us).get(n.tag)||null},VS=async function(e){const r=await $5(e,this),n=r.tag;let s=G(this,us).get(n);return s||(s={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},G(this,us).set(n,s)),s};function x8e(t,e){try{const r=DN(t,e);if(r)return YI(r)}catch{}return null}function DN(t,e){if(t==="0x")return null;try{const r=At(Xr(t,e,e+32)),n=At(Xr(t,r,r+32));return Xr(t,r+32,r+32+n)}catch{}return null}function OL(t){const e=An(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function O8e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const R8e=new Uint8Array([]);function N8e(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(R8e),r+=32;for(let n=0;n<t.length;n++){const s=Rt(t[n]);e[n]=OL(r),e.push(OL(s.length)),e.push(O8e(s)),r+=32+Math.ceil(s.length/32)*32}return en(e)}const RL="0x0000000000000000000000000000000000000000000000000000000000000000";function B8e(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Pe(Y0(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Xr(t,0,32);Pe(Xr(r,0,12)===Xr(RL,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Xr(r,12);try{const n=[],s=At(Xr(t,32,64)),i=At(Xr(t,s,s+32)),o=Xr(t,s+32);for(let a=0;a<i;a++){const c=x8e(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{Pe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=DN(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{Pe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Pe(Xr(t,100,128)===Xr(RL,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Xr(t,96,100);try{const n=DN(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{Pe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function hf(t,e){if(t.provider)return t.provider;Pe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function NL(t,e){let r=oT(e);if(r.to!=null&&(r.to=Ms(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),Ms(n,t)]).then(([s,i])=>(pe(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else r.from=t.getAddress();return await Ns(r)}class k8e{constructor(e){be(this,"provider");ut(this,{provider:e||null})}async getNonce(e){return hf(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await NL(this,e)}async populateTransaction(e){const r=hf(this,"populateTransaction"),n=await NL(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const o=Ye(n.chainId);pe(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?pe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&pe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();Pe(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Pe(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):Pe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Ns(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await hf(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return hf(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return hf(this,"call").call(await this.populateCall(e))}async resolveName(e){return await hf(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=hf(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=XI.from(n);return await r.broadcastTransaction(await this.signTransaction(s))}authorize(e){Pe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function j8e(t){return JSON.parse(JSON.stringify(t))}var Os,Ga,xh,rd,Oh,Lm,xd,MN,UN;class yte{constructor(e){ve(this,xd);ve(this,Os);ve(this,Ga);ve(this,xh);ve(this,rd);ve(this,Oh);ve(this,Lm);se(this,Os,e),se(this,Ga,null),se(this,xh,Re(this,xd,MN).bind(this)),se(this,rd,!1),se(this,Oh,null),se(this,Lm,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){G(this,rd)||(se(this,rd,!0),Re(this,xd,MN).call(this,-2))}stop(){G(this,rd)&&(se(this,rd,!1),se(this,Lm,!0),Re(this,xd,UN).call(this),G(this,Os).off("block",G(this,xh)))}pause(e){e&&Re(this,xd,UN).call(this),G(this,Os).off("block",G(this,xh))}resume(){this.start()}}Os=new WeakMap,Ga=new WeakMap,xh=new WeakMap,rd=new WeakMap,Oh=new WeakMap,Lm=new WeakMap,xd=new WeakSet,MN=async function(e){try{G(this,Ga)==null&&se(this,Ga,this._subscribe(G(this,Os)));let r=null;try{r=await G(this,Ga)}catch(i){if(!Vn(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){se(this,Ga,null),G(this,Os)._recoverSubscriber(this,this._recover(G(this,Os)));return}const n=await G(this,Os).getNetwork();if(G(this,Oh)||se(this,Oh,n),G(this,Oh).chainId!==n.chainId)throw new Error("chaid changed");if(G(this,Lm))return;const s=await G(this,Os).send("eth_getFilterChanges",[r]);await this._emitResults(G(this,Os),s)}catch(r){console.log("@TODO",r)}G(this,Os).once("block",G(this,xh))},UN=function(){const e=G(this,Ga);e&&(se(this,Ga,null),e.then(r=>{G(this,Os).destroyed||G(this,Os).send("eth_uninstallFilter",[r])}))};var Rh;class D8e extends yte{constructor(r,n){super(r);ve(this,Rh);se(this,Rh,j8e(n))}_recover(r){return new U3(r,G(this,Rh))}async _subscribe(r){return await r.send("eth_newFilter",[G(this,Rh)])}async _emitResults(r,n){for(const s of n)r.emit(G(this,Rh),r._wrapLog(s,r._network))}}Rh=new WeakMap;class M8e extends yte{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const U8e="bigint,boolean,function,number,string,symbol".split(/,/g);function GS(t){if(t==null||U8e.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(GS);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function L8e(t){return new Promise(e=>{setTimeout(e,t)})}function Wp(t){return t&&t.toLowerCase()}function BL(t){return t&&typeof t.pollingInterval=="number"}const bte={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class tm extends k8e{constructor(r,n){super(r);be(this,"address");n=or(n),ut(this,{address:n})}connect(r){Pe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=GS(r),s=[];if(n.from){const o=n.from;s.push((async()=>{const a=await Ms(o,this.provider);pe(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;s.push((async()=>{n.to=await Ms(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(r);return await new Promise((i,o)=>{const a=[1e3,100];let c=0;const u=async()=>{try{const l=await this.provider.getTransaction(s);if(l!=null){i(l.replaceableTransaction(n));return}}catch(l){if(Vn(l,"CANCELLED")||Vn(l,"BAD_DATA")||Vn(l,"NETWORK_ERROR")||Vn(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=s,o(l);return}if(Vn(l,"INVALID_ARGUMENT")&&(c++,l.info==null&&(l.info={}),l.info.sendTransactionHash=s,c>10)){o(l);return}this.provider.emit("error",Ur("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{u()},a.pop()||4e3)};u()})}async signTransaction(r){const n=GS(r);if(n.from){const i=await Ms(n.from,this.provider);pe(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(r){const n=typeof r=="string"?lc(r):r;return await this.provider.send("personal_sign",[Fe(n),this.address.toLowerCase()])}async signTypedData(r,n,s){const i=GS(s),o=await iT.resolveNames(r,n,i,async a=>{const c=await Ms(a);return pe(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(iT.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?lc(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Fe(n)])}}var Nh,Fm,Eu,Wa,Yo,Eo,ri,L1,LN;class F8e extends P8e{constructor(r,n){super(r,n);ve(this,L1);ve(this,Nh);ve(this,Fm);ve(this,Eu);ve(this,Wa);ve(this,Yo);ve(this,Eo);ve(this,ri);se(this,Fm,1),se(this,Nh,Object.assign({},bte,n||{})),se(this,Eu,[]),se(this,Wa,null),se(this,Eo,null),se(this,ri,null);{let i=null;const o=new Promise(a=>{i=a});se(this,Yo,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(pe(!s||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&r!=null&&se(this,Eo,sc.from(r))):s&&(pe(r==null||s.matches(r),"staticNetwork MUST match network object","options",n),se(this,Eo,s))}_getOption(r){return G(this,Nh)[r]}get _network(){return Pe(G(this,Eo),"network is not available yet","NETWORK_ERROR"),G(this,Eo)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let s=r.transaction;if(s&&s.type!=null&&Ye(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},s,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(G(this,Eo))return G(this,Eo)}else return r;return G(this,ri)?await G(this,ri):this.ready?(se(this,ri,(async()=>{try{const n=sc.from(Ye(await this.send("eth_chainId",[])));return se(this,ri,null),n}catch(n){throw se(this,ri,null),n}})()),await G(this,ri)):(se(this,ri,(async()=>{const n={id:qg(this,Fm)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],se(this,ri,null)}catch(i){throw se(this,ri,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return sc.from(Ye(s.result));throw this.getRpcError(n,s)})()),await G(this,ri))}_start(){G(this,Yo)==null||G(this,Yo).resolve==null||(G(this,Yo).resolve(),se(this,Yo,null),(async()=>{for(;G(this,Eo)==null&&!this.destroyed;)try{se(this,Eo,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ur("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await L8e(1e3)}Re(this,L1,LN).call(this)})())}async _waitUntilReady(){if(G(this,Yo)!=null)return await G(this,Yo).promise}_getSubscriber(r){return r.type==="pending"?new M8e(this):r.type==="event"?this._getOption("polling")?new U3(this,r.filter):new D8e(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new gte("orphan"):super._getSubscriber(r)}get ready(){return G(this,Yo)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(r[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=Xo(Ye(r[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{r[s]!=null&&(n[s]=Fe(r[s]))}),r.accessList&&(n.accessList=wp(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(s=>s.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(s=>{const i=Eee(s);return{address:i.address,nonce:Xo(i.nonce),chainId:Xo(i.chainId),yParity:Xo(i.signature.yParity),r:Xo(i.signature.r),s:Xo(i.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Wp(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Wp(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Wp(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Wp(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Wp):r.filter.address=Wp(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:s}=r,{error:i}=n;if(s==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Ur("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return Ur("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=FN(i),u=_1.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return u.info={error:i,payload:r},u}const o=JSON.stringify(q8e(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return Ur("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ur("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ur("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ur("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return Ur("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?Ur("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):Ur("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(Ur("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const s=qg(this,Fm)._++,i=new Promise((o,a)=>{G(this,Eu).push({resolve:o,reject:a,payload:{method:r,params:n,id:s,jsonrpc:"2.0"}})});return Re(this,L1,LN).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new tm(this,i[r])}const{accounts:s}=await Ns({network:this.getNetwork(),accounts:n});r=or(r);for(const i of s)if(or(i)===r)return new tm(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new tm(this,n))}destroy(){G(this,Wa)&&(clearTimeout(G(this,Wa)),se(this,Wa,null));for(const{payload:r,reject:n}of G(this,Eu))n(Ur("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));se(this,Eu,[]),super.destroy()}}Nh=new WeakMap,Fm=new WeakMap,Eu=new WeakMap,Wa=new WeakMap,Yo=new WeakMap,Eo=new WeakMap,ri=new WeakMap,L1=new WeakSet,LN=function(){if(G(this,Wa))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");se(this,Wa,setTimeout(()=>{se(this,Wa,null);const n=G(this,Eu);for(se(this,Eu,[]);n.length;){const s=[n.shift()];for(;n.length&&s.length!==G(this,Nh).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>G(this,Nh).batchMaxSize){n.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:u}of s){if(this.destroyed){c(Ur("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const l=o.filter(d=>d.id===u.id)[0];if(l==null){const d=Ur("missing response for request","BAD_DATA",{value:o,info:{payload:u}});this.emit("error",d),c(d);continue}if("error"in l){c(this.getRpcError(u,l));continue}a(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},r))};var nd;class wte extends F8e{constructor(r,n){super(r,n);ve(this,nd);let s=this._getOption("pollingInterval");s==null&&(s=bte.pollingInterval),se(this,nd,s)}_getSubscriber(r){const n=super._getSubscriber(r);return BL(n)&&(n.pollingInterval=G(this,nd)),n}get pollingInterval(){return G(this,nd)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");se(this,nd,r),this._forEachSubscriber(n=>{BL(n)&&(n.pollingInterval=G(this,nd))})}}nd=new WeakMap;var Hm;class H8e extends wte{constructor(r,n,s){r==null&&(r="http://localhost:8545");super(n,s);ve(this,Hm);typeof r=="string"?se(this,Hm,new Fu(r)):se(this,Hm,r.clone())}_getConnection(){return G(this,Hm).clone()}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){const n=this._getConnection();n.body=JSON.stringify(r),n.setHeader("content-type","application/json");const s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}Hm=new WeakMap;function FN(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ar(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=FN(t[e]);if(r)return r}return null}if(typeof t=="string")try{return FN(JSON.parse(t))}catch{}return null}function HN(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)HN(t[r],e);if(typeof t=="string")try{return HN(JSON.parse(t),e)}catch{}}}function q8e(t){const e=[];return HN(t,e),e}var qm,zm;const Qf=class Qf extends wte{constructor(r,n,s){const i=Object.assign({},s??{},{batchMaxCount:1});pe(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,i);ve(this,qm);ve(this,zm);se(this,zm,null),s&&s.providerInfo&&se(this,zm,s.providerInfo),se(this,qm,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const l=new Error(u.message);throw l.code=u.code,l.data=u.data,l.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}})}get providerInfo(){return G(this,zm)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){pe(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await G(this,qm).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(s=>s.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await G(this,qm).call(this,"eth_requestAccounts",[])}catch(n){const s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new Qf(r.provider);const n=r.window?r.window:typeof window<"u"?window:null;if(n==null)return null;const s=r.anyProvider;if(s&&n.ethereum)return new Qf(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=r.timeout?r.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[];const u=f=>{c.push(f.detail),s&&l()},l=()=>{if(clearTimeout(d),c.length)if(r&&r.filter){const f=r.filter(c.map(h=>Object.assign({},h.info)));if(f==null)o(null);else if(f instanceof Qf)o(f);else{let h=null;if(f.uuid&&(h=c.filter(m=>f.uuid===m.info.uuid)[0]),h){const{provider:p,info:m}=h;o(new Qf(p,void 0,{providerInfo:m}))}else a(Ur("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:h}=c[0];o(new Qf(f,void 0,{providerInfo:h}))}else o(null);n.removeEventListener("eip6963:announceProvider",u)},d=setTimeout(()=>{l()},i);n.addEventListener("eip6963:announceProvider",u),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};qm=new WeakMap,zm=new WeakMap;let aw=Qf;const rm={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([rm.getAddresses(t),rm.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var n,s;const r=((n=e.rpcUrls.chainDefault)==null?void 0:n.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:rm.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(s=e.blockExplorers)==null?void 0:s.default.url],iconUrls:[Yi.NetworkImageIds[e.id]]}]})}};class L3{constructor(){this.initialized=!1}async getProvider(){return Promise.resolve(this.provider)}}class z8e extends L3{async initialize(){const e=te.getCaipNetworks(),{metadata:r,coinbasePreference:n}=Ce.state;try{const{createBaseAccountSDK:s}=await vn(async()=>{const{createBaseAccountSDK:o}=await import("./index-CUGaPOKi.js");return{createBaseAccountSDK:o}},__vite__mapDeps([53,1,2]),import.meta.url);if(typeof window>"u")return Promise.resolve();const i=s({appName:r==null?void 0:r.name,appLogoUrl:r==null?void 0:r.icons[0],appChainIds:(e==null?void 0:e.map(o=>o.id))||[1,84532],preference:{options:n??"all"}});return this.provider=i.getProvider(),this.initialized=!0,Promise.resolve()}catch(s){return console.error("Failed to import Coinbase Wallet SDK:",s),Promise.resolve()}}async getProvider(){return Promise.resolve(this.provider)}}var G5={},gy={},Oc={},Kp={},pf={},yy={},by={},kL;function Ete(){if(kL)return by;kL=1,Object.defineProperty(by,"__esModule",{value:!0}),by.getSDKVersion=void 0;const t=()=>"9.1.0";return by.getSDKVersion=t,by}var wy={},jL;function $8e(){if(jL)return wy;jL=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.generateRequestId=void 0;const t=n=>n.toString(16).padStart(2,"0"),e=n=>{const s=new Uint8Array(n/2);return window.crypto.getRandomValues(s),Array.from(s,t).join("")},r=()=>typeof window<"u"?e(10):new Date().getTime().toString(36);return wy.generateRequestId=r,wy}var DL;function vte(){if(DL)return yy;DL=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.MessageFormatter=void 0;const t=Ete(),e=$8e();class r{}return yy.MessageFormatter=r,r.makeRequest=(n,s)=>({id:(0,e.generateRequestId)(),method:n,params:s,env:{sdkVersion:(0,t.getSDKVersion)()}}),r.makeResponse=(n,s,i)=>({id:n,success:!0,version:i,data:s}),r.makeErrorResponse=(n,s,i)=>({id:n,success:!1,error:s,version:i}),yy}var mf={},ML;function vp(){if(ML)return mf;ML=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.RestrictedMethods=mf.Methods=void 0;var t;(function(r){r.sendTransactions="sendTransactions",r.rpcCall="rpcCall",r.getChainInfo="getChainInfo",r.getSafeInfo="getSafeInfo",r.getTxBySafeTxHash="getTxBySafeTxHash",r.getSafeBalances="getSafeBalances",r.signMessage="signMessage",r.signTypedMessage="signTypedMessage",r.getEnvironmentInfo="getEnvironmentInfo",r.getOffChainSignature="getOffChainSignature",r.requestAddressBook="requestAddressBook",r.wallet_getPermissions="wallet_getPermissions",r.wallet_requestPermissions="wallet_requestPermissions"})(t||(mf.Methods=t={}));var e;return(function(r){r.requestAddressBook="requestAddressBook"})(e||(mf.RestrictedMethods=e={})),mf}var UL;function V8e(){return UL||(UL=1,(function(t){var e=pf&&pf.__createBinding||(Object.create?(function(i,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,c,u)}):(function(i,o,a,c){c===void 0&&(c=a),i[c]=o[a]})),r=pf&&pf.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,i,a)};Object.defineProperty(t,"__esModule",{value:!0});const n=vte();class s{constructor(o=null,a=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:c,data:u,source:l})=>{const d=!u,f=!this.isServer&&l===window.parent,h=typeof u.version<"u"&&parseInt(u.version.split(".")[0]),p=typeof h=="number"&&h>=1;let m=!0;return Array.isArray(this.allowedOrigins)&&(m=this.allowedOrigins.find(y=>y.test(c))!==void 0),!d&&f&&p&&m},this.logIncomingMessage=c=>{console.info(`Safe Apps SDK v1: A message was received from origin ${c.origin}. `,c.data)},this.onParentMessage=c=>{this.isValidMessage(c)&&(this.debugMode&&this.logIncomingMessage(c),this.handleIncomingMessage(c.data))},this.handleIncomingMessage=c=>{const{id:u}=c,l=this.callbacks.get(u);l&&(l(c),this.callbacks.delete(u))},this.send=(c,u)=>{const l=n.MessageFormatter.makeRequest(c,u);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(l,"*"),new Promise((d,f)=>{this.callbacks.set(l.id,h=>{if(!h.success){f(new Error(h.error));return}d(h)})})},this.allowedOrigins=o,this.debugMode=a,this.isServer||window.addEventListener("message",this.onParentMessage)}}t.default=s,r(vp(),t)})(pf)),pf}var Ey={},gf={},vy={},LL;function G8e(){if(LL)return vy;LL=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.isObjectEIP712TypedData=void 0;const t=e=>typeof e=="object"&&e!=null&&"domain"in e&&"types"in e&&"message"in e;return vy.isObjectEIP712TypedData=t,vy}var W5={},FL;function W8e(){return FL||(FL=1,Object.defineProperty(W5,"__esModule",{value:!0})),W5}var K5={},yf={},bf={},Rc={},HL;function K8e(){if(HL)return Rc;HL=1;var t=Rc&&Rc.__awaiter||function(c,u,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function m(w){try{E(d.next(w))}catch(b){p(b)}}function y(w){try{E(d.throw(w))}catch(b){p(b)}}function E(w){w.done?h(w.value):f(w.value).then(m,y)}E((d=d.apply(c,u||[])).next())})};Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.insertParams=n,Rc.stringifyQuery=s,Rc.fetchData=o,Rc.getData=a;const e=c=>typeof c=="object"&&c!==null&&("code"in c||"statusCode"in c)&&"message"in c;function r(c,u,l){return c.replace(new RegExp(`\\{${u}\\}`,"g"),l)}function n(c,u){return u?Object.keys(u).reduce((l,d)=>r(l,d,String(u[d])),c):c}function s(c){if(!c)return"";const u=new URLSearchParams;Object.keys(c).forEach(d=>{c[d]!=null&&u.append(d,String(c[d]))});const l=u.toString();return l?`?${l}`:""}function i(c){return t(this,void 0,void 0,function*(){var u;let l;try{l=yield c.json()}catch{l={}}if(!c.ok){const d=e(l)?`CGW error - ${(u=l.code)!==null&&u!==void 0?u:l.statusCode}: ${l.message}`:`CGW error - status ${c.statusText}`;throw new Error(d)}return l})}function o(c,u,l,d,f){return t(this,void 0,void 0,function*(){const h=Object.assign({"Content-Type":"application/json"},d),p={method:u??"POST",headers:h};f&&(p.credentials=f),l!=null&&(p.body=typeof l=="string"?l:JSON.stringify(l));const m=yield fetch(c,p);return i(m)})}function a(c,u,l){return t(this,void 0,void 0,function*(){const d={method:"GET"};u&&(d.headers=Object.assign(Object.assign({},u),{"Content-Type":"application/json"})),l&&(d.credentials=l);const f=yield fetch(c,d);return i(f)})}return Rc}var qL;function Z8e(){if(qL)return bf;qL=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.postEndpoint=r,bf.putEndpoint=n,bf.deleteEndpoint=s,bf.getEndpoint=i;const t=K8e();function e(o,a,c,u){const l=(0,t.insertParams)(a,c),d=(0,t.stringifyQuery)(u);return`${o}${l}${d}`}function r(o,a,c){const u=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.fetchData)(u,"POST",c==null?void 0:c.body,c==null?void 0:c.headers,c==null?void 0:c.credentials)}function n(o,a,c){const u=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.fetchData)(u,"PUT",c==null?void 0:c.body,c==null?void 0:c.headers,c==null?void 0:c.credentials)}function s(o,a,c){const u=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.fetchData)(u,"DELETE",c==null?void 0:c.body,c==null?void 0:c.headers,c==null?void 0:c.credentials)}function i(o,a,c,u){if(u)return(0,t.getData)(u,void 0,c==null?void 0:c.credentials);const l=e(o,a,c==null?void 0:c.path,c==null?void 0:c.query);return(0,t.getData)(l,c==null?void 0:c.headers,c==null?void 0:c.credentials)}return bf}var _y={},zL;function Y8e(){return zL||(zL=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.DEFAULT_BASE_URL=void 0,_y.DEFAULT_BASE_URL="https://safe-client.safe.global"),_y}var Ay={},$L;function J8e(){if($L)return Ay;$L=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.ImplementationVersionState=void 0;var t;return(function(e){e.UP_TO_DATE="UP_TO_DATE",e.OUTDATED="OUTDATED",e.UNKNOWN="UNKNOWN"})(t||(Ay.ImplementationVersionState=t={})),Ay}var Nc={},VL;function Q8e(){if(VL)return Nc;VL=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.SafeAppSocialPlatforms=Nc.SafeAppFeatures=Nc.SafeAppAccessPolicyTypes=void 0;var t;(function(n){n.NoRestrictions="NO_RESTRICTIONS",n.DomainAllowlist="DOMAIN_ALLOWLIST"})(t||(Nc.SafeAppAccessPolicyTypes=t={}));var e;(function(n){n.BATCHED_TRANSACTIONS="BATCHED_TRANSACTIONS"})(e||(Nc.SafeAppFeatures=e={}));var r;return(function(n){n.TWITTER="TWITTER",n.GITHUB="GITHUB",n.DISCORD="DISCORD",n.TELEGRAM="TELEGRAM"})(r||(Nc.SafeAppSocialPlatforms=r={})),Nc}var wr={},GL;function X8e(){if(GL)return wr;GL=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.LabelValue=wr.StartTimeValue=wr.DurationType=wr.DetailedExecutionInfoType=wr.TransactionListItemType=wr.ConflictType=wr.TransactionInfoType=wr.SettingsInfoType=wr.TransactionTokenType=wr.TransferDirection=wr.TransactionStatus=wr.Operation=void 0;var t;(function(f){f[f.CALL=0]="CALL",f[f.DELEGATE=1]="DELEGATE"})(t||(wr.Operation=t={}));var e;(function(f){f.AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",f.AWAITING_EXECUTION="AWAITING_EXECUTION",f.CANCELLED="CANCELLED",f.FAILED="FAILED",f.SUCCESS="SUCCESS"})(e||(wr.TransactionStatus=e={}));var r;(function(f){f.INCOMING="INCOMING",f.OUTGOING="OUTGOING",f.UNKNOWN="UNKNOWN"})(r||(wr.TransferDirection=r={}));var n;(function(f){f.ERC20="ERC20",f.ERC721="ERC721",f.NATIVE_COIN="NATIVE_COIN"})(n||(wr.TransactionTokenType=n={}));var s;(function(f){f.SET_FALLBACK_HANDLER="SET_FALLBACK_HANDLER",f.ADD_OWNER="ADD_OWNER",f.REMOVE_OWNER="REMOVE_OWNER",f.SWAP_OWNER="SWAP_OWNER",f.CHANGE_THRESHOLD="CHANGE_THRESHOLD",f.CHANGE_IMPLEMENTATION="CHANGE_IMPLEMENTATION",f.ENABLE_MODULE="ENABLE_MODULE",f.DISABLE_MODULE="DISABLE_MODULE",f.SET_GUARD="SET_GUARD",f.DELETE_GUARD="DELETE_GUARD"})(s||(wr.SettingsInfoType=s={}));var i;(function(f){f.TRANSFER="Transfer",f.SETTINGS_CHANGE="SettingsChange",f.CUSTOM="Custom",f.CREATION="Creation",f.SWAP_ORDER="SwapOrder",f.TWAP_ORDER="TwapOrder",f.SWAP_TRANSFER="SwapTransfer",f.NATIVE_STAKING_DEPOSIT="NativeStakingDeposit",f.NATIVE_STAKING_VALIDATORS_EXIT="NativeStakingValidatorsExit",f.NATIVE_STAKING_WITHDRAW="NativeStakingWithdraw"})(i||(wr.TransactionInfoType=i={}));var o;(function(f){f.NONE="None",f.HAS_NEXT="HasNext",f.END="End"})(o||(wr.ConflictType=o={}));var a;(function(f){f.TRANSACTION="TRANSACTION",f.LABEL="LABEL",f.CONFLICT_HEADER="CONFLICT_HEADER",f.DATE_LABEL="DATE_LABEL"})(a||(wr.TransactionListItemType=a={}));var c;(function(f){f.MULTISIG="MULTISIG",f.MODULE="MODULE"})(c||(wr.DetailedExecutionInfoType=c={}));var u;(function(f){f.AUTO="AUTO",f.LIMIT_DURATION="LIMIT_DURATION"})(u||(wr.DurationType=u={}));var l;(function(f){f.AT_MINING_TIME="AT_MINING_TIME",f.AT_EPOCH="AT_EPOCH"})(l||(wr.StartTimeValue=l={}));var d;return(function(f){f.Queued="Queued",f.Next="Next"})(d||(wr.LabelValue=d={})),wr}var Bc={},WL;function e3e(){if(WL)return Bc;WL=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.FEATURES=Bc.GAS_PRICE_TYPE=Bc.RPC_AUTHENTICATION=void 0;var t;(function(n){n.API_KEY_PATH="API_KEY_PATH",n.NO_AUTHENTICATION="NO_AUTHENTICATION",n.UNKNOWN="UNKNOWN"})(t||(Bc.RPC_AUTHENTICATION=t={}));var e;(function(n){n.ORACLE="ORACLE",n.FIXED="FIXED",n.FIXED_1559="FIXED1559",n.UNKNOWN="UNKNOWN"})(e||(Bc.GAS_PRICE_TYPE=e={}));var r;return(function(n){n.ERC721="ERC721",n.SAFE_APPS="SAFE_APPS",n.CONTRACT_INTERACTION="CONTRACT_INTERACTION",n.DOMAIN_LOOKUP="DOMAIN_LOOKUP",n.SPENDING_LIMIT="SPENDING_LIMIT",n.EIP1559="EIP1559",n.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL",n.TX_SIMULATION="TX_SIMULATION",n.EIP1271="EIP1271"})(r||(Bc.FEATURES=r={})),Bc}var Cy={},KL;function t3e(){if(KL)return Cy;KL=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.TokenType=void 0;var t;return(function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_TOKEN="NATIVE_TOKEN",e.UNKNOWN="UNKNOWN"})(t||(Cy.TokenType=t={})),Cy}var Z5={},ZL;function r3e(){return ZL||(ZL=1,Object.defineProperty(Z5,"__esModule",{value:!0})),Z5}var wf={},YL;function n3e(){if(YL)return wf;YL=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.NativeStakingStatus=wf.ConfirmationViewTypes=void 0;var t;(function(r){r.GENERIC="GENERIC",r.COW_SWAP_ORDER="COW_SWAP_ORDER",r.COW_SWAP_TWAP_ORDER="COW_SWAP_TWAP_ORDER",r.KILN_NATIVE_STAKING_DEPOSIT="KILN_NATIVE_STAKING_DEPOSIT",r.KILN_NATIVE_STAKING_VALIDATORS_EXIT="KILN_NATIVE_STAKING_VALIDATORS_EXIT",r.KILN_NATIVE_STAKING_WITHDRAW="KILN_NATIVE_STAKING_WITHDRAW"})(t||(wf.ConfirmationViewTypes=t={}));var e;return(function(r){r.NOT_STAKED="NOT_STAKED",r.ACTIVATING="ACTIVATING",r.DEPOSIT_IN_PROGRESS="DEPOSIT_IN_PROGRESS",r.ACTIVE="ACTIVE",r.EXIT_REQUESTED="EXIT_REQUESTED",r.EXITING="EXITING",r.EXITED="EXITED",r.SLASHED="SLASHED"})(e||(wf.NativeStakingStatus=e={})),wf}var Ef={},JL;function s3e(){if(JL)return Ef;JL=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.SafeMessageStatus=Ef.SafeMessageListItemType=void 0;var t;(function(r){r.DATE_LABEL="DATE_LABEL",r.MESSAGE="MESSAGE"})(t||(Ef.SafeMessageListItemType=t={}));var e;return(function(r){r.NEEDS_CONFIRMATION="NEEDS_CONFIRMATION",r.CONFIRMED="CONFIRMED"})(e||(Ef.SafeMessageStatus=e={})),Ef}var Sy={},QL;function i3e(){if(QL)return Sy;QL=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.DeviceType=void 0;var t;return(function(e){e.ANDROID="ANDROID",e.IOS="IOS",e.WEB="WEB"})(t||(Sy.DeviceType=t={})),Sy}var Y5={},XL;function o3e(){return XL||(XL=1,Object.defineProperty(Y5,"__esModule",{value:!0})),Y5}var e9;function a3e(){return e9||(e9=1,(function(t){var e=yf&&yf.__createBinding||(Object.create?(function(de,oe,$,L){L===void 0&&(L=$);var H=Object.getOwnPropertyDescriptor(oe,$);(!H||("get"in H?!oe.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return oe[$]}}),Object.defineProperty(de,L,H)}):(function(de,oe,$,L){L===void 0&&(L=$),de[L]=oe[$]})),r=yf&&yf.__exportStar||function(de,oe){for(var $ in de)$!=="default"&&!Object.prototype.hasOwnProperty.call(oe,$)&&e(oe,de,$)};Object.defineProperty(t,"__esModule",{value:!0}),t.setBaseUrl=void 0,t.relayTransaction=a,t.getRelayCount=c,t.getSafeInfo=u,t.getIncomingTransfers=l,t.getModuleTransactions=d,t.getMultisigTransactions=f,t.getBalances=h,t.getFiatCurrencies=p,t.getOwnedSafes=m,t.getAllOwnedSafes=y,t.getCollectibles=E,t.getCollectiblesPage=w,t.getTransactionHistory=b,t.getTransactionQueue=g,t.getTransactionDetails=v,t.deleteTransaction=A,t.postSafeGasEstimation=C,t.getNonces=x,t.proposeTransaction=T,t.getConfirmationView=N,t.getTxPreview=M,t.getChainsConfig=k,t.getChainConfig=B,t.getSafeApps=U,t.getMasterCopies=I,t.getDecodedData=S,t.getSafeMessages=_,t.getSafeMessage=R,t.proposeSafeMessage=O,t.confirmSafeMessage=P,t.getDelegates=D,t.registerDevice=j,t.unregisterSafe=F,t.unregisterDevice=q,t.registerEmail=z,t.changeEmail=W,t.resendEmailVerificationCode=K,t.verifyEmail=re,t.getRegisteredEmail=Q,t.deleteRegisteredEmail=X,t.registerRecoveryModule=ie,t.unsubscribeSingle=Y,t.unsubscribeAll=V,t.getSafeOverviews=Z,t.getContract=ne,t.getAuthNonce=ue,t.verifyAuth=ce,t.createAccount=ge,t.getAccount=we,t.deleteAccount=me,t.getAccountDataTypes=ae,t.getAccountDataSettings=Oe,t.putAccountDataSettings=Ie,t.getIndexingStatus=Be;const n=Z8e(),s=Y8e();r(J8e(),t),r(Q8e(),t),r(X8e(),t),r(e3e(),t),r(t3e(),t),r(r3e(),t),r(n3e(),t),r(s3e(),t),r(i3e(),t),r(o3e(),t);let i=s.DEFAULT_BASE_URL;const o=de=>{i=de};t.setBaseUrl=o;function a(de,oe){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/relay",{path:{chainId:de},body:oe})}function c(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/relay/{address}",{path:{chainId:de,address:oe}})}function u(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:de,address:oe}})}function l(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/incoming-transfers/",{path:{chainId:de,address:oe},query:$},L)}function d(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/module-transactions/",{path:{chainId:de,address:oe},query:$},L)}function f(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/multisig-transactions/",{path:{chainId:de,address:oe},query:$},L)}function h(de,oe,$="usd",L={}){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:de,address:oe,currency:$},query:L})}function p(){return(0,n.getEndpoint)(i,"/v1/balances/supported-fiat-codes")}function m(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:de,address:oe}})}function y(de){return(0,n.getEndpoint)(i,"/v1/owners/{address}/safes",{path:{address:de}})}function E(de,oe,$={}){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:de,address:oe},query:$})}function w(de,oe,$={},L){return(0,n.getEndpoint)(i,"/v2/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:de,address:oe},query:$},L)}function b(de,oe,$={},L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:de,safe_address:oe},query:$},L)}function g(de,oe,$={},L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:de,safe_address:oe},query:$},L)}function v(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:de,transactionId:oe}})}function A(de,oe,$){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/transactions/{safeTxHash}",{path:{chainId:de,safeTxHash:oe},body:{signature:$}})}function C(de,oe,$){return(0,n.postEndpoint)(i,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:de,safe_address:oe},body:$})}function x(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/nonces",{path:{chainId:de,safe_address:oe}})}function T(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:de,safe_address:oe},body:$})}function N(de,oe,$,L,H,ee){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/views/transaction-confirmation",{path:{chainId:de,safe_address:oe},body:{operation:$,data:L,to:H,value:ee}})}function M(de,oe,$,L,H,ee){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/transactions/{safe_address}/preview",{path:{chainId:de,safe_address:oe},body:{operation:$,data:L,to:H,value:ee}})}function k(de){return(0,n.getEndpoint)(i,"/v1/chains",{query:de})}function B(de){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}",{path:{chainId:de}})}function U(de,oe={}){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safe-apps",{path:{chainId:de},query:oe})}function I(de){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:de}})}function S(de,oe,$,L){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/data-decoder",{path:{chainId:de},body:{operation:oe,data:$,to:L}})}function _(de,oe,$){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:de,safe_address:oe},query:{}},$)}function R(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/messages/{message_hash}",{path:{chainId:de,message_hash:oe}})}function O(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/messages",{path:{chainId:de,safe_address:oe},body:$})}function P(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/messages/{message_hash}/signatures",{path:{chainId:de,message_hash:oe},body:$})}function D(de,oe={}){return(0,n.getEndpoint)(i,"/v2/chains/{chainId}/delegates",{path:{chainId:de},query:oe})}function j(de){return(0,n.postEndpoint)(i,"/v1/register/notifications",{body:de})}function F(de,oe,$){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/notifications/devices/{uuid}/safes/{safe_address}",{path:{chainId:de,safe_address:oe,uuid:$}})}function q(de,oe){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/notifications/devices/{uuid}",{path:{chainId:de,uuid:oe}})}function z(de,oe,$,L){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails",{path:{chainId:de,safe_address:oe},body:$,headers:L})}function W(de,oe,$,L,H){return(0,n.putEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:de,safe_address:oe,signer:$},body:L,headers:H})}function K(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify-resend",{path:{chainId:de,safe_address:oe,signer:$},body:""})}function re(de,oe,$,L){return(0,n.putEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}/verify",{path:{chainId:de,safe_address:oe,signer:$},body:L})}function Q(de,oe,$,L){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:de,safe_address:oe,signer:$},headers:L})}function X(de,oe,$,L){return(0,n.deleteEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/emails/{signer}",{path:{chainId:de,safe_address:oe,signer:$},headers:L})}function ie(de,oe,$){return(0,n.postEndpoint)(i,"/v1/chains/{chainId}/safes/{safe_address}/recovery",{path:{chainId:de,safe_address:oe},body:$})}function Y(de){return(0,n.deleteEndpoint)(i,"/v1/subscriptions",{query:de})}function V(de){return(0,n.deleteEndpoint)(i,"/v1/subscriptions/all",{query:de})}function Z(de,oe){return(0,n.getEndpoint)(i,"/v1/safes",{query:Object.assign(Object.assign({},oe),{safes:de.join(",")})})}function ne(de,oe){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/contracts/{contractAddress}",{path:{chainId:de,contractAddress:oe}})}function ue(){return(0,n.getEndpoint)(i,"/v1/auth/nonce",{credentials:"include"})}function ce(de){return(0,n.postEndpoint)(i,"/v1/auth/verify",{body:de,credentials:"include"})}function ge(de){return(0,n.postEndpoint)(i,"/v1/accounts",{body:de,credentials:"include"})}function we(de){return(0,n.getEndpoint)(i,"/v1/accounts/{address}",{path:{address:de},credentials:"include"})}function me(de){return(0,n.deleteEndpoint)(i,"/v1/accounts/{address}",{path:{address:de},credentials:"include"})}function ae(){return(0,n.getEndpoint)(i,"/v1/accounts/data-types")}function Oe(de){return(0,n.getEndpoint)(i,"/v1/accounts/{address}/data-settings",{path:{address:de},credentials:"include"})}function Ie(de,oe){return(0,n.putEndpoint)(i,"/v1/accounts/{address}/data-settings",{path:{address:de},body:oe,credentials:"include"})}function Be(de){return(0,n.getEndpoint)(i,"/v1/chains/{chainId}/about/indexing",{path:{chainId:de}})}})(yf)),yf}var t9;function c3e(){return t9||(t9=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TransferDirection=t.TransactionStatus=t.TokenType=t.Operation=void 0;var e=a3e();Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return e.Operation}}),Object.defineProperty(t,"TokenType",{enumerable:!0,get:function(){return e.TokenType}}),Object.defineProperty(t,"TransactionStatus",{enumerable:!0,get:function(){return e.TransactionStatus}}),Object.defineProperty(t,"TransferDirection",{enumerable:!0,get:function(){return e.TransferDirection}})})(K5)),K5}var J5={},r9;function u3e(){return r9||(r9=1,Object.defineProperty(J5,"__esModule",{value:!0}),vp()),J5}var n9;function F3(){return n9||(n9=1,(function(t){var e=gf&&gf.__createBinding||(Object.create?(function(n,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(n,o,a)}):(function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]})),r=gf&&gf.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(G8e(),t),r(W8e(),t),r(c3e(),t),r(u3e(),t)})(gf)),gf}var s9;function l3e(){if(s9)return Ey;s9=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.TXs=void 0;const t=vp(),e=F3();class r{constructor(s){this.communicator=s}async getBySafeTxHash(s){if(!s)throw new Error("Invalid safeTxHash");return(await this.communicator.send(t.Methods.getTxBySafeTxHash,{safeTxHash:s})).data}async signMessage(s){const i={message:s};return(await this.communicator.send(t.Methods.signMessage,i)).data}async signTypedMessage(s){if(!(0,e.isObjectEIP712TypedData)(s))throw new Error("Invalid typed data");return(await this.communicator.send(t.Methods.signTypedMessage,{typedData:s})).data}async send({txs:s,params:i}){if(!s||!s.length)throw new Error("No transactions were passed");const o={txs:s,params:i};return(await this.communicator.send(t.Methods.sendTransactions,o)).data}}return Ey.TXs=r,Ey}var Iy={},Ty={},i9;function H3(){return i9||(i9=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.RPC_CALLS=void 0,Ty.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"}),Ty}var o9;function d3e(){if(o9)return Iy;o9=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.Eth=void 0;const t=H3(),e=vp(),r={defaultBlockParam:(s="latest")=>s,returnFullTxObjectParam:(s=!1)=>s,blockNumberToHex:s=>Number.isInteger(s)?`0x${s.toString(16)}`:s};class n{constructor(i){this.communicator=i,this.call=this.buildRequest({call:t.RPC_CALLS.eth_call,formatters:[null,r.defaultBlockParam]}),this.getBalance=this.buildRequest({call:t.RPC_CALLS.eth_getBalance,formatters:[null,r.defaultBlockParam]}),this.getCode=this.buildRequest({call:t.RPC_CALLS.eth_getCode,formatters:[null,r.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:t.RPC_CALLS.eth_getStorageAt,formatters:[null,r.blockNumberToHex,r.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:t.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByHash,formatters:[null,r.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:t.RPC_CALLS.eth_getBlockByNumber,formatters:[r.blockNumberToHex,r.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:t.RPC_CALLS.eth_getTransactionCount,formatters:[null,r.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:t.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=o=>this.buildRequest({call:t.RPC_CALLS.eth_estimateGas})([o]),this.setSafeSettings=this.buildRequest({call:t.RPC_CALLS.safe_setSettings})}buildRequest(i){const{call:o,formatters:a}=i;return async c=>{a&&Array.isArray(c)&&a.forEach((d,f)=>{d&&(c[f]=d(c[f]))});const u={call:o,params:c||[]};return(await this.communicator.send(e.Methods.rpcCall,u)).data}}}return Iy.Eth=n,Iy}var kc={},Q5={},X5={},Py={},xy={},a9;function f3e(){return a9||(a9=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.version=void 0,xy.version="1.1.0"),xy}var c9;function Sg(){if(c9)return Py;c9=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.BaseError=void 0;const t=f3e();class e extends Error{constructor(n,s={}){var c;const i=s.cause instanceof e?s.cause.details:(c=s.cause)!=null&&c.message?s.cause.message:s.details,o=s.cause instanceof e&&s.cause.docsPath||s.docsPath,a=[n||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${t.version}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),s.cause&&(this.cause=s.cause),this.details=i,this.docsPath=o,this.metaMessages=s.metaMessages,this.shortMessage=n}}return Py.BaseError=e,Py}var Wv={},u9;function h3e(){if(u9)return Wv;u9=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.narrow=t;function t(e){return e}return Wv}var Kv={},Zv={},Yv={},Jv={},Oa={},l9;function RP(){if(l9)return Oa;l9=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.isTupleRegex=Oa.integerRegex=Oa.bytesRegex=void 0,Oa.execTyped=t;function t(e,r){const n=e.exec(r);return n==null?void 0:n.groups}return Oa.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Oa.integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Oa.isTupleRegex=/^\(.+?\).*?$/,Oa}var d9;function _te(){if(d9)return Jv;d9=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.formatAbiParameter=r;const t=RP(),e=/^tuple(?<array>(\[(\d*)\])*)$/;function r(n){let s=n.type;if(e.test(n.type)&&"components"in n){s="(";const i=n.components.length;for(let a=0;a<i;a++){const c=n.components[a];s+=r(c),a<i-1&&(s+=", ")}const o=(0,t.execTyped)(e,n.type);return s+=`)${(o==null?void 0:o.array)??""}`,r({...n,type:s})}return"indexed"in n&&n.indexed&&(s=`${s} indexed`),n.name?`${s} ${n.name}`:s}return Jv}var f9;function Ate(){if(f9)return Yv;f9=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.formatAbiParameters=e;const t=_te();function e(r){let n="";const s=r.length;for(let i=0;i<s;i++){const o=r[i];n+=(0,t.formatAbiParameter)(o),i!==s-1&&(n+=", ")}return n}return Yv}var h9;function Cte(){if(h9)return Zv;h9=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.formatAbiItem=e;const t=Ate();function e(r){var n;return r.type==="function"?`function ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability&&r.stateMutability!=="nonpayable"?` ${r.stateMutability}`:""}${(n=r.outputs)!=null&&n.length?` returns (${(0,t.formatAbiParameters)(r.outputs)})`:""}`:r.type==="event"?`event ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="error"?`error ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="constructor"?`constructor(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability==="payable"?" payable":""}`:r.type==="fallback"?`fallback() external${r.stateMutability==="payable"?" payable":""}`:"receive() external payable"}return Zv}var p9;function p3e(){if(p9)return Kv;p9=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.formatAbi=e;const t=Cte();function e(r){const n=[],s=r.length;for(let i=0;i<s;i++){const o=r[i],a=(0,t.formatAbiItem)(o);n.push(a)}return n}return Kv}var Qv={},Yr={},m9;function Ig(){if(m9)return Yr;m9=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.functionModifiers=Yr.eventModifiers=Yr.modifiers=void 0,Yr.isErrorSignature=r,Yr.execErrorSignature=n,Yr.isEventSignature=i,Yr.execEventSignature=o,Yr.isFunctionSignature=c,Yr.execFunctionSignature=u,Yr.isStructSignature=d,Yr.execStructSignature=f,Yr.isConstructorSignature=p,Yr.execConstructorSignature=m,Yr.isFallbackSignature=E,Yr.execFallbackSignature=w,Yr.isReceiveSignature=g;const t=RP(),e=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function r(v){return e.test(v)}function n(v){return(0,t.execTyped)(e,v)}const s=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function i(v){return s.test(v)}function o(v){return(0,t.execTyped)(s,v)}const a=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function c(v){return a.test(v)}function u(v){return(0,t.execTyped)(a,v)}const l=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function d(v){return l.test(v)}function f(v){return(0,t.execTyped)(l,v)}const h=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function p(v){return h.test(v)}function m(v){return(0,t.execTyped)(h,v)}const y=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function E(v){return y.test(v)}function w(v){return(0,t.execTyped)(y,v)}const b=/^receive\(\) external payable$/;function g(v){return b.test(v)}return Yr.modifiers=new Set(["memory","indexed","storage","calldata"]),Yr.eventModifiers=new Set(["indexed"]),Yr.functionModifiers=new Set(["calldata","memory","storage"]),Yr}var Xv={},jc={},g9;function NP(){if(g9)return jc;g9=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.UnknownSolidityTypeError=jc.UnknownTypeError=jc.InvalidAbiItemError=void 0;const t=Sg();class e extends t.BaseError{constructor({signature:i}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(i,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}jc.InvalidAbiItemError=e;class r extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}jc.UnknownTypeError=r;class n extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}return jc.UnknownSolidityTypeError=n,jc}var Fn={},y9;function pE(){if(y9)return Fn;y9=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.InvalidAbiTypeParameterError=Fn.InvalidFunctionModifierError=Fn.InvalidModifierError=Fn.SolidityProtectedKeywordError=Fn.InvalidParameterError=Fn.InvalidAbiParametersError=Fn.InvalidAbiParameterError=void 0;const t=Sg();class e extends t.BaseError{constructor({param:u}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}Fn.InvalidAbiParameterError=e;class r extends t.BaseError{constructor({params:u}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}Fn.InvalidAbiParametersError=r;class n extends t.BaseError{constructor({param:u}){super("Invalid ABI parameter.",{details:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}Fn.InvalidParameterError=n;class s extends t.BaseError{constructor({param:u,name:l}){super("Invalid ABI parameter.",{details:u,metaMessages:[`"${l}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}Fn.SolidityProtectedKeywordError=s;class i extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}Fn.InvalidModifierError=i;class o extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${d}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}Fn.InvalidFunctionModifierError=o;class a extends t.BaseError{constructor({abiParameter:u}){super("Invalid ABI parameter.",{details:JSON.stringify(u,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}return Fn.InvalidAbiTypeParameterError=a,Fn}var Dc={},b9;function q3(){if(b9)return Dc;b9=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.InvalidStructSignatureError=Dc.UnknownSignatureError=Dc.InvalidSignatureError=void 0;const t=Sg();class e extends t.BaseError{constructor({signature:i,type:o}){super(`Invalid ${o} signature.`,{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}Dc.InvalidSignatureError=e;class r extends t.BaseError{constructor({signature:i}){super("Unknown signature.",{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}Dc.UnknownSignatureError=r;class n extends t.BaseError{constructor({signature:i}){super("Invalid struct signature.",{details:i,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}return Dc.InvalidStructSignatureError=n,Dc}var Oy={},w9;function Ste(){if(w9)return Oy;w9=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.CircularReferenceError=void 0;const t=Sg();class e extends t.BaseError{constructor({type:n}){super("Circular reference detected.",{metaMessages:[`Struct "${n}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}return Oy.CircularReferenceError=e,Oy}var Zs={},Ry={},E9;function Ite(){if(E9)return Ry;E9=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.InvalidParenthesisError=void 0;const t=Sg();class e extends t.BaseError{constructor({current:n,depth:s}){super("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${s>0?"opening":"closing"} parentheses.`],details:`Depth "${s}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}return Ry.InvalidParenthesisError=e,Ry}var Zp={},v9;function m3e(){if(v9)return Zp;v9=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.parameterCache=void 0,Zp.getParameterCacheKey=t;function t(e,r,n){let s="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const a of i[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;s+=`(${i[0]}{${o}})`}return r?`${r}:${e}${s}`:e}return Zp.parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),Zp}var _9;function lg(){if(_9)return Zs;_9=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.parseSignature=a,Zs.parseFunctionSignature=c,Zs.parseEventSignature=u,Zs.parseErrorSignature=l,Zs.parseConstructorSignature=d,Zs.parseFallbackSignature=f,Zs.parseAbiParameter=y,Zs.splitParameters=E,Zs.isSolidityType=w,Zs.isSolidityKeyword=g,Zs.isValidDataLocation=v;const t=RP(),e=NP(),r=pE(),n=q3(),s=Ite(),i=m3e(),o=Ig();function a(A,C={}){if((0,o.isFunctionSignature)(A))return c(A,C);if((0,o.isEventSignature)(A))return u(A,C);if((0,o.isErrorSignature)(A))return l(A,C);if((0,o.isConstructorSignature)(A))return d(A,C);if((0,o.isFallbackSignature)(A))return f(A);if((0,o.isReceiveSignature)(A))return{type:"receive",stateMutability:"payable"};throw new n.UnknownSignatureError({signature:A})}function c(A,C={}){const x=(0,o.execFunctionSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"function"});const T=E(x.parameters),N=[],M=T.length;for(let B=0;B<M;B++)N.push(y(T[B],{modifiers:o.functionModifiers,structs:C,type:"function"}));const k=[];if(x.returns){const B=E(x.returns),U=B.length;for(let I=0;I<U;I++)k.push(y(B[I],{modifiers:o.functionModifiers,structs:C,type:"function"}))}return{name:x.name,type:"function",stateMutability:x.stateMutability??"nonpayable",inputs:N,outputs:k}}function u(A,C={}){const x=(0,o.execEventSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"event"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{modifiers:o.eventModifiers,structs:C,type:"event"}));return{name:x.name,type:"event",inputs:N}}function l(A,C={}){const x=(0,o.execErrorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"error"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"error"}));return{name:x.name,type:"error",inputs:N}}function d(A,C={}){const x=(0,o.execConstructorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"constructor"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"constructor"}));return{type:"constructor",stateMutability:x.stateMutability??"nonpayable",inputs:N}}function f(A){const C=(0,o.execFallbackSignature)(A);if(!C)throw new n.InvalidSignatureError({signature:A,type:"fallback"});return{type:"fallback",stateMutability:C.stateMutability??"nonpayable"}}const h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m=/^u?int$/;function y(A,C){var _,R;const x=(0,i.getParameterCacheKey)(A,C==null?void 0:C.type,C==null?void 0:C.structs);if(i.parameterCache.has(x))return i.parameterCache.get(x);const T=t.isTupleRegex.test(A),N=(0,t.execTyped)(T?p:h,A);if(!N)throw new r.InvalidParameterError({param:A});if(N.name&&g(N.name))throw new r.SolidityProtectedKeywordError({param:A,name:N.name});const M=N.name?{name:N.name}:{},k=N.modifier==="indexed"?{indexed:!0}:{},B=(C==null?void 0:C.structs)??{};let U,I={};if(T){U="tuple";const O=E(N.type),P=[],D=O.length;for(let j=0;j<D;j++)P.push(y(O[j],{structs:B}));I={components:P}}else if(N.type in B)U="tuple",I={components:B[N.type]};else if(m.test(N.type))U=`${N.type}256`;else if(N.type==="address payable")U="address";else if(U=N.type,(C==null?void 0:C.type)!=="struct"&&!w(U))throw new e.UnknownSolidityTypeError({type:U});if(N.modifier){if(!((R=(_=C==null?void 0:C.modifiers)==null?void 0:_.has)!=null&&R.call(_,N.modifier)))throw new r.InvalidModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier});if(o.functionModifiers.has(N.modifier)&&!v(U,!!N.array))throw new r.InvalidFunctionModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier})}const S={type:`${U}${N.array??""}`,...M,...k,...I};return i.parameterCache.set(x,S),S}function E(A,C=[],x="",T=0){const N=A.trim().length;for(let M=0;M<N;M++){const k=A[M],B=A.slice(M+1);switch(k){case",":return T===0?E(B,[...C,x.trim()]):E(B,C,`${x}${k}`,T);case"(":return E(B,C,`${x}${k}`,T+1);case")":return E(B,C,`${x}${k}`,T-1);default:return E(B,C,`${x}${k}`,T)}}if(x==="")return C;if(T!==0)throw new s.InvalidParenthesisError({current:x,depth:T});return C.push(x.trim()),C}function w(A){return A==="address"||A==="bool"||A==="function"||A==="string"||t.bytesRegex.test(A)||t.integerRegex.test(A)}const b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function g(A){return A==="address"||A==="bool"||A==="function"||A==="string"||A==="tuple"||t.bytesRegex.test(A)||t.integerRegex.test(A)||b.test(A)}function v(A,C){return C||A==="bytes"||A==="string"||A==="tuple"}return Zs}var A9;function BP(){if(A9)return Xv;A9=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.parseStructs=a;const t=RP(),e=NP(),r=pE(),n=q3(),s=Ste(),i=Ig(),o=lg();function a(l){const d={},f=l.length;for(let y=0;y<f;y++){const E=l[y];if(!(0,i.isStructSignature)(E))continue;const w=(0,i.execStructSignature)(E);if(!w)throw new n.InvalidSignatureError({signature:E,type:"struct"});const b=w.properties.split(";"),g=[],v=b.length;for(let A=0;A<v;A++){const x=b[A].trim();if(!x)continue;const T=(0,o.parseAbiParameter)(x,{type:"struct"});g.push(T)}if(!g.length)throw new n.InvalidStructSignatureError({signature:E});d[w.name]=g}const h={},p=Object.entries(d),m=p.length;for(let y=0;y<m;y++){const[E,w]=p[y];h[E]=u(w,d)}return h}const c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function u(l,d,f=new Set){const h=[],p=l.length;for(let m=0;m<p;m++){const y=l[m];if(t.isTupleRegex.test(y.type))h.push(y);else{const w=(0,t.execTyped)(c,y.type);if(!(w!=null&&w.type))throw new r.InvalidAbiTypeParameterError({abiParameter:y});const{array:b,type:g}=w;if(g in d){if(f.has(g))throw new s.CircularReferenceError({type:g});h.push({...y,type:`tuple${b??""}`,components:u(d[g]??[],d,new Set([...f,g]))})}else if((0,o.isSolidityType)(g))h.push(y);else throw new e.UnknownTypeError({type:g})}}return h}return Xv}var C9;function g3e(){if(C9)return Qv;C9=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.parseAbi=n;const t=Ig(),e=BP(),r=lg();function n(s){const i=(0,e.parseStructs)(s),o=[],a=s.length;for(let c=0;c<a;c++){const u=s[c];(0,t.isStructSignature)(u)||o.push((0,r.parseSignature)(u,i))}return o}return Qv}var e_={},S9;function y3e(){if(S9)return e_;S9=1,Object.defineProperty(e_,"__esModule",{value:!0}),e_.parseAbiItem=s;const t=NP(),e=Ig(),r=BP(),n=lg();function s(i){let o;if(typeof i=="string")o=(0,n.parseSignature)(i);else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseSignature)(l,a);break}}}if(!o)throw new t.InvalidAbiItemError({signature:i});return o}return e_}var t_={},I9;function b3e(){if(I9)return t_;I9=1,Object.defineProperty(t_,"__esModule",{value:!0}),t_.parseAbiParameter=s;const t=pE(),e=Ig(),r=BP(),n=lg();function s(i){let o;if(typeof i=="string")o=(0,n.parseAbiParameter)(i,{modifiers:e.modifiers});else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseAbiParameter)(l,{modifiers:e.modifiers,structs:a});break}}}if(!o)throw new t.InvalidAbiParameterError({param:i});return o}return t_}var r_={},T9;function w3e(){if(T9)return r_;T9=1,Object.defineProperty(r_,"__esModule",{value:!0}),r_.parseAbiParameters=i;const t=pE(),e=Ig(),r=BP(),n=lg(),s=lg();function i(o){const a=[];if(typeof o=="string"){const c=(0,n.splitParameters)(o),u=c.length;for(let l=0;l<u;l++)a.push((0,s.parseAbiParameter)(c[l],{modifiers:e.modifiers}))}else{const c=(0,r.parseStructs)(o),u=o.length;for(let l=0;l<u;l++){const d=o[l];if((0,e.isStructSignature)(d))continue;const f=(0,n.splitParameters)(d),h=f.length;for(let p=0;p<h;p++)a.push((0,s.parseAbiParameter)(f[p],{modifiers:e.modifiers,structs:c}))}}if(a.length===0)throw new t.InvalidAbiParametersError({params:o});return a}return r_}var P9;function kP(){return P9||(P9=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularReferenceError=t.InvalidParenthesisError=t.UnknownSignatureError=t.InvalidSignatureError=t.InvalidStructSignatureError=t.InvalidAbiParameterError=t.InvalidAbiParametersError=t.InvalidParameterError=t.SolidityProtectedKeywordError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.UnknownSolidityTypeError=t.InvalidAbiItemError=t.UnknownTypeError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.formatAbiParameters=t.formatAbiParameter=t.formatAbiItem=t.formatAbi=t.narrow=t.BaseError=void 0;var e=Sg();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return e.BaseError}});var r=h3e();Object.defineProperty(t,"narrow",{enumerable:!0,get:function(){return r.narrow}});var n=p3e();Object.defineProperty(t,"formatAbi",{enumerable:!0,get:function(){return n.formatAbi}});var s=Cte();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return s.formatAbiItem}});var i=_te();Object.defineProperty(t,"formatAbiParameter",{enumerable:!0,get:function(){return i.formatAbiParameter}});var o=Ate();Object.defineProperty(t,"formatAbiParameters",{enumerable:!0,get:function(){return o.formatAbiParameters}});var a=g3e();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return a.parseAbi}});var c=y3e();Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return c.parseAbiItem}});var u=b3e();Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return u.parseAbiParameter}});var l=w3e();Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return l.parseAbiParameters}});var d=NP();Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return d.UnknownTypeError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return d.InvalidAbiItemError}}),Object.defineProperty(t,"UnknownSolidityTypeError",{enumerable:!0,get:function(){return d.UnknownSolidityTypeError}});var f=pE();Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return f.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return f.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return f.InvalidModifierError}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return f.SolidityProtectedKeywordError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return f.InvalidParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return f.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return f.InvalidAbiParameterError}});var h=q3();Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return h.InvalidStructSignatureError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return h.InvalidSignatureError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return h.UnknownSignatureError}});var p=Ite();Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return p.InvalidParenthesisError}});var m=Ste();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return m.CircularReferenceError}})})(X5)),X5}var Yp={},n_={},x9;function Yt(){if(x9)return n_;x9=1,Object.defineProperty(n_,"__esModule",{value:!0}),n_.getAction=t;function t(e,r,n){const s=e[r.name];if(typeof s=="function")return s;const i=e[n];return typeof i=="function"?i:o=>r(e,o)}return n_}var s_={},i_={},nt={},Ny={},O9;function Vu(){if(O9)return Ny;O9=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.formatAbiItem=e,Ny.formatAbiParams=r;const t=Hr();function e(s,{includeName:i=!1}={}){if(s.type!=="function"&&s.type!=="event"&&s.type!=="error")throw new t.InvalidDefinitionTypeError(s.type);return`${s.name}(${r(s.inputs,{includeName:i})})`}function r(s,{includeName:i=!1}={}){return s?s.map(o=>n(o,{includeName:i})).join(i?", ":","):""}function n(s,{includeName:i}){return s.type.startsWith("tuple")?`(${r(s.components,{includeName:i})})${s.type.slice(5)}`:s.type+(i&&s.name?` ${s.name}`:"")}return Ny}var o_={},a_={},R9;function $s(){if(R9)return a_;R9=1,Object.defineProperty(a_,"__esModule",{value:!0}),a_.isHex=t;function t(e,{strict:r=!0}={}){return!e||typeof e!="string"?!1:r?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}return a_}var N9;function _i(){if(N9)return o_;N9=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.size=e;const t=$s();function e(r){return(0,t.isHex)(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}return o_}var Jp={},By={},B9;function E3e(){return B9||(B9=1,Object.defineProperty(By,"__esModule",{value:!0}),By.version=void 0,By.version="2.40.3"),By}var k9;function yt(){if(k9)return Jp;k9=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.BaseError=void 0,Jp.setErrorConfig=r;const t=E3e();let e={getDocsUrl:({docsBaseUrl:i,docsPath:o="",docsSlug:a})=>o?`${i??"https://viem.sh"}${o}${a?`#${a}`:""}`:void 0,version:`viem@${t.version}`};function r(i){e=i}class n extends Error{constructor(o,a={}){var f;const c=(()=>{var h;return a.cause instanceof n?a.cause.details:(h=a.cause)!=null&&h.message?a.cause.message:a.details})(),u=a.cause instanceof n&&a.cause.docsPath||a.docsPath,l=(f=e.getDocsUrl)==null?void 0:f.call(e,{...a,docsPath:u}),d=[o||"An error occurred.","",...a.metaMessages?[...a.metaMessages,""]:[],...l?[`Docs: ${l}`]:[],...c?[`Details: ${c}`]:[],...e.version?[`Version: ${e.version}`]:[]].join(`
`);super(d,a.cause?{cause:a.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=c,this.docsPath=u,this.metaMessages=a.metaMessages,this.name=a.name??this.name,this.shortMessage=o,this.version=t.version}walk(o){return s(this,o)}}Jp.BaseError=n;function s(i,o){return o!=null&&o(i)?i:i&&typeof i=="object"&&"cause"in i&&i.cause!==void 0?s(i.cause,o):o?null:i}return Jp}var j9;function Hr(){if(j9)return nt;j9=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.UnsupportedPackedAbiType=nt.InvalidDefinitionTypeError=nt.InvalidArrayError=nt.InvalidAbiDecodingTypeError=nt.InvalidAbiEncodingTypeError=nt.DecodeLogTopicsMismatch=nt.DecodeLogDataMismatch=nt.BytesSizeMismatchError=nt.AbiItemAmbiguityError=nt.AbiFunctionSignatureNotFoundError=nt.AbiFunctionOutputsNotFoundError=nt.AbiFunctionNotFoundError=nt.AbiEventNotFoundError=nt.AbiEventSignatureNotFoundError=nt.AbiEventSignatureEmptyTopicsError=nt.AbiErrorSignatureNotFoundError=nt.AbiErrorNotFoundError=nt.AbiErrorInputsNotFoundError=nt.AbiEncodingLengthMismatchError=nt.AbiEncodingBytesSizeMismatchError=nt.AbiEncodingArrayLengthMismatchError=nt.AbiDecodingZeroDataError=nt.AbiDecodingDataSizeTooSmallError=nt.AbiDecodingDataSizeInvalidError=nt.AbiConstructorParamsNotFoundError=nt.AbiConstructorNotFoundError=void 0;const t=Vu(),e=_i(),r=yt();class n extends r.BaseError{constructor({docsPath:U}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:U,name:"AbiConstructorNotFoundError"})}}nt.AbiConstructorNotFoundError=n;class s extends r.BaseError{constructor({docsPath:U}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:U,name:"AbiConstructorParamsNotFoundError"})}}nt.AbiConstructorParamsNotFoundError=s;class i extends r.BaseError{constructor({data:U,size:I}){super([`Data size of ${I} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${U} (${I} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}}nt.AbiDecodingDataSizeInvalidError=i;class o extends r.BaseError{constructor({data:U,params:I,size:S}){super([`Data size of ${S} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${(0,t.formatAbiParams)(I,{includeName:!0})})`,`Data:   ${U} (${S} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=U,this.params=I,this.size=S}}nt.AbiDecodingDataSizeTooSmallError=o;class a extends r.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}nt.AbiDecodingZeroDataError=a;class c extends r.BaseError{constructor({expectedLength:U,givenLength:I,type:S}){super([`ABI encoding array length mismatch for type ${S}.`,`Expected length: ${U}`,`Given length: ${I}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}nt.AbiEncodingArrayLengthMismatchError=c;class u extends r.BaseError{constructor({expectedSize:U,value:I}){super(`Size of bytes "${I}" (bytes${(0,e.size)(I)}) does not match expected size (bytes${U}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}nt.AbiEncodingBytesSizeMismatchError=u;class l extends r.BaseError{constructor({expectedLength:U,givenLength:I}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${U}`,`Given length (values): ${I}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}nt.AbiEncodingLengthMismatchError=l;class d extends r.BaseError{constructor(U,{docsPath:I}){super([`Arguments (\`args\`) were provided to "${U}", but "${U}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:I,name:"AbiErrorInputsNotFoundError"})}}nt.AbiErrorInputsNotFoundError=d;class f extends r.BaseError{constructor(U,{docsPath:I}={}){super([`Error ${U?`"${U}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:I,name:"AbiErrorNotFoundError"})}}nt.AbiErrorNotFoundError=f;class h extends r.BaseError{constructor(U,{docsPath:I}){super([`Encoded error signature "${U}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${U}.`].join(`
`),{docsPath:I,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=U}}nt.AbiErrorSignatureNotFoundError=h;class p extends r.BaseError{constructor({docsPath:U}){super("Cannot extract event signature from empty topics.",{docsPath:U,name:"AbiEventSignatureEmptyTopicsError"})}}nt.AbiEventSignatureEmptyTopicsError=p;class m extends r.BaseError{constructor(U,{docsPath:I}){super([`Encoded event signature "${U}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${U}.`].join(`
`),{docsPath:I,name:"AbiEventSignatureNotFoundError"})}}nt.AbiEventSignatureNotFoundError=m;class y extends r.BaseError{constructor(U,{docsPath:I}={}){super([`Event ${U?`"${U}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:I,name:"AbiEventNotFoundError"})}}nt.AbiEventNotFoundError=y;class E extends r.BaseError{constructor(U,{docsPath:I}={}){super([`Function ${U?`"${U}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:I,name:"AbiFunctionNotFoundError"})}}nt.AbiFunctionNotFoundError=E;class w extends r.BaseError{constructor(U,{docsPath:I}){super([`Function "${U}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:I,name:"AbiFunctionOutputsNotFoundError"})}}nt.AbiFunctionOutputsNotFoundError=w;class b extends r.BaseError{constructor(U,{docsPath:I}){super([`Encoded function signature "${U}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${U}.`].join(`
`),{docsPath:I,name:"AbiFunctionSignatureNotFoundError"})}}nt.AbiFunctionSignatureNotFoundError=b;class g extends r.BaseError{constructor(U,I){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${U.type}\` in \`${(0,t.formatAbiItem)(U.abiItem)}\`, and`,`\`${I.type}\` in \`${(0,t.formatAbiItem)(I.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}nt.AbiItemAmbiguityError=g;class v extends r.BaseError{constructor({expectedSize:U,givenSize:I}){super(`Expected bytes${U}, got bytes${I}.`,{name:"BytesSizeMismatchError"})}}nt.BytesSizeMismatchError=v;class A extends r.BaseError{constructor({abiItem:U,data:I,params:S,size:_}){super([`Data size of ${_} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${(0,t.formatAbiParams)(S,{includeName:!0})})`,`Data:   ${I} (${_} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=U,this.data=I,this.params=S,this.size=_}}nt.DecodeLogDataMismatch=A;class C extends r.BaseError{constructor({abiItem:U,param:I}){super([`Expected a topic for indexed event parameter${I.name?` "${I.name}"`:""} on event "${(0,t.formatAbiItem)(U,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=U}}nt.DecodeLogTopicsMismatch=C;class x extends r.BaseError{constructor(U,{docsPath:I}){super([`Type "${U}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:I,name:"InvalidAbiEncodingType"})}}nt.InvalidAbiEncodingTypeError=x;class T extends r.BaseError{constructor(U,{docsPath:I}){super([`Type "${U}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:I,name:"InvalidAbiDecodingType"})}}nt.InvalidAbiDecodingTypeError=T;class N extends r.BaseError{constructor(U){super([`Value "${U}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}nt.InvalidArrayError=N;class M extends r.BaseError{constructor(U){super([`"${U}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}nt.InvalidDefinitionTypeError=M;class k extends r.BaseError{constructor(U){super(`Type "${U}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}return nt.UnsupportedPackedAbiType=k,nt}var ky={},D9;function Tte(){if(D9)return ky;D9=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.FilterTypeNotSupportedError=void 0;const t=yt();class e extends t.BaseError{constructor(n){super(`Filter type "${n}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}return ky.FilterTypeNotSupportedError=e,ky}var gl={},Qp={},Mc={},M9;function jP(){if(M9)return Mc;M9=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.InvalidBytesLengthError=Mc.SizeExceedsPaddingSizeError=Mc.SliceOffsetOutOfBoundsError=void 0;const t=yt();class e extends t.BaseError{constructor({offset:i,position:o,size:a}){super(`Slice ${o==="start"?"starting":"ending"} at offset "${i}" is out-of-bounds (size: ${a}).`,{name:"SliceOffsetOutOfBoundsError"})}}Mc.SliceOffsetOutOfBoundsError=e;class r extends t.BaseError{constructor({size:i,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${i}) exceeds padding size (${o}).`,{name:"SizeExceedsPaddingSizeError"})}}Mc.SizeExceedsPaddingSizeError=r;class n extends t.BaseError{constructor({size:i,targetSize:o,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${o} ${a} long, but is ${i} ${a} long.`,{name:"InvalidBytesLengthError"})}}return Mc.InvalidBytesLengthError=n,Mc}var U9;function Dd(){if(U9)return Qp;U9=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.pad=e,Qp.padHex=r,Qp.padBytes=n;const t=jP();function e(s,{dir:i,size:o=32}={}){return typeof s=="string"?r(s,{dir:i,size:o}):n(s,{dir:i,size:o})}function r(s,{dir:i,size:o=32}={}){if(o===null)return s;const a=s.replace("0x","");if(a.length>o*2)throw new t.SizeExceedsPaddingSizeError({size:Math.ceil(a.length/2),targetSize:o,type:"hex"});return`0x${a[i==="right"?"padEnd":"padStart"](o*2,"0")}`}function n(s,{dir:i,size:o=32}={}){if(o===null)return s;if(s.length>o)throw new t.SizeExceedsPaddingSizeError({size:s.length,targetSize:o,type:"bytes"});const a=new Uint8Array(o);for(let c=0;c<o;c++){const u=i==="right";a[u?c:o-c-1]=s[u?c:s.length-c-1]}return a}return Qp}var Uc={},Oi={},L9;function Tg(){if(L9)return Oi;L9=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.SizeOverflowError=Oi.InvalidHexValueError=Oi.InvalidHexBooleanError=Oi.InvalidBytesBooleanError=Oi.IntegerOutOfRangeError=void 0;const t=yt();class e extends t.BaseError{constructor({max:a,min:c,signed:u,size:l,value:d}){super(`Number "${d}" is not in safe ${l?`${l*8}-bit ${u?"signed":"unsigned"} `:""}integer range ${a?`(${c} to ${a})`:`(above ${c})`}`,{name:"IntegerOutOfRangeError"})}}Oi.IntegerOutOfRangeError=e;class r extends t.BaseError{constructor(a){super(`Bytes value "${a}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}Oi.InvalidBytesBooleanError=r;class n extends t.BaseError{constructor(a){super(`Hex value "${a}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}Oi.InvalidHexBooleanError=n;class s extends t.BaseError{constructor(a){super(`Hex value "${a}" is an odd length (${a.length}). It must be an even length.`,{name:"InvalidHexValueError"})}}Oi.InvalidHexValueError=s;class i extends t.BaseError{constructor({givenSize:a,maxSize:c}){super(`Size cannot exceed ${c} bytes. Given size: ${a} bytes.`,{name:"SizeOverflowError"})}}return Oi.SizeOverflowError=i,Oi}var c_={},F9;function Gu(){if(F9)return c_;F9=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.trim=t;function t(e,{dir:r="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,s=0;for(let i=0;i<n.length-1&&n[r==="left"?i:n.length-i-1].toString()==="0";i++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),typeof e=="string"?(n.length===1&&r==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}return c_}var H9;function tn(){if(H9)return Uc;H9=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.assertSize=s,Uc.fromHex=i,Uc.hexToBigInt=o,Uc.hexToBool=a,Uc.hexToNumber=c,Uc.hexToString=u;const t=Tg(),e=_i(),r=Gu(),n=Cr();function s(l,{size:d}){if((0,e.size)(l)>d)throw new t.SizeOverflowError({givenSize:(0,e.size)(l),maxSize:d})}function i(l,d){const f=typeof d=="string"?{to:d}:d,h=f.to;return h==="number"?c(l,f):h==="bigint"?o(l,f):h==="string"?u(l,f):h==="boolean"?a(l,f):(0,n.hexToBytes)(l,f)}function o(l,d={}){const{signed:f}=d;d.size&&s(l,{size:d.size});const h=BigInt(l);if(!f)return h;const p=(l.length-2)/2,m=(1n<<BigInt(p)*8n-1n)-1n;return h<=m?h:h-BigInt(`0x${"f".padStart(p*2,"f")}`)-1n}function a(l,d={}){let f=l;if(d.size&&(s(f,{size:d.size}),f=(0,r.trim)(f)),(0,r.trim)(f)==="0x00")return!1;if((0,r.trim)(f)==="0x01")return!0;throw new t.InvalidHexBooleanError(f)}function c(l,d={}){return Number(o(l,d))}function u(l,d={}){let f=(0,n.hexToBytes)(l);return d.size&&(s(f,{size:d.size}),f=(0,r.trim)(f,{dir:"right"})),new TextDecoder().decode(f)}return Uc}var yl={},q9;function ze(){if(q9)return yl;q9=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.toHex=s,yl.boolToHex=i,yl.bytesToHex=o,yl.numberToHex=a,yl.stringToHex=u;const t=Tg(),e=Dd(),r=tn(),n=Array.from({length:256},(l,d)=>d.toString(16).padStart(2,"0"));function s(l,d={}){return typeof l=="number"||typeof l=="bigint"?a(l,d):typeof l=="string"?u(l,d):typeof l=="boolean"?i(l,d):o(l,d)}function i(l,d={}){const f=`0x${Number(l)}`;return typeof d.size=="number"?((0,r.assertSize)(f,{size:d.size}),(0,e.pad)(f,{size:d.size})):f}function o(l,d={}){let f="";for(let p=0;p<l.length;p++)f+=n[l[p]];const h=`0x${f}`;return typeof d.size=="number"?((0,r.assertSize)(h,{size:d.size}),(0,e.pad)(h,{dir:"right",size:d.size})):h}function a(l,d={}){const{signed:f,size:h}=d,p=BigInt(l);let m;h?f?m=(1n<<BigInt(h)*8n-1n)-1n:m=2n**(BigInt(h)*8n)-1n:typeof l=="number"&&(m=BigInt(Number.MAX_SAFE_INTEGER));const y=typeof m=="bigint"&&f?-m-1n:0;if(m&&p>m||p<y){const w=typeof l=="bigint"?"n":"";throw new t.IntegerOutOfRangeError({max:m?`${m}${w}`:void 0,min:`${y}${w}`,signed:f,size:h,value:`${l}${w}`})}const E=`0x${(f&&p<0?(1n<<BigInt(h*8))+BigInt(p):p).toString(16)}`;return h?(0,e.pad)(E,{size:h}):E}const c=new TextEncoder;function u(l,d={}){const f=c.encode(l);return o(f,d)}return yl}var z9;function Cr(){if(z9)return gl;z9=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.toBytes=o,gl.boolToBytes=a,gl.hexToBytes=l,gl.numberToBytes=d,gl.stringToBytes=f;const t=yt(),e=$s(),r=Dd(),n=tn(),s=ze(),i=new TextEncoder;function o(h,p={}){return typeof h=="number"||typeof h=="bigint"?d(h,p):typeof h=="boolean"?a(h,p):(0,e.isHex)(h)?l(h,p):f(h,p)}function a(h,p={}){const m=new Uint8Array(1);return m[0]=Number(h),typeof p.size=="number"?((0,n.assertSize)(m,{size:p.size}),(0,r.pad)(m,{size:p.size})):m}const c={zero:48,nine:57,A:65,F:70,a:97,f:102};function u(h){if(h>=c.zero&&h<=c.nine)return h-c.zero;if(h>=c.A&&h<=c.F)return h-(c.A-10);if(h>=c.a&&h<=c.f)return h-(c.a-10)}function l(h,p={}){let m=h;p.size&&((0,n.assertSize)(m,{size:p.size}),m=(0,r.pad)(m,{dir:"right",size:p.size}));let y=m.slice(2);y.length%2&&(y=`0${y}`);const E=y.length/2,w=new Uint8Array(E);for(let b=0,g=0;b<E;b++){const v=u(y.charCodeAt(g++)),A=u(y.charCodeAt(g++));if(v===void 0||A===void 0)throw new t.BaseError(`Invalid byte sequence ("${y[g-2]}${y[g-1]}" in "${y}").`);w[b]=v*16+A}return w}function d(h,p){const m=(0,s.numberToHex)(h,p);return l(m)}function f(h,p={}){const m=i.encode(h);return typeof p.size=="number"?((0,n.assertSize)(m,{size:p.size}),(0,r.pad)(m,{dir:"right",size:p.size})):m}return gl}var u_={},Ir={},mt={},$9;function Pte(){if($9)return mt;$9=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.toBig=mt.shrSL=mt.shrSH=mt.rotrSL=mt.rotrSH=mt.rotrBL=mt.rotrBH=mt.rotr32L=mt.rotr32H=mt.rotlSL=mt.rotlSH=mt.rotlBL=mt.rotlBH=mt.add5L=mt.add5H=mt.add4L=mt.add4H=mt.add3L=mt.add3H=void 0,mt.add=E,mt.fromBig=r,mt.split=n;const t=BigInt(2**32-1),e=BigInt(32);function r(T,N=!1){return N?{h:Number(T&t),l:Number(T>>e&t)}:{h:Number(T>>e&t)|0,l:Number(T&t)|0}}function n(T,N=!1){const M=T.length;let k=new Uint32Array(M),B=new Uint32Array(M);for(let U=0;U<M;U++){const{h:I,l:S}=r(T[U],N);[k[U],B[U]]=[I,S]}return[k,B]}const s=(T,N)=>BigInt(T>>>0)<<e|BigInt(N>>>0);mt.toBig=s;const i=(T,N,M)=>T>>>M;mt.shrSH=i;const o=(T,N,M)=>T<<32-M|N>>>M;mt.shrSL=o;const a=(T,N,M)=>T>>>M|N<<32-M;mt.rotrSH=a;const c=(T,N,M)=>T<<32-M|N>>>M;mt.rotrSL=c;const u=(T,N,M)=>T<<64-M|N>>>M-32;mt.rotrBH=u;const l=(T,N,M)=>T>>>M-32|N<<64-M;mt.rotrBL=l;const d=(T,N)=>N;mt.rotr32H=d;const f=(T,N)=>T;mt.rotr32L=f;const h=(T,N,M)=>T<<M|N>>>32-M;mt.rotlSH=h;const p=(T,N,M)=>N<<M|T>>>32-M;mt.rotlSL=p;const m=(T,N,M)=>N<<M-32|T>>>64-M;mt.rotlBH=m;const y=(T,N,M)=>T<<M-32|N>>>64-M;mt.rotlBL=y;function E(T,N,M,k){const B=(N>>>0)+(k>>>0);return{h:T+M+(B/2**32|0)|0,l:B|0}}const w=(T,N,M)=>(T>>>0)+(N>>>0)+(M>>>0);mt.add3L=w;const b=(T,N,M,k)=>N+M+k+(T/2**32|0)|0;mt.add3H=b;const g=(T,N,M,k)=>(T>>>0)+(N>>>0)+(M>>>0)+(k>>>0);mt.add4L=g;const v=(T,N,M,k,B)=>N+M+k+B+(T/2**32|0)|0;mt.add4H=v;const A=(T,N,M,k,B)=>(T>>>0)+(N>>>0)+(M>>>0)+(k>>>0)+(B>>>0);mt.add5L=A;const C=(T,N,M,k,B,U)=>N+M+k+B+U+(T/2**32|0)|0;mt.add5H=C;const x={fromBig:r,split:n,toBig:s,shrSH:i,shrSL:o,rotrSH:a,rotrSL:c,rotrBH:u,rotrBL:l,rotr32H:d,rotr32L:f,rotlSH:h,rotlSL:p,rotlBH:m,rotlBL:y,add:E,add3L:w,add3H:b,add4L:g,add4H:v,add5H:C,add5L:A};return mt.default=x,mt}var eO={},jy={},V9;function v3e(){return V9||(V9=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.crypto=void 0,jy.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),jy}var G9;function ma(){return G9||(G9=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=r,t.anumber=n,t.abytes=s,t.ahash=i,t.aexists=o,t.aoutput=a,t.u8=c,t.u32=u,t.clean=l,t.createView=d,t.rotr=f,t.rotl=h,t.byteSwap=p,t.byteSwap32=m,t.bytesToHex=w,t.hexToBytes=v,t.asyncLoop=C,t.utf8ToBytes=x,t.bytesToUtf8=T,t.toBytes=N,t.kdfInputToBytes=M,t.concatBytes=k,t.checkOpts=B,t.createHasher=I,t.createOptHasher=S,t.createXOFer=_,t.randomBytes=R;const e=v3e();function r(O){return O instanceof Uint8Array||ArrayBuffer.isView(O)&&O.constructor.name==="Uint8Array"}function n(O){if(!Number.isSafeInteger(O)||O<0)throw new Error("positive integer expected, got "+O)}function s(O,...P){if(!r(O))throw new Error("Uint8Array expected");if(P.length>0&&!P.includes(O.length))throw new Error("Uint8Array expected of length "+P+", got length="+O.length)}function i(O){if(typeof O!="function"||typeof O.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(O.outputLen),n(O.blockLen)}function o(O,P=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(P&&O.finished)throw new Error("Hash#digest() has already been called")}function a(O,P){s(O);const D=P.outputLen;if(O.length<D)throw new Error("digestInto() expects output buffer of length at least "+D)}function c(O){return new Uint8Array(O.buffer,O.byteOffset,O.byteLength)}function u(O){return new Uint32Array(O.buffer,O.byteOffset,Math.floor(O.byteLength/4))}function l(...O){for(let P=0;P<O.length;P++)O[P].fill(0)}function d(O){return new DataView(O.buffer,O.byteOffset,O.byteLength)}function f(O,P){return O<<32-P|O>>>P}function h(O,P){return O<<P|O>>>32-P>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function p(O){return O<<24&4278190080|O<<8&16711680|O>>>8&65280|O>>>24&255}t.swap8IfBE=t.isLE?O=>O:O=>p(O),t.byteSwapIfBE=t.swap8IfBE;function m(O){for(let P=0;P<O.length;P++)O[P]=p(O[P]);return O}t.swap32IfBE=t.isLE?O=>O:m;const y=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",E=Array.from({length:256},(O,P)=>P.toString(16).padStart(2,"0"));function w(O){if(s(O),y)return O.toHex();let P="";for(let D=0;D<O.length;D++)P+=E[O[D]];return P}const b={_0:48,_9:57,A:65,F:70,a:97,f:102};function g(O){if(O>=b._0&&O<=b._9)return O-b._0;if(O>=b.A&&O<=b.F)return O-(b.A-10);if(O>=b.a&&O<=b.f)return O-(b.a-10)}function v(O){if(typeof O!="string")throw new Error("hex string expected, got "+typeof O);if(y)return Uint8Array.fromHex(O);const P=O.length,D=P/2;if(P%2)throw new Error("hex string expected, got unpadded hex of length "+P);const j=new Uint8Array(D);for(let F=0,q=0;F<D;F++,q+=2){const z=g(O.charCodeAt(q)),W=g(O.charCodeAt(q+1));if(z===void 0||W===void 0){const K=O[q]+O[q+1];throw new Error('hex string expected, got non-hex character "'+K+'" at index '+q)}j[F]=z*16+W}return j}const A=async()=>{};t.nextTick=A;async function C(O,P,D){let j=Date.now();for(let F=0;F<O;F++){D(F);const q=Date.now()-j;q>=0&&q<P||(await(0,t.nextTick)(),j+=q)}}function x(O){if(typeof O!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(O))}function T(O){return new TextDecoder().decode(O)}function N(O){return typeof O=="string"&&(O=x(O)),s(O),O}function M(O){return typeof O=="string"&&(O=x(O)),s(O),O}function k(...O){let P=0;for(let j=0;j<O.length;j++){const F=O[j];s(F),P+=F.length}const D=new Uint8Array(P);for(let j=0,F=0;j<O.length;j++){const q=O[j];D.set(q,F),F+=q.length}return D}function B(O,P){if(P!==void 0&&{}.toString.call(P)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(O,P)}class U{}t.Hash=U;function I(O){const P=j=>O().update(N(j)).digest(),D=O();return P.outputLen=D.outputLen,P.blockLen=D.blockLen,P.create=()=>O(),P}function S(O){const P=(j,F)=>O(F).update(N(j)).digest(),D=O({});return P.outputLen=D.outputLen,P.blockLen=D.blockLen,P.create=j=>O(j),P}function _(O){const P=(j,F)=>O(F).update(N(j)).digest(),D=O({});return P.outputLen=D.outputLen,P.blockLen=D.blockLen,P.create=j=>O(j),P}t.wrapConstructor=I,t.wrapConstructorWithOpts=S,t.wrapXOFConstructorWithOpts=_;function R(O=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(O));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(O));throw new Error("crypto.getRandomValues must be defined")}})(eO)),eO}var W9;function xte(){if(W9)return Ir;W9=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.shake256=Ir.shake128=Ir.keccak_512=Ir.keccak_384=Ir.keccak_256=Ir.keccak_224=Ir.sha3_512=Ir.sha3_384=Ir.sha3_256=Ir.sha3_224=Ir.Keccak=void 0,Ir.keccakP=y;const t=Pte(),e=ma(),r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(7),o=BigInt(256),a=BigInt(113),c=[],u=[],l=[];for(let g=0,v=n,A=1,C=0;g<24;g++){[A,C]=[C,(2*A+3*C)%5],c.push(2*(5*C+A)),u.push((g+1)*(g+2)/2%64);let x=r;for(let T=0;T<7;T++)v=(v<<n^(v>>i)*a)%o,v&s&&(x^=n<<(n<<BigInt(T))-n);l.push(x)}const d=(0,t.split)(l,!0),f=d[0],h=d[1],p=(g,v,A)=>A>32?(0,t.rotlBH)(g,v,A):(0,t.rotlSH)(g,v,A),m=(g,v,A)=>A>32?(0,t.rotlBL)(g,v,A):(0,t.rotlSL)(g,v,A);function y(g,v=24){const A=new Uint32Array(10);for(let C=24-v;C<24;C++){for(let N=0;N<10;N++)A[N]=g[N]^g[N+10]^g[N+20]^g[N+30]^g[N+40];for(let N=0;N<10;N+=2){const M=(N+8)%10,k=(N+2)%10,B=A[k],U=A[k+1],I=p(B,U,1)^A[M],S=m(B,U,1)^A[M+1];for(let _=0;_<50;_+=10)g[N+_]^=I,g[N+_+1]^=S}let x=g[2],T=g[3];for(let N=0;N<24;N++){const M=u[N],k=p(x,T,M),B=m(x,T,M),U=c[N];x=g[U],T=g[U+1],g[U]=k,g[U+1]=B}for(let N=0;N<50;N+=10){for(let M=0;M<10;M++)A[M]=g[N+M];for(let M=0;M<10;M++)g[N+M]^=~A[(M+2)%10]&A[(M+4)%10]}g[0]^=f[C],g[1]^=h[C]}(0,e.clean)(A)}class E extends e.Hash{constructor(v,A,C,x=!1,T=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=v,this.suffix=A,this.outputLen=C,this.enableXOF=x,this.rounds=T,(0,e.anumber)(C),!(0<v&&v<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),y(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(v){(0,e.aexists)(this),v=(0,e.toBytes)(v),(0,e.abytes)(v);const{blockLen:A,state:C}=this,x=v.length;for(let T=0;T<x;){const N=Math.min(A-this.pos,x-T);for(let M=0;M<N;M++)C[this.pos++]^=v[T++];this.pos===A&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:v,suffix:A,pos:C,blockLen:x}=this;v[C]^=A,(A&128)!==0&&C===x-1&&this.keccak(),v[x-1]^=128,this.keccak()}writeInto(v){(0,e.aexists)(this,!1),(0,e.abytes)(v),this.finish();const A=this.state,{blockLen:C}=this;for(let x=0,T=v.length;x<T;){this.posOut>=C&&this.keccak();const N=Math.min(C-this.posOut,T-x);v.set(A.subarray(this.posOut,this.posOut+N),x),this.posOut+=N,x+=N}return v}xofInto(v){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(v)}xof(v){return(0,e.anumber)(v),this.xofInto(new Uint8Array(v))}digestInto(v){if((0,e.aoutput)(v,this),this.finished)throw new Error("digest() was already called");return this.writeInto(v),this.destroy(),v}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(v){const{blockLen:A,suffix:C,outputLen:x,rounds:T,enableXOF:N}=this;return v||(v=new E(A,C,x,N,T)),v.state32.set(this.state32),v.pos=this.pos,v.posOut=this.posOut,v.finished=this.finished,v.rounds=T,v.suffix=C,v.outputLen=x,v.enableXOF=N,v.destroyed=this.destroyed,v}}Ir.Keccak=E;const w=(g,v,A)=>(0,e.createHasher)(()=>new E(v,g,A));Ir.sha3_224=w(6,144,224/8),Ir.sha3_256=w(6,136,256/8),Ir.sha3_384=w(6,104,384/8),Ir.sha3_512=w(6,72,512/8),Ir.keccak_224=w(1,144,224/8),Ir.keccak_256=w(1,136,256/8),Ir.keccak_384=w(1,104,384/8),Ir.keccak_512=w(1,72,512/8);const b=(g,v,A)=>(0,e.createXOFer)((C={})=>new E(v,g,C.dkLen===void 0?A:C.dkLen,!0));return Ir.shake128=b(31,168,128/8),Ir.shake256=b(31,136,256/8),Ir}var K9;function Ai(){if(K9)return u_;K9=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.keccak256=s;const t=xte(),e=$s(),r=Cr(),n=ze();function s(i,o){const a=o||"hex",c=(0,t.keccak_256)((0,e.isHex)(i,{strict:!1})?(0,r.toBytes)(i):i);return a==="bytes"?c:(0,n.toHex)(c)}return u_}var Dy={},l_={},d_={},Z9;function _3e(){if(Z9)return d_;Z9=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.hashSignature=n;const t=Cr(),e=Ai(),r=s=>(0,e.keccak256)((0,t.toBytes)(s));function n(s){return r(s)}return d_}var My={},f_={},Y9;function A3e(){if(Y9)return f_;Y9=1,Object.defineProperty(f_,"__esModule",{value:!0}),f_.normalizeSignature=e;const t=yt();function e(r){let n=!0,s="",i=0,o="",a=!1;for(let c=0;c<r.length;c++){const u=r[c];if(["(",")",","].includes(u)&&(n=!0),u==="("&&i++,u===")"&&i--,!!n){if(i===0){if(u===" "&&["event","function",""].includes(o))o="";else if(o+=u,u===")"){a=!0;break}continue}if(u===" "){r[c-1]!==","&&s!==","&&s!==",("&&(s="",n=!1);continue}o+=u,s+=u}}if(!a)throw new t.BaseError("Unable to normalize signature.");return o}return f_}var J9;function z3(){if(J9)return My;J9=1,Object.defineProperty(My,"__esModule",{value:!0}),My.toSignature=void 0;const t=kP(),e=A3e(),r=n=>{const s=typeof n=="string"?n:(0,t.formatAbiItem)(n);return(0,e.normalizeSignature)(s)};return My.toSignature=r,My}var Q9;function DP(){if(Q9)return l_;Q9=1,Object.defineProperty(l_,"__esModule",{value:!0}),l_.toSignatureHash=r;const t=_3e(),e=z3();function r(n){return(0,t.hashSignature)((0,e.toSignature)(n))}return l_}var X9;function Pg(){if(X9)return Dy;X9=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.toEventSelector=void 0;const t=DP();return Dy.toEventSelector=t.toSignatureHash,Dy}var Uy={},Ly={},eF;function ga(){if(eF)return Ly;eF=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.InvalidAddressError=void 0;const t=yt();class e extends t.BaseError{constructor({address:n}){super(`Address "${n}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}return Ly.InvalidAddressError=e,Ly}var tO={},Fy={},tF;function _p(){if(tF)return Fy;tF=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.LruMap=void 0;class t extends Map{constructor(r){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=r}get(r){const n=super.get(r);return super.has(r)&&n!==void 0&&(this.delete(r),super.set(r,n)),n}set(r,n){if(super.set(r,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}return Fy.LruMap=t,Fy}var Hy={},rF;function ro(){if(rF)return Hy;rF=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.checksumAddress=o,Hy.getAddress=a;const t=ga(),e=Cr(),r=Ai(),n=_p(),s=Ci(),i=new n.LruMap(8192);function o(c,u){if(i.has(`${c}.${u}`))return i.get(`${c}.${u}`);const l=u?`${u}${c.toLowerCase()}`:c.substring(2).toLowerCase(),d=(0,r.keccak256)((0,e.stringToBytes)(l),"bytes"),f=(u?l.substring(`${u}0x`.length):l).split("");for(let p=0;p<40;p+=2)d[p>>1]>>4>=8&&f[p]&&(f[p]=f[p].toUpperCase()),(d[p>>1]&15)>=8&&f[p+1]&&(f[p+1]=f[p+1].toUpperCase());const h=`0x${f.join("")}`;return i.set(`${c}.${u}`,h),h}function a(c,u){if(!(0,s.isAddress)(c,{strict:!1}))throw new t.InvalidAddressError({address:c});return o(c,u)}return Hy}var nF;function Ci(){return nF||(nF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAddressCache=void 0,t.isAddress=s;const e=_p(),r=ro(),n=/^0x[a-fA-F0-9]{40}$/;t.isAddressCache=new e.LruMap(8192);function s(i,o){const{strict:a=!0}=o??{},c=`${i}.${a}`;if(t.isAddressCache.has(c))return t.isAddressCache.get(c);const u=n.test(i)?i.toLowerCase()===i?!0:a?(0,r.checksumAddress)(i)===i:!0:!1;return t.isAddressCache.set(c,u),u}})(tO)),tO}var Xp={},sF;function jn(){if(sF)return Xp;sF=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.concat=t,Xp.concatBytes=e,Xp.concatHex=r;function t(n){return typeof n[0]=="string"?r(n):e(n)}function e(n){let s=0;for(const a of n)s+=a.length;const i=new Uint8Array(s);let o=0;for(const a of n)i.set(a,o),o+=a.length;return i}function r(n){return`0x${n.reduce((s,i)=>s+i.replace("0x",""),"")}`}return Xp}var e0={},iF;function Oo(){if(iF)return e0;iF=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.slice=n,e0.sliceBytes=o,e0.sliceHex=a;const t=jP(),e=$s(),r=_i();function n(c,u,l,{strict:d}={}){return(0,e.isHex)(c,{strict:!1})?a(c,u,l,{strict:d}):o(c,u,l,{strict:d})}function s(c,u){if(typeof u=="number"&&u>0&&u>(0,r.size)(c)-1)throw new t.SliceOffsetOutOfBoundsError({offset:u,position:"start",size:(0,r.size)(c)})}function i(c,u,l){if(typeof u=="number"&&typeof l=="number"&&(0,r.size)(c)!==l-u)throw new t.SliceOffsetOutOfBoundsError({offset:l,position:"end",size:(0,r.size)(c)})}function o(c,u,l,{strict:d}={}){s(c,u);const f=c.slice(u,l);return d&&i(f,u,l),f}function a(c,u,l,{strict:d}={}){s(c,u);const f=`0x${c.replace("0x","").slice((u??0)*2,(l??c.length)*2)}`;return d&&i(f,u,l),f}return e0}var Lc={},oF;function MP(){return oF||(oF=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.integerRegex=Lc.bytesRegex=Lc.arrayRegex=void 0,Lc.arrayRegex=/^(.*)\[([0-9]*)\]$/,Lc.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Lc.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/),Lc}var aF;function ya(){if(aF)return Uy;aF=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.encodeAbiParameters=d,Uy.getArrayComponents=A;const t=Hr(),e=ga(),r=yt(),n=Tg(),s=Ci(),i=jn(),o=Dd(),a=_i(),c=Oo(),u=ze(),l=MP();function d(C,x){if(C.length!==x.length)throw new t.AbiEncodingLengthMismatchError({expectedLength:C.length,givenLength:x.length});const T=f({params:C,values:x}),N=p(T);return N.length===0?"0x":N}function f({params:C,values:x}){const T=[];for(let N=0;N<C.length;N++)T.push(h({param:C[N],value:x[N]}));return T}function h({param:C,value:x}){const T=A(C.type);if(T){const[N,M]=T;return y(x,{length:N,param:{...C,type:M}})}if(C.type==="tuple")return v(x,{param:C});if(C.type==="address")return m(x);if(C.type==="bool")return w(x);if(C.type.startsWith("uint")||C.type.startsWith("int")){const N=C.type.startsWith("int"),[,,M="256"]=l.integerRegex.exec(C.type)??[];return b(x,{signed:N,size:Number(M)})}if(C.type.startsWith("bytes"))return E(x,{param:C});if(C.type==="string")return g(x);throw new t.InvalidAbiEncodingTypeError(C.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p(C){let x=0;for(let k=0;k<C.length;k++){const{dynamic:B,encoded:U}=C[k];B?x+=32:x+=(0,a.size)(U)}const T=[],N=[];let M=0;for(let k=0;k<C.length;k++){const{dynamic:B,encoded:U}=C[k];B?(T.push((0,u.numberToHex)(x+M,{size:32})),N.push(U),M+=(0,a.size)(U)):T.push(U)}return(0,i.concat)([...T,...N])}function m(C){if(!(0,s.isAddress)(C))throw new e.InvalidAddressError({address:C});return{dynamic:!1,encoded:(0,o.padHex)(C.toLowerCase())}}function y(C,{length:x,param:T}){const N=x===null;if(!Array.isArray(C))throw new t.InvalidArrayError(C);if(!N&&C.length!==x)throw new t.AbiEncodingArrayLengthMismatchError({expectedLength:x,givenLength:C.length,type:`${T.type}[${x}]`});let M=!1;const k=[];for(let B=0;B<C.length;B++){const U=h({param:T,value:C[B]});U.dynamic&&(M=!0),k.push(U)}if(N||M){const B=p(k);if(N){const U=(0,u.numberToHex)(k.length,{size:32});return{dynamic:!0,encoded:k.length>0?(0,i.concat)([U,B]):U}}if(M)return{dynamic:!0,encoded:B}}return{dynamic:!1,encoded:(0,i.concat)(k.map(({encoded:B})=>B))}}function E(C,{param:x}){const[,T]=x.type.split("bytes"),N=(0,a.size)(C);if(!T){let M=C;return N%32!==0&&(M=(0,o.padHex)(M,{dir:"right",size:Math.ceil((C.length-2)/2/32)*32})),{dynamic:!0,encoded:(0,i.concat)([(0,o.padHex)((0,u.numberToHex)(N,{size:32})),M])}}if(N!==Number.parseInt(T,10))throw new t.AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(T,10),value:C});return{dynamic:!1,encoded:(0,o.padHex)(C,{dir:"right"})}}function w(C){if(typeof C!="boolean")throw new r.BaseError(`Invalid boolean value: "${C}" (type: ${typeof C}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,o.padHex)((0,u.boolToHex)(C))}}function b(C,{signed:x,size:T=256}){if(typeof T=="number"){const N=2n**(BigInt(T)-(x?1n:0n))-1n,M=x?-N-1n:0n;if(C>N||C<M)throw new n.IntegerOutOfRangeError({max:N.toString(),min:M.toString(),signed:x,size:T/8,value:C.toString()})}return{dynamic:!1,encoded:(0,u.numberToHex)(C,{size:32,signed:x})}}function g(C){const x=(0,u.stringToHex)(C),T=Math.ceil((0,a.size)(x)/32),N=[];for(let M=0;M<T;M++)N.push((0,o.padHex)((0,c.slice)(x,M*32,(M+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,i.concat)([(0,o.padHex)((0,u.numberToHex)((0,a.size)(x),{size:32})),...N])}}function v(C,{param:x}){let T=!1;const N=[];for(let M=0;M<x.components.length;M++){const k=x.components[M],B=Array.isArray(C)?M:k.name,U=h({param:k,value:C[B]});N.push(U),U.dynamic&&(T=!0)}return{dynamic:T,encoded:T?p(N):(0,i.concat)(N.map(({encoded:M})=>M))}}function A(C){const x=C.match(/^(.*)\[(\d+)?\]$/);return x?[x[2]?Number(x[2]):null,x[1]]:void 0}return Uy}var t0={},qy={},cF;function Ap(){if(cF)return qy;cF=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.toFunctionSelector=void 0;const t=Oo(),e=DP(),r=n=>(0,t.slice)((0,e.toSignatureHash)(n),0,4);return qy.toFunctionSelector=r,qy}var uF;function Wu(){if(uF)return t0;uF=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.getAbiItem=i,t0.isArgOfType=o,t0.getAmbiguousTypes=a;const t=Hr(),e=$s(),r=Ci(),n=Pg(),s=Ap();function i(c){const{abi:u,args:l=[],name:d}=c,f=(0,e.isHex)(d,{strict:!1}),h=u.filter(m=>f?m.type==="function"?(0,s.toFunctionSelector)(m)===d:m.type==="event"?(0,n.toEventSelector)(m)===d:!1:"name"in m&&m.name===d);if(h.length===0)return;if(h.length===1)return h[0];let p;for(const m of h){if(!("inputs"in m))continue;if(!l||l.length===0){if(!m.inputs||m.inputs.length===0)return m;continue}if(!m.inputs||m.inputs.length===0||m.inputs.length!==l.length)continue;if(l.every((E,w)=>{const b="inputs"in m&&m.inputs[w];return b?o(E,b):!1})){if(p&&"inputs"in p&&p.inputs){const E=a(m.inputs,p.inputs,l);if(E)throw new t.AbiItemAmbiguityError({abiItem:m,type:E[0]},{abiItem:p,type:E[1]})}p=m}}return p||h[0]}function o(c,u){const l=typeof c,d=u.type;switch(d){case"address":return(0,r.isAddress)(c,{strict:!1});case"bool":return l==="boolean";case"function":return l==="string";case"string":return l==="string";default:return d==="tuple"&&"components"in u?Object.values(u.components).every((f,h)=>o(Object.values(c)[h],f)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(d)?l==="number"||l==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(d)?l==="string"||c instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(d)?Array.isArray(c)&&c.every(f=>o(f,{...u,type:d.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function a(c,u,l){for(const d in c){const f=c[d],h=u[d];if(f.type==="tuple"&&h.type==="tuple"&&"components"in f&&"components"in h)return a(f.components,h.components,l[d]);const p=[f.type,h.type];if(p.includes("address")&&p.includes("bytes20")?!0:p.includes("address")&&p.includes("string")?(0,r.isAddress)(l[d],{strict:!1}):p.includes("address")&&p.includes("bytes")?(0,r.isAddress)(l[d],{strict:!1}):!1)return p}}return t0}var lF;function Cp(){if(lF)return i_;lF=1,Object.defineProperty(i_,"__esModule",{value:!0}),i_.encodeEventTopics=u;const t=Hr(),e=Tte(),r=Cr(),n=Ai(),s=Pg(),i=ya(),o=Vu(),a=Wu(),c="/docs/contract/encodeEventTopics";function u(d){var b;const{abi:f,eventName:h,args:p}=d;let m=f[0];if(h){const g=(0,a.getAbiItem)({abi:f,name:h});if(!g)throw new t.AbiEventNotFoundError(h,{docsPath:c});m=g}if(m.type!=="event")throw new t.AbiEventNotFoundError(void 0,{docsPath:c});const y=(0,o.formatAbiItem)(m),E=(0,s.toEventSelector)(y);let w=[];if(p&&"inputs"in m){const g=(b=m.inputs)==null?void 0:b.filter(A=>"indexed"in A&&A.indexed),v=Array.isArray(p)?p:Object.values(p).length>0?(g==null?void 0:g.map(A=>p[A.name]))??[]:[];v.length>0&&(w=(g==null?void 0:g.map((A,C)=>Array.isArray(v[C])?v[C].map((x,T)=>l({param:A,value:v[C][T]})):typeof v[C]<"u"&&v[C]!==null?l({param:A,value:v[C]}):null))??[])}return[E,...w]}function l({param:d,value:f}){if(d.type==="string"||d.type==="bytes")return(0,n.keccak256)((0,r.toBytes)(f));if(d.type==="tuple"||d.type.match(/^(.*)\[(\d+)?\]$/))throw new e.FilterTypeNotSupportedError(d.type);return(0,i.encodeAbiParameters)([d],[f])}return i_}var h_={},dF;function UP(){if(dF)return h_;dF=1,Object.defineProperty(h_,"__esModule",{value:!0}),h_.createFilterRequestScope=t;function t(e,{method:r}){var s,i;const n={};return e.transport.type==="fallback"&&((i=(s=e.transport).onResponse)==null||i.call(s,({method:o,response:a,status:c,transport:u})=>{c==="success"&&r===o&&(n[a]=u.request)})),(o=>n[o]||e.request)}return h_}var fF;function $3(){if(fF)return s_;fF=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.createContractEventFilter=n;const t=Cp(),e=ze(),r=UP();async function n(s,i){const{address:o,abi:a,args:c,eventName:u,fromBlock:l,strict:d,toBlock:f}=i,h=(0,r.createFilterRequestScope)(s,{method:"eth_newFilter"}),p=u?(0,t.encodeEventTopics)({abi:a,args:c,eventName:u}):void 0,m=await s.request({method:"eth_newFilter",params:[{address:o,fromBlock:typeof l=="bigint"?(0,e.numberToHex)(l):l,toBlock:typeof f=="bigint"?(0,e.numberToHex)(f):f,topics:p}]});return{abi:a,args:c,eventName:u,id:m,request:h(m),strict:!!d,type:"event"}}return s_}var p_={},m_={},hF;function Wr(){if(hF)return m_;hF=1,Object.defineProperty(m_,"__esModule",{value:!0}),m_.parseAccount=t;function t(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}return m_}var g_={},y_={},pF;function Ote(){if(pF)return y_;pF=1,Object.defineProperty(y_,"__esModule",{value:!0}),y_.prepareEncodeFunctionData=i;const t=Hr(),e=Ap(),r=Vu(),n=Wu(),s="/docs/contract/encodeFunctionData";function i(o){const{abi:a,args:c,functionName:u}=o;let l=a[0];if(u){const d=(0,n.getAbiItem)({abi:a,args:c,name:u});if(!d)throw new t.AbiFunctionNotFoundError(u,{docsPath:s});l=d}if(l.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:s});return{abi:[l],functionName:(0,e.toFunctionSelector)((0,r.formatAbiItem)(l))}}return y_}var mF;function Si(){if(mF)return g_;mF=1,Object.defineProperty(g_,"__esModule",{value:!0}),g_.encodeFunctionData=n;const t=jn(),e=ya(),r=Ote();function n(s){const{args:i}=s,{abi:o,functionName:a}=(()=>{var d;return s.abi.length===1&&((d=s.functionName)!=null&&d.startsWith("0x"))?s:(0,r.prepareEncodeFunctionData)(s)})(),c=o[0],u=a,l="inputs"in c&&c.inputs?(0,e.encodeAbiParameters)(c.inputs,i??[]):void 0;return(0,t.concatHex)([u,l??"0x"])}return g_}var b_={},Cs={},Fc={},gF;function V3(){return gF||(gF=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.solidityPanic=Fc.solidityError=Fc.panicReasons=void 0,Fc.panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Fc.solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Fc.solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}),Fc}var w_={},E_={},v_={},Hc={},yF;function Rte(){if(yF)return Hc;yF=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.RecursiveReadLimitExceededError=Hc.PositionOutOfBoundsError=Hc.NegativeOffsetError=void 0;const t=yt();class e extends t.BaseError{constructor({offset:i}){super(`Offset \`${i}\` cannot be negative.`,{name:"NegativeOffsetError"})}}Hc.NegativeOffsetError=e;class r extends t.BaseError{constructor({length:i,position:o}){super(`Position \`${o}\` is out of bounds (\`0 < position < ${i}\`).`,{name:"PositionOutOfBoundsError"})}}Hc.PositionOutOfBoundsError=r;class n extends t.BaseError{constructor({count:i,limit:o}){super(`Recursive read limit of \`${o}\` exceeded (recursive read count: \`${i}\`).`,{name:"RecursiveReadLimitExceededError"})}}return Hc.RecursiveReadLimitExceededError=n,Hc}var bF;function mE(){if(bF)return v_;bF=1,Object.defineProperty(v_,"__esModule",{value:!0}),v_.createCursor=r;const t=Rte(),e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new t.RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(n){if(n<0||n>this.bytes.length-1)throw new t.PositionOutOfBoundsError({length:this.bytes.length,position:n})},decrementPosition(n){if(n<0)throw new t.NegativeOffsetError({offset:n});const s=this.position-n;this.assertPosition(s),this.position=s},getReadCount(n){return this.positionReadCount.get(n||this.position)||0},incrementPosition(n){if(n<0)throw new t.NegativeOffsetError({offset:n});const s=this.position+n;this.assertPosition(s),this.position=s},inspectByte(n){const s=n??this.position;return this.assertPosition(s),this.bytes[s]},inspectBytes(n,s){const i=s??this.position;return this.assertPosition(i+n-1),this.bytes.subarray(i,i+n)},inspectUint8(n){const s=n??this.position;return this.assertPosition(s),this.bytes[s]},inspectUint16(n){const s=n??this.position;return this.assertPosition(s+1),this.dataView.getUint16(s)},inspectUint24(n){const s=n??this.position;return this.assertPosition(s+2),(this.dataView.getUint16(s)<<8)+this.dataView.getUint8(s+2)},inspectUint32(n){const s=n??this.position;return this.assertPosition(s+3),this.dataView.getUint32(s)},pushByte(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushBytes(n){this.assertPosition(this.position+n.length-1),this.bytes.set(n,this.position),this.position+=n.length},pushUint8(n){this.assertPosition(this.position),this.bytes[this.position]=n,this.position++},pushUint16(n){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,n),this.position+=2},pushUint24(n){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,n>>8),this.dataView.setUint8(this.position+2,n&255),this.position+=3},pushUint32(n){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,n),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const n=this.inspectByte();return this.position++,n},readBytes(n,s){this.assertReadLimit(),this._touch();const i=this.inspectBytes(n);return this.position+=s??n,i},readUint8(){this.assertReadLimit(),this._touch();const n=this.inspectUint8();return this.position+=1,n},readUint16(){this.assertReadLimit(),this._touch();const n=this.inspectUint16();return this.position+=2,n},readUint24(){this.assertReadLimit(),this._touch();const n=this.inspectUint24();return this.position+=3,n},readUint32(){this.assertReadLimit(),this._touch();const n=this.inspectUint32();return this.position+=4,n},get remaining(){return this.bytes.length-this.position},setPosition(n){const s=this.position;return this.assertPosition(n),this.position=n,()=>this.position=s},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const n=this.getReadCount();this.positionReadCount.set(this.position,n+1),n>0&&this.recursiveReadCount++}};function r(n,{recursiveReadLimit:s=8192}={}){const i=Object.create(e);return i.bytes=n,i.dataView=new DataView(n.buffer,n.byteOffset,n.byteLength),i.positionReadCount=new Map,i.recursiveReadLimit=s,i}return v_}var bl={},wF;function G3(){if(wF)return bl;wF=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.fromBytes=s,bl.bytesToBigInt=i,bl.bytesToBool=o,bl.bytesToNumber=a,bl.bytesToString=c;const t=Tg(),e=Gu(),r=tn(),n=ze();function s(u,l){const d=typeof l=="string"?{to:l}:l,f=d.to;return f==="number"?a(u,d):f==="bigint"?i(u,d):f==="boolean"?o(u,d):f==="string"?c(u,d):(0,n.bytesToHex)(u,d)}function i(u,l={}){typeof l.size<"u"&&(0,r.assertSize)(u,{size:l.size});const d=(0,n.bytesToHex)(u,l);return(0,r.hexToBigInt)(d,l)}function o(u,l={}){let d=u;if(typeof l.size<"u"&&((0,r.assertSize)(d,{size:l.size}),d=(0,e.trim)(d)),d.length>1||d[0]>1)throw new t.InvalidBytesBooleanError(d);return!!d[0]}function a(u,l={}){typeof l.size<"u"&&(0,r.assertSize)(u,{size:l.size});const d=(0,n.bytesToHex)(u,l);return(0,r.hexToNumber)(d,l)}function c(u,l={}){let d=u;return typeof l.size<"u"&&((0,r.assertSize)(d,{size:l.size}),d=(0,e.trim)(d,{dir:"right"})),new TextDecoder().decode(d)}return bl}var EF;function Md(){if(EF)return E_;EF=1,Object.defineProperty(E_,"__esModule",{value:!0}),E_.decodeAbiParameters=l;const t=Hr(),e=ro(),r=mE(),n=_i(),s=Oo(),i=Gu(),o=G3(),a=Cr(),c=ze(),u=ya();function l(A,C){const x=typeof C=="string"?(0,a.hexToBytes)(C):C,T=(0,r.createCursor)(x);if((0,n.size)(x)===0&&A.length>0)throw new t.AbiDecodingZeroDataError;if((0,n.size)(C)&&(0,n.size)(C)<32)throw new t.AbiDecodingDataSizeTooSmallError({data:typeof C=="string"?C:(0,c.bytesToHex)(C),params:A,size:(0,n.size)(C)});let N=0;const M=[];for(let k=0;k<A.length;++k){const B=A[k];T.setPosition(N);const[U,I]=d(T,B,{staticPosition:0});N+=I,M.push(U)}return M}function d(A,C,{staticPosition:x}){const T=(0,u.getArrayComponents)(C.type);if(T){const[N,M]=T;return m(A,{...C,type:M},{length:N,staticPosition:x})}if(C.type==="tuple")return b(A,C,{staticPosition:x});if(C.type==="address")return p(A);if(C.type==="bool")return y(A);if(C.type.startsWith("bytes"))return E(A,C,{staticPosition:x});if(C.type.startsWith("uint")||C.type.startsWith("int"))return w(A,C);if(C.type==="string")return g(A,{staticPosition:x});throw new t.InvalidAbiDecodingTypeError(C.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const f=32,h=32;function p(A){const C=A.readBytes(32);return[(0,e.checksumAddress)((0,c.bytesToHex)((0,s.sliceBytes)(C,-20))),32]}function m(A,C,{length:x,staticPosition:T}){if(!x){const k=(0,o.bytesToNumber)(A.readBytes(h)),B=T+k,U=B+f;A.setPosition(B);const I=(0,o.bytesToNumber)(A.readBytes(f)),S=v(C);let _=0;const R=[];for(let O=0;O<I;++O){A.setPosition(U+(S?O*32:_));const[P,D]=d(A,C,{staticPosition:U});_+=D,R.push(P)}return A.setPosition(T+32),[R,32]}if(v(C)){const k=(0,o.bytesToNumber)(A.readBytes(h)),B=T+k,U=[];for(let I=0;I<x;++I){A.setPosition(B+I*32);const[S]=d(A,C,{staticPosition:B});U.push(S)}return A.setPosition(T+32),[U,32]}let N=0;const M=[];for(let k=0;k<x;++k){const[B,U]=d(A,C,{staticPosition:T+N});N+=U,M.push(B)}return[M,N]}function y(A){return[(0,o.bytesToBool)(A.readBytes(32),{size:32}),32]}function E(A,C,{staticPosition:x}){const[T,N]=C.type.split("bytes");if(!N){const k=(0,o.bytesToNumber)(A.readBytes(32));A.setPosition(x+k);const B=(0,o.bytesToNumber)(A.readBytes(32));if(B===0)return A.setPosition(x+32),["0x",32];const U=A.readBytes(B);return A.setPosition(x+32),[(0,c.bytesToHex)(U),32]}return[(0,c.bytesToHex)(A.readBytes(Number.parseInt(N,10),32)),32]}function w(A,C){const x=C.type.startsWith("int"),T=Number.parseInt(C.type.split("int")[1]||"256",10),N=A.readBytes(32);return[T>48?(0,o.bytesToBigInt)(N,{signed:x}):(0,o.bytesToNumber)(N,{signed:x}),32]}function b(A,C,{staticPosition:x}){const T=C.components.length===0||C.components.some(({name:k})=>!k),N=T?[]:{};let M=0;if(v(C)){const k=(0,o.bytesToNumber)(A.readBytes(h)),B=x+k;for(let U=0;U<C.components.length;++U){const I=C.components[U];A.setPosition(B+M);const[S,_]=d(A,I,{staticPosition:B});M+=_,N[T?U:I==null?void 0:I.name]=S}return A.setPosition(x+32),[N,32]}for(let k=0;k<C.components.length;++k){const B=C.components[k],[U,I]=d(A,B,{staticPosition:x});N[T?k:B==null?void 0:B.name]=U,M+=I}return[N,M]}function g(A,{staticPosition:C}){const x=(0,o.bytesToNumber)(A.readBytes(32)),T=C+x;A.setPosition(T);const N=(0,o.bytesToNumber)(A.readBytes(32));if(N===0)return A.setPosition(C+32),["",32];const M=A.readBytes(N,32),k=(0,o.bytesToString)((0,i.trim)(M));return A.setPosition(C+32),[k,32]}function v(A){var T;const{type:C}=A;if(C==="string"||C==="bytes"||C.endsWith("[]"))return!0;if(C==="tuple")return(T=A.components)==null?void 0:T.some(v);const x=(0,u.getArrayComponents)(A.type);return!!(x&&v({...A,type:x[1]}))}return E_}var vF;function LP(){if(vF)return w_;vF=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.decodeErrorResult=o;const t=V3(),e=Hr(),r=Oo(),n=Ap(),s=Md(),i=Vu();function o(a){const{abi:c,data:u}=a,l=(0,r.slice)(u,0,4);if(l==="0x")throw new e.AbiDecodingZeroDataError;const f=[...c||[],t.solidityError,t.solidityPanic].find(h=>h.type==="error"&&l===(0,n.toFunctionSelector)((0,i.formatAbiItem)(h)));if(!f)throw new e.AbiErrorSignatureNotFoundError(l,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:f,args:"inputs"in f&&f.inputs&&f.inputs.length>0?(0,s.decodeAbiParameters)(f.inputs,(0,r.slice)(u,4)):void 0,errorName:f.name}}return w_}var __={},zy={},_F;function Xn(){if(_F)return zy;_F=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.stringify=void 0;const t=(e,r,n)=>JSON.stringify(e,(s,i)=>{const o=typeof i=="bigint"?i.toString():i;return typeof r=="function"?r(s,o):o},n);return zy.stringify=t,zy}var AF;function Nte(){if(AF)return __;AF=1,Object.defineProperty(__,"__esModule",{value:!0}),__.formatAbiItemWithArgs=e;const t=Xn();function e({abiItem:r,args:n,includeFunctionName:s=!0,includeName:i=!1}){if("name"in r&&"inputs"in r&&r.inputs)return`${s?r.name:""}(${r.inputs.map((o,a)=>`${i&&o.name?`${o.name}: `:""}${typeof n[a]=="object"?(0,t.stringify)(n[a]):n[a]}`).join(", ")})`}return __}var A_={},qc={},CF;function gE(){return CF||(CF=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.weiUnits=qc.gweiUnits=qc.etherUnits=void 0,qc.etherUnits={gwei:9,wei:18},qc.gweiUnits={ether:-9,wei:9},qc.weiUnits={ether:-18,gwei:-9}),qc}var C_={},SF;function FP(){if(SF)return C_;SF=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.formatUnits=t;function t(e,r){let n=e.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(r,"0");let[i,o]=[n.slice(0,n.length-r),n.slice(n.length-r)];return o=o.replace(/(0+)$/,""),`${s?"-":""}${i||"0"}${o?`.${o}`:""}`}return C_}var IF;function yE(){if(IF)return A_;IF=1,Object.defineProperty(A_,"__esModule",{value:!0}),A_.formatEther=r;const t=gE(),e=FP();function r(n,s="wei"){return(0,e.formatUnits)(n,t.etherUnits[s])}return A_}var S_={},TF;function Sp(){if(TF)return S_;TF=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.formatGwei=r;const t=gE(),e=FP();function r(n,s="wei"){return(0,e.formatUnits)(n,t.gweiUnits[s])}return S_}var zc={},PF;function W3(){if(PF)return zc;PF=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.StateAssignmentConflictError=zc.AccountStateConflictError=void 0,zc.prettyStateMapping=n,zc.prettyStateOverride=s;const t=yt();class e extends t.BaseError{constructor({address:o}){super(`State for account "${o}" is set multiple times.`,{name:"AccountStateConflictError"})}}zc.AccountStateConflictError=e;class r extends t.BaseError{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}zc.StateAssignmentConflictError=r;function n(i){return i.reduce((o,{slot:a,value:c})=>`${o}        ${a}: ${c}
`,"")}function s(i){return i.reduce((o,{address:a,...c})=>{let u=`${o}    ${a}:
`;return c.nonce&&(u+=`      nonce: ${c.nonce}
`),c.balance&&(u+=`      balance: ${c.balance}
`),c.code&&(u+=`      code: ${c.code}
`),c.state&&(u+=`      state:
`,u+=n(c.state)),c.stateDiff&&(u+=`      stateDiff:
`,u+=n(c.stateDiff)),u},`  State Override:
`).slice(0,-1)}return zc}var Tr={},xF;function Ii(){if(xF)return Tr;xF=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.WaitForTransactionReceiptTimeoutError=Tr.TransactionReceiptRevertedError=Tr.TransactionReceiptNotFoundError=Tr.TransactionNotFoundError=Tr.TransactionExecutionError=Tr.InvalidStorageKeySizeError=Tr.InvalidSerializedTransactionError=Tr.InvalidSerializedTransactionTypeError=Tr.InvalidSerializableTransactionError=Tr.InvalidLegacyVError=Tr.FeeConflictError=void 0,Tr.prettyPrint=n;const t=yE(),e=Sp(),r=yt();function n(m){const y=Object.entries(m).map(([w,b])=>b===void 0||b===!1?null:[w,b]).filter(Boolean),E=y.reduce((w,[b])=>Math.max(w,b.length),0);return y.map(([w,b])=>`  ${`${w}:`.padEnd(E+1)}  ${b}`).join(`
`)}class s extends r.BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}Tr.FeeConflictError=s;class i extends r.BaseError{constructor({v:y}){super(`Invalid \`v\` value "${y}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}Tr.InvalidLegacyVError=i;class o extends r.BaseError{constructor({transaction:y}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",n(y),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}Tr.InvalidSerializableTransactionError=o;class a extends r.BaseError{constructor({serializedType:y}){super(`Serialized transaction type "${y}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=y}}Tr.InvalidSerializedTransactionTypeError=a;class c extends r.BaseError{constructor({attributes:y,serializedTransaction:E,type:w}){const b=Object.entries(y).map(([g,v])=>typeof v>"u"?g:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${w}" was provided.`,{metaMessages:[`Serialized Transaction: "${E}"`,b.length>0?`Missing Attributes: ${b.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=E,this.type=w}}Tr.InvalidSerializedTransactionError=c;class u extends r.BaseError{constructor({storageKey:y}){super(`Size for storage key "${y}" is invalid. Expected 32 bytes. Got ${Math.floor((y.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}Tr.InvalidStorageKeySizeError=u;class l extends r.BaseError{constructor(y,{account:E,docsPath:w,chain:b,data:g,gas:v,gasPrice:A,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:T,to:N,value:M}){var B;const k=n({chain:b&&`${b==null?void 0:b.name} (id: ${b==null?void 0:b.id})`,from:E==null?void 0:E.address,to:N,value:typeof M<"u"&&`${(0,t.formatEther)(M)} ${((B=b==null?void 0:b.nativeCurrency)==null?void 0:B.symbol)||"ETH"}`,data:g,gas:v,gasPrice:typeof A<"u"&&`${(0,e.formatGwei)(A)} gwei`,maxFeePerGas:typeof C<"u"&&`${(0,e.formatGwei)(C)} gwei`,maxPriorityFeePerGas:typeof x<"u"&&`${(0,e.formatGwei)(x)} gwei`,nonce:T});super(y.shortMessage,{cause:y,docsPath:w,metaMessages:[...y.metaMessages?[...y.metaMessages," "]:[],"Request Arguments:",k].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=y}}Tr.TransactionExecutionError=l;class d extends r.BaseError{constructor({blockHash:y,blockNumber:E,blockTag:w,hash:b,index:g}){let v="Transaction";w&&g!==void 0&&(v=`Transaction at block time "${w}" at index "${g}"`),y&&g!==void 0&&(v=`Transaction at block hash "${y}" at index "${g}"`),E&&g!==void 0&&(v=`Transaction at block number "${E}" at index "${g}"`),b&&(v=`Transaction with hash "${b}"`),super(`${v} could not be found.`,{name:"TransactionNotFoundError"})}}Tr.TransactionNotFoundError=d;class f extends r.BaseError{constructor({hash:y}){super(`Transaction receipt with hash "${y}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}Tr.TransactionReceiptNotFoundError=f;class h extends r.BaseError{constructor({receipt:y}){super(`Transaction with hash "${y.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=y}}Tr.TransactionReceiptRevertedError=h;class p extends r.BaseError{constructor({hash:y}){super(`Timed out while waiting for transaction with hash "${y}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}return Tr.WaitForTransactionReceiptTimeoutError=p,Tr}var vf={},OF;function K3(){if(OF)return vf;OF=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.getUrl=vf.getContractAddress=void 0;const t=r=>r;vf.getContractAddress=t;const e=r=>r;return vf.getUrl=e,vf}var RF;function Ud(){if(RF)return Cs;RF=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.RawContractError=Cs.CounterfactualDeploymentFailedError=Cs.ContractFunctionZeroDataError=Cs.ContractFunctionRevertedError=Cs.ContractFunctionExecutionError=Cs.CallExecutionError=void 0;const t=Wr(),e=V3(),r=LP(),n=Vu(),s=Nte(),i=Wu(),o=yE(),a=Sp(),c=Hr(),u=yt(),l=W3(),d=Ii(),f=K3();class h extends u.BaseError{constructor(g,{account:v,docsPath:A,chain:C,data:x,gas:T,gasPrice:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,to:U,value:I,stateOverride:S}){var O;const _=v?(0,t.parseAccount)(v):void 0;let R=(0,d.prettyPrint)({from:_==null?void 0:_.address,to:U,value:typeof I<"u"&&`${(0,o.formatEther)(I)} ${((O=C==null?void 0:C.nativeCurrency)==null?void 0:O.symbol)||"ETH"}`,data:x,gas:T,gasPrice:typeof N<"u"&&`${(0,a.formatGwei)(N)} gwei`,maxFeePerGas:typeof M<"u"&&`${(0,a.formatGwei)(M)} gwei`,maxPriorityFeePerGas:typeof k<"u"&&`${(0,a.formatGwei)(k)} gwei`,nonce:B});S&&(R+=`
${(0,l.prettyStateOverride)(S)}`),super(g.shortMessage,{cause:g,docsPath:A,metaMessages:[...g.metaMessages?[...g.metaMessages," "]:[],"Raw Call Arguments:",R].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=g}}Cs.CallExecutionError=h;class p extends u.BaseError{constructor(g,{abi:v,args:A,contractAddress:C,docsPath:x,functionName:T,sender:N}){const M=(0,i.getAbiItem)({abi:v,args:A,name:T}),k=M?(0,s.formatAbiItemWithArgs)({abiItem:M,args:A,includeFunctionName:!1,includeName:!1}):void 0,B=M?(0,n.formatAbiItem)(M,{includeName:!0}):void 0,U=(0,d.prettyPrint)({address:C&&(0,f.getContractAddress)(C),function:B,args:k&&k!=="()"&&`${[...Array((T==null?void 0:T.length)??0).keys()].map(()=>" ").join("")}${k}`,sender:N});super(g.shortMessage||`An unknown error occurred while executing the contract function "${T}".`,{cause:g,docsPath:x,metaMessages:[...g.metaMessages?[...g.metaMessages," "]:[],U&&"Contract Call:",U].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=v,this.args=A,this.cause=g,this.contractAddress=C,this.functionName=T,this.sender=N}}Cs.ContractFunctionExecutionError=p;class m extends u.BaseError{constructor({abi:g,data:v,functionName:A,message:C}){let x,T,N,M;if(v&&v!=="0x")try{T=(0,r.decodeErrorResult)({abi:g,data:v});const{abiItem:B,errorName:U,args:I}=T;if(U==="Error")M=I[0];else if(U==="Panic"){const[S]=I;M=e.panicReasons[S]}else{const S=B?(0,n.formatAbiItem)(B,{includeName:!0}):void 0,_=B&&I?(0,s.formatAbiItemWithArgs)({abiItem:B,args:I,includeFunctionName:!1,includeName:!1}):void 0;N=[S?`Error: ${S}`:"",_&&_!=="()"?`       ${[...Array((U==null?void 0:U.length)??0).keys()].map(()=>" ").join("")}${_}`:""]}}catch(B){x=B}else C&&(M=C);let k;x instanceof c.AbiErrorSignatureNotFoundError&&(k=x.signature,N=[`Unable to decode signature "${k}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${k}.`]),super(M&&M!=="execution reverted"||k?[`The contract function "${A}" reverted with the following ${k?"signature":"reason"}:`,M||k].join(`
`):`The contract function "${A}" reverted.`,{cause:x,metaMessages:N,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=T,this.raw=v,this.reason=M,this.signature=k}}Cs.ContractFunctionRevertedError=m;class y extends u.BaseError{constructor({functionName:g}){super(`The contract function "${g}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${g}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}Cs.ContractFunctionZeroDataError=y;class E extends u.BaseError{constructor({factory:g}){super(`Deployment for counterfactual contract call failed${g?` for factory "${g}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}Cs.CounterfactualDeploymentFailedError=E;class w extends u.BaseError{constructor({data:g,message:v}){super(v||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=g}}return Cs.RawContractError=w,Cs}var Ri={},NF;function ba(){if(NF)return Ri;NF=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.TimeoutError=Ri.SocketClosedError=Ri.RpcRequestError=Ri.WebSocketRequestError=Ri.HttpRequestError=void 0;const t=Xn(),e=yt(),r=K3();class n extends e.BaseError{constructor({body:u,cause:l,details:d,headers:f,status:h,url:p}){super("HTTP request failed.",{cause:l,details:d,metaMessages:[h&&`Status: ${h}`,`URL: ${(0,r.getUrl)(p)}`,u&&`Request body: ${(0,t.stringify)(u)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=u,this.headers=f,this.status=h,this.url=p}}Ri.HttpRequestError=n;class s extends e.BaseError{constructor({body:u,cause:l,details:d,url:f}){super("WebSocket request failed.",{cause:l,details:d,metaMessages:[`URL: ${(0,r.getUrl)(f)}`,u&&`Request body: ${(0,t.stringify)(u)}`].filter(Boolean),name:"WebSocketRequestError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=f}}Ri.WebSocketRequestError=s;class i extends e.BaseError{constructor({body:u,error:l,url:d}){super("RPC Request failed.",{cause:l,details:l.message,metaMessages:[`URL: ${(0,r.getUrl)(d)}`,`Request body: ${(0,t.stringify)(u)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=l.code,this.data=l.data,this.url=d}}Ri.RpcRequestError=i;class o extends e.BaseError{constructor({url:u}={}){super("The socket has been closed.",{metaMessages:[u&&`URL: ${(0,r.getUrl)(u)}`].filter(Boolean),name:"SocketClosedError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=u}}Ri.SocketClosedError=o;class a extends e.BaseError{constructor({body:u,url:l}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,r.getUrl)(l)}`,`Request body: ${(0,t.stringify)(u)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=l}}return Ri.TimeoutError=a,Ri}var rt={},BF;function Ld(){if(BF)return rt;BF=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.UnknownRpcError=rt.AtomicityNotSupportedError=rt.AtomicReadyWalletRejectedUpgradeError=rt.BundleTooLargeError=rt.UnknownBundleIdError=rt.DuplicateIdError=rt.UnsupportedChainIdError=rt.UnsupportedNonOptionalCapabilityError=rt.SwitchChainError=rt.ChainDisconnectedError=rt.ProviderDisconnectedError=rt.UnsupportedProviderMethodError=rt.UnauthorizedProviderError=rt.UserRejectedRequestError=rt.JsonRpcVersionUnsupportedError=rt.LimitExceededRpcError=rt.MethodNotSupportedRpcError=rt.TransactionRejectedRpcError=rt.ResourceUnavailableRpcError=rt.ResourceNotFoundRpcError=rt.InvalidInputRpcError=rt.InternalRpcError=rt.InvalidParamsRpcError=rt.MethodNotFoundRpcError=rt.InvalidRequestRpcError=rt.ParseRpcError=rt.ProviderRpcError=rt.RpcError=void 0;const t=yt(),e=ba(),r=-1;class n extends t.BaseError{constructor(S,{code:_,docsPath:R,metaMessages:O,name:P,shortMessage:D}){super(D,{cause:S,docsPath:R,metaMessages:O||(S==null?void 0:S.metaMessages),name:P||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=P||S.name,this.code=S instanceof e.RpcRequestError?S.code:_??r}}rt.RpcError=n;class s extends n{constructor(S,_){super(S,_),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=_.data}}rt.ProviderRpcError=s;class i extends n{constructor(S){super(S,{code:i.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}rt.ParseRpcError=i,Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class o extends n{constructor(S){super(S,{code:o.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}rt.InvalidRequestRpcError=o,Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class a extends n{constructor(S,{method:_}={}){super(S,{code:a.code,name:"MethodNotFoundRpcError",shortMessage:`The method${_?` "${_}"`:""} does not exist / is not available.`})}}rt.MethodNotFoundRpcError=a,Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class c extends n{constructor(S){super(S,{code:c.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}rt.InvalidParamsRpcError=c,Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class u extends n{constructor(S){super(S,{code:u.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}rt.InternalRpcError=u,Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class l extends n{constructor(S){super(S,{code:l.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}rt.InvalidInputRpcError=l,Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class d extends n{constructor(S){super(S,{code:d.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}rt.ResourceNotFoundRpcError=d,Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class f extends n{constructor(S){super(S,{code:f.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}rt.ResourceUnavailableRpcError=f,Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class h extends n{constructor(S){super(S,{code:h.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}rt.TransactionRejectedRpcError=h,Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class p extends n{constructor(S,{method:_}={}){super(S,{code:p.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${_?` "${_}"`:""} is not supported.`})}}rt.MethodNotSupportedRpcError=p,Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class m extends n{constructor(S){super(S,{code:m.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}rt.LimitExceededRpcError=m,Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class y extends n{constructor(S){super(S,{code:y.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}rt.JsonRpcVersionUnsupportedError=y,Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class E extends s{constructor(S){super(S,{code:E.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}rt.UserRejectedRequestError=E,Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends s{constructor(S){super(S,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}rt.UnauthorizedProviderError=w,Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class b extends s{constructor(S,{method:_}={}){super(S,{code:b.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${_?` " ${_}"`:""}.`})}}rt.UnsupportedProviderMethodError=b,Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class g extends s{constructor(S){super(S,{code:g.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}rt.ProviderDisconnectedError=g,Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class v extends s{constructor(S){super(S,{code:v.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}rt.ChainDisconnectedError=v,Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class A extends s{constructor(S){super(S,{code:A.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}rt.SwitchChainError=A,Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class C extends s{constructor(S){super(S,{code:C.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}rt.UnsupportedNonOptionalCapabilityError=C,Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class x extends s{constructor(S){super(S,{code:x.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}rt.UnsupportedChainIdError=x,Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class T extends s{constructor(S){super(S,{code:T.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}rt.DuplicateIdError=T,Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class N extends s{constructor(S){super(S,{code:N.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}rt.UnknownBundleIdError=N,Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class M extends s{constructor(S){super(S,{code:M.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}rt.BundleTooLargeError=M,Object.defineProperty(M,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class k extends s{constructor(S){super(S,{code:k.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}rt.AtomicReadyWalletRejectedUpgradeError=k,Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class B extends s{constructor(S){super(S,{code:B.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}rt.AtomicityNotSupportedError=B,Object.defineProperty(B,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class U extends n{constructor(S){super(S,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}return rt.UnknownRpcError=U,rt}var kF;function Fd(){if(kF)return b_;kF=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.getContractError=o;const t=Hr(),e=yt(),r=Ud(),n=ba(),s=Ld(),i=3;function o(a,{abi:c,address:u,args:l,docsPath:d,functionName:f,sender:h}){const p=a instanceof r.RawContractError?a:a instanceof e.BaseError?a.walk(v=>"data"in v)||a.walk():{},{code:m,data:y,details:E,message:w,shortMessage:b}=p,g=a instanceof t.AbiDecodingZeroDataError?new r.ContractFunctionZeroDataError({functionName:f}):[i,s.InternalRpcError.code].includes(m)&&(y||E||w||b)||m===s.InvalidInputRpcError.code&&E==="execution reverted"&&y?new r.ContractFunctionRevertedError({abi:c,data:typeof y=="object"?y.data:y,functionName:f,message:p instanceof n.RpcRequestError?E:b??w}):a;return new r.ContractFunctionExecutionError(g,{abi:c,args:l,contractAddress:u,docsPath:d,functionName:f,sender:h})}return b_}var I_={},T_={},P_={},x_={},jF;function Bte(){if(jF)return x_;jF=1,Object.defineProperty(x_,"__esModule",{value:!0}),x_.publicKeyToAddress=r;const t=ro(),e=Ai();function r(n){const s=(0,e.keccak256)(`0x${n.substring(4)}`).substring(26);return(0,t.checksumAddress)(`0x${s}`)}return x_}var O_={},rO={},Er={},as={},DF;function kte(){if(DF)return as;DF=1,Object.defineProperty(as,"__esModule",{value:!0}),as.SHA512_IV=as.SHA384_IV=as.SHA224_IV=as.SHA256_IV=as.HashMD=void 0,as.setBigUint64=e,as.Chi=r,as.Maj=n;const t=ma();function e(i,o,a,c){if(typeof i.setBigUint64=="function")return i.setBigUint64(o,a,c);const u=BigInt(32),l=BigInt(4294967295),d=Number(a>>u&l),f=Number(a&l),h=c?4:0,p=c?0:4;i.setUint32(o+h,d,c),i.setUint32(o+p,f,c)}function r(i,o,a){return i&o^~i&a}function n(i,o,a){return i&o^i&a^o&a}class s extends t.Hash{constructor(o,a,c,u){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=o,this.outputLen=a,this.padOffset=c,this.isLE=u,this.buffer=new Uint8Array(o),this.view=(0,t.createView)(this.buffer)}update(o){(0,t.aexists)(this),o=(0,t.toBytes)(o),(0,t.abytes)(o);const{view:a,buffer:c,blockLen:u}=this,l=o.length;for(let d=0;d<l;){const f=Math.min(u-this.pos,l-d);if(f===u){const h=(0,t.createView)(o);for(;u<=l-d;d+=u)this.process(h,d);continue}c.set(o.subarray(d,d+f),this.pos),this.pos+=f,d+=f,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){(0,t.aexists)(this),(0,t.aoutput)(o,this),this.finished=!0;const{buffer:a,view:c,blockLen:u,isLE:l}=this;let{pos:d}=this;a[d++]=128,(0,t.clean)(this.buffer.subarray(d)),this.padOffset>u-d&&(this.process(c,0),d=0);for(let y=d;y<u;y++)a[y]=0;e(c,u-8,BigInt(this.length*8),l),this.process(c,0);const f=(0,t.createView)(o),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=h/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<p;y++)f.setUint32(4*y,m[y],l)}digest(){const{buffer:o,outputLen:a}=this;this.digestInto(o);const c=o.slice(0,a);return this.destroy(),c}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:a,buffer:c,length:u,finished:l,destroyed:d,pos:f}=this;return o.destroyed=d,o.finished=l,o.length=u,o.pos=f,u%a&&o.buffer.set(c),o}clone(){return this._cloneInto()}}return as.HashMD=s,as.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),as.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),as.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),as.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),as}var MF;function Z3(){if(MF)return Er;MF=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.sha512_224=Er.sha512_256=Er.sha384=Er.sha512=Er.sha224=Er.sha256=Er.SHA512_256=Er.SHA512_224=Er.SHA384=Er.SHA512=Er.SHA224=Er.SHA256=void 0;const t=kte(),e=Pte(),r=ma(),n=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array(64);class i extends t.HashMD{constructor(b=32){super(64,b,8,!1),this.A=t.SHA256_IV[0]|0,this.B=t.SHA256_IV[1]|0,this.C=t.SHA256_IV[2]|0,this.D=t.SHA256_IV[3]|0,this.E=t.SHA256_IV[4]|0,this.F=t.SHA256_IV[5]|0,this.G=t.SHA256_IV[6]|0,this.H=t.SHA256_IV[7]|0}get(){const{A:b,B:g,C:v,D:A,E:C,F:x,G:T,H:N}=this;return[b,g,v,A,C,x,T,N]}set(b,g,v,A,C,x,T,N){this.A=b|0,this.B=g|0,this.C=v|0,this.D=A|0,this.E=C|0,this.F=x|0,this.G=T|0,this.H=N|0}process(b,g){for(let B=0;B<16;B++,g+=4)s[B]=b.getUint32(g,!1);for(let B=16;B<64;B++){const U=s[B-15],I=s[B-2],S=(0,r.rotr)(U,7)^(0,r.rotr)(U,18)^U>>>3,_=(0,r.rotr)(I,17)^(0,r.rotr)(I,19)^I>>>10;s[B]=_+s[B-7]+S+s[B-16]|0}let{A:v,B:A,C,D:x,E:T,F:N,G:M,H:k}=this;for(let B=0;B<64;B++){const U=(0,r.rotr)(T,6)^(0,r.rotr)(T,11)^(0,r.rotr)(T,25),I=k+U+(0,t.Chi)(T,N,M)+n[B]+s[B]|0,_=((0,r.rotr)(v,2)^(0,r.rotr)(v,13)^(0,r.rotr)(v,22))+(0,t.Maj)(v,A,C)|0;k=M,M=N,N=T,T=x+I|0,x=C,C=A,A=v,v=I+_|0}v=v+this.A|0,A=A+this.B|0,C=C+this.C|0,x=x+this.D|0,T=T+this.E|0,N=N+this.F|0,M=M+this.G|0,k=k+this.H|0,this.set(v,A,C,x,T,N,M,k)}roundClean(){(0,r.clean)(s)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,r.clean)(this.buffer)}}Er.SHA256=i;class o extends i{constructor(){super(28),this.A=t.SHA224_IV[0]|0,this.B=t.SHA224_IV[1]|0,this.C=t.SHA224_IV[2]|0,this.D=t.SHA224_IV[3]|0,this.E=t.SHA224_IV[4]|0,this.F=t.SHA224_IV[5]|0,this.G=t.SHA224_IV[6]|0,this.H=t.SHA224_IV[7]|0}}Er.SHA224=o;const a=e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(w=>BigInt(w))),c=a[0],u=a[1],l=new Uint32Array(80),d=new Uint32Array(80);class f extends t.HashMD{constructor(b=64){super(128,b,16,!1),this.Ah=t.SHA512_IV[0]|0,this.Al=t.SHA512_IV[1]|0,this.Bh=t.SHA512_IV[2]|0,this.Bl=t.SHA512_IV[3]|0,this.Ch=t.SHA512_IV[4]|0,this.Cl=t.SHA512_IV[5]|0,this.Dh=t.SHA512_IV[6]|0,this.Dl=t.SHA512_IV[7]|0,this.Eh=t.SHA512_IV[8]|0,this.El=t.SHA512_IV[9]|0,this.Fh=t.SHA512_IV[10]|0,this.Fl=t.SHA512_IV[11]|0,this.Gh=t.SHA512_IV[12]|0,this.Gl=t.SHA512_IV[13]|0,this.Hh=t.SHA512_IV[14]|0,this.Hl=t.SHA512_IV[15]|0}get(){const{Ah:b,Al:g,Bh:v,Bl:A,Ch:C,Cl:x,Dh:T,Dl:N,Eh:M,El:k,Fh:B,Fl:U,Gh:I,Gl:S,Hh:_,Hl:R}=this;return[b,g,v,A,C,x,T,N,M,k,B,U,I,S,_,R]}set(b,g,v,A,C,x,T,N,M,k,B,U,I,S,_,R){this.Ah=b|0,this.Al=g|0,this.Bh=v|0,this.Bl=A|0,this.Ch=C|0,this.Cl=x|0,this.Dh=T|0,this.Dl=N|0,this.Eh=M|0,this.El=k|0,this.Fh=B|0,this.Fl=U|0,this.Gh=I|0,this.Gl=S|0,this.Hh=_|0,this.Hl=R|0}process(b,g){for(let D=0;D<16;D++,g+=4)l[D]=b.getUint32(g),d[D]=b.getUint32(g+=4);for(let D=16;D<80;D++){const j=l[D-15]|0,F=d[D-15]|0,q=e.rotrSH(j,F,1)^e.rotrSH(j,F,8)^e.shrSH(j,F,7),z=e.rotrSL(j,F,1)^e.rotrSL(j,F,8)^e.shrSL(j,F,7),W=l[D-2]|0,K=d[D-2]|0,re=e.rotrSH(W,K,19)^e.rotrBH(W,K,61)^e.shrSH(W,K,6),Q=e.rotrSL(W,K,19)^e.rotrBL(W,K,61)^e.shrSL(W,K,6),X=e.add4L(z,Q,d[D-7],d[D-16]),ie=e.add4H(X,q,re,l[D-7],l[D-16]);l[D]=ie|0,d[D]=X|0}let{Ah:v,Al:A,Bh:C,Bl:x,Ch:T,Cl:N,Dh:M,Dl:k,Eh:B,El:U,Fh:I,Fl:S,Gh:_,Gl:R,Hh:O,Hl:P}=this;for(let D=0;D<80;D++){const j=e.rotrSH(B,U,14)^e.rotrSH(B,U,18)^e.rotrBH(B,U,41),F=e.rotrSL(B,U,14)^e.rotrSL(B,U,18)^e.rotrBL(B,U,41),q=B&I^~B&_,z=U&S^~U&R,W=e.add5L(P,F,z,u[D],d[D]),K=e.add5H(W,O,j,q,c[D],l[D]),re=W|0,Q=e.rotrSH(v,A,28)^e.rotrBH(v,A,34)^e.rotrBH(v,A,39),X=e.rotrSL(v,A,28)^e.rotrBL(v,A,34)^e.rotrBL(v,A,39),ie=v&C^v&T^C&T,Y=A&x^A&N^x&N;O=_|0,P=R|0,_=I|0,R=S|0,I=B|0,S=U|0,{h:B,l:U}=e.add(M|0,k|0,K|0,re|0),M=T|0,k=N|0,T=C|0,N=x|0,C=v|0,x=A|0;const V=e.add3L(re,X,Y);v=e.add3H(V,K,Q,ie),A=V|0}({h:v,l:A}=e.add(this.Ah|0,this.Al|0,v|0,A|0)),{h:C,l:x}=e.add(this.Bh|0,this.Bl|0,C|0,x|0),{h:T,l:N}=e.add(this.Ch|0,this.Cl|0,T|0,N|0),{h:M,l:k}=e.add(this.Dh|0,this.Dl|0,M|0,k|0),{h:B,l:U}=e.add(this.Eh|0,this.El|0,B|0,U|0),{h:I,l:S}=e.add(this.Fh|0,this.Fl|0,I|0,S|0),{h:_,l:R}=e.add(this.Gh|0,this.Gl|0,_|0,R|0),{h:O,l:P}=e.add(this.Hh|0,this.Hl|0,O|0,P|0),this.set(v,A,C,x,T,N,M,k,B,U,I,S,_,R,O,P)}roundClean(){(0,r.clean)(l,d)}destroy(){(0,r.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Er.SHA512=f;class h extends f{constructor(){super(48),this.Ah=t.SHA384_IV[0]|0,this.Al=t.SHA384_IV[1]|0,this.Bh=t.SHA384_IV[2]|0,this.Bl=t.SHA384_IV[3]|0,this.Ch=t.SHA384_IV[4]|0,this.Cl=t.SHA384_IV[5]|0,this.Dh=t.SHA384_IV[6]|0,this.Dl=t.SHA384_IV[7]|0,this.Eh=t.SHA384_IV[8]|0,this.El=t.SHA384_IV[9]|0,this.Fh=t.SHA384_IV[10]|0,this.Fl=t.SHA384_IV[11]|0,this.Gh=t.SHA384_IV[12]|0,this.Gl=t.SHA384_IV[13]|0,this.Hh=t.SHA384_IV[14]|0,this.Hl=t.SHA384_IV[15]|0}}Er.SHA384=h;const p=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),m=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class y extends f{constructor(){super(28),this.Ah=p[0]|0,this.Al=p[1]|0,this.Bh=p[2]|0,this.Bl=p[3]|0,this.Ch=p[4]|0,this.Cl=p[5]|0,this.Dh=p[6]|0,this.Dl=p[7]|0,this.Eh=p[8]|0,this.El=p[9]|0,this.Fh=p[10]|0,this.Fl=p[11]|0,this.Gh=p[12]|0,this.Gl=p[13]|0,this.Hh=p[14]|0,this.Hl=p[15]|0}}Er.SHA512_224=y;class E extends f{constructor(){super(32),this.Ah=m[0]|0,this.Al=m[1]|0,this.Bh=m[2]|0,this.Bl=m[3]|0,this.Ch=m[4]|0,this.Cl=m[5]|0,this.Dh=m[6]|0,this.Dl=m[7]|0,this.Eh=m[8]|0,this.El=m[9]|0,this.Fh=m[10]|0,this.Fl=m[11]|0,this.Gh=m[12]|0,this.Gl=m[13]|0,this.Hh=m[14]|0,this.Hl=m[15]|0}}return Er.SHA512_256=E,Er.sha256=(0,r.createHasher)(()=>new i),Er.sha224=(0,r.createHasher)(()=>new o),Er.sha512=(0,r.createHasher)(()=>new f),Er.sha384=(0,r.createHasher)(()=>new h),Er.sha512_256=(0,r.createHasher)(()=>new E),Er.sha512_224=(0,r.createHasher)(()=>new y),Er}var $y={},nO={},UF;function jte(){return UF||(UF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=ma();class r extends e.Hash{constructor(i,o){super(),this.finished=!1,this.destroyed=!1,(0,e.ahash)(i);const a=(0,e.toBytes)(o);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,u=new Uint8Array(c);u.set(a.length>c?i.create().update(a).digest():a);for(let l=0;l<u.length;l++)u[l]^=54;this.iHash.update(u),this.oHash=i.create();for(let l=0;l<u.length;l++)u[l]^=106;this.oHash.update(u),(0,e.clean)(u)}update(i){return(0,e.aexists)(this),this.iHash.update(i),this}digestInto(i){(0,e.aexists)(this),(0,e.abytes)(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:a,finished:c,destroyed:u,blockLen:l,outputLen:d}=this;return i=i,i.finished=c,i.destroyed=u,i.blockLen=l,i.outputLen=d,i.oHash=o._cloneInto(i.oHash),i.iHash=a._cloneInto(i.iHash),i}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r;const n=(s,i,o)=>new r(s,i).update(o).digest();t.hmac=n,t.hmac.create=(s,i)=>new r(s,i)})(nO)),nO}var sO={},_f={},Nr={},nr={},LF;function bE(){if(LF)return nr;LF=1;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(nr,"__esModule",{value:!0}),nr.notImplemented=nr.bitMask=void 0,nr.isBytes=r,nr.abytes=n,nr.abool=s,nr.numberToHexUnpadded=i,nr.hexToNumber=o,nr.bytesToHex=u,nr.hexToBytes=f,nr.bytesToNumberBE=h,nr.bytesToNumberLE=p,nr.numberToBytesBE=m,nr.numberToBytesLE=y,nr.numberToVarBytesBE=E,nr.ensureBytes=w,nr.concatBytes=b,nr.equalBytes=g,nr.utf8ToBytes=v,nr.inRange=C,nr.aInRange=x,nr.bitLen=T,nr.bitGet=N,nr.bitSet=M,nr.createHmacDrbg=I,nr.validateObject=_,nr.memoized=O;const t=BigInt(0),e=BigInt(1);function r(P){return P instanceof Uint8Array||ArrayBuffer.isView(P)&&P.constructor.name==="Uint8Array"}function n(P){if(!r(P))throw new Error("Uint8Array expected")}function s(P,D){if(typeof D!="boolean")throw new Error(P+" boolean expected, got "+D)}function i(P){const D=P.toString(16);return D.length&1?"0"+D:D}function o(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);return P===""?t:BigInt("0x"+P)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(P,D)=>D.toString(16).padStart(2,"0"));function u(P){if(n(P),a)return P.toHex();let D="";for(let j=0;j<P.length;j++)D+=c[P[j]];return D}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function d(P){if(P>=l._0&&P<=l._9)return P-l._0;if(P>=l.A&&P<=l.F)return P-(l.A-10);if(P>=l.a&&P<=l.f)return P-(l.a-10)}function f(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);if(a)return Uint8Array.fromHex(P);const D=P.length,j=D/2;if(D%2)throw new Error("hex string expected, got unpadded hex of length "+D);const F=new Uint8Array(j);for(let q=0,z=0;q<j;q++,z+=2){const W=d(P.charCodeAt(z)),K=d(P.charCodeAt(z+1));if(W===void 0||K===void 0){const re=P[z]+P[z+1];throw new Error('hex string expected, got non-hex character "'+re+'" at index '+z)}F[q]=W*16+K}return F}function h(P){return o(u(P))}function p(P){return n(P),o(u(Uint8Array.from(P).reverse()))}function m(P,D){return f(P.toString(16).padStart(D*2,"0"))}function y(P,D){return m(P,D).reverse()}function E(P){return f(i(P))}function w(P,D,j){let F;if(typeof D=="string")try{F=f(D)}catch(z){throw new Error(P+" must be hex string or Uint8Array, cause: "+z)}else if(r(D))F=Uint8Array.from(D);else throw new Error(P+" must be hex string or Uint8Array");const q=F.length;if(typeof j=="number"&&q!==j)throw new Error(P+" of length "+j+" expected, got "+q);return F}function b(...P){let D=0;for(let F=0;F<P.length;F++){const q=P[F];n(q),D+=q.length}const j=new Uint8Array(D);for(let F=0,q=0;F<P.length;F++){const z=P[F];j.set(z,q),q+=z.length}return j}function g(P,D){if(P.length!==D.length)return!1;let j=0;for(let F=0;F<P.length;F++)j|=P[F]^D[F];return j===0}function v(P){if(typeof P!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(P))}const A=P=>typeof P=="bigint"&&t<=P;function C(P,D,j){return A(P)&&A(D)&&A(j)&&D<=P&&P<j}function x(P,D,j,F){if(!C(D,j,F))throw new Error("expected valid "+P+": "+j+" <= n < "+F+", got "+D)}function T(P){let D;for(D=0;P>t;P>>=e,D+=1);return D}function N(P,D){return P>>BigInt(D)&e}function M(P,D,j){return P|(j?e:t)<<BigInt(D)}const k=P=>(e<<BigInt(P))-e;nr.bitMask=k;const B=P=>new Uint8Array(P),U=P=>Uint8Array.from(P);function I(P,D,j){if(typeof P!="number"||P<2)throw new Error("hashLen must be a number");if(typeof D!="number"||D<2)throw new Error("qByteLen must be a number");if(typeof j!="function")throw new Error("hmacFn must be a function");let F=B(P),q=B(P),z=0;const W=()=>{F.fill(1),q.fill(0),z=0},K=(...ie)=>j(q,F,...ie),re=(ie=B(0))=>{q=K(U([0]),ie),F=K(),ie.length!==0&&(q=K(U([1]),ie),F=K())},Q=()=>{if(z++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const Y=[];for(;ie<D;){F=K();const V=F.slice();Y.push(V),ie+=F.length}return b(...Y)};return(ie,Y)=>{W(),re(ie);let V;for(;!(V=Y(Q()));)re();return W(),V}}const S={bigint:P=>typeof P=="bigint",function:P=>typeof P=="function",boolean:P=>typeof P=="boolean",string:P=>typeof P=="string",stringOrUint8Array:P=>typeof P=="string"||r(P),isSafeInteger:P=>Number.isSafeInteger(P),array:P=>Array.isArray(P),field:(P,D)=>D.Fp.isValid(P),hash:P=>typeof P=="function"&&Number.isSafeInteger(P.outputLen)};function _(P,D,j={}){const F=(q,z,W)=>{const K=S[z];if(typeof K!="function")throw new Error("invalid validator function");const re=P[q];if(!(W&&re===void 0)&&!K(re,P))throw new Error("param "+String(q)+" is invalid. Expected "+z+", got "+re)};for(const[q,z]of Object.entries(D))F(q,z,!1);for(const[q,z]of Object.entries(j))F(q,z,!0);return P}const R=()=>{throw new Error("not implemented")};nr.notImplemented=R;function O(P){const D=new WeakMap;return(j,...F)=>{const q=D.get(j);if(q!==void 0)return q;const z=P(j,...F);return D.set(j,z),z}}return nr}var FF;function HP(){if(FF)return Nr;FF=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.isNegativeLE=void 0,Nr.mod=u,Nr.pow=l,Nr.pow2=d,Nr.invert=f,Nr.tonelliShanks=m,Nr.FpSqrt=y,Nr.validateField=b,Nr.FpPow=g,Nr.FpInvertBatch=v,Nr.FpDiv=A,Nr.FpLegendre=C,Nr.FpIsSquare=x,Nr.nLength=T,Nr.Field=N,Nr.FpSqrtOdd=M,Nr.FpSqrtEven=k,Nr.hashToPrivateScalar=B,Nr.getFieldBytesLength=U,Nr.getMinHashLength=I,Nr.mapHashToField=S;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ma(),e=bE(),r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function u(_,R){const O=_%R;return O>=r?O:R+O}function l(_,R,O){return g(N(O),_,R)}function d(_,R,O){let P=_;for(;R-- >r;)P*=P,P%=O;return P}function f(_,R){if(_===r)throw new Error("invert: expected non-zero number");if(R<=r)throw new Error("invert: expected positive modulus, got "+R);let O=u(_,R),P=R,D=r,j=n;for(;O!==r;){const q=P/O,z=P%O,W=D-j*q;P=O,O=z,D=j,j=W}if(P!==n)throw new Error("invert: does not exist");return u(D,R)}function h(_,R){const O=(_.ORDER+n)/o,P=_.pow(R,O);if(!_.eql(_.sqr(P),R))throw new Error("Cannot find square root");return P}function p(_,R){const O=(_.ORDER-a)/c,P=_.mul(R,s),D=_.pow(P,O),j=_.mul(R,D),F=_.mul(_.mul(j,s),D),q=_.mul(j,_.sub(F,_.ONE));if(!_.eql(_.sqr(q),R))throw new Error("Cannot find square root");return q}function m(_){if(_<BigInt(3))throw new Error("sqrt is not defined for small field");let R=_-n,O=0;for(;R%s===r;)R/=s,O++;let P=s;const D=N(_);for(;C(D,P)===1;)if(P++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(O===1)return h;let j=D.pow(P,R);const F=(R+n)/s;return function(z,W){if(z.is0(W))return W;if(C(z,W)!==1)throw new Error("Cannot find square root");let K=O,re=z.mul(z.ONE,j),Q=z.pow(W,R),X=z.pow(W,F);for(;!z.eql(Q,z.ONE);){if(z.is0(Q))return z.ZERO;let ie=1,Y=z.sqr(Q);for(;!z.eql(Y,z.ONE);)if(ie++,Y=z.sqr(Y),ie===K)throw new Error("Cannot find square root");const V=n<<BigInt(K-ie-1),Z=z.pow(re,V);K=ie,re=z.sqr(Z),Q=z.mul(Q,re),X=z.mul(X,Z)}return X}}function y(_){return _%o===i?h:_%c===a?p:m(_)}const E=(_,R)=>(u(_,R)&n)===n;Nr.isNegativeLE=E;const w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(_){const R={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},O=w.reduce((P,D)=>(P[D]="function",P),R);return(0,e.validateObject)(_,O)}function g(_,R,O){if(O<r)throw new Error("invalid exponent, negatives unsupported");if(O===r)return _.ONE;if(O===n)return R;let P=_.ONE,D=R;for(;O>r;)O&n&&(P=_.mul(P,D)),D=_.sqr(D),O>>=n;return P}function v(_,R,O=!1){const P=new Array(R.length).fill(O?_.ZERO:void 0),D=R.reduce((F,q,z)=>_.is0(q)?F:(P[z]=F,_.mul(F,q)),_.ONE),j=_.inv(D);return R.reduceRight((F,q,z)=>_.is0(q)?F:(P[z]=_.mul(F,P[z]),_.mul(F,q)),j),P}function A(_,R,O){return _.mul(R,typeof O=="bigint"?f(O,_.ORDER):_.inv(O))}function C(_,R){const O=(_.ORDER-n)/s,P=_.pow(R,O),D=_.eql(P,_.ONE),j=_.eql(P,_.ZERO),F=_.eql(P,_.neg(_.ONE));if(!D&&!j&&!F)throw new Error("invalid Legendre symbol result");return D?1:j?0:-1}function x(_,R){return C(_,R)===1}function T(_,R){R!==void 0&&(0,t.anumber)(R);const O=R!==void 0?R:_.toString(2).length,P=Math.ceil(O/8);return{nBitLength:O,nByteLength:P}}function N(_,R,O=!1,P={}){if(_<=r)throw new Error("invalid field: expected ORDER > 0, got "+_);const{nBitLength:D,nByteLength:j}=T(_,R);if(j>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let F;const q=Object.freeze({ORDER:_,isLE:O,BITS:D,BYTES:j,MASK:(0,e.bitMask)(D),ZERO:r,ONE:n,create:z=>u(z,_),isValid:z=>{if(typeof z!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof z);return r<=z&&z<_},is0:z=>z===r,isOdd:z=>(z&n)===n,neg:z=>u(-z,_),eql:(z,W)=>z===W,sqr:z=>u(z*z,_),add:(z,W)=>u(z+W,_),sub:(z,W)=>u(z-W,_),mul:(z,W)=>u(z*W,_),pow:(z,W)=>g(q,z,W),div:(z,W)=>u(z*f(W,_),_),sqrN:z=>z*z,addN:(z,W)=>z+W,subN:(z,W)=>z-W,mulN:(z,W)=>z*W,inv:z=>f(z,_),sqrt:P.sqrt||(z=>(F||(F=y(_)),F(q,z))),toBytes:z=>O?(0,e.numberToBytesLE)(z,j):(0,e.numberToBytesBE)(z,j),fromBytes:z=>{if(z.length!==j)throw new Error("Field.fromBytes: expected "+j+" bytes, got "+z.length);return O?(0,e.bytesToNumberLE)(z):(0,e.bytesToNumberBE)(z)},invertBatch:z=>v(q,z),cmov:(z,W,K)=>K?W:z});return Object.freeze(q)}function M(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?O:_.neg(O)}function k(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?_.neg(O):O}function B(_,R,O=!1){_=(0,e.ensureBytes)("privateHash",_);const P=_.length,D=T(R).nByteLength+8;if(D<24||P<D||P>1024)throw new Error("hashToPrivateScalar: expected "+D+"-1024 bytes of input, got "+P);const j=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_);return u(j,R-n)+n}function U(_){if(typeof _!="bigint")throw new Error("field order must be bigint");const R=_.toString(2).length;return Math.ceil(R/8)}function I(_){const R=U(_);return R+Math.ceil(R/2)}function S(_,R,O=!1){const P=_.length,D=U(R),j=I(R);if(P<16||P<j||P>1024)throw new Error("expected "+j+"-1024 bytes of input, got "+P);const F=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_),q=u(F,R-n)+n;return O?(0,e.numberToBytesLE)(q,D):(0,e.numberToBytesBE)(q,D)}return Nr}var HF;function C3e(){if(HF)return _f;HF=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.wNAF=h,_f.pippenger=p,_f.precomputeMSMUnsafe=m,_f.validateBasic=y;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=HP(),e=bE(),r=BigInt(0),n=BigInt(1);function s(E,w){const b=w.negate();return E?b:w}function i(E,w){if(!Number.isSafeInteger(E)||E<=0||E>w)throw new Error("invalid window size, expected [1.."+w+"], got W="+E)}function o(E,w){i(E,w);const b=Math.ceil(w/E)+1,g=2**(E-1),v=2**E,A=(0,e.bitMask)(E),C=BigInt(E);return{windows:b,windowSize:g,mask:A,maxNumber:v,shiftBy:C}}function a(E,w,b){const{windowSize:g,mask:v,maxNumber:A,shiftBy:C}=b;let x=Number(E&v),T=E>>C;x>g&&(x-=A,T+=n);const N=w*g,M=N+Math.abs(x)-1,k=x===0,B=x<0,U=w%2!==0;return{nextN:T,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:N}}function c(E,w){if(!Array.isArray(E))throw new Error("array expected");E.forEach((b,g)=>{if(!(b instanceof w))throw new Error("invalid point at index "+g)})}function u(E,w){if(!Array.isArray(E))throw new Error("array of scalars expected");E.forEach((b,g)=>{if(!w.isValid(b))throw new Error("invalid scalar at index "+g)})}const l=new WeakMap,d=new WeakMap;function f(E){return d.get(E)||1}function h(E,w){return{constTimeNegate:s,hasPrecomputes(b){return f(b)!==1},unsafeLadder(b,g,v=E.ZERO){let A=b;for(;g>r;)g&n&&(v=v.add(A)),A=A.double(),g>>=n;return v},precomputeWindow(b,g){const{windows:v,windowSize:A}=o(g,w),C=[];let x=b,T=x;for(let N=0;N<v;N++){T=x,C.push(T);for(let M=1;M<A;M++)T=T.add(x),C.push(T);x=T.double()}return C},wNAF(b,g,v){let A=E.ZERO,C=E.BASE;const x=o(b,w);for(let T=0;T<x.windows;T++){const{nextN:N,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:I}=a(v,T,x);v=N,k?C=C.add(s(U,g[I])):A=A.add(s(B,g[M]))}return{p:A,f:C}},wNAFUnsafe(b,g,v,A=E.ZERO){const C=o(b,w);for(let x=0;x<C.windows&&v!==r;x++){const{nextN:T,offset:N,isZero:M,isNeg:k}=a(v,x,C);if(v=T,!M){const B=g[N];A=A.add(k?B.negate():B)}}return A},getPrecomputes(b,g,v){let A=l.get(g);return A||(A=this.precomputeWindow(g,b),b!==1&&l.set(g,v(A))),A},wNAFCached(b,g,v){const A=f(b);return this.wNAF(A,this.getPrecomputes(A,b,v),g)},wNAFCachedUnsafe(b,g,v,A){const C=f(b);return C===1?this.unsafeLadder(b,g,A):this.wNAFUnsafe(C,this.getPrecomputes(C,b,v),g,A)},setWindowSize(b,g){i(g,w),d.set(b,g),l.delete(b)}}}function p(E,w,b,g){c(b,E),u(g,w);const v=b.length,A=g.length;if(v!==A)throw new Error("arrays of points and scalars must have equal length");const C=E.ZERO,x=(0,e.bitLen)(BigInt(v));let T=1;x>12?T=x-3:x>4?T=x-2:x>0&&(T=2);const N=(0,e.bitMask)(T),M=new Array(Number(N)+1).fill(C),k=Math.floor((w.BITS-1)/T)*T;let B=C;for(let U=k;U>=0;U-=T){M.fill(C);for(let S=0;S<A;S++){const _=g[S],R=Number(_>>BigInt(U)&N);M[R]=M[R].add(b[S])}let I=C;for(let S=M.length-1,_=C;S>0;S--)_=_.add(M[S]),I=I.add(_);if(B=B.add(I),U!==0)for(let S=0;S<T;S++)B=B.double()}return B}function m(E,w,b,g){i(g,w.BITS),c(b,E);const v=E.ZERO,A=2**g-1,C=Math.ceil(w.BITS/g),x=(0,e.bitMask)(g),T=b.map(N=>{const M=[];for(let k=0,B=N;k<A;k++)M.push(B),B=B.add(N);return M});return N=>{if(u(N,w),N.length>b.length)throw new Error("array of scalars must be smaller than array of points");let M=v;for(let k=0;k<C;k++){if(M!==v)for(let U=0;U<g;U++)M=M.double();const B=BigInt(C*g-(k+1)*g);for(let U=0;U<N.length;U++){const I=N[U],S=Number(I>>B&x);S&&(M=M.add(T[U][S-1]))}}return M}}function y(E){return(0,t.validateField)(E.Fp),(0,e.validateObject)(E,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(E.n,E.nBitLength),...E,p:E.Fp.ORDER})}return _f}var qF;function Dte(){return qF||(qF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=h,t.weierstrass=m,t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=E;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=C3e(),r=HP(),n=bE();function s(w){w.lowS!==void 0&&(0,n.abool)("lowS",w.lowS),w.prehash!==void 0&&(0,n.abool)("prehash",w.prehash)}function i(w){const b=(0,e.validateBasic)(w);(0,n.validateObject)(b,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:g,Fp:v,a:A}=b;if(g){if(!v.eql(A,v.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof g!="object"||typeof g.beta!="bigint"||typeof g.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...b})}class o extends Error{constructor(b=""){super(b)}}t.DERErr=o,t.DER={Err:o,_tlv:{encode:(w,b)=>{const{Err:g}=t.DER;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length&1)throw new g("tlv.encode: unpadded data");const v=b.length/2,A=(0,n.numberToHexUnpadded)(v);if(A.length/2&128)throw new g("tlv.encode: long form length too big");const C=v>127?(0,n.numberToHexUnpadded)(A.length/2|128):"";return(0,n.numberToHexUnpadded)(w)+C+A+b},decode(w,b){const{Err:g}=t.DER;let v=0;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length<2||b[v++]!==w)throw new g("tlv.decode: wrong tlv");const A=b[v++],C=!!(A&128);let x=0;if(!C)x=A;else{const N=A&127;if(!N)throw new g("tlv.decode(long): indefinite length not supported");if(N>4)throw new g("tlv.decode(long): byte length is too big");const M=b.subarray(v,v+N);if(M.length!==N)throw new g("tlv.decode: length bytes not complete");if(M[0]===0)throw new g("tlv.decode(long): zero leftmost byte");for(const k of M)x=x<<8|k;if(v+=N,x<128)throw new g("tlv.decode(long): not minimal encoding")}const T=b.subarray(v,v+x);if(T.length!==x)throw new g("tlv.decode: wrong value length");return{v:T,l:b.subarray(v+x)}}},_int:{encode(w){const{Err:b}=t.DER;if(w<c)throw new b("integer: negative integers are not allowed");let g=(0,n.numberToHexUnpadded)(w);if(Number.parseInt(g[0],16)&8&&(g="00"+g),g.length&1)throw new b("unexpected DER parsing assertion: unpadded hex");return g},decode(w){const{Err:b}=t.DER;if(w[0]&128)throw new b("invalid signature integer: negative");if(w[0]===0&&!(w[1]&128))throw new b("invalid signature integer: unnecessary leading zero");return(0,n.bytesToNumberBE)(w)}},toSig(w){const{Err:b,_int:g,_tlv:v}=t.DER,A=(0,n.ensureBytes)("signature",w),{v:C,l:x}=v.decode(48,A);if(x.length)throw new b("invalid signature: left bytes after parsing");const{v:T,l:N}=v.decode(2,C),{v:M,l:k}=v.decode(2,N);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:g.decode(T),s:g.decode(M)}},hexFromSig(w){const{_tlv:b,_int:g}=t.DER,v=b.encode(2,g.encode(w.r)),A=b.encode(2,g.encode(w.s)),C=v+A;return b.encode(48,C)}};function a(w,b){return(0,n.bytesToHex)((0,n.numberToBytesBE)(w,b))}const c=BigInt(0),u=BigInt(1),l=BigInt(2),d=BigInt(3),f=BigInt(4);function h(w){const b=i(w),{Fp:g}=b,v=(0,r.Field)(b.n,b.nBitLength),A=b.toBytes||((D,j,F)=>{const q=j.toAffine();return(0,n.concatBytes)(Uint8Array.from([4]),g.toBytes(q.x),g.toBytes(q.y))}),C=b.fromBytes||(D=>{const j=D.subarray(1),F=g.fromBytes(j.subarray(0,g.BYTES)),q=g.fromBytes(j.subarray(g.BYTES,2*g.BYTES));return{x:F,y:q}});function x(D){const{a:j,b:F}=b,q=g.sqr(D),z=g.mul(q,D);return g.add(g.add(z,g.mul(D,j)),F)}function T(D,j){const F=g.sqr(j),q=x(D);return g.eql(F,q)}if(!T(b.Gx,b.Gy))throw new Error("bad curve params: generator point");const N=g.mul(g.pow(b.a,d),f),M=g.mul(g.sqr(b.b),BigInt(27));if(g.is0(g.add(N,M)))throw new Error("bad curve params: a or b");function k(D){return(0,n.inRange)(D,u,b.n)}function B(D){const{allowedPrivateKeyLengths:j,nByteLength:F,wrapPrivateKey:q,n:z}=b;if(j&&typeof D!="bigint"){if((0,n.isBytes)(D)&&(D=(0,n.bytesToHex)(D)),typeof D!="string"||!j.includes(D.length))throw new Error("invalid private key");D=D.padStart(F*2,"0")}let W;try{W=typeof D=="bigint"?D:(0,n.bytesToNumberBE)((0,n.ensureBytes)("private key",D,F))}catch{throw new Error("invalid private key, expected hex or "+F+" bytes, got "+typeof D)}return q&&(W=(0,r.mod)(W,z)),(0,n.aInRange)("private key",W,u,z),W}function U(D){if(!(D instanceof _))throw new Error("ProjectivePoint expected")}const I=(0,n.memoized)((D,j)=>{const{px:F,py:q,pz:z}=D;if(g.eql(z,g.ONE))return{x:F,y:q};const W=D.is0();j==null&&(j=W?g.ONE:g.inv(z));const K=g.mul(F,j),re=g.mul(q,j),Q=g.mul(z,j);if(W)return{x:g.ZERO,y:g.ZERO};if(!g.eql(Q,g.ONE))throw new Error("invZ was invalid");return{x:K,y:re}}),S=(0,n.memoized)(D=>{if(D.is0()){if(b.allowInfinityPoint&&!g.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:j,y:F}=D.toAffine();if(!g.isValid(j)||!g.isValid(F))throw new Error("bad point: x or y not FE");if(!T(j,F))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _{constructor(j,F,q){if(j==null||!g.isValid(j))throw new Error("x required");if(F==null||!g.isValid(F)||g.is0(F))throw new Error("y required");if(q==null||!g.isValid(q))throw new Error("z required");this.px=j,this.py=F,this.pz=q,Object.freeze(this)}static fromAffine(j){const{x:F,y:q}=j||{};if(!j||!g.isValid(F)||!g.isValid(q))throw new Error("invalid affine point");if(j instanceof _)throw new Error("projective point not allowed");const z=W=>g.eql(W,g.ZERO);return z(F)&&z(q)?_.ZERO:new _(F,q,g.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(j){const F=(0,r.FpInvertBatch)(g,j.map(q=>q.pz));return j.map((q,z)=>q.toAffine(F[z])).map(_.fromAffine)}static fromHex(j){const F=_.fromAffine(C((0,n.ensureBytes)("pointHex",j)));return F.assertValidity(),F}static fromPrivateKey(j){return _.BASE.multiply(B(j))}static msm(j,F){return(0,e.pippenger)(_,v,j,F)}_setWindowSize(j){P.setWindowSize(this,j)}assertValidity(){S(this)}hasEvenY(){const{y:j}=this.toAffine();if(g.isOdd)return!g.isOdd(j);throw new Error("Field doesn't support isOdd")}equals(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j,Q=g.eql(g.mul(F,re),g.mul(W,z)),X=g.eql(g.mul(q,re),g.mul(K,z));return Q&&X}negate(){return new _(this.px,g.neg(this.py),this.pz)}double(){const{a:j,b:F}=b,q=g.mul(F,d),{px:z,py:W,pz:K}=this;let re=g.ZERO,Q=g.ZERO,X=g.ZERO,ie=g.mul(z,z),Y=g.mul(W,W),V=g.mul(K,K),Z=g.mul(z,W);return Z=g.add(Z,Z),X=g.mul(z,K),X=g.add(X,X),re=g.mul(j,X),Q=g.mul(q,V),Q=g.add(re,Q),re=g.sub(Y,Q),Q=g.add(Y,Q),Q=g.mul(re,Q),re=g.mul(Z,re),X=g.mul(q,X),V=g.mul(j,V),Z=g.sub(ie,V),Z=g.mul(j,Z),Z=g.add(Z,X),X=g.add(ie,ie),ie=g.add(X,ie),ie=g.add(ie,V),ie=g.mul(ie,Z),Q=g.add(Q,ie),V=g.mul(W,K),V=g.add(V,V),ie=g.mul(V,Z),re=g.sub(re,ie),X=g.mul(V,Y),X=g.add(X,X),X=g.add(X,X),new _(re,Q,X)}add(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j;let Q=g.ZERO,X=g.ZERO,ie=g.ZERO;const Y=b.a,V=g.mul(b.b,d);let Z=g.mul(F,W),ne=g.mul(q,K),ue=g.mul(z,re),ce=g.add(F,q),ge=g.add(W,K);ce=g.mul(ce,ge),ge=g.add(Z,ne),ce=g.sub(ce,ge),ge=g.add(F,z);let we=g.add(W,re);return ge=g.mul(ge,we),we=g.add(Z,ue),ge=g.sub(ge,we),we=g.add(q,z),Q=g.add(K,re),we=g.mul(we,Q),Q=g.add(ne,ue),we=g.sub(we,Q),ie=g.mul(Y,ge),Q=g.mul(V,ue),ie=g.add(Q,ie),Q=g.sub(ne,ie),ie=g.add(ne,ie),X=g.mul(Q,ie),ne=g.add(Z,Z),ne=g.add(ne,Z),ue=g.mul(Y,ue),ge=g.mul(V,ge),ne=g.add(ne,ue),ue=g.sub(Z,ue),ue=g.mul(Y,ue),ge=g.add(ge,ue),Z=g.mul(ne,ge),X=g.add(X,Z),Z=g.mul(we,ge),Q=g.mul(ce,Q),Q=g.sub(Q,Z),Z=g.mul(ce,ne),ie=g.mul(we,ie),ie=g.add(ie,Z),new _(Q,X,ie)}subtract(j){return this.add(j.negate())}is0(){return this.equals(_.ZERO)}wNAF(j){return P.wNAFCached(this,j,_.normalizeZ)}multiplyUnsafe(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,c,q);const z=_.ZERO;if(j===c)return z;if(this.is0()||j===u)return this;if(!F||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,j,_.normalizeZ);let{k1neg:W,k1:K,k2neg:re,k2:Q}=F.splitScalar(j),X=z,ie=z,Y=this;for(;K>c||Q>c;)K&u&&(X=X.add(Y)),Q&u&&(ie=ie.add(Y)),Y=Y.double(),K>>=u,Q>>=u;return W&&(X=X.negate()),re&&(ie=ie.negate()),ie=new _(g.mul(ie.px,F.beta),ie.py,ie.pz),X.add(ie)}multiply(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,u,q);let z,W;if(F){const{k1neg:K,k1:re,k2neg:Q,k2:X}=F.splitScalar(j);let{p:ie,f:Y}=this.wNAF(re),{p:V,f:Z}=this.wNAF(X);ie=P.constTimeNegate(K,ie),V=P.constTimeNegate(Q,V),V=new _(g.mul(V.px,F.beta),V.py,V.pz),z=ie.add(V),W=Y.add(Z)}else{const{p:K,f:re}=this.wNAF(j);z=K,W=re}return _.normalizeZ([z,W])[0]}multiplyAndAddUnsafe(j,F,q){const z=_.BASE,W=(re,Q)=>Q===c||Q===u||!re.equals(z)?re.multiplyUnsafe(Q):re.multiply(Q),K=W(this,F).add(W(j,q));return K.is0()?void 0:K}toAffine(j){return I(this,j)}isTorsionFree(){const{h:j,isTorsionFree:F}=b;if(j===u)return!0;if(F)return F(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:j,clearCofactor:F}=b;return j===u?this:F?F(_,this):this.multiplyUnsafe(b.h)}toRawBytes(j=!0){return(0,n.abool)("isCompressed",j),this.assertValidity(),A(_,this,j)}toHex(j=!0){return(0,n.abool)("isCompressed",j),(0,n.bytesToHex)(this.toRawBytes(j))}}_.BASE=new _(b.Gx,b.Gy,g.ONE),_.ZERO=new _(g.ZERO,g.ONE,g.ZERO);const{endo:R,nBitLength:O}=b,P=(0,e.wNAF)(_,R?Math.ceil(O/2):O);return{CURVE:b,ProjectivePoint:_,normPrivateKeyToScalar:B,weierstrassEquation:x,isWithinCurveOrder:k}}function p(w){const b=(0,e.validateBasic)(w);return(0,n.validateObject)(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})}function m(w){const b=p(w),{Fp:g,n:v,nByteLength:A,nBitLength:C}=b,x=g.BYTES+1,T=2*g.BYTES+1;function N(V){return(0,r.mod)(V,v)}function M(V){return(0,r.invert)(V,v)}const{ProjectivePoint:k,normPrivateKeyToScalar:B,weierstrassEquation:U,isWithinCurveOrder:I}=h({...b,toBytes(V,Z,ne){const ue=Z.toAffine(),ce=g.toBytes(ue.x),ge=n.concatBytes;return(0,n.abool)("isCompressed",ne),ne?ge(Uint8Array.from([Z.hasEvenY()?2:3]),ce):ge(Uint8Array.from([4]),ce,g.toBytes(ue.y))},fromBytes(V){const Z=V.length,ne=V[0],ue=V.subarray(1);if(Z===x&&(ne===2||ne===3)){const ce=(0,n.bytesToNumberBE)(ue);if(!(0,n.inRange)(ce,u,g.ORDER))throw new Error("Point is not on curve");const ge=U(ce);let we;try{we=g.sqrt(ge)}catch(Oe){const Ie=Oe instanceof Error?": "+Oe.message:"";throw new Error("Point is not on curve"+Ie)}const me=(we&u)===u;return(ne&1)===1!==me&&(we=g.neg(we)),{x:ce,y:we}}else if(Z===T&&ne===4){const ce=g.fromBytes(ue.subarray(0,g.BYTES)),ge=g.fromBytes(ue.subarray(g.BYTES,2*g.BYTES));return{x:ce,y:ge}}else{const ce=x,ge=T;throw new Error("invalid Point, expected length of "+ce+", or uncompressed "+ge+", got "+Z)}}});function S(V){const Z=v>>u;return V>Z}function _(V){return S(V)?N(-V):V}const R=(V,Z,ne)=>(0,n.bytesToNumberBE)(V.slice(Z,ne));class O{constructor(Z,ne,ue){(0,n.aInRange)("r",Z,u,v),(0,n.aInRange)("s",ne,u,v),this.r=Z,this.s=ne,ue!=null&&(this.recovery=ue),Object.freeze(this)}static fromCompact(Z){const ne=A;return Z=(0,n.ensureBytes)("compactSignature",Z,ne*2),new O(R(Z,0,ne),R(Z,ne,2*ne))}static fromDER(Z){const{r:ne,s:ue}=t.DER.toSig((0,n.ensureBytes)("DER",Z));return new O(ne,ue)}assertValidity(){}addRecoveryBit(Z){return new O(this.r,this.s,Z)}recoverPublicKey(Z){const{r:ne,s:ue,recovery:ce}=this,ge=z((0,n.ensureBytes)("msgHash",Z));if(ce==null||![0,1,2,3].includes(ce))throw new Error("recovery id invalid");const we=ce===2||ce===3?ne+b.n:ne;if(we>=g.ORDER)throw new Error("recovery id 2 or 3 invalid");const me=(ce&1)===0?"02":"03",ae=k.fromHex(me+a(we,g.BYTES)),Oe=M(we),Ie=N(-ge*Oe),Be=N(ue*Oe),de=k.BASE.multiplyAndAddUnsafe(ae,Ie,Be);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,N(-this.s),this.recovery):this}toDERRawBytes(){return(0,n.hexToBytes)(this.toDERHex())}toDERHex(){return t.DER.hexFromSig(this)}toCompactRawBytes(){return(0,n.hexToBytes)(this.toCompactHex())}toCompactHex(){const Z=A;return a(this.r,Z)+a(this.s,Z)}}const P={isValidPrivateKey(V){try{return B(V),!0}catch{return!1}},normPrivateKeyToScalar:B,randomPrivateKey:()=>{const V=(0,r.getMinHashLength)(b.n);return(0,r.mapHashToField)(b.randomBytes(V),b.n)},precompute(V=8,Z=k.BASE){return Z._setWindowSize(V),Z.multiply(BigInt(3)),Z}};function D(V,Z=!0){return k.fromPrivateKey(V).toRawBytes(Z)}function j(V){if(typeof V=="bigint")return!1;if(V instanceof k)return!0;const ne=(0,n.ensureBytes)("key",V).length,ue=g.BYTES,ce=ue+1,ge=2*ue+1;if(!(b.allowedPrivateKeyLengths||A===ce))return ne===ce||ne===ge}function F(V,Z,ne=!0){if(j(V)===!0)throw new Error("first arg must be private key");if(j(Z)===!1)throw new Error("second arg must be public key");return k.fromHex(Z).multiply(B(V)).toRawBytes(ne)}const q=b.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const Z=(0,n.bytesToNumberBE)(V),ne=V.length*8-C;return ne>0?Z>>BigInt(ne):Z},z=b.bits2int_modN||function(V){return N(q(V))},W=(0,n.bitMask)(C);function K(V){return(0,n.aInRange)("num < 2^"+C,V,c,W),(0,n.numberToBytesBE)(V,A)}function re(V,Z,ne=Q){if(["recovered","canonical"].some($=>$ in ne))throw new Error("sign() legacy options not supported");const{hash:ue,randomBytes:ce}=b;let{lowS:ge,prehash:we,extraEntropy:me}=ne;ge==null&&(ge=!0),V=(0,n.ensureBytes)("msgHash",V),s(ne),we&&(V=(0,n.ensureBytes)("prehashed msgHash",ue(V)));const ae=z(V),Oe=B(Z),Ie=[K(Oe),K(ae)];if(me!=null&&me!==!1){const $=me===!0?ce(g.BYTES):me;Ie.push((0,n.ensureBytes)("extraEntropy",$))}const Be=(0,n.concatBytes)(...Ie),de=ae;function oe($){const L=q($);if(!I(L))return;const H=M(L),ee=k.BASE.multiply(L).toAffine(),le=N(ee.x);if(le===c)return;const ye=N(H*N(de+le*Oe));if(ye===c)return;let Ae=(ee.x===le?0:2)|Number(ee.y&u),tt=ye;return ge&&S(ye)&&(tt=_(ye),Ae^=1),new O(le,tt,Ae)}return{seed:Be,k2sig:oe}}const Q={lowS:b.lowS,prehash:!1},X={lowS:b.lowS,prehash:!1};function ie(V,Z,ne=Q){const{seed:ue,k2sig:ce}=re(V,Z,ne),ge=b;return(0,n.createHmacDrbg)(ge.hash.outputLen,ge.nByteLength,ge.hmac)(ue,ce)}k.BASE._setWindowSize(8);function Y(V,Z,ne,ue=X){var Ae;const ce=V;Z=(0,n.ensureBytes)("msgHash",Z),ne=(0,n.ensureBytes)("publicKey",ne);const{lowS:ge,prehash:we,format:me}=ue;if(s(ue),"strict"in ue)throw new Error("options.strict was renamed to lowS");if(me!==void 0&&me!=="compact"&&me!=="der")throw new Error("format must be compact or der");const ae=typeof ce=="string"||(0,n.isBytes)(ce),Oe=!ae&&!me&&typeof ce=="object"&&ce!==null&&typeof ce.r=="bigint"&&typeof ce.s=="bigint";if(!ae&&!Oe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Ie,Be;try{if(Oe&&(Ie=new O(ce.r,ce.s)),ae){try{me!=="compact"&&(Ie=O.fromDER(ce))}catch(tt){if(!(tt instanceof t.DER.Err))throw tt}!Ie&&me!=="der"&&(Ie=O.fromCompact(ce))}Be=k.fromHex(ne)}catch{return!1}if(!Ie||ge&&Ie.hasHighS())return!1;we&&(Z=b.hash(Z));const{r:de,s:oe}=Ie,$=z(Z),L=M(oe),H=N($*L),ee=N(de*L),le=(Ae=k.BASE.multiplyAndAddUnsafe(Be,H,ee))==null?void 0:Ae.toAffine();return le?N(le.x)===de:!1}return{CURVE:b,getPublicKey:D,getSharedSecret:F,sign:ie,verify:Y,ProjectivePoint:k,Signature:O,utils:P}}function y(w,b){const g=w.ORDER;let v=c;for(let S=g-u;S%l===c;S/=l)v+=u;const A=v,C=l<<A-u-u,x=C*l,T=(g-u)/x,N=(T-u)/l,M=x-u,k=C,B=w.pow(b,T),U=w.pow(b,(T+u)/l);let I=(S,_)=>{let R=B,O=w.pow(_,M),P=w.sqr(O);P=w.mul(P,_);let D=w.mul(S,P);D=w.pow(D,N),D=w.mul(D,O),O=w.mul(D,_),P=w.mul(D,S);let j=w.mul(P,O);D=w.pow(j,k);let F=w.eql(D,w.ONE);O=w.mul(P,U),D=w.mul(j,R),P=w.cmov(O,P,F),j=w.cmov(D,j,F);for(let q=A;q>u;q--){let z=q-l;z=l<<z-u;let W=w.pow(j,z);const K=w.eql(W,w.ONE);O=w.mul(P,R),R=w.mul(R,R),W=w.mul(j,R),P=w.cmov(O,P,K),j=w.cmov(W,j,K)}return{isValid:F,value:P}};if(w.ORDER%f===d){const S=(w.ORDER-d)/f,_=w.sqrt(w.neg(b));I=(R,O)=>{let P=w.sqr(O);const D=w.mul(R,O);P=w.mul(P,D);let j=w.pow(P,S);j=w.mul(j,D);const F=w.mul(j,_),q=w.mul(w.sqr(j),O),z=w.eql(q,R);let W=w.cmov(F,j,z);return{isValid:z,value:W}}}return I}function E(w,b){if((0,r.validateField)(w),!w.isValid(b.A)||!w.isValid(b.B)||!w.isValid(b.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const g=y(w,b.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return v=>{let A,C,x,T,N,M,k,B;A=w.sqr(v),A=w.mul(A,b.Z),C=w.sqr(A),C=w.add(C,A),x=w.add(C,w.ONE),x=w.mul(x,b.B),T=w.cmov(b.Z,w.neg(C),!w.eql(C,w.ZERO)),T=w.mul(T,b.A),C=w.sqr(x),M=w.sqr(T),N=w.mul(M,b.A),C=w.add(C,N),C=w.mul(C,x),M=w.mul(M,T),N=w.mul(M,b.B),C=w.add(C,N),k=w.mul(A,x);const{isValid:U,value:I}=g(C,M);B=w.mul(A,v),B=w.mul(B,I),k=w.cmov(k,x,U),B=w.cmov(B,I,U);const S=w.isOdd(v)===w.isOdd(B);B=w.cmov(w.neg(B),B,S);const _=(0,r.FpInvertBatch)(w,[T],!0)[0];return k=w.mul(k,_),{x:k,y:B}}}})(sO)),sO}var zF;function S3e(){if(zF)return $y;zF=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.getHash=n,$y.createCurve=s;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=jte(),e=ma(),r=Dte();function n(i){return{hash:i,hmac:(o,...a)=>(0,t.hmac)(i,o,(0,e.concatBytes)(...a)),randomBytes:e.randomBytes}}function s(i,o){const a=c=>(0,r.weierstrass)({...i,...n(c)});return{...a(o),create:a}}return $y}var wl={},$F;function I3e(){if($F)return wl;$F=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.expand_message_xmd=o,wl.expand_message_xof=a,wl.hash_to_field=c,wl.isogenyMap=u,wl.createHasher=l;const t=HP(),e=bE(),r=e.bytesToNumberBE;function n(d,f){if(i(d),i(f),d<0||d>=1<<8*f)throw new Error("invalid I2OSP input: "+d);const h=Array.from({length:f}).fill(0);for(let p=f-1;p>=0;p--)h[p]=d&255,d>>>=8;return new Uint8Array(h)}function s(d,f){const h=new Uint8Array(d.length);for(let p=0;p<d.length;p++)h[p]=d[p]^f[p];return h}function i(d){if(!Number.isSafeInteger(d))throw new Error("number expected")}function o(d,f,h,p){(0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255&&(f=p((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),f)));const{outputLen:m,blockLen:y}=p,E=Math.ceil(h/m);if(h>65535||E>255)throw new Error("expand_message_xmd: invalid lenInBytes");const w=(0,e.concatBytes)(f,n(f.length,1)),b=n(0,y),g=n(h,2),v=new Array(E),A=p((0,e.concatBytes)(b,d,g,n(0,1),w));v[0]=p((0,e.concatBytes)(A,n(1,1),w));for(let x=1;x<=E;x++){const T=[s(A,v[x-1]),n(x+1,1),w];v[x]=p((0,e.concatBytes)(...T))}return(0,e.concatBytes)(...v).slice(0,h)}function a(d,f,h,p,m){if((0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255){const y=Math.ceil(2*p/8);f=m.create({dkLen:y}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(f).digest()}if(h>65535||f.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return m.create({dkLen:h}).update(d).update(n(h,2)).update(f).update(n(f.length,1)).digest()}function c(d,f,h){(0,e.validateObject)(h,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p,k:m,m:y,hash:E,expand:w,DST:b}=h;(0,e.abytes)(d),i(f);const g=typeof b=="string"?(0,e.utf8ToBytes)(b):b,v=p.toString(2).length,A=Math.ceil((v+m)/8),C=f*y*A;let x;if(w==="xmd")x=o(d,g,C,E);else if(w==="xof")x=a(d,g,C,m,E);else if(w==="_internal_pass")x=d;else throw new Error('expand must be "xmd" or "xof"');const T=new Array(f);for(let N=0;N<f;N++){const M=new Array(y);for(let k=0;k<y;k++){const B=A*(k+N*y),U=x.subarray(B,B+A);M[k]=(0,t.mod)(r(U),p)}T[N]=M}return T}function u(d,f){const h=f.map(p=>Array.from(p).reverse());return(p,m)=>{const[y,E,w,b]=h.map(A=>A.reduce((C,x)=>d.add(d.mul(C,p),x))),[g,v]=(0,t.FpInvertBatch)(d,[E,b],!0);return p=d.mul(y,g),m=d.mul(m,d.mul(w,v)),{x:p,y:m}}}function l(d,f,h){if(typeof f!="function")throw new Error("mapToCurve() must be defined");function p(y){return d.fromAffine(f(y))}function m(y){const E=y.clearCofactor();return E.equals(d.ZERO)?d.ZERO:(E.assertValidity(),E)}return{defaults:h,hashToCurve(y,E){const w=c(y,2,{...h,DST:h.DST,...E}),b=p(w[0]),g=p(w[1]);return m(b.add(g))},encodeToCurve(y,E){const w=c(y,1,{...h,DST:h.encodeDST,...E});return m(p(w[0]))},mapToCurve(y){if(!Array.isArray(y))throw new Error("expected array of bigints");for(const E of y)if(typeof E!="bigint")throw new Error("expected array of bigints");return m(p(y))}}}return wl}var VF;function wE(){return VF||(VF=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.secp256k1_hasher=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Z3(),r=ma(),n=S3e(),s=I3e(),i=HP(),o=bE(),a=Dte(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(0),d=BigInt(1),f=BigInt(2),h=(_,R)=>(_+R/f)/R;function p(_){const R=c,O=BigInt(3),P=BigInt(6),D=BigInt(11),j=BigInt(22),F=BigInt(23),q=BigInt(44),z=BigInt(88),W=_*_*_%R,K=W*W*_%R,re=(0,i.pow2)(K,O,R)*K%R,Q=(0,i.pow2)(re,O,R)*K%R,X=(0,i.pow2)(Q,f,R)*W%R,ie=(0,i.pow2)(X,D,R)*X%R,Y=(0,i.pow2)(ie,j,R)*ie%R,V=(0,i.pow2)(Y,q,R)*Y%R,Z=(0,i.pow2)(V,z,R)*V%R,ne=(0,i.pow2)(Z,q,R)*Y%R,ue=(0,i.pow2)(ne,O,R)*K%R,ce=(0,i.pow2)(ue,F,R)*ie%R,ge=(0,i.pow2)(ce,P,R)*W%R,we=(0,i.pow2)(ge,f,R);if(!m.eql(m.sqr(we),_))throw new Error("Cannot find square root");return we}const m=(0,i.Field)(c,void 0,void 0,{sqrt:p});t.secp256k1=(0,n.createCurve)({a:l,b:BigInt(7),Fp:m,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:_=>{const R=u,O=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),P=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),D=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),j=O,F=BigInt("0x100000000000000000000000000000000"),q=h(j*_,R),z=h(-P*_,R);let W=(0,i.mod)(_-q*O-z*D,R),K=(0,i.mod)(-q*P-z*j,R);const re=W>F,Q=K>F;if(re&&(W=R-W),Q&&(K=R-K),W>F||K>F)throw new Error("splitScalar: Endomorphism failed, k="+_);return{k1neg:re,k1:W,k2neg:Q,k2:K}}}},e.sha256);const y={};function E(_,...R){let O=y[_];if(O===void 0){const P=(0,e.sha256)(Uint8Array.from(_,D=>D.charCodeAt(0)));O=(0,o.concatBytes)(P,P),y[_]=O}return(0,e.sha256)((0,o.concatBytes)(O,...R))}const w=_=>_.toRawBytes(!0).slice(1),b=_=>(0,o.numberToBytesBE)(_,32),g=_=>(0,i.mod)(_,c),v=_=>(0,i.mod)(_,u),A=t.secp256k1.ProjectivePoint,C=(_,R,O)=>A.BASE.multiplyAndAddUnsafe(_,R,O);function x(_){let R=t.secp256k1.utils.normPrivateKeyToScalar(_),O=A.fromPrivateKey(R);return{scalar:O.hasEvenY()?R:v(-R),bytes:w(O)}}function T(_){(0,o.aInRange)("x",_,d,c);const R=g(_*_),O=g(R*_+BigInt(7));let P=p(O);P%f!==l&&(P=g(-P));const D=new A(_,P,d);return D.assertValidity(),D}const N=o.bytesToNumberBE;function M(..._){return v(N(E("BIP0340/challenge",..._)))}function k(_){return x(_).bytes}function B(_,R,O=(0,r.randomBytes)(32)){const P=(0,o.ensureBytes)("message",_),{bytes:D,scalar:j}=x(R),F=(0,o.ensureBytes)("auxRand",O,32),q=b(j^N(E("BIP0340/aux",F))),z=E("BIP0340/nonce",q,D,P),W=v(N(z));if(W===l)throw new Error("sign failed: k is zero");const{bytes:K,scalar:re}=x(W),Q=M(K,D,P),X=new Uint8Array(64);if(X.set(K,0),X.set(b(v(re+Q*j)),32),!U(X,P,D))throw new Error("sign: Invalid signature produced");return X}function U(_,R,O){const P=(0,o.ensureBytes)("signature",_,64),D=(0,o.ensureBytes)("message",R),j=(0,o.ensureBytes)("publicKey",O,32);try{const F=T(N(j)),q=N(P.subarray(0,32));if(!(0,o.inRange)(q,d,c))return!1;const z=N(P.subarray(32,64));if(!(0,o.inRange)(z,d,u))return!1;const W=M(b(q),w(F),D),K=C(F,z,v(-W));return!(!K||!K.hasEvenY()||K.toAffine().x!==q)}catch{return!1}}t.schnorr={getPublicKey:k,sign:B,verify:U,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:T,pointToBytes:w,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:E,mod:i.mod}};const I=(0,s.isogenyMap)(m,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(_=>_.map(R=>BigInt(R)))),S=(0,a.mapToCurveSimpleSWU)(m,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m.create(BigInt("-11"))});t.secp256k1_hasher=(0,s.createHasher)(t.secp256k1.ProjectivePoint,_=>{const{x:R,y:O}=S(m.create(_[0]));return I(R,O)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}),t.hashToCurve=t.secp256k1_hasher.hashToCurve,t.encodeToCurve=t.secp256k1_hasher.encodeToCurve})(rO)),rO}var GF;function Y3(){if(GF)return O_;GF=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.recoverPublicKey=s;const t=$s(),e=_i(),r=tn(),n=ze();async function s({hash:o,signature:a}){const c=(0,t.isHex)(o)?o:(0,n.toHex)(o),{secp256k1:u}=await Promise.resolve().then(()=>wE());return`0x${(()=>{if(typeof a=="object"&&"r"in a&&"s"in a){const{r:m,s:y,v:E,yParity:w}=a,b=Number(w??E),g=i(b);return new u.Signature((0,r.hexToBigInt)(m),(0,r.hexToBigInt)(y)).addRecoveryBit(g)}const f=(0,t.isHex)(a)?a:(0,n.toHex)(a);if((0,e.size)(f)!==65)throw new Error("invalid signature length");const h=(0,r.hexToNumber)(`0x${f.slice(130)}`),p=i(h);return u.Signature.fromCompact(f.substring(2,130)).addRecoveryBit(p)})().recoverPublicKey(c.substring(2)).toHex(!1)}`}function i(o){if(o===0||o===1)return o;if(o===27)return 0;if(o===28)return 1;throw new Error("Invalid yParityOrV value")}return O_}var WF;function Hd(){if(WF)return P_;WF=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.recoverAddress=r;const t=Bte(),e=Y3();async function r({hash:n,signature:s}){return(0,t.publicKeyToAddress)(await(0,e.recoverPublicKey)({hash:n,signature:s}))}return P_}var R_={},r0={},KF;function EE(){if(KF)return r0;KF=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.toRlp=s,r0.bytesToRlp=i,r0.hexToRlp=o;const t=yt(),e=mE(),r=Cr(),n=ze();function s(d,f="hex"){const h=a(d),p=(0,e.createCursor)(new Uint8Array(h.length));return h.encode(p),f==="hex"?(0,n.bytesToHex)(p.bytes):p.bytes}function i(d,f="bytes"){return s(d,f)}function o(d,f="hex"){return s(d,f)}function a(d){return Array.isArray(d)?c(d.map(f=>a(f))):u(d)}function c(d){const f=d.reduce((m,y)=>m+y.length,0),h=l(f);return{length:f<=55?1+f:1+h+f,encode(m){f<=55?m.pushByte(192+f):(m.pushByte(247+h),h===1?m.pushUint8(f):h===2?m.pushUint16(f):h===3?m.pushUint24(f):m.pushUint32(f));for(const{encode:y}of d)y(m)}}}function u(d){const f=typeof d=="string"?(0,r.hexToBytes)(d):d,h=l(f.length);return{length:f.length===1&&f[0]<128?1:f.length<=55?1+f.length:1+h+f.length,encode(m){f.length===1&&f[0]<128?m.pushBytes(f):f.length<=55?(m.pushByte(128+f.length),m.pushBytes(f)):(m.pushByte(183+h),h===1?m.pushUint8(f.length):h===2?m.pushUint16(f.length):h===3?m.pushUint24(f.length):m.pushUint32(f.length),m.pushBytes(f))}}}function l(d){if(d<2**8)return 1;if(d<2**16)return 2;if(d<2**24)return 3;if(d<2**32)return 4;throw new t.BaseError("Length is too large.")}return r0}var ZF;function Mte(){if(ZF)return R_;ZF=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.hashAuthorization=i;const t=jn(),e=Cr(),r=ze(),n=EE(),s=Ai();function i(o){const{chainId:a,nonce:c,to:u}=o,l=o.contractAddress??o.address,d=(0,s.keccak256)((0,t.concatHex)(["0x05",(0,n.toRlp)([a?(0,r.numberToHex)(a):"0x",l,c?(0,r.numberToHex)(c):"0x"])]));return u==="bytes"?(0,e.hexToBytes)(d):d}return R_}var YF;function vE(){if(YF)return T_;YF=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.recoverAuthorizationAddress=r;const t=Hd(),e=Mte();async function r(n){const{authorization:s,signature:i}=n;return(0,t.recoverAddress)({hash:(0,e.hashAuthorization)(s),signature:i??s})}return T_}var N_={},Vy={},JF;function Ute(){if(JF)return Vy;JF=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.EstimateGasExecutionError=void 0;const t=yE(),e=Sp(),r=yt(),n=Ii();class s extends r.BaseError{constructor(o,{account:a,docsPath:c,chain:u,data:l,gas:d,gasPrice:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:y,value:E}){var b;const w=(0,n.prettyPrint)({from:a==null?void 0:a.address,to:y,value:typeof E<"u"&&`${(0,t.formatEther)(E)} ${((b=u==null?void 0:u.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:l,gas:d,gasPrice:typeof f<"u"&&`${(0,e.formatGwei)(f)} gwei`,maxFeePerGas:typeof h<"u"&&`${(0,e.formatGwei)(h)} gwei`,maxPriorityFeePerGas:typeof p<"u"&&`${(0,e.formatGwei)(p)} gwei`,nonce:m});super(o.shortMessage,{cause:o,docsPath:c,metaMessages:[...o.metaMessages?[...o.metaMessages," "]:[],"Estimate Gas Arguments:",w].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=o}}return Vy.EstimateGasExecutionError=s,Vy}var vr={},QF;function Ku(){if(QF)return vr;QF=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.UnknownNodeError=vr.TipAboveFeeCapError=vr.TransactionTypeNotSupportedError=vr.IntrinsicGasTooLowError=vr.IntrinsicGasTooHighError=vr.InsufficientFundsError=vr.NonceMaxValueError=vr.NonceTooLowError=vr.NonceTooHighError=vr.FeeCapTooLowError=vr.FeeCapTooHighError=vr.ExecutionRevertedError=void 0;const t=Sp(),e=yt();class r extends e.BaseError{constructor({cause:m,message:y}={}){var w;const E=(w=y==null?void 0:y.replace("execution reverted: ",""))==null?void 0:w.replace("execution reverted","");super(`Execution reverted ${E?`with reason: ${E}`:"for an unknown reason"}.`,{cause:m,name:"ExecutionRevertedError"})}}vr.ExecutionRevertedError=r,Object.defineProperty(r,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class n extends e.BaseError{constructor({cause:m,maxFeePerGas:y}={}){super(`The fee cap (\`maxFeePerGas\`${y?` = ${(0,t.formatGwei)(y)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:m,name:"FeeCapTooHighError"})}}vr.FeeCapTooHighError=n,Object.defineProperty(n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class s extends e.BaseError{constructor({cause:m,maxFeePerGas:y}={}){super(`The fee cap (\`maxFeePerGas\`${y?` = ${(0,t.formatGwei)(y)}`:""} gwei) cannot be lower than the block base fee.`,{cause:m,name:"FeeCapTooLowError"})}}vr.FeeCapTooLowError=s,Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class i extends e.BaseError{constructor({cause:m,nonce:y}={}){super(`Nonce provided for the transaction ${y?`(${y}) `:""}is higher than the next one expected.`,{cause:m,name:"NonceTooHighError"})}}vr.NonceTooHighError=i,Object.defineProperty(i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class o extends e.BaseError{constructor({cause:m,nonce:y}={}){super([`Nonce provided for the transaction ${y?`(${y}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:m,name:"NonceTooLowError"})}}vr.NonceTooLowError=o,Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class a extends e.BaseError{constructor({cause:m,nonce:y}={}){super(`Nonce provided for the transaction ${y?`(${y}) `:""}exceeds the maximum allowed nonce.`,{cause:m,name:"NonceMaxValueError"})}}vr.NonceMaxValueError=a,Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class c extends e.BaseError{constructor({cause:m}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:m,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}vr.InsufficientFundsError=c,Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class u extends e.BaseError{constructor({cause:m,gas:y}={}){super(`The amount of gas ${y?`(${y}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:m,name:"IntrinsicGasTooHighError"})}}vr.IntrinsicGasTooHighError=u,Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class l extends e.BaseError{constructor({cause:m,gas:y}={}){super(`The amount of gas ${y?`(${y}) `:""}provided for the transaction is too low.`,{cause:m,name:"IntrinsicGasTooLowError"})}}vr.IntrinsicGasTooLowError=l,Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class d extends e.BaseError{constructor({cause:m}){super("The transaction type is not supported for this chain.",{cause:m,name:"TransactionTypeNotSupportedError"})}}vr.TransactionTypeNotSupportedError=d,Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class f extends e.BaseError{constructor({cause:m,maxPriorityFeePerGas:y,maxFeePerGas:E}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${y?` = ${(0,t.formatGwei)(y)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${E?` = ${(0,t.formatGwei)(E)} gwei`:""}).`].join(`
`),{cause:m,name:"TipAboveFeeCapError"})}}vr.TipAboveFeeCapError=f,Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class h extends e.BaseError{constructor({cause:m}){super(`An error occurred while executing: ${m==null?void 0:m.shortMessage}`,{cause:m,name:"UnknownNodeError"})}}return vr.UnknownNodeError=h,vr}var Gy={},XF;function _E(){if(XF)return Gy;XF=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.containsNodeError=s,Gy.getNodeError=i;const t=yt(),e=Ku(),r=ba(),n=Ld();function s(o){return o instanceof n.TransactionRejectedRpcError||o instanceof n.InvalidInputRpcError||o instanceof r.RpcRequestError&&o.code===e.ExecutionRevertedError.code}function i(o,a){const c=(o.details||"").toLowerCase(),u=o instanceof t.BaseError?o.walk(l=>(l==null?void 0:l.code)===e.ExecutionRevertedError.code):o;return u instanceof t.BaseError?new e.ExecutionRevertedError({cause:o,message:u.details}):e.ExecutionRevertedError.nodeMessage.test(c)?new e.ExecutionRevertedError({cause:o,message:o.details}):e.FeeCapTooHighError.nodeMessage.test(c)?new e.FeeCapTooHighError({cause:o,maxFeePerGas:a==null?void 0:a.maxFeePerGas}):e.FeeCapTooLowError.nodeMessage.test(c)?new e.FeeCapTooLowError({cause:o,maxFeePerGas:a==null?void 0:a.maxFeePerGas}):e.NonceTooHighError.nodeMessage.test(c)?new e.NonceTooHighError({cause:o,nonce:a==null?void 0:a.nonce}):e.NonceTooLowError.nodeMessage.test(c)?new e.NonceTooLowError({cause:o,nonce:a==null?void 0:a.nonce}):e.NonceMaxValueError.nodeMessage.test(c)?new e.NonceMaxValueError({cause:o,nonce:a==null?void 0:a.nonce}):e.InsufficientFundsError.nodeMessage.test(c)?new e.InsufficientFundsError({cause:o}):e.IntrinsicGasTooHighError.nodeMessage.test(c)?new e.IntrinsicGasTooHighError({cause:o,gas:a==null?void 0:a.gas}):e.IntrinsicGasTooLowError.nodeMessage.test(c)?new e.IntrinsicGasTooLowError({cause:o,gas:a==null?void 0:a.gas}):e.TransactionTypeNotSupportedError.nodeMessage.test(c)?new e.TransactionTypeNotSupportedError({cause:o}):e.TipAboveFeeCapError.nodeMessage.test(c)?new e.TipAboveFeeCapError({cause:o,maxFeePerGas:a==null?void 0:a.maxFeePerGas,maxPriorityFeePerGas:a==null?void 0:a.maxPriorityFeePerGas}):new e.UnknownNodeError({cause:o})}return Gy}var e7;function Lte(){if(e7)return N_;e7=1,Object.defineProperty(N_,"__esModule",{value:!0}),N_.getEstimateGasError=n;const t=Ute(),e=Ku(),r=_E();function n(s,{docsPath:i,...o}){const a=(()=>{const c=(0,r.getNodeError)(s,o);return c instanceof e.UnknownNodeError?s:c})();return new t.EstimateGasExecutionError(a,{docsPath:i,...o})}return N_}var B_={},t7;function qd(){if(t7)return B_;t7=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.extract=t;function t(e,{format:r}){if(!r)return{};const n={};function s(o){const a=Object.keys(o);for(const c of a)c in e&&(n[c]=e[c]),o[c]&&typeof o[c]=="object"&&!Array.isArray(o[c])&&s(o[c])}const i=r(e||{});return s(i),n}return B_}var iO={},k_={},r7;function AE(){if(r7)return k_;r7=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.defineFormatter=t;function t(e,r){return({exclude:n,format:s})=>({exclude:n,format:(i,o)=>{const a=r(i,o);if(n)for(const c of n)delete a[c];return{...a,...s(i,o)}},type:e})}return k_}var n7;function wa(){return n7||(n7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransactionRequest=t.rpcTransactionType=void 0,t.formatTransactionRequest=n;const e=ze(),r=AE();t.rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function n(i,o){const a={};return typeof i.authorizationList<"u"&&(a.authorizationList=s(i.authorizationList)),typeof i.accessList<"u"&&(a.accessList=i.accessList),typeof i.blobVersionedHashes<"u"&&(a.blobVersionedHashes=i.blobVersionedHashes),typeof i.blobs<"u"&&(typeof i.blobs[0]!="string"?a.blobs=i.blobs.map(c=>(0,e.bytesToHex)(c)):a.blobs=i.blobs),typeof i.data<"u"&&(a.data=i.data),i.account&&(a.from=i.account.address),typeof i.from<"u"&&(a.from=i.from),typeof i.gas<"u"&&(a.gas=(0,e.numberToHex)(i.gas)),typeof i.gasPrice<"u"&&(a.gasPrice=(0,e.numberToHex)(i.gasPrice)),typeof i.maxFeePerBlobGas<"u"&&(a.maxFeePerBlobGas=(0,e.numberToHex)(i.maxFeePerBlobGas)),typeof i.maxFeePerGas<"u"&&(a.maxFeePerGas=(0,e.numberToHex)(i.maxFeePerGas)),typeof i.maxPriorityFeePerGas<"u"&&(a.maxPriorityFeePerGas=(0,e.numberToHex)(i.maxPriorityFeePerGas)),typeof i.nonce<"u"&&(a.nonce=(0,e.numberToHex)(i.nonce)),typeof i.to<"u"&&(a.to=i.to),typeof i.type<"u"&&(a.type=t.rpcTransactionType[i.type]),typeof i.value<"u"&&(a.value=(0,e.numberToHex)(i.value)),a}t.defineTransactionRequest=(0,r.defineFormatter)("transactionRequest",n);function s(i){return i.map(o=>({address:o.address,r:o.r?(0,e.numberToHex)(BigInt(o.r)):o.r,s:o.s?(0,e.numberToHex)(BigInt(o.s)):o.s,chainId:(0,e.numberToHex)(o.chainId),nonce:(0,e.numberToHex)(o.nonce),...typeof o.yParity<"u"?{yParity:(0,e.numberToHex)(o.yParity)}:{},...typeof o.v<"u"&&typeof o.yParity>"u"?{v:(0,e.numberToHex)(o.v)}:{}}))}})(iO)),iO}var n0={},s7;function J3(){if(s7)return n0;s7=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.serializeStateMapping=i,n0.serializeAccountStateOverride=o,n0.serializeStateOverride=a;const t=ga(),e=jP(),r=W3(),n=Ci(),s=ze();function i(c){if(!(!c||c.length===0))return c.reduce((u,{slot:l,value:d})=>{if(l.length!==66)throw new e.InvalidBytesLengthError({size:l.length,targetSize:66,type:"hex"});if(d.length!==66)throw new e.InvalidBytesLengthError({size:d.length,targetSize:66,type:"hex"});return u[l]=d,u},{})}function o(c){const{balance:u,nonce:l,state:d,stateDiff:f,code:h}=c,p={};if(h!==void 0&&(p.code=h),u!==void 0&&(p.balance=(0,s.numberToHex)(u)),l!==void 0&&(p.nonce=(0,s.numberToHex)(l)),d!==void 0&&(p.state=i(d)),f!==void 0){if(p.state)throw new r.StateAssignmentConflictError;p.stateDiff=i(f)}return p}function a(c){if(!c)return;const u={};for(const{address:l,...d}of c){if(!(0,n.isAddress)(l,{strict:!1}))throw new t.InvalidAddressError({address:l});if(u[l])throw new r.AccountStateConflictError({address:l});u[l]=o(d)}return u}return n0}var j_={},he={},i7;function Q3(){return i7||(i7=1,Object.defineProperty(he,"__esModule",{value:!0}),he.minInt144=he.minInt136=he.minInt128=he.minInt120=he.minInt112=he.minInt104=he.minInt96=he.minInt88=he.minInt80=he.minInt72=he.minInt64=he.minInt56=he.minInt48=he.minInt40=he.minInt32=he.minInt24=he.minInt16=he.minInt8=he.maxInt256=he.maxInt248=he.maxInt240=he.maxInt232=he.maxInt224=he.maxInt216=he.maxInt208=he.maxInt200=he.maxInt192=he.maxInt184=he.maxInt176=he.maxInt168=he.maxInt160=he.maxInt152=he.maxInt144=he.maxInt136=he.maxInt128=he.maxInt120=he.maxInt112=he.maxInt104=he.maxInt96=he.maxInt88=he.maxInt80=he.maxInt72=he.maxInt64=he.maxInt56=he.maxInt48=he.maxInt40=he.maxInt32=he.maxInt24=he.maxInt16=he.maxInt8=void 0,he.maxUint256=he.maxUint248=he.maxUint240=he.maxUint232=he.maxUint224=he.maxUint216=he.maxUint208=he.maxUint200=he.maxUint192=he.maxUint184=he.maxUint176=he.maxUint168=he.maxUint160=he.maxUint152=he.maxUint144=he.maxUint136=he.maxUint128=he.maxUint120=he.maxUint112=he.maxUint104=he.maxUint96=he.maxUint88=he.maxUint80=he.maxUint72=he.maxUint64=he.maxUint56=he.maxUint48=he.maxUint40=he.maxUint32=he.maxUint24=he.maxUint16=he.maxUint8=he.minInt256=he.minInt248=he.minInt240=he.minInt232=he.minInt224=he.minInt216=he.minInt208=he.minInt200=he.minInt192=he.minInt184=he.minInt176=he.minInt168=he.minInt160=he.minInt152=void 0,he.maxInt8=2n**(8n-1n)-1n,he.maxInt16=2n**(16n-1n)-1n,he.maxInt24=2n**(24n-1n)-1n,he.maxInt32=2n**(32n-1n)-1n,he.maxInt40=2n**(40n-1n)-1n,he.maxInt48=2n**(48n-1n)-1n,he.maxInt56=2n**(56n-1n)-1n,he.maxInt64=2n**(64n-1n)-1n,he.maxInt72=2n**(72n-1n)-1n,he.maxInt80=2n**(80n-1n)-1n,he.maxInt88=2n**(88n-1n)-1n,he.maxInt96=2n**(96n-1n)-1n,he.maxInt104=2n**(104n-1n)-1n,he.maxInt112=2n**(112n-1n)-1n,he.maxInt120=2n**(120n-1n)-1n,he.maxInt128=2n**(128n-1n)-1n,he.maxInt136=2n**(136n-1n)-1n,he.maxInt144=2n**(144n-1n)-1n,he.maxInt152=2n**(152n-1n)-1n,he.maxInt160=2n**(160n-1n)-1n,he.maxInt168=2n**(168n-1n)-1n,he.maxInt176=2n**(176n-1n)-1n,he.maxInt184=2n**(184n-1n)-1n,he.maxInt192=2n**(192n-1n)-1n,he.maxInt200=2n**(200n-1n)-1n,he.maxInt208=2n**(208n-1n)-1n,he.maxInt216=2n**(216n-1n)-1n,he.maxInt224=2n**(224n-1n)-1n,he.maxInt232=2n**(232n-1n)-1n,he.maxInt240=2n**(240n-1n)-1n,he.maxInt248=2n**(248n-1n)-1n,he.maxInt256=2n**(256n-1n)-1n,he.minInt8=-(2n**(8n-1n)),he.minInt16=-(2n**(16n-1n)),he.minInt24=-(2n**(24n-1n)),he.minInt32=-(2n**(32n-1n)),he.minInt40=-(2n**(40n-1n)),he.minInt48=-(2n**(48n-1n)),he.minInt56=-(2n**(56n-1n)),he.minInt64=-(2n**(64n-1n)),he.minInt72=-(2n**(72n-1n)),he.minInt80=-(2n**(80n-1n)),he.minInt88=-(2n**(88n-1n)),he.minInt96=-(2n**(96n-1n)),he.minInt104=-(2n**(104n-1n)),he.minInt112=-(2n**(112n-1n)),he.minInt120=-(2n**(120n-1n)),he.minInt128=-(2n**(128n-1n)),he.minInt136=-(2n**(136n-1n)),he.minInt144=-(2n**(144n-1n)),he.minInt152=-(2n**(152n-1n)),he.minInt160=-(2n**(160n-1n)),he.minInt168=-(2n**(168n-1n)),he.minInt176=-(2n**(176n-1n)),he.minInt184=-(2n**(184n-1n)),he.minInt192=-(2n**(192n-1n)),he.minInt200=-(2n**(200n-1n)),he.minInt208=-(2n**(208n-1n)),he.minInt216=-(2n**(216n-1n)),he.minInt224=-(2n**(224n-1n)),he.minInt232=-(2n**(232n-1n)),he.minInt240=-(2n**(240n-1n)),he.minInt248=-(2n**(248n-1n)),he.minInt256=-(2n**(256n-1n)),he.maxUint8=2n**8n-1n,he.maxUint16=2n**16n-1n,he.maxUint24=2n**24n-1n,he.maxUint32=2n**32n-1n,he.maxUint40=2n**40n-1n,he.maxUint48=2n**48n-1n,he.maxUint56=2n**56n-1n,he.maxUint64=2n**64n-1n,he.maxUint72=2n**72n-1n,he.maxUint80=2n**80n-1n,he.maxUint88=2n**88n-1n,he.maxUint96=2n**96n-1n,he.maxUint104=2n**104n-1n,he.maxUint112=2n**112n-1n,he.maxUint120=2n**120n-1n,he.maxUint128=2n**128n-1n,he.maxUint136=2n**136n-1n,he.maxUint144=2n**144n-1n,he.maxUint152=2n**152n-1n,he.maxUint160=2n**160n-1n,he.maxUint168=2n**168n-1n,he.maxUint176=2n**176n-1n,he.maxUint184=2n**184n-1n,he.maxUint192=2n**192n-1n,he.maxUint200=2n**200n-1n,he.maxUint208=2n**208n-1n,he.maxUint216=2n**216n-1n,he.maxUint224=2n**224n-1n,he.maxUint232=2n**232n-1n,he.maxUint240=2n**240n-1n,he.maxUint248=2n**248n-1n,he.maxUint256=2n**256n-1n),he}var o7;function Ea(){if(o7)return j_;o7=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.assertRequest=i;const t=Wr(),e=Q3(),r=ga(),n=Ku(),s=Ci();function i(o){const{account:a,maxFeePerGas:c,maxPriorityFeePerGas:u,to:l}=o,d=a?(0,t.parseAccount)(a):void 0;if(d&&!(0,s.isAddress)(d.address))throw new r.InvalidAddressError({address:d.address});if(l&&!(0,s.isAddress)(l))throw new r.InvalidAddressError({address:l});if(c&&c>e.maxUint256)throw new n.FeeCapTooHighError({maxFeePerGas:c});if(u&&c&&u>c)throw new n.TipAboveFeeCapError({maxFeePerGas:c,maxPriorityFeePerGas:u})}return j_}var oO={},Wy={},$c={},a7;function CE(){if(a7)return $c;a7=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.MaxFeePerGasTooLowError=$c.Eip1559FeesNotSupportedError=$c.BaseFeeScalarError=void 0;const t=Sp(),e=yt();class r extends e.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}$c.BaseFeeScalarError=r;class n extends e.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}$c.Eip1559FeesNotSupportedError=n;class s extends e.BaseError{constructor({maxPriorityFeePerGas:o}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,t.formatGwei)(o)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}return $c.MaxFeePerGasTooLowError=s,$c}var Ky={},D_={},Zy={},c7;function X3(){if(c7)return Zy;c7=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.BlockNotFoundError=void 0;const t=yt();class e extends t.BaseError{constructor({blockHash:n,blockNumber:s}){let i="Block";n&&(i=`Block at hash "${n}"`),s&&(i=`Block at number "${s}"`),super(`${i} could not be found.`,{name:"BlockNotFoundError"})}}return Zy.BlockNotFoundError=e,Zy}var s0={},aO={},u7;function xg(){return u7||(u7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransaction=t.transactionType=void 0,t.formatTransaction=n;const e=tn(),r=AE();t.transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function n(i,o){const a={...i,blockHash:i.blockHash?i.blockHash:null,blockNumber:i.blockNumber?BigInt(i.blockNumber):null,chainId:i.chainId?(0,e.hexToNumber)(i.chainId):void 0,gas:i.gas?BigInt(i.gas):void 0,gasPrice:i.gasPrice?BigInt(i.gasPrice):void 0,maxFeePerBlobGas:i.maxFeePerBlobGas?BigInt(i.maxFeePerBlobGas):void 0,maxFeePerGas:i.maxFeePerGas?BigInt(i.maxFeePerGas):void 0,maxPriorityFeePerGas:i.maxPriorityFeePerGas?BigInt(i.maxPriorityFeePerGas):void 0,nonce:i.nonce?(0,e.hexToNumber)(i.nonce):void 0,to:i.to?i.to:null,transactionIndex:i.transactionIndex?Number(i.transactionIndex):null,type:i.type?t.transactionType[i.type]:void 0,typeHex:i.type?i.type:void 0,value:i.value?BigInt(i.value):void 0,v:i.v?BigInt(i.v):void 0};return i.authorizationList&&(a.authorizationList=s(i.authorizationList)),a.yParity=(()=>{if(i.yParity)return Number(i.yParity);if(typeof a.v=="bigint"){if(a.v===0n||a.v===27n)return 0;if(a.v===1n||a.v===28n)return 1;if(a.v>=35n)return a.v%2n===0n?1:0}})(),a.type==="legacy"&&(delete a.accessList,delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas,delete a.yParity),a.type==="eip2930"&&(delete a.maxFeePerBlobGas,delete a.maxFeePerGas,delete a.maxPriorityFeePerGas),a.type==="eip1559"&&delete a.maxFeePerBlobGas,a}t.defineTransaction=(0,r.defineFormatter)("transaction",n);function s(i){return i.map(o=>({address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:o.r,s:o.s,yParity:Number(o.yParity)}))}})(aO)),aO}var l7;function qP(){if(l7)return s0;l7=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.defineBlock=void 0,s0.formatBlock=r;const t=AE(),e=xg();function r(n,s){const i=(n.transactions??[]).map(o=>typeof o=="string"?o:(0,e.formatTransaction)(o));return{...n,baseFeePerGas:n.baseFeePerGas?BigInt(n.baseFeePerGas):null,blobGasUsed:n.blobGasUsed?BigInt(n.blobGasUsed):void 0,difficulty:n.difficulty?BigInt(n.difficulty):void 0,excessBlobGas:n.excessBlobGas?BigInt(n.excessBlobGas):void 0,gasLimit:n.gasLimit?BigInt(n.gasLimit):void 0,gasUsed:n.gasUsed?BigInt(n.gasUsed):void 0,hash:n.hash?n.hash:null,logsBloom:n.logsBloom?n.logsBloom:null,nonce:n.nonce?n.nonce:null,number:n.number?BigInt(n.number):null,size:n.size?BigInt(n.size):void 0,timestamp:n.timestamp?BigInt(n.timestamp):void 0,transactions:i,totalDifficulty:n.totalDifficulty?BigInt(n.totalDifficulty):null}}return s0.defineBlock=(0,t.defineFormatter)("block",r),s0}var d7;function Ip(){if(d7)return D_;d7=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.getBlock=n;const t=X3(),e=ze(),r=qP();async function n(s,{blockHash:i,blockNumber:o,blockTag:a=s.experimental_blockTag??"latest",includeTransactions:c}={}){var h,p,m;const u=c??!1,l=o!==void 0?(0,e.numberToHex)(o):void 0;let d=null;if(i?d=await s.request({method:"eth_getBlockByHash",params:[i,u]},{dedupe:!0}):d=await s.request({method:"eth_getBlockByNumber",params:[l||a,u]},{dedupe:!!l}),!d)throw new t.BlockNotFoundError({blockHash:i,blockNumber:o});return(((m=(p=(h=s.chain)==null?void 0:h.formatters)==null?void 0:p.block)==null?void 0:m.format)||r.formatBlock)(d,"getBlock")}return D_}var M_={},f7;function e4(){if(f7)return M_;f7=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.getGasPrice=t;async function t(e){const r=await e.request({method:"eth_gasPrice"});return BigInt(r)}return M_}var h7;function Fte(){if(h7)return Ky;h7=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.estimateMaxPriorityFeePerGas=i,Ky.internal_estimateMaxPriorityFeePerGas=o;const t=CE(),e=tn(),r=Yt(),n=Ip(),s=e4();async function i(a,c){return o(a,c)}async function o(a,c){var f,h;const{block:u,chain:l=a.chain,request:d}=c||{};try{const p=((f=l==null?void 0:l.fees)==null?void 0:f.maxPriorityFeePerGas)??((h=l==null?void 0:l.fees)==null?void 0:h.defaultPriorityFee);if(typeof p=="function"){const y=u||await(0,r.getAction)(a,n.getBlock,"getBlock")({}),E=await p({block:y,client:a,request:d});if(E===null)throw new Error;return E}if(typeof p<"u")return p;const m=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,e.hexToBigInt)(m)}catch{const[p,m]=await Promise.all([u?Promise.resolve(u):(0,r.getAction)(a,n.getBlock,"getBlock")({}),(0,r.getAction)(a,s.getGasPrice,"getGasPrice")({})]);if(typeof p.baseFeePerGas!="bigint")throw new t.Eip1559FeesNotSupportedError;const y=m-p.baseFeePerGas;return y<0n?0n:y}}return Ky}var p7;function Hte(){if(p7)return Wy;p7=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.estimateFeesPerGas=i,Wy.internal_estimateFeesPerGas=o;const t=CE(),e=Yt(),r=Fte(),n=Ip(),s=e4();async function i(a,c){return o(a,c)}async function o(a,c){var b,g;const{block:u,chain:l=a.chain,request:d,type:f="eip1559"}=c||{},h=await(async()=>{var v,A;return typeof((v=l==null?void 0:l.fees)==null?void 0:v.baseFeeMultiplier)=="function"?l.fees.baseFeeMultiplier({block:u,client:a,request:d}):((A=l==null?void 0:l.fees)==null?void 0:A.baseFeeMultiplier)??1.2})();if(h<1)throw new t.BaseFeeScalarError;const m=10**(((b=h.toString().split(".")[1])==null?void 0:b.length)??0),y=v=>v*BigInt(Math.ceil(h*m))/BigInt(m),E=u||await(0,e.getAction)(a,n.getBlock,"getBlock")({});if(typeof((g=l==null?void 0:l.fees)==null?void 0:g.estimateFeesPerGas)=="function"){const v=await l.fees.estimateFeesPerGas({block:u,client:a,multiply:y,request:d,type:f});if(v!==null)return v}if(f==="eip1559"){if(typeof E.baseFeePerGas!="bigint")throw new t.Eip1559FeesNotSupportedError;const v=typeof(d==null?void 0:d.maxPriorityFeePerGas)=="bigint"?d.maxPriorityFeePerGas:await(0,r.internal_estimateMaxPriorityFeePerGas)(a,{block:E,chain:l,request:d}),A=y(E.baseFeePerGas);return{maxFeePerGas:(d==null?void 0:d.maxFeePerGas)??A+v,maxPriorityFeePerGas:v}}return{gasPrice:(d==null?void 0:d.gasPrice)??y(await(0,e.getAction)(a,s.getGasPrice,"getGasPrice")({}))}}return Wy}var U_={},m7;function zP(){if(m7)return U_;m7=1,Object.defineProperty(U_,"__esModule",{value:!0}),U_.getTransactionCount=r;const t=tn(),e=ze();async function r(n,{address:s,blockTag:i="latest",blockNumber:o}){const a=await n.request({method:"eth_getTransactionCount",params:[s,typeof o=="bigint"?(0,e.numberToHex)(o):i]},{dedupe:!!o});return(0,t.hexToNumber)(a)}return U_}var L_={},g7;function $P(){if(g7)return L_;g7=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.blobsToCommitments=r;const t=Cr(),e=ze();function r(n){const{kzg:s}=n,i=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),o=typeof n.blobs[0]=="string"?n.blobs.map(c=>(0,t.hexToBytes)(c)):n.blobs,a=[];for(const c of o)a.push(Uint8Array.from(s.blobToKzgCommitment(c)));return i==="bytes"?a:a.map(c=>(0,e.bytesToHex)(c))}return L_}var F_={},y7;function VP(){if(y7)return F_;y7=1,Object.defineProperty(F_,"__esModule",{value:!0}),F_.blobsToProofs=r;const t=Cr(),e=ze();function r(n){const{kzg:s}=n,i=n.to??(typeof n.blobs[0]=="string"?"hex":"bytes"),o=typeof n.blobs[0]=="string"?n.blobs.map(u=>(0,t.hexToBytes)(u)):n.blobs,a=typeof n.commitments[0]=="string"?n.commitments.map(u=>(0,t.hexToBytes)(u)):n.commitments,c=[];for(let u=0;u<o.length;u++){const l=o[u],d=a[u];c.push(Uint8Array.from(s.computeBlobKzgProof(l,d)))}return i==="bytes"?c:c.map(u=>(0,e.bytesToHex)(u))}return F_}var H_={},q_={},z_={},jo={},b7;function qte(){if(b7)return jo;b7=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.sha224=jo.SHA224=jo.sha256=jo.SHA256=void 0;const t=Z3();return jo.SHA256=t.SHA256,jo.sha256=t.sha256,jo.SHA224=t.SHA224,jo.sha224=t.sha224,jo}var w7;function t4(){if(w7)return z_;w7=1,Object.defineProperty(z_,"__esModule",{value:!0}),z_.sha256=s;const t=qte(),e=$s(),r=Cr(),n=ze();function s(i,o){const a=o||"hex",c=(0,t.sha256)((0,e.isHex)(i,{strict:!1})?(0,r.toBytes)(i):i);return a==="bytes"?c:(0,n.toHex)(c)}return z_}var E7;function r4(){if(E7)return q_;E7=1,Object.defineProperty(q_,"__esModule",{value:!0}),q_.commitmentToVersionedHash=r;const t=ze(),e=t4();function r(n){const{commitment:s,version:i=1}=n,o=n.to??(typeof s=="string"?"hex":"bytes"),a=(0,e.sha256)(s,"bytes");return a.set([i],0),o==="bytes"?a:(0,t.bytesToHex)(a)}return q_}var v7;function n4(){if(v7)return H_;v7=1,Object.defineProperty(H_,"__esModule",{value:!0}),H_.commitmentsToVersionedHashes=e;const t=r4();function e(r){const{commitments:n,version:s}=r,i=r.to??(typeof n[0]=="string"?"hex":"bytes"),o=[];for(const a of n)o.push((0,t.commitmentToVersionedHash)({commitment:a,to:i,version:s}));return o}return H_}var $_={},V_={},cO={},_7;function T3e(){return _7||(_7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.maxBytesPerTransaction=t.bytesPerBlob=t.fieldElementsPerBlob=t.bytesPerFieldElement=void 0;const e=6;t.bytesPerFieldElement=32,t.fieldElementsPerBlob=4096,t.bytesPerBlob=t.bytesPerFieldElement*t.fieldElementsPerBlob,t.maxBytesPerTransaction=t.bytesPerBlob*e-1-1*t.fieldElementsPerBlob*e})(cO)),cO}var Do={},Yy={},A7;function zte(){return A7||(A7=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.versionedHashVersionKzg=void 0,Yy.versionedHashVersionKzg=1),Yy}var C7;function $te(){if(C7)return Do;C7=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.InvalidVersionedHashVersionError=Do.InvalidVersionedHashSizeError=Do.EmptyBlobError=Do.BlobSizeTooLargeError=void 0;const t=zte(),e=yt();class r extends e.BaseError{constructor({maxSize:a,size:c}){super("Blob size is too large.",{metaMessages:[`Max: ${a} bytes`,`Given: ${c} bytes`],name:"BlobSizeTooLargeError"})}}Do.BlobSizeTooLargeError=r;class n extends e.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}Do.EmptyBlobError=n;class s extends e.BaseError{constructor({hash:a,size:c}){super(`Versioned hash "${a}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${c}`],name:"InvalidVersionedHashSizeError"})}}Do.InvalidVersionedHashSizeError=s;class i extends e.BaseError{constructor({hash:a,version:c}){super(`Versioned hash "${a}" version is invalid.`,{metaMessages:[`Expected: ${t.versionedHashVersionKzg}`,`Received: ${c}`],name:"InvalidVersionedHashVersionError"})}}return Do.InvalidVersionedHashVersionError=i,Do}var S7;function Vte(){if(S7)return V_;S7=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.toBlobs=o;const t=T3e(),e=$te(),r=mE(),n=_i(),s=Cr(),i=ze();function o(a){const c=a.to??(typeof a.data=="string"?"hex":"bytes"),u=typeof a.data=="string"?(0,s.hexToBytes)(a.data):a.data,l=(0,n.size)(u);if(!l)throw new e.EmptyBlobError;if(l>t.maxBytesPerTransaction)throw new e.BlobSizeTooLargeError({maxSize:t.maxBytesPerTransaction,size:l});const d=[];let f=!0,h=0;for(;f;){const p=(0,r.createCursor)(new Uint8Array(t.bytesPerBlob));let m=0;for(;m<t.fieldElementsPerBlob;){const y=u.slice(h,h+(t.bytesPerFieldElement-1));if(p.pushByte(0),p.pushBytes(y),y.length<31){p.pushByte(128),f=!1;break}m++,h+=31}d.push(p)}return c==="bytes"?d.map(p=>p.bytes):d.map(p=>(0,i.bytesToHex)(p.bytes))}return V_}var I7;function GP(){if(I7)return $_;I7=1,Object.defineProperty($_,"__esModule",{value:!0}),$_.toBlobSidecars=n;const t=$P(),e=VP(),r=Vte();function n(s){const{data:i,kzg:o,to:a}=s,c=s.blobs??(0,r.toBlobs)({data:i,to:a}),u=s.commitments??(0,t.blobsToCommitments)({blobs:c,kzg:o,to:a}),l=s.proofs??(0,e.blobsToProofs)({blobs:c,commitments:u,kzg:o,to:a}),d=[];for(let f=0;f<c.length;f++)d.push({blob:c[f],commitment:u[f],proof:l[f]});return d}return $_}var G_={},T7;function WP(){if(T7)return G_;T7=1,Object.defineProperty(G_,"__esModule",{value:!0}),G_.getTransactionType=e;const t=Ii();function e(r){if(r.type)return r.type;if(typeof r.authorizationList<"u")return"eip7702";if(typeof r.blobs<"u"||typeof r.blobVersionedHashes<"u"||typeof r.maxFeePerBlobGas<"u"||typeof r.sidecars<"u")return"eip4844";if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")return"eip1559";if(typeof r.gasPrice<"u")return typeof r.accessList<"u"?"eip2930":"legacy";throw new t.InvalidSerializableTransactionError({transaction:r})}return G_}var W_={},K_={},P7;function SE(){if(P7)return K_;P7=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.getTransactionError=n;const t=Ku(),e=Ii(),r=_E();function n(s,{docsPath:i,...o}){const a=(()=>{const c=(0,r.getNodeError)(s,o);return c instanceof t.UnknownNodeError?s:c})();return new e.TransactionExecutionError(a,{docsPath:i,...o})}return K_}var Z_={},x7;function zd(){if(x7)return Z_;x7=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.getChainId=e;const t=tn();async function e(r){const n=await r.request({method:"eth_chainId"},{dedupe:!0});return(0,t.hexToNumber)(n)}return Z_}var O7;function s4(){if(O7)return W_;O7=1,Object.defineProperty(W_,"__esModule",{value:!0}),W_.fillTransaction=l;const t=Wr(),e=CE(),r=SE(),n=qd(),s=xg(),i=wa(),o=Yt(),a=Ea(),c=Ip(),u=zd();async function l(d,f){var O,P,D,j,F;const{account:h=d.account,accessList:p,authorizationList:m,chain:y=d.chain,blobVersionedHashes:E,blobs:w,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:A,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:T,nonceManager:N,to:M,type:k,value:B,...U}=f,I=await(async()=>{if(!h||!N||typeof T<"u")return T;const q=(0,t.parseAccount)(h),z=y?y.id:await(0,o.getAction)(d,u.getChainId,"getChainId")({});return await N.consume({address:q.address,chainId:z,client:d})})();(0,a.assertRequest)(f);const S=(P=(O=y==null?void 0:y.formatters)==null?void 0:O.transactionRequest)==null?void 0:P.format,R=(S||i.formatTransactionRequest)({...(0,n.extract)(U,{format:S}),account:h?(0,t.parseAccount)(h):void 0,accessList:p,authorizationList:m,blobs:w,blobVersionedHashes:E,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:A,maxFeePerGas:C,maxPriorityFeePerGas:x,nonce:I,to:M,type:k,value:B},"fillTransaction");try{const q=await d.request({method:"eth_fillTransaction",params:[R]}),W=(((j=(D=y==null?void 0:y.formatters)==null?void 0:D.transaction)==null?void 0:j.format)||s.formatTransaction)(q.tx);delete W.blockHash,delete W.blockNumber,delete W.r,delete W.s,delete W.transactionIndex,delete W.v,delete W.yParity,W.data=W.input,W.gas&&(W.gas=f.gas??W.gas),W.gasPrice&&(W.gasPrice=f.gasPrice??W.gasPrice),W.maxFeePerBlobGas&&(W.maxFeePerBlobGas=f.maxFeePerBlobGas??W.maxFeePerBlobGas),W.maxFeePerGas&&(W.maxFeePerGas=f.maxFeePerGas??W.maxFeePerGas),W.maxPriorityFeePerGas&&(W.maxPriorityFeePerGas=f.maxPriorityFeePerGas??W.maxPriorityFeePerGas),W.nonce&&(W.nonce=f.nonce??W.nonce);const K=await(async()=>{var ie,Y;if(typeof((ie=y==null?void 0:y.fees)==null?void 0:ie.baseFeeMultiplier)=="function"){const V=await(0,o.getAction)(d,c.getBlock,"getBlock")({});return y.fees.baseFeeMultiplier({block:V,client:d,request:f})}return((Y=y==null?void 0:y.fees)==null?void 0:Y.baseFeeMultiplier)??1.2})();if(K<1)throw new e.BaseFeeScalarError;const Q=10**(((F=K.toString().split(".")[1])==null?void 0:F.length)??0),X=ie=>ie*BigInt(Math.ceil(K*Q))/BigInt(Q);return W.maxFeePerGas&&!f.maxFeePerGas&&(W.maxFeePerGas=X(W.maxFeePerGas)),W.gasPrice&&!f.gasPrice&&(W.gasPrice=X(W.gasPrice)),{raw:q.raw,transaction:{from:R.from,...W}}}catch(q){throw(0,r.getTransactionError)(q,{...f,chain:d.chain})}}return W_}var R7;function IE(){return R7||(R7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsFillTransaction=t.eip1559NetworkCache=t.defaultParameters=void 0,t.prepareTransactionRequest=E;const e=Wr(),r=Hte(),n=i4(),s=Ip(),i=zP(),o=CE(),a=$P(),c=VP(),u=n4(),l=GP(),d=Yt(),f=_p(),h=Ea(),p=WP(),m=s4(),y=zd();t.defaultParameters=["blobVersionedHashes","chainId","fees","gas","nonce","type"],t.eip1559NetworkCache=new Map,t.supportsFillTransaction=new f.LruMap(128);async function E(w,b){const{account:g=w.account,chain:v,nonceManager:A,parameters:C=t.defaultParameters}=b;let x;async function T(){return x||(v?v.id:typeof b.chainId<"u"?b.chainId:(x=await(0,d.getAction)(w,y.getChainId,"getChainId")({}),x))}const N=g&&(0,e.parseAccount)(g);let M=b.nonce;if(C.includes("nonce")&&typeof M>"u"&&N&&A){const D=await T();M=await A.consume({address:N.address,chainId:D,client:w})}const B=t.supportsFillTransaction.get(w.uid)!==!1&&["fees","gas"].some(D=>{var j;return(j=b.parameters)==null?void 0:j.includes(D)})?await(0,d.getAction)(w,m.fillTransaction,"fillTransaction")({...b,nonce:M}).then(D=>{const{chainId:j,from:F,gas:q,gasPrice:z,nonce:W,maxFeePerBlobGas:K,maxFeePerGas:re,maxPriorityFeePerGas:Q,type:X}=D.transaction;return t.supportsFillTransaction.set(w.uid,!0),{...b,...j?{chainId:j}:{},...F?{from:F}:{},...q?{gas:q}:{},...z?{gasPrice:z}:{},...W?{nonce:W}:{},...K?{maxFeePerBlobGas:K}:{},...re?{maxFeePerGas:re}:{},...Q?{maxPriorityFeePerGas:Q}:{},...X?{type:X}:{}}}).catch(D=>(D.walk(q=>{const z=q;return z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"})&&t.supportsFillTransaction.set(w.uid,!1),b)):b,{blobs:U,gas:I,kzg:S,type:_}=B;M??(M=B.nonce);const R={...B,...N?{from:N==null?void 0:N.address}:{},...M?{nonce:M}:{}};let O;async function P(){return O||(O=await(0,d.getAction)(w,s.getBlock,"getBlock")({blockTag:"latest"}),O)}if(C.includes("nonce")&&typeof M>"u"&&N&&!A&&(R.nonce=await(0,d.getAction)(w,i.getTransactionCount,"getTransactionCount")({address:N.address,blockTag:"pending"})),(C.includes("blobVersionedHashes")||C.includes("sidecars"))&&U&&S){const D=(0,a.blobsToCommitments)({blobs:U,kzg:S});if(C.includes("blobVersionedHashes")){const j=(0,u.commitmentsToVersionedHashes)({commitments:D,to:"hex"});R.blobVersionedHashes=j}if(C.includes("sidecars")){const j=(0,c.blobsToProofs)({blobs:U,commitments:D,kzg:S}),F=(0,l.toBlobSidecars)({blobs:U,commitments:D,proofs:j,to:"hex"});R.sidecars=F}}if(C.includes("chainId")&&(R.chainId=await T()),(C.includes("fees")||C.includes("type"))&&typeof _>"u")try{R.type=(0,p.getTransactionType)(R)}catch{let D=t.eip1559NetworkCache.get(w.uid);if(typeof D>"u"){const j=await P();D=typeof(j==null?void 0:j.baseFeePerGas)=="bigint",t.eip1559NetworkCache.set(w.uid,D)}R.type=D?"eip1559":"legacy"}if(C.includes("fees"))if(R.type!=="legacy"&&R.type!=="eip2930"){if(typeof R.maxFeePerGas>"u"||typeof R.maxPriorityFeePerGas>"u"){const D=await P(),{maxFeePerGas:j,maxPriorityFeePerGas:F}=await(0,r.internal_estimateFeesPerGas)(w,{block:D,chain:v,request:R});if(typeof R.maxPriorityFeePerGas>"u"&&R.maxFeePerGas&&R.maxFeePerGas<F)throw new o.MaxFeePerGasTooLowError({maxPriorityFeePerGas:F});R.maxPriorityFeePerGas=F,R.maxFeePerGas=j}}else{if(typeof R.maxFeePerGas<"u"||typeof R.maxPriorityFeePerGas<"u")throw new o.Eip1559FeesNotSupportedError;if(typeof R.gasPrice>"u"){const D=await P(),{gasPrice:j}=await(0,r.internal_estimateFeesPerGas)(w,{block:D,chain:v,request:R,type:"legacy"});R.gasPrice=j}}return C.includes("gas")&&typeof I>"u"&&(R.gas=await(0,d.getAction)(w,n.estimateGas,"estimateGas")({...R,account:N,prepare:(N==null?void 0:N.type)==="local"?[]:["blobVersionedHashes"]})),(0,h.assertRequest)(R),delete R.parameters,R}})(oO)),oO}var N7;function i4(){if(N7)return I_;N7=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.estimateGas=l;const t=Wr(),e=yt(),r=vE(),n=ze(),s=Lte(),i=qd(),o=wa(),a=J3(),c=Ea(),u=IE();async function l(d,f){var E,w,b;const{account:h=d.account,prepare:p=!0}=f,m=h?(0,t.parseAccount)(h):void 0,y=(()=>{if(Array.isArray(p))return p;if((m==null?void 0:m.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:g,authorizationList:v,blobs:A,blobVersionedHashes:C,blockNumber:x,blockTag:T,data:N,gas:M,gasPrice:k,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:I,nonce:S,value:_,stateOverride:R,...O}=p?await(0,u.prepareTransactionRequest)(d,{...f,parameters:y}):f,D=(typeof x=="bigint"?(0,n.numberToHex)(x):void 0)||T,j=(0,a.serializeStateOverride)(R),F=await(async()=>{if(O.to)return O.to;if(v&&v.length>0)return await(0,r.recoverAuthorizationAddress)({authorization:v[0]}).catch(()=>{throw new e.BaseError("`to` is required. Could not infer from `authorizationList`")})})();(0,c.assertRequest)(f);const q=(b=(w=(E=d.chain)==null?void 0:E.formatters)==null?void 0:w.transactionRequest)==null?void 0:b.format,W=(q||o.formatTransactionRequest)({...(0,i.extract)(O,{format:q}),account:m,accessList:g,authorizationList:v,blobs:A,blobVersionedHashes:C,data:N,gas:M,gasPrice:k,maxFeePerBlobGas:B,maxFeePerGas:U,maxPriorityFeePerGas:I,nonce:S,to:F,value:_},"estimateGas");return BigInt(await d.request({method:"eth_estimateGas",params:j?[W,D??d.experimental_blockTag??"latest",j]:D?[W,D]:[W]}))}catch(g){throw(0,s.getEstimateGasError)(g,{...f,account:m,chain:d.chain})}}return I_}var B7;function Gte(){if(B7)return p_;B7=1,Object.defineProperty(p_,"__esModule",{value:!0}),p_.estimateContractGas=i;const t=Wr(),e=Si(),r=Fd(),n=Yt(),s=i4();async function i(o,a){const{abi:c,address:u,args:l,functionName:d,dataSuffix:f,...h}=a,p=(0,e.encodeFunctionData)({abi:c,args:l,functionName:d});try{return await(0,n.getAction)(o,s.estimateGas,"estimateGas")({data:`${p}${f?f.replace("0x",""):""}`,to:u,...h})}catch(m){const y=h.account?(0,t.parseAccount)(h.account):void 0;throw(0,r.getContractError)(m,{abi:c,address:u,args:l,docsPath:"/docs/contract/estimateContractGas",functionName:d,sender:y==null?void 0:y.address})}}return p_}var Y_={},J_={},Q_={},X_={},k7;function va(){if(k7)return X_;k7=1,Object.defineProperty(X_,"__esModule",{value:!0}),X_.isAddressEqual=r;const t=ga(),e=Ci();function r(n,s){if(!(0,e.isAddress)(n,{strict:!1}))throw new t.InvalidAddressError({address:n});if(!(0,e.isAddress)(s,{strict:!1}))throw new t.InvalidAddressError({address:s});return n.toLowerCase()===s.toLowerCase()}return X_}var eA={},j7;function TE(){if(j7)return eA;j7=1,Object.defineProperty(eA,"__esModule",{value:!0}),eA.decodeEventLog=a;const t=Hr(),e=Rte(),r=_i(),n=Pg(),s=Md(),i=Vu(),o="/docs/contract/decodeEventLog";function a(u){const{abi:l,data:d,strict:f,topics:h}=u,p=f??!0,[m,...y]=h;if(!m)throw new t.AbiEventSignatureEmptyTopicsError({docsPath:o});const E=l.find(x=>x.type==="event"&&m===(0,n.toEventSelector)((0,i.formatAbiItem)(x)));if(!(E&&"name"in E)||E.type!=="event")throw new t.AbiEventSignatureNotFoundError(m,{docsPath:o});const{name:w,inputs:b}=E,g=b==null?void 0:b.some(x=>!("name"in x&&x.name)),v=g?[]:{},A=b.map((x,T)=>[x,T]).filter(([x])=>"indexed"in x&&x.indexed);for(let x=0;x<A.length;x++){const[T,N]=A[x],M=y[x];if(!M)throw new t.DecodeLogTopicsMismatch({abiItem:E,param:T});v[g?N:T.name||N]=c({param:T,value:M})}const C=b.filter(x=>!("indexed"in x&&x.indexed));if(C.length>0){if(d&&d!=="0x")try{const x=(0,s.decodeAbiParameters)(C,d);if(x)if(g)for(let T=0;T<b.length;T++)v[T]=v[T]??x.shift();else for(let T=0;T<C.length;T++)v[C[T].name]=x[T]}catch(x){if(p)throw x instanceof t.AbiDecodingDataSizeTooSmallError||x instanceof e.PositionOutOfBoundsError?new t.DecodeLogDataMismatch({abiItem:E,data:d,params:C,size:(0,r.size)(d)}):x}else if(p)throw new t.DecodeLogDataMismatch({abiItem:E,data:"0x",params:C,size:0})}return{eventName:w,args:Object.values(v).length>0?v:void 0}}function c({param:u,value:l}){return u.type==="string"||u.type==="bytes"||u.type==="tuple"||u.type.match(/^(.*)\[(\d+)?\]$/)?l:((0,s.decodeAbiParameters)([u],l)||[])[0]}return eA}var D7;function PE(){if(D7)return Q_;D7=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.parseEventLogs=o;const t=Hr(),e=va(),r=Cr(),n=Ai(),s=Pg(),i=TE();function o(c){const{abi:u,args:l,logs:d,strict:f=!0}=c,h=(()=>{if(c.eventName)return Array.isArray(c.eventName)?c.eventName:[c.eventName]})();return d.map(p=>{var m;try{const y=u.find(w=>w.type==="event"&&p.topics[0]===(0,s.toEventSelector)(w));if(!y)return null;const E=(0,i.decodeEventLog)({...p,abi:[y],strict:f});return h&&!h.includes(E.eventName)||!a({args:E.args,inputs:y.inputs,matchArgs:l})?null:{...E,...p}}catch(y){let E,w;if(y instanceof t.AbiEventSignatureNotFoundError)return null;if(y instanceof t.DecodeLogDataMismatch||y instanceof t.DecodeLogTopicsMismatch){if(f)return null;E=y.abiItem.name,w=(m=y.abiItem.inputs)==null?void 0:m.some(b=>!("name"in b&&b.name))}return{...p,args:w?[]:{},eventName:E}}}).filter(Boolean)}function a(c){const{args:u,inputs:l,matchArgs:d}=c;if(!d)return!0;if(!u)return!1;function f(h,p,m){try{return h.type==="address"?(0,e.isAddressEqual)(p,m):h.type==="string"||h.type==="bytes"?(0,n.keccak256)((0,r.toBytes)(p))===m:p===m}catch{return!1}}return Array.isArray(u)&&Array.isArray(d)?d.every((h,p)=>{if(h==null)return!0;const m=l[p];return m?(Array.isArray(h)?h:[h]).some(E=>f(m,E,u[p])):!1}):typeof u=="object"&&!Array.isArray(u)&&typeof d=="object"&&!Array.isArray(d)?Object.entries(d).every(([h,p])=>{if(p==null)return!0;const m=l.find(E=>E.name===h);return m?(Array.isArray(p)?p:[p]).some(E=>f(m,E,u[h])):!1}):!1}return Q_}var tA={},M7;function Zu(){if(M7)return tA;M7=1,Object.defineProperty(tA,"__esModule",{value:!0}),tA.formatLog=t;function t(e,{args:r,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:r,eventName:n}:{}}}return tA}var U7;function o4(){if(U7)return J_;U7=1,Object.defineProperty(J_,"__esModule",{value:!0}),J_.getLogs=s;const t=Cp(),e=PE(),r=ze(),n=Zu();async function s(i,{address:o,blockHash:a,fromBlock:c,toBlock:u,event:l,events:d,args:f,strict:h}={}){const p=h??!1,m=d??(l?[l]:void 0);let y=[];m&&(y=[m.flatMap(g=>(0,t.encodeEventTopics)({abi:[g],eventName:g.name,args:d?void 0:f}))],l&&(y=y[0]));let E;a?E=await i.request({method:"eth_getLogs",params:[{address:o,topics:y,blockHash:a}]}):E=await i.request({method:"eth_getLogs",params:[{address:o,topics:y,fromBlock:typeof c=="bigint"?(0,r.numberToHex)(c):c,toBlock:typeof u=="bigint"?(0,r.numberToHex)(u):u}]});const w=E.map(b=>(0,n.formatLog)(b));return m?(0,e.parseEventLogs)({abi:m,args:f,logs:w,strict:p}):w}return J_}var L7;function a4(){if(L7)return Y_;L7=1,Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.getContractEvents=n;const t=Wu(),e=Yt(),r=o4();async function n(s,i){const{abi:o,address:a,args:c,blockHash:u,eventName:l,fromBlock:d,toBlock:f,strict:h}=i,p=l?(0,t.getAbiItem)({abi:o,name:l}):void 0,m=p?void 0:o.filter(y=>y.type==="event");return(0,e.getAction)(s,r.getLogs,"getLogs")({address:a,args:c,blockHash:u,event:p,events:m,fromBlock:d,toBlock:f,strict:h})}return Y_}var rA={},nA={},F7;function Yu(){if(F7)return nA;F7=1,Object.defineProperty(nA,"__esModule",{value:!0}),nA.decodeFunctionResult=s;const t=Hr(),e=Md(),r=Wu(),n="/docs/contract/decodeFunctionResult";function s(i){const{abi:o,args:a,functionName:c,data:u}=i;let l=o[0];if(c){const f=(0,r.getAbiItem)({abi:o,args:a,name:c});if(!f)throw new t.AbiFunctionNotFoundError(c,{docsPath:n});l=f}if(l.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:n});if(!l.outputs)throw new t.AbiFunctionOutputsNotFoundError(l.name,{docsPath:n});const d=(0,e.decodeAbiParameters)(l.outputs,u);if(d&&d.length>1)return d;if(d&&d.length===1)return d[0]}return nA}var Jy={},Qy={},St={},sr={},H7;function Tp(){if(H7)return sr;H7=1;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(sr,"__esModule",{value:!0}),sr.notImplemented=sr.bitMask=void 0,sr.isBytes=r,sr.abytes=n,sr.abool=s,sr.numberToHexUnpadded=i,sr.hexToNumber=o,sr.bytesToHex=u,sr.hexToBytes=f,sr.bytesToNumberBE=h,sr.bytesToNumberLE=p,sr.numberToBytesBE=m,sr.numberToBytesLE=y,sr.numberToVarBytesBE=E,sr.ensureBytes=w,sr.concatBytes=b,sr.equalBytes=g,sr.utf8ToBytes=v,sr.inRange=C,sr.aInRange=x,sr.bitLen=T,sr.bitGet=N,sr.bitSet=M,sr.createHmacDrbg=I,sr.validateObject=_,sr.memoized=O;const t=BigInt(0),e=BigInt(1);function r(P){return P instanceof Uint8Array||ArrayBuffer.isView(P)&&P.constructor.name==="Uint8Array"}function n(P){if(!r(P))throw new Error("Uint8Array expected")}function s(P,D){if(typeof D!="boolean")throw new Error(P+" boolean expected, got "+D)}function i(P){const D=P.toString(16);return D.length&1?"0"+D:D}function o(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);return P===""?t:BigInt("0x"+P)}const a=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c=Array.from({length:256},(P,D)=>D.toString(16).padStart(2,"0"));function u(P){if(n(P),a)return P.toHex();let D="";for(let j=0;j<P.length;j++)D+=c[P[j]];return D}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function d(P){if(P>=l._0&&P<=l._9)return P-l._0;if(P>=l.A&&P<=l.F)return P-(l.A-10);if(P>=l.a&&P<=l.f)return P-(l.a-10)}function f(P){if(typeof P!="string")throw new Error("hex string expected, got "+typeof P);if(a)return Uint8Array.fromHex(P);const D=P.length,j=D/2;if(D%2)throw new Error("hex string expected, got unpadded hex of length "+D);const F=new Uint8Array(j);for(let q=0,z=0;q<j;q++,z+=2){const W=d(P.charCodeAt(z)),K=d(P.charCodeAt(z+1));if(W===void 0||K===void 0){const re=P[z]+P[z+1];throw new Error('hex string expected, got non-hex character "'+re+'" at index '+z)}F[q]=W*16+K}return F}function h(P){return o(u(P))}function p(P){return n(P),o(u(Uint8Array.from(P).reverse()))}function m(P,D){return f(P.toString(16).padStart(D*2,"0"))}function y(P,D){return m(P,D).reverse()}function E(P){return f(i(P))}function w(P,D,j){let F;if(typeof D=="string")try{F=f(D)}catch(z){throw new Error(P+" must be hex string or Uint8Array, cause: "+z)}else if(r(D))F=Uint8Array.from(D);else throw new Error(P+" must be hex string or Uint8Array");const q=F.length;if(typeof j=="number"&&q!==j)throw new Error(P+" of length "+j+" expected, got "+q);return F}function b(...P){let D=0;for(let F=0;F<P.length;F++){const q=P[F];n(q),D+=q.length}const j=new Uint8Array(D);for(let F=0,q=0;F<P.length;F++){const z=P[F];j.set(z,q),q+=z.length}return j}function g(P,D){if(P.length!==D.length)return!1;let j=0;for(let F=0;F<P.length;F++)j|=P[F]^D[F];return j===0}function v(P){if(typeof P!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(P))}const A=P=>typeof P=="bigint"&&t<=P;function C(P,D,j){return A(P)&&A(D)&&A(j)&&D<=P&&P<j}function x(P,D,j,F){if(!C(D,j,F))throw new Error("expected valid "+P+": "+j+" <= n < "+F+", got "+D)}function T(P){let D;for(D=0;P>t;P>>=e,D+=1);return D}function N(P,D){return P>>BigInt(D)&e}function M(P,D,j){return P|(j?e:t)<<BigInt(D)}const k=P=>(e<<BigInt(P))-e;sr.bitMask=k;const B=P=>new Uint8Array(P),U=P=>Uint8Array.from(P);function I(P,D,j){if(typeof P!="number"||P<2)throw new Error("hashLen must be a number");if(typeof D!="number"||D<2)throw new Error("qByteLen must be a number");if(typeof j!="function")throw new Error("hmacFn must be a function");let F=B(P),q=B(P),z=0;const W=()=>{F.fill(1),q.fill(0),z=0},K=(...ie)=>j(q,F,...ie),re=(ie=B(0))=>{q=K(U([0]),ie),F=K(),ie.length!==0&&(q=K(U([1]),ie),F=K())},Q=()=>{if(z++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const Y=[];for(;ie<D;){F=K();const V=F.slice();Y.push(V),ie+=F.length}return b(...Y)};return(ie,Y)=>{W(),re(ie);let V;for(;!(V=Y(Q()));)re();return W(),V}}const S={bigint:P=>typeof P=="bigint",function:P=>typeof P=="function",boolean:P=>typeof P=="boolean",string:P=>typeof P=="string",stringOrUint8Array:P=>typeof P=="string"||r(P),isSafeInteger:P=>Number.isSafeInteger(P),array:P=>Array.isArray(P),field:(P,D)=>D.Fp.isValid(P),hash:P=>typeof P=="function"&&Number.isSafeInteger(P.outputLen)};function _(P,D,j={}){const F=(q,z,W)=>{const K=S[z];if(typeof K!="function")throw new Error("invalid validator function");const re=P[q];if(!(W&&re===void 0)&&!K(re,P))throw new Error("param "+String(q)+" is invalid. Expected "+z+", got "+re)};for(const[q,z]of Object.entries(D))F(q,z,!1);for(const[q,z]of Object.entries(j))F(q,z,!0);return P}const R=()=>{throw new Error("not implemented")};sr.notImplemented=R;function O(P){const D=new WeakMap;return(j,...F)=>{const q=D.get(j);if(q!==void 0)return q;const z=P(j,...F);return D.set(j,z),z}}return sr}var Mt={},Xy={},i0={},eb={},q7;function P3e(){return q7||(q7=1,Object.defineProperty(eb,"__esModule",{value:!0}),eb.version=void 0,eb.version="0.1.1"),eb}var z7;function x3e(){if(z7)return i0;z7=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.getUrl=e,i0.getVersion=r,i0.prettyPrint=n;const t=P3e();function e(s){return s}function r(){return t.version}function n(s){if(!s)return"";const i=Object.entries(s).map(([a,c])=>c===void 0||c===!1?null:[a,c]).filter(Boolean),o=i.reduce((a,[c])=>Math.max(a,c.length),0);return i.map(([a,c])=>`  ${`${a}:`.padEnd(o+1)}  ${c}`).join(`
`)}return i0}var $7;function no(){if($7)return Xy;$7=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.BaseError=void 0;const t=x3e();class e extends Error{constructor(s,i={}){const o=(()=>{var d;if(i.cause instanceof e){if(i.cause.details)return i.cause.details;if(i.cause.shortMessage)return i.cause.shortMessage}return i.cause&&"details"in i.cause&&typeof i.cause.details=="string"?i.cause.details:(d=i.cause)!=null&&d.message?i.cause.message:i.details})(),a=i.cause instanceof e&&i.cause.docsPath||i.docsPath,u=`https://oxlib.sh${a??""}`,l=[s||"An error occurred.",...i.metaMessages?["",...i.metaMessages]:[],...o||a?["",o?`Details: ${o}`:void 0,a?`See: ${u}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(l,i.cause?{cause:i.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${(0,t.getVersion)()}`}),this.cause=i.cause,this.details=o,this.docs=u,this.docsPath=a,this.shortMessage=s}walk(s){return r(this,s)}}Xy.BaseError=e;function r(n,s){return s!=null&&s(n)?n:n&&typeof n=="object"&&"cause"in n&&n.cause?r(n.cause,s):s?null:n}return Xy}var uO={},V7;function Wte(){return V7||(V7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.charCodeMap=void 0,t.assertSize=r,t.assertStartOffset=n,t.assertEndOffset=s,t.charCodeToBase16=i,t.pad=o,t.trim=a;const e=mc();function r(c,u){if(e.size(c)>u)throw new e.SizeOverflowError({givenSize:e.size(c),maxSize:u})}function n(c,u){if(typeof u=="number"&&u>0&&u>e.size(c)-1)throw new e.SliceOffsetOutOfBoundsError({offset:u,position:"start",size:e.size(c)})}function s(c,u,l){if(typeof u=="number"&&typeof l=="number"&&e.size(c)!==l-u)throw new e.SliceOffsetOutOfBoundsError({offset:l,position:"end",size:e.size(c)})}t.charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function i(c){if(c>=t.charCodeMap.zero&&c<=t.charCodeMap.nine)return c-t.charCodeMap.zero;if(c>=t.charCodeMap.A&&c<=t.charCodeMap.F)return c-(t.charCodeMap.A-10);if(c>=t.charCodeMap.a&&c<=t.charCodeMap.f)return c-(t.charCodeMap.a-10)}function o(c,u={}){const{dir:l,size:d=32}=u;if(d===0)return c;if(c.length>d)throw new e.SizeExceedsPaddingSizeError({size:c.length,targetSize:d,type:"Bytes"});const f=new Uint8Array(d);for(let h=0;h<d;h++){const p=l==="right";f[p?h:d-h-1]=c[p?h:c.length-h-1]}return f}function a(c,u={}){const{dir:l="left"}=u;let d=c,f=0;for(let h=0;h<d.length-1&&d[l==="left"?h:d.length-h-1].toString()==="0";h++)f++;return d=l==="left"?d.slice(f):d.slice(0,d.length-f),d}})(uO)),uO}var El={},G7;function Kte(){if(G7)return El;G7=1,Object.defineProperty(El,"__esModule",{value:!0}),El.assertSize=e,El.assertStartOffset=r,El.assertEndOffset=n,El.pad=s,El.trim=i;const t=es();function e(o,a){if(t.size(o)>a)throw new t.SizeOverflowError({givenSize:t.size(o),maxSize:a})}function r(o,a){if(typeof a=="number"&&a>0&&a>t.size(o)-1)throw new t.SliceOffsetOutOfBoundsError({offset:a,position:"start",size:t.size(o)})}function n(o,a,c){if(typeof a=="number"&&typeof c=="number"&&t.size(o)!==c-a)throw new t.SliceOffsetOutOfBoundsError({offset:c,position:"end",size:t.size(o)})}function s(o,a={}){const{dir:c,size:u=32}=a;if(u===0)return o;const l=o.replace("0x","");if(l.length>u*2)throw new t.SizeExceedsPaddingSizeError({size:Math.ceil(l.length/2),targetSize:u,type:"Hex"});return`0x${l[c==="right"?"padEnd":"padStart"](u*2,"0")}`}function i(o,a={}){const{dir:c="left"}=a;let u=o.replace("0x",""),l=0;for(let d=0;d<u.length-1&&u[c==="left"?d:u.length-d-1].toString()==="0";d++)l++;return u=c==="left"?u.slice(l):u.slice(0,u.length-l),u==="0"?"0x":c==="right"&&u.length%2===1?`0x${u}0`:`0x${u}`}return El}var tb={},W7;function KP(){if(W7)return tb;W7=1,Object.defineProperty(tb,"__esModule",{value:!0}),tb.parse=e,tb.stringify=r;const t="#__bigint";function e(n,s){return JSON.parse(n,(i,o)=>{const a=o;return typeof a=="string"&&a.endsWith(t)?BigInt(a.slice(0,-t.length)):typeof s=="function"?s(i,a):a})}function r(n,s,i){return JSON.stringify(n,(o,a)=>typeof s=="function"?s(o,a):typeof a=="bigint"?a.toString()+t:a,i)}return tb}var K7;function mc(){if(K7)return Mt;K7=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.SizeExceedsPaddingSizeError=Mt.SliceOffsetOutOfBoundsError=Mt.SizeOverflowError=Mt.InvalidBytesTypeError=Mt.InvalidBytesBooleanError=void 0,Mt.assert=c,Mt.concat=u,Mt.from=l,Mt.fromArray=d,Mt.fromBoolean=f,Mt.fromHex=h,Mt.fromNumber=p,Mt.fromString=m,Mt.isEqual=y,Mt.padLeft=E,Mt.padRight=w,Mt.random=b,Mt.size=g,Mt.slice=v,Mt.toBigInt=A,Mt.toBoolean=C,Mt.toHex=x,Mt.toNumber=T,Mt.toString=N,Mt.trimLeft=M,Mt.trimRight=k,Mt.validate=B;const t=Tp(),e=no(),r=es(),n=Wte(),s=Kte(),i=KP(),o=new TextDecoder,a=new TextEncoder;function c(O){if(!(O instanceof Uint8Array)){if(!O)throw new I(O);if(typeof O!="object")throw new I(O);if(!("BYTES_PER_ELEMENT"in O))throw new I(O);if(O.BYTES_PER_ELEMENT!==1||O.constructor.name!=="Uint8Array")throw new I(O)}}function u(...O){let P=0;for(const j of O)P+=j.length;const D=new Uint8Array(P);for(let j=0,F=0;j<O.length;j++){const q=O[j];D.set(q,F),F+=q.length}return D}function l(O){return O instanceof Uint8Array?O:typeof O=="string"?h(O):d(O)}function d(O){return O instanceof Uint8Array?O:new Uint8Array(O)}function f(O,P={}){const{size:D}=P,j=new Uint8Array(1);return j[0]=Number(O),typeof D=="number"?(n.assertSize(j,D),E(j,D)):j}function h(O,P={}){const{size:D}=P;let j=O;D&&(s.assertSize(O,D),j=r.padRight(O,D));let F=j.slice(2);F.length%2&&(F=`0${F}`);const q=F.length/2,z=new Uint8Array(q);for(let W=0,K=0;W<q;W++){const re=n.charCodeToBase16(F.charCodeAt(K++)),Q=n.charCodeToBase16(F.charCodeAt(K++));if(re===void 0||Q===void 0)throw new e.BaseError(`Invalid byte sequence ("${F[K-2]}${F[K-1]}" in "${F}").`);z[W]=re*16+Q}return z}function p(O,P){const D=r.fromNumber(O,P);return h(D)}function m(O,P={}){const{size:D}=P,j=a.encode(O);return typeof D=="number"?(n.assertSize(j,D),w(j,D)):j}function y(O,P){return(0,t.equalBytes)(O,P)}function E(O,P){return n.pad(O,{dir:"left",size:P})}function w(O,P){return n.pad(O,{dir:"right",size:P})}function b(O){return crypto.getRandomValues(new Uint8Array(O))}function g(O){return O.length}function v(O,P,D,j={}){const{strict:F}=j;n.assertStartOffset(O,P);const q=O.slice(P,D);return F&&n.assertEndOffset(q,P,D),q}function A(O,P={}){const{size:D}=P;typeof D<"u"&&n.assertSize(O,D);const j=r.fromBytes(O,P);return r.toBigInt(j,P)}function C(O,P={}){const{size:D}=P;let j=O;if(typeof D<"u"&&(n.assertSize(j,D),j=M(j)),j.length>1||j[0]>1)throw new U(j);return!!j[0]}function x(O,P={}){return r.fromBytes(O,P)}function T(O,P={}){const{size:D}=P;typeof D<"u"&&n.assertSize(O,D);const j=r.fromBytes(O,P);return r.toNumber(j,P)}function N(O,P={}){const{size:D}=P;let j=O;return typeof D<"u"&&(n.assertSize(j,D),j=k(j)),o.decode(j)}function M(O){return n.trim(O,{dir:"left"})}function k(O){return n.trim(O,{dir:"right"})}function B(O){try{return c(O),!0}catch{return!1}}class U extends e.BaseError{constructor(P){super(`Bytes value \`${P}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}Mt.InvalidBytesBooleanError=U;class I extends e.BaseError{constructor(P){super(`Value \`${typeof P=="object"?i.stringify(P):P}\` of type \`${typeof P}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}Mt.InvalidBytesTypeError=I;class S extends e.BaseError{constructor({givenSize:P,maxSize:D}){super(`Size cannot exceed \`${D}\` bytes. Given size: \`${P}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}Mt.SizeOverflowError=S;class _ extends e.BaseError{constructor({offset:P,position:D,size:j}){super(`Slice ${D==="start"?"starting":"ending"} at offset \`${P}\` is out-of-bounds (size: \`${j}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}Mt.SliceOffsetOutOfBoundsError=_;class R extends e.BaseError{constructor({size:P,targetSize:D,type:j}){super(`${j.charAt(0).toUpperCase()}${j.slice(1).toLowerCase()} size (\`${P}\`) exceeds padding size (\`${D}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}return Mt.SizeExceedsPaddingSizeError=R,Mt}var Z7;function es(){if(Z7)return St;Z7=1,Object.defineProperty(St,"__esModule",{value:!0}),St.SizeExceedsPaddingSizeError=St.SliceOffsetOutOfBoundsError=St.SizeOverflowError=St.InvalidLengthError=St.InvalidHexValueError=St.InvalidHexTypeError=St.InvalidHexBooleanError=St.IntegerOutOfRangeError=void 0,St.assert=c,St.concat=u,St.from=l,St.fromBoolean=d,St.fromBytes=f,St.fromNumber=h,St.fromString=p,St.isEqual=m,St.padLeft=y,St.padRight=E,St.random=w,St.slice=b,St.size=g,St.trimLeft=v,St.trimRight=A,St.toBigInt=C,St.toBoolean=x,St.toBytes=T,St.toNumber=N,St.toString=M,St.validate=k;const t=Tp(),e=mc(),r=no(),n=Wte(),s=Kte(),i=KP(),o=new TextEncoder,a=Array.from({length:256},(D,j)=>j.toString(16).padStart(2,"0"));function c(D,j={}){const{strict:F=!1}=j;if(!D)throw new I(D);if(typeof D!="string")throw new I(D);if(F&&!/^0x[0-9a-fA-F]*$/.test(D))throw new S(D);if(!D.startsWith("0x"))throw new S(D)}function u(...D){return`0x${D.reduce((j,F)=>j+F.replace("0x",""),"")}`}function l(D){return D instanceof Uint8Array?f(D):Array.isArray(D)?f(new Uint8Array(D)):D}function d(D,j={}){const F=`0x${Number(D)}`;return typeof j.size=="number"?(s.assertSize(F,j.size),y(F,j.size)):F}function f(D,j={}){let F="";for(let z=0;z<D.length;z++)F+=a[D[z]];const q=`0x${F}`;return typeof j.size=="number"?(s.assertSize(q,j.size),E(q,j.size)):q}function h(D,j={}){const{signed:F,size:q}=j,z=BigInt(D);let W;q?F?W=(1n<<BigInt(q)*8n-1n)-1n:W=2n**(BigInt(q)*8n)-1n:typeof D=="number"&&(W=BigInt(Number.MAX_SAFE_INTEGER));const K=typeof W=="bigint"&&F?-W-1n:0;if(W&&z>W||z<K){const X=typeof D=="bigint"?"n":"";throw new B({max:W?`${W}${X}`:void 0,min:`${K}${X}`,signed:F,size:q,value:`${D}${X}`})}const Q=`0x${(F&&z<0?(1n<<BigInt(q*8))+BigInt(z):z).toString(16)}`;return q?y(Q,q):Q}function p(D,j={}){return f(o.encode(D),j)}function m(D,j){return(0,t.equalBytes)(e.fromHex(D),e.fromHex(j))}function y(D,j){return s.pad(D,{dir:"left",size:j})}function E(D,j){return s.pad(D,{dir:"right",size:j})}function w(D){return f(e.random(D))}function b(D,j,F,q={}){const{strict:z}=q;s.assertStartOffset(D,j);const W=`0x${D.replace("0x","").slice((j??0)*2,(F??D.length)*2)}`;return z&&s.assertEndOffset(W,j,F),W}function g(D){return Math.ceil((D.length-2)/2)}function v(D){return s.trim(D,{dir:"left"})}function A(D){return s.trim(D,{dir:"right"})}function C(D,j={}){const{signed:F}=j;j.size&&s.assertSize(D,j.size);const q=BigInt(D);if(!F)return q;const z=(D.length-2)/2,W=(1n<<BigInt(z)*8n)-1n,K=W>>1n;return q<=K?q:q-W-1n}function x(D,j={}){j.size&&s.assertSize(D,j.size);const F=v(D);if(F==="0x")return!1;if(F==="0x1")return!0;throw new U(D)}function T(D,j={}){return e.fromHex(D,j)}function N(D,j={}){const{signed:F,size:q}=j;return Number(!F&&!q?D:C(D,j))}function M(D,j={}){const{size:F}=j;let q=e.fromHex(D);return F&&(n.assertSize(q,F),q=e.trimRight(q)),new TextDecoder().decode(q)}function k(D,j={}){const{strict:F=!1}=j;try{return c(D,{strict:F}),!0}catch{return!1}}class B extends r.BaseError{constructor({max:j,min:F,signed:q,size:z,value:W}){super(`Number \`${W}\` is not in safe${z?` ${z*8}-bit`:""}${q?" signed":" unsigned"} integer range ${j?`(\`${F}\` to \`${j}\`)`:`(above \`${F}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}St.IntegerOutOfRangeError=B;class U extends r.BaseError{constructor(j){super(`Hex value \`"${j}"\` is not a valid boolean.`,{metaMessages:['The hex value must be `"0x0"` (false) or `"0x1"` (true).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexBooleanError"})}}St.InvalidHexBooleanError=U;class I extends r.BaseError{constructor(j){super(`Value \`${typeof j=="object"?i.stringify(j):j}\` of type \`${typeof j}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}St.InvalidHexTypeError=I;class S extends r.BaseError{constructor(j){super(`Value \`${j}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}St.InvalidHexValueError=S;class _ extends r.BaseError{constructor(j){super(`Hex value \`"${j}"\` is an odd length (${j.length-2} nibbles).`,{metaMessages:["It must be an even length."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidLengthError"})}}St.InvalidLengthError=_;class R extends r.BaseError{constructor({givenSize:j,maxSize:F}){super(`Size cannot exceed \`${F}\` bytes. Given size: \`${j}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}St.SizeOverflowError=R;class O extends r.BaseError{constructor({offset:j,position:F,size:q}){super(`Slice ${F==="start"?"starting":"ending"} at offset \`${j}\` is out-of-bounds (size: \`${q}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}St.SliceOffsetOutOfBoundsError=O;class P extends r.BaseError{constructor({size:j,targetSize:F,type:q}){super(`${q.charAt(0).toUpperCase()}${q.slice(1).toLowerCase()} size (\`${j}\`) exceeds padding size (\`${F}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}return St.SizeExceedsPaddingSizeError=P,St}var rb={},Y7;function O3e(){if(Y7)return rb;Y7=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.fromRpc=e,rb.toRpc=r;const t=es();function e(n){return{...n,amount:BigInt(n.amount),index:Number(n.index),validatorIndex:Number(n.validatorIndex)}}function r(n){return{address:n.address,amount:t.fromNumber(n.amount),index:t.fromNumber(n.index),validatorIndex:t.fromNumber(n.validatorIndex)}}return rb}var J7;function Zte(){if(J7)return Qy;J7=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.fromRpc=r,Qy.toRpc=n;const t=es(),e=O3e();function r(s){return{...s.baseFeePerGas&&{baseFeePerGas:BigInt(s.baseFeePerGas)},...s.blobBaseFee&&{blobBaseFee:BigInt(s.blobBaseFee)},...s.feeRecipient&&{feeRecipient:s.feeRecipient},...s.gasLimit&&{gasLimit:BigInt(s.gasLimit)},...s.number&&{number:BigInt(s.number)},...s.prevRandao&&{prevRandao:BigInt(s.prevRandao)},...s.time&&{time:BigInt(s.time)},...s.withdrawals&&{withdrawals:s.withdrawals.map(e.fromRpc)}}}function n(s){return{...typeof s.baseFeePerGas=="bigint"&&{baseFeePerGas:t.fromNumber(s.baseFeePerGas)},...typeof s.blobBaseFee=="bigint"&&{blobBaseFee:t.fromNumber(s.blobBaseFee)},...typeof s.feeRecipient=="string"&&{feeRecipient:s.feeRecipient},...typeof s.gasLimit=="bigint"&&{gasLimit:t.fromNumber(s.gasLimit)},...typeof s.number=="bigint"&&{number:t.fromNumber(s.number)},...typeof s.prevRandao=="bigint"&&{prevRandao:t.fromNumber(s.prevRandao)},...typeof s.time=="bigint"&&{time:t.fromNumber(s.time)},...s.withdrawals&&{withdrawals:s.withdrawals.map(e.toRpc)}}}return Qy}var fr={},Q7;function $d(){if(Q7)return fr;Q7=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.erc4626Abi=fr.erc721Abi=fr.erc1155Abi=fr.erc20Abi_bytes32=fr.erc20Abi=fr.erc6492SignatureValidatorAbi=fr.erc1271Abi=fr.addressResolverAbi=fr.textResolverAbi=fr.universalResolverReverseAbi=fr.universalResolverResolveAbi=fr.batchGatewayAbi=fr.multicall3Abi=void 0,fr.multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],fr.batchGatewayAbi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}];const t=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}];return fr.universalResolverResolveAbi=[...t,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],fr.universalResolverReverseAbi=[...t,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],fr.textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],fr.addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],fr.erc1271Abi=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],fr.erc6492SignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],fr.erc20Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],fr.erc20Abi_bytes32=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],fr.erc1155Abi=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],fr.erc721Abi=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],fr.erc4626Abi=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],fr}var nb={},X7;function R3e(){return X7||(X7=1,Object.defineProperty(nb,"__esModule",{value:!0}),nb.aggregate3Signature=void 0,nb.aggregate3Signature="0x82ad56cb"),nb}var Mo={},eH;function xE(){return eH||(eH=1,Object.defineProperty(Mo,"__esModule",{value:!0}),Mo.multicall3Bytecode=Mo.erc6492SignatureValidatorByteCode=Mo.deploylessCallViaFactoryBytecode=Mo.deploylessCallViaBytecodeBytecode=void 0,Mo.deploylessCallViaBytecodeBytecode="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Mo.deploylessCallViaFactoryBytecode="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Mo.erc6492SignatureValidatorByteCode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Mo.multicall3Bytecode="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"),Mo}var Ni={},tH;function OE(){if(tH)return Ni;tH=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.InvalidChainIdError=Ni.ClientChainNotConfiguredError=Ni.ChainNotFoundError=Ni.ChainMismatchError=Ni.ChainDoesNotSupportContract=void 0;const t=yt();class e extends t.BaseError{constructor({blockNumber:a,chain:c,contract:u}){super(`Chain "${c.name}" does not support contract "${u.name}".`,{metaMessages:["This could be due to any of the following:",...a&&u.blockCreated&&u.blockCreated>a?[`- The contract "${u.name}" was not deployed until block ${u.blockCreated} (current block ${a}).`]:[`- The chain does not have the contract "${u.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}Ni.ChainDoesNotSupportContract=e;class r extends t.BaseError{constructor({chain:a,currentChainId:c}){super(`The current chain of the wallet (id: ${c}) does not match the target chain for the transaction (id: ${a.id}  ${a.name}).`,{metaMessages:[`Current Chain ID:  ${c}`,`Expected Chain ID: ${a.id}  ${a.name}`],name:"ChainMismatchError"})}}Ni.ChainMismatchError=r;class n extends t.BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}Ni.ChainNotFoundError=n;class s extends t.BaseError{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}Ni.ClientChainNotConfiguredError=s;class i extends t.BaseError{constructor({chainId:a}){super(typeof a=="number"?`Chain ID "${a}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}return Ni.InvalidChainIdError=i,Ni}var sA={},rH;function RE(){if(rH)return sA;rH=1,Object.defineProperty(sA,"__esModule",{value:!0}),sA.encodeDeployData=s;const t=Hr(),e=jn(),r=ya(),n="/docs/contract/encodeDeployData";function s(i){const{abi:o,args:a,bytecode:c}=i;if(!a||a.length===0)return c;const u=o.find(d=>"type"in d&&d.type==="constructor");if(!u)throw new t.AbiConstructorNotFoundError({docsPath:n});if(!("inputs"in u))throw new t.AbiConstructorParamsNotFoundError({docsPath:n});if(!u.inputs||u.inputs.length===0)throw new t.AbiConstructorParamsNotFoundError({docsPath:n});const l=(0,r.encodeAbiParameters)(u.inputs,a);return(0,e.concatHex)([c,l])}return sA}var iA={},nH;function Vd(){if(nH)return iA;nH=1,Object.defineProperty(iA,"__esModule",{value:!0}),iA.getChainContractAddress=e;const t=OE();function e({blockNumber:r,chain:n,contract:s}){var o;const i=(o=n==null?void 0:n.contracts)==null?void 0:o[s];if(!i)throw new t.ChainDoesNotSupportContract({chain:n,contract:{name:s}});if(r&&i.blockCreated&&i.blockCreated>r)throw new t.ChainDoesNotSupportContract({blockNumber:r,chain:n,contract:{name:s,blockCreated:i.blockCreated}});return i.address}return iA}var oA={},sH;function c4(){if(sH)return oA;sH=1,Object.defineProperty(oA,"__esModule",{value:!0}),oA.getCallError=n;const t=Ud(),e=Ku(),r=_E();function n(s,{docsPath:i,...o}){const a=(()=>{const c=(0,r.getNodeError)(s,o);return c instanceof e.UnknownNodeError?s:c})();return new t.CallExecutionError(a,{docsPath:i,...o})}return oA}var aA={},cA={},iH;function u4(){if(iH)return cA;iH=1,Object.defineProperty(cA,"__esModule",{value:!0}),cA.withResolvers=t;function t(){let e=()=>{},r=()=>{};return{promise:new Promise((s,i)=>{e=s,r=i}),resolve:e,reject:r}}return cA}var oH;function l4(){if(oH)return aA;oH=1,Object.defineProperty(aA,"__esModule",{value:!0}),aA.createBatchScheduler=r;const t=u4(),e=new Map;function r({fn:n,id:s,shouldSplitBatch:i,wait:o=0,sort:a}){const c=async()=>{const h=d();u();const p=h.map(({args:m})=>m);p.length!==0&&n(p).then(m=>{a&&Array.isArray(m)&&m.sort(a);for(let y=0;y<h.length;y++){const{resolve:E}=h[y];E==null||E([m[y],m])}}).catch(m=>{for(let y=0;y<h.length;y++){const{reject:E}=h[y];E==null||E(m)}})},u=()=>e.delete(s),l=()=>d().map(({args:h})=>h),d=()=>e.get(s)||[],f=h=>e.set(s,[...d(),h]);return{flush:u,async schedule(h){const{promise:p,resolve:m,reject:y}=(0,t.withResolvers)();return(i==null?void 0:i([...l(),h]))&&c(),d().length>0?(f({args:h,resolve:m,reject:y}),p):(f({args:h,resolve:m,reject:y}),setTimeout(c,o),p)}}}return aA}var lO={},Vc={},aH;function N3e(){if(aH)return Vc;aH=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.OffchainLookupSenderMismatchError=Vc.OffchainLookupResponseMalformedError=Vc.OffchainLookupError=void 0;const t=Xn(),e=yt(),r=K3();class n extends e.BaseError{constructor({callbackSelector:a,cause:c,data:u,extraData:l,sender:d,urls:f}){var h;super(c.shortMessage||"An error occurred while fetching for an offchain result.",{cause:c,metaMessages:[...c.metaMessages||[],(h=c.metaMessages)!=null&&h.length?"":[],"Offchain Gateway Call:",f&&["  Gateway URL(s):",...f.map(p=>`    ${(0,r.getUrl)(p)}`)],`  Sender: ${d}`,`  Data: ${u}`,`  Callback selector: ${a}`,`  Extra data: ${l}`].flat(),name:"OffchainLookupError"})}}Vc.OffchainLookupError=n;class s extends e.BaseError{constructor({result:a,url:c}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,r.getUrl)(c)}`,`Response: ${(0,t.stringify)(a)}`],name:"OffchainLookupResponseMalformedError"})}}Vc.OffchainLookupResponseMalformedError=s;class i extends e.BaseError{constructor({sender:a,to:c}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${c}`,`OffchainLookup sender address: ${a}`],name:"OffchainLookupSenderMismatchError"})}}return Vc.OffchainLookupSenderMismatchError=i,Vc}var dO={},uA={},cH;function d4(){if(cH)return uA;cH=1,Object.defineProperty(uA,"__esModule",{value:!0}),uA.decodeFunctionData=i;const t=Hr(),e=Oo(),r=Ap(),n=Md(),s=Vu();function i(o){const{abi:a,data:c}=o,u=(0,e.slice)(c,0,4),l=a.find(d=>d.type==="function"&&u===(0,r.toFunctionSelector)((0,s.formatAbiItem)(d)));if(!l)throw new t.AbiFunctionSignatureNotFoundError(u,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:l.name,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,n.decodeAbiParameters)(l.inputs,(0,e.slice)(c,4)):void 0}}return uA}var lA={},uH;function f4(){if(uH)return lA;uH=1,Object.defineProperty(lA,"__esModule",{value:!0}),lA.encodeErrorResult=a;const t=Hr(),e=jn(),r=Ap(),n=ya(),s=Vu(),i=Wu(),o="/docs/contract/encodeErrorResult";function a(c){const{abi:u,errorName:l,args:d}=c;let f=u[0];if(l){const y=(0,i.getAbiItem)({abi:u,args:d,name:l});if(!y)throw new t.AbiErrorNotFoundError(l,{docsPath:o});f=y}if(f.type!=="error")throw new t.AbiErrorNotFoundError(void 0,{docsPath:o});const h=(0,s.formatAbiItem)(f),p=(0,r.toFunctionSelector)(h);let m="0x";if(d&&d.length>0){if(!f.inputs)throw new t.AbiErrorInputsNotFoundError(f.name,{docsPath:o});m=(0,n.encodeAbiParameters)(f.inputs,d)}return(0,e.concatHex)([p,m])}return lA}var dA={},lH;function h4(){if(lH)return dA;lH=1,Object.defineProperty(dA,"__esModule",{value:!0}),dA.encodeFunctionResult=s;const t=Hr(),e=ya(),r=Wu(),n="/docs/contract/encodeFunctionResult";function s(i){const{abi:o,functionName:a,result:c}=i;let u=o[0];if(a){const d=(0,r.getAbiItem)({abi:o,name:a});if(!d)throw new t.AbiFunctionNotFoundError(a,{docsPath:n});u=d}if(u.type!=="function")throw new t.AbiFunctionNotFoundError(void 0,{docsPath:n});if(!u.outputs)throw new t.AbiFunctionOutputsNotFoundError(u.name,{docsPath:n});const l=(()=>{if(u.outputs.length===0)return[];if(u.outputs.length===1)return[c];if(Array.isArray(c))return c;throw new t.InvalidArrayError(c)})();return(0,e.encodeAbiParameters)(u.outputs,l)}return dA}var dH;function ZP(){return dH||(dH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.localBatchGatewayUrl=void 0,t.localBatchGatewayRequest=o;const e=$d(),r=V3(),n=d4(),s=f4(),i=h4();t.localBatchGatewayUrl="x-batch-gateway:true";async function o(c){const{data:u,ccipRequest:l}=c,{args:[d]}=(0,n.decodeFunctionData)({abi:e.batchGatewayAbi,data:u}),f=[],h=[];return await Promise.all(d.map(async(p,m)=>{try{h[m]=p.urls.includes(t.localBatchGatewayUrl)?await o({data:p.data,ccipRequest:l}):await l(p),f[m]=!1}catch(y){f[m]=!0,h[m]=a(y)}})),(0,i.encodeFunctionResult)({abi:e.batchGatewayAbi,functionName:"query",result:[f,h]})}function a(c){return c.name==="HttpRequestError"&&c.status?(0,s.encodeErrorResult)({abi:e.batchGatewayAbi,errorName:"HttpError",args:[c.status,c.shortMessage]}):(0,s.encodeErrorResult)({abi:[r.solidityError],errorName:"Error",args:["shortMessage"in c?c.shortMessage:c.message]})}})(dO)),dO}var fH;function p4(){return fH||(fH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.offchainLookupAbiItem=t.offchainLookupSignature=void 0,t.offchainLookup=d,t.ccipRequest=f;const e=NE(),r=N3e(),n=ba(),s=LP(),i=ya(),o=va(),a=jn(),c=$s(),u=ZP(),l=Xn();t.offchainLookupSignature="0x556f1830",t.offchainLookupAbiItem={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function d(h,{blockNumber:p,blockTag:m,data:y,to:E}){const{args:w}=(0,s.decodeErrorResult)({data:y,abi:[t.offchainLookupAbiItem]}),[b,g,v,A,C]=w,{ccipRead:x}=h,T=x&&typeof(x==null?void 0:x.request)=="function"?x.request:f;try{if(!(0,o.isAddressEqual)(E,b))throw new r.OffchainLookupSenderMismatchError({sender:b,to:E});const N=g.includes(u.localBatchGatewayUrl)?await(0,u.localBatchGatewayRequest)({data:v,ccipRequest:T}):await T({data:v,sender:b,urls:g}),{data:M}=await(0,e.call)(h,{blockNumber:p,blockTag:m,data:(0,a.concat)([A,(0,i.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[N,C])]),to:E});return M}catch(N){throw new r.OffchainLookupError({callbackSelector:A,cause:N,data:y,extraData:C,sender:b,urls:g})}}async function f({data:h,sender:p,urls:m}){var E;let y=new Error("An unknown error occurred.");for(let w=0;w<m.length;w++){const b=m[w],g=b.includes("{data}")?"GET":"POST",v=g==="POST"?{data:h,sender:p}:void 0,A=g==="POST"?{"Content-Type":"application/json"}:{};try{const C=await fetch(b.replace("{sender}",p.toLowerCase()).replace("{data}",h),{body:JSON.stringify(v),headers:A,method:g});let x;if((E=C.headers.get("Content-Type"))!=null&&E.startsWith("application/json")?x=(await C.json()).data:x=await C.text(),!C.ok){y=new n.HttpRequestError({body:v,details:x!=null&&x.error?(0,l.stringify)(x.error):C.statusText,headers:C.headers,status:C.status,url:b});continue}if(!(0,c.isHex)(x)){y=new r.OffchainLookupResponseMalformedError({result:x,url:b});continue}return x}catch(C){y=new n.HttpRequestError({body:v,details:C.message,url:b})}}throw y}})(lO)),lO}var hH;function NE(){if(hH)return Jy;hH=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.call=g,Jy.getRevertErrorData=T;const t=kP(),e=Zte(),r=Wr(),n=$d(),s=R3e(),i=xE(),o=yt(),a=OE(),c=Ud(),u=Yu(),l=RE(),d=Si(),f=Vd(),h=ze(),p=c4(),m=qd(),y=wa(),E=l4(),w=J3(),b=Ea();async function g(N,M){var we,me,ae,Oe;const{account:k=N.account,authorizationList:B,batch:U=!!((we=N.batch)!=null&&we.multicall),blockNumber:I,blockTag:S=N.experimental_blockTag??"latest",accessList:_,blobs:R,blockOverrides:O,code:P,data:D,factory:j,factoryData:F,gas:q,gasPrice:z,maxFeePerBlobGas:W,maxFeePerGas:K,maxPriorityFeePerGas:re,nonce:Q,to:X,value:ie,stateOverride:Y,...V}=M,Z=k?(0,r.parseAccount)(k):void 0;if(P&&(j||F))throw new o.BaseError("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(P&&X)throw new o.BaseError("Cannot provide both `code` & `to` as parameters.");const ne=P&&D,ue=j&&F&&X&&D,ce=ne||ue,ge=ne?C({code:P,data:D}):ue?x({data:D,factory:j,factoryData:F,to:X}):D;try{(0,b.assertRequest)(M);const Be=(typeof I=="bigint"?(0,h.numberToHex)(I):void 0)||S,de=O?e.toRpc(O):void 0,oe=(0,w.serializeStateOverride)(Y),$=(Oe=(ae=(me=N.chain)==null?void 0:me.formatters)==null?void 0:ae.transactionRequest)==null?void 0:Oe.format,H=($||y.formatTransactionRequest)({...(0,m.extract)(V,{format:$}),accessList:_,account:Z,authorizationList:B,blobs:R,data:ge,gas:q,gasPrice:z,maxFeePerBlobGas:W,maxFeePerGas:K,maxPriorityFeePerGas:re,nonce:Q,to:ce?void 0:X,value:ie},"call");if(U&&v({request:H})&&!oe&&!de)try{return await A(N,{...H,blockNumber:I,blockTag:S})}catch(ye){if(!(ye instanceof a.ClientChainNotConfiguredError)&&!(ye instanceof a.ChainDoesNotSupportContract))throw ye}const ee=(()=>{const ye=[H,Be];return oe&&de?[...ye,oe,de]:oe?[...ye,oe]:de?[...ye,{},de]:ye})(),le=await N.request({method:"eth_call",params:ee});return le==="0x"?{data:void 0}:{data:le}}catch(Ie){const Be=T(Ie),{offchainLookup:de,offchainLookupSignature:oe}=await Promise.resolve().then(()=>p4());if(N.ccipRead!==!1&&(Be==null?void 0:Be.slice(0,10))===oe&&X)return{data:await de(N,{data:Be,to:X})};throw ce&&(Be==null?void 0:Be.slice(0,10))==="0x101bb98d"?new c.CounterfactualDeploymentFailedError({factory:j}):(0,p.getCallError)(Ie,{...M,account:Z,chain:N.chain})}}function v({request:N}){const{data:M,to:k,...B}=N;return!(!M||M.startsWith(s.aggregate3Signature)||!k||Object.values(B).filter(U=>typeof U<"u").length>0)}async function A(N,M){var z;const{batchSize:k=1024,deployless:B=!1,wait:U=0}=typeof((z=N.batch)==null?void 0:z.multicall)=="object"?N.batch.multicall:{},{blockNumber:I,blockTag:S=N.experimental_blockTag??"latest",data:_,to:R}=M,O=(()=>{if(B)return null;if(M.multicallAddress)return M.multicallAddress;if(N.chain)return(0,f.getChainContractAddress)({blockNumber:I,chain:N.chain,contract:"multicall3"});throw new a.ClientChainNotConfiguredError})(),D=(typeof I=="bigint"?(0,h.numberToHex)(I):void 0)||S,{schedule:j}=(0,E.createBatchScheduler)({id:`${N.uid}.${D}`,wait:U,shouldSplitBatch(W){return W.reduce((re,{data:Q})=>re+(Q.length-2),0)>k*2},fn:async W=>{const K=W.map(X=>({allowFailure:!0,callData:X.data,target:X.to})),re=(0,d.encodeFunctionData)({abi:n.multicall3Abi,args:[K],functionName:"aggregate3"}),Q=await N.request({method:"eth_call",params:[{...O===null?{data:C({code:i.multicall3Bytecode,data:re})}:{to:O,data:re}},D]});return(0,u.decodeFunctionResult)({abi:n.multicall3Abi,args:[K],functionName:"aggregate3",data:Q||"0x"})}}),[{returnData:F,success:q}]=await j({data:_,to:R});if(!q)throw new c.RawContractError({data:F});return F==="0x"?{data:void 0}:{data:F}}function C(N){const{code:M,data:k}=N;return(0,l.encodeDeployData)({abi:(0,t.parseAbi)(["constructor(bytes, bytes)"]),bytecode:i.deploylessCallViaBytecodeBytecode,args:[M,k]})}function x(N){const{data:M,factory:k,factoryData:B,to:U}=N;return(0,l.encodeDeployData)({abi:(0,t.parseAbi)(["constructor(address, bytes, address, bytes)"]),bytecode:i.deploylessCallViaFactoryBytecode,args:[U,M,k,B]})}function T(N){var k;if(!(N instanceof o.BaseError))return;const M=N.walk();return typeof(M==null?void 0:M.data)=="object"?(k=M.data)==null?void 0:k.data:M.data}return Jy}var pH;function gc(){if(pH)return rA;pH=1,Object.defineProperty(rA,"__esModule",{value:!0}),rA.readContract=i;const t=Yu(),e=Si(),r=Fd(),n=Yt(),s=NE();async function i(o,a){const{abi:c,address:u,args:l,functionName:d,...f}=a,h=(0,e.encodeFunctionData)({abi:c,args:l,functionName:d});try{const{data:p}=await(0,n.getAction)(o,s.call,"call")({...f,data:h,to:u});return(0,t.decodeFunctionResult)({abi:c,args:l,functionName:d,data:p||"0x"})}catch(p){throw(0,r.getContractError)(p,{abi:c,address:u,args:l,docsPath:"/docs/contract/readContract",functionName:d})}}return rA}var fA={},mH;function Yte(){if(mH)return fA;mH=1,Object.defineProperty(fA,"__esModule",{value:!0}),fA.simulateContract=o;const t=Wr(),e=Yu(),r=Si(),n=Fd(),s=Yt(),i=NE();async function o(a,c){const{abi:u,address:l,args:d,dataSuffix:f,functionName:h,...p}=c,m=p.account?(0,t.parseAccount)(p.account):a.account,y=(0,r.encodeFunctionData)({abi:u,args:d,functionName:h});try{const{data:E}=await(0,s.getAction)(a,i.call,"call")({batch:!1,data:`${y}${f?f.replace("0x",""):""}`,to:l,...p,account:m}),w=(0,e.decodeFunctionResult)({abi:u,args:d,functionName:h,data:E||"0x"}),b=u.filter(g=>"name"in g&&g.name===c.functionName);return{result:w,request:{abi:b,address:l,args:d,dataSuffix:f,functionName:h,...p,account:m}}}catch(E){throw(0,n.getContractError)(E,{abi:u,address:l,args:d,docsPath:"/docs/contract/simulateContract",functionName:h,sender:m==null?void 0:m.address})}}return fA}var hA={},fO={},gH;function Pp(){return gH||(gH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.cleanupCache=t.listenersCache=void 0,t.observe=r,t.listenersCache=new Map,t.cleanupCache=new Map;let e=0;function r(n,s,i){const o=++e,a=()=>t.listenersCache.get(n)||[],c=()=>{const h=a();t.listenersCache.set(n,h.filter(p=>p.id!==o))},u=()=>{const h=a();if(!h.some(m=>m.id===o))return;const p=t.cleanupCache.get(n);if(h.length===1&&p){const m=p();m instanceof Promise&&m.catch(()=>{})}c()},l=a();if(t.listenersCache.set(n,[...l,{id:o,fns:s}]),l&&l.length>0)return u;const d={};for(const h in s)d[h]=((...p)=>{var y,E;const m=a();if(m.length!==0)for(const w of m)(E=(y=w.fns)[h])==null||E.call(y,...p)});const f=i(d);return typeof f=="function"&&t.cleanupCache.set(n,f),u}})(fO)),fO}var pA={},mA={},yH;function m4(){if(yH)return mA;yH=1,Object.defineProperty(mA,"__esModule",{value:!0}),mA.wait=t;async function t(e){return new Promise(r=>setTimeout(r,e))}return mA}var bH;function Og(){if(bH)return pA;bH=1,Object.defineProperty(pA,"__esModule",{value:!0}),pA.poll=e;const t=m4();function e(r,{emitOnBegin:n,initialWaitTime:s,interval:i}){let o=!0;const a=()=>o=!1;return(async()=>{let u;n&&(u=await r({unpoll:a}));const l=await(s==null?void 0:s(u))??i;await(0,t.wait)(l);const d=async()=>{o&&(await r({unpoll:a}),await(0,t.wait)(i),d())};d()})(),a}return pA}var sb={},hO={},wH;function Jte(){return wH||(wH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.responseCache=t.promiseCache=void 0,t.getCache=e,t.withCache=r,t.promiseCache=new Map,t.responseCache=new Map;function e(n){const s=(a,c)=>({clear:()=>c.delete(a),get:()=>c.get(a),set:u=>c.set(a,u)}),i=s(n,t.promiseCache),o=s(n,t.responseCache);return{clear:()=>{i.clear(),o.clear()},promise:i,response:o}}async function r(n,{cacheKey:s,cacheTime:i=Number.POSITIVE_INFINITY}){const o=e(s),a=o.response.get();if(a&&i>0&&Date.now()-a.created.getTime()<i)return a.data;let c=o.promise.get();c||(c=n(),o.promise.set(c));try{const u=await c;return o.response.set({created:new Date,data:u}),u}finally{o.promise.clear()}}})(hO)),hO}var EH;function BE(){if(EH)return sb;EH=1,Object.defineProperty(sb,"__esModule",{value:!0}),sb.getBlockNumberCache=r,sb.getBlockNumber=n;const t=Jte(),e=s=>`blockNumber.${s}`;function r(s){return(0,t.getCache)(e(s))}async function n(s,{cacheTime:i=s.cacheTime}={}){const o=await(0,t.withCache)(()=>s.request({method:"eth_blockNumber"}),{cacheKey:e(s.uid),cacheTime:i});return BigInt(o)}return sb}var gA={},vH;function YP(){if(vH)return gA;vH=1,Object.defineProperty(gA,"__esModule",{value:!0}),gA.getFilterChanges=r;const t=PE(),e=Zu();async function r(n,{filter:s}){const i="strict"in s&&s.strict,o=await s.request({method:"eth_getFilterChanges",params:[s.id]});if(typeof o[0]=="string")return o;const a=o.map(c=>(0,e.formatLog)(c));return!("abi"in s)||!s.abi?a:(0,t.parseEventLogs)({abi:s.abi,logs:a,strict:i})}return gA}var yA={},_H;function JP(){if(_H)return yA;_H=1,Object.defineProperty(yA,"__esModule",{value:!0}),yA.uninstallFilter=t;async function t(e,{filter:r}){return r.request({method:"eth_uninstallFilter",params:[r.id]})}return yA}var AH;function Qte(){if(AH)return hA;AH=1,Object.defineProperty(hA,"__esModule",{value:!0}),hA.watchContractEvent=p;const t=Hr(),e=Ld(),r=TE(),n=Cp(),s=Zu(),i=Yt(),o=Pp(),a=Og(),c=Xn(),u=$3(),l=BE(),d=a4(),f=YP(),h=JP();function p(m,y){const{abi:E,address:w,args:b,batch:g=!0,eventName:v,fromBlock:A,onError:C,onLogs:x,poll:T,pollingInterval:N=m.pollingInterval,strict:M}=y;return(typeof T<"u"?T:typeof A=="bigint"?!0:!(m.transport.type==="webSocket"||m.transport.type==="ipc"||m.transport.type==="fallback"&&(m.transport.transports[0].config.type==="webSocket"||m.transport.transports[0].config.type==="ipc")))?(()=>{const I=M??!1,S=(0,c.stringify)(["watchContractEvent",w,b,g,m.uid,v,N,I,A]);return(0,o.observe)(S,{onLogs:x,onError:C},_=>{let R;A!==void 0&&(R=A-1n);let O,P=!1;const D=(0,a.poll)(async()=>{var j;if(!P){try{O=await(0,i.getAction)(m,u.createContractEventFilter,"createContractEventFilter")({abi:E,address:w,args:b,eventName:v,strict:I,fromBlock:A})}catch{}P=!0;return}try{let F;if(O)F=await(0,i.getAction)(m,f.getFilterChanges,"getFilterChanges")({filter:O});else{const q=await(0,i.getAction)(m,l.getBlockNumber,"getBlockNumber")({});R&&R<q?F=await(0,i.getAction)(m,d.getContractEvents,"getContractEvents")({abi:E,address:w,args:b,eventName:v,fromBlock:R+1n,toBlock:q,strict:I}):F=[],R=q}if(F.length===0)return;if(g)_.onLogs(F);else for(const q of F)_.onLogs([q])}catch(F){O&&F instanceof e.InvalidInputRpcError&&(P=!1),(j=_.onError)==null||j.call(_,F)}},{emitOnBegin:!0,interval:N});return async()=>{O&&await(0,i.getAction)(m,h.uninstallFilter,"uninstallFilter")({filter:O}),D()}})})():(()=>{const I=M??!1,S=(0,c.stringify)(["watchContractEvent",w,b,g,m.uid,v,N,I]);let _=!0,R=()=>_=!1;return(0,o.observe)(S,{onLogs:x,onError:C},O=>((async()=>{try{const P=(()=>{if(m.transport.type==="fallback"){const F=m.transport.transports.find(q=>q.config.type==="webSocket"||q.config.type==="ipc");return F?F.value:m.transport}return m.transport})(),D=v?(0,n.encodeEventTopics)({abi:E,eventName:v,args:b}):[],{unsubscribe:j}=await P.subscribe({params:["logs",{address:w,topics:D}],onData(F){var z;if(!_)return;const q=F.result;try{const{eventName:W,args:K}=(0,r.decodeEventLog)({abi:E,data:q.data,topics:q.topics,strict:M}),re=(0,s.formatLog)(q,{args:K,eventName:W});O.onLogs([re])}catch(W){let K,re;if(W instanceof t.DecodeLogDataMismatch||W instanceof t.DecodeLogTopicsMismatch){if(M)return;K=W.abiItem.name,re=(z=W.abiItem.inputs)==null?void 0:z.some(X=>!("name"in X&&X.name))}const Q=(0,s.formatLog)(q,{args:re?[]:{},eventName:K});O.onLogs([Q])}},onError(F){var q;(q=O.onError)==null||q.call(O,F)}});R=j,_||R()}catch(P){C==null||C(P)}})(),()=>R()))})()}return hA}var ib={},Af={},CH;function Gd(){if(CH)return Af;CH=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.AccountTypeNotSupportedError=Af.AccountNotFoundError=void 0;const t=yt();class e extends t.BaseError{constructor({docsPath:s}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:s,docsSlug:"account",name:"AccountNotFoundError"})}}Af.AccountNotFoundError=e;class r extends t.BaseError{constructor({docsPath:s,metaMessages:i,type:o}){super(`Account type "${o}" is not supported.`,{docsPath:s,metaMessages:i,name:"AccountTypeNotSupportedError"})}}return Af.AccountTypeNotSupportedError=r,Af}var bA={},wA={},SH;function kE(){if(SH)return wA;SH=1,Object.defineProperty(wA,"__esModule",{value:!0}),wA.assertCurrentChain=e;const t=OE();function e({chain:r,currentChainId:n}){if(!r)throw new t.ChainNotFoundError;if(n!==r.id)throw new t.ChainMismatchError({chain:r,currentChainId:n})}return wA}var EA={},IH;function g4(){if(IH)return EA;IH=1,Object.defineProperty(EA,"__esModule",{value:!0}),EA.sendRawTransaction=t;async function t(e,{serializedTransaction:r}){return e.request({method:"eth_sendRawTransaction",params:[r]},{retryCount:0})}return EA}var TH;function QP(){if(TH)return bA;TH=1,Object.defineProperty(bA,"__esModule",{value:!0}),bA.sendTransaction=m;const t=Wr(),e=Gd(),r=yt(),n=vE(),s=kE(),i=SE(),o=qd(),a=wa(),c=Yt(),u=_p(),l=Ea(),d=zd(),f=IE(),h=g4(),p=new u.LruMap(128);async function m(y,E){var R,O,P,D;const{account:w=y.account,chain:b=y.chain,accessList:g,authorizationList:v,blobs:A,data:C,gas:x,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,type:U,value:I,...S}=E;if(typeof w>"u")throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const _=w?(0,t.parseAccount)(w):null;try{(0,l.assertRequest)(E);const j=await(async()=>{if(E.to)return E.to;if(E.to!==null&&v&&v.length>0)return await(0,n.recoverAuthorizationAddress)({authorization:v[0]}).catch(()=>{throw new r.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if((_==null?void 0:_.type)==="json-rpc"||_===null){let F;b!==null&&(F=await(0,c.getAction)(y,d.getChainId,"getChainId")({}),(0,s.assertCurrentChain)({currentChainId:F,chain:b}));const q=(P=(O=(R=y.chain)==null?void 0:R.formatters)==null?void 0:O.transactionRequest)==null?void 0:P.format,W=(q||a.formatTransactionRequest)({...(0,o.extract)(S,{format:q}),accessList:g,account:_,authorizationList:v,blobs:A,chainId:F,data:C,gas:x,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,to:j,type:U,value:I},"sendTransaction"),K=p.get(y.uid),re=K?"wallet_sendTransaction":"eth_sendTransaction";try{return await y.request({method:re,params:[W]},{retryCount:0})}catch(Q){if(K===!1)throw Q;const X=Q;if(X.name==="InvalidInputRpcError"||X.name==="InvalidParamsRpcError"||X.name==="MethodNotFoundRpcError"||X.name==="MethodNotSupportedRpcError")return await y.request({method:"wallet_sendTransaction",params:[W]},{retryCount:0}).then(ie=>(p.set(y.uid,!0),ie)).catch(ie=>{const Y=ie;throw Y.name==="MethodNotFoundRpcError"||Y.name==="MethodNotSupportedRpcError"?(p.set(y.uid,!1),X):Y});throw X}}if((_==null?void 0:_.type)==="local"){const F=await(0,c.getAction)(y,f.prepareTransactionRequest,"prepareTransactionRequest")({account:_,accessList:g,authorizationList:v,blobs:A,chain:b,data:C,gas:x,gasPrice:T,maxFeePerBlobGas:N,maxFeePerGas:M,maxPriorityFeePerGas:k,nonce:B,nonceManager:_.nonceManager,parameters:[...f.defaultParameters,"sidecars"],type:U,value:I,...S,to:j}),q=(D=b==null?void 0:b.serializers)==null?void 0:D.transaction,z=await _.signTransaction(F,{serializer:q});return await(0,c.getAction)(y,h.sendRawTransaction,"sendRawTransaction")({serializedTransaction:z})}throw(_==null?void 0:_.type)==="smart"?new e.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new e.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:_==null?void 0:_.type})}catch(j){throw j instanceof e.AccountTypeNotSupportedError?j:(0,i.getTransactionError)(j,{...E,account:_,chain:E.chain||void 0})}}return bA}var PH;function y4(){if(PH)return ib;PH=1,Object.defineProperty(ib,"__esModule",{value:!0}),ib.writeContract=o;const t=Wr(),e=Gd(),r=Si(),n=Fd(),s=Yt(),i=QP();async function o(a,c){return o.internal(a,i.sendTransaction,"sendTransaction",c)}return(function(a){async function c(u,l,d,f){const{abi:h,account:p=u.account,address:m,args:y,dataSuffix:E,functionName:w,...b}=f;if(typeof p>"u")throw new e.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});const g=p?(0,t.parseAccount)(p):null,v=(0,r.encodeFunctionData)({abi:h,args:y,functionName:w});try{return await(0,s.getAction)(u,l,d)({data:`${v}${E?E.replace("0x",""):""}`,to:m,account:g,...b})}catch(A){throw(0,n.getContractError)(A,{abi:h,address:m,args:y,docsPath:"/docs/contract/writeContract",functionName:w,sender:g==null?void 0:g.address})}}a.internal=c})(o||(ib.writeContract=o={})),ib}var xH;function B3e(){if(xH)return Yp;xH=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.getContract=c,Yp.getFunctionParameters=u,Yp.getEventParameters=l;const t=Yt(),e=$3(),r=Gte(),n=a4(),s=gc(),i=Yte(),o=Qte(),a=y4();function c({abi:d,address:f,client:h}){const p=h,[m,y]=p?"public"in p&&"wallet"in p?[p.public,p.wallet]:"public"in p?[p.public,void 0]:"wallet"in p?[void 0,p.wallet]:[p,p]:[void 0,void 0],E=m!=null,w=y!=null,b={};let g=!1,v=!1,A=!1;for(const C of d)if(C.type==="function"?C.stateMutability==="view"||C.stateMutability==="pure"?g=!0:v=!0:C.type==="event"&&(A=!0),g&&v&&A)break;return E&&(g&&(b.read=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T);return(0,t.getAction)(m,s.readContract,"readContract")({abi:d,address:f,functionName:x,args:N,...M})}}})),v&&(b.simulate=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T);return(0,t.getAction)(m,i.simulateContract,"simulateContract")({abi:d,address:f,functionName:x,args:N,...M})}}})),A&&(b.createEventFilter=new Proxy({},{get(C,x){return(...T)=>{const N=d.find(B=>B.type==="event"&&B.name===x),{args:M,options:k}=l(T,N);return(0,t.getAction)(m,e.createContractEventFilter,"createContractEventFilter")({abi:d,address:f,eventName:x,args:M,...k})}}}),b.getEvents=new Proxy({},{get(C,x){return(...T)=>{const N=d.find(B=>B.type==="event"&&B.name===x),{args:M,options:k}=l(T,N);return(0,t.getAction)(m,n.getContractEvents,"getContractEvents")({abi:d,address:f,eventName:x,args:M,...k})}}}),b.watchEvent=new Proxy({},{get(C,x){return(...T)=>{const N=d.find(B=>B.type==="event"&&B.name===x),{args:M,options:k}=l(T,N);return(0,t.getAction)(m,o.watchContractEvent,"watchContractEvent")({abi:d,address:f,eventName:x,args:M,...k})}}}))),w&&v&&(b.write=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T);return(0,t.getAction)(y,a.writeContract,"writeContract")({abi:d,address:f,functionName:x,args:N,...M})}}})),(E||w)&&v&&(b.estimateGas=new Proxy({},{get(C,x){return(...T)=>{const{args:N,options:M}=u(T),k=m??y;return(0,t.getAction)(k,r.estimateContractGas,"estimateContractGas")({abi:d,address:f,functionName:x,args:N,...M,account:M.account??y.account})}}})),b.address=f,b.abi=d,b}function u(d){const f=d.length&&Array.isArray(d[0]),h=f?d[0]:[],p=(f?d[1]:d[0])??{};return{args:h,options:p}}function l(d,f){let h=!1;Array.isArray(d[0])?h=!0:d.length===1?h=f.inputs.some(y=>y.indexed):d.length===2&&(h=!0);const p=h?d[0]:void 0,m=(h?d[1]:d[0])??{};return{args:p,options:m}}return Yp}var o0={},ob={},OH;function Xte(){if(OH)return ob;OH=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.BundleFailedError=void 0;const t=yt();class e extends t.BaseError{constructor(n){super(`Call bundle failed with status: ${n.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=n}}return ob.BundleFailedError=e,ob}var vA={},RH;function XP(){if(RH)return vA;RH=1,Object.defineProperty(vA,"__esModule",{value:!0}),vA.withRetry=e;const t=m4();function e(r,{delay:n=100,retryCount:s=2,shouldRetry:i=()=>!0}={}){return new Promise((o,a)=>{const c=async({count:u=0}={})=>{const l=async({error:d})=>{const f=typeof n=="function"?n({count:u,error:d}):n;f&&await(0,t.wait)(f),c({count:u+1})};try{const d=await r();o(d)}catch(d){if(u<s&&await i({count:u,error:d}))return l({error:d});a(d)}};c()})}return vA}var _A={},pO={},NH;function jE(){return NH||(NH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineTransactionReceipt=t.receiptStatuses=void 0,t.formatTransactionReceipt=i;const e=tn(),r=AE(),n=Zu(),s=xg();t.receiptStatuses={"0x0":"reverted","0x1":"success"};function i(o,a){const c={...o,blockNumber:o.blockNumber?BigInt(o.blockNumber):null,contractAddress:o.contractAddress?o.contractAddress:null,cumulativeGasUsed:o.cumulativeGasUsed?BigInt(o.cumulativeGasUsed):null,effectiveGasPrice:o.effectiveGasPrice?BigInt(o.effectiveGasPrice):null,gasUsed:o.gasUsed?BigInt(o.gasUsed):null,logs:o.logs?o.logs.map(u=>(0,n.formatLog)(u)):null,to:o.to?o.to:null,transactionIndex:o.transactionIndex?(0,e.hexToNumber)(o.transactionIndex):null,status:o.status?t.receiptStatuses[o.status]:null,type:o.type?s.transactionType[o.type]||o.type:null};return o.blobGasPrice&&(c.blobGasPrice=BigInt(o.blobGasPrice)),o.blobGasUsed&&(c.blobGasUsed=BigInt(o.blobGasUsed)),c}t.defineTransactionReceipt=(0,r.defineFormatter)("transactionReceipt",i)})(pO)),pO}var mO={},BH;function b4(){return BH||(BH=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fallbackTransactionErrorMagicIdentifier=t.fallbackMagicIdentifier=void 0,t.sendCalls=l;const e=Wr(),r=yt(),n=Ld(),s=Si(),i=jn(),o=tn(),a=ze(),c=SE(),u=QP();t.fallbackMagicIdentifier="0x5792579257925792579257925792579257925792579257925792579257925792",t.fallbackTransactionErrorMagicIdentifier=(0,a.numberToHex)(0,{size:32});async function l(d,f){const{account:h=d.account,capabilities:p,chain:m=d.chain,experimental_fallback:y,experimental_fallbackDelay:E=32,forceAtomic:w=!1,id:b,version:g="2.0.0"}=f,v=h?(0,e.parseAccount)(h):null,A=f.calls.map(C=>{const x=C,T=x.abi?(0,s.encodeFunctionData)({abi:x.abi,functionName:x.functionName,args:x.args}):x.data;return{data:x.dataSuffix&&T?(0,i.concat)([T,x.dataSuffix]):T,to:x.to,value:x.value?(0,a.numberToHex)(x.value):void 0}});try{const C=await d.request({method:"wallet_sendCalls",params:[{atomicRequired:w,calls:A,capabilities:p,chainId:(0,a.numberToHex)(m.id),from:v==null?void 0:v.address,id:b,version:g}]},{retryCount:0});return typeof C=="string"?{id:C}:C}catch(C){const x=C;if(y&&(x.name==="MethodNotFoundRpcError"||x.name==="MethodNotSupportedRpcError"||x.name==="UnknownRpcError"||x.details.toLowerCase().includes("does not exist / is not available")||x.details.toLowerCase().includes("missing or invalid. request()")||x.details.toLowerCase().includes("did not match any variant of untagged enum")||x.details.toLowerCase().includes("account upgraded to unsupported contract")||x.details.toLowerCase().includes("eip-7702 not supported")||x.details.toLowerCase().includes("unsupported wc_ method")||x.details.toLowerCase().includes("feature toggled misconfigured")||x.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(p&&Object.values(p).some(B=>!B.optional)){const B="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new n.UnsupportedNonOptionalCapabilityError(new r.BaseError(B,{details:B}))}if(w&&A.length>1){const k="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new n.AtomicityNotSupportedError(new r.BaseError(k,{details:k}))}const T=[];for(const k of A){const B=(0,u.sendTransaction)(d,{account:v,chain:m,data:k.data,to:k.to,value:k.value?(0,o.hexToBigInt)(k.value):void 0});T.push(B),E>0&&await new Promise(U=>setTimeout(U,E))}const N=await Promise.allSettled(T);if(N.every(k=>k.status==="rejected"))throw N[0].reason;const M=N.map(k=>k.status==="fulfilled"?k.value:t.fallbackTransactionErrorMagicIdentifier);return{id:(0,i.concat)([...M,(0,a.numberToHex)(m.id,{size:32}),t.fallbackMagicIdentifier])}}throw(0,c.getTransactionError)(C,{...f,account:v,chain:f.chain})}}})(mO)),mO}var kH;function ere(){if(kH)return _A;kH=1,Object.defineProperty(_A,"__esModule",{value:!0}),_A.getCallsStatus=i;const t=Oo(),e=Gu(),r=tn(),n=jE(),s=b4();async function i(o,a){async function c(y){if(y.endsWith(s.fallbackMagicIdentifier.slice(2))){const w=(0,e.trim)((0,t.sliceHex)(y,-64,-32)),b=(0,t.sliceHex)(y,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(b.map(A=>s.fallbackTransactionErrorMagicIdentifier.slice(2)!==A?o.request({method:"eth_getTransactionReceipt",params:[`0x${A}`]},{dedupe:!0}):void 0)),v=g.some(A=>A===null)?100:g.every(A=>(A==null?void 0:A.status)==="0x1")?200:g.every(A=>(A==null?void 0:A.status)==="0x0")?500:600;return{atomic:!1,chainId:(0,r.hexToNumber)(w),receipts:g.filter(Boolean),status:v,version:"2.0.0"}}return o.request({method:"wallet_getCallsStatus",params:[y]})}const{atomic:u=!1,chainId:l,receipts:d,version:f="2.0.0",...h}=await c(a.id),[p,m]=(()=>{const y=h.status;return y>=100&&y<200?["pending",y]:y>=200&&y<300?["success",y]:y>=300&&y<700?["failure",y]:y==="CONFIRMED"?["success",200]:y==="PENDING"?["pending",100]:[void 0,y]})();return{...h,atomic:u,chainId:l?(0,r.hexToNumber)(l):void 0,receipts:(d==null?void 0:d.map(y=>({...y,blockNumber:(0,r.hexToBigInt)(y.blockNumber),gasUsed:(0,r.hexToBigInt)(y.gasUsed),status:n.receiptStatuses[y.status]})))??[],statusCode:m,status:p,version:f}}return _A}var jH;function w4(){if(jH)return o0;jH=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.WaitForCallsStatusTimeoutError=void 0,o0.waitForCallsStatus=u;const t=yt(),e=Xte(),r=Yt(),n=Pp(),s=Og(),i=u4(),o=XP(),a=Xn(),c=ere();async function u(d,f){const{id:h,pollingInterval:p=d.pollingInterval,status:m=({statusCode:N})=>N===200||N>=300,retryCount:y=4,retryDelay:E=({count:N})=>~~(1<<N)*200,timeout:w=6e4,throwOnFailure:b=!1}=f,g=(0,a.stringify)(["waitForCallsStatus",d.uid,h]),{promise:v,resolve:A,reject:C}=(0,i.withResolvers)();let x;const T=(0,n.observe)(g,{resolve:A,reject:C},N=>{const M=(0,s.poll)(async()=>{const k=B=>{clearTimeout(x),M(),B(),T()};try{const B=await(0,o.withRetry)(async()=>{const U=await(0,r.getAction)(d,c.getCallsStatus,"getCallsStatus")({id:h});if(b&&U.status==="failure")throw new e.BundleFailedError(U);return U},{retryCount:y,delay:E});if(!m(B))return;k(()=>N.resolve(B))}catch(B){k(()=>N.reject(B))}},{interval:p,emitOnBegin:!0});return M});return x=w?setTimeout(()=>{T(),clearTimeout(x),C(new l({id:h}))},w):void 0,await v}class l extends t.BaseError{constructor({id:f}){super(`Timed out while waiting for call bundle with id "${f}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}return o0.WaitForCallsStatusTimeoutError=l,o0}var ab={},AA={},DH;function tre(){if(DH)return AA;DH=1,Object.defineProperty(AA,"__esModule",{value:!0}),AA.uid=n;const t=256;let e=t,r;function n(s=11){if(!r||e+s>t*2){r="",e=0;for(let i=0;i<t;i++)r+=(256+Math.random()*256|0).toString(16).substring(1)}return r.substring(e,e+++s)}return AA}var MH;function e6(){if(MH)return ab;MH=1,Object.defineProperty(ab,"__esModule",{value:!0}),ab.createClient=r,ab.rpcSchema=n;const t=Wr(),e=tre();function r(s){const{batch:i,chain:o,ccipRead:a,key:c="base",name:u="Base Client",type:l="base"}=s,d=s.experimental_blockTag??(typeof(o==null?void 0:o.experimental_preconfirmationTime)=="number"?"pending":void 0),f=(o==null?void 0:o.blockTime)??12e3,h=Math.min(Math.max(Math.floor(f/2),500),4e3),p=s.pollingInterval??h,m=s.cacheTime??p,y=s.account?(0,t.parseAccount)(s.account):void 0,{config:E,request:w,value:b}=s.transport({account:y,chain:o,pollingInterval:p}),g={...E,...b},v={account:y,batch:i,cacheTime:m,ccipRead:a,chain:o,key:c,name:u,pollingInterval:p,request:w,transport:g,type:l,uid:(0,e.uid)(),...d?{experimental_blockTag:d}:{}};function A(C){return x=>{const T=x(C);for(const M in v)delete T[M];const N={...C,...T};return Object.assign(N,{extend:A(N)})}}return Object.assign(v,{extend:A(v)})}function n(){return null}return ab}var CA={},SA={},IA={},TA={},UH;function E4(){if(UH)return TA;UH=1,Object.defineProperty(TA,"__esModule",{value:!0}),TA.isNullUniversalResolverError=r;const t=yt(),e=Ud();function r(n){var i,o,a,c,u,l;if(!(n instanceof t.BaseError))return!1;const s=n.walk(d=>d instanceof e.ContractFunctionRevertedError);return s instanceof e.ContractFunctionRevertedError?((i=s.data)==null?void 0:i.errorName)==="HttpError"||((o=s.data)==null?void 0:o.errorName)==="ResolverError"||((a=s.data)==null?void 0:a.errorName)==="ResolverNotContract"||((c=s.data)==null?void 0:c.errorName)==="ResolverNotFound"||((u=s.data)==null?void 0:u.errorName)==="ReverseAddressMismatch"||((l=s.data)==null?void 0:l.errorName)==="UnsupportedResolverProfile":!1}return TA}var PA={},xA={},LH;function rre(){if(LH)return xA;LH=1,Object.defineProperty(xA,"__esModule",{value:!0}),xA.encodedLabelToLabelhash=e;const t=$s();function e(r){if(r.length!==66||r.indexOf("[")!==0||r.indexOf("]")!==65)return null;const n=`0x${r.slice(1,65)}`;return(0,t.isHex)(n)?n:null}return xA}var FH;function v4(){if(FH)return PA;FH=1,Object.defineProperty(PA,"__esModule",{value:!0}),PA.namehash=i;const t=jn(),e=Cr(),r=ze(),n=Ai(),s=rre();function i(o){let a=new Uint8Array(32).fill(0);if(!o)return(0,r.bytesToHex)(a);const c=o.split(".");for(let u=c.length-1;u>=0;u-=1){const l=(0,s.encodedLabelToLabelhash)(c[u]),d=l?(0,e.toBytes)(l):(0,n.keccak256)((0,e.stringToBytes)(c[u]),"bytes");a=(0,n.keccak256)((0,t.concat)([a,d]),"bytes")}return(0,r.bytesToHex)(a)}return PA}var OA={},RA={},HH;function k3e(){if(HH)return RA;HH=1,Object.defineProperty(RA,"__esModule",{value:!0}),RA.encodeLabelhash=t;function t(e){return`[${e.slice(2)}]`}return RA}var NA={},qH;function nre(){if(qH)return NA;qH=1,Object.defineProperty(NA,"__esModule",{value:!0}),NA.labelhash=s;const t=Cr(),e=ze(),r=Ai(),n=rre();function s(i){const o=new Uint8Array(32).fill(0);return i?(0,n.encodedLabelToLabelhash)(i)||(0,r.keccak256)((0,t.stringToBytes)(i)):(0,e.bytesToHex)(o)}return NA}var zH;function _4(){if(zH)return OA;zH=1,Object.defineProperty(OA,"__esModule",{value:!0}),OA.packetToBytes=n;const t=Cr(),e=k3e(),r=nre();function n(s){const i=s.replace(/^\.|\.$/gm,"");if(i.length===0)return new Uint8Array(1);const o=new Uint8Array((0,t.stringToBytes)(i).byteLength+2);let a=0;const c=i.split(".");for(let u=0;u<c.length;u++){let l=(0,t.stringToBytes)(c[u]);l.byteLength>255&&(l=(0,t.stringToBytes)((0,e.encodeLabelhash)((0,r.labelhash)(c[u])))),o[a]=l.length,o.set(l,a+1),a+=l.length+1}return o.byteLength!==a+1?o.slice(0,a+1):o}return OA}var $H;function j3e(){if($H)return IA;$H=1,Object.defineProperty(IA,"__esModule",{value:!0}),IA.getEnsAddress=f;const t=$d(),e=Yu(),r=Si(),n=Vd(),s=Gu(),i=ze(),o=E4(),a=ZP(),c=v4(),u=_4(),l=Yt(),d=gc();async function f(h,p){const{blockNumber:m,blockTag:y,coinType:E,name:w,gatewayUrls:b,strict:g}=p,{chain:v}=h,A=(()=>{if(p.universalResolverAddress)return p.universalResolverAddress;if(!v)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,n.getChainContractAddress)({blockNumber:m,chain:v,contract:"ensUniversalResolver"})})(),C=v==null?void 0:v.ensTlds;if(C&&!C.some(T=>w.endsWith(T)))return null;const x=E!=null?[(0,c.namehash)(w),BigInt(E)]:[(0,c.namehash)(w)];try{const T=(0,r.encodeFunctionData)({abi:t.addressResolverAbi,functionName:"addr",args:x}),N={address:A,abi:t.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,i.toHex)((0,u.packetToBytes)(w)),T,b??[a.localBatchGatewayUrl]],blockNumber:m,blockTag:y},k=await(0,l.getAction)(h,d.readContract,"readContract")(N);if(k[0]==="0x")return null;const B=(0,e.decodeFunctionResult)({abi:t.addressResolverAbi,args:x,functionName:"addr",data:k[0]});return B==="0x"||(0,s.trim)(B)==="0x00"?null:B}catch(T){if(g)throw T;if((0,o.isNullUniversalResolverError)(T))return null;throw T}}return IA}var BA={},kA={},Uo={},Bi={},VH;function A4(){if(VH)return Bi;VH=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.EnsInvalidChainIdError=Bi.EnsAvatarUnsupportedNamespaceError=Bi.EnsAvatarUriResolutionError=Bi.EnsAvatarInvalidNftUriError=Bi.EnsAvatarInvalidMetadataError=void 0;const t=yt();class e extends t.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}Bi.EnsAvatarInvalidMetadataError=e;class r extends t.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}Bi.EnsAvatarInvalidNftUriError=r;class n extends t.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}Bi.EnsAvatarUriResolutionError=n;class s extends t.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}Bi.EnsAvatarUnsupportedNamespaceError=s;class i extends t.BaseError{constructor({chainId:a}){super(`Invalid ENSIP-11 chainId: ${a}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}return Bi.EnsInvalidChainIdError=i,Bi}var GH;function D3e(){if(GH)return Uo;GH=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.isImageUri=o,Uo.getGateway=a,Uo.resolveAvatarUri=c,Uo.getJsonImage=u,Uo.getMetadataAvatarUri=l,Uo.parseAvatarUri=d,Uo.parseNftUri=f,Uo.getNftTokenUri=h;const t=gc(),e=A4(),r=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,n=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,s=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,i=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function o(p){try{const m=await fetch(p,{method:"HEAD"});if(m.status===200){const y=m.headers.get("content-type");return y==null?void 0:y.startsWith("image/")}return!1}catch(m){return typeof m=="object"&&typeof m.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(y=>{const E=new Image;E.onload=()=>{y(!0)},E.onerror=()=>{y(!1)},E.src=p})}}function a(p,m){return p?p.endsWith("/")?p.slice(0,-1):p:m}function c({uri:p,gatewayUrls:m}){const y=s.test(p);if(y)return{uri:p,isOnChain:!0,isEncoded:y};const E=a(m==null?void 0:m.ipfs,"https://ipfs.io"),w=a(m==null?void 0:m.arweave,"https://arweave.net"),b=p.match(r),{protocol:g,subpath:v,target:A,subtarget:C=""}=(b==null?void 0:b.groups)||{},x=g==="ipns:/"||v==="ipns/",T=g==="ipfs:/"||v==="ipfs/"||n.test(p);if(p.startsWith("http")&&!x&&!T){let M=p;return m!=null&&m.arweave&&(M=p.replace(/https:\/\/arweave.net/g,m==null?void 0:m.arweave)),{uri:M,isOnChain:!1,isEncoded:!1}}if((x||T)&&A)return{uri:`${E}/${x?"ipns":"ipfs"}/${A}${C}`,isOnChain:!1,isEncoded:!1};if(g==="ar:/"&&A)return{uri:`${w}/${A}${C||""}`,isOnChain:!1,isEncoded:!1};let N=p.replace(i,"");if(N.startsWith("<svg")&&(N=`data:image/svg+xml;base64,${btoa(N)}`),N.startsWith("data:")||N.startsWith("{"))return{uri:N,isOnChain:!0,isEncoded:!1};throw new e.EnsAvatarUriResolutionError({uri:p})}function u(p){if(typeof p!="object"||!("image"in p)&&!("image_url"in p)&&!("image_data"in p))throw new e.EnsAvatarInvalidMetadataError({data:p});return p.image||p.image_url||p.image_data}async function l({gatewayUrls:p,uri:m}){try{const y=await fetch(m).then(w=>w.json());return await d({gatewayUrls:p,uri:u(y)})}catch{throw new e.EnsAvatarUriResolutionError({uri:m})}}async function d({gatewayUrls:p,uri:m}){const{uri:y,isOnChain:E}=c({uri:m,gatewayUrls:p});if(E||await o(y))return y;throw new e.EnsAvatarUriResolutionError({uri:m})}function f(p){let m=p;m.startsWith("did:nft:")&&(m=m.replace("did:nft:","").replace(/_/g,"/"));const[y,E,w]=m.split("/"),[b,g]=y.split(":"),[v,A]=E.split(":");if(!b||b.toLowerCase()!=="eip155")throw new e.EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!g)throw new e.EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!A)throw new e.EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!w)throw new e.EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!v)throw new e.EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:Number.parseInt(g,10),namespace:v.toLowerCase(),contractAddress:A,tokenID:w}}async function h(p,{nft:m}){if(m.namespace==="erc721")return(0,t.readContract)(p,{address:m.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(m.tokenID)]});if(m.namespace==="erc1155")return(0,t.readContract)(p,{address:m.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(m.tokenID)]});throw new e.EnsAvatarUnsupportedNamespaceError({namespace:m.namespace})}return Uo}var WH;function M3e(){if(WH)return kA;WH=1,Object.defineProperty(kA,"__esModule",{value:!0}),kA.parseAvatarRecord=e;const t=D3e();async function e(n,{gatewayUrls:s,record:i}){return/eip155:/i.test(i)?r(n,{gatewayUrls:s,record:i}):(0,t.parseAvatarUri)({uri:i,gatewayUrls:s})}async function r(n,{gatewayUrls:s,record:i}){const o=(0,t.parseNftUri)(i),a=await(0,t.getNftTokenUri)(n,{nft:o}),{uri:c,isOnChain:u,isEncoded:l}=(0,t.resolveAvatarUri)({uri:a,gatewayUrls:s});if(u&&(c.includes("data:application/json;base64,")||c.startsWith("{"))){const f=l?atob(c.replace("data:application/json;base64,","")):c,h=JSON.parse(f);return(0,t.parseAvatarUri)({uri:(0,t.getJsonImage)(h),gatewayUrls:s})}let d=o.tokenID;return o.namespace==="erc1155"&&(d=d.replace("0x","").padStart(64,"0")),(0,t.getMetadataAvatarUri)({gatewayUrls:s,uri:c.replace(/(?:0x)?{id}/,d)})}return kA}var jA={},KH;function sre(){if(KH)return jA;KH=1,Object.defineProperty(jA,"__esModule",{value:!0}),jA.getEnsText=d;const t=$d(),e=Yu(),r=Si(),n=Vd(),s=ze(),i=E4(),o=ZP(),a=v4(),c=_4(),u=Yt(),l=gc();async function d(f,h){const{blockNumber:p,blockTag:m,key:y,name:E,gatewayUrls:w,strict:b}=h,{chain:g}=f,v=(()=>{if(h.universalResolverAddress)return h.universalResolverAddress;if(!g)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,n.getChainContractAddress)({blockNumber:p,chain:g,contract:"ensUniversalResolver"})})(),A=g==null?void 0:g.ensTlds;if(A&&!A.some(C=>E.endsWith(C)))return null;try{const C={address:v,abi:t.universalResolverResolveAbi,args:[(0,s.toHex)((0,c.packetToBytes)(E)),(0,r.encodeFunctionData)({abi:t.textResolverAbi,functionName:"text",args:[(0,a.namehash)(E),y]}),w??[o.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:p,blockTag:m},T=await(0,u.getAction)(f,l.readContract,"readContract")(C);if(T[0]==="0x")return null;const N=(0,e.decodeFunctionResult)({abi:t.textResolverAbi,functionName:"text",data:T[0]});return N===""?null:N}catch(C){if(b)throw C;if((0,i.isNullUniversalResolverError)(C))return null;throw C}}return jA}var ZH;function U3e(){if(ZH)return BA;ZH=1,Object.defineProperty(BA,"__esModule",{value:!0}),BA.getEnsAvatar=n;const t=M3e(),e=Yt(),r=sre();async function n(s,{blockNumber:i,blockTag:o,assetGatewayUrls:a,name:c,gatewayUrls:u,strict:l,universalResolverAddress:d}){const f=await(0,e.getAction)(s,r.getEnsText,"getEnsText")({blockNumber:i,blockTag:o,key:"avatar",name:c,universalResolverAddress:d,gatewayUrls:u,strict:l});if(!f)return null;try{return await(0,t.parseAvatarRecord)(s,{record:f,gatewayUrls:a})}catch{return null}}return BA}var DA={},YH;function L3e(){if(YH)return DA;YH=1,Object.defineProperty(DA,"__esModule",{value:!0}),DA.getEnsName=o;const t=$d(),e=Vd(),r=E4(),n=ZP(),s=Yt(),i=gc();async function o(a,c){const{address:u,blockNumber:l,blockTag:d,coinType:f=60n,gatewayUrls:h,strict:p}=c,{chain:m}=a,y=(()=>{if(c.universalResolverAddress)return c.universalResolverAddress;if(!m)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:l,chain:m,contract:"ensUniversalResolver"})})();try{const E={address:y,abi:t.universalResolverReverseAbi,args:[u,f,h??[n.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:l,blockTag:d},w=(0,s.getAction)(a,i.readContract,"readContract"),[b]=await w(E);return b||null}catch(E){if(p)throw E;if((0,r.isNullUniversalResolverError)(E))return null;throw E}}return DA}var MA={},JH;function F3e(){if(JH)return MA;JH=1,Object.defineProperty(MA,"__esModule",{value:!0}),MA.getEnsResolver=i;const t=Vd(),e=ze(),r=_4(),n=Yt(),s=gc();async function i(o,a){const{blockNumber:c,blockTag:u,name:l}=a,{chain:d}=o,f=(()=>{if(a.universalResolverAddress)return a.universalResolverAddress;if(!d)throw new Error("client chain not configured. universalResolverAddress is required.");return(0,t.getChainContractAddress)({blockNumber:c,chain:d,contract:"ensUniversalResolver"})})(),h=d==null?void 0:d.ensTlds;if(h&&!h.some(m=>l.endsWith(m)))throw new Error(`${l} is not a valid ENS TLD (${h==null?void 0:h.join(", ")}) for chain "${d.name}" (id: ${d.id}).`);const[p]=await(0,n.getAction)(o,s.readContract,"readContract")({address:f,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,e.toHex)((0,r.packetToBytes)(l))],blockNumber:c,blockTag:u});return p}return MA}var UA={},QH;function ire(){if(QH)return UA;QH=1,Object.defineProperty(UA,"__esModule",{value:!0}),UA.createAccessList=o;const t=Wr(),e=ze(),r=c4(),n=qd(),s=wa(),i=Ea();async function o(a,c){var C,x,T;const{account:u=a.account,blockNumber:l,blockTag:d="latest",blobs:f,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:w,to:b,value:g,...v}=c,A=u?(0,t.parseAccount)(u):void 0;try{(0,i.assertRequest)(c);const M=(typeof l=="bigint"?(0,e.numberToHex)(l):void 0)||d,k=(T=(x=(C=a.chain)==null?void 0:C.formatters)==null?void 0:x.transactionRequest)==null?void 0:T.format,U=(k||s.formatTransactionRequest)({...(0,n.extract)(v,{format:k}),account:A,blobs:f,data:h,gas:p,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:w,to:b,value:g},"createAccessList"),I=await a.request({method:"eth_createAccessList",params:[U,M]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(N){throw(0,r.getCallError)(N,{...c,account:A,chain:a.chain})}}return UA}var LA={},XH;function H3e(){if(XH)return LA;XH=1,Object.defineProperty(LA,"__esModule",{value:!0}),LA.createBlockFilter=e;const t=UP();async function e(r){const n=(0,t.createFilterRequestScope)(r,{method:"eth_newBlockFilter"}),s=await r.request({method:"eth_newBlockFilter"});return{id:s,request:n(s),type:"block"}}return LA}var FA={},eq;function ore(){if(eq)return FA;eq=1,Object.defineProperty(FA,"__esModule",{value:!0}),FA.createEventFilter=n;const t=Cp(),e=ze(),r=UP();async function n(s,{address:i,args:o,event:a,events:c,fromBlock:u,strict:l,toBlock:d}={}){const f=c??(a?[a]:void 0),h=(0,r.createFilterRequestScope)(s,{method:"eth_newFilter"});let p=[];f&&(p=[f.flatMap(E=>(0,t.encodeEventTopics)({abi:[E],eventName:E.name,args:o}))],a&&(p=p[0]));const m=await s.request({method:"eth_newFilter",params:[{address:i,fromBlock:typeof u=="bigint"?(0,e.numberToHex)(u):u,toBlock:typeof d=="bigint"?(0,e.numberToHex)(d):d,...p.length?{topics:p}:{}}]});return{abi:f,args:o,eventName:a?a.name:void 0,fromBlock:u,id:m,request:h(m),strict:!!l,toBlock:d,type:"event"}}return FA}var HA={},tq;function are(){if(tq)return HA;tq=1,Object.defineProperty(HA,"__esModule",{value:!0}),HA.createPendingTransactionFilter=e;const t=UP();async function e(r){const n=(0,t.createFilterRequestScope)(r,{method:"eth_newPendingTransactionFilter"}),s=await r.request({method:"eth_newPendingTransactionFilter"});return{id:s,request:n(s),type:"transaction"}}return HA}var qA={},rq;function q3e(){if(rq)return qA;rq=1,Object.defineProperty(qA,"__esModule",{value:!0}),qA.getBalance=e;const t=ze();async function e(r,{address:n,blockNumber:s,blockTag:i=r.experimental_blockTag??"latest"}){const o=typeof s=="bigint"?(0,t.numberToHex)(s):void 0,a=await r.request({method:"eth_getBalance",params:[n,o||i]});return BigInt(a)}return qA}var zA={},nq;function z3e(){if(nq)return zA;nq=1,Object.defineProperty(zA,"__esModule",{value:!0}),zA.getBlobBaseFee=t;async function t(e){const r=await e.request({method:"eth_blobBaseFee"});return BigInt(r)}return zA}var $A={},sq;function $3e(){if(sq)return $A;sq=1,Object.defineProperty($A,"__esModule",{value:!0}),$A.getBlockTransactionCount=r;const t=tn(),e=ze();async function r(n,{blockHash:s,blockNumber:i,blockTag:o="latest"}={}){const a=i!==void 0?(0,e.numberToHex)(i):void 0;let c;return s?c=await n.request({method:"eth_getBlockTransactionCountByHash",params:[s]},{dedupe:!0}):c=await n.request({method:"eth_getBlockTransactionCountByNumber",params:[a||o]},{dedupe:!!a}),(0,t.hexToNumber)(c)}return $A}var VA={},iq;function cre(){if(iq)return VA;iq=1,Object.defineProperty(VA,"__esModule",{value:!0}),VA.getCode=e;const t=ze();async function e(r,{address:n,blockNumber:s,blockTag:i="latest"}){const o=s!==void 0?(0,t.numberToHex)(s):void 0,a=await r.request({method:"eth_getCode",params:[n,o||i]},{dedupe:!!o});if(a!=="0x")return a}return VA}var GA={},cb={},oq;function V3e(){if(oq)return cb;oq=1,Object.defineProperty(cb,"__esModule",{value:!0}),cb.Eip712DomainNotFoundError=void 0;const t=yt();class e extends t.BaseError{constructor({address:n}){super(`No EIP-712 domain found on contract "${n}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${n}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}return cb.Eip712DomainNotFoundError=e,cb}var aq;function G3e(){if(aq)return GA;aq=1,Object.defineProperty(GA,"__esModule",{value:!0}),GA.getEip712Domain=n;const t=V3e(),e=Yt(),r=gc();async function n(i,o){const{address:a,factory:c,factoryData:u}=o;try{const[l,d,f,h,p,m,y]=await(0,e.getAction)(i,r.readContract,"readContract")({abi:s,address:a,functionName:"eip712Domain",factory:c,factoryData:u});return{domain:{name:d,version:f,chainId:Number(h),verifyingContract:p,salt:m},extensions:y,fields:l}}catch(l){const d=l;throw d.name==="ContractFunctionExecutionError"&&d.cause.name==="ContractFunctionZeroDataError"?new t.Eip712DomainNotFoundError({address:a}):d}}const s=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];return GA}var WA={},KA={},cq;function W3e(){if(cq)return KA;cq=1,Object.defineProperty(KA,"__esModule",{value:!0}),KA.formatFeeHistory=t;function t(e){var r;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(r=e.reward)==null?void 0:r.map(n=>n.map(s=>BigInt(s)))}}return KA}var uq;function K3e(){if(uq)return WA;uq=1,Object.defineProperty(WA,"__esModule",{value:!0}),WA.getFeeHistory=r;const t=ze(),e=W3e();async function r(n,{blockCount:s,blockNumber:i,blockTag:o="latest",rewardPercentiles:a}){const c=typeof i=="bigint"?(0,t.numberToHex)(i):void 0,u=await n.request({method:"eth_feeHistory",params:[(0,t.numberToHex)(s),c||o,a]},{dedupe:!!c});return(0,e.formatFeeHistory)(u)}return WA}var ZA={},lq;function Z3e(){if(lq)return ZA;lq=1,Object.defineProperty(ZA,"__esModule",{value:!0}),ZA.getFilterLogs=r;const t=PE(),e=Zu();async function r(n,{filter:s}){const i=s.strict??!1,a=(await s.request({method:"eth_getFilterLogs",params:[s.id]})).map(c=>(0,e.formatLog)(c));return s.abi?(0,t.parseEventLogs)({abi:s.abi,logs:a,strict:i}):a}return ZA}var YA={},JA={},gO={},QA={},dq;function ure(){if(dq)return QA;dq=1,Object.defineProperty(QA,"__esModule",{value:!0}),QA.encodePacked=a;const t=Hr(),e=ga(),r=Ci(),n=jn(),s=Dd(),i=ze(),o=MP();function a(u,l){if(u.length!==l.length)throw new t.AbiEncodingLengthMismatchError({expectedLength:u.length,givenLength:l.length});const d=[];for(let f=0;f<u.length;f++){const h=u[f],p=l[f];d.push(c(h,p))}return(0,n.concatHex)(d)}function c(u,l,d=!1){if(u==="address"){const m=l;if(!(0,r.isAddress)(m))throw new e.InvalidAddressError({address:m});return(0,s.pad)(m.toLowerCase(),{size:d?32:null})}if(u==="string")return(0,i.stringToHex)(l);if(u==="bytes")return l;if(u==="bool")return(0,s.pad)((0,i.boolToHex)(l),{size:d?32:1});const f=u.match(o.integerRegex);if(f){const[m,y,E="256"]=f,w=Number.parseInt(E,10)/8;return(0,i.numberToHex)(l,{size:d?32:w,signed:y==="int"})}const h=u.match(o.bytesRegex);if(h){const[m,y]=h;if(Number.parseInt(y,10)!==(l.length-2)/2)throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(y,10),givenSize:(l.length-2)/2});return(0,s.pad)(l,{dir:"right",size:d?32:null})}const p=u.match(o.arrayRegex);if(p&&Array.isArray(l)){const[m,y]=p,E=[];for(let w=0;w<l.length;w++)E.push(c(y,l[w],!0));return E.length===0?"0x":(0,n.concatHex)(E)}throw new t.UnsupportedPackedAbiType(u)}return QA}var a0={},XA={},fq;function C4(){if(fq)return XA;fq=1,Object.defineProperty(XA,"__esModule",{value:!0}),XA.isBytes=t;function t(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}return XA}var hq;function lre(){if(hq)return a0;hq=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.getContractAddress=c,a0.getCreateAddress=u,a0.getCreate2Address=l;const t=jn(),e=C4(),r=Dd(),n=Oo(),s=Cr(),i=EE(),o=Ai(),a=ro();function c(d){return d.opcode==="CREATE2"?l(d):u(d)}function u(d){const f=(0,s.toBytes)((0,a.getAddress)(d.from));let h=(0,s.toBytes)(d.nonce);return h[0]===0&&(h=new Uint8Array([])),(0,a.getAddress)(`0x${(0,o.keccak256)((0,i.toRlp)([f,h],"bytes")).slice(26)}`)}function l(d){const f=(0,s.toBytes)((0,a.getAddress)(d.from)),h=(0,r.pad)((0,e.isBytes)(d.salt)?d.salt:(0,s.toBytes)(d.salt),{size:32}),p="bytecodeHash"in d?(0,e.isBytes)(d.bytecodeHash)?d.bytecodeHash:(0,s.toBytes)(d.bytecodeHash):(0,o.keccak256)(d.bytecode,"bytes");return(0,a.getAddress)((0,n.slice)((0,o.keccak256)((0,t.concat)([(0,s.toBytes)("0xff"),f,h,p])),12))}return a0}var e2={},ub={},vl={},pq;function t6(){if(pq)return vl;pq=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.assertTransactionEIP7702=d,vl.assertTransactionEIP4844=f,vl.assertTransactionEIP1559=h,vl.assertTransactionEIP2930=p,vl.assertTransactionLegacy=m;const t=zte(),e=Q3(),r=ga(),n=yt(),s=$te(),i=OE(),o=Ku(),a=Ci(),c=_i(),u=Oo(),l=tn();function d(y){const{authorizationList:E}=y;if(E)for(const w of E){const{chainId:b}=w,g=w.address;if(!(0,a.isAddress)(g))throw new r.InvalidAddressError({address:g});if(b<0)throw new i.InvalidChainIdError({chainId:b})}h(y)}function f(y){const{blobVersionedHashes:E}=y;if(E){if(E.length===0)throw new s.EmptyBlobError;for(const w of E){const b=(0,c.size)(w),g=(0,l.hexToNumber)((0,u.slice)(w,0,1));if(b!==32)throw new s.InvalidVersionedHashSizeError({hash:w,size:b});if(g!==t.versionedHashVersionKzg)throw new s.InvalidVersionedHashVersionError({hash:w,version:g})}}h(y)}function h(y){const{chainId:E,maxPriorityFeePerGas:w,maxFeePerGas:b,to:g}=y;if(E<=0)throw new i.InvalidChainIdError({chainId:E});if(g&&!(0,a.isAddress)(g))throw new r.InvalidAddressError({address:g});if(b&&b>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:b});if(w&&b&&w>b)throw new o.TipAboveFeeCapError({maxFeePerGas:b,maxPriorityFeePerGas:w})}function p(y){const{chainId:E,maxPriorityFeePerGas:w,gasPrice:b,maxFeePerGas:g,to:v}=y;if(E<=0)throw new i.InvalidChainIdError({chainId:E});if(v&&!(0,a.isAddress)(v))throw new r.InvalidAddressError({address:v});if(w||g)throw new n.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(b&&b>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:b})}function m(y){const{chainId:E,maxPriorityFeePerGas:w,gasPrice:b,maxFeePerGas:g,to:v}=y;if(v&&!(0,a.isAddress)(v))throw new r.InvalidAddressError({address:v});if(typeof E<"u"&&E<=0)throw new i.InvalidChainIdError({chainId:E});if(w||g)throw new n.BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(b&&b>e.maxUint256)throw new o.FeeCapTooHighError({maxFeePerGas:b})}return vl}var t2={},mq;function S4(){if(mq)return t2;mq=1,Object.defineProperty(t2,"__esModule",{value:!0}),t2.serializeAccessList=n;const t=ga(),e=Ii(),r=Ci();function n(s){if(!s||s.length===0)return[];const i=[];for(let o=0;o<s.length;o++){const{address:a,storageKeys:c}=s[o];for(let u=0;u<c.length;u++)if(c[u].length-2!==64)throw new e.InvalidStorageKeySizeError({storageKey:c[u]});if(!(0,r.isAddress)(a,{strict:!1}))throw new t.InvalidAddressError({address:a});i.push([a,c])}return i}return t2}var gq;function r6(){if(gq)return ub;gq=1,Object.defineProperty(ub,"__esModule",{value:!0}),ub.serializeTransaction=h,ub.toYParitySignatureArray=b;const t=Ii(),e=dre(),r=$P(),n=VP(),s=n4(),i=GP(),o=jn(),a=Gu(),c=ze(),u=EE(),l=t6(),d=WP(),f=S4();function h(g,v){const A=(0,d.getTransactionType)(g);return A==="eip1559"?y(g,v):A==="eip2930"?E(g,v):A==="eip4844"?m(g,v):A==="eip7702"?p(g,v):w(g,v)}function p(g,v){const{authorizationList:A,chainId:C,gas:x,nonce:T,to:N,value:M,maxFeePerGas:k,maxPriorityFeePerGas:B,accessList:U,data:I}=g;(0,l.assertTransactionEIP7702)(g);const S=(0,f.serializeAccessList)(U),_=(0,e.serializeAuthorizationList)(A);return(0,o.concatHex)(["0x04",(0,u.toRlp)([(0,c.numberToHex)(C),T?(0,c.numberToHex)(T):"0x",B?(0,c.numberToHex)(B):"0x",k?(0,c.numberToHex)(k):"0x",x?(0,c.numberToHex)(x):"0x",N??"0x",M?(0,c.numberToHex)(M):"0x",I??"0x",S,_,...b(g,v)])])}function m(g,v){const{chainId:A,gas:C,nonce:x,to:T,value:N,maxFeePerBlobGas:M,maxFeePerGas:k,maxPriorityFeePerGas:B,accessList:U,data:I}=g;(0,l.assertTransactionEIP4844)(g);let S=g.blobVersionedHashes,_=g.sidecars;if(g.blobs&&(typeof S>"u"||typeof _>"u")){const F=typeof g.blobs[0]=="string"?g.blobs:g.blobs.map(W=>(0,c.bytesToHex)(W)),q=g.kzg,z=(0,r.blobsToCommitments)({blobs:F,kzg:q});if(typeof S>"u"&&(S=(0,s.commitmentsToVersionedHashes)({commitments:z})),typeof _>"u"){const W=(0,n.blobsToProofs)({blobs:F,commitments:z,kzg:q});_=(0,i.toBlobSidecars)({blobs:F,commitments:z,proofs:W})}}const R=(0,f.serializeAccessList)(U),O=[(0,c.numberToHex)(A),x?(0,c.numberToHex)(x):"0x",B?(0,c.numberToHex)(B):"0x",k?(0,c.numberToHex)(k):"0x",C?(0,c.numberToHex)(C):"0x",T??"0x",N?(0,c.numberToHex)(N):"0x",I??"0x",R,M?(0,c.numberToHex)(M):"0x",S??[],...b(g,v)],P=[],D=[],j=[];if(_)for(let F=0;F<_.length;F++){const{blob:q,commitment:z,proof:W}=_[F];P.push(q),D.push(z),j.push(W)}return(0,o.concatHex)(["0x03",_?(0,u.toRlp)([O,P,D,j]):(0,u.toRlp)(O)])}function y(g,v){const{chainId:A,gas:C,nonce:x,to:T,value:N,maxFeePerGas:M,maxPriorityFeePerGas:k,accessList:B,data:U}=g;(0,l.assertTransactionEIP1559)(g);const I=(0,f.serializeAccessList)(B),S=[(0,c.numberToHex)(A),x?(0,c.numberToHex)(x):"0x",k?(0,c.numberToHex)(k):"0x",M?(0,c.numberToHex)(M):"0x",C?(0,c.numberToHex)(C):"0x",T??"0x",N?(0,c.numberToHex)(N):"0x",U??"0x",I,...b(g,v)];return(0,o.concatHex)(["0x02",(0,u.toRlp)(S)])}function E(g,v){const{chainId:A,gas:C,data:x,nonce:T,to:N,value:M,accessList:k,gasPrice:B}=g;(0,l.assertTransactionEIP2930)(g);const U=(0,f.serializeAccessList)(k),I=[(0,c.numberToHex)(A),T?(0,c.numberToHex)(T):"0x",B?(0,c.numberToHex)(B):"0x",C?(0,c.numberToHex)(C):"0x",N??"0x",M?(0,c.numberToHex)(M):"0x",x??"0x",U,...b(g,v)];return(0,o.concatHex)(["0x01",(0,u.toRlp)(I)])}function w(g,v){const{chainId:A=0,gas:C,data:x,nonce:T,to:N,value:M,gasPrice:k}=g;(0,l.assertTransactionLegacy)(g);let B=[T?(0,c.numberToHex)(T):"0x",k?(0,c.numberToHex)(k):"0x",C?(0,c.numberToHex)(C):"0x",N??"0x",M?(0,c.numberToHex)(M):"0x",x??"0x"];if(v){const U=(()=>{if(v.v>=35n)return(v.v-35n)/2n>0?v.v:27n+(v.v===35n?0n:1n);if(A>0)return BigInt(A*2)+BigInt(35n+v.v-27n);const _=27n+(v.v===27n?0n:1n);if(v.v!==_)throw new t.InvalidLegacyVError({v:v.v});return _})(),I=(0,a.trim)(v.r),S=(0,a.trim)(v.s);B=[...B,(0,c.numberToHex)(U),I==="0x00"?"0x":I,S==="0x00"?"0x":S]}else A>0&&(B=[...B,(0,c.numberToHex)(A),"0x","0x"]);return(0,u.toRlp)(B)}function b(g,v){const A=v??g,{v:C,yParity:x}=A;if(typeof A.r>"u")return[];if(typeof A.s>"u")return[];if(typeof C>"u"&&typeof x>"u")return[];const T=(0,a.trim)(A.r),N=(0,a.trim)(A.s);return[typeof x=="number"?x?(0,c.numberToHex)(1):"0x":C===0n?"0x":C===1n?(0,c.numberToHex)(1):C===27n?"0x":(0,c.numberToHex)(1),T==="0x00"?"0x":T,N==="0x00"?"0x":N]}return ub}var yq;function dre(){if(yq)return e2;yq=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.serializeAuthorizationList=r;const t=ze(),e=r6();function r(n){if(!n||n.length===0)return[];const s=[];for(const i of n){const{chainId:o,nonce:a,...c}=i,u=i.address;s.push([o?(0,t.toHex)(o):"0x",u,a?(0,t.toHex)(a):"0x",...(0,e.toYParitySignatureArray)({},c)])}return s}return e2}var r2={},bq;function fre(){if(bq)return r2;bq=1,Object.defineProperty(r2,"__esModule",{value:!0}),r2.verifyAuthorization=n;const t=ro(),e=va(),r=vE();async function n({address:s,authorization:i,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(s),await(0,r.recoverAuthorizationAddress)({authorization:i,signature:o}))}return r2}var lb={},yO={},wq;function Y3e(){return wq||(wq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.promiseCache=void 0,t.withDedupe=r;const e=_p();t.promiseCache=new e.LruMap(8192);function r(n,{enabled:s=!0,id:i}){if(!s||!i)return n();if(t.promiseCache.get(i))return t.promiseCache.get(i);const o=n().finally(()=>t.promiseCache.delete(i));return t.promiseCache.set(i,o),o}})(yO)),yO}var Eq;function hre(){if(Eq)return lb;Eq=1,Object.defineProperty(lb,"__esModule",{value:!0}),lb.buildRequest=a,lb.shouldRetry=c;const t=yt(),e=ba(),r=Ld(),n=ze(),s=Y3e(),i=XP(),o=Xn();function a(u,l={}){return async(d,f={})=>{var g;const{dedupe:h=!1,methods:p,retryDelay:m=150,retryCount:y=3,uid:E}={...l,...f},{method:w}=d;if((g=p==null?void 0:p.exclude)!=null&&g.includes(w))throw new r.MethodNotSupportedRpcError(new Error("method not supported"),{method:w});if(p!=null&&p.include&&!p.include.includes(w))throw new r.MethodNotSupportedRpcError(new Error("method not supported"),{method:w});const b=h?(0,n.stringToHex)(`${E}.${(0,o.stringify)(d)}`):void 0;return(0,s.withDedupe)(()=>(0,i.withRetry)(async()=>{try{return await u(d)}catch(v){const A=v;switch(A.code){case r.ParseRpcError.code:throw new r.ParseRpcError(A);case r.InvalidRequestRpcError.code:throw new r.InvalidRequestRpcError(A);case r.MethodNotFoundRpcError.code:throw new r.MethodNotFoundRpcError(A,{method:d.method});case r.InvalidParamsRpcError.code:throw new r.InvalidParamsRpcError(A);case r.InternalRpcError.code:throw new r.InternalRpcError(A);case r.InvalidInputRpcError.code:throw new r.InvalidInputRpcError(A);case r.ResourceNotFoundRpcError.code:throw new r.ResourceNotFoundRpcError(A);case r.ResourceUnavailableRpcError.code:throw new r.ResourceUnavailableRpcError(A);case r.TransactionRejectedRpcError.code:throw new r.TransactionRejectedRpcError(A);case r.MethodNotSupportedRpcError.code:throw new r.MethodNotSupportedRpcError(A,{method:d.method});case r.LimitExceededRpcError.code:throw new r.LimitExceededRpcError(A);case r.JsonRpcVersionUnsupportedError.code:throw new r.JsonRpcVersionUnsupportedError(A);case r.UserRejectedRequestError.code:throw new r.UserRejectedRequestError(A);case r.UnauthorizedProviderError.code:throw new r.UnauthorizedProviderError(A);case r.UnsupportedProviderMethodError.code:throw new r.UnsupportedProviderMethodError(A);case r.ProviderDisconnectedError.code:throw new r.ProviderDisconnectedError(A);case r.ChainDisconnectedError.code:throw new r.ChainDisconnectedError(A);case r.SwitchChainError.code:throw new r.SwitchChainError(A);case r.UnsupportedNonOptionalCapabilityError.code:throw new r.UnsupportedNonOptionalCapabilityError(A);case r.UnsupportedChainIdError.code:throw new r.UnsupportedChainIdError(A);case r.DuplicateIdError.code:throw new r.DuplicateIdError(A);case r.UnknownBundleIdError.code:throw new r.UnknownBundleIdError(A);case r.BundleTooLargeError.code:throw new r.BundleTooLargeError(A);case r.AtomicReadyWalletRejectedUpgradeError.code:throw new r.AtomicReadyWalletRejectedUpgradeError(A);case r.AtomicityNotSupportedError.code:throw new r.AtomicityNotSupportedError(A);case 5e3:throw new r.UserRejectedRequestError(A);default:throw v instanceof t.BaseError?v:new r.UnknownRpcError(A)}}},{delay:({count:v,error:A})=>{var C;if(A&&A instanceof e.HttpRequestError){const x=(C=A==null?void 0:A.headers)==null?void 0:C.get("Retry-After");if(x!=null&&x.match(/\d/))return Number.parseInt(x,10)*1e3}return~~(1<<v)*m},retryCount:y,shouldRetry:({error:v})=>c(v)}),{enabled:h,id:b})}}function c(u){return"code"in u&&typeof u.code=="number"?u.code===-1||u.code===r.LimitExceededRpcError.code||u.code===r.InternalRpcError.code:u instanceof e.HttpRequestError&&u.status?u.status===403||u.status===408||u.status===413||u.status===429||u.status===500||u.status===502||u.status===503||u.status===504:!0}return lb}var n2={},vq;function pre(){if(vq)return n2;vq=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.defineChain=t;function t(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}return n2}var s2={},_q;function mre(){if(_q)return s2;_q=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.extractChain=t;function t({chains:e,id:r}){return e.find(n=>n.id===r)}return s2}var i2={},Aq;function I4(){if(Aq)return i2;Aq=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.fromRlp=i;const t=yt(),e=Tg(),r=mE(),n=Cr(),s=ze();function i(u,l="hex"){const d=(()=>{if(typeof u=="string"){if(u.length>3&&u.length%2!==0)throw new e.InvalidHexValueError(u);return(0,n.hexToBytes)(u)}return u})(),f=(0,r.createCursor)(d,{recursiveReadLimit:Number.POSITIVE_INFINITY});return o(f,l)}function o(u,l="hex"){if(u.bytes.length===0)return l==="hex"?(0,s.bytesToHex)(u.bytes):u.bytes;const d=u.readByte();if(d<128&&u.decrementPosition(1),d<192){const h=a(u,d,128),p=u.readBytes(h);return l==="hex"?(0,s.bytesToHex)(p):p}const f=a(u,d,192);return c(u,f,l)}function a(u,l,d){if(d===128&&l<128)return 1;if(l<=d+55)return l-d;if(l===d+55+1)return u.readUint8();if(l===d+55+2)return u.readUint16();if(l===d+55+3)return u.readUint24();if(l===d+55+4)return u.readUint32();throw new t.BaseError("Invalid RLP prefix")}function c(u,l,d){const f=u.position,h=[];for(;u.position-f<l;)h.push(o(u,d));return h}return i2}var o2={},Cq;function T4(){if(Cq)return o2;Cq=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.isHash=r;const t=$s(),e=_i();function r(n){return(0,t.isHex)(n)&&(0,e.size)(n)===32}return o2}var a2={},Cf={},Ss={},Sq;function J3e(){if(Sq)return Ss;Sq=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.ripemd160=Ss.RIPEMD160=Ss.md5=Ss.MD5=Ss.sha1=Ss.SHA1=void 0;const t=kte(),e=ma(),r=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),n=new Uint32Array(80);class s extends t.HashMD{constructor(){super(64,20,8,!1),this.A=r[0]|0,this.B=r[1]|0,this.C=r[2]|0,this.D=r[3]|0,this.E=r[4]|0}get(){const{A:T,B:N,C:M,D:k,E:B}=this;return[T,N,M,k,B]}set(T,N,M,k,B){this.A=T|0,this.B=N|0,this.C=M|0,this.D=k|0,this.E=B|0}process(T,N){for(let S=0;S<16;S++,N+=4)n[S]=T.getUint32(N,!1);for(let S=16;S<80;S++)n[S]=(0,e.rotl)(n[S-3]^n[S-8]^n[S-14]^n[S-16],1);let{A:M,B:k,C:B,D:U,E:I}=this;for(let S=0;S<80;S++){let _,R;S<20?(_=(0,t.Chi)(k,B,U),R=1518500249):S<40?(_=k^B^U,R=1859775393):S<60?(_=(0,t.Maj)(k,B,U),R=2400959708):(_=k^B^U,R=3395469782);const O=(0,e.rotl)(M,5)+_+I+R+n[S]|0;I=U,U=B,B=(0,e.rotl)(k,30),k=M,M=O}M=M+this.A|0,k=k+this.B|0,B=B+this.C|0,U=U+this.D|0,I=I+this.E|0,this.set(M,k,B,U,I)}roundClean(){(0,e.clean)(n)}destroy(){this.set(0,0,0,0,0),(0,e.clean)(this.buffer)}}Ss.SHA1=s,Ss.sha1=(0,e.createHasher)(()=>new s);const i=Math.pow(2,32),o=Array.from({length:64},(x,T)=>Math.floor(i*Math.abs(Math.sin(T+1)))),a=r.slice(0,4),c=new Uint32Array(16);class u extends t.HashMD{constructor(){super(64,16,8,!0),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0}get(){const{A:T,B:N,C:M,D:k}=this;return[T,N,M,k]}set(T,N,M,k){this.A=T|0,this.B=N|0,this.C=M|0,this.D=k|0}process(T,N){for(let I=0;I<16;I++,N+=4)c[I]=T.getUint32(N,!0);let{A:M,B:k,C:B,D:U}=this;for(let I=0;I<64;I++){let S,_,R;I<16?(S=(0,t.Chi)(k,B,U),_=I,R=[7,12,17,22]):I<32?(S=(0,t.Chi)(U,k,B),_=(5*I+1)%16,R=[5,9,14,20]):I<48?(S=k^B^U,_=(3*I+5)%16,R=[4,11,16,23]):(S=B^(k|~U),_=7*I%16,R=[6,10,15,21]),S=S+M+o[I]+c[_],M=U,U=B,B=k,k=k+(0,e.rotl)(S,R[I%4])}M=M+this.A|0,k=k+this.B|0,B=B+this.C|0,U=U+this.D|0,this.set(M,k,B,U)}roundClean(){(0,e.clean)(c)}destroy(){this.set(0,0,0,0),(0,e.clean)(this.buffer)}}Ss.MD5=u,Ss.md5=(0,e.createHasher)(()=>new u);const l=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),d=Uint8Array.from(new Array(16).fill(0).map((x,T)=>T)),f=d.map(x=>(9*x+5)%16),h=(()=>{const N=[[d],[f]];for(let M=0;M<4;M++)for(let k of N)k.push(k[M].map(B=>l[B]));return N})(),p=h[0],m=h[1],y=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(x=>Uint8Array.from(x)),E=p.map((x,T)=>x.map(N=>y[T][N])),w=m.map((x,T)=>x.map(N=>y[T][N])),b=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),g=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function v(x,T,N,M){return x===0?T^N^M:x===1?T&N|~T&M:x===2?(T|~N)^M:x===3?T&M|N&~M:T^(N|~M)}const A=new Uint32Array(16);class C extends t.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:T,h1:N,h2:M,h3:k,h4:B}=this;return[T,N,M,k,B]}set(T,N,M,k,B){this.h0=T|0,this.h1=N|0,this.h2=M|0,this.h3=k|0,this.h4=B|0}process(T,N){for(let D=0;D<16;D++,N+=4)A[D]=T.getUint32(N,!0);let M=this.h0|0,k=M,B=this.h1|0,U=B,I=this.h2|0,S=I,_=this.h3|0,R=_,O=this.h4|0,P=O;for(let D=0;D<5;D++){const j=4-D,F=b[D],q=g[D],z=p[D],W=m[D],K=E[D],re=w[D];for(let Q=0;Q<16;Q++){const X=(0,e.rotl)(M+v(D,B,I,_)+A[z[Q]]+F,K[Q])+O|0;M=O,O=_,_=(0,e.rotl)(I,10)|0,I=B,B=X}for(let Q=0;Q<16;Q++){const X=(0,e.rotl)(k+v(j,U,S,R)+A[W[Q]]+q,re[Q])+P|0;k=P,P=R,R=(0,e.rotl)(S,10)|0,S=U,U=X}}this.set(this.h1+I+R|0,this.h2+_+P|0,this.h3+O+k|0,this.h4+M+U|0,this.h0+B+S|0)}roundClean(){(0,e.clean)(A)}destroy(){this.destroyed=!0,(0,e.clean)(this.buffer),this.set(0,0,0,0,0)}}return Ss.RIPEMD160=C,Ss.ripemd160=(0,e.createHasher)(()=>new C),Ss}var Iq;function gre(){if(Iq)return Cf;Iq=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.ripemd160=Cf.RIPEMD160=void 0;const t=J3e();return Cf.RIPEMD160=t.RIPEMD160,Cf.ripemd160=t.ripemd160,Cf}var Tq;function yre(){if(Tq)return a2;Tq=1,Object.defineProperty(a2,"__esModule",{value:!0}),a2.ripemd160=s;const t=gre(),e=$s(),r=Cr(),n=ze();function s(i,o){const a=o||"hex",c=(0,t.ripemd160)((0,e.isHex)(i,{strict:!1})?(0,r.toBytes)(i):i);return a==="bytes"?c:(0,n.toHex)(c)}return a2}var bO={},Pq;function bre(){return Pq||(Pq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toEventHash=void 0;var e=DP();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return e.toSignatureHash}})})(bO)),bO}var wO={},xq;function wre(){return xq||(xq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toEventSignature=void 0;var e=z3();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return e.toSignature}})})(wO)),wO}var EO={},Oq;function Ere(){return Oq||(Oq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toFunctionHash=void 0;var e=DP();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return e.toSignatureHash}})})(EO)),EO}var vO={},Rq;function vre(){return Rq||(Rq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toFunctionSignature=void 0;var e=z3();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return e.toSignature}})})(vO)),vO}var Sf={},Nq;function _re(){if(Nq)return Sf;Nq=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.nonceManager=void 0,Sf.createNonceManager=r,Sf.jsonRpc=n;const t=zP(),e=_p();function r(s){const{source:i}=s,o=new Map,a=new e.LruMap(8192),c=new Map,u=({address:l,chainId:d})=>`${l}.${d}`;return{async consume({address:l,chainId:d,client:f}){const h=u({address:l,chainId:d}),p=this.get({address:l,chainId:d,client:f});this.increment({address:l,chainId:d});const m=await p;return await i.set({address:l,chainId:d},m),a.set(h,m),m},async increment({address:l,chainId:d}){const f=u({address:l,chainId:d}),h=o.get(f)??0;o.set(f,h+1)},async get({address:l,chainId:d,client:f}){const h=u({address:l,chainId:d});let p=c.get(h);return p||(p=(async()=>{try{const y=await i.get({address:l,chainId:d,client:f}),E=a.get(h)??0;return E>0&&y<=E?E+1:(a.delete(h),y)}finally{this.reset({address:l,chainId:d})}})(),c.set(h,p)),(o.get(h)??0)+await p},reset({address:l,chainId:d}){const f=u({address:l,chainId:d});o.delete(f),c.delete(f)}}}function n(){return{async get(s){const{address:i,client:o}=s;return(0,t.getTransactionCount)(o,{address:i,blockTag:"pending"})},set(){}}}return Sf.nonceManager=r({source:n()}),Sf}var c0={},c2={},u2={},Bq;function P4(){if(Bq)return u2;Bq=1,Object.defineProperty(u2,"__esModule",{value:!0}),u2.withTimeout=t;function t(e,{errorInstance:r=new Error("timed out"),timeout:n,signal:s}){return new Promise((i,o)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{s?c.abort():o(r)},n)),i(await e({signal:(c==null?void 0:c.signal)||null}))}catch(c){(c==null?void 0:c.name)==="AbortError"&&o(r),o(c)}finally{clearTimeout(a)}})()})}return u2}var db={},kq;function Are(){if(kq)return db;kq=1,Object.defineProperty(db,"__esModule",{value:!0}),db.idCache=void 0;function t(){return{current:0,take(){return this.current++},reset(){this.current=0}}}return db.idCache=t(),db}var jq;function x4(){if(jq)return c2;jq=1,Object.defineProperty(c2,"__esModule",{value:!0}),c2.getHttpRpcClient=s;const t=ba(),e=P4(),r=Xn(),n=Are();function s(i,o={}){return{async request(a){var E;const{body:c,fetchFn:u=o.fetchFn??fetch,onRequest:l=o.onRequest,onResponse:d=o.onResponse,timeout:f=o.timeout??1e4}=a,h={...o.fetchOptions??{},...a.fetchOptions??{}},{headers:p,method:m,signal:y}=h;try{const w=await(0,e.withTimeout)(async({signal:g})=>{const v={...h,body:Array.isArray(c)?(0,r.stringify)(c.map(T=>({jsonrpc:"2.0",id:T.id??n.idCache.take(),...T}))):(0,r.stringify)({jsonrpc:"2.0",id:c.id??n.idCache.take(),...c}),headers:{"Content-Type":"application/json",...p},method:m||"POST",signal:y||(f>0?g:null)},A=new Request(i,v),C=await(l==null?void 0:l(A,v))??{...v,url:i};return await u(C.url??i,C)},{errorInstance:new t.TimeoutError({body:c,url:i}),timeout:f,signal:!0});d&&await d(w);let b;if((E=w.headers.get("Content-Type"))!=null&&E.startsWith("application/json"))b=await w.json();else{b=await w.text();try{b=JSON.parse(b||"{}")}catch(g){if(w.ok)throw g;b={error:b}}}if(!w.ok)throw new t.HttpRequestError({body:c,details:(0,r.stringify)(b.error)||w.statusText,headers:w.headers,status:w.status,url:i});return b}catch(w){throw w instanceof t.HttpRequestError||w instanceof t.TimeoutError?w:new t.HttpRequestError({body:c,cause:w,url:i})}}}}return c2}var l2={},_O={},Dq;function Cre(){return Dq||(Dq=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.socketClientCache=void 0,t.getSocketRpcClient=i;const e=ba(),r=l4(),n=P4(),s=Are();t.socketClientCache=new Map;async function i(o){const{getSocket:a,keepAlive:c=!0,key:u="socket",reconnect:l=!0,url:d}=o,{interval:f=3e4}=typeof c=="object"?c:{},{attempts:h=5,delay:p=2e3}=typeof l=="object"?l:{},m=JSON.stringify({keepAlive:c,key:u,url:d,reconnect:l});let y=t.socketClientCache.get(m);if(y)return y;let E=0;const{schedule:w}=(0,r.createBatchScheduler)({id:m,fn:async()=>{const v=new Map,A=new Map;let C,x,T,N=!1;function M(){if(l&&E<h){if(N)return;N=!0,E++,x==null||x.close(),setTimeout(async()=>{await k().catch(console.error),N=!1},p)}else v.clear(),A.clear()}async function k(){const B=await a({onClose(){var U,I;for(const S of v.values())(U=S.onError)==null||U.call(S,new e.SocketClosedError({url:d}));for(const S of A.values())(I=S.onError)==null||I.call(S,new e.SocketClosedError({url:d}));M()},onError(U){var I,S;C=U;for(const _ of v.values())(I=_.onError)==null||I.call(_,C);for(const _ of A.values())(S=_.onError)==null||S.call(_,C);M()},onOpen(){C=void 0,E=0},onResponse(U){const I=U.method==="eth_subscription",S=I?U.params.subscription:U.id,_=I?A:v,R=_.get(S);R&&R.onResponse(U),I||_.delete(S)}});if(x=B,c&&(T&&clearInterval(T),T=setInterval(()=>{var U;return(U=x.ping)==null?void 0:U.call(x)},f)),l&&A.size>0){const U=A.entries();for(const[I,{onResponse:S,body:_,onError:R}]of U)_&&(A.delete(I),y==null||y.request({body:_,onResponse:S,onError:R}))}return B}return await k(),C=void 0,y={close(){T&&clearInterval(T),x.close(),t.socketClientCache.delete(m)},get socket(){return x},request({body:B,onError:U,onResponse:I}){C&&U&&U(C);const S=B.id??s.idCache.take(),_=R=>{var O;typeof R.id=="number"&&S!==R.id||(B.method==="eth_subscribe"&&typeof R.result=="string"&&A.set(R.result,{onResponse:_,onError:U,body:B}),B.method==="eth_unsubscribe"&&A.delete((O=B.params)==null?void 0:O[0]),I(R))};v.set(S,{onResponse:_,onError:U});try{x.request({body:{jsonrpc:"2.0",id:S,...B}})}catch(R){U==null||U(R)}},requestAsync({body:B,timeout:U=1e4}){return(0,n.withTimeout)(()=>new Promise((I,S)=>this.request({body:B,onError:S,onResponse:I})),{errorInstance:new e.TimeoutError({body:B,url:d}),timeout:U})},requests:v,subscriptions:A,url:d},t.socketClientCache.set(m,y),[y]}}),[b,[g]]=await w();return g}})(_O)),_O}function Q3e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const X3e=Q3e(),e4e=Object.freeze(Object.defineProperty({__proto__:null,WebSocket:X3e},Symbol.toStringTag,{value:"Module"})),t4e=VK(e4e);var Mq;function O4(){if(Mq)return l2;Mq=1,Object.defineProperty(l2,"__esModule",{value:!0}),l2.getWebSocketRpcClient=r;const t=ba(),e=Cre();async function r(n,s={}){const{keepAlive:i,reconnect:o}=s;return(0,e.getSocketRpcClient)({async getSocket({onClose:a,onError:c,onOpen:u,onResponse:l}){const d=await Promise.resolve().then(()=>t4e).then(y=>y.WebSocket),f=new d(n);function h(){f.removeEventListener("close",h),f.removeEventListener("message",p),f.removeEventListener("error",c),f.removeEventListener("open",u),a()}function p({data:y}){if(!(typeof y=="string"&&y.trim().length===0))try{const E=JSON.parse(y);l(E)}catch(E){c(E)}}f.addEventListener("close",h),f.addEventListener("message",p),f.addEventListener("error",c),f.addEventListener("open",u),f.readyState===d.CONNECTING&&await new Promise((y,E)=>{f&&(f.onopen=y,f.onerror=E)});const{close:m}=f;return Object.assign(f,{close(){m.bind(f)(),h()},ping(){try{if(f.readyState===f.CLOSED||f.readyState===f.CLOSING)throw new t.WebSocketRequestError({url:f.url,cause:new t.SocketClosedError({url:f.url})});const y={jsonrpc:"2.0",id:null,method:"net_version",params:[]};f.send(JSON.stringify(y))}catch(y){c(y)}},request({body:y}){if(f.readyState===f.CLOSED||f.readyState===f.CLOSING)throw new t.WebSocketRequestError({body:y,url:f.url,cause:new t.SocketClosedError({url:f.url})});return f.send(JSON.stringify(y))}})},keepAlive:i,reconnect:o,url:n})}return l2}var Uq;function Sre(){if(Uq)return c0;Uq=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.rpc=void 0,c0.getSocket=s;const t=x4(),e=O4();function r(i,{body:o,onError:a,onResponse:c}){return i.request({body:o,onError:a,onResponse:c}),i}async function n(i,{body:o,timeout:a=1e4}){return i.requestAsync({body:o,timeout:a})}async function s(i){const o=await(0,e.getWebSocketRpcClient)(i);return Object.assign(o.socket,{requests:o.requests,subscriptions:o.subscriptions})}return c0.rpc={http(i,o){return(0,t.getHttpRpcClient)(i).request(o)},webSocket:r,webSocketAsync:n},c0}var d2={},f2={},fb={},Lq;function Ire(){return Lq||(Lq=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.presignMessagePrefix=void 0,fb.presignMessagePrefix=`Ethereum Signed Message:
`),fb}var Fq;function Tre(){if(Fq)return f2;Fq=1,Object.defineProperty(f2,"__esModule",{value:!0}),f2.toPrefixedMessage=s;const t=Ire(),e=jn(),r=_i(),n=ze();function s(i){const o=typeof i=="string"?(0,n.stringToHex)(i):typeof i.raw=="string"?i.raw:(0,n.bytesToHex)(i.raw),a=(0,n.stringToHex)(`${t.presignMessagePrefix}${(0,r.size)(o)}`);return(0,e.concat)([a,o])}return f2}var Hq;function DE(){if(Hq)return d2;Hq=1,Object.defineProperty(d2,"__esModule",{value:!0}),d2.hashMessage=r;const t=Ai(),e=Tre();function r(n,s){return(0,t.keccak256)((0,e.toPrefixedMessage)(n),s)}return d2}var If={},Tf={},Gc={},qq;function Pre(){if(qq)return Gc;qq=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.InvalidStructTypeError=Gc.InvalidPrimaryTypeError=Gc.InvalidDomainError=void 0;const t=Xn(),e=yt();class r extends e.BaseError{constructor({domain:o}){super(`Invalid domain "${(0,t.stringify)(o)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}Gc.InvalidDomainError=r;class n extends e.BaseError{constructor({primaryType:o,types:a}){super(`Invalid primary type \`${o}\` must be one of \`${JSON.stringify(Object.keys(a))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}Gc.InvalidPrimaryTypeError=n;class s extends e.BaseError{constructor({type:o}){super(`Struct type "${o}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}return Gc.InvalidStructTypeError=s,Gc}var zq;function n6(){if(zq)return Tf;zq=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.serializeTypedData=u,Tf.validateTypedData=l,Tf.getTypesForEIP712Domain=d,Tf.domainSeparator=f;const t=Hr(),e=ga(),r=Pre(),n=Ci(),s=_i(),i=ze(),o=MP(),a=ME(),c=Xn();function u(p){const{domain:m,message:y,primaryType:E,types:w}=p,b=(A,C)=>{const x={...C};for(const T of A){const{name:N,type:M}=T;M==="address"&&(x[N]=x[N].toLowerCase())}return x},g=w.EIP712Domain?m?b(w.EIP712Domain,m):{}:{},v=(()=>{if(E!=="EIP712Domain")return b(w[E],y)})();return(0,c.stringify)({domain:g,message:v,primaryType:E,types:w})}function l(p){const{domain:m,message:y,primaryType:E,types:w}=p,b=(g,v)=>{for(const A of g){const{name:C,type:x}=A,T=v[C],N=x.match(o.integerRegex);if(N&&(typeof T=="number"||typeof T=="bigint")){const[B,U,I]=N;(0,i.numberToHex)(T,{signed:U==="int",size:Number.parseInt(I,10)/8})}if(x==="address"&&typeof T=="string"&&!(0,n.isAddress)(T))throw new e.InvalidAddressError({address:T});const M=x.match(o.bytesRegex);if(M){const[B,U]=M;if(U&&(0,s.size)(T)!==Number.parseInt(U,10))throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(U,10),givenSize:(0,s.size)(T)})}const k=w[x];k&&(h(x),b(k,T))}};if(w.EIP712Domain&&m){if(typeof m!="object")throw new r.InvalidDomainError({domain:m});b(w.EIP712Domain,m)}if(E!=="EIP712Domain")if(w[E])b(w[E],y);else throw new r.InvalidPrimaryTypeError({primaryType:E,types:w})}function d({domain:p}){return[typeof(p==null?void 0:p.name)=="string"&&{name:"name",type:"string"},(p==null?void 0:p.version)&&{name:"version",type:"string"},(typeof(p==null?void 0:p.chainId)=="number"||typeof(p==null?void 0:p.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(p==null?void 0:p.verifyingContract)&&{name:"verifyingContract",type:"address"},(p==null?void 0:p.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function f({domain:p}){return(0,a.hashDomain)({domain:p,types:{EIP712Domain:d({domain:p})}})}function h(p){if(p==="address"||p==="bool"||p==="string"||p.startsWith("bytes")||p.startsWith("uint")||p.startsWith("int"))throw new r.InvalidStructTypeError({type:p})}return Tf}var $q;function ME(){if($q)return If;$q=1,Object.defineProperty(If,"__esModule",{value:!0}),If.hashTypedData=i,If.hashDomain=o,If.hashStruct=a,If.encodeType=l;const t=ya(),e=jn(),r=ze(),n=Ai(),s=n6();function i(h){const{domain:p={},message:m,primaryType:y}=h,E={EIP712Domain:(0,s.getTypesForEIP712Domain)({domain:p}),...h.types};(0,s.validateTypedData)({domain:p,message:m,primaryType:y,types:E});const w=["0x1901"];return p&&w.push(o({domain:p,types:E})),y!=="EIP712Domain"&&w.push(a({data:m,primaryType:y,types:E})),(0,n.keccak256)((0,e.concat)(w))}function o({domain:h,types:p}){return a({data:h,primaryType:"EIP712Domain",types:p})}function a({data:h,primaryType:p,types:m}){const y=c({data:h,primaryType:p,types:m});return(0,n.keccak256)(y)}function c({data:h,primaryType:p,types:m}){const y=[{type:"bytes32"}],E=[u({primaryType:p,types:m})];for(const w of m[p]){const[b,g]=f({types:m,name:w.name,type:w.type,value:h[w.name]});y.push(b),E.push(g)}return(0,t.encodeAbiParameters)(y,E)}function u({primaryType:h,types:p}){const m=(0,r.toHex)(l({primaryType:h,types:p}));return(0,n.keccak256)(m)}function l({primaryType:h,types:p}){let m="";const y=d({primaryType:h,types:p});y.delete(h);const E=[h,...Array.from(y).sort()];for(const w of E)m+=`${w}(${p[w].map(({name:b,type:g})=>`${g} ${b}`).join(",")})`;return m}function d({primaryType:h,types:p},m=new Set){const y=h.match(/^\w*/u),E=y==null?void 0:y[0];if(m.has(E)||p[E]===void 0)return m;m.add(E);for(const w of p[E])d({primaryType:w.type,types:p},m);return m}function f({types:h,name:p,type:m,value:y}){if(h[m]!==void 0)return[{type:"bytes32"},(0,n.keccak256)(c({data:y,primaryType:m,types:h}))];if(m==="bytes")return[{type:"bytes32"},(0,n.keccak256)(y)];if(m==="string")return[{type:"bytes32"},(0,n.keccak256)((0,r.toHex)(y))];if(m.lastIndexOf("]")===m.length-1){const E=m.slice(0,m.lastIndexOf("[")),w=y.map(b=>f({name:p,type:E,types:h,value:b}));return[{type:"bytes32"},(0,n.keccak256)((0,t.encodeAbiParameters)(w.map(([b])=>b),w.map(([,b])=>b)))]}return[{type:m},y]}return If}var h2={},Pf={},Vq;function R4(){return Vq||(Vq=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.zeroHash=Pf.erc6492MagicBytes=void 0,Pf.erc6492MagicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",Pf.zeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),Pf}var Gq;function N4(){if(Gq)return h2;Gq=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.isErc6492Signature=r;const t=R4(),e=Oo();function r(n){return(0,e.sliceHex)(n,-32)===t.erc6492MagicBytes}return h2}var p2={},hb={},AO={},qr={},CO={},pb={},mb={},Wq;function r4e(){return Wq||(Wq=1,Object.defineProperty(mb,"__esModule",{value:!0}),mb.version=void 0,mb.version="1.2.0"),mb}var Kq;function Rg(){if(Kq)return pb;Kq=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.BaseError=void 0;const t=r4e();class e extends Error{constructor(n,s={}){var c;const i=s.cause instanceof e?s.cause.details:(c=s.cause)!=null&&c.message?s.cause.message:s.details,o=s.cause instanceof e&&s.cause.docsPath||s.docsPath,a=[n||"An error occurred.","",...s.metaMessages?[...s.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...i?[`Details: ${i}`]:[],`Version: abitype@${t.version}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),s.cause&&(this.cause=s.cause),this.details=i,this.docsPath=o,this.metaMessages=s.metaMessages,this.shortMessage=n}}return pb.BaseError=e,pb}var m2={},Zq;function n4e(){if(Zq)return m2;Zq=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.narrow=t;function t(e){return e}return m2}var g2={},y2={},b2={},w2={},Ra={},Yq;function s6(){if(Yq)return Ra;Yq=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.isTupleRegex=Ra.integerRegex=Ra.bytesRegex=void 0,Ra.execTyped=t;function t(e,r){const n=e.exec(r);return n==null?void 0:n.groups}return Ra.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ra.integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ra.isTupleRegex=/^\(.+?\).*?$/,Ra}var Jq;function xre(){if(Jq)return w2;Jq=1,Object.defineProperty(w2,"__esModule",{value:!0}),w2.formatAbiParameter=r;const t=s6(),e=/^tuple(?<array>(\[(\d*)\])*)$/;function r(n){let s=n.type;if(e.test(n.type)&&"components"in n){s="(";const i=n.components.length;for(let a=0;a<i;a++){const c=n.components[a];s+=r(c),a<i-1&&(s+=", ")}const o=(0,t.execTyped)(e,n.type);return s+=`)${(o==null?void 0:o.array)??""}`,r({...n,type:s})}return"indexed"in n&&n.indexed&&(s=`${s} indexed`),n.name?`${s} ${n.name}`:s}return w2}var Qq;function Ore(){if(Qq)return b2;Qq=1,Object.defineProperty(b2,"__esModule",{value:!0}),b2.formatAbiParameters=e;const t=xre();function e(r){let n="";const s=r.length;for(let i=0;i<s;i++){const o=r[i];n+=(0,t.formatAbiParameter)(o),i!==s-1&&(n+=", ")}return n}return b2}var Xq;function Rre(){if(Xq)return y2;Xq=1,Object.defineProperty(y2,"__esModule",{value:!0}),y2.formatAbiItem=e;const t=Ore();function e(r){var n;return r.type==="function"?`function ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability&&r.stateMutability!=="nonpayable"?` ${r.stateMutability}`:""}${(n=r.outputs)!=null&&n.length?` returns (${(0,t.formatAbiParameters)(r.outputs)})`:""}`:r.type==="event"?`event ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="error"?`error ${r.name}(${(0,t.formatAbiParameters)(r.inputs)})`:r.type==="constructor"?`constructor(${(0,t.formatAbiParameters)(r.inputs)})${r.stateMutability==="payable"?" payable":""}`:r.type==="fallback"?`fallback() external${r.stateMutability==="payable"?" payable":""}`:"receive() external payable"}return y2}var ez;function s4e(){if(ez)return g2;ez=1,Object.defineProperty(g2,"__esModule",{value:!0}),g2.formatAbi=e;const t=Rre();function e(r){const n=[],s=r.length;for(let i=0;i<s;i++){const o=r[i],a=(0,t.formatAbiItem)(o);n.push(a)}return n}return g2}var E2={},Jr={},tz;function Ng(){if(tz)return Jr;tz=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.functionModifiers=Jr.eventModifiers=Jr.modifiers=void 0,Jr.isErrorSignature=r,Jr.execErrorSignature=n,Jr.isEventSignature=i,Jr.execEventSignature=o,Jr.isFunctionSignature=c,Jr.execFunctionSignature=u,Jr.isStructSignature=d,Jr.execStructSignature=f,Jr.isConstructorSignature=p,Jr.execConstructorSignature=m,Jr.isFallbackSignature=E,Jr.execFallbackSignature=w,Jr.isReceiveSignature=g;const t=s6(),e=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function r(v){return e.test(v)}function n(v){return(0,t.execTyped)(e,v)}const s=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function i(v){return s.test(v)}function o(v){return(0,t.execTyped)(s,v)}const a=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function c(v){return a.test(v)}function u(v){return(0,t.execTyped)(a,v)}const l=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function d(v){return l.test(v)}function f(v){return(0,t.execTyped)(l,v)}const h=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function p(v){return h.test(v)}function m(v){return(0,t.execTyped)(h,v)}const y=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function E(v){return y.test(v)}function w(v){return(0,t.execTyped)(y,v)}const b=/^receive\(\) external payable$/;function g(v){return b.test(v)}return Jr.modifiers=new Set(["memory","indexed","storage","calldata"]),Jr.eventModifiers=new Set(["indexed"]),Jr.functionModifiers=new Set(["calldata","memory","storage"]),Jr}var v2={},Wc={},rz;function i6(){if(rz)return Wc;rz=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.UnknownSolidityTypeError=Wc.UnknownTypeError=Wc.InvalidAbiItemError=void 0;const t=Rg();class e extends t.BaseError{constructor({signature:i}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(i,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}Wc.InvalidAbiItemError=e;class r extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}Wc.UnknownTypeError=r;class n extends t.BaseError{constructor({type:i}){super("Unknown type.",{metaMessages:[`Type "${i}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}return Wc.UnknownSolidityTypeError=n,Wc}var Hn={},nz;function UE(){if(nz)return Hn;nz=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.InvalidAbiTypeParameterError=Hn.InvalidFunctionModifierError=Hn.InvalidModifierError=Hn.SolidityProtectedKeywordError=Hn.InvalidParameterError=Hn.InvalidAbiParametersError=Hn.InvalidAbiParameterError=void 0;const t=Rg();class e extends t.BaseError{constructor({param:u}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}Hn.InvalidAbiParameterError=e;class r extends t.BaseError{constructor({params:u}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(u,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}Hn.InvalidAbiParametersError=r;class n extends t.BaseError{constructor({param:u}){super("Invalid ABI parameter.",{details:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}Hn.InvalidParameterError=n;class s extends t.BaseError{constructor({param:u,name:l}){super("Invalid ABI parameter.",{details:u,metaMessages:[`"${l}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}Hn.SolidityProtectedKeywordError=s;class i extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}Hn.InvalidModifierError=i;class o extends t.BaseError{constructor({param:u,type:l,modifier:d}){super("Invalid ABI parameter.",{details:u,metaMessages:[`Modifier "${d}" not allowed${l?` in "${l}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${d}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}Hn.InvalidFunctionModifierError=o;class a extends t.BaseError{constructor({abiParameter:u}){super("Invalid ABI parameter.",{details:JSON.stringify(u,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}return Hn.InvalidAbiTypeParameterError=a,Hn}var Kc={},sz;function B4(){if(sz)return Kc;sz=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.InvalidStructSignatureError=Kc.UnknownSignatureError=Kc.InvalidSignatureError=void 0;const t=Rg();class e extends t.BaseError{constructor({signature:i,type:o}){super(`Invalid ${o} signature.`,{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}Kc.InvalidSignatureError=e;class r extends t.BaseError{constructor({signature:i}){super("Unknown signature.",{details:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}Kc.UnknownSignatureError=r;class n extends t.BaseError{constructor({signature:i}){super("Invalid struct signature.",{details:i,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}return Kc.InvalidStructSignatureError=n,Kc}var gb={},iz;function Nre(){if(iz)return gb;iz=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.CircularReferenceError=void 0;const t=Rg();class e extends t.BaseError{constructor({type:n}){super("Circular reference detected.",{metaMessages:[`Struct "${n}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}return gb.CircularReferenceError=e,gb}var Ys={},yb={},oz;function Bre(){if(oz)return yb;oz=1,Object.defineProperty(yb,"__esModule",{value:!0}),yb.InvalidParenthesisError=void 0;const t=Rg();class e extends t.BaseError{constructor({current:n,depth:s}){super("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${s>0?"opening":"closing"} parentheses.`],details:`Depth "${s}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}return yb.InvalidParenthesisError=e,yb}var u0={},az;function i4e(){if(az)return u0;az=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.parameterCache=void 0,u0.getParameterCacheKey=t;function t(e,r,n){let s="";if(n)for(const i of Object.entries(n)){if(!i)continue;let o="";for(const a of i[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;s+=`(${i[0]}{${o}})`}return r?`${r}:${e}${s}`:`${e}${s}`}return u0.parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),u0}var cz;function dg(){if(cz)return Ys;cz=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.parseSignature=a,Ys.parseFunctionSignature=c,Ys.parseEventSignature=u,Ys.parseErrorSignature=l,Ys.parseConstructorSignature=d,Ys.parseFallbackSignature=f,Ys.parseAbiParameter=y,Ys.splitParameters=E,Ys.isSolidityType=w,Ys.isSolidityKeyword=g,Ys.isValidDataLocation=v;const t=s6(),e=i6(),r=UE(),n=B4(),s=Bre(),i=i4e(),o=Ng();function a(A,C={}){if((0,o.isFunctionSignature)(A))return c(A,C);if((0,o.isEventSignature)(A))return u(A,C);if((0,o.isErrorSignature)(A))return l(A,C);if((0,o.isConstructorSignature)(A))return d(A,C);if((0,o.isFallbackSignature)(A))return f(A);if((0,o.isReceiveSignature)(A))return{type:"receive",stateMutability:"payable"};throw new n.UnknownSignatureError({signature:A})}function c(A,C={}){const x=(0,o.execFunctionSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"function"});const T=E(x.parameters),N=[],M=T.length;for(let B=0;B<M;B++)N.push(y(T[B],{modifiers:o.functionModifiers,structs:C,type:"function"}));const k=[];if(x.returns){const B=E(x.returns),U=B.length;for(let I=0;I<U;I++)k.push(y(B[I],{modifiers:o.functionModifiers,structs:C,type:"function"}))}return{name:x.name,type:"function",stateMutability:x.stateMutability??"nonpayable",inputs:N,outputs:k}}function u(A,C={}){const x=(0,o.execEventSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"event"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{modifiers:o.eventModifiers,structs:C,type:"event"}));return{name:x.name,type:"event",inputs:N}}function l(A,C={}){const x=(0,o.execErrorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"error"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"error"}));return{name:x.name,type:"error",inputs:N}}function d(A,C={}){const x=(0,o.execConstructorSignature)(A);if(!x)throw new n.InvalidSignatureError({signature:A,type:"constructor"});const T=E(x.parameters),N=[],M=T.length;for(let k=0;k<M;k++)N.push(y(T[k],{structs:C,type:"constructor"}));return{type:"constructor",stateMutability:x.stateMutability??"nonpayable",inputs:N}}function f(A){const C=(0,o.execFallbackSignature)(A);if(!C)throw new n.InvalidSignatureError({signature:A,type:"fallback"});return{type:"fallback",stateMutability:C.stateMutability??"nonpayable"}}const h=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,p=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m=/^u?int$/;function y(A,C){var _,R;const x=(0,i.getParameterCacheKey)(A,C==null?void 0:C.type,C==null?void 0:C.structs);if(i.parameterCache.has(x))return i.parameterCache.get(x);const T=t.isTupleRegex.test(A),N=(0,t.execTyped)(T?p:h,A);if(!N)throw new r.InvalidParameterError({param:A});if(N.name&&g(N.name))throw new r.SolidityProtectedKeywordError({param:A,name:N.name});const M=N.name?{name:N.name}:{},k=N.modifier==="indexed"?{indexed:!0}:{},B=(C==null?void 0:C.structs)??{};let U,I={};if(T){U="tuple";const O=E(N.type),P=[],D=O.length;for(let j=0;j<D;j++)P.push(y(O[j],{structs:B}));I={components:P}}else if(N.type in B)U="tuple",I={components:B[N.type]};else if(m.test(N.type))U=`${N.type}256`;else if(N.type==="address payable")U="address";else if(U=N.type,(C==null?void 0:C.type)!=="struct"&&!w(U))throw new e.UnknownSolidityTypeError({type:U});if(N.modifier){if(!((R=(_=C==null?void 0:C.modifiers)==null?void 0:_.has)!=null&&R.call(_,N.modifier)))throw new r.InvalidModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier});if(o.functionModifiers.has(N.modifier)&&!v(U,!!N.array))throw new r.InvalidFunctionModifierError({param:A,type:C==null?void 0:C.type,modifier:N.modifier})}const S={type:`${U}${N.array??""}`,...M,...k,...I};return i.parameterCache.set(x,S),S}function E(A,C=[],x="",T=0){const N=A.trim().length;for(let M=0;M<N;M++){const k=A[M],B=A.slice(M+1);switch(k){case",":return T===0?E(B,[...C,x.trim()]):E(B,C,`${x}${k}`,T);case"(":return E(B,C,`${x}${k}`,T+1);case")":return E(B,C,`${x}${k}`,T-1);default:return E(B,C,`${x}${k}`,T)}}if(x==="")return C;if(T!==0)throw new s.InvalidParenthesisError({current:x,depth:T});return C.push(x.trim()),C}function w(A){return A==="address"||A==="bool"||A==="function"||A==="string"||t.bytesRegex.test(A)||t.integerRegex.test(A)}const b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function g(A){return A==="address"||A==="bool"||A==="function"||A==="string"||A==="tuple"||t.bytesRegex.test(A)||t.integerRegex.test(A)||b.test(A)}function v(A,C){return C||A==="bytes"||A==="string"||A==="tuple"}return Ys}var uz;function o6(){if(uz)return v2;uz=1,Object.defineProperty(v2,"__esModule",{value:!0}),v2.parseStructs=a;const t=s6(),e=i6(),r=UE(),n=B4(),s=Nre(),i=Ng(),o=dg();function a(l){const d={},f=l.length;for(let y=0;y<f;y++){const E=l[y];if(!(0,i.isStructSignature)(E))continue;const w=(0,i.execStructSignature)(E);if(!w)throw new n.InvalidSignatureError({signature:E,type:"struct"});const b=w.properties.split(";"),g=[],v=b.length;for(let A=0;A<v;A++){const x=b[A].trim();if(!x)continue;const T=(0,o.parseAbiParameter)(x,{type:"struct"});g.push(T)}if(!g.length)throw new n.InvalidStructSignatureError({signature:E});d[w.name]=g}const h={},p=Object.entries(d),m=p.length;for(let y=0;y<m;y++){const[E,w]=p[y];h[E]=u(w,d)}return h}const c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function u(l,d,f=new Set){const h=[],p=l.length;for(let m=0;m<p;m++){const y=l[m];if(t.isTupleRegex.test(y.type))h.push(y);else{const w=(0,t.execTyped)(c,y.type);if(!(w!=null&&w.type))throw new r.InvalidAbiTypeParameterError({abiParameter:y});const{array:b,type:g}=w;if(g in d){if(f.has(g))throw new s.CircularReferenceError({type:g});h.push({...y,type:`tuple${b??""}`,components:u(d[g]??[],d,new Set([...f,g]))})}else if((0,o.isSolidityType)(g))h.push(y);else throw new e.UnknownTypeError({type:g})}}return h}return v2}var lz;function o4e(){if(lz)return E2;lz=1,Object.defineProperty(E2,"__esModule",{value:!0}),E2.parseAbi=n;const t=Ng(),e=o6(),r=dg();function n(s){const i=(0,e.parseStructs)(s),o=[],a=s.length;for(let c=0;c<a;c++){const u=s[c];(0,t.isStructSignature)(u)||o.push((0,r.parseSignature)(u,i))}return o}return E2}var _2={},dz;function a4e(){if(dz)return _2;dz=1,Object.defineProperty(_2,"__esModule",{value:!0}),_2.parseAbiItem=s;const t=i6(),e=Ng(),r=o6(),n=dg();function s(i){let o;if(typeof i=="string")o=(0,n.parseSignature)(i);else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseSignature)(l,a);break}}}if(!o)throw new t.InvalidAbiItemError({signature:i});return o}return _2}var A2={},fz;function c4e(){if(fz)return A2;fz=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.parseAbiParameter=s;const t=UE(),e=Ng(),r=o6(),n=dg();function s(i){let o;if(typeof i=="string")o=(0,n.parseAbiParameter)(i,{modifiers:e.modifiers});else{const a=(0,r.parseStructs)(i),c=i.length;for(let u=0;u<c;u++){const l=i[u];if(!(0,e.isStructSignature)(l)){o=(0,n.parseAbiParameter)(l,{modifiers:e.modifiers,structs:a});break}}}if(!o)throw new t.InvalidAbiParameterError({param:i});return o}return A2}var C2={},hz;function u4e(){if(hz)return C2;hz=1,Object.defineProperty(C2,"__esModule",{value:!0}),C2.parseAbiParameters=i;const t=UE(),e=Ng(),r=o6(),n=dg(),s=dg();function i(o){const a=[];if(typeof o=="string"){const c=(0,n.splitParameters)(o),u=c.length;for(let l=0;l<u;l++)a.push((0,s.parseAbiParameter)(c[l],{modifiers:e.modifiers}))}else{const c=(0,r.parseStructs)(o),u=o.length;for(let l=0;l<u;l++){const d=o[l];if((0,e.isStructSignature)(d))continue;const f=(0,n.splitParameters)(d),h=f.length;for(let p=0;p<h;p++)a.push((0,s.parseAbiParameter)(f[p],{modifiers:e.modifiers,structs:c}))}}if(a.length===0)throw new t.InvalidAbiParametersError({params:o});return a}return C2}var pz;function a6(){return pz||(pz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CircularReferenceError=t.InvalidParenthesisError=t.UnknownSignatureError=t.InvalidSignatureError=t.InvalidStructSignatureError=t.InvalidAbiParameterError=t.InvalidAbiParametersError=t.InvalidParameterError=t.SolidityProtectedKeywordError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.UnknownSolidityTypeError=t.InvalidAbiItemError=t.UnknownTypeError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.formatAbiParameters=t.formatAbiParameter=t.formatAbiItem=t.formatAbi=t.narrow=t.BaseError=void 0;var e=Rg();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return e.BaseError}});var r=n4e();Object.defineProperty(t,"narrow",{enumerable:!0,get:function(){return r.narrow}});var n=s4e();Object.defineProperty(t,"formatAbi",{enumerable:!0,get:function(){return n.formatAbi}});var s=Rre();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return s.formatAbiItem}});var i=xre();Object.defineProperty(t,"formatAbiParameter",{enumerable:!0,get:function(){return i.formatAbiParameter}});var o=Ore();Object.defineProperty(t,"formatAbiParameters",{enumerable:!0,get:function(){return o.formatAbiParameters}});var a=o4e();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return a.parseAbi}});var c=a4e();Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return c.parseAbiItem}});var u=c4e();Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return u.parseAbiParameter}});var l=u4e();Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return l.parseAbiParameters}});var d=i6();Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return d.UnknownTypeError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return d.InvalidAbiItemError}}),Object.defineProperty(t,"UnknownSolidityTypeError",{enumerable:!0,get:function(){return d.UnknownSolidityTypeError}});var f=UE();Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return f.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return f.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return f.InvalidModifierError}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return f.SolidityProtectedKeywordError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return f.InvalidParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return f.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return f.InvalidAbiParameterError}});var h=B4();Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return h.InvalidStructSignatureError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return h.InvalidSignatureError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return h.UnknownSignatureError}});var p=Bre();Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return p.InvalidParenthesisError}});var m=Nre();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return m.CircularReferenceError}})})(CO)),CO}var Is={},l0={},bb={},mz;function l4e(){if(mz)return bb;mz=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.LruMap=void 0;class t extends Map{constructor(r){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=r}get(r){const n=super.get(r);return super.has(r)&&n!==void 0&&(this.delete(r),super.set(r,n)),n}set(r,n){if(super.set(r,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}return bb.LruMap=t,bb}var gz;function d4e(){if(gz)return l0;gz=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.checksum=void 0,l0.clear=r;const t=l4e(),e={checksum:new t.LruMap(8192)};l0.checksum=e.checksum;function r(){for(const n of Object.values(e))n.clear()}return l0}var xf={},yz;function k4(){if(yz)return xf;yz=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.keccak256=i,xf.ripemd160=o,xf.sha256=a,xf.validate=c;const t=gre(),e=xte(),r=qte(),n=mc(),s=es();function i(u,l={}){const{as:d=typeof u=="string"?"Hex":"Bytes"}=l,f=(0,e.keccak_256)(n.from(u));return d==="Bytes"?f:s.fromBytes(f)}function o(u,l={}){const{as:d=typeof u=="string"?"Hex":"Bytes"}=l,f=(0,t.ripemd160)(n.from(u));return d==="Bytes"?f:s.fromBytes(f)}function a(u,l={}){const{as:d=typeof u=="string"?"Hex":"Bytes"}=l,f=(0,r.sha256)(n.from(u));return d==="Bytes"?f:s.fromBytes(f)}function c(u){return s.validate(u)&&s.size(u)===32}return xf}var rn={},bz;function kre(){if(bz)return rn;bz=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.InvalidSerializedSizeError=rn.InvalidUncompressedPrefixError=rn.InvalidCompressedPrefixError=rn.InvalidPrefixError=rn.InvalidError=void 0,rn.assert=s,rn.compress=i,rn.from=o,rn.fromBytes=a,rn.fromHex=c,rn.toBytes=u,rn.toHex=l,rn.validate=d;const t=mc(),e=no(),r=es(),n=KP();function s(E,w={}){const{compressed:b}=w,{prefix:g,x:v,y:A}=E;if(b===!1||typeof v=="bigint"&&typeof A=="bigint"){if(g!==4)throw new h({prefix:g,cause:new m});return}if(b===!0||typeof v=="bigint"&&typeof A>"u"){if(g!==3&&g!==2)throw new h({prefix:g,cause:new p});return}throw new f({publicKey:E})}function i(E){const{x:w,y:b}=E;return{prefix:b%2n===0n?2:3,x:w}}function o(E){const w=(()=>{if(r.validate(E))return c(E);if(t.validate(E))return a(E);const{prefix:b,x:g,y:v}=E;return typeof g=="bigint"&&typeof v=="bigint"?{prefix:b??4,x:g,y:v}:{prefix:b,x:g}})();return s(w),w}function a(E){return c(r.fromBytes(E))}function c(E){if(E.length!==132&&E.length!==130&&E.length!==68)throw new y({publicKey:E});if(E.length===130){const g=BigInt(r.slice(E,0,32)),v=BigInt(r.slice(E,32,64));return{prefix:4,x:g,y:v}}if(E.length===132){const g=Number(r.slice(E,0,1)),v=BigInt(r.slice(E,1,33)),A=BigInt(r.slice(E,33,65));return{prefix:g,x:v,y:A}}const w=Number(r.slice(E,0,1)),b=BigInt(r.slice(E,1,33));return{prefix:w,x:b}}function u(E,w={}){return t.fromHex(l(E,w))}function l(E,w={}){s(E);const{prefix:b,x:g,y:v}=E,{includePrefix:A=!0}=w;return r.concat(A?r.fromNumber(b,{size:1}):"0x",r.fromNumber(g,{size:32}),typeof v=="bigint"?r.fromNumber(v,{size:32}):"0x")}function d(E,w={}){try{return s(E,w),!0}catch{return!1}}class f extends e.BaseError{constructor({publicKey:w}){super(`Value \`${n.stringify(w)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}rn.InvalidError=f;class h extends e.BaseError{constructor({prefix:w,cause:b}){super(`Prefix "${w}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}rn.InvalidPrefixError=h;class p extends e.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}rn.InvalidCompressedPrefixError=p;class m extends e.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}rn.InvalidUncompressedPrefixError=m;class y extends e.BaseError{constructor({publicKey:w}){super(`Value \`${w}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${r.size(r.from(w))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}return rn.InvalidSerializedSizeError=y,rn}var wz;function c6(){if(wz)return Is;wz=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.InvalidChecksumError=Is.InvalidInputError=Is.InvalidAddressError=void 0,Is.assert=o,Is.checksum=a,Is.from=c,Is.fromPublicKey=u,Is.isEqual=l,Is.validate=d;const t=mc(),e=d4e(),r=no(),n=k4(),s=kre(),i=/^0x[a-fA-F0-9]{40}$/;function o(m,y={}){const{strict:E=!0}=y;if(!i.test(m))throw new f({address:m,cause:new h});if(E){if(m.toLowerCase()===m)return;if(a(m)!==m)throw new f({address:m,cause:new p})}}function a(m){if(e.checksum.has(m))return e.checksum.get(m);o(m,{strict:!1});const y=m.substring(2).toLowerCase(),E=n.keccak256(t.fromString(y),{as:"Bytes"}),w=y.split("");for(let g=0;g<40;g+=2)E[g>>1]>>4>=8&&w[g]&&(w[g]=w[g].toUpperCase()),(E[g>>1]&15)>=8&&w[g+1]&&(w[g+1]=w[g+1].toUpperCase());const b=`0x${w.join("")}`;return e.checksum.set(m,b),b}function c(m,y={}){const{checksum:E=!1}=y;return o(m),E?a(m):m}function u(m,y={}){const E=n.keccak256(`0x${s.toHex(m).slice(4)}`).substring(26);return c(`0x${E}`,y)}function l(m,y){return o(m,{strict:!1}),o(y,{strict:!1}),m.toLowerCase()===y.toLowerCase()}function d(m,y={}){const{strict:E=!0}=y??{};try{return o(m,{strict:E}),!0}catch{return!1}}class f extends r.BaseError{constructor({address:y,cause:E}){super(`Address "${y}" is invalid.`,{cause:E}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}Is.InvalidAddressError=f;class h extends r.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}Is.InvalidInputError=h;class p extends r.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}return Is.InvalidChecksumError=p,Is}var zr={},fe={},Ez;function j4(){return Ez||(Ez=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.minInt120=fe.minInt112=fe.minInt104=fe.minInt96=fe.minInt88=fe.minInt80=fe.minInt72=fe.minInt64=fe.minInt56=fe.minInt48=fe.minInt40=fe.minInt32=fe.minInt24=fe.minInt16=fe.minInt8=fe.maxInt256=fe.maxInt248=fe.maxInt240=fe.maxInt232=fe.maxInt224=fe.maxInt216=fe.maxInt208=fe.maxInt200=fe.maxInt192=fe.maxInt184=fe.maxInt176=fe.maxInt168=fe.maxInt160=fe.maxInt152=fe.maxInt144=fe.maxInt136=fe.maxInt128=fe.maxInt120=fe.maxInt112=fe.maxInt104=fe.maxInt96=fe.maxInt88=fe.maxInt80=fe.maxInt72=fe.maxInt64=fe.maxInt56=fe.maxInt48=fe.maxInt40=fe.maxInt32=fe.maxInt24=fe.maxInt16=fe.maxInt8=fe.integerRegex=fe.bytesRegex=fe.arrayRegex=void 0,fe.maxUint256=fe.maxUint248=fe.maxUint240=fe.maxUint232=fe.maxUint224=fe.maxUint216=fe.maxUint208=fe.maxUint200=fe.maxUint192=fe.maxUint184=fe.maxUint176=fe.maxUint168=fe.maxUint160=fe.maxUint152=fe.maxUint144=fe.maxUint136=fe.maxUint128=fe.maxUint120=fe.maxUint112=fe.maxUint104=fe.maxUint96=fe.maxUint88=fe.maxUint80=fe.maxUint72=fe.maxUint64=fe.maxUint56=fe.maxUint48=fe.maxUint40=fe.maxUint32=fe.maxUint24=fe.maxUint16=fe.maxUint8=fe.minInt256=fe.minInt248=fe.minInt240=fe.minInt232=fe.minInt224=fe.minInt216=fe.minInt208=fe.minInt200=fe.minInt192=fe.minInt184=fe.minInt176=fe.minInt168=fe.minInt160=fe.minInt152=fe.minInt144=fe.minInt136=fe.minInt128=void 0,fe.arrayRegex=/^(.*)\[([0-9]*)\]$/,fe.bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,fe.integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,fe.maxInt8=2n**(8n-1n)-1n,fe.maxInt16=2n**(16n-1n)-1n,fe.maxInt24=2n**(24n-1n)-1n,fe.maxInt32=2n**(32n-1n)-1n,fe.maxInt40=2n**(40n-1n)-1n,fe.maxInt48=2n**(48n-1n)-1n,fe.maxInt56=2n**(56n-1n)-1n,fe.maxInt64=2n**(64n-1n)-1n,fe.maxInt72=2n**(72n-1n)-1n,fe.maxInt80=2n**(80n-1n)-1n,fe.maxInt88=2n**(88n-1n)-1n,fe.maxInt96=2n**(96n-1n)-1n,fe.maxInt104=2n**(104n-1n)-1n,fe.maxInt112=2n**(112n-1n)-1n,fe.maxInt120=2n**(120n-1n)-1n,fe.maxInt128=2n**(128n-1n)-1n,fe.maxInt136=2n**(136n-1n)-1n,fe.maxInt144=2n**(144n-1n)-1n,fe.maxInt152=2n**(152n-1n)-1n,fe.maxInt160=2n**(160n-1n)-1n,fe.maxInt168=2n**(168n-1n)-1n,fe.maxInt176=2n**(176n-1n)-1n,fe.maxInt184=2n**(184n-1n)-1n,fe.maxInt192=2n**(192n-1n)-1n,fe.maxInt200=2n**(200n-1n)-1n,fe.maxInt208=2n**(208n-1n)-1n,fe.maxInt216=2n**(216n-1n)-1n,fe.maxInt224=2n**(224n-1n)-1n,fe.maxInt232=2n**(232n-1n)-1n,fe.maxInt240=2n**(240n-1n)-1n,fe.maxInt248=2n**(248n-1n)-1n,fe.maxInt256=2n**(256n-1n)-1n,fe.minInt8=-(2n**(8n-1n)),fe.minInt16=-(2n**(16n-1n)),fe.minInt24=-(2n**(24n-1n)),fe.minInt32=-(2n**(32n-1n)),fe.minInt40=-(2n**(40n-1n)),fe.minInt48=-(2n**(48n-1n)),fe.minInt56=-(2n**(56n-1n)),fe.minInt64=-(2n**(64n-1n)),fe.minInt72=-(2n**(72n-1n)),fe.minInt80=-(2n**(80n-1n)),fe.minInt88=-(2n**(88n-1n)),fe.minInt96=-(2n**(96n-1n)),fe.minInt104=-(2n**(104n-1n)),fe.minInt112=-(2n**(112n-1n)),fe.minInt120=-(2n**(120n-1n)),fe.minInt128=-(2n**(128n-1n)),fe.minInt136=-(2n**(136n-1n)),fe.minInt144=-(2n**(144n-1n)),fe.minInt152=-(2n**(152n-1n)),fe.minInt160=-(2n**(160n-1n)),fe.minInt168=-(2n**(168n-1n)),fe.minInt176=-(2n**(176n-1n)),fe.minInt184=-(2n**(184n-1n)),fe.minInt192=-(2n**(192n-1n)),fe.minInt200=-(2n**(200n-1n)),fe.minInt208=-(2n**(208n-1n)),fe.minInt216=-(2n**(216n-1n)),fe.minInt224=-(2n**(224n-1n)),fe.minInt232=-(2n**(232n-1n)),fe.minInt240=-(2n**(240n-1n)),fe.minInt248=-(2n**(248n-1n)),fe.minInt256=-(2n**(256n-1n)),fe.maxUint8=2n**8n-1n,fe.maxUint16=2n**16n-1n,fe.maxUint24=2n**24n-1n,fe.maxUint32=2n**32n-1n,fe.maxUint40=2n**40n-1n,fe.maxUint48=2n**48n-1n,fe.maxUint56=2n**56n-1n,fe.maxUint64=2n**64n-1n,fe.maxUint72=2n**72n-1n,fe.maxUint80=2n**80n-1n,fe.maxUint88=2n**88n-1n,fe.maxUint96=2n**96n-1n,fe.maxUint104=2n**104n-1n,fe.maxUint112=2n**112n-1n,fe.maxUint120=2n**120n-1n,fe.maxUint128=2n**128n-1n,fe.maxUint136=2n**136n-1n,fe.maxUint144=2n**144n-1n,fe.maxUint152=2n**152n-1n,fe.maxUint160=2n**160n-1n,fe.maxUint168=2n**168n-1n,fe.maxUint176=2n**176n-1n,fe.maxUint184=2n**184n-1n,fe.maxUint192=2n**192n-1n,fe.maxUint200=2n**200n-1n,fe.maxUint208=2n**208n-1n,fe.maxUint216=2n**216n-1n,fe.maxUint224=2n**224n-1n,fe.maxUint232=2n**232n-1n,fe.maxUint240=2n**240n-1n,fe.maxUint248=2n**248n-1n,fe.maxUint256=2n**256n-1n),fe}var vz;function f4e(){if(vz)return zr;vz=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.decodeParameter=o,zr.decodeAddress=u,zr.decodeArray=l,zr.decodeBool=d,zr.decodeBytes=f,zr.decodeNumber=h,zr.decodeTuple=p,zr.decodeString=m,zr.prepareParameters=y,zr.prepareParameter=E,zr.encode=w,zr.encodeAddress=b,zr.encodeArray=g,zr.encodeBytes=v,zr.encodeBoolean=A,zr.encodeNumber=C,zr.encodeString=x,zr.encodeTuple=T,zr.getArrayComponents=N,zr.hasDynamicChild=M;const t=LE(),e=c6(),r=mc(),n=no(),s=es(),i=j4();function o(k,B,U){const{checksumAddress:I,staticPosition:S}=U,_=N(B.type);if(_){const[R,O]=_;return l(k,{...B,type:O},{checksumAddress:I,length:R,staticPosition:S})}if(B.type==="tuple")return p(k,B,{checksumAddress:I,staticPosition:S});if(B.type==="address")return u(k,{checksum:I});if(B.type==="bool")return d(k);if(B.type.startsWith("bytes"))return f(k,B,{staticPosition:S});if(B.type.startsWith("uint")||B.type.startsWith("int"))return h(k,B);if(B.type==="string")return m(k,{staticPosition:S});throw new t.InvalidTypeError(B.type)}const a=32,c=32;function u(k,B={}){const{checksum:U=!1}=B,I=k.readBytes(32);return[(_=>U?e.checksum(_):_)(s.fromBytes(r.slice(I,-20))),32]}function l(k,B,U){const{checksumAddress:I,length:S,staticPosition:_}=U;if(!S){const P=r.toNumber(k.readBytes(c)),D=_+P,j=D+a;k.setPosition(D);const F=r.toNumber(k.readBytes(a)),q=M(B);let z=0;const W=[];for(let K=0;K<F;++K){k.setPosition(j+(q?K*32:z));const[re,Q]=o(k,B,{checksumAddress:I,staticPosition:j});z+=Q,W.push(re)}return k.setPosition(_+32),[W,32]}if(M(B)){const P=r.toNumber(k.readBytes(c)),D=_+P,j=[];for(let F=0;F<S;++F){k.setPosition(D+F*32);const[q]=o(k,B,{checksumAddress:I,staticPosition:D});j.push(q)}return k.setPosition(_+32),[j,32]}let R=0;const O=[];for(let P=0;P<S;++P){const[D,j]=o(k,B,{checksumAddress:I,staticPosition:_+R});R+=j,O.push(D)}return[O,R]}function d(k){return[r.toBoolean(k.readBytes(32),{size:32}),32]}function f(k,B,{staticPosition:U}){const[I,S]=B.type.split("bytes");if(!S){const R=r.toNumber(k.readBytes(32));k.setPosition(U+R);const O=r.toNumber(k.readBytes(32));if(O===0)return k.setPosition(U+32),["0x",32];const P=k.readBytes(O);return k.setPosition(U+32),[s.fromBytes(P),32]}return[s.fromBytes(k.readBytes(Number.parseInt(S,10),32)),32]}function h(k,B){const U=B.type.startsWith("int"),I=Number.parseInt(B.type.split("int")[1]||"256",10),S=k.readBytes(32);return[I>48?r.toBigInt(S,{signed:U}):r.toNumber(S,{signed:U}),32]}function p(k,B,U){const{checksumAddress:I,staticPosition:S}=U,_=B.components.length===0||B.components.some(({name:P})=>!P),R=_?[]:{};let O=0;if(M(B)){const P=r.toNumber(k.readBytes(c)),D=S+P;for(let j=0;j<B.components.length;++j){const F=B.components[j];k.setPosition(D+O);const[q,z]=o(k,F,{checksumAddress:I,staticPosition:D});O+=z,R[_?j:F==null?void 0:F.name]=q}return k.setPosition(S+32),[R,32]}for(let P=0;P<B.components.length;++P){const D=B.components[P],[j,F]=o(k,D,{checksumAddress:I,staticPosition:S});R[_?P:D==null?void 0:D.name]=j,O+=F}return[R,O]}function m(k,{staticPosition:B}){const U=r.toNumber(k.readBytes(32)),I=B+U;k.setPosition(I);const S=r.toNumber(k.readBytes(32));if(S===0)return k.setPosition(B+32),["",32];const _=k.readBytes(S,32),R=r.toString(r.trimLeft(_));return k.setPosition(B+32),[R,32]}function y({checksumAddress:k,parameters:B,values:U}){const I=[];for(let S=0;S<B.length;S++)I.push(E({checksumAddress:k,parameter:B[S],value:U[S]}));return I}function E({checksumAddress:k=!1,parameter:B,value:U}){const I=B,S=N(I.type);if(S){const[_,R]=S;return g(U,{checksumAddress:k,length:_,parameter:{...I,type:R}})}if(I.type==="tuple")return T(U,{checksumAddress:k,parameter:I});if(I.type==="address")return b(U,{checksum:k});if(I.type==="bool")return A(U);if(I.type.startsWith("uint")||I.type.startsWith("int")){const _=I.type.startsWith("int"),[,,R="256"]=i.integerRegex.exec(I.type)??[];return C(U,{signed:_,size:Number(R)})}if(I.type.startsWith("bytes"))return v(U,{type:I.type});if(I.type==="string")return x(U);throw new t.InvalidTypeError(I.type)}function w(k){let B=0;for(let _=0;_<k.length;_++){const{dynamic:R,encoded:O}=k[_];R?B+=32:B+=s.size(O)}const U=[],I=[];let S=0;for(let _=0;_<k.length;_++){const{dynamic:R,encoded:O}=k[_];R?(U.push(s.fromNumber(B+S,{size:32})),I.push(O),S+=s.size(O)):U.push(O)}return s.concat(...U,...I)}function b(k,B){const{checksum:U=!1}=B;return e.assert(k,{strict:U}),{dynamic:!1,encoded:s.padLeft(k.toLowerCase())}}function g(k,B){const{checksumAddress:U,length:I,parameter:S}=B,_=I===null;if(!Array.isArray(k))throw new t.InvalidArrayError(k);if(!_&&k.length!==I)throw new t.ArrayLengthMismatchError({expectedLength:I,givenLength:k.length,type:`${S.type}[${I}]`});let R=!1;const O=[];for(let P=0;P<k.length;P++){const D=E({checksumAddress:U,parameter:S,value:k[P]});D.dynamic&&(R=!0),O.push(D)}if(_||R){const P=w(O);if(_){const D=s.fromNumber(O.length,{size:32});return{dynamic:!0,encoded:O.length>0?s.concat(D,P):D}}if(R)return{dynamic:!0,encoded:P}}return{dynamic:!1,encoded:s.concat(...O.map(({encoded:P})=>P))}}function v(k,{type:B}){const[,U]=B.split("bytes"),I=s.size(k);if(!U){let S=k;return I%32!==0&&(S=s.padRight(S,Math.ceil((k.length-2)/2/32)*32)),{dynamic:!0,encoded:s.concat(s.padLeft(s.fromNumber(I,{size:32})),S)}}if(I!==Number.parseInt(U,10))throw new t.BytesSizeMismatchError({expectedSize:Number.parseInt(U,10),value:k});return{dynamic:!1,encoded:s.padRight(k)}}function A(k){if(typeof k!="boolean")throw new n.BaseError(`Invalid boolean value: "${k}" (type: ${typeof k}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:s.padLeft(s.fromBoolean(k))}}function C(k,{signed:B,size:U}){if(typeof U=="number"){const I=2n**(BigInt(U)-(B?1n:0n))-1n,S=B?-I-1n:0n;if(k>I||k<S)throw new s.IntegerOutOfRangeError({max:I.toString(),min:S.toString(),signed:B,size:U/8,value:k.toString()})}return{dynamic:!1,encoded:s.fromNumber(k,{size:32,signed:B})}}function x(k){const B=s.fromString(k),U=Math.ceil(s.size(B)/32),I=[];for(let S=0;S<U;S++)I.push(s.padRight(s.slice(B,S*32,(S+1)*32)));return{dynamic:!0,encoded:s.concat(s.padRight(s.fromNumber(s.size(B),{size:32})),...I)}}function T(k,B){const{checksumAddress:U,parameter:I}=B;let S=!1;const _=[];for(let R=0;R<I.components.length;R++){const O=I.components[R],P=Array.isArray(k)?R:O.name,D=E({checksumAddress:U,parameter:O,value:k[P]});_.push(D),D.dynamic&&(S=!0)}return{dynamic:S,encoded:S?w(_):s.concat(..._.map(({encoded:R})=>R))}}function N(k){const B=k.match(/^(.*)\[(\d+)?\]$/);return B?[B[2]?Number(B[2]):null,B[1]]:void 0}function M(k){var I;const{type:B}=k;if(B==="string"||B==="bytes"||B.endsWith("[]"))return!0;if(B==="tuple")return(I=k.components)==null?void 0:I.some(M);const U=N(k.type);return!!(U&&M({...k,type:U[1]}))}return zr}var Na={},_z;function jre(){if(_z)return Na;_z=1,Object.defineProperty(Na,"__esModule",{value:!0}),Na.RecursiveReadLimitExceededError=Na.PositionOutOfBoundsError=Na.NegativeOffsetError=void 0,Na.create=r;const t=no(),e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new i({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(o){if(o<0||o>this.bytes.length-1)throw new s({length:this.bytes.length,position:o})},decrementPosition(o){if(o<0)throw new n({offset:o});const a=this.position-o;this.assertPosition(a),this.position=a},getReadCount(o){return this.positionReadCount.get(o||this.position)||0},incrementPosition(o){if(o<0)throw new n({offset:o});const a=this.position+o;this.assertPosition(a),this.position=a},inspectByte(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectBytes(o,a){const c=a??this.position;return this.assertPosition(c+o-1),this.bytes.subarray(c,c+o)},inspectUint8(o){const a=o??this.position;return this.assertPosition(a),this.bytes[a]},inspectUint16(o){const a=o??this.position;return this.assertPosition(a+1),this.dataView.getUint16(a)},inspectUint24(o){const a=o??this.position;return this.assertPosition(a+2),(this.dataView.getUint16(a)<<8)+this.dataView.getUint8(a+2)},inspectUint32(o){const a=o??this.position;return this.assertPosition(a+3),this.dataView.getUint32(a)},pushByte(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushBytes(o){this.assertPosition(this.position+o.length-1),this.bytes.set(o,this.position),this.position+=o.length},pushUint8(o){this.assertPosition(this.position),this.bytes[this.position]=o,this.position++},pushUint16(o){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,o),this.position+=2},pushUint24(o){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,o>>8),this.dataView.setUint8(this.position+2,o&255),this.position+=3},pushUint32(o){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,o),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const o=this.inspectByte();return this.position++,o},readBytes(o,a){this.assertReadLimit(),this._touch();const c=this.inspectBytes(o);return this.position+=a??o,c},readUint8(){this.assertReadLimit(),this._touch();const o=this.inspectUint8();return this.position+=1,o},readUint16(){this.assertReadLimit(),this._touch();const o=this.inspectUint16();return this.position+=2,o},readUint24(){this.assertReadLimit(),this._touch();const o=this.inspectUint24();return this.position+=3,o},readUint32(){this.assertReadLimit(),this._touch();const o=this.inspectUint32();return this.position+=4,o},get remaining(){return this.bytes.length-this.position},setPosition(o){const a=this.position;return this.assertPosition(o),this.position=o,()=>this.position=a},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const o=this.getReadCount();this.positionReadCount.set(this.position,o+1),o>0&&this.recursiveReadCount++}};function r(o,{recursiveReadLimit:a=8192}={}){const c=Object.create(e);return c.bytes=o,c.dataView=new DataView(o.buffer,o.byteOffset,o.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=a,c}class n extends t.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}Na.NegativeOffsetError=n;class s extends t.BaseError{constructor({length:a,position:c}){super(`Position \`${c}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}Na.PositionOutOfBoundsError=s;class i extends t.BaseError{constructor({count:a,limit:c}){super(`Recursive read limit of \`${c}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}return Na.RecursiveReadLimitExceededError=i,Na}var Az;function LE(){if(Az)return qr;Az=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.InvalidTypeError=qr.InvalidArrayError=qr.LengthMismatchError=qr.BytesSizeMismatchError=qr.ArrayLengthMismatchError=qr.ZeroDataError=qr.DataSizeTooSmallError=void 0,qr.decode=c,qr.encode=u,qr.encodePacked=l,qr.format=d,qr.from=f;const t=a6(),e=c6(),r=mc(),n=no(),s=es(),i=f4e(),o=jre(),a=j4();function c(g,v,A={}){const{as:C="Array",checksumAddress:x=!1}=A,T=typeof v=="string"?r.fromHex(v):v,N=o.create(T);if(r.size(T)===0&&g.length>0)throw new p;if(r.size(T)&&r.size(T)<32)throw new h({data:typeof v=="string"?v:s.fromBytes(v),parameters:g,size:r.size(T)});let M=0;const k=C==="Array"?[]:{};for(let B=0;B<g.length;++B){const U=g[B];N.setPosition(M);const[I,S]=i.decodeParameter(N,U,{checksumAddress:x,staticPosition:0});M+=S,C==="Array"?k.push(I):k[U.name??B]=I}return k}function u(g,v,A){const{checksumAddress:C=!1}=A??{};if(g.length!==v.length)throw new E({expectedLength:g.length,givenLength:v.length});const x=i.prepareParameters({checksumAddress:C,parameters:g,values:v}),T=i.encode(x);return T.length===0?"0x":T}function l(g,v){if(g.length!==v.length)throw new E({expectedLength:g.length,givenLength:v.length});const A=[];for(let C=0;C<g.length;C++){const x=g[C],T=v[C];A.push(l.encode(x,T))}return s.concat(...A)}(function(g){function v(A,C,x=!1){if(A==="address"){const k=C;return e.assert(k),s.padLeft(k.toLowerCase(),x?32:0)}if(A==="string")return s.fromString(C);if(A==="bytes")return C;if(A==="bool")return s.padLeft(s.fromBoolean(C),x?32:1);const T=A.match(a.integerRegex);if(T){const[k,B,U="256"]=T,I=Number.parseInt(U,10)/8;return s.fromNumber(C,{size:x?32:I,signed:B==="int"})}const N=A.match(a.bytesRegex);if(N){const[k,B]=N;if(Number.parseInt(B,10)!==(C.length-2)/2)throw new y({expectedSize:Number.parseInt(B,10),value:C});return s.padRight(C,x?32:0)}const M=A.match(a.arrayRegex);if(M&&Array.isArray(C)){const[k,B]=M,U=[];for(let I=0;I<C.length;I++)U.push(v(B,C[I],!0));return U.length===0?"0x":s.concat(...U)}throw new b(A)}g.encode=v})(l||(qr.encodePacked=l={}));function d(g){return t.formatAbiParameters(g)}function f(g){return Array.isArray(g)&&typeof g[0]=="string"||typeof g=="string"?t.parseAbiParameters(g):g}class h extends n.BaseError{constructor({data:v,parameters:A,size:C}){super(`Data size of ${C} bytes is too small for given parameters.`,{metaMessages:[`Params: (${t.formatAbiParameters(A)})`,`Data:   ${v} (${C} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}qr.DataSizeTooSmallError=h;class p extends n.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}qr.ZeroDataError=p;class m extends n.BaseError{constructor({expectedLength:v,givenLength:A,type:C}){super(`Array length mismatch for type \`${C}\`. Expected: \`${v}\`. Given: \`${A}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}qr.ArrayLengthMismatchError=m;class y extends n.BaseError{constructor({expectedSize:v,value:A}){super(`Size of bytes "${A}" (bytes${s.size(A)}) does not match expected size (bytes${v}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}qr.BytesSizeMismatchError=y;class E extends n.BaseError{constructor({expectedLength:v,givenLength:A}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${v}`,`Given length (values): ${A}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}qr.LengthMismatchError=E;class w extends n.BaseError{constructor(v){super(`Value \`${v}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}qr.InvalidArrayError=w;class b extends n.BaseError{constructor(v){super(`Type \`${v}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}return qr.InvalidTypeError=b,qr}var Js={},lo={},Cz;function h4e(){if(Cz)return lo;Cz=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.toBytes=s,lo.toHex=i,lo.to=o,lo.decodeRlpCursor=a,lo.readLength=c,lo.readList=u,lo.from=l,lo.fromBytes=d,lo.fromHex=f;const t=mc(),e=no(),r=es(),n=jre();function s(E){return o(E,"Bytes")}function i(E){return o(E,"Hex")}function o(E,w){const b=w??(typeof E=="string"?"Hex":"Bytes"),g=(()=>{if(typeof E=="string"){if(E.length>3&&E.length%2!==0)throw new r.InvalidLengthError(E);return t.fromHex(E)}return E})(),v=n.create(g,{recursiveReadLimit:Number.POSITIVE_INFINITY});return a(v,b)}function a(E,w="Hex"){if(E.bytes.length===0)return w==="Hex"?r.fromBytes(E.bytes):E.bytes;const b=E.readByte();if(b<128&&E.decrementPosition(1),b<192){const v=c(E,b,128),A=E.readBytes(v);return w==="Hex"?r.fromBytes(A):A}const g=c(E,b,192);return u(E,g,w)}function c(E,w,b){if(b===128&&w<128)return 1;if(w<=b+55)return w-b;if(w===b+55+1)return E.readUint8();if(w===b+55+2)return E.readUint16();if(w===b+55+3)return E.readUint24();if(w===b+55+4)return E.readUint32();throw new e.BaseError("Invalid RLP prefix")}function u(E,w,b){const g=E.position,v=[];for(;E.position-g<w;)v.push(a(E,b));return v}function l(E,w){const{as:b}=w,g=h(E),v=n.create(new Uint8Array(g.length));return g.encode(v),b==="Hex"?r.fromBytes(v.bytes):v.bytes}function d(E,w={}){const{as:b="Bytes"}=w;return l(E,{as:b})}function f(E,w={}){const{as:b="Hex"}=w;return l(E,{as:b})}function h(E){return Array.isArray(E)?p(E.map(w=>h(w))):m(E)}function p(E){const w=E.reduce((v,A)=>v+A.length,0),b=y(w);return{length:w<=55?1+w:1+b+w,encode(v){w<=55?v.pushByte(192+w):(v.pushByte(247+b),b===1?v.pushUint8(w):b===2?v.pushUint16(w):b===3?v.pushUint24(w):v.pushUint32(w));for(const{encode:A}of E)A(v)}}}function m(E){const w=typeof E=="string"?t.fromHex(E):E,b=y(w.length);return{length:w.length===1&&w[0]<128?1:w.length<=55?1+w.length:1+b+w.length,encode(v){w.length===1&&w[0]<128?v.pushBytes(w):w.length<=55?(v.pushByte(128+w.length),v.pushBytes(w)):(v.pushByte(183+b),b===1?v.pushUint8(w.length):b===2?v.pushUint16(w.length):b===3?v.pushUint24(w.length):v.pushUint32(w.length),v.pushBytes(w))}}}function y(E){if(E<2**8)return 1;if(E<2**16)return 2;if(E<2**24)return 3;if(E<2**32)return 4;throw new e.BaseError("Length is too large.")}return lo}var Ut={},SO={},wb={},IO={},Of={},Br={},Sz;function u6(){if(Sz)return Br;Sz=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.isNegativeLE=void 0,Br.mod=u,Br.pow=l,Br.pow2=d,Br.invert=f,Br.tonelliShanks=m,Br.FpSqrt=y,Br.validateField=b,Br.FpPow=g,Br.FpInvertBatch=v,Br.FpDiv=A,Br.FpLegendre=C,Br.FpIsSquare=x,Br.nLength=T,Br.Field=N,Br.FpSqrtOdd=M,Br.FpSqrtEven=k,Br.hashToPrivateScalar=B,Br.getFieldBytesLength=U,Br.getMinHashLength=I,Br.mapHashToField=S;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=ma(),e=Tp(),r=BigInt(0),n=BigInt(1),s=BigInt(2),i=BigInt(3),o=BigInt(4),a=BigInt(5),c=BigInt(8);function u(_,R){const O=_%R;return O>=r?O:R+O}function l(_,R,O){return g(N(O),_,R)}function d(_,R,O){let P=_;for(;R-- >r;)P*=P,P%=O;return P}function f(_,R){if(_===r)throw new Error("invert: expected non-zero number");if(R<=r)throw new Error("invert: expected positive modulus, got "+R);let O=u(_,R),P=R,D=r,j=n;for(;O!==r;){const q=P/O,z=P%O,W=D-j*q;P=O,O=z,D=j,j=W}if(P!==n)throw new Error("invert: does not exist");return u(D,R)}function h(_,R){const O=(_.ORDER+n)/o,P=_.pow(R,O);if(!_.eql(_.sqr(P),R))throw new Error("Cannot find square root");return P}function p(_,R){const O=(_.ORDER-a)/c,P=_.mul(R,s),D=_.pow(P,O),j=_.mul(R,D),F=_.mul(_.mul(j,s),D),q=_.mul(j,_.sub(F,_.ONE));if(!_.eql(_.sqr(q),R))throw new Error("Cannot find square root");return q}function m(_){if(_<BigInt(3))throw new Error("sqrt is not defined for small field");let R=_-n,O=0;for(;R%s===r;)R/=s,O++;let P=s;const D=N(_);for(;C(D,P)===1;)if(P++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(O===1)return h;let j=D.pow(P,R);const F=(R+n)/s;return function(z,W){if(z.is0(W))return W;if(C(z,W)!==1)throw new Error("Cannot find square root");let K=O,re=z.mul(z.ONE,j),Q=z.pow(W,R),X=z.pow(W,F);for(;!z.eql(Q,z.ONE);){if(z.is0(Q))return z.ZERO;let ie=1,Y=z.sqr(Q);for(;!z.eql(Y,z.ONE);)if(ie++,Y=z.sqr(Y),ie===K)throw new Error("Cannot find square root");const V=n<<BigInt(K-ie-1),Z=z.pow(re,V);K=ie,re=z.sqr(Z),Q=z.mul(Q,re),X=z.mul(X,Z)}return X}}function y(_){return _%o===i?h:_%c===a?p:m(_)}const E=(_,R)=>(u(_,R)&n)===n;Br.isNegativeLE=E;const w=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(_){const R={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},O=w.reduce((P,D)=>(P[D]="function",P),R);return(0,e.validateObject)(_,O)}function g(_,R,O){if(O<r)throw new Error("invalid exponent, negatives unsupported");if(O===r)return _.ONE;if(O===n)return R;let P=_.ONE,D=R;for(;O>r;)O&n&&(P=_.mul(P,D)),D=_.sqr(D),O>>=n;return P}function v(_,R,O=!1){const P=new Array(R.length).fill(O?_.ZERO:void 0),D=R.reduce((F,q,z)=>_.is0(q)?F:(P[z]=F,_.mul(F,q)),_.ONE),j=_.inv(D);return R.reduceRight((F,q,z)=>_.is0(q)?F:(P[z]=_.mul(F,P[z]),_.mul(F,q)),j),P}function A(_,R,O){return _.mul(R,typeof O=="bigint"?f(O,_.ORDER):_.inv(O))}function C(_,R){const O=(_.ORDER-n)/s,P=_.pow(R,O),D=_.eql(P,_.ONE),j=_.eql(P,_.ZERO),F=_.eql(P,_.neg(_.ONE));if(!D&&!j&&!F)throw new Error("invalid Legendre symbol result");return D?1:j?0:-1}function x(_,R){return C(_,R)===1}function T(_,R){R!==void 0&&(0,t.anumber)(R);const O=R!==void 0?R:_.toString(2).length,P=Math.ceil(O/8);return{nBitLength:O,nByteLength:P}}function N(_,R,O=!1,P={}){if(_<=r)throw new Error("invalid field: expected ORDER > 0, got "+_);const{nBitLength:D,nByteLength:j}=T(_,R);if(j>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let F;const q=Object.freeze({ORDER:_,isLE:O,BITS:D,BYTES:j,MASK:(0,e.bitMask)(D),ZERO:r,ONE:n,create:z=>u(z,_),isValid:z=>{if(typeof z!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof z);return r<=z&&z<_},is0:z=>z===r,isOdd:z=>(z&n)===n,neg:z=>u(-z,_),eql:(z,W)=>z===W,sqr:z=>u(z*z,_),add:(z,W)=>u(z+W,_),sub:(z,W)=>u(z-W,_),mul:(z,W)=>u(z*W,_),pow:(z,W)=>g(q,z,W),div:(z,W)=>u(z*f(W,_),_),sqrN:z=>z*z,addN:(z,W)=>z+W,subN:(z,W)=>z-W,mulN:(z,W)=>z*W,inv:z=>f(z,_),sqrt:P.sqrt||(z=>(F||(F=y(_)),F(q,z))),toBytes:z=>O?(0,e.numberToBytesLE)(z,j):(0,e.numberToBytesBE)(z,j),fromBytes:z=>{if(z.length!==j)throw new Error("Field.fromBytes: expected "+j+" bytes, got "+z.length);return O?(0,e.bytesToNumberLE)(z):(0,e.bytesToNumberBE)(z)},invertBatch:z=>v(q,z),cmov:(z,W,K)=>K?W:z});return Object.freeze(q)}function M(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?O:_.neg(O)}function k(_,R){if(!_.isOdd)throw new Error("Field doesn't have isOdd");const O=_.sqrt(R);return _.isOdd(O)?_.neg(O):O}function B(_,R,O=!1){_=(0,e.ensureBytes)("privateHash",_);const P=_.length,D=T(R).nByteLength+8;if(D<24||P<D||P>1024)throw new Error("hashToPrivateScalar: expected "+D+"-1024 bytes of input, got "+P);const j=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_);return u(j,R-n)+n}function U(_){if(typeof _!="bigint")throw new Error("field order must be bigint");const R=_.toString(2).length;return Math.ceil(R/8)}function I(_){const R=U(_);return R+Math.ceil(R/2)}function S(_,R,O=!1){const P=_.length,D=U(R),j=I(R);if(P<16||P<j||P>1024)throw new Error("expected "+j+"-1024 bytes of input, got "+P);const F=O?(0,e.bytesToNumberLE)(_):(0,e.bytesToNumberBE)(_),q=u(F,R-n)+n;return O?(0,e.numberToBytesLE)(q,D):(0,e.numberToBytesBE)(q,D)}return Br}var Iz;function p4e(){if(Iz)return Of;Iz=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.wNAF=h,Of.pippenger=p,Of.precomputeMSMUnsafe=m,Of.validateBasic=y;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=u6(),e=Tp(),r=BigInt(0),n=BigInt(1);function s(E,w){const b=w.negate();return E?b:w}function i(E,w){if(!Number.isSafeInteger(E)||E<=0||E>w)throw new Error("invalid window size, expected [1.."+w+"], got W="+E)}function o(E,w){i(E,w);const b=Math.ceil(w/E)+1,g=2**(E-1),v=2**E,A=(0,e.bitMask)(E),C=BigInt(E);return{windows:b,windowSize:g,mask:A,maxNumber:v,shiftBy:C}}function a(E,w,b){const{windowSize:g,mask:v,maxNumber:A,shiftBy:C}=b;let x=Number(E&v),T=E>>C;x>g&&(x-=A,T+=n);const N=w*g,M=N+Math.abs(x)-1,k=x===0,B=x<0,U=w%2!==0;return{nextN:T,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:N}}function c(E,w){if(!Array.isArray(E))throw new Error("array expected");E.forEach((b,g)=>{if(!(b instanceof w))throw new Error("invalid point at index "+g)})}function u(E,w){if(!Array.isArray(E))throw new Error("array of scalars expected");E.forEach((b,g)=>{if(!w.isValid(b))throw new Error("invalid scalar at index "+g)})}const l=new WeakMap,d=new WeakMap;function f(E){return d.get(E)||1}function h(E,w){return{constTimeNegate:s,hasPrecomputes(b){return f(b)!==1},unsafeLadder(b,g,v=E.ZERO){let A=b;for(;g>r;)g&n&&(v=v.add(A)),A=A.double(),g>>=n;return v},precomputeWindow(b,g){const{windows:v,windowSize:A}=o(g,w),C=[];let x=b,T=x;for(let N=0;N<v;N++){T=x,C.push(T);for(let M=1;M<A;M++)T=T.add(x),C.push(T);x=T.double()}return C},wNAF(b,g,v){let A=E.ZERO,C=E.BASE;const x=o(b,w);for(let T=0;T<x.windows;T++){const{nextN:N,offset:M,isZero:k,isNeg:B,isNegF:U,offsetF:I}=a(v,T,x);v=N,k?C=C.add(s(U,g[I])):A=A.add(s(B,g[M]))}return{p:A,f:C}},wNAFUnsafe(b,g,v,A=E.ZERO){const C=o(b,w);for(let x=0;x<C.windows&&v!==r;x++){const{nextN:T,offset:N,isZero:M,isNeg:k}=a(v,x,C);if(v=T,!M){const B=g[N];A=A.add(k?B.negate():B)}}return A},getPrecomputes(b,g,v){let A=l.get(g);return A||(A=this.precomputeWindow(g,b),b!==1&&l.set(g,v(A))),A},wNAFCached(b,g,v){const A=f(b);return this.wNAF(A,this.getPrecomputes(A,b,v),g)},wNAFCachedUnsafe(b,g,v,A){const C=f(b);return C===1?this.unsafeLadder(b,g,A):this.wNAFUnsafe(C,this.getPrecomputes(C,b,v),g,A)},setWindowSize(b,g){i(g,w),d.set(b,g),l.delete(b)}}}function p(E,w,b,g){c(b,E),u(g,w);const v=b.length,A=g.length;if(v!==A)throw new Error("arrays of points and scalars must have equal length");const C=E.ZERO,x=(0,e.bitLen)(BigInt(v));let T=1;x>12?T=x-3:x>4?T=x-2:x>0&&(T=2);const N=(0,e.bitMask)(T),M=new Array(Number(N)+1).fill(C),k=Math.floor((w.BITS-1)/T)*T;let B=C;for(let U=k;U>=0;U-=T){M.fill(C);for(let S=0;S<A;S++){const _=g[S],R=Number(_>>BigInt(U)&N);M[R]=M[R].add(b[S])}let I=C;for(let S=M.length-1,_=C;S>0;S--)_=_.add(M[S]),I=I.add(_);if(B=B.add(I),U!==0)for(let S=0;S<T;S++)B=B.double()}return B}function m(E,w,b,g){i(g,w.BITS),c(b,E);const v=E.ZERO,A=2**g-1,C=Math.ceil(w.BITS/g),x=(0,e.bitMask)(g),T=b.map(N=>{const M=[];for(let k=0,B=N;k<A;k++)M.push(B),B=B.add(N);return M});return N=>{if(u(N,w),N.length>b.length)throw new Error("array of scalars must be smaller than array of points");let M=v;for(let k=0;k<C;k++){if(M!==v)for(let U=0;U<g;U++)M=M.double();const B=BigInt(C*g-(k+1)*g);for(let U=0;U<N.length;U++){const I=N[U],S=Number(I>>B&x);S&&(M=M.add(T[U][S-1]))}}return M}}function y(E){return(0,t.validateField)(E.Fp),(0,e.validateObject)(E,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(E.n,E.nBitLength),...E,p:E.Fp.ORDER})}return Of}var Tz;function Dre(){return Tz||(Tz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=h,t.weierstrass=m,t.SWUFpSqrtRatio=y,t.mapToCurveSimpleSWU=E;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=p4e(),r=u6(),n=Tp();function s(w){w.lowS!==void 0&&(0,n.abool)("lowS",w.lowS),w.prehash!==void 0&&(0,n.abool)("prehash",w.prehash)}function i(w){const b=(0,e.validateBasic)(w);(0,n.validateObject)(b,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:g,Fp:v,a:A}=b;if(g){if(!v.eql(A,v.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof g!="object"||typeof g.beta!="bigint"||typeof g.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...b})}class o extends Error{constructor(b=""){super(b)}}t.DERErr=o,t.DER={Err:o,_tlv:{encode:(w,b)=>{const{Err:g}=t.DER;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length&1)throw new g("tlv.encode: unpadded data");const v=b.length/2,A=(0,n.numberToHexUnpadded)(v);if(A.length/2&128)throw new g("tlv.encode: long form length too big");const C=v>127?(0,n.numberToHexUnpadded)(A.length/2|128):"";return(0,n.numberToHexUnpadded)(w)+C+A+b},decode(w,b){const{Err:g}=t.DER;let v=0;if(w<0||w>256)throw new g("tlv.encode: wrong tag");if(b.length<2||b[v++]!==w)throw new g("tlv.decode: wrong tlv");const A=b[v++],C=!!(A&128);let x=0;if(!C)x=A;else{const N=A&127;if(!N)throw new g("tlv.decode(long): indefinite length not supported");if(N>4)throw new g("tlv.decode(long): byte length is too big");const M=b.subarray(v,v+N);if(M.length!==N)throw new g("tlv.decode: length bytes not complete");if(M[0]===0)throw new g("tlv.decode(long): zero leftmost byte");for(const k of M)x=x<<8|k;if(v+=N,x<128)throw new g("tlv.decode(long): not minimal encoding")}const T=b.subarray(v,v+x);if(T.length!==x)throw new g("tlv.decode: wrong value length");return{v:T,l:b.subarray(v+x)}}},_int:{encode(w){const{Err:b}=t.DER;if(w<c)throw new b("integer: negative integers are not allowed");let g=(0,n.numberToHexUnpadded)(w);if(Number.parseInt(g[0],16)&8&&(g="00"+g),g.length&1)throw new b("unexpected DER parsing assertion: unpadded hex");return g},decode(w){const{Err:b}=t.DER;if(w[0]&128)throw new b("invalid signature integer: negative");if(w[0]===0&&!(w[1]&128))throw new b("invalid signature integer: unnecessary leading zero");return(0,n.bytesToNumberBE)(w)}},toSig(w){const{Err:b,_int:g,_tlv:v}=t.DER,A=(0,n.ensureBytes)("signature",w),{v:C,l:x}=v.decode(48,A);if(x.length)throw new b("invalid signature: left bytes after parsing");const{v:T,l:N}=v.decode(2,C),{v:M,l:k}=v.decode(2,N);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:g.decode(T),s:g.decode(M)}},hexFromSig(w){const{_tlv:b,_int:g}=t.DER,v=b.encode(2,g.encode(w.r)),A=b.encode(2,g.encode(w.s)),C=v+A;return b.encode(48,C)}};function a(w,b){return(0,n.bytesToHex)((0,n.numberToBytesBE)(w,b))}const c=BigInt(0),u=BigInt(1),l=BigInt(2),d=BigInt(3),f=BigInt(4);function h(w){const b=i(w),{Fp:g}=b,v=(0,r.Field)(b.n,b.nBitLength),A=b.toBytes||((D,j,F)=>{const q=j.toAffine();return(0,n.concatBytes)(Uint8Array.from([4]),g.toBytes(q.x),g.toBytes(q.y))}),C=b.fromBytes||(D=>{const j=D.subarray(1),F=g.fromBytes(j.subarray(0,g.BYTES)),q=g.fromBytes(j.subarray(g.BYTES,2*g.BYTES));return{x:F,y:q}});function x(D){const{a:j,b:F}=b,q=g.sqr(D),z=g.mul(q,D);return g.add(g.add(z,g.mul(D,j)),F)}function T(D,j){const F=g.sqr(j),q=x(D);return g.eql(F,q)}if(!T(b.Gx,b.Gy))throw new Error("bad curve params: generator point");const N=g.mul(g.pow(b.a,d),f),M=g.mul(g.sqr(b.b),BigInt(27));if(g.is0(g.add(N,M)))throw new Error("bad curve params: a or b");function k(D){return(0,n.inRange)(D,u,b.n)}function B(D){const{allowedPrivateKeyLengths:j,nByteLength:F,wrapPrivateKey:q,n:z}=b;if(j&&typeof D!="bigint"){if((0,n.isBytes)(D)&&(D=(0,n.bytesToHex)(D)),typeof D!="string"||!j.includes(D.length))throw new Error("invalid private key");D=D.padStart(F*2,"0")}let W;try{W=typeof D=="bigint"?D:(0,n.bytesToNumberBE)((0,n.ensureBytes)("private key",D,F))}catch{throw new Error("invalid private key, expected hex or "+F+" bytes, got "+typeof D)}return q&&(W=(0,r.mod)(W,z)),(0,n.aInRange)("private key",W,u,z),W}function U(D){if(!(D instanceof _))throw new Error("ProjectivePoint expected")}const I=(0,n.memoized)((D,j)=>{const{px:F,py:q,pz:z}=D;if(g.eql(z,g.ONE))return{x:F,y:q};const W=D.is0();j==null&&(j=W?g.ONE:g.inv(z));const K=g.mul(F,j),re=g.mul(q,j),Q=g.mul(z,j);if(W)return{x:g.ZERO,y:g.ZERO};if(!g.eql(Q,g.ONE))throw new Error("invZ was invalid");return{x:K,y:re}}),S=(0,n.memoized)(D=>{if(D.is0()){if(b.allowInfinityPoint&&!g.is0(D.py))return;throw new Error("bad point: ZERO")}const{x:j,y:F}=D.toAffine();if(!g.isValid(j)||!g.isValid(F))throw new Error("bad point: x or y not FE");if(!T(j,F))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class _{constructor(j,F,q){if(j==null||!g.isValid(j))throw new Error("x required");if(F==null||!g.isValid(F)||g.is0(F))throw new Error("y required");if(q==null||!g.isValid(q))throw new Error("z required");this.px=j,this.py=F,this.pz=q,Object.freeze(this)}static fromAffine(j){const{x:F,y:q}=j||{};if(!j||!g.isValid(F)||!g.isValid(q))throw new Error("invalid affine point");if(j instanceof _)throw new Error("projective point not allowed");const z=W=>g.eql(W,g.ZERO);return z(F)&&z(q)?_.ZERO:new _(F,q,g.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(j){const F=(0,r.FpInvertBatch)(g,j.map(q=>q.pz));return j.map((q,z)=>q.toAffine(F[z])).map(_.fromAffine)}static fromHex(j){const F=_.fromAffine(C((0,n.ensureBytes)("pointHex",j)));return F.assertValidity(),F}static fromPrivateKey(j){return _.BASE.multiply(B(j))}static msm(j,F){return(0,e.pippenger)(_,v,j,F)}_setWindowSize(j){P.setWindowSize(this,j)}assertValidity(){S(this)}hasEvenY(){const{y:j}=this.toAffine();if(g.isOdd)return!g.isOdd(j);throw new Error("Field doesn't support isOdd")}equals(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j,Q=g.eql(g.mul(F,re),g.mul(W,z)),X=g.eql(g.mul(q,re),g.mul(K,z));return Q&&X}negate(){return new _(this.px,g.neg(this.py),this.pz)}double(){const{a:j,b:F}=b,q=g.mul(F,d),{px:z,py:W,pz:K}=this;let re=g.ZERO,Q=g.ZERO,X=g.ZERO,ie=g.mul(z,z),Y=g.mul(W,W),V=g.mul(K,K),Z=g.mul(z,W);return Z=g.add(Z,Z),X=g.mul(z,K),X=g.add(X,X),re=g.mul(j,X),Q=g.mul(q,V),Q=g.add(re,Q),re=g.sub(Y,Q),Q=g.add(Y,Q),Q=g.mul(re,Q),re=g.mul(Z,re),X=g.mul(q,X),V=g.mul(j,V),Z=g.sub(ie,V),Z=g.mul(j,Z),Z=g.add(Z,X),X=g.add(ie,ie),ie=g.add(X,ie),ie=g.add(ie,V),ie=g.mul(ie,Z),Q=g.add(Q,ie),V=g.mul(W,K),V=g.add(V,V),ie=g.mul(V,Z),re=g.sub(re,ie),X=g.mul(V,Y),X=g.add(X,X),X=g.add(X,X),new _(re,Q,X)}add(j){U(j);const{px:F,py:q,pz:z}=this,{px:W,py:K,pz:re}=j;let Q=g.ZERO,X=g.ZERO,ie=g.ZERO;const Y=b.a,V=g.mul(b.b,d);let Z=g.mul(F,W),ne=g.mul(q,K),ue=g.mul(z,re),ce=g.add(F,q),ge=g.add(W,K);ce=g.mul(ce,ge),ge=g.add(Z,ne),ce=g.sub(ce,ge),ge=g.add(F,z);let we=g.add(W,re);return ge=g.mul(ge,we),we=g.add(Z,ue),ge=g.sub(ge,we),we=g.add(q,z),Q=g.add(K,re),we=g.mul(we,Q),Q=g.add(ne,ue),we=g.sub(we,Q),ie=g.mul(Y,ge),Q=g.mul(V,ue),ie=g.add(Q,ie),Q=g.sub(ne,ie),ie=g.add(ne,ie),X=g.mul(Q,ie),ne=g.add(Z,Z),ne=g.add(ne,Z),ue=g.mul(Y,ue),ge=g.mul(V,ge),ne=g.add(ne,ue),ue=g.sub(Z,ue),ue=g.mul(Y,ue),ge=g.add(ge,ue),Z=g.mul(ne,ge),X=g.add(X,Z),Z=g.mul(we,ge),Q=g.mul(ce,Q),Q=g.sub(Q,Z),Z=g.mul(ce,ne),ie=g.mul(we,ie),ie=g.add(ie,Z),new _(Q,X,ie)}subtract(j){return this.add(j.negate())}is0(){return this.equals(_.ZERO)}wNAF(j){return P.wNAFCached(this,j,_.normalizeZ)}multiplyUnsafe(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,c,q);const z=_.ZERO;if(j===c)return z;if(this.is0()||j===u)return this;if(!F||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,j,_.normalizeZ);let{k1neg:W,k1:K,k2neg:re,k2:Q}=F.splitScalar(j),X=z,ie=z,Y=this;for(;K>c||Q>c;)K&u&&(X=X.add(Y)),Q&u&&(ie=ie.add(Y)),Y=Y.double(),K>>=u,Q>>=u;return W&&(X=X.negate()),re&&(ie=ie.negate()),ie=new _(g.mul(ie.px,F.beta),ie.py,ie.pz),X.add(ie)}multiply(j){const{endo:F,n:q}=b;(0,n.aInRange)("scalar",j,u,q);let z,W;if(F){const{k1neg:K,k1:re,k2neg:Q,k2:X}=F.splitScalar(j);let{p:ie,f:Y}=this.wNAF(re),{p:V,f:Z}=this.wNAF(X);ie=P.constTimeNegate(K,ie),V=P.constTimeNegate(Q,V),V=new _(g.mul(V.px,F.beta),V.py,V.pz),z=ie.add(V),W=Y.add(Z)}else{const{p:K,f:re}=this.wNAF(j);z=K,W=re}return _.normalizeZ([z,W])[0]}multiplyAndAddUnsafe(j,F,q){const z=_.BASE,W=(re,Q)=>Q===c||Q===u||!re.equals(z)?re.multiplyUnsafe(Q):re.multiply(Q),K=W(this,F).add(W(j,q));return K.is0()?void 0:K}toAffine(j){return I(this,j)}isTorsionFree(){const{h:j,isTorsionFree:F}=b;if(j===u)return!0;if(F)return F(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:j,clearCofactor:F}=b;return j===u?this:F?F(_,this):this.multiplyUnsafe(b.h)}toRawBytes(j=!0){return(0,n.abool)("isCompressed",j),this.assertValidity(),A(_,this,j)}toHex(j=!0){return(0,n.abool)("isCompressed",j),(0,n.bytesToHex)(this.toRawBytes(j))}}_.BASE=new _(b.Gx,b.Gy,g.ONE),_.ZERO=new _(g.ZERO,g.ONE,g.ZERO);const{endo:R,nBitLength:O}=b,P=(0,e.wNAF)(_,R?Math.ceil(O/2):O);return{CURVE:b,ProjectivePoint:_,normPrivateKeyToScalar:B,weierstrassEquation:x,isWithinCurveOrder:k}}function p(w){const b=(0,e.validateBasic)(w);return(0,n.validateObject)(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})}function m(w){const b=p(w),{Fp:g,n:v,nByteLength:A,nBitLength:C}=b,x=g.BYTES+1,T=2*g.BYTES+1;function N(V){return(0,r.mod)(V,v)}function M(V){return(0,r.invert)(V,v)}const{ProjectivePoint:k,normPrivateKeyToScalar:B,weierstrassEquation:U,isWithinCurveOrder:I}=h({...b,toBytes(V,Z,ne){const ue=Z.toAffine(),ce=g.toBytes(ue.x),ge=n.concatBytes;return(0,n.abool)("isCompressed",ne),ne?ge(Uint8Array.from([Z.hasEvenY()?2:3]),ce):ge(Uint8Array.from([4]),ce,g.toBytes(ue.y))},fromBytes(V){const Z=V.length,ne=V[0],ue=V.subarray(1);if(Z===x&&(ne===2||ne===3)){const ce=(0,n.bytesToNumberBE)(ue);if(!(0,n.inRange)(ce,u,g.ORDER))throw new Error("Point is not on curve");const ge=U(ce);let we;try{we=g.sqrt(ge)}catch(Oe){const Ie=Oe instanceof Error?": "+Oe.message:"";throw new Error("Point is not on curve"+Ie)}const me=(we&u)===u;return(ne&1)===1!==me&&(we=g.neg(we)),{x:ce,y:we}}else if(Z===T&&ne===4){const ce=g.fromBytes(ue.subarray(0,g.BYTES)),ge=g.fromBytes(ue.subarray(g.BYTES,2*g.BYTES));return{x:ce,y:ge}}else{const ce=x,ge=T;throw new Error("invalid Point, expected length of "+ce+", or uncompressed "+ge+", got "+Z)}}});function S(V){const Z=v>>u;return V>Z}function _(V){return S(V)?N(-V):V}const R=(V,Z,ne)=>(0,n.bytesToNumberBE)(V.slice(Z,ne));class O{constructor(Z,ne,ue){(0,n.aInRange)("r",Z,u,v),(0,n.aInRange)("s",ne,u,v),this.r=Z,this.s=ne,ue!=null&&(this.recovery=ue),Object.freeze(this)}static fromCompact(Z){const ne=A;return Z=(0,n.ensureBytes)("compactSignature",Z,ne*2),new O(R(Z,0,ne),R(Z,ne,2*ne))}static fromDER(Z){const{r:ne,s:ue}=t.DER.toSig((0,n.ensureBytes)("DER",Z));return new O(ne,ue)}assertValidity(){}addRecoveryBit(Z){return new O(this.r,this.s,Z)}recoverPublicKey(Z){const{r:ne,s:ue,recovery:ce}=this,ge=z((0,n.ensureBytes)("msgHash",Z));if(ce==null||![0,1,2,3].includes(ce))throw new Error("recovery id invalid");const we=ce===2||ce===3?ne+b.n:ne;if(we>=g.ORDER)throw new Error("recovery id 2 or 3 invalid");const me=(ce&1)===0?"02":"03",ae=k.fromHex(me+a(we,g.BYTES)),Oe=M(we),Ie=N(-ge*Oe),Be=N(ue*Oe),de=k.BASE.multiplyAndAddUnsafe(ae,Ie,Be);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,N(-this.s),this.recovery):this}toDERRawBytes(){return(0,n.hexToBytes)(this.toDERHex())}toDERHex(){return t.DER.hexFromSig(this)}toCompactRawBytes(){return(0,n.hexToBytes)(this.toCompactHex())}toCompactHex(){const Z=A;return a(this.r,Z)+a(this.s,Z)}}const P={isValidPrivateKey(V){try{return B(V),!0}catch{return!1}},normPrivateKeyToScalar:B,randomPrivateKey:()=>{const V=(0,r.getMinHashLength)(b.n);return(0,r.mapHashToField)(b.randomBytes(V),b.n)},precompute(V=8,Z=k.BASE){return Z._setWindowSize(V),Z.multiply(BigInt(3)),Z}};function D(V,Z=!0){return k.fromPrivateKey(V).toRawBytes(Z)}function j(V){if(typeof V=="bigint")return!1;if(V instanceof k)return!0;const ne=(0,n.ensureBytes)("key",V).length,ue=g.BYTES,ce=ue+1,ge=2*ue+1;if(!(b.allowedPrivateKeyLengths||A===ce))return ne===ce||ne===ge}function F(V,Z,ne=!0){if(j(V)===!0)throw new Error("first arg must be private key");if(j(Z)===!1)throw new Error("second arg must be public key");return k.fromHex(Z).multiply(B(V)).toRawBytes(ne)}const q=b.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const Z=(0,n.bytesToNumberBE)(V),ne=V.length*8-C;return ne>0?Z>>BigInt(ne):Z},z=b.bits2int_modN||function(V){return N(q(V))},W=(0,n.bitMask)(C);function K(V){return(0,n.aInRange)("num < 2^"+C,V,c,W),(0,n.numberToBytesBE)(V,A)}function re(V,Z,ne=Q){if(["recovered","canonical"].some($=>$ in ne))throw new Error("sign() legacy options not supported");const{hash:ue,randomBytes:ce}=b;let{lowS:ge,prehash:we,extraEntropy:me}=ne;ge==null&&(ge=!0),V=(0,n.ensureBytes)("msgHash",V),s(ne),we&&(V=(0,n.ensureBytes)("prehashed msgHash",ue(V)));const ae=z(V),Oe=B(Z),Ie=[K(Oe),K(ae)];if(me!=null&&me!==!1){const $=me===!0?ce(g.BYTES):me;Ie.push((0,n.ensureBytes)("extraEntropy",$))}const Be=(0,n.concatBytes)(...Ie),de=ae;function oe($){const L=q($);if(!I(L))return;const H=M(L),ee=k.BASE.multiply(L).toAffine(),le=N(ee.x);if(le===c)return;const ye=N(H*N(de+le*Oe));if(ye===c)return;let Ae=(ee.x===le?0:2)|Number(ee.y&u),tt=ye;return ge&&S(ye)&&(tt=_(ye),Ae^=1),new O(le,tt,Ae)}return{seed:Be,k2sig:oe}}const Q={lowS:b.lowS,prehash:!1},X={lowS:b.lowS,prehash:!1};function ie(V,Z,ne=Q){const{seed:ue,k2sig:ce}=re(V,Z,ne),ge=b;return(0,n.createHmacDrbg)(ge.hash.outputLen,ge.nByteLength,ge.hmac)(ue,ce)}k.BASE._setWindowSize(8);function Y(V,Z,ne,ue=X){var Ae;const ce=V;Z=(0,n.ensureBytes)("msgHash",Z),ne=(0,n.ensureBytes)("publicKey",ne);const{lowS:ge,prehash:we,format:me}=ue;if(s(ue),"strict"in ue)throw new Error("options.strict was renamed to lowS");if(me!==void 0&&me!=="compact"&&me!=="der")throw new Error("format must be compact or der");const ae=typeof ce=="string"||(0,n.isBytes)(ce),Oe=!ae&&!me&&typeof ce=="object"&&ce!==null&&typeof ce.r=="bigint"&&typeof ce.s=="bigint";if(!ae&&!Oe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Ie,Be;try{if(Oe&&(Ie=new O(ce.r,ce.s)),ae){try{me!=="compact"&&(Ie=O.fromDER(ce))}catch(tt){if(!(tt instanceof t.DER.Err))throw tt}!Ie&&me!=="der"&&(Ie=O.fromCompact(ce))}Be=k.fromHex(ne)}catch{return!1}if(!Ie||ge&&Ie.hasHighS())return!1;we&&(Z=b.hash(Z));const{r:de,s:oe}=Ie,$=z(Z),L=M(oe),H=N($*L),ee=N(de*L),le=(Ae=k.BASE.multiplyAndAddUnsafe(Be,H,ee))==null?void 0:Ae.toAffine();return le?N(le.x)===de:!1}return{CURVE:b,getPublicKey:D,getSharedSecret:F,sign:ie,verify:Y,ProjectivePoint:k,Signature:O,utils:P}}function y(w,b){const g=w.ORDER;let v=c;for(let S=g-u;S%l===c;S/=l)v+=u;const A=v,C=l<<A-u-u,x=C*l,T=(g-u)/x,N=(T-u)/l,M=x-u,k=C,B=w.pow(b,T),U=w.pow(b,(T+u)/l);let I=(S,_)=>{let R=B,O=w.pow(_,M),P=w.sqr(O);P=w.mul(P,_);let D=w.mul(S,P);D=w.pow(D,N),D=w.mul(D,O),O=w.mul(D,_),P=w.mul(D,S);let j=w.mul(P,O);D=w.pow(j,k);let F=w.eql(D,w.ONE);O=w.mul(P,U),D=w.mul(j,R),P=w.cmov(O,P,F),j=w.cmov(D,j,F);for(let q=A;q>u;q--){let z=q-l;z=l<<z-u;let W=w.pow(j,z);const K=w.eql(W,w.ONE);O=w.mul(P,R),R=w.mul(R,R),W=w.mul(j,R),P=w.cmov(O,P,K),j=w.cmov(W,j,K)}return{isValid:F,value:P}};if(w.ORDER%f===d){const S=(w.ORDER-d)/f,_=w.sqrt(w.neg(b));I=(R,O)=>{let P=w.sqr(O);const D=w.mul(R,O);P=w.mul(P,D);let j=w.pow(P,S);j=w.mul(j,D);const F=w.mul(j,_),q=w.mul(w.sqr(j),O),z=w.eql(q,R);let W=w.cmov(F,j,z);return{isValid:z,value:W}}}return I}function E(w,b){if((0,r.validateField)(w),!w.isValid(b.A)||!w.isValid(b.B)||!w.isValid(b.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const g=y(w,b.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return v=>{let A,C,x,T,N,M,k,B;A=w.sqr(v),A=w.mul(A,b.Z),C=w.sqr(A),C=w.add(C,A),x=w.add(C,w.ONE),x=w.mul(x,b.B),T=w.cmov(b.Z,w.neg(C),!w.eql(C,w.ZERO)),T=w.mul(T,b.A),C=w.sqr(x),M=w.sqr(T),N=w.mul(M,b.A),C=w.add(C,N),C=w.mul(C,x),M=w.mul(M,T),N=w.mul(M,b.B),C=w.add(C,N),k=w.mul(A,x);const{isValid:U,value:I}=g(C,M);B=w.mul(A,v),B=w.mul(B,I),k=w.cmov(k,x,U),B=w.cmov(B,I,U);const S=w.isOdd(v)===w.isOdd(B);B=w.cmov(w.neg(B),B,S);const _=(0,r.FpInvertBatch)(w,[T],!0)[0];return k=w.mul(k,_),{x:k,y:B}}}})(IO)),IO}var Pz;function m4e(){if(Pz)return wb;Pz=1,Object.defineProperty(wb,"__esModule",{value:!0}),wb.getHash=n,wb.createCurve=s;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=jte(),e=ma(),r=Dre();function n(i){return{hash:i,hmac:(o,...a)=>(0,t.hmac)(i,o,(0,e.concatBytes)(...a)),randomBytes:e.randomBytes}}function s(i,o){const a=c=>(0,r.weierstrass)({...i,...n(c)});return{...a(o),create:a}}return wb}var _l={},xz;function g4e(){if(xz)return _l;xz=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.expand_message_xmd=o,_l.expand_message_xof=a,_l.hash_to_field=c,_l.isogenyMap=u,_l.createHasher=l;const t=u6(),e=Tp(),r=e.bytesToNumberBE;function n(d,f){if(i(d),i(f),d<0||d>=1<<8*f)throw new Error("invalid I2OSP input: "+d);const h=Array.from({length:f}).fill(0);for(let p=f-1;p>=0;p--)h[p]=d&255,d>>>=8;return new Uint8Array(h)}function s(d,f){const h=new Uint8Array(d.length);for(let p=0;p<d.length;p++)h[p]=d[p]^f[p];return h}function i(d){if(!Number.isSafeInteger(d))throw new Error("number expected")}function o(d,f,h,p){(0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255&&(f=p((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),f)));const{outputLen:m,blockLen:y}=p,E=Math.ceil(h/m);if(h>65535||E>255)throw new Error("expand_message_xmd: invalid lenInBytes");const w=(0,e.concatBytes)(f,n(f.length,1)),b=n(0,y),g=n(h,2),v=new Array(E),A=p((0,e.concatBytes)(b,d,g,n(0,1),w));v[0]=p((0,e.concatBytes)(A,n(1,1),w));for(let x=1;x<=E;x++){const T=[s(A,v[x-1]),n(x+1,1),w];v[x]=p((0,e.concatBytes)(...T))}return(0,e.concatBytes)(...v).slice(0,h)}function a(d,f,h,p,m){if((0,e.abytes)(d),(0,e.abytes)(f),i(h),f.length>255){const y=Math.ceil(2*p/8);f=m.create({dkLen:y}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(f).digest()}if(h>65535||f.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return m.create({dkLen:h}).update(d).update(n(h,2)).update(f).update(n(f.length,1)).digest()}function c(d,f,h){(0,e.validateObject)(h,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p,k:m,m:y,hash:E,expand:w,DST:b}=h;(0,e.abytes)(d),i(f);const g=typeof b=="string"?(0,e.utf8ToBytes)(b):b,v=p.toString(2).length,A=Math.ceil((v+m)/8),C=f*y*A;let x;if(w==="xmd")x=o(d,g,C,E);else if(w==="xof")x=a(d,g,C,m,E);else if(w==="_internal_pass")x=d;else throw new Error('expand must be "xmd" or "xof"');const T=new Array(f);for(let N=0;N<f;N++){const M=new Array(y);for(let k=0;k<y;k++){const B=A*(k+N*y),U=x.subarray(B,B+A);M[k]=(0,t.mod)(r(U),p)}T[N]=M}return T}function u(d,f){const h=f.map(p=>Array.from(p).reverse());return(p,m)=>{const[y,E,w,b]=h.map(A=>A.reduce((C,x)=>d.add(d.mul(C,p),x))),[g,v]=(0,t.FpInvertBatch)(d,[E,b],!0);return p=d.mul(y,g),m=d.mul(m,d.mul(w,v)),{x:p,y:m}}}function l(d,f,h){if(typeof f!="function")throw new Error("mapToCurve() must be defined");function p(y){return d.fromAffine(f(y))}function m(y){const E=y.clearCofactor();return E.equals(d.ZERO)?d.ZERO:(E.assertValidity(),E)}return{defaults:h,hashToCurve(y,E){const w=c(y,2,{...h,DST:h.DST,...E}),b=p(w[0]),g=p(w[1]);return m(b.add(g))},encodeToCurve(y,E){const w=c(y,1,{...h,DST:h.encodeDST,...E});return m(p(w[0]))},mapToCurve(y){if(!Array.isArray(y))throw new Error("expected array of bigints");for(const E of y)if(typeof E!="bigint")throw new Error("expected array of bigints");return m(p(y))}}}return _l}var Oz;function Mre(){return Oz||(Oz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.secp256k1_hasher=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Z3(),r=ma(),n=m4e(),s=g4e(),i=u6(),o=Tp(),a=Dre(),c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(0),d=BigInt(1),f=BigInt(2),h=(_,R)=>(_+R/f)/R;function p(_){const R=c,O=BigInt(3),P=BigInt(6),D=BigInt(11),j=BigInt(22),F=BigInt(23),q=BigInt(44),z=BigInt(88),W=_*_*_%R,K=W*W*_%R,re=(0,i.pow2)(K,O,R)*K%R,Q=(0,i.pow2)(re,O,R)*K%R,X=(0,i.pow2)(Q,f,R)*W%R,ie=(0,i.pow2)(X,D,R)*X%R,Y=(0,i.pow2)(ie,j,R)*ie%R,V=(0,i.pow2)(Y,q,R)*Y%R,Z=(0,i.pow2)(V,z,R)*V%R,ne=(0,i.pow2)(Z,q,R)*Y%R,ue=(0,i.pow2)(ne,O,R)*K%R,ce=(0,i.pow2)(ue,F,R)*ie%R,ge=(0,i.pow2)(ce,P,R)*W%R,we=(0,i.pow2)(ge,f,R);if(!m.eql(m.sqr(we),_))throw new Error("Cannot find square root");return we}const m=(0,i.Field)(c,void 0,void 0,{sqrt:p});t.secp256k1=(0,n.createCurve)({a:l,b:BigInt(7),Fp:m,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:_=>{const R=u,O=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),P=-d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),D=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),j=O,F=BigInt("0x100000000000000000000000000000000"),q=h(j*_,R),z=h(-P*_,R);let W=(0,i.mod)(_-q*O-z*D,R),K=(0,i.mod)(-q*P-z*j,R);const re=W>F,Q=K>F;if(re&&(W=R-W),Q&&(K=R-K),W>F||K>F)throw new Error("splitScalar: Endomorphism failed, k="+_);return{k1neg:re,k1:W,k2neg:Q,k2:K}}}},e.sha256);const y={};function E(_,...R){let O=y[_];if(O===void 0){const P=(0,e.sha256)(Uint8Array.from(_,D=>D.charCodeAt(0)));O=(0,o.concatBytes)(P,P),y[_]=O}return(0,e.sha256)((0,o.concatBytes)(O,...R))}const w=_=>_.toRawBytes(!0).slice(1),b=_=>(0,o.numberToBytesBE)(_,32),g=_=>(0,i.mod)(_,c),v=_=>(0,i.mod)(_,u),A=t.secp256k1.ProjectivePoint,C=(_,R,O)=>A.BASE.multiplyAndAddUnsafe(_,R,O);function x(_){let R=t.secp256k1.utils.normPrivateKeyToScalar(_),O=A.fromPrivateKey(R);return{scalar:O.hasEvenY()?R:v(-R),bytes:w(O)}}function T(_){(0,o.aInRange)("x",_,d,c);const R=g(_*_),O=g(R*_+BigInt(7));let P=p(O);P%f!==l&&(P=g(-P));const D=new A(_,P,d);return D.assertValidity(),D}const N=o.bytesToNumberBE;function M(..._){return v(N(E("BIP0340/challenge",..._)))}function k(_){return x(_).bytes}function B(_,R,O=(0,r.randomBytes)(32)){const P=(0,o.ensureBytes)("message",_),{bytes:D,scalar:j}=x(R),F=(0,o.ensureBytes)("auxRand",O,32),q=b(j^N(E("BIP0340/aux",F))),z=E("BIP0340/nonce",q,D,P),W=v(N(z));if(W===l)throw new Error("sign failed: k is zero");const{bytes:K,scalar:re}=x(W),Q=M(K,D,P),X=new Uint8Array(64);if(X.set(K,0),X.set(b(v(re+Q*j)),32),!U(X,P,D))throw new Error("sign: Invalid signature produced");return X}function U(_,R,O){const P=(0,o.ensureBytes)("signature",_,64),D=(0,o.ensureBytes)("message",R),j=(0,o.ensureBytes)("publicKey",O,32);try{const F=T(N(j)),q=N(P.subarray(0,32));if(!(0,o.inRange)(q,d,c))return!1;const z=N(P.subarray(32,64));if(!(0,o.inRange)(z,d,u))return!1;const W=M(b(q),w(F),D),K=C(F,z,v(-W));return!(!K||!K.hasEvenY()||K.toAffine().x!==q)}catch{return!1}}t.schnorr={getPublicKey:k,sign:B,verify:U,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:T,pointToBytes:w,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:E,mod:i.mod}};const I=(0,s.isogenyMap)(m,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(_=>_.map(R=>BigInt(R)))),S=(0,a.mapToCurveSimpleSWU)(m,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:m.create(BigInt("-11"))});t.secp256k1_hasher=(0,s.createHasher)(t.secp256k1.ProjectivePoint,_=>{const{x:R,y:O}=S(m.create(_[0]));return I(R,O)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:m.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}),t.hashToCurve=t.secp256k1_hasher.hashToCurve,t.encodeToCurve=t.secp256k1_hasher.encodeToCurve})(SO)),SO}var Rz;function Ure(){if(Rz)return Ut;Rz=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.InvalidVError=Ut.InvalidYParityError=Ut.InvalidSError=Ut.InvalidRError=Ut.MissingPropertiesError=Ut.InvalidSerializedSizeError=void 0,Ut.assert=o,Ut.fromBytes=a,Ut.fromHex=c,Ut.extract=u,Ut.from=l,Ut.fromDerBytes=d,Ut.fromDerHex=f,Ut.fromLegacy=h,Ut.fromRpc=p,Ut.fromTuple=m,Ut.toBytes=y,Ut.toHex=E,Ut.toDerBytes=w,Ut.toDerHex=b,Ut.toLegacy=g,Ut.toRpc=v,Ut.toTuple=A,Ut.validate=C,Ut.vToYParity=x,Ut.yParityToV=T;const t=Mre(),e=mc(),r=no(),n=es(),s=KP(),i=j4();function o(S,_={}){const{recovered:R}=_;if(typeof S.r>"u")throw new M({signature:S});if(typeof S.s>"u")throw new M({signature:S});if(R&&typeof S.yParity>"u")throw new M({signature:S});if(S.r<0n||S.r>i.maxUint256)throw new k({value:S.r});if(S.s<0n||S.s>i.maxUint256)throw new B({value:S.s});if(typeof S.yParity=="number"&&S.yParity!==0&&S.yParity!==1)throw new U({value:S.yParity})}function a(S){return c(n.fromBytes(S))}function c(S){if(S.length!==130&&S.length!==132)throw new N({signature:S});const _=BigInt(n.slice(S,0,32)),R=BigInt(n.slice(S,32,64)),O=(()=>{const P=+`0x${S.slice(130)}`;if(!Number.isNaN(P))try{return x(P)}catch{throw new U({value:P})}})();return typeof O>"u"?{r:_,s:R}:{r:_,s:R,yParity:O}}function u(S){if(!(typeof S.r>"u")&&!(typeof S.s>"u"))return l(S)}function l(S){const _=typeof S=="string"?c(S):S instanceof Uint8Array?a(S):typeof S.r=="string"?p(S):S.v?h(S):{r:S.r,s:S.s,...typeof S.yParity<"u"?{yParity:S.yParity}:{}};return o(_),_}function d(S){return f(n.fromBytes(S))}function f(S){const{r:_,s:R}=t.secp256k1.Signature.fromDER(n.from(S).slice(2));return{r:_,s:R}}function h(S){return{r:S.r,s:S.s,yParity:x(S.v)}}function p(S){const _=(()=>{const R=S.v?Number(S.v):void 0;let O=S.yParity?Number(S.yParity):void 0;if(typeof R=="number"&&typeof O!="number"&&(O=x(R)),typeof O!="number")throw new U({value:S.yParity});return O})();return{r:BigInt(S.r),s:BigInt(S.s),yParity:_}}function m(S){const[_,R,O]=S;return l({r:R==="0x"?0n:BigInt(R),s:O==="0x"?0n:BigInt(O),yParity:_==="0x"?0:Number(_)})}function y(S){return e.fromHex(E(S))}function E(S){o(S);const _=S.r,R=S.s;return n.concat(n.fromNumber(_,{size:32}),n.fromNumber(R,{size:32}),typeof S.yParity=="number"?n.fromNumber(T(S.yParity),{size:1}):"0x")}function w(S){return new t.secp256k1.Signature(S.r,S.s).toDERRawBytes()}function b(S){return`0x${new t.secp256k1.Signature(S.r,S.s).toDERHex()}`}function g(S){return{r:S.r,s:S.s,v:T(S.yParity)}}function v(S){const{r:_,s:R,yParity:O}=S;return{r:n.fromNumber(_,{size:32}),s:n.fromNumber(R,{size:32}),yParity:O===0?"0x0":"0x1"}}function A(S){const{r:_,s:R,yParity:O}=S;return[O?"0x01":"0x",_===0n?"0x":n.trimLeft(n.fromNumber(_)),R===0n?"0x":n.trimLeft(n.fromNumber(R))]}function C(S,_={}){try{return o(S,_),!0}catch{return!1}}function x(S){if(S===0||S===27)return 0;if(S===1||S===28)return 1;if(S>=35)return S%2===0?1:0;throw new I({value:S})}function T(S){if(S===0)return 27;if(S===1)return 28;throw new U({value:S})}class N extends r.BaseError{constructor({signature:_}){super(`Value \`${_}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${n.size(n.from(_))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}Ut.InvalidSerializedSizeError=N;class M extends r.BaseError{constructor({signature:_}){super(`Signature \`${s.stringify(_)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}Ut.MissingPropertiesError=M;class k extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}Ut.InvalidRError=k;class B extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}Ut.InvalidSError=B;class U extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}Ut.InvalidYParityError=U;class I extends r.BaseError{constructor({value:_}){super(`Value \`${_}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}return Ut.InvalidVError=I,Ut}var Nz;function y4e(){if(Nz)return Js;Nz=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.from=s,Js.fromRpc=i,Js.fromRpcList=o,Js.fromTuple=a,Js.fromTupleList=c,Js.getSignPayload=u,Js.hash=l,Js.toRpc=d,Js.toRpcList=f,Js.toTuple=h,Js.toTupleList=p;const t=k4(),e=es(),r=h4e(),n=Ure();function s(m,y={}){return typeof m.chainId=="string"?i(m):{...m,...y.signature}}function i(m){const{address:y,chainId:E,nonce:w}=m,b=n.extract(m);return{address:y,chainId:Number(E),nonce:BigInt(w),...b}}function o(m){return m.map(i)}function a(m){const[y,E,w,b,g,v]=m;let A={address:E,chainId:y==="0x"?0:Number(y),nonce:w==="0x"?0n:BigInt(w)};return b&&g&&v&&(A={...A,...n.fromTuple([b,g,v])}),s(A)}function c(m){const y=[];for(const E of m)y.push(a(E));return y}function u(m){return l(m,{presign:!0})}function l(m,y={}){const{presign:E}=y;return t.keccak256(e.concat("0x05",r.fromHex(h(E?{address:m.address,chainId:m.chainId,nonce:m.nonce}:m))))}function d(m){const{address:y,chainId:E,nonce:w,...b}=m;return{address:y,chainId:e.fromNumber(E),nonce:e.fromNumber(w),...n.toRpc(b)}}function f(m){return m.map(d)}function h(m){const{address:y,chainId:E,nonce:w}=m,b=n.extract(m);return[E?e.fromNumber(E):"0x",y,w?e.fromNumber(w):"0x",...b?n.toTuple(b):[]]}function p(m){if(!m||m.length===0)return[];const y=[];for(const E of m)y.push(h(E));return y}return Js}var ki={},Rf={},Bz;function b4e(){if(Bz)return Rf;Bz=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.extraEntropy=void 0,Rf.setExtraEntropy=t,Rf.extraEntropy=!1;function t(e){Rf.extraEntropy=e}return Rf}var kz;function w4e(){if(kz)return ki;kz=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.noble=void 0,ki.createKeyPair=o,ki.getPublicKey=a,ki.getSharedSecret=c,ki.randomPrivateKey=u,ki.recoverAddress=l,ki.recoverPublicKey=d,ki.sign=f,ki.verify=h;const t=Mre(),e=c6(),r=mc(),n=es(),s=b4e(),i=kre();ki.noble=t.secp256k1;function o(p={}){const{as:m="Hex"}=p,y=u({as:m}),E=a({privateKey:y});return{privateKey:y,publicKey:E}}function a(p){const{privateKey:m}=p,y=t.secp256k1.ProjectivePoint.fromPrivateKey(n.from(m).slice(2));return i.from(y)}function c(p){const{as:m="Hex",privateKey:y,publicKey:E}=p,g=t.secp256k1.ProjectivePoint.fromHex(i.toHex(E).slice(2)).multiply(t.secp256k1.utils.normPrivateKeyToScalar(n.from(y).slice(2))).toRawBytes(!0);return m==="Hex"?n.fromBytes(g):g}function u(p={}){const{as:m="Hex"}=p,y=t.secp256k1.utils.randomPrivateKey();return m==="Hex"?n.fromBytes(y):y}function l(p){return e.fromPublicKey(d(p))}function d(p){const{payload:m,signature:y}=p,{r:E,s:w,yParity:b}=y,v=new t.secp256k1.Signature(BigInt(E),BigInt(w)).addRecoveryBit(b).recoverPublicKey(n.from(m).substring(2));return i.from(v)}function f(p){const{extraEntropy:m=s.extraEntropy,hash:y,payload:E,privateKey:w}=p,{r:b,s:g,recovery:v}=t.secp256k1.sign(r.from(E),r.from(w),{extraEntropy:typeof m=="boolean"?m:n.from(m).slice(2),lowS:!0,...y?{prehash:!0}:{}});return{r:b,s:g,yParity:v}}function h(p){const{address:m,hash:y,payload:E,publicKey:w,signature:b}=p;return m?e.isEqual(m,l({payload:E,signature:b})):t.secp256k1.verify(b,r.from(E),i.toBytes(w),...y?[{prehash:!0,lowS:!0}]:[])}return ki}var jz;function E4e(){return jz||(jz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWrappedSignatureError=t.suffixParameters=t.magicBytes=void 0,t.assert=a,t.from=c,t.unwrap=u,t.wrap=l,t.validate=d;const e=LE(),r=y4e(),n=no(),s=es(),i=w4e(),o=Ure();t.magicBytes="0x8010801080108010801080108010801080108010801080108010801080108010",t.suffixParameters=e.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function a(h){if(typeof h=="string"){if(s.slice(h,-32)!==t.magicBytes)throw new f(h)}else o.assert(h.authorization)}function c(h){return typeof h=="string"?u(h):h}function u(h){a(h);const p=s.toNumber(s.slice(h,-64,-32)),m=s.slice(h,-p-64,-64),y=s.slice(h,0,-p-64),[E,w,b]=e.decode(t.suffixParameters,m);return{authorization:r.from({address:E.delegation,chainId:Number(E.chainId),nonce:E.nonce,yParity:E.yParity,r:E.r,s:E.s}),signature:y,...b&&b!=="0x"?{data:b,to:w}:{}}}function l(h){const{data:p,signature:m}=h;a(h);const y=i.recoverAddress({payload:r.getSignPayload(h.authorization),signature:o.from(h.authorization)}),E=e.encode(t.suffixParameters,[{...h.authorization,delegation:h.authorization.address,chainId:BigInt(h.authorization.chainId)},h.to??y,p??"0x"]),w=s.fromNumber(s.size(E),{size:32});return s.concat(m,E,w,t.magicBytes)}function d(h){try{return a(h),!0}catch{return!1}}class f extends n.BaseError{constructor(p){super(`Value \`${p}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}t.InvalidWrappedSignatureError=f})(AO)),AO}var Dz;function l6(){return Dz||(Dz=1,Object.defineProperty(hb,"__esModule",{value:!0}),hb.SignatureErc8010=void 0,hb.SignatureErc8010=E4e()),hb}var Mz;function D4(){if(Mz)return p2;Mz=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.isErc8010Signature=e;const t=l6();function e(r){return t.SignatureErc8010.validate(r)}return p2}var S2={},Uz;function Lre(){if(Uz)return S2;Uz=1,Object.defineProperty(S2,"__esModule",{value:!0}),S2.parseErc6492Signature=r;const t=Md(),e=N4();function r(n){if(!(0,e.isErc6492Signature)(n))return{signature:n};const[s,i,o]=(0,t.decodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],n);return{address:s,data:i,signature:o}}return S2}var I2={},Lz;function Fre(){if(Lz)return I2;Lz=1,Object.defineProperty(I2,"__esModule",{value:!0}),I2.parseErc8010Signature=n;const t=l6(),e=ze(),r=D4();function n(s){if(!(0,r.isErc8010Signature)(s))return{signature:s};const{authorization:i,to:o,...a}=t.SignatureErc8010.unwrap(s);return{authorization:{address:i.address,chainId:i.chainId,nonce:Number(i.nonce),r:(0,e.numberToHex)(i.r,{size:32}),s:(0,e.numberToHex)(i.s,{size:32}),yParity:i.yParity},...o?{address:o}:{},...a}}return I2}var T2={},Fz;function M4(){if(Fz)return T2;Fz=1,Object.defineProperty(T2,"__esModule",{value:!0}),T2.recoverMessageAddress=r;const t=DE(),e=Hd();async function r({message:n,signature:s}){return(0,e.recoverAddress)({hash:(0,t.hashMessage)(n),signature:s})}return T2}var P2={},Hz;function U4(){if(Hz)return P2;Hz=1,Object.defineProperty(P2,"__esModule",{value:!0}),P2.recoverTypedDataAddress=r;const t=ME(),e=Hd();async function r(n){const{domain:s,message:i,primaryType:o,signature:a,types:c}=n;return(0,e.recoverAddress)({hash:(0,t.hashTypedData)({domain:s,message:i,primaryType:o,types:c}),signature:a})}return P2}var x2={},qz;function Hre(){if(qz)return x2;qz=1,Object.defineProperty(x2,"__esModule",{value:!0}),x2.serializeErc6492Signature=s;const t=R4(),e=ya(),r=jn(),n=Cr();function s(i){const{address:o,data:a,signature:c,to:u="hex"}=i,l=(0,r.concatHex)([(0,e.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[o,a,c]),t.erc6492MagicBytes]);return u==="hex"?l:(0,n.hexToBytes)(l)}return x2}var O2={},zz;function qre(){if(zz)return O2;zz=1,Object.defineProperty(O2,"__esModule",{value:!0}),O2.serializeErc8010Signature=r;const t=l6(),e=Cr();function r(n){const{address:s,data:i,signature:o,to:a="hex"}=n,c=t.SignatureErc8010.wrap({authorization:{address:n.authorization.address,chainId:n.authorization.chainId,nonce:BigInt(n.authorization.nonce),r:BigInt(n.authorization.r),s:BigInt(n.authorization.s),yParity:n.authorization.yParity},data:i,signature:o,to:s});return a==="hex"?c:(0,e.hexToBytes)(c)}return O2}var R2={},$z;function zre(){if($z)return R2;$z=1,Object.defineProperty(R2,"__esModule",{value:!0}),R2.verifyHash=n;const t=ro(),e=va(),r=Hd();async function n({address:s,hash:i,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(s),await(0,r.recoverAddress)({hash:i,signature:o}))}return R2}var N2={},Vz;function $re(){if(Vz)return N2;Vz=1,Object.defineProperty(N2,"__esModule",{value:!0}),N2.verifyMessage=n;const t=ro(),e=va(),r=M4();async function n({address:s,message:i,signature:o}){return(0,e.isAddressEqual)((0,t.getAddress)(s),await(0,r.recoverMessageAddress)({message:i,signature:o}))}return N2}var B2={},Gz;function Vre(){if(Gz)return B2;Gz=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.verifyTypedData=n;const t=ro(),e=va(),r=U4();async function n(s){const{address:i,domain:o,message:a,primaryType:c,signature:u,types:l}=s;return(0,e.isAddressEqual)((0,t.getAddress)(i),await(0,r.recoverTypedDataAddress)({domain:o,message:a,primaryType:c,signature:u,types:l}))}return B2}var k2={},Wz;function L4(){if(Wz)return k2;Wz=1,Object.defineProperty(k2,"__esModule",{value:!0}),k2.getSerializedTransactionType=n;const t=Ii(),e=Oo(),r=tn();function n(s){const i=(0,e.sliceHex)(s,0,1);if(i==="0x04")return"eip7702";if(i==="0x03")return"eip4844";if(i==="0x02")return"eip1559";if(i==="0x01")return"eip2930";if(i!=="0x"&&(0,r.hexToNumber)(i)>=192)return"legacy";throw new t.InvalidSerializedTransactionTypeError({serializedType:i})}return k2}var d0={},Kz;function F4(){if(Kz)return d0;Kz=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.parseTransaction=f,d0.toTransactionArray=w,d0.parseAccessList=b;const t=ga(),e=Ii(),r=Ci(),n=GP(),s=$s(),i=Dd(),o=Gu(),a=tn(),c=I4(),u=T4(),l=t6(),d=L4();function f(A){const C=(0,d.getSerializedTransactionType)(A);return C==="eip1559"?m(A):C==="eip2930"?y(A):C==="eip4844"?p(A):C==="eip7702"?h(A):E(A)}function h(A){const C=w(A),[x,T,N,M,k,B,U,I,S,_,R,O,P]=C;if(C.length!==10&&C.length!==13)throw new e.InvalidSerializedTransactionError({attributes:{chainId:x,nonce:T,maxPriorityFeePerGas:N,maxFeePerGas:M,gas:k,to:B,value:U,data:I,accessList:S,authorizationList:_,...C.length>9?{v:R,r:O,s:P}:{}},serializedTransaction:A,type:"eip7702"});const D={chainId:(0,a.hexToNumber)(x),type:"eip7702"};return(0,s.isHex)(B)&&B!=="0x"&&(D.to=B),(0,s.isHex)(k)&&k!=="0x"&&(D.gas=(0,a.hexToBigInt)(k)),(0,s.isHex)(I)&&I!=="0x"&&(D.data=I),(0,s.isHex)(T)&&(D.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,s.isHex)(U)&&U!=="0x"&&(D.value=(0,a.hexToBigInt)(U)),(0,s.isHex)(M)&&M!=="0x"&&(D.maxFeePerGas=(0,a.hexToBigInt)(M)),(0,s.isHex)(N)&&N!=="0x"&&(D.maxPriorityFeePerGas=(0,a.hexToBigInt)(N)),S.length!==0&&S!=="0x"&&(D.accessList=b(S)),_.length!==0&&_!=="0x"&&(D.authorizationList=g(_)),(0,l.assertTransactionEIP7702)(D),{...C.length===13?v(C):void 0,...D}}function p(A){const C=w(A),x=C.length===4,T=x?C[0]:C,N=x?C.slice(1):[],[M,k,B,U,I,S,_,R,O,P,D,j,F,q]=T,[z,W,K]=N;if(!(T.length===11||T.length===14))throw new e.InvalidSerializedTransactionError({attributes:{chainId:M,nonce:k,maxPriorityFeePerGas:B,maxFeePerGas:U,gas:I,to:S,value:_,data:R,accessList:O,...T.length>9?{v:j,r:F,s:q}:{}},serializedTransaction:A,type:"eip4844"});const re={blobVersionedHashes:D,chainId:(0,a.hexToNumber)(M),to:S,type:"eip4844"};return(0,s.isHex)(I)&&I!=="0x"&&(re.gas=(0,a.hexToBigInt)(I)),(0,s.isHex)(R)&&R!=="0x"&&(re.data=R),(0,s.isHex)(k)&&(re.nonce=k==="0x"?0:(0,a.hexToNumber)(k)),(0,s.isHex)(_)&&_!=="0x"&&(re.value=(0,a.hexToBigInt)(_)),(0,s.isHex)(P)&&P!=="0x"&&(re.maxFeePerBlobGas=(0,a.hexToBigInt)(P)),(0,s.isHex)(U)&&U!=="0x"&&(re.maxFeePerGas=(0,a.hexToBigInt)(U)),(0,s.isHex)(B)&&B!=="0x"&&(re.maxPriorityFeePerGas=(0,a.hexToBigInt)(B)),O.length!==0&&O!=="0x"&&(re.accessList=b(O)),z&&W&&K&&(re.sidecars=(0,n.toBlobSidecars)({blobs:z,commitments:W,proofs:K})),(0,l.assertTransactionEIP4844)(re),{...T.length===14?v(T):void 0,...re}}function m(A){const C=w(A),[x,T,N,M,k,B,U,I,S,_,R,O]=C;if(!(C.length===9||C.length===12))throw new e.InvalidSerializedTransactionError({attributes:{chainId:x,nonce:T,maxPriorityFeePerGas:N,maxFeePerGas:M,gas:k,to:B,value:U,data:I,accessList:S,...C.length>9?{v:_,r:R,s:O}:{}},serializedTransaction:A,type:"eip1559"});const P={chainId:(0,a.hexToNumber)(x),type:"eip1559"};return(0,s.isHex)(B)&&B!=="0x"&&(P.to=B),(0,s.isHex)(k)&&k!=="0x"&&(P.gas=(0,a.hexToBigInt)(k)),(0,s.isHex)(I)&&I!=="0x"&&(P.data=I),(0,s.isHex)(T)&&(P.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,s.isHex)(U)&&U!=="0x"&&(P.value=(0,a.hexToBigInt)(U)),(0,s.isHex)(M)&&M!=="0x"&&(P.maxFeePerGas=(0,a.hexToBigInt)(M)),(0,s.isHex)(N)&&N!=="0x"&&(P.maxPriorityFeePerGas=(0,a.hexToBigInt)(N)),S.length!==0&&S!=="0x"&&(P.accessList=b(S)),(0,l.assertTransactionEIP1559)(P),{...C.length===12?v(C):void 0,...P}}function y(A){const C=w(A),[x,T,N,M,k,B,U,I,S,_,R]=C;if(!(C.length===8||C.length===11))throw new e.InvalidSerializedTransactionError({attributes:{chainId:x,nonce:T,gasPrice:N,gas:M,to:k,value:B,data:U,accessList:I,...C.length>8?{v:S,r:_,s:R}:{}},serializedTransaction:A,type:"eip2930"});const O={chainId:(0,a.hexToNumber)(x),type:"eip2930"};return(0,s.isHex)(k)&&k!=="0x"&&(O.to=k),(0,s.isHex)(M)&&M!=="0x"&&(O.gas=(0,a.hexToBigInt)(M)),(0,s.isHex)(U)&&U!=="0x"&&(O.data=U),(0,s.isHex)(T)&&(O.nonce=T==="0x"?0:(0,a.hexToNumber)(T)),(0,s.isHex)(B)&&B!=="0x"&&(O.value=(0,a.hexToBigInt)(B)),(0,s.isHex)(N)&&N!=="0x"&&(O.gasPrice=(0,a.hexToBigInt)(N)),I.length!==0&&I!=="0x"&&(O.accessList=b(I)),(0,l.assertTransactionEIP2930)(O),{...C.length===11?v(C):void 0,...O}}function E(A){const C=(0,c.fromRlp)(A,"hex"),[x,T,N,M,k,B,U,I,S]=C;if(!(C.length===6||C.length===9))throw new e.InvalidSerializedTransactionError({attributes:{nonce:x,gasPrice:T,gas:N,to:M,value:k,data:B,...C.length>6?{v:U,r:I,s:S}:{}},serializedTransaction:A,type:"legacy"});const _={type:"legacy"};if((0,s.isHex)(M)&&M!=="0x"&&(_.to=M),(0,s.isHex)(N)&&N!=="0x"&&(_.gas=(0,a.hexToBigInt)(N)),(0,s.isHex)(B)&&B!=="0x"&&(_.data=B),(0,s.isHex)(x)&&(_.nonce=x==="0x"?0:(0,a.hexToNumber)(x)),(0,s.isHex)(k)&&k!=="0x"&&(_.value=(0,a.hexToBigInt)(k)),(0,s.isHex)(T)&&T!=="0x"&&(_.gasPrice=(0,a.hexToBigInt)(T)),(0,l.assertTransactionLegacy)(_),C.length===6)return _;const R=(0,s.isHex)(U)&&U!=="0x"?(0,a.hexToBigInt)(U):0n;if(S==="0x"&&I==="0x")return R>0&&(_.chainId=Number(R)),_;const O=R,P=Number((O-35n)/2n);if(P>0)_.chainId=P;else if(O!==27n&&O!==28n)throw new e.InvalidLegacyVError({v:O});return _.v=O,_.s=S,_.r=I,_.yParity=O%2n===0n?1:0,_}function w(A){return(0,c.fromRlp)(`0x${A.slice(4)}`,"hex")}function b(A){const C=[];for(let x=0;x<A.length;x++){const[T,N]=A[x];if(!(0,r.isAddress)(T,{strict:!1}))throw new t.InvalidAddressError({address:T});C.push({address:T,storageKeys:N.map(M=>(0,u.isHash)(M)?M:(0,o.trim)(M))})}return C}function g(A){const C=[];for(let x=0;x<A.length;x++){const[T,N,M,k,B,U]=A[x];C.push({address:N,chainId:T==="0x"?0:(0,a.hexToNumber)(T),nonce:M==="0x"?0:(0,a.hexToNumber)(M),...v([k,B,U])})}return C}function v(A){const C=A.slice(-3),x=C[0]==="0x"||(0,a.hexToBigInt)(C[0])===0n?27n:28n;return{r:(0,i.padHex)(C[1],{size:32}),s:(0,i.padHex)(C[2],{size:32}),v:x,yParity:x===27n?0:1}}return d0}var j2={},D2={},Eb={},Zz;function Gre(){if(Zz)return Eb;Zz=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.InvalidDecimalNumberError=void 0;const t=yt();class e extends t.BaseError{constructor({value:n}){super(`Number \`${n}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}return Eb.InvalidDecimalNumberError=e,Eb}var Yz;function d6(){if(Yz)return D2;Yz=1,Object.defineProperty(D2,"__esModule",{value:!0}),D2.parseUnits=e;const t=Gre();function e(r,n){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(r))throw new t.InvalidDecimalNumberError({value:r});let[s,i="0"]=r.split(".");const o=s.startsWith("-");if(o&&(s=s.slice(1)),i=i.replace(/(0+)$/,""),n===0)Math.round(+`.${i}`)===1&&(s=`${BigInt(s)+1n}`),i="";else if(i.length>n){const[a,c,u]=[i.slice(0,n-1),i.slice(n-1,n),i.slice(n)],l=Math.round(+`${c}.${u}`);l>9?i=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):i=`${a}${l}`,i.length>n&&(i=i.slice(1),s=`${BigInt(s)+1n}`),i=i.slice(0,n)}else i=i.padEnd(n,"0");return BigInt(`${o?"-":""}${s}${i}`)}return D2}var Jz;function Wre(){if(Jz)return j2;Jz=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.parseEther=r;const t=gE(),e=d6();function r(n,s="wei"){return(0,e.parseUnits)(n,t.etherUnits[s])}return j2}var M2={},Qz;function Kre(){if(Qz)return M2;Qz=1,Object.defineProperty(M2,"__esModule",{value:!0}),M2.parseGwei=r;const t=gE(),e=d6();function r(n,s="wei"){return(0,e.parseUnits)(n,t.gweiUnits[s])}return M2}var Xz;function H4(){return Xz||(Xz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.padBytes=t.pad=t.isHex=t.isBytes=t.concatHex=t.concatBytes=t.concat=t.getChainContractAddress=t.extractChain=t.defineChain=t.assertCurrentChain=t.offchainLookupSignature=t.offchainLookupAbiItem=t.offchainLookup=t.ccipFetch=t.ccipRequest=t.buildRequest=t.verifyAuthorization=t.serializeAuthorizationList=t.recoverAuthorizationAddress=t.hashAuthorization=t.isAddressEqual=t.isAddress=t.getCreateAddress=t.getCreate2Address=t.getContractAddress=t.getAddress=t.parseEventLogs=t.getAbiItem=t.formatAbiItemWithArgs=t.formatAbiParams=t.formatAbiItem=t.encodePacked=t.encodeFunctionResult=t.encodeFunctionData=t.encodeEventTopics=t.encodeErrorResult=t.encodeDeployData=t.encodeAbiParameters=t.decodeFunctionResult=t.decodeFunctionData=t.decodeEventLog=t.decodeErrorResult=t.decodeAbiParameters=t.publicKeyToAddress=t.parseAccount=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=void 0,t.ripemd160=t.keccak256=t.isHash=t.getAction=t.formatTransactionRequest=t.defineTransactionRequest=t.defineTransactionReceipt=t.transactionType=t.formatTransaction=t.defineTransaction=t.formatLog=t.defineFormatter=t.extract=t.formatBlock=t.defineBlock=t.getTransactionError=t.getNodeError=t.containsNodeError=t.getEstimateGasError=t.getContractError=t.getCallError=t.toRlp=t.toHex=t.stringToHex=t.numberToHex=t.bytesToHex=t.boolToHex=t.toBytes=t.stringToBytes=t.numberToBytes=t.hexToBytes=t.boolToBytes=t.fromRlp=t.hexToString=t.hexToNumber=t.hexToBool=t.hexToBigInt=t.fromHex=t.fromBytes=t.bytesToString=t.bytesToNumber=t.bytesToBool=t.bytesToBigint=t.bytesToBigInt=t.trim=t.sliceHex=t.sliceBytes=t.slice=t.size=t.padHex=void 0,t.validateTypedData=t.serializeTypedData=t.serializeTransaction=t.serializeAccessList=t.parseTransaction=t.getTransactionType=t.getSerializedTransactionType=t.assertTransactionLegacy=t.assertTransactionEIP2930=t.assertTransactionEIP1559=t.assertRequest=t.stringify=t.verifyTypedData=t.verifyMessage=t.verifyHash=t.serializeErc8010Signature=t.serializeErc6492Signature=t.recoverTypedDataAddress=t.recoverPublicKey=t.recoverMessageAddress=t.recoverAddress=t.parseErc8010Signature=t.parseErc6492Signature=t.isErc8010Signature=t.isErc6492Signature=t.hashTypedData=t.hashStruct=t.hashMessage=t.getWebSocketRpcClient=t.socketClientCache=t.getSocketRpcClient=t.getHttpRpcClient=t.rpc=t.getSocket=t.integerRegex=t.bytesRegex=t.arrayRegex=t.nonceManager=t.createNonceManager=t.getFunctionSignature=t.toFunctionSignature=t.getFunctionSelector=t.toFunctionSelector=t.toFunctionHash=t.getEventSignature=t.toEventSignature=t.getEventSelector=t.toEventSelector=t.toEventHash=t.sha256=void 0,t.parseUnits=t.parseGwei=t.parseEther=t.formatUnits=t.formatGwei=t.formatEther=void 0;var e=kP();Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return e.parseAbi}}),Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return e.parseAbiItem}}),Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return e.parseAbiParameter}}),Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return e.parseAbiParameters}});var r=Wr();Object.defineProperty(t,"parseAccount",{enumerable:!0,get:function(){return r.parseAccount}});var n=Bte();Object.defineProperty(t,"publicKeyToAddress",{enumerable:!0,get:function(){return n.publicKeyToAddress}});var s=Md();Object.defineProperty(t,"decodeAbiParameters",{enumerable:!0,get:function(){return s.decodeAbiParameters}});var i=LP();Object.defineProperty(t,"decodeErrorResult",{enumerable:!0,get:function(){return i.decodeErrorResult}});var o=TE();Object.defineProperty(t,"decodeEventLog",{enumerable:!0,get:function(){return o.decodeEventLog}});var a=d4();Object.defineProperty(t,"decodeFunctionData",{enumerable:!0,get:function(){return a.decodeFunctionData}});var c=Yu();Object.defineProperty(t,"decodeFunctionResult",{enumerable:!0,get:function(){return c.decodeFunctionResult}});var u=ya();Object.defineProperty(t,"encodeAbiParameters",{enumerable:!0,get:function(){return u.encodeAbiParameters}});var l=RE();Object.defineProperty(t,"encodeDeployData",{enumerable:!0,get:function(){return l.encodeDeployData}});var d=f4();Object.defineProperty(t,"encodeErrorResult",{enumerable:!0,get:function(){return d.encodeErrorResult}});var f=Cp();Object.defineProperty(t,"encodeEventTopics",{enumerable:!0,get:function(){return f.encodeEventTopics}});var h=Si();Object.defineProperty(t,"encodeFunctionData",{enumerable:!0,get:function(){return h.encodeFunctionData}});var p=h4();Object.defineProperty(t,"encodeFunctionResult",{enumerable:!0,get:function(){return p.encodeFunctionResult}});var m=ure();Object.defineProperty(t,"encodePacked",{enumerable:!0,get:function(){return m.encodePacked}});var y=Vu();Object.defineProperty(t,"formatAbiItem",{enumerable:!0,get:function(){return y.formatAbiItem}}),Object.defineProperty(t,"formatAbiParams",{enumerable:!0,get:function(){return y.formatAbiParams}});var E=Nte();Object.defineProperty(t,"formatAbiItemWithArgs",{enumerable:!0,get:function(){return E.formatAbiItemWithArgs}});var w=Wu();Object.defineProperty(t,"getAbiItem",{enumerable:!0,get:function(){return w.getAbiItem}});var b=PE();Object.defineProperty(t,"parseEventLogs",{enumerable:!0,get:function(){return b.parseEventLogs}});var g=ro();Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return g.getAddress}});var v=lre();Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return v.getContractAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return v.getCreate2Address}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return v.getCreateAddress}});var A=Ci();Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return A.isAddress}});var C=va();Object.defineProperty(t,"isAddressEqual",{enumerable:!0,get:function(){return C.isAddressEqual}});var x=Mte();Object.defineProperty(t,"hashAuthorization",{enumerable:!0,get:function(){return x.hashAuthorization}});var T=vE();Object.defineProperty(t,"recoverAuthorizationAddress",{enumerable:!0,get:function(){return T.recoverAuthorizationAddress}});var N=dre();Object.defineProperty(t,"serializeAuthorizationList",{enumerable:!0,get:function(){return N.serializeAuthorizationList}});var M=fre();Object.defineProperty(t,"verifyAuthorization",{enumerable:!0,get:function(){return M.verifyAuthorization}});var k=hre();Object.defineProperty(t,"buildRequest",{enumerable:!0,get:function(){return k.buildRequest}});var B=p4();Object.defineProperty(t,"ccipRequest",{enumerable:!0,get:function(){return B.ccipRequest}}),Object.defineProperty(t,"ccipFetch",{enumerable:!0,get:function(){return B.ccipRequest}}),Object.defineProperty(t,"offchainLookup",{enumerable:!0,get:function(){return B.offchainLookup}}),Object.defineProperty(t,"offchainLookupAbiItem",{enumerable:!0,get:function(){return B.offchainLookupAbiItem}}),Object.defineProperty(t,"offchainLookupSignature",{enumerable:!0,get:function(){return B.offchainLookupSignature}});var U=kE();Object.defineProperty(t,"assertCurrentChain",{enumerable:!0,get:function(){return U.assertCurrentChain}});var I=pre();Object.defineProperty(t,"defineChain",{enumerable:!0,get:function(){return I.defineChain}});var S=mre();Object.defineProperty(t,"extractChain",{enumerable:!0,get:function(){return S.extractChain}});var _=Vd();Object.defineProperty(t,"getChainContractAddress",{enumerable:!0,get:function(){return _.getChainContractAddress}});var R=jn();Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return R.concat}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return R.concatBytes}}),Object.defineProperty(t,"concatHex",{enumerable:!0,get:function(){return R.concatHex}});var O=C4();Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return O.isBytes}});var P=$s();Object.defineProperty(t,"isHex",{enumerable:!0,get:function(){return P.isHex}});var D=Dd();Object.defineProperty(t,"pad",{enumerable:!0,get:function(){return D.pad}}),Object.defineProperty(t,"padBytes",{enumerable:!0,get:function(){return D.padBytes}}),Object.defineProperty(t,"padHex",{enumerable:!0,get:function(){return D.padHex}});var j=_i();Object.defineProperty(t,"size",{enumerable:!0,get:function(){return j.size}});var F=Oo();Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return F.slice}}),Object.defineProperty(t,"sliceBytes",{enumerable:!0,get:function(){return F.sliceBytes}}),Object.defineProperty(t,"sliceHex",{enumerable:!0,get:function(){return F.sliceHex}});var q=Gu();Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return q.trim}});var z=G3();Object.defineProperty(t,"bytesToBigInt",{enumerable:!0,get:function(){return z.bytesToBigInt}}),Object.defineProperty(t,"bytesToBigint",{enumerable:!0,get:function(){return z.bytesToBigInt}}),Object.defineProperty(t,"bytesToBool",{enumerable:!0,get:function(){return z.bytesToBool}}),Object.defineProperty(t,"bytesToNumber",{enumerable:!0,get:function(){return z.bytesToNumber}}),Object.defineProperty(t,"bytesToString",{enumerable:!0,get:function(){return z.bytesToString}}),Object.defineProperty(t,"fromBytes",{enumerable:!0,get:function(){return z.fromBytes}});var W=tn();Object.defineProperty(t,"fromHex",{enumerable:!0,get:function(){return W.fromHex}}),Object.defineProperty(t,"hexToBigInt",{enumerable:!0,get:function(){return W.hexToBigInt}}),Object.defineProperty(t,"hexToBool",{enumerable:!0,get:function(){return W.hexToBool}}),Object.defineProperty(t,"hexToNumber",{enumerable:!0,get:function(){return W.hexToNumber}}),Object.defineProperty(t,"hexToString",{enumerable:!0,get:function(){return W.hexToString}});var K=I4();Object.defineProperty(t,"fromRlp",{enumerable:!0,get:function(){return K.fromRlp}});var re=Cr();Object.defineProperty(t,"boolToBytes",{enumerable:!0,get:function(){return re.boolToBytes}}),Object.defineProperty(t,"hexToBytes",{enumerable:!0,get:function(){return re.hexToBytes}}),Object.defineProperty(t,"numberToBytes",{enumerable:!0,get:function(){return re.numberToBytes}}),Object.defineProperty(t,"stringToBytes",{enumerable:!0,get:function(){return re.stringToBytes}}),Object.defineProperty(t,"toBytes",{enumerable:!0,get:function(){return re.toBytes}});var Q=ze();Object.defineProperty(t,"boolToHex",{enumerable:!0,get:function(){return Q.boolToHex}}),Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return Q.bytesToHex}}),Object.defineProperty(t,"numberToHex",{enumerable:!0,get:function(){return Q.numberToHex}}),Object.defineProperty(t,"stringToHex",{enumerable:!0,get:function(){return Q.stringToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return Q.toHex}});var X=EE();Object.defineProperty(t,"toRlp",{enumerable:!0,get:function(){return X.toRlp}});var ie=c4();Object.defineProperty(t,"getCallError",{enumerable:!0,get:function(){return ie.getCallError}});var Y=Fd();Object.defineProperty(t,"getContractError",{enumerable:!0,get:function(){return Y.getContractError}});var V=Lte();Object.defineProperty(t,"getEstimateGasError",{enumerable:!0,get:function(){return V.getEstimateGasError}});var Z=_E();Object.defineProperty(t,"containsNodeError",{enumerable:!0,get:function(){return Z.containsNodeError}}),Object.defineProperty(t,"getNodeError",{enumerable:!0,get:function(){return Z.getNodeError}});var ne=SE();Object.defineProperty(t,"getTransactionError",{enumerable:!0,get:function(){return ne.getTransactionError}});var ue=qP();Object.defineProperty(t,"defineBlock",{enumerable:!0,get:function(){return ue.defineBlock}}),Object.defineProperty(t,"formatBlock",{enumerable:!0,get:function(){return ue.formatBlock}});var ce=qd();Object.defineProperty(t,"extract",{enumerable:!0,get:function(){return ce.extract}});var ge=AE();Object.defineProperty(t,"defineFormatter",{enumerable:!0,get:function(){return ge.defineFormatter}});var we=Zu();Object.defineProperty(t,"formatLog",{enumerable:!0,get:function(){return we.formatLog}});var me=xg();Object.defineProperty(t,"defineTransaction",{enumerable:!0,get:function(){return me.defineTransaction}}),Object.defineProperty(t,"formatTransaction",{enumerable:!0,get:function(){return me.formatTransaction}}),Object.defineProperty(t,"transactionType",{enumerable:!0,get:function(){return me.transactionType}});var ae=jE();Object.defineProperty(t,"defineTransactionReceipt",{enumerable:!0,get:function(){return ae.defineTransactionReceipt}});var Oe=wa();Object.defineProperty(t,"defineTransactionRequest",{enumerable:!0,get:function(){return Oe.defineTransactionRequest}}),Object.defineProperty(t,"formatTransactionRequest",{enumerable:!0,get:function(){return Oe.formatTransactionRequest}});var Ie=Yt();Object.defineProperty(t,"getAction",{enumerable:!0,get:function(){return Ie.getAction}});var Be=T4();Object.defineProperty(t,"isHash",{enumerable:!0,get:function(){return Be.isHash}});var de=Ai();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return de.keccak256}});var oe=yre();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return oe.ripemd160}});var $=t4();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return $.sha256}});var L=bre();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return L.toEventHash}});var H=Pg();Object.defineProperty(t,"toEventSelector",{enumerable:!0,get:function(){return H.toEventSelector}}),Object.defineProperty(t,"getEventSelector",{enumerable:!0,get:function(){return H.toEventSelector}});var ee=wre();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return ee.toEventSignature}}),Object.defineProperty(t,"getEventSignature",{enumerable:!0,get:function(){return ee.toEventSignature}});var le=Ere();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return le.toFunctionHash}});var ye=Ap();Object.defineProperty(t,"toFunctionSelector",{enumerable:!0,get:function(){return ye.toFunctionSelector}}),Object.defineProperty(t,"getFunctionSelector",{enumerable:!0,get:function(){return ye.toFunctionSelector}});var Ae=vre();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return Ae.toFunctionSignature}}),Object.defineProperty(t,"getFunctionSignature",{enumerable:!0,get:function(){return Ae.toFunctionSignature}});var tt=_re();Object.defineProperty(t,"createNonceManager",{enumerable:!0,get:function(){return tt.createNonceManager}}),Object.defineProperty(t,"nonceManager",{enumerable:!0,get:function(){return tt.nonceManager}});var wt=MP();Object.defineProperty(t,"arrayRegex",{enumerable:!0,get:function(){return wt.arrayRegex}}),Object.defineProperty(t,"bytesRegex",{enumerable:!0,get:function(){return wt.bytesRegex}}),Object.defineProperty(t,"integerRegex",{enumerable:!0,get:function(){return wt.integerRegex}});var Ct=Sre();Object.defineProperty(t,"getSocket",{enumerable:!0,get:function(){return Ct.getSocket}}),Object.defineProperty(t,"rpc",{enumerable:!0,get:function(){return Ct.rpc}});var Wt=x4();Object.defineProperty(t,"getHttpRpcClient",{enumerable:!0,get:function(){return Wt.getHttpRpcClient}});var kt=Cre();Object.defineProperty(t,"getSocketRpcClient",{enumerable:!0,get:function(){return kt.getSocketRpcClient}}),Object.defineProperty(t,"socketClientCache",{enumerable:!0,get:function(){return kt.socketClientCache}});var T6=O4();Object.defineProperty(t,"getWebSocketRpcClient",{enumerable:!0,get:function(){return T6.getWebSocketRpcClient}});var P6=DE();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return P6.hashMessage}});var WE=ME();Object.defineProperty(t,"hashStruct",{enumerable:!0,get:function(){return WE.hashStruct}}),Object.defineProperty(t,"hashTypedData",{enumerable:!0,get:function(){return WE.hashTypedData}});var Dg=N4();Object.defineProperty(t,"isErc6492Signature",{enumerable:!0,get:function(){return Dg.isErc6492Signature}});var x6=D4();Object.defineProperty(t,"isErc8010Signature",{enumerable:!0,get:function(){return x6.isErc8010Signature}});var O6=Lre();Object.defineProperty(t,"parseErc6492Signature",{enumerable:!0,get:function(){return O6.parseErc6492Signature}});var Mg=Fre();Object.defineProperty(t,"parseErc8010Signature",{enumerable:!0,get:function(){return Mg.parseErc8010Signature}});var R6=Hd();Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return R6.recoverAddress}});var Ug=M4();Object.defineProperty(t,"recoverMessageAddress",{enumerable:!0,get:function(){return Ug.recoverMessageAddress}});var N6=Y3();Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return N6.recoverPublicKey}});var Zd=U4();Object.defineProperty(t,"recoverTypedDataAddress",{enumerable:!0,get:function(){return Zd.recoverTypedDataAddress}});var Yd=Hre();Object.defineProperty(t,"serializeErc6492Signature",{enumerable:!0,get:function(){return Yd.serializeErc6492Signature}});var B6=qre();Object.defineProperty(t,"serializeErc8010Signature",{enumerable:!0,get:function(){return B6.serializeErc8010Signature}});var Jd=zre();Object.defineProperty(t,"verifyHash",{enumerable:!0,get:function(){return Jd.verifyHash}});var Qd=$re();Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return Qd.verifyMessage}});var Lg=Vre();Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return Lg.verifyTypedData}});var k6=Xn();Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return k6.stringify}});var j6=Ea();Object.defineProperty(t,"assertRequest",{enumerable:!0,get:function(){return j6.assertRequest}});var Fg=t6();Object.defineProperty(t,"assertTransactionEIP1559",{enumerable:!0,get:function(){return Fg.assertTransactionEIP1559}}),Object.defineProperty(t,"assertTransactionEIP2930",{enumerable:!0,get:function(){return Fg.assertTransactionEIP2930}}),Object.defineProperty(t,"assertTransactionLegacy",{enumerable:!0,get:function(){return Fg.assertTransactionLegacy}});var D6=L4();Object.defineProperty(t,"getSerializedTransactionType",{enumerable:!0,get:function(){return D6.getSerializedTransactionType}});var KE=WP();Object.defineProperty(t,"getTransactionType",{enumerable:!0,get:function(){return KE.getTransactionType}});var M6=F4();Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return M6.parseTransaction}});var Hg=S4();Object.defineProperty(t,"serializeAccessList",{enumerable:!0,get:function(){return Hg.serializeAccessList}});var ZE=r6();Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return ZE.serializeTransaction}});var Rp=n6();Object.defineProperty(t,"serializeTypedData",{enumerable:!0,get:function(){return Rp.serializeTypedData}}),Object.defineProperty(t,"validateTypedData",{enumerable:!0,get:function(){return Rp.validateTypedData}});var U6=yE();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return U6.formatEther}});var L6=Sp();Object.defineProperty(t,"formatGwei",{enumerable:!0,get:function(){return L6.formatGwei}});var F6=FP();Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return F6.formatUnits}});var H6=Wre();Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return H6.parseEther}});var q6=Kre();Object.defineProperty(t,"parseGwei",{enumerable:!0,get:function(){return q6.parseGwei}});var YE=d6();Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return YE.parseUnits}})})(gO)),gO}var e$;function v4e(){if(e$)return JA;e$=1,Object.defineProperty(JA,"__esModule",{value:!0}),JA.formatProof=r;const t=H4();function e(n){return n.map(s=>({...s,value:BigInt(s.value)}))}function r(n){return{...n,balance:n.balance?BigInt(n.balance):void 0,nonce:n.nonce?(0,t.hexToNumber)(n.nonce):void 0,storageProof:n.storageProof?e(n.storageProof):void 0}}return JA}var t$;function _4e(){if(t$)return YA;t$=1,Object.defineProperty(YA,"__esModule",{value:!0}),YA.getProof=r;const t=ze(),e=v4e();async function r(n,{address:s,blockNumber:i,blockTag:o,storageKeys:a}){const c=o??"latest",u=i!==void 0?(0,t.numberToHex)(i):void 0,l=await n.request({method:"eth_getProof",params:[s,a,u||c]});return(0,e.formatProof)(l)}return YA}var U2={},r$;function A4e(){if(r$)return U2;r$=1,Object.defineProperty(U2,"__esModule",{value:!0}),U2.getStorageAt=e;const t=ze();async function e(r,{address:n,blockNumber:s,blockTag:i="latest",slot:o}){const a=s!==void 0?(0,t.numberToHex)(s):void 0;return await r.request({method:"eth_getStorageAt",params:[n,o,a||i]})}return U2}var L2={},n$;function q4(){if(n$)return L2;n$=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.getTransaction=n;const t=Ii(),e=ze(),r=xg();async function n(s,{blockHash:i,blockNumber:o,blockTag:a,hash:c,index:u,sender:l,nonce:d}){var y,E,w;const f=a||"latest",h=o!==void 0?(0,e.numberToHex)(o):void 0;let p=null;if(c?p=await s.request({method:"eth_getTransactionByHash",params:[c]},{dedupe:!0}):i?p=await s.request({method:"eth_getTransactionByBlockHashAndIndex",params:[i,(0,e.numberToHex)(u)]},{dedupe:!0}):typeof u=="number"?p=await s.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[h||f,(0,e.numberToHex)(u)]},{dedupe:!!h}):l&&typeof d=="number"&&(p=await s.request({method:"eth_getTransactionBySenderAndNonce",params:[l,(0,e.numberToHex)(d)]},{dedupe:!0})),!p)throw new t.TransactionNotFoundError({blockHash:i,blockNumber:o,blockTag:f,hash:c,index:u});return(((w=(E=(y=s.chain)==null?void 0:y.formatters)==null?void 0:E.transaction)==null?void 0:w.format)||r.formatTransaction)(p,"getTransaction")}return L2}var F2={},s$;function C4e(){if(s$)return F2;s$=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.getTransactionConfirmations=n;const t=Yt(),e=BE(),r=q4();async function n(s,{hash:i,transactionReceipt:o}){const[a,c]=await Promise.all([(0,t.getAction)(s,e.getBlockNumber,"getBlockNumber")({}),i?(0,t.getAction)(s,r.getTransaction,"getTransaction")({hash:i}):void 0]),u=(o==null?void 0:o.blockNumber)||(c==null?void 0:c.blockNumber);return u?a-u+1n:0n}return F2}var H2={},i$;function Zre(){if(i$)return H2;i$=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.getTransactionReceipt=r;const t=Ii(),e=jE();async function r(n,{hash:s}){var a,c,u;const i=await n.request({method:"eth_getTransactionReceipt",params:[s]},{dedupe:!0});if(!i)throw new t.TransactionReceiptNotFoundError({hash:s});return(((u=(c=(a=n.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||e.formatTransactionReceipt)(i,"getTransactionReceipt")}return H2}var q2={},o$;function S4e(){if(o$)return q2;o$=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.multicall=d;const t=$d(),e=xE(),r=Hr(),n=yt(),s=Ud(),i=Yu(),o=Si(),a=Vd(),c=Fd(),u=Yt(),l=gc();async function d(f,h){var U;const{account:p,authorizationList:m,allowFailure:y=!0,blockNumber:E,blockOverrides:w,blockTag:b,stateOverride:g}=h,v=h.contracts,{batchSize:A=h.batchSize??1024,deployless:C=h.deployless??!1}=typeof((U=f.batch)==null?void 0:U.multicall)=="object"?f.batch.multicall:{},x=(()=>{if(h.multicallAddress)return h.multicallAddress;if(C)return null;if(f.chain)return(0,a.getChainContractAddress)({blockNumber:E,chain:f.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),T=[[]];let N=0,M=0;for(let I=0;I<v.length;I++){const{abi:S,address:_,args:R,functionName:O}=v[I];try{const P=(0,o.encodeFunctionData)({abi:S,args:R,functionName:O});M+=(P.length-2)/2,A>0&&M>A&&T[N].length>0&&(N++,M=(P.length-2)/2,T[N]=[]),T[N]=[...T[N],{allowFailure:!0,callData:P,target:_}]}catch(P){const D=(0,c.getContractError)(P,{abi:S,address:_,args:R,docsPath:"/docs/contract/multicall",functionName:O,sender:p});if(!y)throw D;T[N]=[...T[N],{allowFailure:!0,callData:"0x",target:_}]}}const k=await Promise.allSettled(T.map(I=>(0,u.getAction)(f,l.readContract,"readContract")({...x===null?{code:e.multicall3Bytecode}:{address:x},abi:t.multicall3Abi,account:p,args:[I],authorizationList:m,blockNumber:E,blockOverrides:w,blockTag:b,functionName:"aggregate3",stateOverride:g}))),B=[];for(let I=0;I<k.length;I++){const S=k[I];if(S.status==="rejected"){if(!y)throw S.reason;for(let R=0;R<T[I].length;R++)B.push({status:"failure",error:S.reason,result:void 0});continue}const _=S.value;for(let R=0;R<_.length;R++){const{returnData:O,success:P}=_[R],{callData:D}=T[I][R],{abi:j,address:F,functionName:q,args:z}=v[B.length];try{if(D==="0x")throw new r.AbiDecodingZeroDataError;if(!P)throw new s.RawContractError({data:O});const W=(0,i.decodeFunctionResult)({abi:j,args:z,data:O,functionName:q});B.push(y?{result:W,status:"success"}:W)}catch(W){const K=(0,c.getContractError)(W,{abi:j,address:F,args:z,docsPath:"/docs/contract/multicall",functionName:q});if(!y)throw K;B.push({error:K,result:void 0,status:"failure"})}}}if(B.length!==v.length)throw new n.BaseError("multicall results mismatch");return B}return q2}var z2={},a$;function Yre(){if(a$)return z2;a$=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.simulateBlocks=y;const t=Zte(),e=Wr(),r=Hr(),n=Ud(),s=Ku(),i=Yu(),o=Si(),a=jn(),c=ze(),u=Fd(),l=_E(),d=qP(),f=Zu(),h=wa(),p=J3(),m=Ea();async function y(E,w){const{blockNumber:b,blockTag:g=E.experimental_blockTag??"latest",blocks:v,returnFullTransactions:A,traceTransfers:C,validation:x}=w;try{const T=[];for(const B of v){const U=B.blockOverrides?t.toRpc(B.blockOverrides):void 0,I=B.calls.map(_=>{const R=_,O=R.account?(0,e.parseAccount)(R.account):void 0,P=R.abi?(0,o.encodeFunctionData)(R):R.data,D={...R,account:O,data:R.dataSuffix?(0,a.concat)([P||"0x",R.dataSuffix]):P,from:R.from??(O==null?void 0:O.address)};return(0,m.assertRequest)(D),(0,h.formatTransactionRequest)(D)}),S=B.stateOverrides?(0,p.serializeStateOverride)(B.stateOverrides):void 0;T.push({blockOverrides:U,calls:I,stateOverrides:S})}const M=(typeof b=="bigint"?(0,c.numberToHex)(b):void 0)||g;return(await E.request({method:"eth_simulateV1",params:[{blockStateCalls:T,returnFullTransactions:A,traceTransfers:C,validation:x},M]})).map((B,U)=>({...(0,d.formatBlock)(B),calls:B.calls.map((I,S)=>{var K,re;const{abi:_,args:R,functionName:O,to:P}=v[U].calls[S],D=((K=I.error)==null?void 0:K.data)??I.returnData,j=BigInt(I.gasUsed),F=(re=I.logs)==null?void 0:re.map(Q=>(0,f.formatLog)(Q)),q=I.status==="0x1"?"success":"failure",z=_&&q==="success"&&D!=="0x"?(0,i.decodeFunctionResult)({abi:_,data:D,functionName:O}):null,W=(()=>{var X;if(q==="success")return;let Q;if(((X=I.error)==null?void 0:X.data)==="0x"?Q=new r.AbiDecodingZeroDataError:I.error&&(Q=new n.RawContractError(I.error)),!!Q)return(0,u.getContractError)(Q,{abi:_??[],address:P??"0x",args:R,functionName:O??"<unknown>"})})();return{data:D,gasUsed:j,logs:F,status:q,...q==="success"?{result:z}:{error:W}}})}))}catch(T){const N=T,M=(0,l.getNodeError)(N,{});throw M instanceof s.UnknownNodeError?N:M}}return z2}var $2={},Al={},Ts={},f0={},c$;function I4e(){if(c$)return f0;c$=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.normalizeSignature=r,f0.isArgOfType=n,f0.getAmbiguousTypes=s;const t=c6(),e=no();function r(i){let o=!0,a="",c=0,u="",l=!1;for(let d=0;d<i.length;d++){const f=i[d];if(["(",")",","].includes(f)&&(o=!0),f==="("&&c++,f===")"&&c--,!!o){if(c===0){if(f===" "&&["event","function","error",""].includes(u))u="";else if(u+=f,f===")"){l=!0;break}continue}if(f===" "){i[d-1]!==","&&a!==","&&a!==",("&&(a="",o=!1);continue}u+=f,a+=f}}if(!l)throw new e.BaseError("Unable to normalize signature.");return u}function n(i,o){const a=typeof i,c=o.type;switch(c){case"address":return t.validate(i,{strict:!1});case"bool":return a==="boolean";case"function":return a==="string";case"string":return a==="string";default:return c==="tuple"&&"components"in o?Object.values(o.components).every((u,l)=>n(Object.values(i)[l],u)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(c)?a==="number"||a==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(c)?a==="string"||i instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(c)?Array.isArray(i)&&i.every(u=>n(u,{...o,type:c.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function s(i,o,a){for(const c in i){const u=i[c],l=o[c];if(u.type==="tuple"&&l.type==="tuple"&&"components"in u&&"components"in l)return s(u.components,l.components,a[c]);const d=[u.type,l.type];if(d.includes("address")&&d.includes("bytes20")?!0:d.includes("address")&&d.includes("string")?t.validate(a[c],{strict:!1}):d.includes("address")&&d.includes("bytes")?t.validate(a[c],{strict:!1}):!1)return d}}return f0}var u$;function Jre(){if(u$)return Ts;u$=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.InvalidSelectorSizeError=Ts.NotFoundError=Ts.AmbiguityError=void 0,Ts.format=i,Ts.from=o,Ts.fromAbi=a,Ts.getSelector=c,Ts.getSignature=u,Ts.getSignatureHash=l;const t=a6(),e=no(),r=k4(),n=es(),s=I4e();function i(p){return t.formatAbiItem(p)}function o(p,m={}){const{prepare:y=!0}=m,E=Array.isArray(p)||typeof p=="string"?t.parseAbiItem(p):p;return{...E,...y?{hash:l(E)}:{}}}function a(p,m,y){const{args:E=[],prepare:w=!0}=y??{},b=n.validate(m,{strict:!1}),g=p.filter(C=>b?C.type==="function"||C.type==="error"?c(C)===n.slice(m,0,4):C.type==="event"?l(C)===m:!1:"name"in C&&C.name===m);if(g.length===0)throw new f({name:m});if(g.length===1)return{...g[0],...w?{hash:l(g[0])}:{}};let v;for(const C of g){if(!("inputs"in C))continue;if(!E||E.length===0){if(!C.inputs||C.inputs.length===0)return{...C,...w?{hash:l(C)}:{}};continue}if(!C.inputs||C.inputs.length===0||C.inputs.length!==E.length)continue;if(E.every((T,N)=>{const M="inputs"in C&&C.inputs[N];return M?s.isArgOfType(T,M):!1})){if(v&&"inputs"in v&&v.inputs){const T=s.getAmbiguousTypes(C.inputs,v.inputs,E);if(T)throw new d({abiItem:C,type:T[0]},{abiItem:v,type:T[1]})}v=C}}const A=(()=>{if(v)return v;const[C,...x]=g;return{...C,overloads:x}})();if(!A)throw new f({name:m});return{...A,...w?{hash:l(A)}:{}}}function c(...p){const m=(()=>{if(Array.isArray(p[0])){const[y,E]=p;return a(y,E)}return p[0]})();return n.slice(l(m),0,4)}function u(...p){const m=(()=>{if(Array.isArray(p[0])){const[E,w]=p;return a(E,w)}return p[0]})(),y=typeof m=="string"?m:t.formatAbiItem(m);return s.normalizeSignature(y)}function l(...p){const m=(()=>{if(Array.isArray(p[0])){const[y,E]=p;return a(y,E)}return p[0]})();return typeof m!="string"&&"hash"in m&&m.hash?m.hash:r.keccak256(n.fromString(u(m)))}class d extends e.BaseError{constructor(m,y){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${m.type}\` in \`${s.normalizeSignature(t.formatAbiItem(m.abiItem))}\`, and`,`\`${y.type}\` in \`${s.normalizeSignature(t.formatAbiItem(y.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}Ts.AmbiguityError=d;class f extends e.BaseError{constructor({name:m,data:y,type:E="item"}){const w=m?` with name "${m}"`:y?` with data "${y}"`:"";super(`ABI ${E}${w} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}Ts.NotFoundError=f;class h extends e.BaseError{constructor({data:m}){super(`Selector size is invalid. Expected 4 bytes. Received ${n.size(m)} bytes ("${m}").`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.InvalidSelectorSizeError"})}}return Ts.InvalidSelectorSizeError=h,Ts}var l$;function T4e(){if(l$)return Al;l$=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.decode=s,Al.encode=i,Al.format=o,Al.from=a,Al.fromAbi=c;const t=a6(),e=Jre(),r=LE(),n=es();function s(...u){const[l,d]=(()=>{if(Array.isArray(u[0])){const[p,m]=u;return[c(p),m]}return u})(),{bytecode:f}=d;if(l.inputs.length===0)return;const h=d.data.replace(f,"0x");return r.decode(l.inputs,h)}function i(...u){var p;const[l,d]=(()=>{if(Array.isArray(u[0])){const[m,y]=u;return[c(m),y]}return u})(),{bytecode:f,args:h}=d;return n.concat(f,(p=l.inputs)!=null&&p.length&&(h!=null&&h.length)?r.encode(l.inputs,h):"0x")}function o(u){return t.formatAbiItem(u)}function a(u){return e.from(u)}function c(u){const l=u.find(d=>d.type==="constructor");if(!l)throw new e.NotFoundError({name:"constructor"});return l}return Al}var Lo={},d$;function P4e(){if(d$)return Lo;d$=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.decodeData=s,Lo.decodeResult=i,Lo.encodeData=o,Lo.encodeResult=a,Lo.format=c,Lo.from=u,Lo.fromAbi=l,Lo.getSelector=d;const t=a6(),e=Jre(),r=LE(),n=es();function s(...f){const[h,p]=(()=>{if(Array.isArray(f[0])){const[E,w,b]=f;return[l(E,w),b]}return f})(),{overloads:m}=h;if(n.size(p)<4)throw new e.InvalidSelectorSizeError({data:p});if(h.inputs.length===0)return;const y=m?l([h,...m],p):h;if(!(n.size(p)<=4))return r.decode(y.inputs,n.slice(p,4))}function i(...f){const[h,p,m={}]=(()=>{if(Array.isArray(f[0])){const[E,w,b,g]=f;return[l(E,w),b,g]}return f})(),y=r.decode(h.outputs,p,m);if(!(y&&Object.keys(y).length===0))return y&&Object.keys(y).length===1?Array.isArray(y)?y[0]:Object.values(y)[0]:y}function o(...f){const[h,p=[]]=(()=>{if(Array.isArray(f[0])){const[v,A,C]=f;return[l(v,A,{args:C}),C]}const[b,g]=f;return[b,g]})(),{overloads:m}=h,y=m?l([h,...m],h.name,{args:p}):h,E=d(y),w=p.length>0?r.encode(y.inputs,p):void 0;return w?n.concat(E,w):E}function a(...f){const[h,p,m={}]=(()=>{if(Array.isArray(f[0])){const[w,b,g,v]=f;return[l(w,b),g,v]}return f})(),{as:y="Array"}=m,E=h.outputs.length===1?[p]:Array.isArray(p)?p:y==="Object"?Object.values(p):[p];return r.encode(h.outputs,E)}function c(f){return t.formatAbiItem(f)}function u(f,h={}){return e.from(f,h)}function l(f,h,p){const m=e.fromAbi(f,h,p);if(m.type!=="function")throw new e.NotFoundError({name:h,type:"function"});return m}function d(f){return e.getSelector(f)}return Lo}var ji={},f$;function Qre(){return f$||(f$=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.zeroAddress=ji.ethAddress=ji.entryPoint08Address=ji.entryPoint07Address=ji.entryPoint06Address=void 0,ji.entryPoint06Address="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789",ji.entryPoint07Address="0x0000000071727De22E5E9d8BAf0edAc6f37da032",ji.entryPoint08Address="0x4337084D9E255Ff0702461CF8895CE9E3b5Ff108",ji.ethAddress="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ji.zeroAddress="0x0000000000000000000000000000000000000000"),ji}var h$;function x4e(){if(h$)return $2;h$=1,Object.defineProperty($2,"__esModule",{value:!0}),$2.simulateCalls=d;const t=T4e(),e=P4e(),r=Wr(),n=Qre(),s=xE(),i=yt(),o=Si(),a=H4(),c=ire(),u=Yre(),l="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function d(f,h){const{blockNumber:p,blockTag:m,calls:y,stateOverrides:E,traceAssetChanges:w,traceTransfers:b,validation:g}=h,v=h.account?(0,r.parseAccount)(h.account):void 0;if(w&&!v)throw new i.BaseError("`account` is required when `traceAssetChanges` is true");const A=v?t.encode(t.from("constructor(bytes, bytes)"),{bytecode:s.deploylessCallViaBytecodeBytecode,args:[l,e.encodeData(e.from("function getBalance(address)"),[v.address])]}):void 0,C=w?await Promise.all(h.calls.map(async X=>{if(!X.data&&!X.abi)return;const{accessList:ie}=await(0,c.createAccessList)(f,{account:v.address,...X,data:X.abi?(0,o.encodeFunctionData)(X):X.data});return ie.map(({address:Y,storageKeys:V})=>V.length>0?Y:null)})).then(X=>X.flat().filter(Boolean)):[],x=await(0,u.simulateBlocks)(f,{blockNumber:p,blockTag:m,blocks:[...w?[{calls:[{data:A}],stateOverrides:E},{calls:C.map((X,ie)=>({abi:[e.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[v.address],to:X,from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]}]:[],{calls:[...y,{}].map(X=>({...X,from:v==null?void 0:v.address})),stateOverrides:E},...w?[{calls:[{data:A}]},{calls:C.map((X,ie)=>({abi:[e.from("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[v.address],to:X,from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:C.map((X,ie)=>({to:X,abi:[e.from("function decimals() returns (uint256)")],functionName:"decimals",from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:C.map((X,ie)=>({to:X,abi:[e.from("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]},{calls:C.map((X,ie)=>({to:X,abi:[e.from("function symbol() returns (string)")],functionName:"symbol",from:n.zeroAddress,nonce:ie})),stateOverrides:[{address:n.zeroAddress,nonce:0}]}]:[]],traceTransfers:b,validation:g}),T=w?x[2]:x[0],[N,M,,k,B,U,I,S]=w?x:[],{calls:_,...R}=T,O=_.slice(0,-1)??[],P=(N==null?void 0:N.calls)??[],D=(M==null?void 0:M.calls)??[],j=[...P,...D].map(X=>X.status==="success"?(0,a.hexToBigInt)(X.data):null),F=(k==null?void 0:k.calls)??[],q=(B==null?void 0:B.calls)??[],z=[...F,...q].map(X=>X.status==="success"?(0,a.hexToBigInt)(X.data):null),W=((U==null?void 0:U.calls)??[]).map(X=>X.status==="success"?X.result:null),K=((S==null?void 0:S.calls)??[]).map(X=>X.status==="success"?X.result:null),re=((I==null?void 0:I.calls)??[]).map(X=>X.status==="success"?X.result:null),Q=[];for(const[X,ie]of z.entries()){const Y=j[X];if(typeof ie!="bigint"||typeof Y!="bigint")continue;const V=W[X-1],Z=K[X-1],ne=re[X-1],ue=X===0?{address:n.ethAddress,decimals:18,symbol:"ETH"}:{address:C[X-1],decimals:ne||V?Number(V??1):void 0,symbol:Z??void 0};Q.some(ce=>ce.token.address===ue.address)||Q.push({token:ue,value:{pre:Y,post:ie,diff:ie-Y}})}return{assetChanges:Q,block:R,results:O}}return $2}var h0={},vb={},TO={},p$;function O4e(){return p$||(p$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidWrappedSignatureError=t.universalSignatureValidatorAbi=t.universalSignatureValidatorBytecode=t.magicBytes=void 0,t.assert=s,t.from=i,t.unwrap=o,t.wrap=a,t.validate=c;const e=LE(),r=no(),n=es();t.magicBytes="0x6492649264926492649264926492649264926492649264926492649264926492",t.universalSignatureValidatorBytecode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",t.universalSignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function s(l){if(n.slice(l,-32)!==t.magicBytes)throw new u(l)}function i(l){return typeof l=="string"?o(l):l}function o(l){s(l);const[d,f,h]=e.decode(e.from("address, bytes, bytes"),l);return{data:f,signature:h,to:d}}function a(l){const{data:d,signature:f,to:h}=l;return n.concat(e.encode(e.from("address, bytes, bytes"),[h,d,f]),t.magicBytes)}function c(l){try{return s(l),!0}catch{return!1}}class u extends r.BaseError{constructor(d){super(`Value \`${d}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}t.InvalidWrappedSignatureError=u})(TO)),TO}var m$;function R4e(){return m$||(m$=1,Object.defineProperty(vb,"__esModule",{value:!0}),vb.SignatureErc6492=void 0,vb.SignatureErc6492=O4e()),vb}var V2={},g$;function Xre(){if(g$)return V2;g$=1,Object.defineProperty(V2,"__esModule",{value:!0}),V2.serializeSignature=n;const t=wE(),e=tn(),r=Cr();function n({r:s,s:i,to:o="hex",v:a,yParity:c}){const u=(()=>{if(c===0||c===1)return c;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new t.secp256k1.Signature((0,e.hexToBigInt)(s),(0,e.hexToBigInt)(i)).toCompactHex()}${u===0?"1b":"1c"}`;return o==="hex"?l:(0,r.hexToBytes)(l)}return V2}var y$;function f6(){if(y$)return h0;y$=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.verifyHash=g,h0.verifyErc8010=v,h0.verifyErc1271=C;const t=R4e(),e=l6(),r=$d(),n=xE(),s=Ud(),i=RE(),o=Si(),a=ro(),c=va(),u=fre(),l=jn(),d=$s(),f=tn(),h=ze(),p=Yt(),m=Hd(),y=Xre(),E=NE(),w=cre(),b=gc();async function g(T,N){var S,_,R,O,P,D;const{address:M,hash:k,erc6492VerifierAddress:B=N.universalSignatureVerifierAddress??((R=(_=(S=T.chain)==null?void 0:S.contracts)==null?void 0:_.erc6492Verifier)==null?void 0:R.address),multicallAddress:U=N.multicallAddress??((D=(P=(O=T.chain)==null?void 0:O.contracts)==null?void 0:P.multicall3)==null?void 0:D.address)}=N,I=(()=>{const j=N.signature;return(0,d.isHex)(j)?j:typeof j=="object"&&"r"in j&&"s"in j?(0,y.serializeSignature)(j):(0,h.bytesToHex)(j)})();try{return e.SignatureErc8010.validate(I)?await v(T,{...N,multicallAddress:U,signature:I}):await A(T,{...N,verifierAddress:B,signature:I})}catch(j){try{if((0,c.isAddressEqual)((0,a.getAddress)(M),await(0,m.recoverAddress)({hash:k,signature:I})))return!0}catch{}if(j instanceof x)return!1;throw j}}async function v(T,N){var z;const{address:M,blockNumber:k,blockTag:B,hash:U,multicallAddress:I}=N,{authorization:S,data:_,signature:R,to:O}=e.SignatureErc8010.unwrap(N.signature);if(await(0,w.getCode)(T,{address:M,blockNumber:k,blockTag:B})===(0,l.concatHex)(["0xef0100",S.address]))return await C(T,{address:M,blockNumber:k,blockTag:B,hash:U,signature:R});const D={address:S.address,chainId:Number(S.chainId),nonce:Number(S.nonce),r:(0,h.numberToHex)(S.r,{size:32}),s:(0,h.numberToHex)(S.s,{size:32}),yParity:S.yParity};if(!await(0,u.verifyAuthorization)({address:M,authorization:D}))throw new x;const F=await(0,p.getAction)(T,b.readContract,"readContract")({...I?{address:I}:{code:n.multicall3Bytecode},authorizationList:[D],abi:r.multicall3Abi,blockNumber:k,blockTag:"pending",functionName:"aggregate3",args:[[..._?[{allowFailure:!0,target:O??M,callData:_}]:[],{allowFailure:!0,target:M,callData:(0,o.encodeFunctionData)({abi:r.erc1271Abi,functionName:"isValidSignature",args:[U,R]})}]]}),q=(z=F[F.length-1])==null?void 0:z.returnData;if(q!=null&&q.startsWith("0x1626ba7e"))return!0;throw new x}async function A(T,N){const{address:M,factory:k,factoryData:B,hash:U,signature:I,verifierAddress:S,..._}=N,R=await(async()=>!k&&!B||t.SignatureErc6492.validate(I)?I:t.SignatureErc6492.wrap({data:B,signature:I,to:k}))(),O=S?{to:S,data:(0,o.encodeFunctionData)({abi:r.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[M,U,R]}),..._}:{data:(0,i.encodeDeployData)({abi:r.erc6492SignatureValidatorAbi,args:[M,U,R],bytecode:n.erc6492SignatureValidatorByteCode}),..._},{data:P}=await(0,p.getAction)(T,E.call,"call")(O).catch(D=>{throw D instanceof s.CallExecutionError?new x:D});if((0,f.hexToBool)(P??"0x0"))return!0;throw new x}async function C(T,N){const{address:M,blockNumber:k,blockTag:B,hash:U,signature:I}=N;if((await(0,p.getAction)(T,b.readContract,"readContract")({address:M,abi:r.erc1271Abi,args:[U,I],blockNumber:k,blockTag:B,functionName:"isValidSignature"}).catch(_=>{throw _ instanceof s.ContractFunctionExecutionError?new x:_})).startsWith("0x1626ba7e"))return!0;throw new x}class x extends Error{}return h0}var G2={},b$;function N4e(){if(b$)return G2;b$=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.verifyMessage=n;const t=Yt(),e=DE(),r=f6();async function n(s,{address:i,message:o,factory:a,factoryData:c,signature:u,...l}){const d=(0,e.hashMessage)(o);return(0,t.getAction)(s,r.verifyHash,"verifyHash")({address:i,factory:a,factoryData:c,hash:d,signature:u,...l})}return G2}var W2={},w$;function B4e(){if(w$)return W2;w$=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.verifyTypedData=n;const t=Yt(),e=ME(),r=f6();async function n(s,i){const{address:o,factory:a,factoryData:c,signature:u,message:l,primaryType:d,types:f,domain:h,...p}=i,m=(0,e.hashTypedData)({message:l,primaryType:d,types:f,domain:h});return(0,t.getAction)(s,r.verifyHash,"verifyHash")({address:o,factory:a,factoryData:c,hash:m,signature:u,...p})}return W2}var K2={},Z2={},E$;function ene(){if(E$)return Z2;E$=1,Object.defineProperty(Z2,"__esModule",{value:!0}),Z2.watchBlockNumber=o;const t=tn(),e=Yt(),r=Pp(),n=Og(),s=Xn(),i=BE();function o(a,{emitOnBegin:c=!1,emitMissed:u=!1,onBlockNumber:l,onError:d,poll:f,pollingInterval:h=a.pollingInterval}){const p=typeof f<"u"?f:!(a.transport.type==="webSocket"||a.transport.type==="ipc"||a.transport.type==="fallback"&&(a.transport.transports[0].config.type==="webSocket"||a.transport.transports[0].config.type==="ipc"));let m;return p?(()=>{const w=(0,s.stringify)(["watchBlockNumber",a.uid,c,u,h]);return(0,r.observe)(w,{onBlockNumber:l,onError:d},b=>(0,n.poll)(async()=>{var g;try{const v=await(0,e.getAction)(a,i.getBlockNumber,"getBlockNumber")({cacheTime:0});if(m!==void 0){if(v===m)return;if(v-m>1&&u)for(let A=m+1n;A<v;A++)b.onBlockNumber(A,m),m=A}(m===void 0||v>m)&&(b.onBlockNumber(v,m),m=v)}catch(v){(g=b.onError)==null||g.call(b,v)}},{emitOnBegin:c,interval:h}))})():(()=>{const w=(0,s.stringify)(["watchBlockNumber",a.uid,c,u]);return(0,r.observe)(w,{onBlockNumber:l,onError:d},b=>{let g=!0,v=()=>g=!1;return(async()=>{try{const A=(()=>{if(a.transport.type==="fallback"){const x=a.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return x?x.value:a.transport}return a.transport})(),{unsubscribe:C}=await A.subscribe({params:["newHeads"],onData(x){var N;if(!g)return;const T=(0,t.hexToBigInt)((N=x.result)==null?void 0:N.number);b.onBlockNumber(T,m),m=T},onError(x){var T;(T=b.onError)==null||T.call(b,x)}});v=C,g||v()}catch(A){d==null||d(A)}})(),()=>v()})})()}return Z2}var v$;function tne(){if(v$)return K2;v$=1,Object.defineProperty(K2,"__esModule",{value:!0}),K2.waitForTransactionReceipt=d;const t=X3(),e=Ii(),r=Yt(),n=Pp(),s=u4(),i=XP(),o=Xn(),a=Ip(),c=q4(),u=Zre(),l=ene();async function d(f,h){const{checkReplacement:p=!0,confirmations:m=1,hash:y,onReplaced:E,retryCount:w=6,retryDelay:b=({count:_})=>~~(1<<_)*200,timeout:g=18e4}=h,v=(0,o.stringify)(["waitForTransactionReceipt",f.uid,y]),A=(()=>{var _;return h.pollingInterval?h.pollingInterval:(_=f.chain)!=null&&_.experimental_preconfirmationTime?f.chain.experimental_preconfirmationTime:f.pollingInterval})();let C,x,T,N=!1,M,k;const{promise:B,resolve:U,reject:I}=(0,s.withResolvers)(),S=g?setTimeout(()=>{k==null||k(),M==null||M(),I(new e.WaitForTransactionReceiptTimeoutError({hash:y}))},g):void 0;return M=(0,n.observe)(v,{onReplaced:E,resolve:U,reject:I},async _=>{if(T=await(0,r.getAction)(f,u.getTransactionReceipt,"getTransactionReceipt")({hash:y}).catch(()=>{}),T&&m<=1){clearTimeout(S),_.resolve(T),M==null||M();return}k=(0,r.getAction)(f,l.watchBlockNumber,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:A,async onBlockNumber(R){const O=D=>{clearTimeout(S),k==null||k(),D(),M==null||M()};let P=R;if(!N)try{if(T){if(m>1&&(!T.blockNumber||P-T.blockNumber+1n<m))return;O(()=>_.resolve(T));return}if(p&&!C&&(N=!0,await(0,i.withRetry)(async()=>{C=await(0,r.getAction)(f,c.getTransaction,"getTransaction")({hash:y}),C.blockNumber&&(P=C.blockNumber)},{delay:b,retryCount:w}),N=!1),T=await(0,r.getAction)(f,u.getTransactionReceipt,"getTransactionReceipt")({hash:y}),m>1&&(!T.blockNumber||P-T.blockNumber+1n<m))return;O(()=>_.resolve(T))}catch(D){if(D instanceof e.TransactionNotFoundError||D instanceof e.TransactionReceiptNotFoundError){if(!C){N=!1;return}try{x=C,N=!0;const j=await(0,i.withRetry)(()=>(0,r.getAction)(f,a.getBlock,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:b,retryCount:w,shouldRetry:({error:z})=>z instanceof t.BlockNotFoundError});N=!1;const F=j.transactions.find(({from:z,nonce:W})=>z===x.from&&W===x.nonce);if(!F||(T=await(0,r.getAction)(f,u.getTransactionReceipt,"getTransactionReceipt")({hash:F.hash}),m>1&&(!T.blockNumber||P-T.blockNumber+1n<m)))return;let q="replaced";F.to===x.to&&F.value===x.value&&F.input===x.input?q="repriced":F.from===F.to&&F.value===0n&&(q="cancelled"),O(()=>{var z;(z=_.onReplaced)==null||z.call(_,{reason:q,replacedTransaction:x,transaction:F,transactionReceipt:T}),_.resolve(T)})}catch(j){O(()=>_.reject(j))}}else O(()=>_.reject(D))}}})}),B}return K2}var Y2={},_$;function k4e(){if(_$)return Y2;_$=1,Object.defineProperty(Y2,"__esModule",{value:!0}),Y2.watchBlocks=i;const t=Yt(),e=Pp(),r=Og(),n=Xn(),s=Ip();function i(o,{blockTag:a=o.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:u=!1,onBlock:l,onError:d,includeTransactions:f,poll:h,pollingInterval:p=o.pollingInterval}){const m=typeof h<"u"?h:!(o.transport.type==="webSocket"||o.transport.type==="ipc"||o.transport.type==="fallback"&&(o.transport.transports[0].config.type==="webSocket"||o.transport.transports[0].config.type==="ipc")),y=f??!1;let E;return m?(()=>{const g=(0,n.stringify)(["watchBlocks",o.uid,a,c,u,y,p]);return(0,e.observe)(g,{onBlock:l,onError:d},v=>(0,r.poll)(async()=>{var A;try{const C=await(0,t.getAction)(o,s.getBlock,"getBlock")({blockTag:a,includeTransactions:y});if(C.number!==null&&(E==null?void 0:E.number)!=null){if(C.number===E.number)return;if(C.number-E.number>1&&c)for(let x=(E==null?void 0:E.number)+1n;x<C.number;x++){const T=await(0,t.getAction)(o,s.getBlock,"getBlock")({blockNumber:x,includeTransactions:y});v.onBlock(T,E),E=T}}((E==null?void 0:E.number)==null||a==="pending"&&(C==null?void 0:C.number)==null||C.number!==null&&C.number>E.number)&&(v.onBlock(C,E),E=C)}catch(C){(A=v.onError)==null||A.call(v,C)}},{emitOnBegin:u,interval:p}))})():(()=>{let g=!0,v=!0,A=()=>g=!1;return(async()=>{try{u&&(0,t.getAction)(o,s.getBlock,"getBlock")({blockTag:a,includeTransactions:y}).then(T=>{g&&v&&(l(T,void 0),v=!1)}).catch(d);const C=(()=>{if(o.transport.type==="fallback"){const T=o.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return T?T.value:o.transport}return o.transport})(),{unsubscribe:x}=await C.subscribe({params:["newHeads"],async onData(T){var M;if(!g)return;const N=await(0,t.getAction)(o,s.getBlock,"getBlock")({blockNumber:(M=T.result)==null?void 0:M.number,includeTransactions:y}).catch(()=>{});g&&(l(N,E),v=!1,E=N)},onError(T){d==null||d(T)}});A=x,g||A()}catch(C){d==null||d(C)}})(),()=>A()})()}return Y2}var J2={},A$;function j4e(){if(A$)return J2;A$=1,Object.defineProperty(J2,"__esModule",{value:!0}),J2.watchEvent=p;const t=Hr(),e=Ld(),r=TE(),n=Cp(),s=Zu(),i=Yt(),o=Pp(),a=Og(),c=Xn(),u=ore(),l=BE(),d=YP(),f=o4(),h=JP();function p(m,{address:y,args:E,batch:w=!0,event:b,events:g,fromBlock:v,onError:A,onLogs:C,poll:x,pollingInterval:T=m.pollingInterval,strict:N}){const M=typeof x<"u"?x:typeof v=="bigint"?!0:!(m.transport.type==="webSocket"||m.transport.type==="ipc"||m.transport.type==="fallback"&&(m.transport.transports[0].config.type==="webSocket"||m.transport.transports[0].config.type==="ipc")),k=N??!1;return M?(()=>{const I=(0,c.stringify)(["watchEvent",y,E,w,m.uid,b,T,v]);return(0,o.observe)(I,{onLogs:C,onError:A},S=>{let _;v!==void 0&&(_=v-1n);let R,O=!1;const P=(0,a.poll)(async()=>{var D;if(!O){try{R=await(0,i.getAction)(m,u.createEventFilter,"createEventFilter")({address:y,args:E,event:b,events:g,strict:k,fromBlock:v})}catch{}O=!0;return}try{let j;if(R)j=await(0,i.getAction)(m,d.getFilterChanges,"getFilterChanges")({filter:R});else{const F=await(0,i.getAction)(m,l.getBlockNumber,"getBlockNumber")({});_&&_!==F?j=await(0,i.getAction)(m,f.getLogs,"getLogs")({address:y,args:E,event:b,events:g,fromBlock:_+1n,toBlock:F}):j=[],_=F}if(j.length===0)return;if(w)S.onLogs(j);else for(const F of j)S.onLogs([F])}catch(j){R&&j instanceof e.InvalidInputRpcError&&(O=!1),(D=S.onError)==null||D.call(S,j)}},{emitOnBegin:!0,interval:T});return async()=>{R&&await(0,i.getAction)(m,h.uninstallFilter,"uninstallFilter")({filter:R}),P()}})})():(()=>{let I=!0,S=()=>I=!1;return(async()=>{try{const _=(()=>{if(m.transport.type==="fallback"){const D=m.transport.transports.find(j=>j.config.type==="webSocket"||j.config.type==="ipc");return D?D.value:m.transport}return m.transport})(),R=g??(b?[b]:void 0);let O=[];R&&(O=[R.flatMap(j=>(0,n.encodeEventTopics)({abi:[j],eventName:j.name,args:E}))],b&&(O=O[0]));const{unsubscribe:P}=await _.subscribe({params:["logs",{address:y,topics:O}],onData(D){var F;if(!I)return;const j=D.result;try{const{eventName:q,args:z}=(0,r.decodeEventLog)({abi:R??[],data:j.data,topics:j.topics,strict:k}),W=(0,s.formatLog)(j,{args:z,eventName:q});C([W])}catch(q){let z,W;if(q instanceof t.DecodeLogDataMismatch||q instanceof t.DecodeLogTopicsMismatch){if(N)return;z=q.abiItem.name,W=(F=q.abiItem.inputs)==null?void 0:F.some(re=>!("name"in re&&re.name))}const K=(0,s.formatLog)(j,{args:W?[]:{},eventName:z});C([K])}},onError(D){A==null||A(D)}});S=P,I||S()}catch(_){A==null||A(_)}})(),()=>S()})()}return J2}var Q2={},C$;function D4e(){if(C$)return Q2;C$=1,Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.watchPendingTransactions=a;const t=Yt(),e=Pp(),r=Og(),n=Xn(),s=are(),i=YP(),o=JP();function a(c,{batch:u=!0,onError:l,onTransactions:d,poll:f,pollingInterval:h=c.pollingInterval}){return(typeof f<"u"?f:c.transport.type!=="webSocket"&&c.transport.type!=="ipc")?(()=>{const E=(0,n.stringify)(["watchPendingTransactions",c.uid,u,h]);return(0,e.observe)(E,{onTransactions:d,onError:l},w=>{let b;const g=(0,r.poll)(async()=>{var v;try{if(!b)try{b=await(0,t.getAction)(c,s.createPendingTransactionFilter,"createPendingTransactionFilter")({});return}catch(C){throw g(),C}const A=await(0,t.getAction)(c,i.getFilterChanges,"getFilterChanges")({filter:b});if(A.length===0)return;if(u)w.onTransactions(A);else for(const C of A)w.onTransactions([C])}catch(A){(v=w.onError)==null||v.call(w,A)}},{emitOnBegin:!0,interval:h});return async()=>{b&&await(0,t.getAction)(c,o.uninstallFilter,"uninstallFilter")({filter:b}),g()}})})():(()=>{let E=!0,w=()=>E=!1;return(async()=>{try{const{unsubscribe:b}=await c.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!E)return;const v=g.result;d([v])},onError(g){l==null||l(g)}});w=b,E||w()}catch(b){l==null||l(b)}})(),()=>w()})()}return Q2}var X2={},eC={},S$;function M4e(){if(S$)return eC;S$=1,Object.defineProperty(eC,"__esModule",{value:!0}),eC.parseSiweMessage=t;function t(n){var p,m,y;const{scheme:s,statement:i,...o}=((p=n.match(e))==null?void 0:p.groups)??{},{chainId:a,expirationTime:c,issuedAt:u,notBefore:l,requestId:d,...f}=((m=n.match(r))==null?void 0:m.groups)??{},h=(y=n.split("Resources:")[1])==null?void 0:y.split(`
- `).slice(1);return{...o,...f,...a?{chainId:Number(a)}:{},...c?{expirationTime:new Date(c)}:{},...u?{issuedAt:new Date(u)}:{},...l?{notBefore:new Date(l)}:{},...d?{requestId:d}:{},...h?{resources:h}:{},...s?{scheme:s}:{},...i?{statement:i}:{}}}const e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,r=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;return eC}var tC={},I$;function U4e(){if(I$)return tC;I$=1,Object.defineProperty(tC,"__esModule",{value:!0}),tC.validateSiweMessage=r;const t=Ci(),e=va();function r(n){const{address:s,domain:i,message:o,nonce:a,scheme:c,time:u=new Date}=n;if(i&&o.domain!==i||a&&o.nonce!==a||c&&o.scheme!==c||o.expirationTime&&u>=o.expirationTime||o.notBefore&&u<o.notBefore)return!1;try{if(!o.address||!(0,t.isAddress)(o.address,{strict:!1})||s&&!(0,e.isAddressEqual)(o.address,s))return!1}catch{return!1}return!0}return tC}var T$;function L4e(){if(T$)return X2;T$=1,Object.defineProperty(X2,"__esModule",{value:!0}),X2.verifySiweMessage=s;const t=DE(),e=M4e(),r=U4e(),n=f6();async function s(i,o){const{address:a,domain:c,message:u,nonce:l,scheme:d,signature:f,time:h=new Date,...p}=o,m=(0,e.parseSiweMessage)(u);if(!m.address||!(0,r.validateSiweMessage)({address:a,domain:c,message:m,nonce:l,scheme:d,time:h}))return!1;const E=(0,t.hashMessage)(u);return(0,n.verifyHash)(i,{address:m.address,hash:E,signature:f,...p})}return X2}var rC={},P$;function z4(){if(P$)return rC;P$=1,Object.defineProperty(rC,"__esModule",{value:!0}),rC.sendRawTransactionSync=n;const t=Ii(),e=jE(),r=H4();async function n(s,{serializedTransaction:i,throwOnReceiptRevert:o,timeout:a}){var d,f,h;const c=await s.request({method:"eth_sendRawTransactionSync",params:a?[i,(0,r.numberToHex)(a)]:[i]},{retryCount:0}),l=(((h=(f=(d=s.chain)==null?void 0:d.formatters)==null?void 0:f.transactionReceipt)==null?void 0:h.format)||e.formatTransactionReceipt)(c);if(l.status==="reverted"&&o)throw new t.TransactionReceiptRevertedError({receipt:l});return l}return rC}var x$;function rne(){if(x$)return SA;x$=1,Object.defineProperty(SA,"__esModule",{value:!0}),SA.publicActions=we;const t=j3e(),e=U3e(),r=L3e(),n=F3e(),s=sre(),i=NE(),o=ire(),a=H3e(),c=$3(),u=ore(),l=are(),d=Gte(),f=Hte(),h=i4(),p=Fte(),m=s4(),y=q3e(),E=z3e(),w=Ip(),b=BE(),g=$3e(),v=zd(),A=cre(),C=a4(),x=G3e(),T=K3e(),N=YP(),M=Z3e(),k=e4(),B=o4(),U=_4e(),I=A4e(),S=q4(),_=C4e(),R=zP(),O=Zre(),P=S4e(),D=gc(),j=Yre(),F=x4e(),q=Yte(),z=JP(),W=f6(),K=N4e(),re=B4e(),Q=tne(),X=ene(),ie=k4e(),Y=Qte(),V=j4e(),Z=D4e(),ne=L4e(),ue=IE(),ce=g4(),ge=z4();function we(me){return{call:ae=>(0,i.call)(me,ae),createAccessList:ae=>(0,o.createAccessList)(me,ae),createBlockFilter:()=>(0,a.createBlockFilter)(me),createContractEventFilter:ae=>(0,c.createContractEventFilter)(me,ae),createEventFilter:ae=>(0,u.createEventFilter)(me,ae),createPendingTransactionFilter:()=>(0,l.createPendingTransactionFilter)(me),estimateContractGas:ae=>(0,d.estimateContractGas)(me,ae),estimateGas:ae=>(0,h.estimateGas)(me,ae),getBalance:ae=>(0,y.getBalance)(me,ae),getBlobBaseFee:()=>(0,E.getBlobBaseFee)(me),getBlock:ae=>(0,w.getBlock)(me,ae),getBlockNumber:ae=>(0,b.getBlockNumber)(me,ae),getBlockTransactionCount:ae=>(0,g.getBlockTransactionCount)(me,ae),getBytecode:ae=>(0,A.getCode)(me,ae),getChainId:()=>(0,v.getChainId)(me),getCode:ae=>(0,A.getCode)(me,ae),getContractEvents:ae=>(0,C.getContractEvents)(me,ae),getEip712Domain:ae=>(0,x.getEip712Domain)(me,ae),getEnsAddress:ae=>(0,t.getEnsAddress)(me,ae),getEnsAvatar:ae=>(0,e.getEnsAvatar)(me,ae),getEnsName:ae=>(0,r.getEnsName)(me,ae),getEnsResolver:ae=>(0,n.getEnsResolver)(me,ae),getEnsText:ae=>(0,s.getEnsText)(me,ae),getFeeHistory:ae=>(0,T.getFeeHistory)(me,ae),estimateFeesPerGas:ae=>(0,f.estimateFeesPerGas)(me,ae),getFilterChanges:ae=>(0,N.getFilterChanges)(me,ae),getFilterLogs:ae=>(0,M.getFilterLogs)(me,ae),getGasPrice:()=>(0,k.getGasPrice)(me),getLogs:ae=>(0,B.getLogs)(me,ae),getProof:ae=>(0,U.getProof)(me,ae),estimateMaxPriorityFeePerGas:ae=>(0,p.estimateMaxPriorityFeePerGas)(me,ae),fillTransaction:ae=>(0,m.fillTransaction)(me,ae),getStorageAt:ae=>(0,I.getStorageAt)(me,ae),getTransaction:ae=>(0,S.getTransaction)(me,ae),getTransactionConfirmations:ae=>(0,_.getTransactionConfirmations)(me,ae),getTransactionCount:ae=>(0,R.getTransactionCount)(me,ae),getTransactionReceipt:ae=>(0,O.getTransactionReceipt)(me,ae),multicall:ae=>(0,P.multicall)(me,ae),prepareTransactionRequest:ae=>(0,ue.prepareTransactionRequest)(me,ae),readContract:ae=>(0,D.readContract)(me,ae),sendRawTransaction:ae=>(0,ce.sendRawTransaction)(me,ae),sendRawTransactionSync:ae=>(0,ge.sendRawTransactionSync)(me,ae),simulate:ae=>(0,j.simulateBlocks)(me,ae),simulateBlocks:ae=>(0,j.simulateBlocks)(me,ae),simulateCalls:ae=>(0,F.simulateCalls)(me,ae),simulateContract:ae=>(0,q.simulateContract)(me,ae),verifyHash:ae=>(0,W.verifyHash)(me,ae),verifyMessage:ae=>(0,K.verifyMessage)(me,ae),verifySiweMessage:ae=>(0,ne.verifySiweMessage)(me,ae),verifyTypedData:ae=>(0,re.verifyTypedData)(me,ae),uninstallFilter:ae=>(0,z.uninstallFilter)(me,ae),waitForTransactionReceipt:ae=>(0,Q.waitForTransactionReceipt)(me,ae),watchBlocks:ae=>(0,ie.watchBlocks)(me,ae),watchBlockNumber:ae=>(0,X.watchBlockNumber)(me,ae),watchContractEvent:ae=>(0,Y.watchContractEvent)(me,ae),watchEvent:ae=>(0,V.watchEvent)(me,ae),watchPendingTransactions:ae=>(0,Z.watchPendingTransactions)(me,ae)}}return SA}var O$;function F4e(){if(O$)return CA;O$=1,Object.defineProperty(CA,"__esModule",{value:!0}),CA.createPublicClient=r;const t=e6(),e=rne();function r(n){const{key:s="public",name:i="Public Client"}=n;return(0,t.createClient)({...n,key:s,name:i,type:"publicClient"}).extend(e.publicActions)}return CA}var nC={},sC={},iC={},R$;function H4e(){if(R$)return iC;R$=1,Object.defineProperty(iC,"__esModule",{value:!0}),iC.dropTransaction=t;async function t(e,{hash:r}){await e.request({method:`${e.mode}_dropTransaction`,params:[r]})}return iC}var oC={},N$;function q4e(){if(N$)return oC;N$=1,Object.defineProperty(oC,"__esModule",{value:!0}),oC.dumpState=t;async function t(e){return e.request({method:`${e.mode}_dumpState`})}return oC}var aC={},B$;function z4e(){if(B$)return aC;B$=1,Object.defineProperty(aC,"__esModule",{value:!0}),aC.getAutomine=t;async function t(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}return aC}var cC={},k$;function $4e(){if(k$)return cC;k$=1,Object.defineProperty(cC,"__esModule",{value:!0}),cC.getTxpoolContent=t;async function t(e){return await e.request({method:"txpool_content"})}return cC}var uC={},j$;function V4e(){if(j$)return uC;j$=1,Object.defineProperty(uC,"__esModule",{value:!0}),uC.getTxpoolStatus=e;const t=tn();async function e(r){const{pending:n,queued:s}=await r.request({method:"txpool_status"});return{pending:(0,t.hexToNumber)(n),queued:(0,t.hexToNumber)(s)}}return uC}var lC={},D$;function G4e(){if(D$)return lC;D$=1,Object.defineProperty(lC,"__esModule",{value:!0}),lC.impersonateAccount=t;async function t(e,{address:r}){await e.request({method:`${e.mode}_impersonateAccount`,params:[r]})}return lC}var dC={},M$;function W4e(){if(M$)return dC;M$=1,Object.defineProperty(dC,"__esModule",{value:!0}),dC.increaseTime=e;const t=ze();async function e(r,{seconds:n}){return await r.request({method:"evm_increaseTime",params:[(0,t.numberToHex)(n)]})}return dC}var fC={},U$;function K4e(){if(U$)return fC;U$=1,Object.defineProperty(fC,"__esModule",{value:!0}),fC.inspectTxpool=t;async function t(e){return await e.request({method:"txpool_inspect"})}return fC}var hC={},L$;function Z4e(){if(L$)return hC;L$=1,Object.defineProperty(hC,"__esModule",{value:!0}),hC.loadState=t;async function t(e,{state:r}){await e.request({method:`${e.mode}_loadState`,params:[r]})}return hC}var pC={},F$;function Y4e(){if(F$)return pC;F$=1,Object.defineProperty(pC,"__esModule",{value:!0}),pC.mine=e;const t=ze();async function e(r,{blocks:n,interval:s}){r.mode==="ganache"?await r.request({method:"evm_mine",params:[{blocks:(0,t.numberToHex)(n)}]}):await r.request({method:`${r.mode}_mine`,params:[(0,t.numberToHex)(n),(0,t.numberToHex)(s||0)]})}return pC}var mC={},H$;function J4e(){if(H$)return mC;H$=1,Object.defineProperty(mC,"__esModule",{value:!0}),mC.removeBlockTimestampInterval=t;async function t(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}return mC}var gC={},q$;function Q4e(){if(q$)return gC;q$=1,Object.defineProperty(gC,"__esModule",{value:!0}),gC.reset=t;async function t(e,{blockNumber:r,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(r),jsonRpcUrl:n}}]})}return gC}var yC={},z$;function X4e(){if(z$)return yC;z$=1,Object.defineProperty(yC,"__esModule",{value:!0}),yC.revert=t;async function t(e,{id:r}){await e.request({method:"evm_revert",params:[r]})}return yC}var bC={},$$;function eBe(){if($$)return bC;$$=1,Object.defineProperty(bC,"__esModule",{value:!0}),bC.sendUnsignedTransaction=r;const t=qd(),e=wa();async function r(n,s){var g,v,A;const{accessList:i,data:o,from:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p,...m}=s,y=(A=(v=(g=n.chain)==null?void 0:g.formatters)==null?void 0:v.transactionRequest)==null?void 0:A.format,w=(y||e.formatTransactionRequest)({...(0,t.extract)(m,{format:y}),accessList:i,data:o,from:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p},"sendUnsignedTransaction");return await n.request({method:"eth_sendUnsignedTransaction",params:[w]})}return bC}var wC={},V$;function tBe(){if(V$)return wC;V$=1,Object.defineProperty(wC,"__esModule",{value:!0}),wC.setAutomine=t;async function t(e,r){e.mode==="ganache"?r?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[r]})}return wC}var EC={},G$;function rBe(){if(G$)return EC;G$=1,Object.defineProperty(EC,"__esModule",{value:!0}),EC.setBalance=e;const t=ze();async function e(r,{address:n,value:s}){r.mode==="ganache"?await r.request({method:"evm_setAccountBalance",params:[n,(0,t.numberToHex)(s)]}):await r.request({method:`${r.mode}_setBalance`,params:[n,(0,t.numberToHex)(s)]})}return EC}var vC={},W$;function nBe(){if(W$)return vC;W$=1,Object.defineProperty(vC,"__esModule",{value:!0}),vC.setBlockGasLimit=e;const t=ze();async function e(r,{gasLimit:n}){await r.request({method:"evm_setBlockGasLimit",params:[(0,t.numberToHex)(n)]})}return vC}var _C={},K$;function sBe(){if(K$)return _C;K$=1,Object.defineProperty(_C,"__esModule",{value:!0}),_C.setBlockTimestampInterval=t;async function t(e,{interval:r}){const n=e.mode==="hardhat"?r*1e3:r;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}return _C}var AC={},Z$;function iBe(){if(Z$)return AC;Z$=1,Object.defineProperty(AC,"__esModule",{value:!0}),AC.setCode=t;async function t(e,{address:r,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[r,n]}):await e.request({method:`${e.mode}_setCode`,params:[r,n]})}return AC}var CC={},Y$;function oBe(){if(Y$)return CC;Y$=1,Object.defineProperty(CC,"__esModule",{value:!0}),CC.setCoinbase=t;async function t(e,{address:r}){await e.request({method:`${e.mode}_setCoinbase`,params:[r]})}return CC}var SC={},J$;function aBe(){if(J$)return SC;J$=1,Object.defineProperty(SC,"__esModule",{value:!0}),SC.setIntervalMining=t;async function t(e,{interval:r}){const n=e.mode==="hardhat"?r*1e3:r;await e.request({method:"evm_setIntervalMining",params:[n]})}return SC}var IC={},Q$;function cBe(){if(Q$)return IC;Q$=1,Object.defineProperty(IC,"__esModule",{value:!0}),IC.setLoggingEnabled=t;async function t(e,r){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[r]})}return IC}var TC={},X$;function uBe(){if(X$)return TC;X$=1,Object.defineProperty(TC,"__esModule",{value:!0}),TC.setMinGasPrice=e;const t=ze();async function e(r,{gasPrice:n}){await r.request({method:`${r.mode}_setMinGasPrice`,params:[(0,t.numberToHex)(n)]})}return TC}var PC={},eV;function lBe(){if(eV)return PC;eV=1,Object.defineProperty(PC,"__esModule",{value:!0}),PC.setNextBlockBaseFeePerGas=e;const t=ze();async function e(r,{baseFeePerGas:n}){await r.request({method:`${r.mode}_setNextBlockBaseFeePerGas`,params:[(0,t.numberToHex)(n)]})}return PC}var xC={},tV;function dBe(){if(tV)return xC;tV=1,Object.defineProperty(xC,"__esModule",{value:!0}),xC.setNextBlockTimestamp=e;const t=ze();async function e(r,{timestamp:n}){await r.request({method:"evm_setNextBlockTimestamp",params:[(0,t.numberToHex)(n)]})}return xC}var OC={},rV;function fBe(){if(rV)return OC;rV=1,Object.defineProperty(OC,"__esModule",{value:!0}),OC.setNonce=e;const t=ze();async function e(r,{address:n,nonce:s}){await r.request({method:`${r.mode}_setNonce`,params:[n,(0,t.numberToHex)(s)]})}return OC}var RC={},nV;function hBe(){if(nV)return RC;nV=1,Object.defineProperty(RC,"__esModule",{value:!0}),RC.setRpcUrl=t;async function t(e,r){await e.request({method:`${e.mode}_setRpcUrl`,params:[r]})}return RC}var NC={},sV;function pBe(){if(sV)return NC;sV=1,Object.defineProperty(NC,"__esModule",{value:!0}),NC.setStorageAt=e;const t=ze();async function e(r,{address:n,index:s,value:i}){await r.request({method:`${r.mode}_setStorageAt`,params:[n,typeof s=="number"?(0,t.numberToHex)(s):s,i]})}return NC}var BC={},iV;function mBe(){if(iV)return BC;iV=1,Object.defineProperty(BC,"__esModule",{value:!0}),BC.snapshot=t;async function t(e){return await e.request({method:"evm_snapshot"})}return BC}var kC={},oV;function gBe(){if(oV)return kC;oV=1,Object.defineProperty(kC,"__esModule",{value:!0}),kC.stopImpersonatingAccount=t;async function t(e,{address:r}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[r]})}return kC}var aV;function nne(){if(aV)return sC;aV=1,Object.defineProperty(sC,"__esModule",{value:!0}),sC.testActions=U;const t=H4e(),e=q4e(),r=z4e(),n=$4e(),s=V4e(),i=G4e(),o=W4e(),a=K4e(),c=Z4e(),u=Y4e(),l=J4e(),d=Q4e(),f=X4e(),h=eBe(),p=tBe(),m=rBe(),y=nBe(),E=sBe(),w=iBe(),b=oBe(),g=aBe(),v=cBe(),A=uBe(),C=lBe(),x=dBe(),T=fBe(),N=hBe(),M=pBe(),k=mBe(),B=gBe();function U({mode:I}){return S=>{const _=S.extend(()=>({mode:I}));return{dropTransaction:R=>(0,t.dropTransaction)(_,R),dumpState:()=>(0,e.dumpState)(_),getAutomine:()=>(0,r.getAutomine)(_),getTxpoolContent:()=>(0,n.getTxpoolContent)(_),getTxpoolStatus:()=>(0,s.getTxpoolStatus)(_),impersonateAccount:R=>(0,i.impersonateAccount)(_,R),increaseTime:R=>(0,o.increaseTime)(_,R),inspectTxpool:()=>(0,a.inspectTxpool)(_),loadState:R=>(0,c.loadState)(_,R),mine:R=>(0,u.mine)(_,R),removeBlockTimestampInterval:()=>(0,l.removeBlockTimestampInterval)(_),reset:R=>(0,d.reset)(_,R),revert:R=>(0,f.revert)(_,R),sendUnsignedTransaction:R=>(0,h.sendUnsignedTransaction)(_,R),setAutomine:R=>(0,p.setAutomine)(_,R),setBalance:R=>(0,m.setBalance)(_,R),setBlockGasLimit:R=>(0,y.setBlockGasLimit)(_,R),setBlockTimestampInterval:R=>(0,E.setBlockTimestampInterval)(_,R),setCode:R=>(0,w.setCode)(_,R),setCoinbase:R=>(0,b.setCoinbase)(_,R),setIntervalMining:R=>(0,g.setIntervalMining)(_,R),setLoggingEnabled:R=>(0,v.setLoggingEnabled)(_,R),setMinGasPrice:R=>(0,A.setMinGasPrice)(_,R),setNextBlockBaseFeePerGas:R=>(0,C.setNextBlockBaseFeePerGas)(_,R),setNextBlockTimestamp:R=>(0,x.setNextBlockTimestamp)(_,R),setNonce:R=>(0,T.setNonce)(_,R),setRpcUrl:R=>(0,N.setRpcUrl)(_,R),setStorageAt:R=>(0,M.setStorageAt)(_,R),snapshot:()=>(0,k.snapshot)(_),stopImpersonatingAccount:R=>(0,B.stopImpersonatingAccount)(_,R)}}}return sC}var cV;function yBe(){if(cV)return nC;cV=1,Object.defineProperty(nC,"__esModule",{value:!0}),nC.createTestClient=r;const t=e6(),e=nne();function r(n){const{key:s="test",name:i="Test Client",mode:o}=n;return(0,t.createClient)({...n,key:s,name:i,type:"testClient"}).extend(c=>({mode:o,...(0,e.testActions)({mode:o})(c)}))}return nC}var jC={},DC={},MC={},uV;function bBe(){if(uV)return MC;uV=1,Object.defineProperty(MC,"__esModule",{value:!0}),MC.addChain=e;const t=ze();async function e(r,{chain:n}){const{id:s,name:i,nativeCurrency:o,rpcUrls:a,blockExplorers:c}=n;await r.request({method:"wallet_addEthereumChain",params:[{chainId:(0,t.numberToHex)(s),chainName:i,nativeCurrency:o,rpcUrls:a.default.http,blockExplorerUrls:c?Object.values(c).map(({url:u})=>u):void 0}]},{dedupe:!0,retryCount:0})}return MC}var UC={},lV;function wBe(){if(lV)return UC;lV=1,Object.defineProperty(UC,"__esModule",{value:!0}),UC.deployContract=r;const t=RE(),e=QP();function r(n,s){const{abi:i,args:o,bytecode:a,...c}=s,u=(0,t.encodeDeployData)({abi:i,args:o,bytecode:a});return(0,e.sendTransaction)(n,{...c,...c.authorizationList?{to:null}:{},data:u})}return UC}var LC={},dV;function EBe(){if(dV)return LC;dV=1,Object.defineProperty(LC,"__esModule",{value:!0}),LC.getAddresses=e;const t=ro();async function e(r){var s;return((s=r.account)==null?void 0:s.type)==="local"?[r.account.address]:(await r.request({method:"eth_accounts"},{dedupe:!0})).map(i=>(0,t.checksumAddress)(i))}return LC}var FC={},fV;function vBe(){if(fV)return FC;fV=1,Object.defineProperty(FC,"__esModule",{value:!0}),FC.getCapabilities=r;const t=Wr(),e=ze();async function r(n,s={}){const{account:i=n.account,chainId:o}=s,a=i?(0,t.parseAccount)(i):void 0,c=o?[a==null?void 0:a.address,[(0,e.numberToHex)(o)]]:[a==null?void 0:a.address],u=await n.request({method:"wallet_getCapabilities",params:c}),l={};for(const[d,f]of Object.entries(u)){l[Number(d)]={};for(let[h,p]of Object.entries(f))h==="addSubAccount"&&(h="unstable_addSubAccount"),l[Number(d)][h]=p}return typeof o=="number"?l[o]:l}return FC}var HC={},hV;function _Be(){if(hV)return HC;hV=1,Object.defineProperty(HC,"__esModule",{value:!0}),HC.getPermissions=t;async function t(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}return HC}var qC={},pV;function sne(){if(pV)return qC;pV=1,Object.defineProperty(qC,"__esModule",{value:!0}),qC.prepareAuthorization=o;const t=Wr(),e=Gd(),r=va(),n=Yt(),s=zd(),i=zP();async function o(a,c){var m;const{account:u=a.account,chainId:l,nonce:d}=c;if(!u)throw new e.AccountNotFoundError({docsPath:"/docs/eip7702/prepareAuthorization"});const f=(0,t.parseAccount)(u),h=(()=>{if(c.executor)return c.executor==="self"?c.executor:(0,t.parseAccount)(c.executor)})(),p={address:c.contractAddress??c.address,chainId:l,nonce:d};return typeof p.chainId>"u"&&(p.chainId=((m=a.chain)==null?void 0:m.id)??await(0,n.getAction)(a,s.getChainId,"getChainId")({})),typeof p.nonce>"u"&&(p.nonce=await(0,n.getAction)(a,i.getTransactionCount,"getTransactionCount")({address:f.address,blockTag:"pending"}),(h==="self"||h!=null&&h.address&&(0,r.isAddressEqual)(h.address,f.address))&&(p.nonce+=1)),p}return qC}var zC={},mV;function ABe(){if(mV)return zC;mV=1,Object.defineProperty(zC,"__esModule",{value:!0}),zC.requestAddresses=e;const t=ro();async function e(r){return(await r.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(s=>(0,t.getAddress)(s))}return zC}var $C={},gV;function CBe(){if(gV)return $C;gV=1,Object.defineProperty($C,"__esModule",{value:!0}),$C.requestPermissions=t;async function t(e,r){return e.request({method:"wallet_requestPermissions",params:[r]},{retryCount:0})}return $C}var VC={},yV;function SBe(){if(yV)return VC;yV=1,Object.defineProperty(VC,"__esModule",{value:!0}),VC.sendCallsSync=r;const t=b4(),e=w4();async function r(n,s){const{chain:i=n.chain}=s,o=s.timeout??Math.max(((i==null?void 0:i.blockTime)??0)*3,5e3),a=await(0,t.sendCalls)(n,s);return await(0,e.waitForCallsStatus)(n,{...s,id:a.id,timeout:o})}return VC}var GC={},bV;function ine(){if(bV)return GC;bV=1,Object.defineProperty(GC,"__esModule",{value:!0}),GC.sendTransactionSync=E;const t=Wr(),e=Gd(),r=yt(),n=Ii(),s=vE(),i=kE(),o=SE(),a=qd(),c=wa(),u=Yt(),l=_p(),d=Ea(),f=zd(),h=tne(),p=IE(),m=z4(),y=new l.LruMap(128);async function E(w,b){var F,q,z,W;const{account:g=w.account,chain:v=w.chain,accessList:A,authorizationList:C,blobs:x,data:T,gas:N,gasPrice:M,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:I,pollingInterval:S,throwOnReceiptRevert:_,type:R,value:O,...P}=b,D=b.timeout??Math.max(((v==null?void 0:v.blockTime)??0)*3,5e3);if(typeof g>"u")throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});const j=g?(0,t.parseAccount)(g):null;try{(0,d.assertRequest)(b);const K=await(async()=>{if(b.to)return b.to;if(b.to!==null&&C&&C.length>0)return await(0,s.recoverAuthorizationAddress)({authorization:C[0]}).catch(()=>{throw new r.BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if((j==null?void 0:j.type)==="json-rpc"||j===null){let re;v!==null&&(re=await(0,u.getAction)(w,f.getChainId,"getChainId")({}),(0,i.assertCurrentChain)({currentChainId:re,chain:v}));const Q=(z=(q=(F=w.chain)==null?void 0:F.formatters)==null?void 0:q.transactionRequest)==null?void 0:z.format,ie=(Q||c.formatTransactionRequest)({...(0,a.extract)(P,{format:Q}),accessList:A,account:j,authorizationList:C,blobs:x,chainId:re,data:T,gas:N,gasPrice:M,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:I,to:K,type:R,value:O},"sendTransaction"),Y=y.get(w.uid),V=Y?"wallet_sendTransaction":"eth_sendTransaction",Z=await(async()=>{try{return await w.request({method:V,params:[ie]},{retryCount:0})}catch(ue){if(Y===!1)throw ue;const ce=ue;if(ce.name==="InvalidInputRpcError"||ce.name==="InvalidParamsRpcError"||ce.name==="MethodNotFoundRpcError"||ce.name==="MethodNotSupportedRpcError")return await w.request({method:"wallet_sendTransaction",params:[ie]},{retryCount:0}).then(ge=>(y.set(w.uid,!0),ge)).catch(ge=>{const we=ge;throw we.name==="MethodNotFoundRpcError"||we.name==="MethodNotSupportedRpcError"?(y.set(w.uid,!1),ce):we});throw ce}})(),ne=await(0,u.getAction)(w,h.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:Z,pollingInterval:S,timeout:D});if(_&&ne.status==="reverted")throw new n.TransactionReceiptRevertedError({receipt:ne});return ne}if((j==null?void 0:j.type)==="local"){const re=await(0,u.getAction)(w,p.prepareTransactionRequest,"prepareTransactionRequest")({account:j,accessList:A,authorizationList:C,blobs:x,chain:v,data:T,gas:N,gasPrice:M,maxFeePerBlobGas:k,maxFeePerGas:B,maxPriorityFeePerGas:U,nonce:I,nonceManager:j.nonceManager,parameters:[...p.defaultParameters,"sidecars"],type:R,value:O,...P,to:K}),Q=(W=v==null?void 0:v.serializers)==null?void 0:W.transaction,X=await j.signTransaction(re,{serializer:Q});return await(0,u.getAction)(w,m.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:X,throwOnReceiptRevert:_})}throw(j==null?void 0:j.type)==="smart"?new e.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new e.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:j==null?void 0:j.type})}catch(K){throw K instanceof e.AccountTypeNotSupportedError?K:(0,o.getTransactionError)(K,{...b,account:j,chain:b.chain||void 0})}}return GC}var WC={},wV;function IBe(){if(wV)return WC;wV=1,Object.defineProperty(WC,"__esModule",{value:!0}),WC.showCallsStatus=t;async function t(e,r){const{id:n}=r;await e.request({method:"wallet_showCallsStatus",params:[n]})}return WC}var KC={},EV;function TBe(){if(EV)return KC;EV=1,Object.defineProperty(KC,"__esModule",{value:!0}),KC.signAuthorization=n;const t=Wr(),e=Gd(),r=sne();async function n(s,i){const{account:o=s.account}=i;if(!o)throw new e.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});const a=(0,t.parseAccount)(o);if(!a.signAuthorization)throw new e.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const c=await(0,r.prepareAuthorization)(s,i);return a.signAuthorization(c)}return KC}var ZC={},vV;function PBe(){if(vV)return ZC;vV=1,Object.defineProperty(ZC,"__esModule",{value:!0}),ZC.signMessage=n;const t=Wr(),e=Gd(),r=ze();async function n(s,{account:i=s.account,message:o}){if(!i)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const a=(0,t.parseAccount)(i);if(a.signMessage)return a.signMessage({message:o});const c=typeof o=="string"?(0,r.stringToHex)(o):o.raw instanceof Uint8Array?(0,r.toHex)(o.raw):o.raw;return s.request({method:"personal_sign",params:[c,a.address]},{retryCount:0})}return ZC}var YC={},_V;function xBe(){if(_V)return YC;_V=1,Object.defineProperty(YC,"__esModule",{value:!0}),YC.signTransaction=c;const t=Wr(),e=Gd(),r=kE(),n=ze(),s=wa(),i=Yt(),o=Ea(),a=zd();async function c(u,l){var w,b,g,v;const{account:d=u.account,chain:f=u.chain,...h}=l;if(!d)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const p=(0,t.parseAccount)(d);(0,o.assertRequest)({account:p,...l});const m=await(0,i.getAction)(u,a.getChainId,"getChainId")({});f!==null&&(0,r.assertCurrentChain)({currentChainId:m,chain:f});const y=(f==null?void 0:f.formatters)||((w=u.chain)==null?void 0:w.formatters),E=((b=y==null?void 0:y.transactionRequest)==null?void 0:b.format)||s.formatTransactionRequest;return p.signTransaction?p.signTransaction({...h,chainId:m},{serializer:(v=(g=u.chain)==null?void 0:g.serializers)==null?void 0:v.transaction}):await u.request({method:"eth_signTransaction",params:[{...E({...h,account:p},"signTransaction"),chainId:(0,n.numberToHex)(m),from:p.address}]},{retryCount:0})}return YC}var JC={},AV;function OBe(){if(AV)return JC;AV=1,Object.defineProperty(JC,"__esModule",{value:!0}),JC.signTypedData=n;const t=Wr(),e=Gd(),r=n6();async function n(s,i){const{account:o=s.account,domain:a,message:c,primaryType:u}=i;if(!o)throw new e.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const l=(0,t.parseAccount)(o),d={EIP712Domain:(0,r.getTypesForEIP712Domain)({domain:a}),...i.types};if((0,r.validateTypedData)({domain:a,message:c,primaryType:u,types:d}),l.signTypedData)return l.signTypedData({domain:a,message:c,primaryType:u,types:d});const f=(0,r.serializeTypedData)({domain:a,message:c,primaryType:u,types:d});return s.request({method:"eth_signTypedData_v4",params:[l.address,f]},{retryCount:0})}return JC}var QC={},CV;function RBe(){if(CV)return QC;CV=1,Object.defineProperty(QC,"__esModule",{value:!0}),QC.switchChain=e;const t=ze();async function e(r,{id:n}){await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,t.numberToHex)(n)}]},{retryCount:0})}return QC}var XC={},SV;function NBe(){if(SV)return XC;SV=1,Object.defineProperty(XC,"__esModule",{value:!0}),XC.watchAsset=t;async function t(e,r){return await e.request({method:"wallet_watchAsset",params:r},{retryCount:0})}return XC}var eS={},IV;function BBe(){if(IV)return eS;IV=1,Object.defineProperty(eS,"__esModule",{value:!0}),eS.writeContractSync=r;const t=ine(),e=y4();async function r(n,s){return e.writeContract.internal(n,t.sendTransactionSync,"sendTransactionSync",s)}return eS}var TV;function one(){if(TV)return DC;TV=1,Object.defineProperty(DC,"__esModule",{value:!0}),DC.walletActions=k;const t=s4(),e=zd(),r=bBe(),n=wBe(),s=EBe(),i=ere(),o=vBe(),a=_Be(),c=sne(),u=IE(),l=ABe(),d=CBe(),f=b4(),h=SBe(),p=g4(),m=z4(),y=QP(),E=ine(),w=IBe(),b=TBe(),g=PBe(),v=xBe(),A=OBe(),C=RBe(),x=w4(),T=NBe(),N=y4(),M=BBe();function k(B){return{addChain:U=>(0,r.addChain)(B,U),deployContract:U=>(0,n.deployContract)(B,U),fillTransaction:U=>(0,t.fillTransaction)(B,U),getAddresses:()=>(0,s.getAddresses)(B),getCallsStatus:U=>(0,i.getCallsStatus)(B,U),getCapabilities:U=>(0,o.getCapabilities)(B,U),getChainId:()=>(0,e.getChainId)(B),getPermissions:()=>(0,a.getPermissions)(B),prepareAuthorization:U=>(0,c.prepareAuthorization)(B,U),prepareTransactionRequest:U=>(0,u.prepareTransactionRequest)(B,U),requestAddresses:()=>(0,l.requestAddresses)(B),requestPermissions:U=>(0,d.requestPermissions)(B,U),sendCalls:U=>(0,f.sendCalls)(B,U),sendCallsSync:U=>(0,h.sendCallsSync)(B,U),sendRawTransaction:U=>(0,p.sendRawTransaction)(B,U),sendRawTransactionSync:U=>(0,m.sendRawTransactionSync)(B,U),sendTransaction:U=>(0,y.sendTransaction)(B,U),sendTransactionSync:U=>(0,E.sendTransactionSync)(B,U),showCallsStatus:U=>(0,w.showCallsStatus)(B,U),signAuthorization:U=>(0,b.signAuthorization)(B,U),signMessage:U=>(0,g.signMessage)(B,U),signTransaction:U=>(0,v.signTransaction)(B,U),signTypedData:U=>(0,A.signTypedData)(B,U),switchChain:U=>(0,C.switchChain)(B,U),waitForCallsStatus:U=>(0,x.waitForCallsStatus)(B,U),watchAsset:U=>(0,T.watchAsset)(B,U),writeContract:U=>(0,N.writeContract)(B,U),writeContractSync:U=>(0,M.writeContractSync)(B,U)}}return DC}var PV;function kBe(){if(PV)return jC;PV=1,Object.defineProperty(jC,"__esModule",{value:!0}),jC.createWalletClient=r;const t=e6(),e=one();function r(n){const{key:s="wallet",name:i="Wallet Client",transport:o}=n;return(0,t.createClient)({...n,key:s,name:i,transport:o,type:"walletClient"}).extend(e.walletActions)}return jC}var tS={},xV;function FE(){if(xV)return tS;xV=1,Object.defineProperty(tS,"__esModule",{value:!0}),tS.createTransport=r;const t=hre(),e=tre();function r({key:n,methods:s,name:i,request:o,retryCount:a=3,retryDelay:c=150,timeout:u,type:l},d){const f=(0,e.uid)();return{config:{key:n,methods:s,name:i,request:o,retryCount:a,retryDelay:c,timeout:u,type:l},request:(0,t.buildRequest)(o,{methods:s,retryCount:a,retryDelay:c,uid:f}),value:d}}return tS}var rS={},OV;function jBe(){if(OV)return rS;OV=1,Object.defineProperty(rS,"__esModule",{value:!0}),rS.custom=e;const t=FE();function e(r,n={}){const{key:s="custom",methods:i,name:o="Custom Provider",retryDelay:a}=n;return({retryCount:c})=>(0,t.createTransport)({key:s,methods:i,name:o,request:r.request.bind(r),retryCount:n.retryCount??c,retryDelay:a,type:"custom"})}return rS}var p0={},RV;function DBe(){if(RV)return p0;RV=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.fallback=s,p0.shouldThrow=i,p0.rankTransports=o;const t=Ku(),e=Ld(),r=m4(),n=FE();function s(a,c={}){const{key:u="fallback",name:l="Fallback",rank:d=!1,shouldThrow:f=i,retryCount:h,retryDelay:p}=c;return(({chain:m,pollingInterval:y=4e3,timeout:E,...w})=>{let b=a,g=()=>{};const v=(0,n.createTransport)({key:u,name:l,async request({method:A,params:C}){let x;const T=async(N=0)=>{const M=b[N]({...w,chain:m,retryCount:0,timeout:E});try{const k=await M.request({method:A,params:C});return g({method:A,params:C,response:k,transport:M,status:"success"}),k}catch(k){if(g({error:k,method:A,params:C,transport:M,status:"error"}),f(k)||N===b.length-1||(x??(x=b.slice(N+1).some(B=>{const{include:U,exclude:I}=B({chain:m}).config.methods||{};return U?U.includes(A):I?!I.includes(A):!0})),!x))throw k;return T(N+1)}};return T()},retryCount:h,retryDelay:p,type:"fallback"},{onResponse:A=>g=A,transports:b.map(A=>A({chain:m,retryCount:0}))});if(d){const A=typeof d=="object"?d:{};o({chain:m,interval:A.interval??y,onTransports:C=>b=C,ping:A.ping,sampleCount:A.sampleCount,timeout:A.timeout,transports:b,weights:A.weights})}return v})}function i(a){return!!("code"in a&&typeof a.code=="number"&&(a.code===e.TransactionRejectedRpcError.code||a.code===e.UserRejectedRequestError.code||t.ExecutionRevertedError.nodeMessage.test(a.message)||a.code===5e3))}function o({chain:a,interval:c=4e3,onTransports:u,ping:l,sampleCount:d=10,timeout:f=1e3,transports:h,weights:p={}}){const{stability:m=.7,latency:y=.3}=p,E=[],w=async()=>{const b=await Promise.all(h.map(async A=>{const C=A({chain:a,retryCount:0,timeout:f}),x=Date.now();let T,N;try{await(l?l({transport:C}):C.request({method:"net_listening"})),N=1}catch{N=0}finally{T=Date.now()}return{latency:T-x,success:N}}));E.push(b),E.length>d&&E.shift();const g=Math.max(...E.map(A=>Math.max(...A.map(({latency:C})=>C)))),v=h.map((A,C)=>{const x=E.map(B=>B[C].latency),N=1-x.reduce((B,U)=>B+U,0)/x.length/g,M=E.map(B=>B[C].success),k=M.reduce((B,U)=>B+U,0)/M.length;return k===0?[0,C]:[y*N+m*k,C]}).sort((A,C)=>C[0]-A[0]);u(v.map(([,A])=>h[A])),await(0,r.wait)(c),w()};w()}return p0}var nS={},_b={},NV;function $4(){if(NV)return _b;NV=1,Object.defineProperty(_b,"__esModule",{value:!0}),_b.UrlRequiredError=void 0;const t=yt();class e extends t.BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}return _b.UrlRequiredError=e,_b}var BV;function MBe(){if(BV)return nS;BV=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.http=i;const t=ba(),e=$4(),r=l4(),n=x4(),s=FE();function i(o,a={}){const{batch:c,fetchFn:u,fetchOptions:l,key:d="http",methods:f,name:h="HTTP JSON-RPC",onFetchRequest:p,onFetchResponse:m,retryDelay:y,raw:E}=a;return({chain:w,retryCount:b,timeout:g})=>{const{batchSize:v=1e3,wait:A=0}=typeof c=="object"?c:{},C=a.retryCount??b,x=g??a.timeout??1e4,T=o||(w==null?void 0:w.rpcUrls.default.http[0]);if(!T)throw new e.UrlRequiredError;const N=(0,n.getHttpRpcClient)(T,{fetchFn:u,fetchOptions:l,onRequest:p,onResponse:m,timeout:x});return(0,s.createTransport)({key:d,methods:f,name:h,async request({method:M,params:k}){const B={method:M,params:k},{schedule:U}=(0,r.createBatchScheduler)({id:T,wait:A,shouldSplitBatch(R){return R.length>v},fn:R=>N.request({body:R}),sort:(R,O)=>R.id-O.id}),I=async R=>c?U(R):[await N.request({body:R})],[{error:S,result:_}]=await I(B);if(E)return{error:S,result:_};if(S)throw new t.RpcRequestError({body:B,error:S,url:T});return _},retryCount:C,retryDelay:y,timeout:x,type:"http"},{fetchOptions:l,url:T})}}return nS}var sS={},kV;function UBe(){if(kV)return sS;kV=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.webSocket=i;const t=ba(),e=$4(),r=Sre(),n=O4(),s=FE();function i(o,a={}){const{keepAlive:c,key:u="webSocket",methods:l,name:d="WebSocket JSON-RPC",reconnect:f,retryDelay:h}=a;return({chain:p,retryCount:m,timeout:y})=>{var v;const E=a.retryCount??m,w=y??a.timeout??1e4,b=o||((v=p==null?void 0:p.rpcUrls.default.webSocket)==null?void 0:v[0]),g={keepAlive:c,reconnect:f};if(!b)throw new e.UrlRequiredError;return(0,s.createTransport)({key:u,methods:l,name:d,async request({method:A,params:C}){const x={method:A,params:C},T=await(0,n.getWebSocketRpcClient)(b,g),{error:N,result:M}=await T.requestAsync({body:x,timeout:w});if(N)throw new t.RpcRequestError({body:x,error:N,url:b});return M},retryCount:E,retryDelay:h,timeout:w,type:"webSocket"},{getSocket(){return(0,r.getSocket)(b)},getRpcClient(){return(0,n.getWebSocketRpcClient)(b,g)},async subscribe({params:A,onData:C,onError:x}){const T=await(0,n.getWebSocketRpcClient)(b,g),{result:N}=await new Promise((M,k)=>T.request({body:{method:"eth_subscribe",params:A},onError(B){k(B),x==null||x(B)},onResponse(B){if(B.error){k(B.error),x==null||x(B.error);return}if(typeof B.id=="number"){M(B);return}B.method==="eth_subscription"&&C(B.params)}}));return{subscriptionId:N,async unsubscribe(){return new Promise(M=>T.request({body:{method:"eth_unsubscribe",params:[N]},onResponse:M}))}}}})}}return sS}var Ab={},jV;function LBe(){if(jV)return Ab;jV=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.ProviderRpcError=void 0;class t extends Error{constructor(r,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r,this.details=n}}return Ab.ProviderRpcError=t,Ab}var iS={},DV;function FBe(){if(DV)return iS;DV=1,Object.defineProperty(iS,"__esModule",{value:!0}),iS.decodeDeployData=n;const t=Hr(),e=Md(),r="/docs/contract/decodeDeployData";function n(s){const{abi:i,bytecode:o,data:a}=s;if(a===o)return{bytecode:o};const c=i.find(l=>"type"in l&&l.type==="constructor");if(!c)throw new t.AbiConstructorNotFoundError({docsPath:r});if(!("inputs"in c))throw new t.AbiConstructorParamsNotFoundError({docsPath:r});if(!c.inputs||c.inputs.length===0)throw new t.AbiConstructorParamsNotFoundError({docsPath:r});return{args:(0,e.decodeAbiParameters)(c.inputs,`0x${a.replace(o,"")}`),bytecode:o}}return iS}var oS={},MV;function HBe(){if(MV)return oS;MV=1,Object.defineProperty(oS,"__esModule",{value:!0}),oS.fromBlobs=n;const t=mE(),e=Cr(),r=ze();function n(s){const i=s.to??(typeof s.blobs[0]=="string"?"hex":"bytes"),o=typeof s.blobs[0]=="string"?s.blobs.map(d=>(0,e.hexToBytes)(d)):s.blobs,a=o.reduce((d,f)=>d+f.length,0),c=(0,t.createCursor)(new Uint8Array(a));let u=!0;for(const d of o){const f=(0,t.createCursor)(d);for(;u&&f.position<d.length;){f.incrementPosition(1);let h=31;d.length-f.position<31&&(h=d.length-f.position);for(const p in Array.from({length:h})){const m=f.readByte();if(m===128&&!f.inspectBytes(f.remaining).includes(128)){u=!1;break}c.pushByte(m)}}}const l=c.bytes.slice(0,c.position);return i==="hex"?(0,r.bytesToHex)(l):l}return oS}var aS={},UV;function qBe(){if(UV)return aS;UV=1,Object.defineProperty(aS,"__esModule",{value:!0}),aS.sidecarsToVersionedHashes=e;const t=r4();function e(r){const{sidecars:n,version:s}=r,i=r.to??(typeof n[0].blob=="string"?"hex":"bytes"),o=[];for(const{commitment:a}of n)o.push((0,t.commitmentToVersionedHash)({commitment:a,to:i,version:s}));return o}return aS}var cS={},LV;function zBe(){if(LV)return cS;LV=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.toCoinType=r;const t=A4(),e=2147483648;function r(n){if(n===1)return 60n;if(n>=e||n<0)throw new t.EnsInvalidChainIdError({chainId:n});return BigInt((2147483648|n)>>>0)}return cS}var uS={},FV;function ane(){if(FV)return uS;FV=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.defineKzg=t;function t({blobToKzgCommitment:e,computeBlobKzgProof:r}){return{blobToKzgCommitment:e,computeBlobKzgProof:r}}return uS}var lS={},HV;function $Be(){if(HV)return lS;HV=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.setupKzg=e;const t=ane();function e(r,n){try{r.loadTrustedSetup(n)}catch(s){const i=s;if(!i.message.includes("trusted setup is already loaded"))throw i}return(0,t.defineKzg)(r)}return lS}var dS={},qV;function VBe(){if(qV)return dS;qV=1,Object.defineProperty(dS,"__esModule",{value:!0}),dS.compactSignatureToSignature=r;const t=Cr(),e=ze();function r({r:n,yParityAndS:s}){const i=(0,t.hexToBytes)(s),o=i[0]&128?1:0,a=i;return o===1&&(a[0]&=127),{r:n,s:(0,e.bytesToHex)(a),yParity:o}}return dS}var fS={},zV;function GBe(){if(zV)return fS;zV=1,Object.defineProperty(fS,"__esModule",{value:!0}),fS.parseCompactSignature=r;const t=wE(),e=ze();function r(n){const{r:s,s:i}=t.secp256k1.Signature.fromCompact(n.slice(2,130));return{r:(0,e.numberToHex)(s,{size:32}),yParityAndS:(0,e.numberToHex)(i,{size:32})}}return fS}var hS={},$V;function WBe(){if($V)return hS;$V=1,Object.defineProperty(hS,"__esModule",{value:!0}),hS.parseSignature=r;const t=wE(),e=ze();function r(n){const{r:s,s:i}=t.secp256k1.Signature.fromCompact(n.slice(2,130)),o=+`0x${n.slice(130)}`,[a,c]=(()=>{if(o===0||o===1)return[void 0,o];if(o===27)return[BigInt(o),0];if(o===28)return[BigInt(o),1];throw new Error("Invalid yParityOrV value")})();return typeof a<"u"?{r:(0,e.numberToHex)(s,{size:32}),s:(0,e.numberToHex)(i,{size:32}),v:a,yParity:c}:{r:(0,e.numberToHex)(s,{size:32}),s:(0,e.numberToHex)(i,{size:32}),yParity:c}}return hS}var pS={},VV;function KBe(){if(VV)return pS;VV=1,Object.defineProperty(pS,"__esModule",{value:!0}),pS.recoverTransactionAddress=s;const t=Ai(),e=F4(),r=r6(),n=Hd();async function s(i){const{serializedTransaction:o,signature:a}=i,c=(0,e.parseTransaction)(o),u=a??{r:c.r,s:c.s,v:c.v,yParity:c.yParity},l=(0,r.serializeTransaction)({...c,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await(0,n.recoverAddress)({hash:(0,t.keccak256)(l),signature:u})}return pS}var mS={},GV;function ZBe(){if(GV)return mS;GV=1,Object.defineProperty(mS,"__esModule",{value:!0}),mS.serializeCompactSignature=r;const t=wE(),e=tn();function r({r:n,yParityAndS:s}){return`0x${new t.secp256k1.Signature((0,e.hexToBigInt)(n),(0,e.hexToBigInt)(s)).toCompactHex()}`}return mS}var gS={},WV;function YBe(){if(WV)return gS;WV=1,Object.defineProperty(gS,"__esModule",{value:!0}),gS.signatureToCompactSignature=r;const t=Cr(),e=ze();function r(n){const{r:s,s:i,v:o,yParity:a}=n,c=Number(a??o-27n);let u=i;if(c===1){const l=(0,t.hexToBytes)(i);l[0]|=128,u=(0,e.bytesToHex)(l)}return{r:s,yParityAndS:u}}return gS}var KV;function JBe(){return KV||(KV=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.maxInt8=t.universalSignatureValidatorByteCode=t.erc6492SignatureValidatorByteCode=t.deploylessCallViaFactoryBytecode=t.deploylessCallViaBytecodeBytecode=t.zeroHash=t.zeroAddress=t.ethAddress=t.multicall3Abi=t.universalSignatureValidatorAbi=t.erc6492SignatureValidatorAbi=t.erc4626Abi=t.erc1155Abi=t.erc721Abi=t.erc20Abi_bytes32=t.erc20Abi=t.webSocket=t.http=t.shouldThrow=t.fallback=t.custom=t.createTransport=t.walletActions=t.testActions=t.publicActions=t.createWalletClient=t.createTestClient=t.createPublicClient=t.rpcSchema=t.createClient=t.WaitForCallsStatusTimeoutError=t.getContract=t.UnknownTypeError=t.UnknownSignatureError=t.SolidityProtectedKeywordError=t.parseAbiParameters=t.parseAbiParameter=t.parseAbiItem=t.parseAbi=t.InvalidStructSignatureError=t.InvalidSignatureError=t.InvalidParenthesisError=t.InvalidParameterError=t.InvalidModifierError=t.InvalidFunctionModifierError=t.InvalidAbiTypeParameterError=t.InvalidAbiParametersError=t.InvalidAbiParameterError=t.InvalidAbiItemError=t.CircularReferenceError=void 0,t.maxUint152=t.maxUint144=t.maxUint136=t.maxUint128=t.maxUint120=t.maxUint112=t.maxUint104=t.maxUint96=t.maxUint88=t.maxUint80=t.maxUint72=t.maxUint64=t.maxUint56=t.maxUint48=t.maxUint40=t.maxUint32=t.maxUint24=t.maxUint16=t.maxUint8=t.maxInt256=t.maxInt248=t.maxInt240=t.maxInt232=t.maxInt224=t.maxInt216=t.maxInt208=t.maxInt200=t.maxInt192=t.maxInt184=t.maxInt176=t.maxInt168=t.maxInt160=t.maxInt152=t.maxInt144=t.maxInt136=t.maxInt128=t.maxInt120=t.maxInt112=t.maxInt104=t.maxInt96=t.maxInt88=t.maxInt80=t.maxInt72=t.maxInt64=t.maxInt56=t.maxInt48=t.maxInt40=t.maxInt32=t.maxInt24=t.maxInt16=void 0,t.AbiConstructorNotFoundError=t.weiUnits=t.gweiUnits=t.etherUnits=t.presignMessagePrefix=t.minInt256=t.minInt248=t.minInt240=t.minInt232=t.minInt224=t.minInt216=t.minInt208=t.minInt200=t.minInt192=t.minInt184=t.minInt176=t.minInt168=t.minInt160=t.minInt152=t.minInt144=t.minInt136=t.minInt128=t.minInt120=t.minInt112=t.minInt104=t.minInt96=t.minInt88=t.minInt80=t.minInt72=t.minInt64=t.minInt56=t.minInt48=t.minInt40=t.minInt32=t.minInt24=t.minInt16=t.minInt8=t.maxUint256=t.maxUint248=t.maxUint240=t.maxUint232=t.maxUint224=t.maxUint216=t.maxUint208=t.maxUint200=t.maxUint192=t.maxUint184=t.maxUint176=t.maxUint168=t.maxUint160=void 0,t.EnsAvatarUriResolutionError=t.EnsAvatarUnsupportedNamespaceError=t.EnsAvatarInvalidNftUriError=t.SizeOverflowError=t.InvalidHexValueError=t.InvalidHexBooleanError=t.InvalidBytesBooleanError=t.IntegerOutOfRangeError=t.SliceOffsetOutOfBoundsError=t.SizeExceedsPaddingSizeError=t.RawContractError=t.CounterfactualDeploymentFailedError=t.ContractFunctionZeroDataError=t.ContractFunctionRevertedError=t.ContractFunctionExecutionError=t.CallExecutionError=t.InvalidChainIdError=t.ClientChainNotConfiguredError=t.ChainNotFoundError=t.ChainMismatchError=t.ChainDoesNotSupportContract=t.BundleFailedError=t.BlockNotFoundError=t.setErrorConfig=t.BaseError=t.InvalidAddressError=t.UnsupportedPackedAbiType=t.InvalidDefinitionTypeError=t.InvalidArrayError=t.InvalidAbiEncodingTypeError=t.InvalidAbiDecodingTypeError=t.DecodeLogTopicsMismatch=t.DecodeLogDataMismatch=t.BytesSizeMismatchError=t.AbiFunctionSignatureNotFoundError=t.AbiFunctionOutputsNotFoundError=t.AbiFunctionNotFoundError=t.AbiEventSignatureNotFoundError=t.AbiEventSignatureEmptyTopicsError=t.AbiEventNotFoundError=t.AbiErrorSignatureNotFoundError=t.AbiErrorNotFoundError=t.AbiErrorInputsNotFoundError=t.AbiEncodingLengthMismatchError=t.AbiEncodingBytesSizeMismatchError=t.AbiEncodingArrayLengthMismatchError=t.AbiDecodingZeroDataError=t.AbiDecodingDataSizeTooSmallError=t.AbiDecodingDataSizeInvalidError=t.AbiConstructorParamsNotFoundError=void 0,t.UnsupportedProviderMethodError=t.UnsupportedNonOptionalCapabilityError=t.UnsupportedChainIdError=t.UnknownRpcError=t.UnknownBundleIdError=t.UnauthorizedProviderError=t.TransactionRejectedRpcError=t.SwitchChainError=t.RpcError=t.ResourceUnavailableRpcError=t.ResourceNotFoundRpcError=t.ProviderRpcError=t.ProviderDisconnectedError=t.ParseRpcError=t.MethodNotSupportedRpcError=t.MethodNotFoundRpcError=t.LimitExceededRpcError=t.JsonRpcVersionUnsupportedError=t.InvalidRequestRpcError=t.InvalidParamsRpcError=t.InvalidInputRpcError=t.InternalRpcError=t.DuplicateIdError=t.ChainDisconnectedError=t.BundleTooLargeError=t.AtomicReadyWalletRejectedUpgradeError=t.AtomicityNotSupportedError=t.WebSocketRequestError=t.TimeoutError=t.SocketClosedError=t.RpcRequestError=t.HttpRequestError=t.UnknownNodeError=t.TransactionTypeNotSupportedError=t.TipAboveFeeCapError=t.NonceTooLowError=t.NonceTooHighError=t.NonceMaxValueError=t.IntrinsicGasTooLowError=t.IntrinsicGasTooHighError=t.InsufficientFundsError=t.FeeCapTooLowError=t.FeeCapTooHighError=t.ExecutionRevertedError=t.FilterTypeNotSupportedError=t.MaxFeePerGasTooLowError=t.Eip1559FeesNotSupportedError=t.BaseFeeScalarError=t.EstimateGasExecutionError=t.EnsInvalidChainIdError=void 0,t.toBlobs=t.toBlobSidecars=t.sidecarsToVersionedHashes=t.fromBlobs=t.commitmentToVersionedHash=t.commitmentsToVersionedHashes=t.blobsToProofs=t.blobsToCommitments=t.isAddressEqual=t.isAddress=t.getCreateAddress=t.getCreate2Address=t.getContractAddress=t.getAddress=t.checksumAddress=t.prepareEncodeFunctionData=t.parseEventLogs=t.getAbiItem=t.encodePacked=t.encodeFunctionResult=t.encodeFunctionData=t.encodeEventTopics=t.encodeErrorResult=t.encodeDeployData=t.encodeAbiParameters=t.decodeFunctionResult=t.decodeFunctionData=t.decodeEventLog=t.decodeErrorResult=t.decodeDeployData=t.decodeAbiParameters=t.EIP1193ProviderRpcError=t.InvalidDecimalNumberError=t.InvalidStructTypeError=t.InvalidPrimaryTypeError=t.InvalidDomainError=t.UrlRequiredError=t.WaitForTransactionReceiptTimeoutError=t.TransactionReceiptNotFoundError=t.TransactionNotFoundError=t.TransactionExecutionError=t.InvalidStorageKeySizeError=t.InvalidSerializedTransactionTypeError=t.InvalidSerializedTransactionError=t.InvalidSerializableTransactionError=t.InvalidLegacyVError=t.FeeConflictError=t.StateAssignmentConflictError=t.AccountStateConflictError=t.UserRejectedRequestError=void 0,t.getContractError=t.toCoinType=t.namehash=t.labelhash=t.toRlp=t.hexToRlp=t.bytesToRlp=t.toHex=t.stringToHex=t.numberToHex=t.bytesToHex=t.boolToHex=t.toBytes=t.stringToBytes=t.numberToBytes=t.hexToBytes=t.boolToBytes=t.fromRlp=t.hexToString=t.hexToNumber=t.hexToBool=t.hexToBigInt=t.fromHex=t.fromBytes=t.bytesToString=t.bytesToNumber=t.bytesToBool=t.bytesToBigInt=t.trim=t.sliceHex=t.sliceBytes=t.slice=t.size=t.padHex=t.padBytes=t.pad=t.isHex=t.isBytes=t.concatHex=t.concatBytes=t.concat=t.getChainContractAddress=t.extractChain=t.defineChain=t.assertCurrentChain=t.offchainLookupSignature=t.offchainLookupAbiItem=t.offchainLookup=t.ccipFetch=t.ccipRequest=void 0,t.recoverTypedDataAddress=t.recoverTransactionAddress=t.recoverPublicKey=t.recoverMessageAddress=t.recoverAddress=t.parseSignature=t.hexToSignature=t.parseErc8010Signature=t.parseErc6492Signature=t.parseCompactSignature=t.hexToCompactSignature=t.isErc8010Signature=t.isErc6492Signature=t.hashTypedData=t.hashStruct=t.hashDomain=t.hashMessage=t.compactSignatureToSignature=t.withTimeout=t.withRetry=t.withCache=t.nonceManager=t.createNonceManager=t.setupKzg=t.defineKzg=t.getFunctionSignature=t.toFunctionSignature=t.getFunctionSelector=t.toFunctionSelector=t.toFunctionHash=t.getEventSignature=t.toEventSignature=t.getEventSelector=t.toEventSelector=t.toEventHash=t.sha256=t.ripemd160=t.keccak256=t.isHash=t.rpcTransactionType=t.formatTransactionRequest=t.defineTransactionRequest=t.formatTransactionReceipt=t.defineTransactionReceipt=t.transactionType=t.formatTransaction=t.defineTransaction=t.formatLog=t.formatBlock=t.defineBlock=void 0,t.parseUnits=t.parseGwei=t.parseEther=t.formatUnits=t.formatGwei=t.formatEther=t.validateTypedData=t.serializeTypedData=t.getTypesForEIP712Domain=t.domainSeparator=t.serializeTransaction=t.serializeAccessList=t.parseTransaction=t.getTransactionType=t.getSerializedTransactionType=t.assertTransactionLegacy=t.assertTransactionEIP2930=t.assertTransactionEIP1559=t.assertRequest=t.stringify=t.verifyTypedData=t.verifyMessage=t.verifyHash=t.toPrefixedMessage=t.signatureToCompactSignature=t.serializeSignature=t.signatureToHex=t.serializeErc8010Signature=t.serializeErc6492Signature=t.serializeCompactSignature=t.compactSignatureToHex=void 0;var e=kP();Object.defineProperty(t,"CircularReferenceError",{enumerable:!0,get:function(){return e.CircularReferenceError}}),Object.defineProperty(t,"InvalidAbiItemError",{enumerable:!0,get:function(){return e.InvalidAbiItemError}}),Object.defineProperty(t,"InvalidAbiParameterError",{enumerable:!0,get:function(){return e.InvalidAbiParameterError}}),Object.defineProperty(t,"InvalidAbiParametersError",{enumerable:!0,get:function(){return e.InvalidAbiParametersError}}),Object.defineProperty(t,"InvalidAbiTypeParameterError",{enumerable:!0,get:function(){return e.InvalidAbiTypeParameterError}}),Object.defineProperty(t,"InvalidFunctionModifierError",{enumerable:!0,get:function(){return e.InvalidFunctionModifierError}}),Object.defineProperty(t,"InvalidModifierError",{enumerable:!0,get:function(){return e.InvalidModifierError}}),Object.defineProperty(t,"InvalidParameterError",{enumerable:!0,get:function(){return e.InvalidParameterError}}),Object.defineProperty(t,"InvalidParenthesisError",{enumerable:!0,get:function(){return e.InvalidParenthesisError}}),Object.defineProperty(t,"InvalidSignatureError",{enumerable:!0,get:function(){return e.InvalidSignatureError}}),Object.defineProperty(t,"InvalidStructSignatureError",{enumerable:!0,get:function(){return e.InvalidStructSignatureError}}),Object.defineProperty(t,"parseAbi",{enumerable:!0,get:function(){return e.parseAbi}}),Object.defineProperty(t,"parseAbiItem",{enumerable:!0,get:function(){return e.parseAbiItem}}),Object.defineProperty(t,"parseAbiParameter",{enumerable:!0,get:function(){return e.parseAbiParameter}}),Object.defineProperty(t,"parseAbiParameters",{enumerable:!0,get:function(){return e.parseAbiParameters}}),Object.defineProperty(t,"SolidityProtectedKeywordError",{enumerable:!0,get:function(){return e.SolidityProtectedKeywordError}}),Object.defineProperty(t,"UnknownSignatureError",{enumerable:!0,get:function(){return e.UnknownSignatureError}}),Object.defineProperty(t,"UnknownTypeError",{enumerable:!0,get:function(){return e.UnknownTypeError}});var r=B3e();Object.defineProperty(t,"getContract",{enumerable:!0,get:function(){return r.getContract}});var n=w4();Object.defineProperty(t,"WaitForCallsStatusTimeoutError",{enumerable:!0,get:function(){return n.WaitForCallsStatusTimeoutError}});var s=e6();Object.defineProperty(t,"createClient",{enumerable:!0,get:function(){return s.createClient}}),Object.defineProperty(t,"rpcSchema",{enumerable:!0,get:function(){return s.rpcSchema}});var i=F4e();Object.defineProperty(t,"createPublicClient",{enumerable:!0,get:function(){return i.createPublicClient}});var o=yBe();Object.defineProperty(t,"createTestClient",{enumerable:!0,get:function(){return o.createTestClient}});var a=kBe();Object.defineProperty(t,"createWalletClient",{enumerable:!0,get:function(){return a.createWalletClient}});var c=rne();Object.defineProperty(t,"publicActions",{enumerable:!0,get:function(){return c.publicActions}});var u=nne();Object.defineProperty(t,"testActions",{enumerable:!0,get:function(){return u.testActions}});var l=one();Object.defineProperty(t,"walletActions",{enumerable:!0,get:function(){return l.walletActions}});var d=FE();Object.defineProperty(t,"createTransport",{enumerable:!0,get:function(){return d.createTransport}});var f=jBe();Object.defineProperty(t,"custom",{enumerable:!0,get:function(){return f.custom}});var h=DBe();Object.defineProperty(t,"fallback",{enumerable:!0,get:function(){return h.fallback}}),Object.defineProperty(t,"shouldThrow",{enumerable:!0,get:function(){return h.shouldThrow}});var p=MBe();Object.defineProperty(t,"http",{enumerable:!0,get:function(){return p.http}});var m=UBe();Object.defineProperty(t,"webSocket",{enumerable:!0,get:function(){return m.webSocket}});var y=$d();Object.defineProperty(t,"erc20Abi",{enumerable:!0,get:function(){return y.erc20Abi}}),Object.defineProperty(t,"erc20Abi_bytes32",{enumerable:!0,get:function(){return y.erc20Abi_bytes32}}),Object.defineProperty(t,"erc721Abi",{enumerable:!0,get:function(){return y.erc721Abi}}),Object.defineProperty(t,"erc1155Abi",{enumerable:!0,get:function(){return y.erc1155Abi}}),Object.defineProperty(t,"erc4626Abi",{enumerable:!0,get:function(){return y.erc4626Abi}}),Object.defineProperty(t,"erc6492SignatureValidatorAbi",{enumerable:!0,get:function(){return y.erc6492SignatureValidatorAbi}}),Object.defineProperty(t,"universalSignatureValidatorAbi",{enumerable:!0,get:function(){return y.erc6492SignatureValidatorAbi}}),Object.defineProperty(t,"multicall3Abi",{enumerable:!0,get:function(){return y.multicall3Abi}});var E=Qre();Object.defineProperty(t,"ethAddress",{enumerable:!0,get:function(){return E.ethAddress}}),Object.defineProperty(t,"zeroAddress",{enumerable:!0,get:function(){return E.zeroAddress}});var w=R4();Object.defineProperty(t,"zeroHash",{enumerable:!0,get:function(){return w.zeroHash}});var b=xE();Object.defineProperty(t,"deploylessCallViaBytecodeBytecode",{enumerable:!0,get:function(){return b.deploylessCallViaBytecodeBytecode}}),Object.defineProperty(t,"deploylessCallViaFactoryBytecode",{enumerable:!0,get:function(){return b.deploylessCallViaFactoryBytecode}}),Object.defineProperty(t,"erc6492SignatureValidatorByteCode",{enumerable:!0,get:function(){return b.erc6492SignatureValidatorByteCode}}),Object.defineProperty(t,"universalSignatureValidatorByteCode",{enumerable:!0,get:function(){return b.erc6492SignatureValidatorByteCode}});var g=Q3();Object.defineProperty(t,"maxInt8",{enumerable:!0,get:function(){return g.maxInt8}}),Object.defineProperty(t,"maxInt16",{enumerable:!0,get:function(){return g.maxInt16}}),Object.defineProperty(t,"maxInt24",{enumerable:!0,get:function(){return g.maxInt24}}),Object.defineProperty(t,"maxInt32",{enumerable:!0,get:function(){return g.maxInt32}}),Object.defineProperty(t,"maxInt40",{enumerable:!0,get:function(){return g.maxInt40}}),Object.defineProperty(t,"maxInt48",{enumerable:!0,get:function(){return g.maxInt48}}),Object.defineProperty(t,"maxInt56",{enumerable:!0,get:function(){return g.maxInt56}}),Object.defineProperty(t,"maxInt64",{enumerable:!0,get:function(){return g.maxInt64}}),Object.defineProperty(t,"maxInt72",{enumerable:!0,get:function(){return g.maxInt72}}),Object.defineProperty(t,"maxInt80",{enumerable:!0,get:function(){return g.maxInt80}}),Object.defineProperty(t,"maxInt88",{enumerable:!0,get:function(){return g.maxInt88}}),Object.defineProperty(t,"maxInt96",{enumerable:!0,get:function(){return g.maxInt96}}),Object.defineProperty(t,"maxInt104",{enumerable:!0,get:function(){return g.maxInt104}}),Object.defineProperty(t,"maxInt112",{enumerable:!0,get:function(){return g.maxInt112}}),Object.defineProperty(t,"maxInt120",{enumerable:!0,get:function(){return g.maxInt120}}),Object.defineProperty(t,"maxInt128",{enumerable:!0,get:function(){return g.maxInt128}}),Object.defineProperty(t,"maxInt136",{enumerable:!0,get:function(){return g.maxInt136}}),Object.defineProperty(t,"maxInt144",{enumerable:!0,get:function(){return g.maxInt144}}),Object.defineProperty(t,"maxInt152",{enumerable:!0,get:function(){return g.maxInt152}}),Object.defineProperty(t,"maxInt160",{enumerable:!0,get:function(){return g.maxInt160}}),Object.defineProperty(t,"maxInt168",{enumerable:!0,get:function(){return g.maxInt168}}),Object.defineProperty(t,"maxInt176",{enumerable:!0,get:function(){return g.maxInt176}}),Object.defineProperty(t,"maxInt184",{enumerable:!0,get:function(){return g.maxInt184}}),Object.defineProperty(t,"maxInt192",{enumerable:!0,get:function(){return g.maxInt192}}),Object.defineProperty(t,"maxInt200",{enumerable:!0,get:function(){return g.maxInt200}}),Object.defineProperty(t,"maxInt208",{enumerable:!0,get:function(){return g.maxInt208}}),Object.defineProperty(t,"maxInt216",{enumerable:!0,get:function(){return g.maxInt216}}),Object.defineProperty(t,"maxInt224",{enumerable:!0,get:function(){return g.maxInt224}}),Object.defineProperty(t,"maxInt232",{enumerable:!0,get:function(){return g.maxInt232}}),Object.defineProperty(t,"maxInt240",{enumerable:!0,get:function(){return g.maxInt240}}),Object.defineProperty(t,"maxInt248",{enumerable:!0,get:function(){return g.maxInt248}}),Object.defineProperty(t,"maxInt256",{enumerable:!0,get:function(){return g.maxInt256}}),Object.defineProperty(t,"maxUint8",{enumerable:!0,get:function(){return g.maxUint8}}),Object.defineProperty(t,"maxUint16",{enumerable:!0,get:function(){return g.maxUint16}}),Object.defineProperty(t,"maxUint24",{enumerable:!0,get:function(){return g.maxUint24}}),Object.defineProperty(t,"maxUint32",{enumerable:!0,get:function(){return g.maxUint32}}),Object.defineProperty(t,"maxUint40",{enumerable:!0,get:function(){return g.maxUint40}}),Object.defineProperty(t,"maxUint48",{enumerable:!0,get:function(){return g.maxUint48}}),Object.defineProperty(t,"maxUint56",{enumerable:!0,get:function(){return g.maxUint56}}),Object.defineProperty(t,"maxUint64",{enumerable:!0,get:function(){return g.maxUint64}}),Object.defineProperty(t,"maxUint72",{enumerable:!0,get:function(){return g.maxUint72}}),Object.defineProperty(t,"maxUint80",{enumerable:!0,get:function(){return g.maxUint80}}),Object.defineProperty(t,"maxUint88",{enumerable:!0,get:function(){return g.maxUint88}}),Object.defineProperty(t,"maxUint96",{enumerable:!0,get:function(){return g.maxUint96}}),Object.defineProperty(t,"maxUint104",{enumerable:!0,get:function(){return g.maxUint104}}),Object.defineProperty(t,"maxUint112",{enumerable:!0,get:function(){return g.maxUint112}}),Object.defineProperty(t,"maxUint120",{enumerable:!0,get:function(){return g.maxUint120}}),Object.defineProperty(t,"maxUint128",{enumerable:!0,get:function(){return g.maxUint128}}),Object.defineProperty(t,"maxUint136",{enumerable:!0,get:function(){return g.maxUint136}}),Object.defineProperty(t,"maxUint144",{enumerable:!0,get:function(){return g.maxUint144}}),Object.defineProperty(t,"maxUint152",{enumerable:!0,get:function(){return g.maxUint152}}),Object.defineProperty(t,"maxUint160",{enumerable:!0,get:function(){return g.maxUint160}}),Object.defineProperty(t,"maxUint168",{enumerable:!0,get:function(){return g.maxUint168}}),Object.defineProperty(t,"maxUint176",{enumerable:!0,get:function(){return g.maxUint176}}),Object.defineProperty(t,"maxUint184",{enumerable:!0,get:function(){return g.maxUint184}}),Object.defineProperty(t,"maxUint192",{enumerable:!0,get:function(){return g.maxUint192}}),Object.defineProperty(t,"maxUint200",{enumerable:!0,get:function(){return g.maxUint200}}),Object.defineProperty(t,"maxUint208",{enumerable:!0,get:function(){return g.maxUint208}}),Object.defineProperty(t,"maxUint216",{enumerable:!0,get:function(){return g.maxUint216}}),Object.defineProperty(t,"maxUint224",{enumerable:!0,get:function(){return g.maxUint224}}),Object.defineProperty(t,"maxUint232",{enumerable:!0,get:function(){return g.maxUint232}}),Object.defineProperty(t,"maxUint240",{enumerable:!0,get:function(){return g.maxUint240}}),Object.defineProperty(t,"maxUint248",{enumerable:!0,get:function(){return g.maxUint248}}),Object.defineProperty(t,"maxUint256",{enumerable:!0,get:function(){return g.maxUint256}}),Object.defineProperty(t,"minInt8",{enumerable:!0,get:function(){return g.minInt8}}),Object.defineProperty(t,"minInt16",{enumerable:!0,get:function(){return g.minInt16}}),Object.defineProperty(t,"minInt24",{enumerable:!0,get:function(){return g.minInt24}}),Object.defineProperty(t,"minInt32",{enumerable:!0,get:function(){return g.minInt32}}),Object.defineProperty(t,"minInt40",{enumerable:!0,get:function(){return g.minInt40}}),Object.defineProperty(t,"minInt48",{enumerable:!0,get:function(){return g.minInt48}}),Object.defineProperty(t,"minInt56",{enumerable:!0,get:function(){return g.minInt56}}),Object.defineProperty(t,"minInt64",{enumerable:!0,get:function(){return g.minInt64}}),Object.defineProperty(t,"minInt72",{enumerable:!0,get:function(){return g.minInt72}}),Object.defineProperty(t,"minInt80",{enumerable:!0,get:function(){return g.minInt80}}),Object.defineProperty(t,"minInt88",{enumerable:!0,get:function(){return g.minInt88}}),Object.defineProperty(t,"minInt96",{enumerable:!0,get:function(){return g.minInt96}}),Object.defineProperty(t,"minInt104",{enumerable:!0,get:function(){return g.minInt104}}),Object.defineProperty(t,"minInt112",{enumerable:!0,get:function(){return g.minInt112}}),Object.defineProperty(t,"minInt120",{enumerable:!0,get:function(){return g.minInt120}}),Object.defineProperty(t,"minInt128",{enumerable:!0,get:function(){return g.minInt128}}),Object.defineProperty(t,"minInt136",{enumerable:!0,get:function(){return g.minInt136}}),Object.defineProperty(t,"minInt144",{enumerable:!0,get:function(){return g.minInt144}}),Object.defineProperty(t,"minInt152",{enumerable:!0,get:function(){return g.minInt152}}),Object.defineProperty(t,"minInt160",{enumerable:!0,get:function(){return g.minInt160}}),Object.defineProperty(t,"minInt168",{enumerable:!0,get:function(){return g.minInt168}}),Object.defineProperty(t,"minInt176",{enumerable:!0,get:function(){return g.minInt176}}),Object.defineProperty(t,"minInt184",{enumerable:!0,get:function(){return g.minInt184}}),Object.defineProperty(t,"minInt192",{enumerable:!0,get:function(){return g.minInt192}}),Object.defineProperty(t,"minInt200",{enumerable:!0,get:function(){return g.minInt200}}),Object.defineProperty(t,"minInt208",{enumerable:!0,get:function(){return g.minInt208}}),Object.defineProperty(t,"minInt216",{enumerable:!0,get:function(){return g.minInt216}}),Object.defineProperty(t,"minInt224",{enumerable:!0,get:function(){return g.minInt224}}),Object.defineProperty(t,"minInt232",{enumerable:!0,get:function(){return g.minInt232}}),Object.defineProperty(t,"minInt240",{enumerable:!0,get:function(){return g.minInt240}}),Object.defineProperty(t,"minInt248",{enumerable:!0,get:function(){return g.minInt248}}),Object.defineProperty(t,"minInt256",{enumerable:!0,get:function(){return g.minInt256}});var v=Ire();Object.defineProperty(t,"presignMessagePrefix",{enumerable:!0,get:function(){return v.presignMessagePrefix}});var A=gE();Object.defineProperty(t,"etherUnits",{enumerable:!0,get:function(){return A.etherUnits}}),Object.defineProperty(t,"gweiUnits",{enumerable:!0,get:function(){return A.gweiUnits}}),Object.defineProperty(t,"weiUnits",{enumerable:!0,get:function(){return A.weiUnits}});var C=Hr();Object.defineProperty(t,"AbiConstructorNotFoundError",{enumerable:!0,get:function(){return C.AbiConstructorNotFoundError}}),Object.defineProperty(t,"AbiConstructorParamsNotFoundError",{enumerable:!0,get:function(){return C.AbiConstructorParamsNotFoundError}}),Object.defineProperty(t,"AbiDecodingDataSizeInvalidError",{enumerable:!0,get:function(){return C.AbiDecodingDataSizeInvalidError}}),Object.defineProperty(t,"AbiDecodingDataSizeTooSmallError",{enumerable:!0,get:function(){return C.AbiDecodingDataSizeTooSmallError}}),Object.defineProperty(t,"AbiDecodingZeroDataError",{enumerable:!0,get:function(){return C.AbiDecodingZeroDataError}}),Object.defineProperty(t,"AbiEncodingArrayLengthMismatchError",{enumerable:!0,get:function(){return C.AbiEncodingArrayLengthMismatchError}}),Object.defineProperty(t,"AbiEncodingBytesSizeMismatchError",{enumerable:!0,get:function(){return C.AbiEncodingBytesSizeMismatchError}}),Object.defineProperty(t,"AbiEncodingLengthMismatchError",{enumerable:!0,get:function(){return C.AbiEncodingLengthMismatchError}}),Object.defineProperty(t,"AbiErrorInputsNotFoundError",{enumerable:!0,get:function(){return C.AbiErrorInputsNotFoundError}}),Object.defineProperty(t,"AbiErrorNotFoundError",{enumerable:!0,get:function(){return C.AbiErrorNotFoundError}}),Object.defineProperty(t,"AbiErrorSignatureNotFoundError",{enumerable:!0,get:function(){return C.AbiErrorSignatureNotFoundError}}),Object.defineProperty(t,"AbiEventNotFoundError",{enumerable:!0,get:function(){return C.AbiEventNotFoundError}}),Object.defineProperty(t,"AbiEventSignatureEmptyTopicsError",{enumerable:!0,get:function(){return C.AbiEventSignatureEmptyTopicsError}}),Object.defineProperty(t,"AbiEventSignatureNotFoundError",{enumerable:!0,get:function(){return C.AbiEventSignatureNotFoundError}}),Object.defineProperty(t,"AbiFunctionNotFoundError",{enumerable:!0,get:function(){return C.AbiFunctionNotFoundError}}),Object.defineProperty(t,"AbiFunctionOutputsNotFoundError",{enumerable:!0,get:function(){return C.AbiFunctionOutputsNotFoundError}}),Object.defineProperty(t,"AbiFunctionSignatureNotFoundError",{enumerable:!0,get:function(){return C.AbiFunctionSignatureNotFoundError}}),Object.defineProperty(t,"BytesSizeMismatchError",{enumerable:!0,get:function(){return C.BytesSizeMismatchError}}),Object.defineProperty(t,"DecodeLogDataMismatch",{enumerable:!0,get:function(){return C.DecodeLogDataMismatch}}),Object.defineProperty(t,"DecodeLogTopicsMismatch",{enumerable:!0,get:function(){return C.DecodeLogTopicsMismatch}}),Object.defineProperty(t,"InvalidAbiDecodingTypeError",{enumerable:!0,get:function(){return C.InvalidAbiDecodingTypeError}}),Object.defineProperty(t,"InvalidAbiEncodingTypeError",{enumerable:!0,get:function(){return C.InvalidAbiEncodingTypeError}}),Object.defineProperty(t,"InvalidArrayError",{enumerable:!0,get:function(){return C.InvalidArrayError}}),Object.defineProperty(t,"InvalidDefinitionTypeError",{enumerable:!0,get:function(){return C.InvalidDefinitionTypeError}}),Object.defineProperty(t,"UnsupportedPackedAbiType",{enumerable:!0,get:function(){return C.UnsupportedPackedAbiType}});var x=ga();Object.defineProperty(t,"InvalidAddressError",{enumerable:!0,get:function(){return x.InvalidAddressError}});var T=yt();Object.defineProperty(t,"BaseError",{enumerable:!0,get:function(){return T.BaseError}}),Object.defineProperty(t,"setErrorConfig",{enumerable:!0,get:function(){return T.setErrorConfig}});var N=X3();Object.defineProperty(t,"BlockNotFoundError",{enumerable:!0,get:function(){return N.BlockNotFoundError}});var M=Xte();Object.defineProperty(t,"BundleFailedError",{enumerable:!0,get:function(){return M.BundleFailedError}});var k=OE();Object.defineProperty(t,"ChainDoesNotSupportContract",{enumerable:!0,get:function(){return k.ChainDoesNotSupportContract}}),Object.defineProperty(t,"ChainMismatchError",{enumerable:!0,get:function(){return k.ChainMismatchError}}),Object.defineProperty(t,"ChainNotFoundError",{enumerable:!0,get:function(){return k.ChainNotFoundError}}),Object.defineProperty(t,"ClientChainNotConfiguredError",{enumerable:!0,get:function(){return k.ClientChainNotConfiguredError}}),Object.defineProperty(t,"InvalidChainIdError",{enumerable:!0,get:function(){return k.InvalidChainIdError}});var B=Ud();Object.defineProperty(t,"CallExecutionError",{enumerable:!0,get:function(){return B.CallExecutionError}}),Object.defineProperty(t,"ContractFunctionExecutionError",{enumerable:!0,get:function(){return B.ContractFunctionExecutionError}}),Object.defineProperty(t,"ContractFunctionRevertedError",{enumerable:!0,get:function(){return B.ContractFunctionRevertedError}}),Object.defineProperty(t,"ContractFunctionZeroDataError",{enumerable:!0,get:function(){return B.ContractFunctionZeroDataError}}),Object.defineProperty(t,"CounterfactualDeploymentFailedError",{enumerable:!0,get:function(){return B.CounterfactualDeploymentFailedError}}),Object.defineProperty(t,"RawContractError",{enumerable:!0,get:function(){return B.RawContractError}});var U=jP();Object.defineProperty(t,"SizeExceedsPaddingSizeError",{enumerable:!0,get:function(){return U.SizeExceedsPaddingSizeError}}),Object.defineProperty(t,"SliceOffsetOutOfBoundsError",{enumerable:!0,get:function(){return U.SliceOffsetOutOfBoundsError}});var I=Tg();Object.defineProperty(t,"IntegerOutOfRangeError",{enumerable:!0,get:function(){return I.IntegerOutOfRangeError}}),Object.defineProperty(t,"InvalidBytesBooleanError",{enumerable:!0,get:function(){return I.InvalidBytesBooleanError}}),Object.defineProperty(t,"InvalidHexBooleanError",{enumerable:!0,get:function(){return I.InvalidHexBooleanError}}),Object.defineProperty(t,"InvalidHexValueError",{enumerable:!0,get:function(){return I.InvalidHexValueError}}),Object.defineProperty(t,"SizeOverflowError",{enumerable:!0,get:function(){return I.SizeOverflowError}});var S=A4();Object.defineProperty(t,"EnsAvatarInvalidNftUriError",{enumerable:!0,get:function(){return S.EnsAvatarInvalidNftUriError}}),Object.defineProperty(t,"EnsAvatarUnsupportedNamespaceError",{enumerable:!0,get:function(){return S.EnsAvatarUnsupportedNamespaceError}}),Object.defineProperty(t,"EnsAvatarUriResolutionError",{enumerable:!0,get:function(){return S.EnsAvatarUriResolutionError}}),Object.defineProperty(t,"EnsInvalidChainIdError",{enumerable:!0,get:function(){return S.EnsInvalidChainIdError}});var _=Ute();Object.defineProperty(t,"EstimateGasExecutionError",{enumerable:!0,get:function(){return _.EstimateGasExecutionError}});var R=CE();Object.defineProperty(t,"BaseFeeScalarError",{enumerable:!0,get:function(){return R.BaseFeeScalarError}}),Object.defineProperty(t,"Eip1559FeesNotSupportedError",{enumerable:!0,get:function(){return R.Eip1559FeesNotSupportedError}}),Object.defineProperty(t,"MaxFeePerGasTooLowError",{enumerable:!0,get:function(){return R.MaxFeePerGasTooLowError}});var O=Tte();Object.defineProperty(t,"FilterTypeNotSupportedError",{enumerable:!0,get:function(){return O.FilterTypeNotSupportedError}});var P=Ku();Object.defineProperty(t,"ExecutionRevertedError",{enumerable:!0,get:function(){return P.ExecutionRevertedError}}),Object.defineProperty(t,"FeeCapTooHighError",{enumerable:!0,get:function(){return P.FeeCapTooHighError}}),Object.defineProperty(t,"FeeCapTooLowError",{enumerable:!0,get:function(){return P.FeeCapTooLowError}}),Object.defineProperty(t,"InsufficientFundsError",{enumerable:!0,get:function(){return P.InsufficientFundsError}}),Object.defineProperty(t,"IntrinsicGasTooHighError",{enumerable:!0,get:function(){return P.IntrinsicGasTooHighError}}),Object.defineProperty(t,"IntrinsicGasTooLowError",{enumerable:!0,get:function(){return P.IntrinsicGasTooLowError}}),Object.defineProperty(t,"NonceMaxValueError",{enumerable:!0,get:function(){return P.NonceMaxValueError}}),Object.defineProperty(t,"NonceTooHighError",{enumerable:!0,get:function(){return P.NonceTooHighError}}),Object.defineProperty(t,"NonceTooLowError",{enumerable:!0,get:function(){return P.NonceTooLowError}}),Object.defineProperty(t,"TipAboveFeeCapError",{enumerable:!0,get:function(){return P.TipAboveFeeCapError}}),Object.defineProperty(t,"TransactionTypeNotSupportedError",{enumerable:!0,get:function(){return P.TransactionTypeNotSupportedError}}),Object.defineProperty(t,"UnknownNodeError",{enumerable:!0,get:function(){return P.UnknownNodeError}});var D=ba();Object.defineProperty(t,"HttpRequestError",{enumerable:!0,get:function(){return D.HttpRequestError}}),Object.defineProperty(t,"RpcRequestError",{enumerable:!0,get:function(){return D.RpcRequestError}}),Object.defineProperty(t,"SocketClosedError",{enumerable:!0,get:function(){return D.SocketClosedError}}),Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return D.TimeoutError}}),Object.defineProperty(t,"WebSocketRequestError",{enumerable:!0,get:function(){return D.WebSocketRequestError}});var j=Ld();Object.defineProperty(t,"AtomicityNotSupportedError",{enumerable:!0,get:function(){return j.AtomicityNotSupportedError}}),Object.defineProperty(t,"AtomicReadyWalletRejectedUpgradeError",{enumerable:!0,get:function(){return j.AtomicReadyWalletRejectedUpgradeError}}),Object.defineProperty(t,"BundleTooLargeError",{enumerable:!0,get:function(){return j.BundleTooLargeError}}),Object.defineProperty(t,"ChainDisconnectedError",{enumerable:!0,get:function(){return j.ChainDisconnectedError}}),Object.defineProperty(t,"DuplicateIdError",{enumerable:!0,get:function(){return j.DuplicateIdError}}),Object.defineProperty(t,"InternalRpcError",{enumerable:!0,get:function(){return j.InternalRpcError}}),Object.defineProperty(t,"InvalidInputRpcError",{enumerable:!0,get:function(){return j.InvalidInputRpcError}}),Object.defineProperty(t,"InvalidParamsRpcError",{enumerable:!0,get:function(){return j.InvalidParamsRpcError}}),Object.defineProperty(t,"InvalidRequestRpcError",{enumerable:!0,get:function(){return j.InvalidRequestRpcError}}),Object.defineProperty(t,"JsonRpcVersionUnsupportedError",{enumerable:!0,get:function(){return j.JsonRpcVersionUnsupportedError}}),Object.defineProperty(t,"LimitExceededRpcError",{enumerable:!0,get:function(){return j.LimitExceededRpcError}}),Object.defineProperty(t,"MethodNotFoundRpcError",{enumerable:!0,get:function(){return j.MethodNotFoundRpcError}}),Object.defineProperty(t,"MethodNotSupportedRpcError",{enumerable:!0,get:function(){return j.MethodNotSupportedRpcError}}),Object.defineProperty(t,"ParseRpcError",{enumerable:!0,get:function(){return j.ParseRpcError}}),Object.defineProperty(t,"ProviderDisconnectedError",{enumerable:!0,get:function(){return j.ProviderDisconnectedError}}),Object.defineProperty(t,"ProviderRpcError",{enumerable:!0,get:function(){return j.ProviderRpcError}}),Object.defineProperty(t,"ResourceNotFoundRpcError",{enumerable:!0,get:function(){return j.ResourceNotFoundRpcError}}),Object.defineProperty(t,"ResourceUnavailableRpcError",{enumerable:!0,get:function(){return j.ResourceUnavailableRpcError}}),Object.defineProperty(t,"RpcError",{enumerable:!0,get:function(){return j.RpcError}}),Object.defineProperty(t,"SwitchChainError",{enumerable:!0,get:function(){return j.SwitchChainError}}),Object.defineProperty(t,"TransactionRejectedRpcError",{enumerable:!0,get:function(){return j.TransactionRejectedRpcError}}),Object.defineProperty(t,"UnauthorizedProviderError",{enumerable:!0,get:function(){return j.UnauthorizedProviderError}}),Object.defineProperty(t,"UnknownBundleIdError",{enumerable:!0,get:function(){return j.UnknownBundleIdError}}),Object.defineProperty(t,"UnknownRpcError",{enumerable:!0,get:function(){return j.UnknownRpcError}}),Object.defineProperty(t,"UnsupportedChainIdError",{enumerable:!0,get:function(){return j.UnsupportedChainIdError}}),Object.defineProperty(t,"UnsupportedNonOptionalCapabilityError",{enumerable:!0,get:function(){return j.UnsupportedNonOptionalCapabilityError}}),Object.defineProperty(t,"UnsupportedProviderMethodError",{enumerable:!0,get:function(){return j.UnsupportedProviderMethodError}}),Object.defineProperty(t,"UserRejectedRequestError",{enumerable:!0,get:function(){return j.UserRejectedRequestError}});var F=W3();Object.defineProperty(t,"AccountStateConflictError",{enumerable:!0,get:function(){return F.AccountStateConflictError}}),Object.defineProperty(t,"StateAssignmentConflictError",{enumerable:!0,get:function(){return F.StateAssignmentConflictError}});var q=Ii();Object.defineProperty(t,"FeeConflictError",{enumerable:!0,get:function(){return q.FeeConflictError}}),Object.defineProperty(t,"InvalidLegacyVError",{enumerable:!0,get:function(){return q.InvalidLegacyVError}}),Object.defineProperty(t,"InvalidSerializableTransactionError",{enumerable:!0,get:function(){return q.InvalidSerializableTransactionError}}),Object.defineProperty(t,"InvalidSerializedTransactionError",{enumerable:!0,get:function(){return q.InvalidSerializedTransactionError}}),Object.defineProperty(t,"InvalidSerializedTransactionTypeError",{enumerable:!0,get:function(){return q.InvalidSerializedTransactionTypeError}}),Object.defineProperty(t,"InvalidStorageKeySizeError",{enumerable:!0,get:function(){return q.InvalidStorageKeySizeError}}),Object.defineProperty(t,"TransactionExecutionError",{enumerable:!0,get:function(){return q.TransactionExecutionError}}),Object.defineProperty(t,"TransactionNotFoundError",{enumerable:!0,get:function(){return q.TransactionNotFoundError}}),Object.defineProperty(t,"TransactionReceiptNotFoundError",{enumerable:!0,get:function(){return q.TransactionReceiptNotFoundError}}),Object.defineProperty(t,"WaitForTransactionReceiptTimeoutError",{enumerable:!0,get:function(){return q.WaitForTransactionReceiptTimeoutError}});var z=$4();Object.defineProperty(t,"UrlRequiredError",{enumerable:!0,get:function(){return z.UrlRequiredError}});var W=Pre();Object.defineProperty(t,"InvalidDomainError",{enumerable:!0,get:function(){return W.InvalidDomainError}}),Object.defineProperty(t,"InvalidPrimaryTypeError",{enumerable:!0,get:function(){return W.InvalidPrimaryTypeError}}),Object.defineProperty(t,"InvalidStructTypeError",{enumerable:!0,get:function(){return W.InvalidStructTypeError}});var K=Gre();Object.defineProperty(t,"InvalidDecimalNumberError",{enumerable:!0,get:function(){return K.InvalidDecimalNumberError}});var re=LBe();Object.defineProperty(t,"EIP1193ProviderRpcError",{enumerable:!0,get:function(){return re.ProviderRpcError}});var Q=Md();Object.defineProperty(t,"decodeAbiParameters",{enumerable:!0,get:function(){return Q.decodeAbiParameters}});var X=FBe();Object.defineProperty(t,"decodeDeployData",{enumerable:!0,get:function(){return X.decodeDeployData}});var ie=LP();Object.defineProperty(t,"decodeErrorResult",{enumerable:!0,get:function(){return ie.decodeErrorResult}});var Y=TE();Object.defineProperty(t,"decodeEventLog",{enumerable:!0,get:function(){return Y.decodeEventLog}});var V=d4();Object.defineProperty(t,"decodeFunctionData",{enumerable:!0,get:function(){return V.decodeFunctionData}});var Z=Yu();Object.defineProperty(t,"decodeFunctionResult",{enumerable:!0,get:function(){return Z.decodeFunctionResult}});var ne=ya();Object.defineProperty(t,"encodeAbiParameters",{enumerable:!0,get:function(){return ne.encodeAbiParameters}});var ue=RE();Object.defineProperty(t,"encodeDeployData",{enumerable:!0,get:function(){return ue.encodeDeployData}});var ce=f4();Object.defineProperty(t,"encodeErrorResult",{enumerable:!0,get:function(){return ce.encodeErrorResult}});var ge=Cp();Object.defineProperty(t,"encodeEventTopics",{enumerable:!0,get:function(){return ge.encodeEventTopics}});var we=Si();Object.defineProperty(t,"encodeFunctionData",{enumerable:!0,get:function(){return we.encodeFunctionData}});var me=h4();Object.defineProperty(t,"encodeFunctionResult",{enumerable:!0,get:function(){return me.encodeFunctionResult}});var ae=ure();Object.defineProperty(t,"encodePacked",{enumerable:!0,get:function(){return ae.encodePacked}});var Oe=Wu();Object.defineProperty(t,"getAbiItem",{enumerable:!0,get:function(){return Oe.getAbiItem}});var Ie=PE();Object.defineProperty(t,"parseEventLogs",{enumerable:!0,get:function(){return Ie.parseEventLogs}});var Be=Ote();Object.defineProperty(t,"prepareEncodeFunctionData",{enumerable:!0,get:function(){return Be.prepareEncodeFunctionData}});var de=ro();Object.defineProperty(t,"checksumAddress",{enumerable:!0,get:function(){return de.checksumAddress}}),Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return de.getAddress}});var oe=lre();Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return oe.getContractAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return oe.getCreate2Address}}),Object.defineProperty(t,"getCreateAddress",{enumerable:!0,get:function(){return oe.getCreateAddress}});var $=Ci();Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return $.isAddress}});var L=va();Object.defineProperty(t,"isAddressEqual",{enumerable:!0,get:function(){return L.isAddressEqual}});var H=$P();Object.defineProperty(t,"blobsToCommitments",{enumerable:!0,get:function(){return H.blobsToCommitments}});var ee=VP();Object.defineProperty(t,"blobsToProofs",{enumerable:!0,get:function(){return ee.blobsToProofs}});var le=n4();Object.defineProperty(t,"commitmentsToVersionedHashes",{enumerable:!0,get:function(){return le.commitmentsToVersionedHashes}});var ye=r4();Object.defineProperty(t,"commitmentToVersionedHash",{enumerable:!0,get:function(){return ye.commitmentToVersionedHash}});var Ae=HBe();Object.defineProperty(t,"fromBlobs",{enumerable:!0,get:function(){return Ae.fromBlobs}});var tt=qBe();Object.defineProperty(t,"sidecarsToVersionedHashes",{enumerable:!0,get:function(){return tt.sidecarsToVersionedHashes}});var wt=GP();Object.defineProperty(t,"toBlobSidecars",{enumerable:!0,get:function(){return wt.toBlobSidecars}});var Ct=Vte();Object.defineProperty(t,"toBlobs",{enumerable:!0,get:function(){return Ct.toBlobs}});var Wt=p4();Object.defineProperty(t,"ccipRequest",{enumerable:!0,get:function(){return Wt.ccipRequest}}),Object.defineProperty(t,"ccipFetch",{enumerable:!0,get:function(){return Wt.ccipRequest}}),Object.defineProperty(t,"offchainLookup",{enumerable:!0,get:function(){return Wt.offchainLookup}}),Object.defineProperty(t,"offchainLookupAbiItem",{enumerable:!0,get:function(){return Wt.offchainLookupAbiItem}}),Object.defineProperty(t,"offchainLookupSignature",{enumerable:!0,get:function(){return Wt.offchainLookupSignature}});var kt=kE();Object.defineProperty(t,"assertCurrentChain",{enumerable:!0,get:function(){return kt.assertCurrentChain}});var T6=pre();Object.defineProperty(t,"defineChain",{enumerable:!0,get:function(){return T6.defineChain}});var P6=mre();Object.defineProperty(t,"extractChain",{enumerable:!0,get:function(){return P6.extractChain}});var WE=Vd();Object.defineProperty(t,"getChainContractAddress",{enumerable:!0,get:function(){return WE.getChainContractAddress}});var Dg=jn();Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return Dg.concat}}),Object.defineProperty(t,"concatBytes",{enumerable:!0,get:function(){return Dg.concatBytes}}),Object.defineProperty(t,"concatHex",{enumerable:!0,get:function(){return Dg.concatHex}});var x6=C4();Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return x6.isBytes}});var O6=$s();Object.defineProperty(t,"isHex",{enumerable:!0,get:function(){return O6.isHex}});var Mg=Dd();Object.defineProperty(t,"pad",{enumerable:!0,get:function(){return Mg.pad}}),Object.defineProperty(t,"padBytes",{enumerable:!0,get:function(){return Mg.padBytes}}),Object.defineProperty(t,"padHex",{enumerable:!0,get:function(){return Mg.padHex}});var R6=_i();Object.defineProperty(t,"size",{enumerable:!0,get:function(){return R6.size}});var Ug=Oo();Object.defineProperty(t,"slice",{enumerable:!0,get:function(){return Ug.slice}}),Object.defineProperty(t,"sliceBytes",{enumerable:!0,get:function(){return Ug.sliceBytes}}),Object.defineProperty(t,"sliceHex",{enumerable:!0,get:function(){return Ug.sliceHex}});var N6=Gu();Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return N6.trim}});var Zd=G3();Object.defineProperty(t,"bytesToBigInt",{enumerable:!0,get:function(){return Zd.bytesToBigInt}}),Object.defineProperty(t,"bytesToBool",{enumerable:!0,get:function(){return Zd.bytesToBool}}),Object.defineProperty(t,"bytesToNumber",{enumerable:!0,get:function(){return Zd.bytesToNumber}}),Object.defineProperty(t,"bytesToString",{enumerable:!0,get:function(){return Zd.bytesToString}}),Object.defineProperty(t,"fromBytes",{enumerable:!0,get:function(){return Zd.fromBytes}});var Yd=tn();Object.defineProperty(t,"fromHex",{enumerable:!0,get:function(){return Yd.fromHex}}),Object.defineProperty(t,"hexToBigInt",{enumerable:!0,get:function(){return Yd.hexToBigInt}}),Object.defineProperty(t,"hexToBool",{enumerable:!0,get:function(){return Yd.hexToBool}}),Object.defineProperty(t,"hexToNumber",{enumerable:!0,get:function(){return Yd.hexToNumber}}),Object.defineProperty(t,"hexToString",{enumerable:!0,get:function(){return Yd.hexToString}});var B6=I4();Object.defineProperty(t,"fromRlp",{enumerable:!0,get:function(){return B6.fromRlp}});var Jd=Cr();Object.defineProperty(t,"boolToBytes",{enumerable:!0,get:function(){return Jd.boolToBytes}}),Object.defineProperty(t,"hexToBytes",{enumerable:!0,get:function(){return Jd.hexToBytes}}),Object.defineProperty(t,"numberToBytes",{enumerable:!0,get:function(){return Jd.numberToBytes}}),Object.defineProperty(t,"stringToBytes",{enumerable:!0,get:function(){return Jd.stringToBytes}}),Object.defineProperty(t,"toBytes",{enumerable:!0,get:function(){return Jd.toBytes}});var Qd=ze();Object.defineProperty(t,"boolToHex",{enumerable:!0,get:function(){return Qd.boolToHex}}),Object.defineProperty(t,"bytesToHex",{enumerable:!0,get:function(){return Qd.bytesToHex}}),Object.defineProperty(t,"numberToHex",{enumerable:!0,get:function(){return Qd.numberToHex}}),Object.defineProperty(t,"stringToHex",{enumerable:!0,get:function(){return Qd.stringToHex}}),Object.defineProperty(t,"toHex",{enumerable:!0,get:function(){return Qd.toHex}});var Lg=EE();Object.defineProperty(t,"bytesToRlp",{enumerable:!0,get:function(){return Lg.bytesToRlp}}),Object.defineProperty(t,"hexToRlp",{enumerable:!0,get:function(){return Lg.hexToRlp}}),Object.defineProperty(t,"toRlp",{enumerable:!0,get:function(){return Lg.toRlp}});var k6=nre();Object.defineProperty(t,"labelhash",{enumerable:!0,get:function(){return k6.labelhash}});var j6=v4();Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return j6.namehash}});var Fg=zBe();Object.defineProperty(t,"toCoinType",{enumerable:!0,get:function(){return Fg.toCoinType}});var D6=Fd();Object.defineProperty(t,"getContractError",{enumerable:!0,get:function(){return D6.getContractError}});var KE=qP();Object.defineProperty(t,"defineBlock",{enumerable:!0,get:function(){return KE.defineBlock}}),Object.defineProperty(t,"formatBlock",{enumerable:!0,get:function(){return KE.formatBlock}});var M6=Zu();Object.defineProperty(t,"formatLog",{enumerable:!0,get:function(){return M6.formatLog}});var Hg=xg();Object.defineProperty(t,"defineTransaction",{enumerable:!0,get:function(){return Hg.defineTransaction}}),Object.defineProperty(t,"formatTransaction",{enumerable:!0,get:function(){return Hg.formatTransaction}}),Object.defineProperty(t,"transactionType",{enumerable:!0,get:function(){return Hg.transactionType}});var ZE=jE();Object.defineProperty(t,"defineTransactionReceipt",{enumerable:!0,get:function(){return ZE.defineTransactionReceipt}}),Object.defineProperty(t,"formatTransactionReceipt",{enumerable:!0,get:function(){return ZE.formatTransactionReceipt}});var Rp=wa();Object.defineProperty(t,"defineTransactionRequest",{enumerable:!0,get:function(){return Rp.defineTransactionRequest}}),Object.defineProperty(t,"formatTransactionRequest",{enumerable:!0,get:function(){return Rp.formatTransactionRequest}}),Object.defineProperty(t,"rpcTransactionType",{enumerable:!0,get:function(){return Rp.rpcTransactionType}});var U6=T4();Object.defineProperty(t,"isHash",{enumerable:!0,get:function(){return U6.isHash}});var L6=Ai();Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return L6.keccak256}});var F6=yre();Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return F6.ripemd160}});var H6=t4();Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return H6.sha256}});var q6=bre();Object.defineProperty(t,"toEventHash",{enumerable:!0,get:function(){return q6.toEventHash}});var YE=Pg();Object.defineProperty(t,"toEventSelector",{enumerable:!0,get:function(){return YE.toEventSelector}}),Object.defineProperty(t,"getEventSelector",{enumerable:!0,get:function(){return YE.toEventSelector}});var bB=wre();Object.defineProperty(t,"toEventSignature",{enumerable:!0,get:function(){return bB.toEventSignature}}),Object.defineProperty(t,"getEventSignature",{enumerable:!0,get:function(){return bB.toEventSignature}});var Ose=Ere();Object.defineProperty(t,"toFunctionHash",{enumerable:!0,get:function(){return Ose.toFunctionHash}});var wB=Ap();Object.defineProperty(t,"toFunctionSelector",{enumerable:!0,get:function(){return wB.toFunctionSelector}}),Object.defineProperty(t,"getFunctionSelector",{enumerable:!0,get:function(){return wB.toFunctionSelector}});var EB=vre();Object.defineProperty(t,"toFunctionSignature",{enumerable:!0,get:function(){return EB.toFunctionSignature}}),Object.defineProperty(t,"getFunctionSignature",{enumerable:!0,get:function(){return EB.toFunctionSignature}});var Rse=ane();Object.defineProperty(t,"defineKzg",{enumerable:!0,get:function(){return Rse.defineKzg}});var Nse=$Be();Object.defineProperty(t,"setupKzg",{enumerable:!0,get:function(){return Nse.setupKzg}});var vB=_re();Object.defineProperty(t,"createNonceManager",{enumerable:!0,get:function(){return vB.createNonceManager}}),Object.defineProperty(t,"nonceManager",{enumerable:!0,get:function(){return vB.nonceManager}});var Bse=Jte();Object.defineProperty(t,"withCache",{enumerable:!0,get:function(){return Bse.withCache}});var kse=XP();Object.defineProperty(t,"withRetry",{enumerable:!0,get:function(){return kse.withRetry}});var jse=P4();Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return jse.withTimeout}});var Dse=VBe();Object.defineProperty(t,"compactSignatureToSignature",{enumerable:!0,get:function(){return Dse.compactSignatureToSignature}});var Mse=DE();Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return Mse.hashMessage}});var z6=ME();Object.defineProperty(t,"hashDomain",{enumerable:!0,get:function(){return z6.hashDomain}}),Object.defineProperty(t,"hashStruct",{enumerable:!0,get:function(){return z6.hashStruct}}),Object.defineProperty(t,"hashTypedData",{enumerable:!0,get:function(){return z6.hashTypedData}});var Use=N4();Object.defineProperty(t,"isErc6492Signature",{enumerable:!0,get:function(){return Use.isErc6492Signature}});var Lse=D4();Object.defineProperty(t,"isErc8010Signature",{enumerable:!0,get:function(){return Lse.isErc8010Signature}});var _B=GBe();Object.defineProperty(t,"hexToCompactSignature",{enumerable:!0,get:function(){return _B.parseCompactSignature}}),Object.defineProperty(t,"parseCompactSignature",{enumerable:!0,get:function(){return _B.parseCompactSignature}});var Fse=Lre();Object.defineProperty(t,"parseErc6492Signature",{enumerable:!0,get:function(){return Fse.parseErc6492Signature}});var Hse=Fre();Object.defineProperty(t,"parseErc8010Signature",{enumerable:!0,get:function(){return Hse.parseErc8010Signature}});var AB=WBe();Object.defineProperty(t,"hexToSignature",{enumerable:!0,get:function(){return AB.parseSignature}}),Object.defineProperty(t,"parseSignature",{enumerable:!0,get:function(){return AB.parseSignature}});var qse=Hd();Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return qse.recoverAddress}});var zse=M4();Object.defineProperty(t,"recoverMessageAddress",{enumerable:!0,get:function(){return zse.recoverMessageAddress}});var $se=Y3();Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return $se.recoverPublicKey}});var Vse=KBe();Object.defineProperty(t,"recoverTransactionAddress",{enumerable:!0,get:function(){return Vse.recoverTransactionAddress}});var Gse=U4();Object.defineProperty(t,"recoverTypedDataAddress",{enumerable:!0,get:function(){return Gse.recoverTypedDataAddress}});var CB=ZBe();Object.defineProperty(t,"compactSignatureToHex",{enumerable:!0,get:function(){return CB.serializeCompactSignature}}),Object.defineProperty(t,"serializeCompactSignature",{enumerable:!0,get:function(){return CB.serializeCompactSignature}});var Wse=Hre();Object.defineProperty(t,"serializeErc6492Signature",{enumerable:!0,get:function(){return Wse.serializeErc6492Signature}});var Kse=qre();Object.defineProperty(t,"serializeErc8010Signature",{enumerable:!0,get:function(){return Kse.serializeErc8010Signature}});var SB=Xre();Object.defineProperty(t,"signatureToHex",{enumerable:!0,get:function(){return SB.serializeSignature}}),Object.defineProperty(t,"serializeSignature",{enumerable:!0,get:function(){return SB.serializeSignature}});var Zse=YBe();Object.defineProperty(t,"signatureToCompactSignature",{enumerable:!0,get:function(){return Zse.signatureToCompactSignature}});var Yse=Tre();Object.defineProperty(t,"toPrefixedMessage",{enumerable:!0,get:function(){return Yse.toPrefixedMessage}});var Jse=zre();Object.defineProperty(t,"verifyHash",{enumerable:!0,get:function(){return Jse.verifyHash}});var Qse=$re();Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return Qse.verifyMessage}});var Xse=Vre();Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return Xse.verifyTypedData}});var eie=Xn();Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return eie.stringify}});var tie=Ea();Object.defineProperty(t,"assertRequest",{enumerable:!0,get:function(){return tie.assertRequest}});var $6=t6();Object.defineProperty(t,"assertTransactionEIP1559",{enumerable:!0,get:function(){return $6.assertTransactionEIP1559}}),Object.defineProperty(t,"assertTransactionEIP2930",{enumerable:!0,get:function(){return $6.assertTransactionEIP2930}}),Object.defineProperty(t,"assertTransactionLegacy",{enumerable:!0,get:function(){return $6.assertTransactionLegacy}});var rie=L4();Object.defineProperty(t,"getSerializedTransactionType",{enumerable:!0,get:function(){return rie.getSerializedTransactionType}});var nie=WP();Object.defineProperty(t,"getTransactionType",{enumerable:!0,get:function(){return nie.getTransactionType}});var sie=F4();Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return sie.parseTransaction}});var iie=S4();Object.defineProperty(t,"serializeAccessList",{enumerable:!0,get:function(){return iie.serializeAccessList}});var oie=r6();Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return oie.serializeTransaction}});var JE=n6();Object.defineProperty(t,"domainSeparator",{enumerable:!0,get:function(){return JE.domainSeparator}}),Object.defineProperty(t,"getTypesForEIP712Domain",{enumerable:!0,get:function(){return JE.getTypesForEIP712Domain}}),Object.defineProperty(t,"serializeTypedData",{enumerable:!0,get:function(){return JE.serializeTypedData}}),Object.defineProperty(t,"validateTypedData",{enumerable:!0,get:function(){return JE.validateTypedData}});var aie=yE();Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return aie.formatEther}});var cie=Sp();Object.defineProperty(t,"formatGwei",{enumerable:!0,get:function(){return cie.formatGwei}});var uie=FP();Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return uie.formatUnits}});var lie=Wre();Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return lie.parseEther}});var die=Kre();Object.defineProperty(t,"parseGwei",{enumerable:!0,get:function(){return die.parseGwei}});var fie=d6();Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return fie.parseUnits}})})(Q5)),Q5}var Nf={},ZV;function QBe(){if(ZV)return Nf;ZV=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.MAGIC_VALUE_BYTES=Nf.MAGIC_VALUE=void 0;const t="0x1626ba7e";Nf.MAGIC_VALUE=t;const e="0x20c13b0b";return Nf.MAGIC_VALUE_BYTES=e,Nf}var yS={},Cb={},Bf={},YV;function cne(){if(YV)return Bf;YV=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.PermissionsError=Bf.PERMISSIONS_REQUEST_REJECTED=void 0,Bf.PERMISSIONS_REQUEST_REJECTED=4001;class t extends Error{constructor(r,n,s){super(r),this.code=n,this.data=s,Object.setPrototypeOf(this,t.prototype)}}return Bf.PermissionsError=t,Bf}var JV;function une(){if(JV)return Cb;JV=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.Wallet=void 0;const t=vp(),e=cne();class r{constructor(s){this.communicator=s}async getPermissions(){return(await this.communicator.send(t.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(s){if(!this.isPermissionRequestValid(s))throw new e.PermissionsError("Permissions request is invalid",e.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(t.Methods.wallet_requestPermissions,s)).data}catch{throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(s){return s.every(i=>typeof i=="object"?Object.keys(i).every(o=>!!Object.values(t.RestrictedMethods).includes(o)):!1)}}return Cb.Wallet=r,Cb}var QV;function XBe(){if(QV)return yS;QV=1,Object.defineProperty(yS,"__esModule",{value:!0});const t=une(),e=cne(),r=(s,i)=>i.some(o=>o.parentCapability===s),n=()=>(s,i,o)=>{const a=o.value;return o.value=async function(){const c=new t.Wallet(this.communicator);let u=await c.getPermissions();if(r(i,u)||(u=await c.requestPermissions([{[i]:{}}])),!r(i,u))throw new e.PermissionsError("Permissions rejected",e.PERMISSIONS_REQUEST_REJECTED);return a.apply(this)},o};return yS.default=n,yS}var XV;function eke(){if(XV)return kc;XV=1;var t=kc&&kc.__decorate||function(u,l,d,f){var h=arguments.length,p=h<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,d):f,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,d,f);else for(var y=u.length-1;y>=0;y--)(m=u[y])&&(p=(h<3?m(p):h>3?m(l,d,p):m(l,d))||p);return h>3&&p&&Object.defineProperty(l,d,p),p},e=kc&&kc.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(kc,"__esModule",{value:!0}),kc.Safe=void 0;const r=JBe(),n=QBe(),s=vp(),i=H3(),o=F3(),a=e(XBe());class c{constructor(l){this.communicator=l}async getChainInfo(){return(await this.communicator.send(s.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(s.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:l="usd"}={}){return(await this.communicator.send(s.Methods.getSafeBalances,{currency:l})).data}async check1271Signature(l,d="0x"){const f=await this.getInfo(),h=(0,r.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[l,d]}),p={call:i.RPC_CALLS.eth_call,params:[{to:f.safeAddress,data:h},"latest"]};try{return(await this.communicator.send(s.Methods.rpcCall,p)).data.slice(0,10).toLowerCase()===n.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(l,d="0x"){const f=await this.getInfo(),h=(0,r.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[l,d]}),p={call:i.RPC_CALLS.eth_call,params:[{to:f.safeAddress,data:h},"latest"]};try{return(await this.communicator.send(s.Methods.rpcCall,p)).data.slice(0,10).toLowerCase()===n.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(l){return(0,r.hashMessage)(l)}calculateTypedMessageHash(l){const d=typeof l.domain.chainId=="object"?l.domain.chainId.toNumber():Number(l.domain.chainId);let f=l.primaryType;if(!f){const h=Object.values(l.types),p=Object.keys(l.types).filter(m=>h.every(y=>y.every(({type:E})=>E.replace("[","").replace("]","")!==m)));if(p.length===0||p.length>1)throw new Error("Please specify primaryType");f=p[0]}return(0,r.hashTypedData)({message:l.message,domain:{...l.domain,chainId:d,verifyingContract:l.domain.verifyingContract,salt:l.domain.salt},types:l.types,primaryType:f})}async getOffChainSignature(l){return(await this.communicator.send(s.Methods.getOffChainSignature,l)).data}async isMessageSigned(l,d="0x"){let f;if(typeof l=="string"&&(f=async()=>{const h=this.calculateMessageHash(l);return await this.isMessageHashSigned(h,d)}),(0,o.isObjectEIP712TypedData)(l)&&(f=async()=>{const h=this.calculateTypedMessageHash(l);return await this.isMessageHashSigned(h,d)}),f)return await f();throw new Error("Invalid message type")}async isMessageHashSigned(l,d="0x"){const f=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const h of f)if(await h(l,d))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(s.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(s.Methods.requestAddressBook,void 0)).data}}return kc.Safe=c,t([(0,a.default)()],c.prototype,"requestAddressBook",null),kc}var eG;function tG(){if(eG)return Kp;eG=1;var t=Kp&&Kp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Kp,"__esModule",{value:!0});const e=t(V8e()),r=l3e(),n=d3e(),s=eke(),i=une();class o{constructor(c={}){const{allowedDomains:u=null,debug:l=!1}=c;this.communicator=new e.default(u,l),this.eth=new n.Eth(this.communicator),this.txs=new r.TXs(this.communicator),this.safe=new s.Safe(this.communicator),this.wallet=new i.Wallet(this.communicator)}}return Kp.default=o,Kp}var rG;function tke(){return rG||(rG=1,(function(t){var e=Oc&&Oc.__createBinding||(Object.create?(function(o,a,c,u){u===void 0&&(u=c);var l=Object.getOwnPropertyDescriptor(a,c);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,l)}):(function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]})),r=Oc&&Oc.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)},n=Oc&&Oc.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const s=n(tG());t.default=s.default,r(tG(),t),r(F3(),t),r(vp(),t),r(vte(),t);var i=Ete();Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return i.getSDKVersion}}),r(H3(),t)})(Oc)),Oc}var kf={},nG;function rke(){if(nG)return kf;nG=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.numberToHex=kf.getLowerCase=void 0;function t(r){return r&&r.toLowerCase()}kf.getLowerCase=t;function e(r){return`0x${r.toString(16)}`}return kf.numberToHex=e,kf}var sG;function nke(){if(sG)return gy;sG=1,Object.defineProperty(gy,"__esModule",{value:!0}),gy.SafeAppProvider=void 0;const t=tke(),e=rY(),r=rke();class n extends e.EventEmitter{constructor(i,o){super(),this.submittedTxs=new Map,this.safe=i,this.sdk=o}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(i){var c,u,l,d;const{method:o,params:a=[]}=i;switch(o){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,r.numberToHex)(this.chainId);case"personal_sign":{const[y,E]=a;if(this.safe.safeAddress.toLowerCase()!==E.toLowerCase())throw new Error("The address or message hash is invalid");const w=await this.sdk.txs.signMessage(y);return("signature"in w?w.signature:void 0)||"0x"}case"eth_sign":{const[y,E]=a;if(this.safe.safeAddress.toLowerCase()!==y.toLowerCase()||!E.startsWith("0x"))throw new Error("The address or message hash is invalid");const w=await this.sdk.txs.signMessage(E);return("signature"in w?w.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[y,E]=a,w=typeof E=="string"?JSON.parse(E):E;if(this.safe.safeAddress.toLowerCase()!==y.toLowerCase())throw new Error("The address is invalid");const b=await this.sdk.txs.signTypedMessage(w);return("signature"in b?b.signature:void 0)||"0x"}case"eth_sendTransaction":const f={...a[0],value:a[0].value||"0",data:a[0].data||"0x"};typeof f.gas=="string"&&f.gas.startsWith("0x")&&(f.gas=parseInt(f.gas,16));const h=await this.sdk.txs.send({txs:[f],params:{safeTxGas:f.gas}});return this.submittedTxs.set(h.safeTxHash,{from:this.safe.safeAddress,hash:h.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:f.data,value:f.value,to:f.to,blockHash:null,blockNumber:null,transactionIndex:null}),h.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,r.getLowerCase)(a[0]),a[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,r.getLowerCase)(a[0]),a[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,r.getLowerCase)(a[0]),a[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,r.getLowerCase)(a[0]),a[1],a[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([a[0],a[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([a[0],a[1]]);case"eth_getTransactionByHash":let m=a[0];try{m=(await this.sdk.txs.getBySafeTxHash(m)).txHash||m}catch{}return this.submittedTxs.has(m)?this.submittedTxs.get(m):this.sdk.eth.getTransactionByHash([m]).then(y=>(y&&(y.hash=a[0]),y));case"eth_getTransactionReceipt":{let y=a[0];try{y=(await this.sdk.txs.getBySafeTxHash(y)).txHash||y}catch{}return this.sdk.eth.getTransactionReceipt([y]).then(E=>(E&&(E.transactionHash=a[0]),E))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(a[0]);case"eth_call":return this.sdk.eth.call([a[0],a[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([a[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(a[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([a[0]]);case"wallet_sendCalls":{const{from:y,calls:E,chainId:w}=a[0];if(w!==(0,r.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${w}`);if(y!==this.safe.safeAddress)throw Error("Invalid from address");const b=E.map((A,C)=>{if(!A.to)throw new Error(`Invalid call #${C}: missing "to" field`);return{to:A.to,data:A.data??"0x",value:A.value??(0,r.numberToHex)(0)}}),{safeTxHash:g}=await this.sdk.txs.send({txs:b});return{id:g}}case"wallet_getCallsStatus":{const y=a[0],E={[t.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[t.TransactionStatus.AWAITING_EXECUTION]:100,[t.TransactionStatus.SUCCESS]:200,[t.TransactionStatus.CANCELLED]:400,[t.TransactionStatus.FAILED]:500},w=await this.sdk.txs.getBySafeTxHash(y),b={version:"1.0",id:y,chainId:(0,r.numberToHex)(this.chainId),status:E[w.txStatus]};if(!w.txHash)return b;const g=await this.sdk.eth.getTransactionReceipt([w.txHash]);if(!g)return b;const v=((u=(c=w.txData)==null?void 0:c.dataDecoded)==null?void 0:u.method)!=="multiSend"?1:((d=(l=w.txData.dataDecoded.parameters)==null?void 0:l[0].valueDecoded)==null?void 0:d.length)??1,A=Number(g.blockNumber),C=Number(g.gasUsed);return b.receipts=Array(v).fill({logs:g.logs,status:(0,r.numberToHex)(w.txStatus===t.TransactionStatus.SUCCESS?1:0),blockHash:g.blockHash,blockNumber:(0,r.numberToHex)(A),gasUsed:(0,r.numberToHex)(C),transactionHash:w.txHash}),b}case"wallet_showCallsStatus":throw new Error(`"${i.method}" not supported`);case"wallet_getCapabilities":return{[(0,r.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${i.method}" not implemented`)}}send(i,o){i||o("Undefined request"),this.request(i).then(a=>o(null,{jsonrpc:"2.0",id:i.id,result:a})).catch(a=>o(a,null))}}return gy.SafeAppProvider=n,gy}var iG;function ske(){return iG||(iG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAppProvider=void 0;var e=nke();Object.defineProperty(t,"SafeAppProvider",{enumerable:!0,get:function(){return e.SafeAppProvider}})})(G5)),G5}var ike=ske();class oke extends ike.SafeAppProvider{request(e){return e.method==="eth_requestAccounts"?this.request({method:"eth_accounts",params:[]}):super.request(e)}}class ake extends L3{async initialize(){const{default:e}=await vn(async()=>{const{default:i}=await import("./index-ButznT69.js");return{default:i}},__vite__mapDeps([54,2]),import.meta.url),r=new e,n=await r.safe.getInfo(),s=new oke(n,r);await s.connect().catch(i=>{console.info("Failed to auto-connect to Safe:",i)}),this.provider=s,this.initialized=!0}async getProvider(){return Promise.resolve(this.provider)}}class cke extends L3{async initialize(){if(!(typeof window>"u")&&window.ethereum)return this.provider=window.ethereum,this.initialized=!0,Promise.resolve()}}const m0={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=Ar(t)?t:Fe(lc(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const s={from:t.address,to:t.to,data:t.data,type:0},i=new aw(e,n);return await new tm(i,r).estimateGas(s)},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const s={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0},i=new aw(e,n),c=await(await new tm(i,r).sendTransaction(s)).wait();return(c==null?void 0:c.hash)||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new aw(e,n),i=new tm(s,r),o=new em(t.tokenAddress,t.abi,i);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:x5e,formatUnits:UX};class uke extends pX{constructor(){super({adapterType:Ee.ADAPTER_TYPES.ETHERS,namespace:Ee.CHAIN.EVM}),this.balancePromises={},this.ethersProviders={}}async createEthersConfig(){const{metadata:e,enableCoinbase:r,enableInjected:n,enableEIP6963:s}=Ce.state;if(e){if(n!==!1){const i=new cke;await i.initialize(),this.ethersProviders.injected=i}if(r!==!1&&(this.ethersProviders.baseAccount=new z8e),Ue.isSafeApp()){const i=new ake;await i.initialize(),this.ethersProviders.safe=i}return{...this.ethersProviders,EIP6963:s!==!1,metadata:e}}}async signMessage(e){const{message:r,address:n,provider:s}=e;if(!s)throw new Error("Provider is undefined");try{return{signature:await m0.signMessage(r,s,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){var s,i;if(!e.provider)throw new Error("Provider is undefined");const r=(s=te.getAccountData(Ee.CHAIN.EVM))==null?void 0:s.address;if(!r)throw new Error("Address is undefined");return{hash:await m0.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:r},e.provider,r,Number((i=e.caipNetwork)==null?void 0:i.id))}}async writeContract(e){var s;if(!e.provider)throw new Error("Provider is undefined");const{address:r}=mn.parseCaipAddress(e.caipAddress);return{hash:await m0.writeContract(e,e.provider,r,Number((s=e.caipNetwork)==null?void 0:s.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:s}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await m0.estimateGas({data:e.data,to:e.to,address:s},r,s,Number(n==null?void 0:n.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return m0.parseUnits(e.value,e.decimals)}formatUnits(e){return m0.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,s=this.connectors.find(c=>c.id===r),i=s==null?void 0:s.provider;if(!i)throw new Error("Provider not found");const o=await i.request({method:"eth_requestAccounts"}),a=await i.request({method:"eth_chainId"});if(this.listenProviderEvents(r,i),!o[0])throw new Error("No accounts found");if(!(s!=null&&s.type))throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(n),provider:i,type:s.type,id:r}}async syncConnectors(){var n;this.ethersConfig=await this.createEthersConfig(),(n=this.ethersConfig)!=null&&n.EIP6963&&this.listenInjectedConnector(!0);const r=Object.keys(this.ethersConfig||{}).filter(s=>s!=="metadata"&&s!=="EIP6963").map(async s=>{var o;const i=s===Ee.CONNECTOR_ID.INJECTED;if(this.namespace){const a=this.ethersProviders[s];this.addConnector({id:s,explorerId:Yi.ConnectorExplorerIds[s],imageUrl:(o=Gi.state.connectorImages)==null?void 0:o[s],name:Yi.ConnectorNamesMap[s]||"Unknown",imageId:Yi.ConnectorImageIds[s],type:Yi.ConnectorTypesMap[s]??"EXTERNAL",info:i?void 0:{rdns:s},chain:this.namespace,chains:[],provider:await(a==null?void 0:a.getProvider())})}});await Promise.all(r)}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async r=>{const n=this.connectors.find(s=>na.isLowerCaseMatch(s.id,r.connectorId));if(!n)throw new Error("Connector not found");return await this.disconnect({id:n.id}),r}))}}async syncConnections({connectToFirstConnector:e}){const r=this.getCaipNetworks();await Promise.all(this.connectors.filter(n=>{const{hasDisconnected:s,hasConnected:i}=na.getConnectorStorageInfo(n.id,this.namespace);return!s&&i}).map(async n=>{if(n.id===Ee.CONNECTOR_ID.WALLET_CONNECT){const s=uc.getWalletConnectAccounts(this.universalProvider,this.namespace),i=r.find(o=>{var a,c;return o.chainNamespace===this.namespace&&o.id.toString()===((c=(a=s[0])==null?void 0:a.chainId)==null?void 0:c.toString())});s.length>0&&this.addConnection({connectorId:n.id,accounts:s.map(o=>({address:o.address})),caipNetwork:i})}else{const{accounts:s,chainId:i}=await kS.fetchProviderData(n);if(s.length>0&&i){const o=r.find(a=>a.chainNamespace===this.namespace&&a.id.toString()===i.toString());this.addConnection({connectorId:n.id,accounts:s.map(a=>({address:a})),caipNetwork:o}),n.provider&&n.id!==Ee.CONNECTOR_ID.AUTH&&n.id!==Ee.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(n.id,n.provider)}}})),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const r=Ee.CONNECTOR_ID.WALLET_CONNECT;return uc.listenWcProvider({universalProvider:e,namespace:Ee.CHAIN.EVM,onConnect:n=>this.onConnect(n,r),onDisconnect:()=>this.onDisconnect(r),onAccountsChanged:n=>this.onAccountsChanged(n,r,!1),onChainChanged:n=>this.onChainChanged(n,r)}),this.addConnector(new mX({provider:e,caipNetworks:this.getCaipNetworks(),namespace:Ee.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){var r;if(e.detail){const{info:n,provider:s}=e.detail;if(!((r=this.connectors)==null?void 0:r.find(o=>o.name===(n==null?void 0:n.name)))){const o=Yi.ConnectorTypesMap[Ee.CONNECTOR_ID.EIP6963],a=(n==null?void 0:n.rdns)||(n==null?void 0:n.name)||(n==null?void 0:n.uuid);this.namespace&&a&&this.addConnector({id:a,type:o,imageUrl:n==null?void 0:n.icon,name:(n==null?void 0:n.name)||"Unknown",provider:s,info:n,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(Ot.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(Ot.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:r,type:n,chainId:s,socialUri:i}){try{const o=this.connectors.find(f=>na.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.getConnection({address:r,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("EthersAdapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:f.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:f.id,provider:o.provider,type:o.type,id:e}}let c=o==null?void 0:o.provider;const u=this.ethersProviders[o.id];if(u&&(await u.initialize(),c=await u.getProvider()),!c)throw new Error("Provider not found");o.provider=c;let l=[],d;if(n===Ot.CONNECTOR_TYPE_AUTH){const{address:f,accounts:h}=await ci.authConnectorAuthenticate({authConnector:c,chainNamespace:Ee.CHAIN.EVM,chainId:s,socialUri:i,preferredAccountType:js("eip155")}),p=this.getCaipNetworks().find(m=>m.id.toString()===(s==null?void 0:s.toString()));l=[f],this.addConnection({connectorId:e,accounts:h?h.map(m=>({address:m.address})):l.map(m=>({address:m})),caipNetwork:p,auth:{name:Te.getConnectedSocialProvider(),username:Te.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(s),connector:o})}else{l=await c.request({method:"eth_requestAccounts"}),d=await c.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(h=>h.id.toString()===(s==null?void 0:s.toString()));if(d!==s){if(!f)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await(c==null?void 0:c.request({method:"wallet_switchEthereumChain",params:[{chainId:rm.numberToHexString(f.id)}]}))}catch{throw new Error("EthersAdapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(s),connector:o}),this.addConnection({connectorId:e,accounts:l.map(h=>({address:h})),caipNetwork:f}),o.id!==Ee.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(l[0]),chainId:Number(s),provider:c,type:n,id:e}}catch(o){throw Qa.isUserRejectedRequestError(o)?new w8(o):o}}async reconnect(e){const{id:r,chainId:n}=e,s=this.connectors.find(i=>i.id===r);s&&s.type==="AUTH"&&n&&await ci.authConnectorAuthenticate({authConnector:s.provider,chainNamespace:Ee.CHAIN.EVM,chainId:n,preferredAccountType:js("eip155")})}async getAccounts(e){const r=this.connectors.find(o=>o.id===e.id),n=r==null?void 0:r.provider;if(!n||!r)throw new Error("Provider not found");const s=this.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(s)return{accounts:s.accounts.map(({address:o})=>Ue.createAccount(Ee.CHAIN.EVM,o,"eoa"))};if(e.id===Ee.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(u=>Ue.createAccount(Ee.CHAIN.EVM,u.address,u.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(o=>Ue.createAccount(Ee.CHAIN.EVM,o,"eoa"))}}async disconnect(e){var r;if(e.id){const n=this.connectors.find(i=>na.isLowerCaseMatch(i.id,e.id));if(!n)throw new Error("Connector not found");const s=this.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(n.type){case Ot.CONNECTOR_TYPE_WALLET_CONNECT:n.provider.session&&n.provider.disconnect();break;case Ot.CONNECTOR_TYPE_AUTH:await((r=n.provider)==null?void 0:r.disconnect());break;case Ot.CONNECTOR_TYPE_ANNOUNCED:case Ot.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(n.provider);break;default:throw new Error("Unsupported provider type")}return n.id&&(this.removeProviderListeners(n.id),this.deleteConnection(n.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:s?[s]:[]}}return this.disconnectAll()}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(s=>{var i;return s.id.toString()===((i=e.chainId)==null?void 0:i.toString())});if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n&&n.chainNamespace===Ee.CHAIN.EVM){const s=`${n.caipNetworkId}:${r}`,i=this.balancePromises[s];if(i)return i;const o=Te.getNativeBalanceCacheForCaipAddress(s);if(o)return{balance:o.balance,symbol:o.symbol};const a=new H8e(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(a)try{return this.balancePromises[s]=new Promise(async c=>{try{const u=await a.getBalance(r),l=O5e(u);Te.updateNativeBalanceCache({caipAddress:s,balance:l,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:l,symbol:n.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){var i,o;const{caipNetwork:r}=e,n=Zt.getProviderId(r.chainNamespace),s=Zt.getProvider(r.chainNamespace);if(n==="AUTH"||n==="WALLET_CONNECT"){await super.switchNetwork(e);return}if(!s)throw new Error("Provider not found");try{await(s==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:rm.numberToHexString(r.id)}]}))}catch(a){if(a.code===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||a.code===id.ERROR_INVALID_CHAIN_ID||a.code===id.ERROR_CODE_DEFAULT||((o=(i=a==null?void 0:a.data)==null?void 0:i.originalError)==null?void 0:o.code)===id.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await rm.addEthereumChain(s,r);else if(n==="ANNOUNCED"||n==="EXTERNAL"||n==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){var e;return(e=this.connectors.find(r=>r.type==="WALLET_CONNECT"))==null?void 0:e.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(s=>s.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=Zt.getProvider(Ee.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return or(e.toLowerCase())}catch{return e}}}const lke={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},dke={block:Lfe({format(t){var r;return{transactions:(r=t.transactions)==null?void 0:r.map(n=>{if(typeof n=="string")return n;const s=P8(n);return s.typeHex==="0x7e"&&(s.isSystemTx=n.isSystemTx,s.mint=n.mint?E0(n.mint):void 0,s.sourceHash=n.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:Dfe({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?E0(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:lhe({format(t){return{l1GasPrice:t.l1GasPrice?E0(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?E0(t.l1GasUsed):null,l1Fee:t.l1Fee?E0(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function fke(t,e){return mke(t)?pke(t):ghe(t,e)}const hke={transaction:fke};function pke(t){gke(t);const{sourceHash:e,data:r,from:n,gas:s,isSystemTx:i,mint:o,to:a,value:c}=t,u=[e,n,a??"0x",o?cd(o):"0x",c?cd(c):"0x",s?cd(s):"0x",i?"0x1":"0x",r??"0x"];return bg(["0x7e",Yh(u)])}function mke(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function gke(t){const{from:e,to:r}=t;if(e&&!Ad(e))throw new _d({address:e});if(r&&!Ad(r))throw new _d({address:r})}const oG={blockTime:2e3,contracts:lke,formatters:dke,serializers:hke},Sb=1,lne=KT({...oG,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...oG.contracts,disputeGameFactory:{[Sb]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Sb]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Sb]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Sb]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Sb});({...lne});const qN=KT({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),yke=KT({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});function Wd(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}Wd({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"});Wd({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Wd({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Wd({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Wd({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Wd({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Wd({id:"-239",name:"TON",network:"ton-mainnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://tonscan.org"}},testnet:!1,chainNamespace:"ton",caipNetworkId:"ton:-239"});Wd({id:"-3",name:"TON Testnet",network:"ton-testnet",nativeCurrency:{name:"TON",symbol:"TON",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Tonscan",url:"https://testnet.tonscan.org"}},testnet:!0,chainNamespace:"ton",caipNetworkId:"ton:-3"});var WS={exports:{}},bke=WS.exports,aG;function wke(){return aG||(aG=1,(function(t,e){(function(r,n){t.exports=n()})(bke,(function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",a="minute",c="hour",u="day",l="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var I=["th","st","nd","rd"],S=U%100;return"["+U+(I[(S-20)%10]||I[S]||I[0])+"]"}},b=function(U,I,S){var _=String(U);return!_||_.length>=I?U:""+Array(I+1-_.length).join(S)+U},g={s:b,z:function(U){var I=-U.utcOffset(),S=Math.abs(I),_=Math.floor(S/60),R=S%60;return(I<=0?"+":"-")+b(_,2,"0")+":"+b(R,2,"0")},m:function U(I,S){if(I.date()<S.date())return-U(S,I);var _=12*(S.year()-I.year())+(S.month()-I.month()),R=I.clone().add(_,d),O=S-R<0,P=I.clone().add(_+(O?-1:1),d);return+(-(_+(S-R)/(O?R-P:P-R))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:d,y:h,w:l,d:u,D:p,h:c,m:a,s:o,ms:i,Q:f}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},v="en",A={};A[v]=w;var C="$isDayjsObject",x=function(U){return U instanceof k||!(!U||!U[C])},T=function U(I,S,_){var R;if(!I)return v;if(typeof I=="string"){var O=I.toLowerCase();A[O]&&(R=O),S&&(A[O]=S,R=O);var P=I.split("-");if(!R&&P.length>1)return U(P[0])}else{var D=I.name;A[D]=I,R=D}return!_&&R&&(v=R),R||!_&&v},N=function(U,I){if(x(U))return U.clone();var S=typeof I=="object"?I:{};return S.date=U,S.args=arguments,new k(S)},M=g;M.l=T,M.i=x,M.w=function(U,I){return N(U,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var k=(function(){function U(S){this.$L=T(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[C]=!0}var I=U.prototype;return I.parse=function(S){this.$d=(function(_){var R=_.date,O=_.utc;if(R===null)return new Date(NaN);if(M.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var P=R.match(y);if(P){var D=P[2]-1||0,j=(P[7]||"0").substring(0,3);return O?new Date(Date.UTC(P[1],D,P[3]||1,P[4]||0,P[5]||0,P[6]||0,j)):new Date(P[1],D,P[3]||1,P[4]||0,P[5]||0,P[6]||0,j)}}return new Date(R)})(S),this.init()},I.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},I.$utils=function(){return M},I.isValid=function(){return this.$d.toString()!==m},I.isSame=function(S,_){var R=N(S);return this.startOf(_)<=R&&R<=this.endOf(_)},I.isAfter=function(S,_){return N(S)<this.startOf(_)},I.isBefore=function(S,_){return this.endOf(_)<N(S)},I.$g=function(S,_,R){return M.u(S)?this[_]:this.set(R,S)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(S,_){var R=this,O=!!M.u(_)||_,P=M.p(S),D=function(Q,X){var ie=M.w(R.$u?Date.UTC(R.$y,X,Q):new Date(R.$y,X,Q),R);return O?ie:ie.endOf(u)},j=function(Q,X){return M.w(R.toDate()[Q].apply(R.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(X)),R)},F=this.$W,q=this.$M,z=this.$D,W="set"+(this.$u?"UTC":"");switch(P){case h:return O?D(1,0):D(31,11);case d:return O?D(1,q):D(0,q+1);case l:var K=this.$locale().weekStart||0,re=(F<K?F+7:F)-K;return D(O?z-re:z+(6-re),q);case u:case p:return j(W+"Hours",0);case c:return j(W+"Minutes",1);case a:return j(W+"Seconds",2);case o:return j(W+"Milliseconds",3);default:return this.clone()}},I.endOf=function(S){return this.startOf(S,!1)},I.$set=function(S,_){var R,O=M.p(S),P="set"+(this.$u?"UTC":""),D=(R={},R[u]=P+"Date",R[p]=P+"Date",R[d]=P+"Month",R[h]=P+"FullYear",R[c]=P+"Hours",R[a]=P+"Minutes",R[o]=P+"Seconds",R[i]=P+"Milliseconds",R)[O],j=O===u?this.$D+(_-this.$W):_;if(O===d||O===h){var F=this.clone().set(p,1);F.$d[D](j),F.init(),this.$d=F.set(p,Math.min(this.$D,F.daysInMonth())).$d}else D&&this.$d[D](j);return this.init(),this},I.set=function(S,_){return this.clone().$set(S,_)},I.get=function(S){return this[M.p(S)]()},I.add=function(S,_){var R,O=this;S=Number(S);var P=M.p(_),D=function(q){var z=N(O);return M.w(z.date(z.date()+Math.round(q*S)),O)};if(P===d)return this.set(d,this.$M+S);if(P===h)return this.set(h,this.$y+S);if(P===u)return D(1);if(P===l)return D(7);var j=(R={},R[a]=n,R[c]=s,R[o]=r,R)[P]||1,F=this.$d.getTime()+S*j;return M.w(F,this)},I.subtract=function(S,_){return this.add(-1*S,_)},I.format=function(S){var _=this,R=this.$locale();if(!this.isValid())return R.invalidDate||m;var O=S||"YYYY-MM-DDTHH:mm:ssZ",P=M.z(this),D=this.$H,j=this.$m,F=this.$M,q=R.weekdays,z=R.months,W=R.meridiem,K=function(X,ie,Y,V){return X&&(X[ie]||X(_,O))||Y[ie].slice(0,V)},re=function(X){return M.s(D%12||12,X,"0")},Q=W||function(X,ie,Y){var V=X<12?"AM":"PM";return Y?V.toLowerCase():V};return O.replace(E,(function(X,ie){return ie||(function(Y){switch(Y){case"YY":return String(_.$y).slice(-2);case"YYYY":return M.s(_.$y,4,"0");case"M":return F+1;case"MM":return M.s(F+1,2,"0");case"MMM":return K(R.monthsShort,F,z,3);case"MMMM":return K(z,F);case"D":return _.$D;case"DD":return M.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return K(R.weekdaysMin,_.$W,q,2);case"ddd":return K(R.weekdaysShort,_.$W,q,3);case"dddd":return q[_.$W];case"H":return String(D);case"HH":return M.s(D,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return Q(D,j,!0);case"A":return Q(D,j,!1);case"m":return String(j);case"mm":return M.s(j,2,"0");case"s":return String(_.$s);case"ss":return M.s(_.$s,2,"0");case"SSS":return M.s(_.$ms,3,"0");case"Z":return P}return null})(X)||P.replace(":","")}))},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(S,_,R){var O,P=this,D=M.p(_),j=N(S),F=(j.utcOffset()-this.utcOffset())*n,q=this-j,z=function(){return M.m(P,j)};switch(D){case h:O=z()/12;break;case d:O=z();break;case f:O=z()/3;break;case l:O=(q-F)/6048e5;break;case u:O=(q-F)/864e5;break;case c:O=q/s;break;case a:O=q/n;break;case o:O=q/r;break;default:O=q}return R?O:M.a(O)},I.daysInMonth=function(){return this.endOf(d).$D},I.$locale=function(){return A[this.$L]},I.locale=function(S,_){if(!S)return this.$L;var R=this.clone(),O=T(S,_,!0);return O&&(R.$L=O),R},I.clone=function(){return M.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},U})(),B=k.prototype;return N.prototype=B,[["$ms",i],["$s",o],["$m",a],["$H",c],["$W",u],["$M",d],["$y",h],["$D",p]].forEach((function(U){B[U[1]]=function(I){return this.$g(I,U[0],U[1])}})),N.extend=function(U,I){return U.$i||(U(I,k,N),U.$i=!0),N},N.locale=T,N.isDayjs=x,N.unix=function(U){return N(1e3*U)},N.en=A[v],N.Ls=A,N.p={},N}))})(WS)),WS.exports}var Eke=wke();const vke=gg(Eke);var KS={exports:{}},_ke=KS.exports,cG;function Ake(){return cG||(cG=1,(function(t,e){(function(r,n){t.exports=n()})(_ke,(function(){return function(r,n,s){r=r||{};var i=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,l,d,f){return i.fromToBase(u,l,d,f)}s.en.relativeTime=o,i.fromToBase=function(u,l,d,f,h){for(var p,m,y,E=d.$locale().relativeTime||o,w=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],b=w.length,g=0;g<b;g+=1){var v=w[g];v.d&&(p=f?s(u).diff(d,v.d,!0):d.diff(u,v.d,!0));var A=(r.rounding||Math.round)(Math.abs(p));if(y=p>0,A<=v.r||!v.r){A<=1&&g>0&&(v=w[g-1]);var C=E[v.l];h&&(A=h(""+A)),m=typeof C=="string"?C.replace("%d",A):C(A,l,v.l,y);break}}if(l)return m;var x=y?E.future:E.past;return typeof x=="function"?x(m):x.replace("%s",m)},i.to=function(u,l){return a(u,l,this,!0)},i.from=function(u,l){return a(u,l,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}}))})(KS)),KS.exports}var Cke=Ake();const Ske=gg(Cke);vke.extend(Ske);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let dne;const h6=t=>dne=t,fne=Symbol();function zN(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var cw;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(cw||(cw={}));function Ike(){const t=kW(!0),e=t.run(()=>vt({}));let r=[],n=[];const s=u8({install(i){h6(s),s._a=i,i.provide(fne,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const hne=()=>{};function uG(t,e,r,n=hne){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&r8()&&jW(s),s}function g0(t,...e){t.slice().forEach(r=>{r(...e)})}const Tke=t=>t(),lG=Symbol(),PO=Symbol();function $N(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];zN(s)&&zN(n)&&t.hasOwnProperty(r)&&!Or(n)&&!ic(n)?t[r]=$N(s,n):t[r]=n}return t}const Pke=Symbol();function xke(t){return!zN(t)||!t.hasOwnProperty(Pke)}const{assign:Il}=Object;function Oke(t){return!!(Or(t)&&t.effect)}function Rke(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let c;function u(){a||(r.state.value[t]=s?s():{});const l=Kie(r.state.value[t]);return Il(l,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=u8(We(()=>{h6(r);const h=r._s.get(t);return o[f].call(h,h)})),d),{}))}return c=pne(t,u,e,r,n,!0),c}function pne(t,e,r={},n,s,i){let o;const a=Il({actions:{}},r),c={deep:!0};let u,l,d=[],f=[],h;const p=n.state.value[t];!i&&!p&&(n.state.value[t]={}),vt({});let m;function y(x){let T;u=l=!1,typeof x=="function"?(x(n.state.value[t]),T={type:cw.patchFunction,storeId:t,events:h}):($N(n.state.value[t],x),T={type:cw.patchObject,payload:x,storeId:t,events:h});const N=m=Symbol();Jo().then(()=>{m===N&&(u=!0)}),l=!0,g0(d,T,n.state.value[t])}const E=i?function(){const{state:T}=r,N=T?T():{};this.$patch(M=>{Il(M,N)})}:hne;function w(){o.stop(),d=[],f=[],n._s.delete(t)}const b=(x,T="")=>{if(lG in x)return x[PO]=T,x;const N=function(){h6(n);const M=Array.from(arguments),k=[],B=[];function U(_){k.push(_)}function I(_){B.push(_)}g0(f,{args:M,name:N[PO],store:v,after:U,onError:I});let S;try{S=x.apply(this&&this.$id===t?this:v,M)}catch(_){throw g0(B,_),_}return S instanceof Promise?S.then(_=>(g0(k,_),_)).catch(_=>(g0(B,_),Promise.reject(_))):(g0(k,S),S)};return N[lG]=!0,N[PO]=T,N},g={_p:n,$id:t,$onAction:uG.bind(null,f),$patch:y,$reset:E,$subscribe(x,T={}){const N=uG(d,x,T.detached,()=>M()),M=o.run(()=>eo(()=>n.state.value[t],k=>{(T.flush==="sync"?l:u)&&x({storeId:t,type:cw.direct,events:h},k)},Il({},c,T)));return N},$dispose:w},v=lp(g);n._s.set(t,v);const C=(n._a&&n._a.runWithContext||Tke)(()=>n._e.run(()=>(o=kW()).run(()=>e({action:b}))));for(const x in C){const T=C[x];if(Or(T)&&!Oke(T)||ic(T))i||(p&&xke(T)&&(Or(T)?T.value=p[x]:$N(T,p[x])),n.state.value[t][x]=T);else if(typeof T=="function"){const N=b(T,x);C[x]=N,a.actions[x]=T}}return Il(v,C),Il(Gt(v),C),Object.defineProperty(v,"$state",{get:()=>n.state.value[t],set:x=>{y(T=>{Il(T,x)})}}),n._p.forEach(x=>{Il(v,o.run(()=>x({store:v,app:n._a,pinia:n,options:a})))}),p&&i&&r.hydrate&&r.hydrate(v.$state,p),u=!0,l=!0,v}/*! #__NO_SIDE_EFFECTS__ */function mne(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,c){const u=xoe();return a=a||(u?jr(fne,null):null),a&&h6(a),a=dne,a._s.has(n)||(i?pne(n,e,s,a):Rke(n,s,a)),a._s.get(n)}return o.$id=n,o}function Nke(t){{const e=Gt(t),r={};for(const n in e){const s=e[n];s.effect?r[n]=We({get:()=>t[n],set(i){t[n]=i}}):(Or(s)||ic(s))&&(r[n]=l8(t,n))}return r}}const xp=mne("walletEVM",()=>{const t=vt({});function e(d){t.value=d}const r=We(()=>t.value.address),n=We(()=>r.value?r.value.slice(0,4)+"..."+r.value.slice(-4):""),s=We(()=>{var d;return(d=t.value)==null?void 0:d.isConnected}),i=vt({});function o(d){i.value=d}const a=We(()=>i.value.chainId),c=We(()=>{var d;return(d=i.value.caipNetwork)==null?void 0:d.chainNamespace}),u=vt(0);function l(d){u.value=d}return{AccountInfo:t,setAccountInfo:e,ChainInfo:i,setChainInfo:o,Address:r,ShowAddress:n,ChainId:a,ChainNamespace:c,IsConnected:s,LastChainId:u,setLastChainId:l}},{persist:!0}),Bke="4ecc43bbc2c62ede7319b389f79685e7",kke={name:"AEON",description:"AEON AI Payment",url:"https://ai.aeon.xyz/#/",icons:["https://ai.aeon.xyz/favicon.ico"]},jke=new uke,p6=i5e({adapters:[jke],networks:[lne,qN,yke],defaultNetwork:qN,metadata:kke,projectId:Bke,features:{analytics:!1,email:!1,socials:!1,emailShowWallets:!1},enableWalletConnect:!1}),Dke=()=>{const{open:t}=r5e();t({view:"Connect"}).finally(()=>{})},Mke=()=>{const{disconnect:t}=e5e();t()};function Uke(){const t=p6.getIsConnectedState();return console.log("getIsConnectedState",t),t}function Lke(t){p6.switchNetwork(t)}p6.subscribeAccount(t=>{xp().setAccountInfo(t)});p6.subscribeNetwork(t=>{xp().setChainInfo(t)});const Fke={class:"w-5 animate-spin",src:Gae,alt:""},Hke=Rr({__name:"ConnectWallet",setup(t){const e=n5e(),r=vt(!1);eo(()=>e.open,s=>{console.log({open:s}),s?r.value=!0:r.value&&!s&&(r.value=!1)});async function n(){r.value||(r.value=!0,Dke())}return(s,i)=>(ct(),ir("button",{class:"bg-[#58f287] px-2 py-1 rounded text-base cursor-pointer flex items-center justify-center gap-1",onClick:n},[iI(ot("img",Fke,null,512),[[fI,Se(r)]]),i[0]||(i[0]=ot("span",null,"Connect wallet",-1))]))}}),qke="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='24'%20height='24'%20rx='12'%20fill='url(%23pattern0_37330_2707)'/%3e%3cdefs%3e%3cpattern%20id='pattern0_37330_2707'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0_37330_2707'%20transform='scale(0.0078125)'/%3e%3c/pattern%3e%3cimage%20id='image0_37330_2707'%20width='128'%20height='128'%20preserveAspectRatio='none'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAgKADAAQAAAABAAAAgAAAAABIjgR3AAADBElEQVR4Ae2dsXFTQRgGEaNOSCmALlwGMUMdFEDkGujADTigElog9wWenX/fnTyzznz+7vufdnUOniT79vL366crv/58/4nqn37/QnkafrTr+UwfQHmXQAJcnrgtARiZuyEBLk/clgCMzN2QAJcnbksARuZuSIDLE7clACNzNyTA5YnbEoCRuRsS4PLEbQnAyNwNCXB54rYEYGTuhtuPb89u45u2q+/vvxmnf0tfP6AX0AmgxOR8AmSgtC4BlJicT4AMlNYlgBKT8wmQgdK6BFBicj4BMlBalwBKTM4nQAZK6xJAicn5BMhAaV0CKDE5nwAZKK1LACUm529Xfz6AXu/V998f7fWJTgB9hsj5BMhAaV0CKDE5nwAZKK1LACUm5xMgA6V1CaDE5HwCZKC0LgGUmJxPgAyU1iWAEpPzCZCB0roEUGJyPgEyUFqXAEpMzt/p/fdHu58u8xjXUZ6dgDHyWUECZvzGuxMwRjgrSMCM33h3AsYIZwUJmPEb707AGOGsIAEzfuPdCRgjnBUkYMZvvDsBY4SzggTM+I13J2CMcFaQgBm/8e4EjBHOCvp7Qe/wo/f336lbftwJWJDsXUjAXt7LtAQsSPYuJGAv72VaAhYkexcSsJf3Mi0BC5K9CwnYy3uZloAFyd6FBOzlvUxLwIJk70IC9vJepiVgQbJ3IQF7eS/TErAg2btwp+/3v/r++NX99PFSHbS/E0AJy/kEyEBpXQIoMTmfABkorUsAJSbnEyADpXUJoMTkfAJkoLQuAZSYnE+ADJTWJYASk/MJkIHSugRQYnI+ATJQWpcASkzO32nfl3+vdMuHzl/9eDsBh58eCUjAYQKHx3cCEnCYwOHxnYAEHCZweHwnIAGHCRwe3wlIwGECh8d3AhJwmMDh8Z2ABBwmcHj85f9PmL7fn76/nvJ7tOvpVxA1KOcTIAOldQmgxOR8AmSgtC4BlJicT4AMlNYlgBKT8wmQgdK6BFBicj4BMlBalwBKTM4nQAZK6xJAicn5BMhAaV0CKDE5/x8R0y2HIfrs1wAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",zke="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5312%2012.1846L16.6646%2010.0513L14.5312%207.91797'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.13281%2010.0508H16.6078'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.79948%2016.6673C6.11615%2016.6673%203.13281%2014.1673%203.13281%2010.0007C3.13281%205.83398%206.11615%203.33398%209.79948%203.33398'%20stroke='%23191B1F'%20stroke-width='1.5'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function S1(t){const e=xp(),{IsConnected:r,Address:n,ChainId:s,ShowAddress:i,ChainNamespace:o}=Nke(e);return vK(()=>{const a=r.value&&n.value&&s.value&&o.value,c=!r.value&&!n.value&&s.value&&o.value;(a||c)&&(t==null||t({IsConnected:r.value,Address:n.value,ChainId:s.value,ChainNamespace:o.value}))}),{IsConnected:r,Address:n,ChainId:s,ShowAddress:i,WalletAddress:n}}const $ke={class:"flex items-center gap-2"},Vke={class:"flex items-center gap-1"},Gke=Rr({__name:"AccountInfo",emits:["disconnect"],setup(t,{emit:e}){const{ShowAddress:r}=S1(),n=e;return(s,i)=>(ct(),ir("div",$ke,[ot("div",Vke,[i[1]||(i[1]=ot("img",{src:qke,alt:""},null,-1)),ot("span",null,ms(Se(r)),1)]),ot("div",{class:"flex items-center cursor-pointer",onClick:i[0]||(i[0]=()=>n("disconnect"))},[...i[2]||(i[2]=[ot("img",{class:"w-5",src:zke,alt:""},null,-1)])])]))}});function gne(t,e){return function(){return t.apply(e,arguments)}}const{toString:Wke}=Object.prototype,{getPrototypeOf:V4}=Object,{iterator:m6,toStringTag:yne}=Symbol,g6=(t=>e=>{const r=Wke.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),_a=t=>(t=t.toLowerCase(),e=>g6(e)===t),y6=t=>e=>typeof e===t,{isArray:Bg}=Array,fg=y6("undefined");function HE(t){return t!==null&&!fg(t)&&t.constructor!==null&&!fg(t.constructor)&&gi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bne=_a("ArrayBuffer");function Kke(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bne(t.buffer),e}const Zke=y6("string"),gi=y6("function"),wne=y6("number"),qE=t=>t!==null&&typeof t=="object",Yke=t=>t===!0||t===!1,ZS=t=>{if(g6(t)!=="object")return!1;const e=V4(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(yne in t)&&!(m6 in t)},Jke=t=>{if(!qE(t)||HE(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Qke=_a("Date"),Xke=_a("File"),eje=_a("Blob"),tje=_a("FileList"),rje=t=>qE(t)&&gi(t.pipe),nje=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gi(t.append)&&((e=g6(t))==="formdata"||e==="object"&&gi(t.toString)&&t.toString()==="[object FormData]"))},sje=_a("URLSearchParams"),[ije,oje,aje,cje]=["ReadableStream","Request","Response","Headers"].map(_a),uje=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zE(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Bg(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(HE(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,t[a],a,t)}}function Ene(t,e){if(HE(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const dh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vne=t=>!fg(t)&&t!==dh;function VN(){const{caseless:t,skipUndefined:e}=vne(this)&&this||{},r={},n=(s,i)=>{const o=t&&Ene(r,i)||i;ZS(r[o])&&ZS(s)?r[o]=VN(r[o],s):ZS(s)?r[o]=VN({},s):Bg(s)?r[o]=s.slice():(!e||!fg(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&zE(arguments[s],n);return r}const lje=(t,e,r,{allOwnKeys:n}={})=>(zE(e,(s,i)=>{r&&gi(s)?t[i]=gne(s,r):t[i]=s},{allOwnKeys:n}),t),dje=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fje=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},hje=(t,e,r,n)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&V4(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},pje=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},mje=t=>{if(!t)return null;if(Bg(t))return t;let e=t.length;if(!wne(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},gje=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&V4(Uint8Array)),yje=(t,e)=>{const n=(t&&t[m6]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},bje=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},wje=_a("HTMLFormElement"),Eje=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),dG=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),vje=_a("RegExp"),_ne=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};zE(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},_je=t=>{_ne(t,(e,r)=>{if(gi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(gi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Aje=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Bg(t)?n(t):n(String(t).split(e)),r},Cje=()=>{},Sje=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ije(t){return!!(t&&gi(t.append)&&t[yne]==="FormData"&&t[m6])}const Tje=t=>{const e=new Array(10),r=(n,s)=>{if(qE(n)){if(e.indexOf(n)>=0)return;if(HE(n))return n;if(!("toJSON"in n)){e[s]=n;const i=Bg(n)?[]:{};return zE(n,(o,a)=>{const c=r(o,s+1);!fg(c)&&(i[a]=c)}),e[s]=void 0,i}}return n};return r(t,0)},Pje=_a("AsyncFunction"),xje=t=>t&&(qE(t)||gi(t))&&gi(t.then)&&gi(t.catch),Ane=((t,e)=>t?setImmediate:e?((r,n)=>(dh.addEventListener("message",({source:s,data:i})=>{s===dh&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),dh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gi(dh.postMessage)),Oje=typeof queueMicrotask<"u"?queueMicrotask.bind(dh):typeof process<"u"&&process.nextTick||Ane,Rje=t=>t!=null&&gi(t[m6]),_e={isArray:Bg,isArrayBuffer:bne,isBuffer:HE,isFormData:nje,isArrayBufferView:Kke,isString:Zke,isNumber:wne,isBoolean:Yke,isObject:qE,isPlainObject:ZS,isEmptyObject:Jke,isReadableStream:ije,isRequest:oje,isResponse:aje,isHeaders:cje,isUndefined:fg,isDate:Qke,isFile:Xke,isBlob:eje,isRegExp:vje,isFunction:gi,isStream:rje,isURLSearchParams:sje,isTypedArray:gje,isFileList:tje,forEach:zE,merge:VN,extend:lje,trim:uje,stripBOM:dje,inherits:fje,toFlatObject:hje,kindOf:g6,kindOfTest:_a,endsWith:pje,toArray:mje,forEachEntry:yje,matchAll:bje,isHTMLForm:wje,hasOwnProperty:dG,hasOwnProp:dG,reduceDescriptors:_ne,freezeMethods:_je,toObjectSet:Aje,toCamelCase:Eje,noop:Cje,toFiniteNumber:Sje,findKey:Ene,global:dh,isContextDefined:vne,isSpecCompliantForm:Ije,toJSONObject:Tje,isAsyncFn:Pje,isThenable:xje,setImmediate:Ane,asap:Oje,isIterable:Rje};function Et(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}_e.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const Cne=Et.prototype,Sne={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Sne[t]={value:t}});Object.defineProperties(Et,Sne);Object.defineProperty(Cne,"isAxiosError",{value:!0});Et.from=(t,e,r,n,s,i)=>{const o=Object.create(Cne);_e.toFlatObject(t,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return Et.call(o,a,c,r,n,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const Nje=null;function GN(t){return _e.isPlainObject(t)||_e.isArray(t)}function Ine(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function fG(t,e,r){return t?t.concat(e).map(function(s,i){return s=Ine(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Bje(t){return _e.isArray(t)&&!t.some(GN)}const kje=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function b6(t,e,r){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=_e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!_e.isUndefined(y[m])});const n=r.metaTokens,s=r.visitor||l,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(_e.isDate(p))return p.toISOString();if(_e.isBoolean(p))return p.toString();if(!c&&_e.isBlob(p))throw new Et("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(p)||_e.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function l(p,m,y){let E=p;if(p&&!y&&typeof p=="object"){if(_e.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(_e.isArray(p)&&Bje(p)||(_e.isFileList(p)||_e.endsWith(m,"[]"))&&(E=_e.toArray(p)))return m=Ine(m),E.forEach(function(b,g){!(_e.isUndefined(b)||b===null)&&e.append(o===!0?fG([m],g,i):o===null?m:m+"[]",u(b))}),!1}return GN(p)?!0:(e.append(fG(y,m,i),u(p)),!1)}const d=[],f=Object.assign(kje,{defaultVisitor:l,convertValue:u,isVisitable:GN});function h(p,m){if(!_e.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),_e.forEach(p,function(E,w){(!(_e.isUndefined(E)||E===null)&&s.call(e,E,_e.isString(w)?w.trim():w,m,f))===!0&&h(E,m?m.concat(w):[w])}),d.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return h(t),e}function hG(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function G4(t,e){this._pairs=[],t&&b6(t,this,e)}const Tne=G4.prototype;Tne.append=function(e,r){this._pairs.push([e,r])};Tne.toString=function(e){const r=e?function(n){return e.call(this,n,hG)}:hG;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function jje(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pne(t,e,r){if(!e)return t;const n=r&&r.encode||jje;_e.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=_e.isURLSearchParams(e)?e.toString():new G4(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class pG{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const xne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dje=typeof URLSearchParams<"u"?URLSearchParams:G4,Mje=typeof FormData<"u"?FormData:null,Uje=typeof Blob<"u"?Blob:null,Lje={isBrowser:!0,classes:{URLSearchParams:Dje,FormData:Mje,Blob:Uje},protocols:["http","https","file","blob","url","data"]},W4=typeof window<"u"&&typeof document<"u",WN=typeof navigator=="object"&&navigator||void 0,Fje=W4&&(!WN||["ReactNative","NativeScript","NS"].indexOf(WN.product)<0),Hje=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qje=W4&&window.location.href||"http://localhost",zje=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:W4,hasStandardBrowserEnv:Fje,hasStandardBrowserWebWorkerEnv:Hje,navigator:WN,origin:qje},Symbol.toStringTag,{value:"Module"})),ws={...zje,...Lje};function $je(t,e){return b6(t,new ws.classes.URLSearchParams,{visitor:function(r,n,s,i){return ws.isNode&&_e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Vje(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gje(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function One(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=r.length;return o=!o&&_e.isArray(s)?s.length:o,c?(_e.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!_e.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&_e.isArray(s[o])&&(s[o]=Gje(s[o])),!a)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const r={};return _e.forEachEntry(t,(n,s)=>{e(Vje(n),s,r,0)}),r}return null}function Wje(t,e,r){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const $E={transitional:xne,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=_e.isObject(e);if(i&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return s?JSON.stringify(One(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $je(e,this.formSerializer).toString();if((a=_e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return b6(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Wje(e)):e}],transformResponse:[function(e){const r=this.transitional||$E.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Et.from(a,Et.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ws.classes.FormData,Blob:ws.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{$E.headers[t]={}});const Kje=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zje=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&Kje[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},mG=Symbol("internals");function Ib(t){return t&&String(t).trim().toLowerCase()}function YS(t){return t===!1||t==null?t:_e.isArray(t)?t.map(YS):String(t)}function Yje(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Jje=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xO(t,e,r,n,s){if(_e.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!_e.isString(e)){if(_e.isString(n))return e.indexOf(n)!==-1;if(_e.isRegExp(n))return n.test(e)}}function Qje(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Xje(t,e){const r=_e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let yi=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(a,c,u){const l=Ib(c);if(!l)throw new Error("header name must be a non-empty string");const d=_e.findKey(s,l);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=YS(a))}const o=(a,c)=>_e.forEach(a,(u,l)=>i(u,l,c));if(_e.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(_e.isString(e)&&(e=e.trim())&&!Jje(e))o(Zje(e),r);else if(_e.isObject(e)&&_e.isIterable(e)){let a={},c,u;for(const l of e){if(!_e.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?_e.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Ib(e),e){const n=_e.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return Yje(s);if(_e.isFunction(r))return r.call(this,s,n);if(_e.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ib(e),e){const n=_e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||xO(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=Ib(o),o){const a=_e.findKey(n,o);a&&(!r||xO(n,n[a],a,r))&&(delete n[a],s=!0)}}return _e.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||xO(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return _e.forEach(this,(s,i)=>{const o=_e.findKey(n,i);if(o){r[o]=YS(s),delete r[i];return}const a=e?Qje(i):String(i).trim();a!==i&&delete r[i],r[a]=YS(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return _e.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&_e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[mG]=this[mG]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Ib(o);n[a]||(Xje(s,o),n[a]=!0)}return _e.isArray(e)?e.forEach(i):i(e),this}};yi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(yi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});_e.freezeMethods(yi);function OO(t,e){const r=this||$E,n=e||r,s=yi.from(n.headers);let i=n.data;return _e.forEach(t,function(a){i=a.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Rne(t){return!!(t&&t.__CANCEL__)}function kg(t,e,r){Et.call(this,t??"canceled",Et.ERR_CANCELED,e,r),this.name="CanceledError"}_e.inherits(kg,Et,{__CANCEL__:!0});function Nne(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Et("Request failed with status code "+r.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function eDe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function tDe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=n[i];o||(o=u),r[s]=c,n[s]=u;let d=i,f=0;for(;d!==s;)f+=r[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const h=l&&u-l;return h?Math.round(f*1e3/h):void 0}}function rDe(t,e){let r=0,n=1e3/e,s,i;const o=(u,l=Date.now())=>{r=l,s=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const l=Date.now(),d=l-r;d>=n?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-d)))},()=>s&&o(s)]}const uT=(t,e,r=3)=>{let n=0;const s=tDe(50,250);return rDe(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,u=s(c),l=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},gG=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},yG=t=>(...e)=>_e.asap(()=>t(...e)),nDe=ws.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,ws.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(ws.origin),ws.navigator&&/(msie|trident)/i.test(ws.navigator.userAgent)):()=>!0,sDe=ws.hasStandardBrowserEnv?{write(t,e,r,n,s,i,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];_e.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),_e.isString(n)&&a.push(`path=${n}`),_e.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),_e.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function iDe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function oDe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Bne(t,e,r){let n=!iDe(e);return t&&(n||r==!1)?oDe(t,e):e}const bG=t=>t instanceof yi?{...t}:t;function ip(t,e){e=e||{};const r={};function n(u,l,d,f){return _e.isPlainObject(u)&&_e.isPlainObject(l)?_e.merge.call({caseless:f},u,l):_e.isPlainObject(l)?_e.merge({},l):_e.isArray(l)?l.slice():l}function s(u,l,d,f){if(_e.isUndefined(l)){if(!_e.isUndefined(u))return n(void 0,u,d,f)}else return n(u,l,d,f)}function i(u,l){if(!_e.isUndefined(l))return n(void 0,l)}function o(u,l){if(_e.isUndefined(l)){if(!_e.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,d){if(d in e)return n(u,l);if(d in t)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,d)=>s(bG(u),bG(l),d,!0)};return _e.forEach(Object.keys({...t,...e}),function(l){const d=c[l]||s,f=d(t[l],e[l],l);_e.isUndefined(f)&&d!==a||(r[l]=f)}),r}const kne=t=>{const e=ip({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=yi.from(o),e.url=Pne(Bne(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),_e.isFormData(r)){if(ws.hasStandardBrowserEnv||ws.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(_e.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,d])=>{u.includes(l.toLowerCase())&&o.set(l,d)})}}if(ws.hasStandardBrowserEnv&&(n&&_e.isFunction(n)&&(n=n(e)),n||n!==!1&&nDe(e.url))){const c=s&&i&&sDe.read(i);c&&o.set(s,c)}return e},aDe=typeof XMLHttpRequest<"u",cDe=aDe&&function(t){return new Promise(function(r,n){const s=kne(t);let i=s.data;const o=yi.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,l,d,f,h,p;function m(){h&&h(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function E(){if(!y)return;const b=yi.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:t,request:y};Nne(function(C){r(C),m()},function(C){n(C),m()},v),y=null}"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(E)},y.onabort=function(){y&&(n(new Et("Request aborted",Et.ECONNABORTED,t,y)),y=null)},y.onerror=function(g){const v=g&&g.message?g.message:"Network Error",A=new Et(v,Et.ERR_NETWORK,t,y);A.event=g||null,n(A),y=null},y.ontimeout=function(){let g=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const v=s.transitional||xne;s.timeoutErrorMessage&&(g=s.timeoutErrorMessage),n(new Et(g,v.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&_e.forEach(o.toJSON(),function(g,v){y.setRequestHeader(v,g)}),_e.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([f,p]=uT(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([d,h]=uT(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(l=b=>{y&&(n(!b||b.type?new kg(null,t,y):b),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const w=eDe(s.url);if(w&&ws.protocols.indexOf(w)===-1){n(new Et("Unsupported protocol "+w+":",Et.ERR_BAD_REQUEST,t));return}y.send(i||null)})},uDe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,a();const l=u instanceof Error?u:this.reason;n.abort(l instanceof Et?l:new kg(l instanceof Error?l.message:l))}};let o=e&&setTimeout(()=>{o=null,i(new Et(`timeout ${e} of ms exceeded`,Et.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>_e.asap(a),c}},lDe=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},dDe=async function*(t,e){for await(const r of fDe(t))yield*lDe(r,e)},fDe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},wG=(t,e,r,n)=>{const s=dDe(t,e);let i=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await s.next();if(u){a(),c.close();return}let d=l.byteLength;if(r){let f=i+=d;r(f)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},EG=64*1024,{isFunction:bS}=_e,hDe=(({Request:t,Response:e})=>({Request:t,Response:e}))(_e.global),{ReadableStream:vG,TextEncoder:_G}=_e.global,AG=(t,...e)=>{try{return!!t(...e)}catch{return!1}},pDe=t=>{t=_e.merge.call({skipUndefined:!0},hDe,t);const{fetch:e,Request:r,Response:n}=t,s=e?bS(e):typeof fetch=="function",i=bS(r),o=bS(n);if(!s)return!1;const a=s&&bS(vG),c=s&&(typeof _G=="function"?(p=>m=>p.encode(m))(new _G):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=i&&a&&AG(()=>{let p=!1;const m=new r(ws.origin,{body:new vG,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),l=o&&a&&AG(()=>_e.isReadableStream(new n("").body)),d={stream:l&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(m,y)=>{let E=m&&m[p];if(E)return E.call(m);throw new Et(`Response type '${p}' is not supported`,Et.ERR_NOT_SUPPORT,y)})});const f=async p=>{if(p==null)return 0;if(_e.isBlob(p))return p.size;if(_e.isSpecCompliantForm(p))return(await new r(ws.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(p)||_e.isArrayBuffer(p))return p.byteLength;if(_e.isURLSearchParams(p)&&(p=p+""),_e.isString(p))return(await c(p)).byteLength},h=async(p,m)=>{const y=_e.toFiniteNumber(p.getContentLength());return y??f(m)};return async p=>{let{url:m,method:y,data:E,signal:w,cancelToken:b,timeout:g,onDownloadProgress:v,onUploadProgress:A,responseType:C,headers:x,withCredentials:T="same-origin",fetchOptions:N}=kne(p),M=e||fetch;C=C?(C+"").toLowerCase():"text";let k=uDe([w,b&&b.toAbortSignal()],g),B=null;const U=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let I;try{if(A&&u&&y!=="get"&&y!=="head"&&(I=await h(x,E))!==0){let D=new r(m,{method:"POST",body:E,duplex:"half"}),j;if(_e.isFormData(E)&&(j=D.headers.get("content-type"))&&x.setContentType(j),D.body){const[F,q]=gG(I,uT(yG(A)));E=wG(D.body,EG,F,q)}}_e.isString(T)||(T=T?"include":"omit");const S=i&&"credentials"in r.prototype,_={...N,signal:k,method:y.toUpperCase(),headers:x.normalize().toJSON(),body:E,duplex:"half",credentials:S?T:void 0};B=i&&new r(m,_);let R=await(i?M(B,N):M(m,_));const O=l&&(C==="stream"||C==="response");if(l&&(v||O&&U)){const D={};["status","statusText","headers"].forEach(z=>{D[z]=R[z]});const j=_e.toFiniteNumber(R.headers.get("content-length")),[F,q]=v&&gG(j,uT(yG(v),!0))||[];R=new n(wG(R.body,EG,F,()=>{q&&q(),U&&U()}),D)}C=C||"text";let P=await d[_e.findKey(d,C)||"text"](R,p);return!O&&U&&U(),await new Promise((D,j)=>{Nne(D,j,{data:P,headers:yi.from(R.headers),status:R.status,statusText:R.statusText,config:p,request:B})})}catch(S){throw U&&U(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,p,B),{cause:S.cause||S}):Et.from(S,S&&S.code,p,B)}}},mDe=new Map,jne=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let o=i.length,a=o,c,u,l=mDe;for(;a--;)c=i[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:pDe(e)),l=u;return u};jne();const K4={http:Nje,xhr:cDe,fetch:{get:jne}};_e.forEach(K4,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const CG=t=>`- ${t}`,gDe=t=>_e.isFunction(t)||t===null||t===!1;function yDe(t,e){t=_e.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let o=0;o<r;o++){n=t[o];let a;if(s=n,!gDe(n)&&(s=K4[(a=String(n)).toLowerCase()],s===void 0))throw new Et(`Unknown adapter '${a}'`);if(s&&(_e.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(CG).join(`
`):" "+CG(o[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const Dne={getAdapter:yDe,adapters:K4};function RO(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new kg(null,t)}function SG(t){return RO(t),t.headers=yi.from(t.headers),t.data=OO.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Dne.getAdapter(t.adapter||$E.adapter,t)(t).then(function(n){return RO(t),n.data=OO.call(t,t.transformResponse,n),n.headers=yi.from(n.headers),n},function(n){return Rne(n)||(RO(t),n&&n.response&&(n.response.data=OO.call(t,t.transformResponse,n.response),n.response.headers=yi.from(n.response.headers))),Promise.reject(n)})}const Mne="1.13.2",w6={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{w6[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const IG={};w6.transitional=function(e,r,n){function s(i,o){return"[Axios v"+Mne+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new Et(s(o," has been removed"+(r?" in "+r:"")),Et.ERR_DEPRECATED);return r&&!IG[o]&&(IG[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};w6.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function bDe(t,e,r){if(typeof t!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new Et("option "+i+" must be "+c,Et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Et("Unknown option "+i,Et.ERR_BAD_OPTION)}}const JS={assertOptions:bDe,validators:w6},Ba=JS.validators;let zh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pG,response:new pG}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ip(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&JS.assertOptions(n,{silentJSONParsing:Ba.transitional(Ba.boolean),forcedJSONParsing:Ba.transitional(Ba.boolean),clarifyTimeoutError:Ba.transitional(Ba.boolean)},!1),s!=null&&(_e.isFunction(s)?r.paramsSerializer={serialize:s}:JS.assertOptions(s,{encode:Ba.function,serialize:Ba.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),JS.assertOptions(r,{baseUrl:Ba.spelling("baseURL"),withXsrfToken:Ba.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&_e.merge(i.common,i[r.method]);i&&_e.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=yi.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let l,d=0,f;if(!c){const p=[SG.bind(this),void 0];for(p.unshift(...a),p.push(...u),f=p.length,l=Promise.resolve(r);d<f;)l=l.then(p[d++],p[d++]);return l}f=a.length;let h=r;for(;d<f;){const p=a[d++],m=a[d++];try{h=p(h)}catch(y){m.call(this,y);break}}try{l=SG.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=ip(this.defaults,e);const r=Bne(e.baseURL,e.url,e.allowAbsoluteUrls);return Pne(r,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){zh.prototype[e]=function(r,n){return this.request(ip(n||{},{method:e,url:r,data:(n||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,a){return this.request(ip(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}zh.prototype[e]=r(),zh.prototype[e+"Form"]=r(!0)});let wDe=class Une{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new kg(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Une(function(s){e=s}),cancel:e}}};function EDe(t){return function(r){return t.apply(null,r)}}function vDe(t){return _e.isObject(t)&&t.isAxiosError===!0}const KN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(KN).forEach(([t,e])=>{KN[e]=t});function Lne(t){const e=new zh(t),r=gne(zh.prototype.request,e);return _e.extend(r,zh.prototype,e,{allOwnKeys:!0}),_e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return Lne(ip(t,s))},r}const un=Lne($E);un.Axios=zh;un.CanceledError=kg;un.CancelToken=wDe;un.isCancel=Rne;un.VERSION=Mne;un.toFormData=b6;un.AxiosError=Et;un.Cancel=un.CanceledError;un.all=function(e){return Promise.all(e)};un.spread=EDe;un.isAxiosError=vDe;un.mergeConfig=ip;un.AxiosHeaders=yi;un.formToJSON=t=>One(_e.isHTMLForm(t)?new FormData(t):t);un.getAdapter=Dne.getAdapter;un.HttpStatusCode=KN;un.default=un;const{Axios:pqe,AxiosError:mqe,CanceledError:gqe,isCancel:yqe,CancelToken:bqe,VERSION:wqe,all:Eqe,Cancel:vqe,isAxiosError:_qe,spread:Aqe,toFormData:Cqe,AxiosHeaders:Sqe,HttpStatusCode:Iqe,formToJSON:Tqe,getAdapter:Pqe,mergeConfig:xqe}=un,_De=600*1e3,Fne=Symbol(),QS="el",ADe="is-",jf=(t,e,r,n,s)=>{let i=`${t}-${e}`;return r&&(i+=`-${r}`),n&&(i+=`__${n}`),s&&(i+=`--${s}`),i},Hne=Symbol("namespaceContextKey"),qne=t=>{const e=t||(qs()?jr(Hne,vt(QS)):vt(QS));return We(()=>Se(e)||QS)},lT=(t,e)=>{const r=qne(e);return{namespace:r,b:(m="")=>jf(r.value,t,m,"",""),e:m=>m?jf(r.value,t,"",m,""):"",m:m=>m?jf(r.value,t,"","",m):"",be:(m,y)=>m&&y?jf(r.value,t,m,y,""):"",em:(m,y)=>m&&y?jf(r.value,t,"",m,y):"",bm:(m,y)=>m&&y?jf(r.value,t,m,"",y):"",bem:(m,y,E)=>m&&y&&E?jf(r.value,t,m,y,E):"",is:(m,...y)=>{const E=y.length>=1?y[0]:!0;return m&&E?`${ADe}${m}`:""},cssVar:m=>{const y={};for(const E in m)m[E]&&(y[`--${r.value}-${E}`]=m[E]);return y},cssVarName:m=>`--${r.value}-${m}`,cssVarBlock:m=>{const y={};for(const E in m)m[E]&&(y[`--${r.value}-${t}-${E}`]=m[E]);return y},cssVarBlockName:m=>`--${r.value}-${t}-${m}`}};var CDe=typeof global=="object"&&global&&global.Object===Object&&global,SDe=typeof self=="object"&&self&&self.Object===Object&&self,Z4=CDe||SDe||Function("return this")(),Pd=Z4.Symbol,zne=Object.prototype,IDe=zne.hasOwnProperty,TDe=zne.toString,Tb=Pd?Pd.toStringTag:void 0;function PDe(t){var e=IDe.call(t,Tb),r=t[Tb];try{t[Tb]=void 0;var n=!0}catch{}var s=TDe.call(t);return n&&(e?t[Tb]=r:delete t[Tb]),s}var xDe=Object.prototype,ODe=xDe.toString;function RDe(t){return ODe.call(t)}var NDe="[object Null]",BDe="[object Undefined]",TG=Pd?Pd.toStringTag:void 0;function Y4(t){return t==null?t===void 0?BDe:NDe:TG&&TG in Object(t)?PDe(t):RDe(t)}function J4(t){return t!=null&&typeof t=="object"}var kDe="[object Symbol]";function Q4(t){return typeof t=="symbol"||J4(t)&&Y4(t)==kDe}function jDe(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var VE=Array.isArray,PG=Pd?Pd.prototype:void 0,xG=PG?PG.toString:void 0;function $ne(t){if(typeof t=="string")return t;if(VE(t))return jDe(t,$ne)+"";if(Q4(t))return xG?xG.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function dT(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function DDe(t){return t}var MDe="[object AsyncFunction]",UDe="[object Function]",LDe="[object GeneratorFunction]",FDe="[object Proxy]";function HDe(t){if(!dT(t))return!1;var e=Y4(t);return e==UDe||e==LDe||e==MDe||e==FDe}var NO=Z4["__core-js_shared__"],OG=(function(){var t=/[^.]+$/.exec(NO&&NO.keys&&NO.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function qDe(t){return!!OG&&OG in t}var zDe=Function.prototype,$De=zDe.toString;function VDe(t){if(t!=null){try{return $De.call(t)}catch{}try{return t+""}catch{}}return""}var GDe=/[\\^$.*+?()[\]{}|]/g,WDe=/^\[object .+?Constructor\]$/,KDe=Function.prototype,ZDe=Object.prototype,YDe=KDe.toString,JDe=ZDe.hasOwnProperty,QDe=RegExp("^"+YDe.call(JDe).replace(GDe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function XDe(t){if(!dT(t)||qDe(t))return!1;var e=HDe(t)?QDe:WDe;return e.test(VDe(t))}function eMe(t,e){return t==null?void 0:t[e]}function X4(t,e){var r=eMe(t,e);return XDe(r)?r:void 0}function tMe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var rMe=800,nMe=16,sMe=Date.now;function iMe(t){var e=0,r=0;return function(){var n=sMe(),s=nMe-(n-r);if(r=n,s>0){if(++e>=rMe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function oMe(t){return function(){return t}}var fT=(function(){try{var t=X4(Object,"defineProperty");return t({},"",{}),t}catch{}})(),aMe=fT?function(t,e){return fT(t,"toString",{configurable:!0,enumerable:!1,value:oMe(e),writable:!0})}:DDe,cMe=iMe(aMe),uMe=9007199254740991,lMe=/^(?:0|[1-9]\d*)$/;function Vne(t,e){var r=typeof t;return e=e??uMe,!!e&&(r=="number"||r!="symbol"&&lMe.test(t))&&t>-1&&t%1==0&&t<e}function dMe(t,e,r){e=="__proto__"&&fT?fT(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Gne(t,e){return t===e||t!==t&&e!==e}var fMe=Object.prototype,hMe=fMe.hasOwnProperty;function pMe(t,e,r){var n=t[e];(!(hMe.call(t,e)&&Gne(n,r))||r===void 0&&!(e in t))&&dMe(t,e,r)}var RG=Math.max;function mMe(t,e,r){return e=RG(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,i=RG(n.length-e,0),o=Array(i);++s<i;)o[s]=n[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=n[s];return a[e]=r(o),tMe(t,this,a)}}var gMe=9007199254740991;function yMe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gMe}var bMe="[object Arguments]";function NG(t){return J4(t)&&Y4(t)==bMe}var Wne=Object.prototype,wMe=Wne.hasOwnProperty,EMe=Wne.propertyIsEnumerable,Kne=NG((function(){return arguments})())?NG:function(t){return J4(t)&&wMe.call(t,"callee")&&!EMe.call(t,"callee")},vMe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_Me=/^\w*$/;function AMe(t,e){if(VE(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Q4(t)?!0:_Me.test(t)||!vMe.test(t)||e!=null&&t in Object(e)}var I1=X4(Object,"create");function CMe(){this.__data__=I1?I1(null):{},this.size=0}function SMe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var IMe="__lodash_hash_undefined__",TMe=Object.prototype,PMe=TMe.hasOwnProperty;function xMe(t){var e=this.__data__;if(I1){var r=e[t];return r===IMe?void 0:r}return PMe.call(e,t)?e[t]:void 0}var OMe=Object.prototype,RMe=OMe.hasOwnProperty;function NMe(t){var e=this.__data__;return I1?e[t]!==void 0:RMe.call(e,t)}var BMe="__lodash_hash_undefined__";function kMe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=I1&&e===void 0?BMe:e,this}function op(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}op.prototype.clear=CMe;op.prototype.delete=SMe;op.prototype.get=xMe;op.prototype.has=NMe;op.prototype.set=kMe;function jMe(){this.__data__=[],this.size=0}function E6(t,e){for(var r=t.length;r--;)if(Gne(t[r][0],e))return r;return-1}var DMe=Array.prototype,MMe=DMe.splice;function UMe(t){var e=this.__data__,r=E6(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():MMe.call(e,r,1),--this.size,!0}function LMe(t){var e=this.__data__,r=E6(e,t);return r<0?void 0:e[r][1]}function FMe(t){return E6(this.__data__,t)>-1}function HMe(t,e){var r=this.__data__,n=E6(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function jg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jg.prototype.clear=jMe;jg.prototype.delete=UMe;jg.prototype.get=LMe;jg.prototype.has=FMe;jg.prototype.set=HMe;var qMe=X4(Z4,"Map");function zMe(){this.size=0,this.__data__={hash:new op,map:new(qMe||jg),string:new op}}function $Me(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function v6(t,e){var r=t.__data__;return $Me(e)?r[typeof e=="string"?"string":"hash"]:r.map}function VMe(t){var e=v6(this,t).delete(t);return this.size-=e?1:0,e}function GMe(t){return v6(this,t).get(t)}function WMe(t){return v6(this,t).has(t)}function KMe(t,e){var r=v6(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Op(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Op.prototype.clear=zMe;Op.prototype.delete=VMe;Op.prototype.get=GMe;Op.prototype.has=WMe;Op.prototype.set=KMe;var ZMe="Expected a function";function eB(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ZMe);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=t.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(eB.Cache||Op),r}eB.Cache=Op;var YMe=500;function JMe(t){var e=eB(t,function(n){return r.size===YMe&&r.clear(),n}),r=e.cache;return e}var QMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XMe=/\\(\\)?/g,eUe=JMe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(QMe,function(r,n,s,i){e.push(s?i.replace(XMe,"$1"):n||r)}),e});function tUe(t){return t==null?"":$ne(t)}function _6(t,e){return VE(t)?t:AMe(t,e)?[t]:eUe(tUe(t))}function tB(t){if(typeof t=="string"||Q4(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Zne(t,e){e=_6(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[tB(e[r++])];return r&&r==n?t:void 0}function rUe(t,e,r){var n=t==null?void 0:Zne(t,e);return n===void 0?r:n}function nUe(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var BG=Pd?Pd.isConcatSpreadable:void 0;function sUe(t){return VE(t)||Kne(t)||!!(BG&&t&&t[BG])}function iUe(t,e,r,n,s){var i=-1,o=t.length;for(r||(r=sUe),s||(s=[]);++i<o;){var a=t[i];r(a)?nUe(s,a):s[s.length]=a}return s}function oUe(t){var e=t==null?0:t.length;return e?iUe(t):[]}function aUe(t){return cMe(mMe(t,void 0,oUe),t+"")}function cUe(t,e){return t!=null&&e in Object(t)}function uUe(t,e,r){e=_6(e,t);for(var n=-1,s=e.length,i=!1;++n<s;){var o=tB(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=s?i:(s=t==null?0:t.length,!!s&&yMe(s)&&Vne(o,s)&&(VE(t)||Kne(t)))}function lUe(t,e){return t!=null&&uUe(t,e,cUe)}function Yne(t){for(var e=-1,r=t==null?0:t.length,n={};++e<r;){var s=t[e];n[s[0]]=s[1]}return n}function dUe(t){return t==null}function fUe(t,e,r,n){if(!dT(t))return t;e=_6(e,t);for(var s=-1,i=e.length,o=i-1,a=t;a!=null&&++s<i;){var c=tB(e[s]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(s!=o){var l=a[c];u=void 0,u===void 0&&(u=dT(l)?l:Vne(e[s+1])?[]:{})}pMe(a,c,u),a=a[c]}return t}function hUe(t,e,r){for(var n=-1,s=e.length,i={};++n<s;){var o=e[n],a=Zne(t,o);r(a,o)&&fUe(i,_6(o,t),a)}return i}function pUe(t,e){return hUe(t,e,function(r,n){return lUe(t,n)})}var mUe=aUe(function(t,e){return t==null?{}:pUe(t,e)});const Jne=t=>t===void 0,hT=t=>typeof t=="number",kG=t=>typeof Element>"u"?!1:t instanceof Element,gUe=t=>dr(t)?!Number.isNaN(Number(t)):!1;var yUe=Object.defineProperty,bUe=Object.defineProperties,wUe=Object.getOwnPropertyDescriptors,jG=Object.getOwnPropertySymbols,EUe=Object.prototype.hasOwnProperty,vUe=Object.prototype.propertyIsEnumerable,DG=(t,e,r)=>e in t?yUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_Ue=(t,e)=>{for(var r in e||(e={}))EUe.call(e,r)&&DG(t,r,e[r]);if(jG)for(var r of jG(e))vUe.call(e,r)&&DG(t,r,e[r]);return t},AUe=(t,e)=>bUe(t,wUe(e));function CUe(t,e){var r;const n=F0();return vK(()=>{n.value=t()},AUe(_Ue({},e),{flush:(r=void 0)!=null?r:"sync"})),mw(n)}var MG;const Kd=typeof window<"u",SUe=t=>typeof t=="string",IUe=()=>{};Kd&&((MG=window==null?void 0:window.navigator)!=null&&MG.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function rB(t){return typeof t=="function"?t():Se(t)}function TUe(t){return t}function nB(t){return r8()?(jW(t),!0):!1}function PUe(t,e=!0){qs()?Od(t):e?t():Jo(t)}function xUe(t,e,r={}){const{immediate:n=!0}=r,s=vt(!1);let i=null;function o(){i&&(clearTimeout(i),i=null)}function a(){s.value=!1,o()}function c(...u){o(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,t(...u)},rB(e))}return n&&(s.value=!0,Kd&&c()),nB(a),{isPending:mw(s),start:c,stop:a}}function Qne(t){var e;const r=rB(t);return(e=r==null?void 0:r.$el)!=null?e:r}const Xne=Kd?window:void 0;function XS(...t){let e,r,n,s;if(SUe(t[0])||Array.isArray(t[0])?([r,n,s]=t,e=Xne):[e,r,n,s]=t,!e)return IUe;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(l=>l()),i.length=0},a=(l,d,f,h)=>(l.addEventListener(d,f,h),()=>l.removeEventListener(d,f,h)),c=eo(()=>[Qne(e),rB(s)],([l,d])=>{o(),l&&i.push(...r.flatMap(f=>n.map(h=>a(l,f,h,d))))},{immediate:!0,flush:"post"}),u=()=>{c(),o()};return nB(u),u}function OUe(t,e=!1){const r=vt(),n=()=>r.value=!!t();return n(),PUe(n,e),r}const UG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LG="__vueuse_ssr_handlers__";UG[LG]=UG[LG]||{};var FG=Object.getOwnPropertySymbols,RUe=Object.prototype.hasOwnProperty,NUe=Object.prototype.propertyIsEnumerable,BUe=(t,e)=>{var r={};for(var n in t)RUe.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&FG)for(var n of FG(t))e.indexOf(n)<0&&NUe.call(t,n)&&(r[n]=t[n]);return r};function kUe(t,e,r={}){const n=r,{window:s=Xne}=n,i=BUe(n,["window"]);let o;const a=OUe(()=>s&&"ResizeObserver"in s),c=()=>{o&&(o.disconnect(),o=void 0)},u=eo(()=>Qne(t),d=>{c(),a.value&&s&&d&&(o=new ResizeObserver(e),o.observe(d,i))},{immediate:!0,flush:"post"}),l=()=>{c(),u()};return nB(l),{isSupported:a,stop:l}}var HG;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(HG||(HG={}));var jUe=Object.defineProperty,qG=Object.getOwnPropertySymbols,DUe=Object.prototype.hasOwnProperty,MUe=Object.prototype.propertyIsEnumerable,zG=(t,e,r)=>e in t?jUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,UUe=(t,e)=>{for(var r in e||(e={}))DUe.call(e,r)&&zG(t,r,e[r]);if(qG)for(var r of qG(e))MUe.call(e,r)&&zG(t,r,e[r]);return t};const LUe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};UUe({linear:TUe},LUe);const $G={current:0},VG=vt(0),ese=2e3,GG=Symbol("elZIndexContextKey"),tse=Symbol("zIndexContextKey"),FUe=t=>{const e=qs()?jr(GG,$G):$G,r=t||(qs()?jr(tse,void 0):void 0),n=We(()=>{const o=Se(r);return hT(o)?o:ese}),s=We(()=>n.value+VG.value),i=()=>(e.current++,VG.value=e.current,s.value);return!Kd&&jr(GG),{initialZIndex:n,currentZIndex:s,nextZIndex:i}};var HUe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value",alphaDescription:"alpha {alpha}, current color is {color}",hueLabel:"pick hue value",hueDescription:"hue {hue}, current color is {color}",svLabel:"pick saturation and brightness value",svDescription:"saturation {saturation}, brightness {brightness}, current color is {color}",predefineDescription:"select {value} as the color"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const qUe=t=>(e,r)=>zUe(e,r,Se(t)),zUe=(t,e,r)=>rUe(r,t,t).replace(/\{(\w+)\}/g,(n,s)=>{var i;return`${(i=e==null?void 0:e[s])!=null?i:`{${s}}`}`}),$Ue=t=>{const e=We(()=>Se(t).name),r=Or(t)?t:vt(t);return{lang:e,locale:r,t:qUe(t)}},rse=Symbol("localeContextKey"),VUe=t=>{const e=t||jr(rse,vt());return $Ue(We(()=>e.value||HUe))},nse="__epPropKey",Ki=t=>t,GUe=t=>ar(t)&&!!t[nse],sse=(t,e)=>{if(!ar(t)||GUe(t))return t;const{values:r,required:n,default:s,type:i,validator:o}=t,c={type:i,required:!!n,validator:r||o?u=>{let l=!1,d=[];if(r&&(d=Array.from(r),er(t,"default")&&d.push(s),l||(l=d.includes(u))),o&&(l||(l=o(u))),!l&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");dae(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(u)}.`)}return l}:void 0,[nse]:!0};return er(t,"default")&&(c.default=s),c},GE=t=>Yne(Object.entries(t).map(([e,r])=>[e,sse(r,e)])),WUe=["","default","small","large"],KUe=sse({type:String,values:WUe,required:!1}),ise=Symbol("size"),ZUe=()=>{const t=jr(ise,{});return We(()=>Se(t.size)||"")},YUe=Symbol("emptyValuesContextKey");GE({emptyValues:Array,valueOnClear:{type:Ki([String,Number,Boolean,Function]),default:void 0,validator:t=>(t=lt(t)?t():t,ft(t)?t.every(e=>!e):!t)}});const WG=t=>Object.keys(t),pT=vt();function ose(t,e=void 0){return qs()?jr(Fne,pT):pT}function JUe(t,e){const r=ose(),n=lT(t,We(()=>{var a;return((a=r.value)==null?void 0:a.namespace)||QS})),s=VUe(We(()=>{var a;return(a=r.value)==null?void 0:a.locale})),i=FUe(We(()=>{var a;return((a=r.value)==null?void 0:a.zIndex)||ese})),o=We(()=>{var a;return Se(e)||((a=r.value)==null?void 0:a.size)||""});return QUe(We(()=>Se(r)||{})),{ns:n,locale:s,zIndex:i,size:o}}const QUe=(t,e,r=!1)=>{var n;const s=!!qs(),i=s?ose():void 0,o=(n=void 0)!=null?n:s?Gb:void 0;if(!o)return;const a=We(()=>{const c=Se(t);return i!=null&&i.value?XUe(i.value,c):c});return o(Fne,a),o(rse,We(()=>a.value.locale)),o(Hne,We(()=>a.value.namespace)),o(tse,We(()=>a.value.zIndex)),o(ise,{size:We(()=>a.value.size||"")}),o(YUe,We(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(r||!pT.value)&&(pT.value=a.value),a},XUe=(t,e)=>{const r=[...new Set([...WG(t),...WG(e)])],n={};for(const s of r)n[s]=e[s]!==void 0?e[s]:t[s];return n},eI="update:modelValue",KG="change",BO="input";var sB=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r};function eLe(t,e="px"){if(!t)return"";if(hT(t)||gUe(t))return`${t}${e}`;if(dr(t))return t}const ase=(t,e)=>(t.install=r=>{for(const n of[t,...Object.values({})])r.component(n.name,n)},t),tLe=(t,e)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[e]=t},t),rLe=GE({size:{type:Ki([Number,String])},color:{type:String}}),nLe=Rr({name:"ElIcon",inheritAttrs:!1}),sLe=Rr({...nLe,props:rLe,setup(t){const e=t,r=lT("icon"),n=We(()=>{const{size:s,color:i}=e;return!s&&!i?{}:{fontSize:Jne(s)?void 0:eLe(s),"--color":i}});return(s,i)=>(ct(),ir("i",uI({class:Se(r).b(),style:Se(n)},s.$attrs),[T0(s.$slots,"default")],16))}});var iLe=sB(sLe,[["__file","icon.vue"]]);const Zf=ase(iLe);/*! Element Plus Icons Vue v2.3.2 */var oLe=Rr({name:"CircleCheck",__name:"circle-check",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ot("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),aLe=oLe,cLe=Rr({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),uLe=cLe,lLe=Rr({name:"CircleClose",__name:"circle-close",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),ot("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),cse=lLe,dLe=Rr({name:"Close",__name:"close",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),fLe=dLe,hLe=Rr({name:"Hide",__name:"hide",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),ot("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),pLe=hLe,mLe=Rr({name:"InfoFilled",__name:"info-filled",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),ZG=mLe,gLe=Rr({name:"Loading",__name:"loading",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),yLe=gLe,bLe=Rr({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),wLe=bLe,ELe=Rr({name:"View",__name:"view",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),vLe=ELe,_Le=Rr({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,r)=>(ct(),ir("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ot("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),ALe=_Le;const uw=Ki([String,Object,Function]),YG={primary:ZG,success:wLe,warning:ALe,error:uLe,info:ZG},CLe={validating:yLe,success:aLe,error:cse},SLe=()=>Kd&&/firefox/i.test(window.navigator.userAgent),ILe=()=>Kd&&/android/i.test(window.navigator.userAgent);let Qs;const TLe={height:"0",visibility:"hidden",overflow:SLe()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},PLe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],JG=t=>{const e=Number.parseFloat(t);return Number.isNaN(e)?t:e};function xLe(t){const e=window.getComputedStyle(t),r=e.getPropertyValue("box-sizing"),n=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),s=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:PLe.map(o=>[o,e.getPropertyValue(o)]),paddingSize:n,borderSize:s,boxSizing:r}}function QG(t,e=1,r){var n,s;Qs||(Qs=document.createElement("textarea"),((n=t.parentNode)!=null?n:document.body).appendChild(Qs));const{paddingSize:i,borderSize:o,boxSizing:a,contextStyle:c}=xLe(t);c.forEach(([f,h])=>Qs==null?void 0:Qs.style.setProperty(f,h)),Object.entries(TLe).forEach(([f,h])=>Qs==null?void 0:Qs.style.setProperty(f,h,"important")),Qs.value=t.value||t.placeholder||"";let u=Qs.scrollHeight;const l={};a==="border-box"?u=u+o:a==="content-box"&&(u=u-i),Qs.value="";const d=Qs.scrollHeight-i;if(hT(e)){let f=d*e;a==="border-box"&&(f=f+i+o),u=Math.max(f,u),l.minHeight=`${f}px`}if(hT(r)){let f=d*r;a==="border-box"&&(f=f+i+o),u=Math.min(f,u)}return l.height=`${u}px`,(s=Qs.parentNode)==null||s.removeChild(Qs),Qs=void 0,l}const OLe=t=>t,RLe=GE({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),NLe=t=>mUe(RLe,t),BLe=GE({id:{type:String,default:void 0},size:KUe,disabled:Boolean,modelValue:{type:Ki([String,Number,Object]),default:""},modelModifiers:{type:Ki(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:Ki(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ki([Boolean,Object]),default:!1},autocomplete:{type:Ki(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:uw,default:cse},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:uw},prefixIcon:{type:uw},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ki([Object,Array,String]),default:()=>OLe({})},autofocus:Boolean,rows:{type:Number,default:2},...NLe(["ariaLabel"]),inputmode:{type:Ki(String),default:void 0},name:String}),kLe={[eI]:t=>dr(t),input:t=>dr(t),change:t=>dr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},jLe=["class","style"],DLe=/^on[A-Z]/,MLe=(t={})=>{const{excludeListeners:e=!1,excludeKeys:r}=t,n=We(()=>((r==null?void 0:r.value)||[]).concat(jLe)),s=qs();return We(s?()=>{var i;return Yne(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([o])=>!n.value.includes(o)&&!(e&&DLe.test(o))))}:()=>({}))},XG={prefix:Math.floor(Math.random()*1e4),current:0},ULe=Symbol("elIdInjection"),LLe=()=>qs()?jr(ULe,XG):XG,FLe=t=>{const e=LLe(),r=qne();return CUe(()=>Se(t)||`${r.value}-id-${e.prefix}-${e.current++}`)},iB=Symbol("formContextKey"),use=Symbol("formItemContextKey"),HLe=()=>{const t=jr(iB,void 0),e=jr(use,void 0);return{form:t,formItem:e}},qLe=(t,{formItemContext:e,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=vt(!1)),n||(n=vt(!1));const s=qs(),i=()=>{let u=s==null?void 0:s.parent;for(;u;){if(u.type.name==="ElFormItem")return!1;if(u.type.name==="ElLabelWrap")return!0;u=u.parent}return!1},o=vt();let a;const c=We(()=>{var u;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((u=e.inputIds)==null?void 0:u.length)<=1)});return Od(()=>{a=eo([l8(t,"id"),r],([u,l])=>{const d=u??(l?void 0:FLe().value);d!==o.value&&(e!=null&&e.removeInputId&&!i()&&(o.value&&e.removeInputId(o.value),!(n!=null&&n.value)&&!l&&d&&e.addInputId(d)),o.value=d)},{immediate:!0})}),H1(()=>{a&&a(),e!=null&&e.removeInputId&&o.value&&e.removeInputId(o.value)}),{isLabeledByFormItem:c,inputId:o}},lse=t=>{const e=qs();return We(()=>{var r,n;return(n=(r=e==null?void 0:e.proxy)==null?void 0:r.$props)==null?void 0:n[t]})},zLe=(t,e={})=>{const r=vt(void 0),n=e.prop?r:lse("size"),s=e.global?r:ZUe(),i=e.form?{size:void 0}:jr(iB,void 0),o=e.formItem?{size:void 0}:jr(use,void 0);return We(()=>n.value||Se(t)||(o==null?void 0:o.size)||(i==null?void 0:i.size)||s.value||"")},$Le=t=>{const e=lse("disabled"),r=jr(iB,void 0);return We(()=>e.value||Se(t)||(r==null?void 0:r.disabled)||!1)},VLe=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}};function GLe(t,{disabled:e,beforeFocus:r,afterFocus:n,beforeBlur:s,afterBlur:i}={}){const o=qs(),{emit:a}=o,c=F0(),u=vt(!1),l=h=>{const p=lt(r)?r(h):!1;Se(e)||u.value||p||(u.value=!0,a("focus",h),n==null||n())},d=h=>{var p;const m=lt(s)?s(h):!1;Se(e)||h.relatedTarget&&((p=c.value)!=null&&p.contains(h.relatedTarget))||m||(u.value=!1,a("blur",h),i==null||i())},f=h=>{var p,m;Se(e)||VLe(h.target)||(p=c.value)!=null&&p.contains(document.activeElement)&&c.value!==document.activeElement||(m=t.value)==null||m.focus()};return eo([c,()=>Se(e)],([h,p])=>{h&&(p?h.removeAttribute("tabindex"):h.setAttribute("tabindex","-1"))}),XS(c,"focus",l,!0),XS(c,"blur",d,!0),XS(c,"click",f,!0),{isFocused:u,wrapperRef:c,handleFocus:l,handleBlur:d}}const WLe=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function KLe({afterComposition:t,emit:e}){const r=vt(!1),n=a=>{e==null||e("compositionstart",a),r.value=!0},s=a=>{var c;e==null||e("compositionupdate",a);const u=(c=a.target)==null?void 0:c.value,l=u[u.length-1]||"";r.value=!WLe(l)},i=a=>{e==null||e("compositionend",a),r.value&&(r.value=!1,Jo(()=>t(a)))};return{isComposing:r,handleComposition:a=>{a.type==="compositionend"?i(a):s(a)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:i}}function ZLe(t){let e;function r(){if(t.value==null)return;const{selectionStart:s,selectionEnd:i,value:o}=t.value;if(s==null||i==null)return;const a=o.slice(0,Math.max(0,s)),c=o.slice(Math.max(0,i));e={selectionStart:s,selectionEnd:i,value:o,beforeTxt:a,afterTxt:c}}function n(){if(t.value==null||e==null)return;const{value:s}=t.value,{beforeTxt:i,afterTxt:o,selectionStart:a}=e;if(i==null||o==null||a==null)return;let c=s.length;if(s.endsWith(o))c=s.length-o.length;else if(s.startsWith(i))c=i.length;else{const u=i[a-1],l=s.indexOf(u,a-1);l!==-1&&(c=l+1)}t.value.setSelectionRange(c,c)}return[r,n]}const YLe="ElInput",JLe=Rr({name:YLe,inheritAttrs:!1}),QLe=Rr({...JLe,props:BLe,emits:kLe,setup(t,{expose:e,emit:r}){const n=t,s=voe(),i=MLe(),o=Eoe(),a=We(()=>[n.type==="textarea"?m.b():p.b(),p.m(f.value),p.is("disabled",h.value),p.is("exceed",j.value),{[p.b("group")]:o.prepend||o.append,[p.m("prefix")]:o.prefix||n.prefixIcon,[p.m("suffix")]:o.suffix||n.suffixIcon||n.clearable||n.showPassword,[p.bm("suffix","password-clear")]:R.value&&O.value,[p.b("hidden")]:n.type==="hidden"},s.class]),c=We(()=>[p.e("wrapper"),p.is("focus",x.value)]),{form:u,formItem:l}=HLe(),{inputId:d}=qLe(n,{formItemContext:l}),f=zLe(),h=$Le(),p=lT("input"),m=lT("textarea"),y=F0(),E=F0(),w=vt(!1),b=vt(!1),g=vt(),v=F0(n.inputStyle),A=We(()=>y.value||E.value),{wrapperRef:C,isFocused:x,handleFocus:T,handleBlur:N}=GLe(A,{disabled:h,afterBlur(){var oe;n.validateEvent&&((oe=l==null?void 0:l.validate)==null||oe.call(l,"blur").catch($=>void 0))}}),M=We(()=>{var oe;return(oe=u==null?void 0:u.statusIcon)!=null?oe:!1}),k=We(()=>(l==null?void 0:l.validateState)||""),B=We(()=>k.value&&CLe[k.value]),U=We(()=>b.value?vLe:pLe),I=We(()=>[s.style]),S=We(()=>[n.inputStyle,v.value,{resize:n.resize}]),_=We(()=>dUe(n.modelValue)?"":String(n.modelValue)),R=We(()=>n.clearable&&!h.value&&!n.readonly&&!!_.value&&(x.value||w.value)),O=We(()=>n.showPassword&&!h.value&&!!_.value),P=We(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!h.value&&!n.readonly&&!n.showPassword),D=We(()=>_.value.length),j=We(()=>!!P.value&&D.value>Number(n.maxlength)),F=We(()=>!!o.suffix||!!n.suffixIcon||R.value||n.showPassword||P.value||!!k.value&&M.value),q=We(()=>!!Object.keys(n.modelModifiers).length),[z,W]=ZLe(y);kUe(E,oe=>{if(Q(),!P.value||n.resize!=="both")return;const $=oe[0],{width:L}=$.contentRect;g.value={right:`calc(100% - ${L+15+6}px)`}});const K=()=>{const{type:oe,autosize:$}=n;if(!(!Kd||oe!=="textarea"||!E.value))if($){const L=ar($)?$.minRows:void 0,H=ar($)?$.maxRows:void 0,ee=QG(E.value,L,H);v.value={overflowY:"hidden",...ee},Jo(()=>{E.value.offsetHeight,v.value=ee})}else v.value={minHeight:QG(E.value).minHeight}},Q=(oe=>{let $=!1;return()=>{var L;if($||!n.autosize)return;((L=E.value)==null?void 0:L.offsetParent)===null||(setTimeout(oe),$=!0)}})(K),X=()=>{const oe=A.value,$=n.formatter?n.formatter(_.value):_.value;!oe||oe.value===$||(oe.value=$)},ie=oe=>{const{trim:$,number:L}=n.modelModifiers;return $&&(oe=oe.trim()),L&&(oe=`${JG(oe)}`),n.formatter&&n.parser&&(oe=n.parser(oe)),oe},Y=async oe=>{if(Z.value)return;const{lazy:$}=n.modelModifiers;let{value:L}=oe.target;if($){r(BO,L);return}if(L=ie(L),String(L)===_.value){n.formatter&&X();return}z(),r(eI,L),r(BO,L),await Jo(),(n.formatter&&n.parser||!q.value)&&X(),W()},V=async oe=>{let{value:$}=oe.target;$=ie($),n.modelModifiers.lazy&&r(eI,$),r(KG,$),await Jo(),X()},{isComposing:Z,handleCompositionStart:ne,handleCompositionUpdate:ue,handleCompositionEnd:ce}=KLe({emit:r,afterComposition:Y}),ge=()=>{b.value=!b.value},we=()=>{var oe;return(oe=A.value)==null?void 0:oe.focus()},me=()=>{var oe;return(oe=A.value)==null?void 0:oe.blur()},ae=oe=>{w.value=!1,r("mouseleave",oe)},Oe=oe=>{w.value=!0,r("mouseenter",oe)},Ie=oe=>{r("keydown",oe)},Be=()=>{var oe;(oe=A.value)==null||oe.select()},de=()=>{r(eI,""),r(KG,""),r("clear"),r(BO,"")};return eo(()=>n.modelValue,()=>{var oe;Jo(()=>K()),n.validateEvent&&((oe=l==null?void 0:l.validate)==null||oe.call(l,"change").catch($=>void 0))}),eo(_,oe=>{if(!A.value)return;const{trim:$,number:L}=n.modelModifiers,H=A.value.value,ee=(L||n.type==="number")&&!/^0\d/.test(H)?`${JG(H)}`:H;ee!==oe&&(document.activeElement===A.value&&A.value.type!=="range"&&$&&ee.trim()===oe||X())}),eo(()=>n.type,async()=>{await Jo(),X(),K()}),Od(()=>{!n.formatter&&n.parser,X(),Jo(K)}),e({input:y,textarea:E,ref:A,textareaStyle:S,autosize:l8(n,"autosize"),isComposing:Z,focus:we,blur:me,select:Be,clear:de,resizeTextarea:K}),(oe,$)=>(ct(),ir("div",{class:Pr([Se(a),{[Se(p).bm("group","append")]:oe.$slots.append,[Se(p).bm("group","prepend")]:oe.$slots.prepend}]),style:$h(Se(I)),onMouseenter:Oe,onMouseleave:ae},[nn(" input "),oe.type!=="textarea"?(ct(),ir(zn,{key:0},[nn(" prepend slot "),oe.$slots.prepend?(ct(),ir("div",{key:0,class:Pr(Se(p).be("group","prepend"))},[T0(oe.$slots,"prepend")],2)):nn("v-if",!0),ot("div",{ref_key:"wrapperRef",ref:C,class:Pr(Se(c))},[nn(" prefix slot "),oe.$slots.prefix||oe.prefixIcon?(ct(),ir("span",{key:0,class:Pr(Se(p).e("prefix"))},[ot("span",{class:Pr(Se(p).e("prefix-inner"))},[T0(oe.$slots,"prefix"),oe.prefixIcon?(ct(),fn(Se(Zf),{key:0,class:Pr(Se(p).e("icon"))},{default:Ja(()=>[(ct(),fn(Hf(oe.prefixIcon)))]),_:1},8,["class"])):nn("v-if",!0)],2)],2)):nn("v-if",!0),ot("input",uI({id:Se(d),ref_key:"input",ref:y,class:Se(p).e("inner")},Se(i),{name:oe.name,minlength:oe.minlength,maxlength:oe.maxlength,type:oe.showPassword?b.value?"text":"password":oe.type,disabled:Se(h),readonly:oe.readonly,autocomplete:oe.autocomplete,tabindex:oe.tabindex,"aria-label":oe.ariaLabel,placeholder:oe.placeholder,style:oe.inputStyle,form:oe.form,autofocus:oe.autofocus,role:oe.containerRole,inputmode:oe.inputmode,onCompositionstart:Se(ne),onCompositionupdate:Se(ue),onCompositionend:Se(ce),onInput:Y,onChange:V,onKeydown:Ie}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),nn(" suffix slot "),Se(F)?(ct(),ir("span",{key:1,class:Pr(Se(p).e("suffix"))},[ot("span",{class:Pr(Se(p).e("suffix-inner"))},[!Se(R)||!Se(O)||!Se(P)?(ct(),ir(zn,{key:0},[T0(oe.$slots,"suffix"),oe.suffixIcon?(ct(),fn(Se(Zf),{key:0,class:Pr(Se(p).e("icon"))},{default:Ja(()=>[(ct(),fn(Hf(oe.suffixIcon)))]),_:1},8,["class"])):nn("v-if",!0)],64)):nn("v-if",!0),Se(R)?(ct(),fn(Se(Zf),{key:1,class:Pr([Se(p).e("icon"),Se(p).e("clear")]),onMousedown:AS(Se(pi),["prevent"]),onClick:de},{default:Ja(()=>[(ct(),fn(Hf(oe.clearIcon)))]),_:1},8,["class","onMousedown"])):nn("v-if",!0),Se(O)?(ct(),fn(Se(Zf),{key:2,class:Pr([Se(p).e("icon"),Se(p).e("password")]),onClick:ge,onMousedown:AS(Se(pi),["prevent"]),onMouseup:AS(Se(pi),["prevent"])},{default:Ja(()=>[(ct(),fn(Hf(Se(U))))]),_:1},8,["class","onMousedown","onMouseup"])):nn("v-if",!0),Se(P)?(ct(),ir("span",{key:3,class:Pr([Se(p).e("count"),Se(p).is("outside",oe.wordLimitPosition==="outside")])},[ot("span",{class:Pr(Se(p).e("count-inner"))},ms(Se(D))+" / "+ms(oe.maxlength),3)],2)):nn("v-if",!0),Se(k)&&Se(B)&&Se(M)?(ct(),fn(Se(Zf),{key:4,class:Pr([Se(p).e("icon"),Se(p).e("validateIcon"),Se(p).is("loading",Se(k)==="validating")])},{default:Ja(()=>[(ct(),fn(Hf(Se(B))))]),_:1},8,["class"])):nn("v-if",!0)],2)],2)):nn("v-if",!0)],2),nn(" append slot "),oe.$slots.append?(ct(),ir("div",{key:1,class:Pr(Se(p).be("group","append"))},[T0(oe.$slots,"append")],2)):nn("v-if",!0)],64)):(ct(),ir(zn,{key:1},[nn(" textarea "),ot("textarea",uI({id:Se(d),ref_key:"textarea",ref:E,class:[Se(m).e("inner"),Se(p).is("focus",Se(x))]},Se(i),{name:oe.name,minlength:oe.minlength,maxlength:oe.maxlength,tabindex:oe.tabindex,disabled:Se(h),readonly:oe.readonly,autocomplete:oe.autocomplete,style:Se(S),"aria-label":oe.ariaLabel,placeholder:oe.placeholder,form:oe.form,autofocus:oe.autofocus,rows:oe.rows,role:oe.containerRole,onCompositionstart:Se(ne),onCompositionupdate:Se(ue),onCompositionend:Se(ce),onInput:Y,onFocus:Se(T),onBlur:Se(N),onChange:V,onKeydown:Ie}),null,16,["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),Se(P)?(ct(),ir("span",{key:0,style:$h(g.value),class:Pr([Se(p).e("count"),Se(p).is("outside",oe.wordLimitPosition==="outside")])},ms(Se(D))+" / "+ms(oe.maxlength),7)):nn("v-if",!0)],64))],38))}});var XLe=sB(QLe,[["__file","input.vue"]]);const e9e=ase(XLe),lw={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},t9e=t=>{if(t.code&&t.code!=="Unidentified")return t.code;const e=r9e(t);if(e){if(Object.values(lw).includes(e))return e;switch(e){case" ":return lw.space;default:return""}}return""},r9e=t=>{let e=t.key&&t.key!=="Unidentified"?t.key:"";if(!e&&t.type==="keyup"&&ILe()){const r=t.target;e=r.value.charAt(r.selectionStart-1)}return e},dse=["primary","success","info","warning","error"],n9e=GE({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:uw},id:{type:String,default:""},message:{type:Ki([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Ki(Function),default:()=>{}},onClose:{type:Ki(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...dse,""],default:""},zIndex:Number,closeIcon:{type:uw,default:fLe}}),s9e={destroy:()=>!0},i9e=Rr({name:"ElNotification"}),o9e=Rr({...i9e,props:n9e,emits:s9e,setup(t,{expose:e}){const r=t,{ns:n,zIndex:s}=JUe("notification"),{nextZIndex:i,currentZIndex:o}=s,a=vt(!1);let c;const u=We(()=>{const w=r.type;return w&&YG[r.type]?n.m(w):""}),l=We(()=>r.type&&YG[r.type]||r.icon),d=We(()=>r.position.endsWith("right")?"right":"left"),f=We(()=>r.position.startsWith("top")?"top":"bottom"),h=We(()=>{var w;return{[f.value]:`${r.offset}px`,zIndex:(w=r.zIndex)!=null?w:o.value}});function p(){r.duration>0&&({stop:c}=xUe(()=>{a.value&&y()},r.duration))}function m(){c==null||c()}function y(){a.value=!1}function E(w){switch(t9e(w)){case lw.delete:case lw.backspace:m();break;case lw.esc:a.value&&y();break;default:p();break}}return Od(()=>{p(),i(),a.value=!0}),XS(document,"keydown",E),e({visible:a,close:y}),(w,b)=>(ct(),fn(qK,{name:Se(n).b("fade"),onBeforeLeave:w.onClose,onAfterLeave:g=>w.$emit("destroy"),persisted:""},{default:Ja(()=>[iI(ot("div",{id:w.id,class:Pr([Se(n).b(),w.customClass,Se(d)]),style:$h(Se(h)),role:"alert",onMouseenter:m,onMouseleave:p,onClick:w.onClick},[Se(l)?(ct(),fn(Se(Zf),{key:0,class:Pr([Se(n).e("icon"),Se(u)])},{default:Ja(()=>[(ct(),fn(Hf(Se(l))))]),_:1},8,["class"])):nn("v-if",!0),ot("div",{class:Pr(Se(n).e("group"))},[ot("h2",{class:Pr(Se(n).e("title")),textContent:ms(w.title)},null,10,["textContent"]),iI(ot("div",{class:Pr(Se(n).e("content")),style:$h(w.title?void 0:{margin:0})},[T0(w.$slots,"default",{},()=>[w.dangerouslyUseHTMLString?(ct(),ir(zn,{key:1},[nn(" Caution here, message could've been compromised, never use user's input as message "),ot("p",{innerHTML:w.message},null,8,["innerHTML"])],2112)):(ct(),ir("p",{key:0},ms(w.message),1))])],6),[[fI,w.message]]),w.showClose?(ct(),fn(Se(Zf),{key:0,class:Pr(Se(n).e("closeBtn")),onClick:AS(y,["stop"])},{default:Ja(()=>[(ct(),fn(Hf(w.closeIcon)))]),_:1},8,["class","onClick"])):nn("v-if",!0)],2)],46,["id","onClick"]),[[fI,a.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var a9e=sB(o9e,[["__file","notification.vue"]]);const hg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},mT=16;let c9e=1;const ap=function(t={},e){if(!Kd)return{close:()=>{}};(dr(t)||fd(t))&&(t={message:t});const r=t.position||"top-right";let n=t.offset||0;hg[r].forEach(({vm:l})=>{var d;n+=(((d=l.el)==null?void 0:d.offsetHeight)||0)+mT}),n+=mT;const s=`notification_${c9e++}`,i=t.onClose,o={...t,offset:n,id:s,onClose:()=>{u9e(s,r,i)}};let a=document.body;kG(t.appendTo)?a=t.appendTo:dr(t.appendTo)&&(a=document.querySelector(t.appendTo)),kG(a)||(a=document.body);const c=document.createElement("div"),u=Gr(a9e,o,lt(o.message)?o.message:fd(o.message)?()=>o.message:null);return u.appContext=Jne(e)?ap._context:e,u.props.onDestroy=()=>{ak(null,c)},ak(u,c),hg[r].push({vm:u}),a.appendChild(c.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};dse.forEach(t=>{ap[t]=(e={},r)=>((dr(e)||fd(e))&&(e={message:e}),ap({...e,type:t},r))});function u9e(t,e,r){const n=hg[e],s=n.findIndex(({vm:u})=>{var l;return((l=u.component)==null?void 0:l.props.id)===t});if(s===-1)return;const{vm:i}=n[s];if(!i)return;r==null||r(i);const o=i.el.offsetHeight,a=e.split("-")[0];n.splice(s,1);const c=n.length;if(!(c<1))for(let u=s;u<c;u++){const{el:l,component:d}=n[u].vm,f=Number.parseInt(l.style[a],10)-o-mT;d.props.offset=f}}function l9e(){for(const t of Object.values(hg))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}function d9e(t="top-right"){var e,r,n,s;let i=((n=(r=(e=hg[t][0])==null?void 0:e.vm.component)==null?void 0:r.props)==null?void 0:n.offset)||0;for(const{vm:o}of hg[t])o.component.props.offset=i,i+=(((s=o.el)==null?void 0:s.offsetHeight)||0)+mT}ap.closeAll=l9e;ap.updateOffsets=d9e;ap._context=null;const f9e=tLe(ap,"$notify"),oB=un.create({baseURL:"https://ai-test.alchemytech.cc",timeout:_De,headers:{"Content-Type":"application/json"}});oB.interceptors.request.use(async function(t){return t},function(t){return Promise.reject(t)});oB.interceptors.response.use(function(t){const{return_code:e,return_message:r}=t.data;return t},function(t){return console.log(t),location.hostname==="localhost"&&f9e({title:t.code,dangerouslyUseHTMLString:!0,message:`<p>${t.message}</p>
      <p>${t.config.url}</p>
      `,type:"error"}),console.error(t),Promise.reject(t)});async function aB({url:t,params:e}){try{return(await oB.get(t,{params:e})).data}catch(r){throw r}}const h9e={},p9e={ragStreamChat:"/rag/streamChat",testStart:"/test/start",getUserResource:"/vnc/resource/getUserResource",checkSignSecret:"/vnc/resource/checkSignSecret",stop:"/stop",ws_chat:"/chat",genJobId:"/api/v1/jobs/genJobId",labelConfigs:"/api/v1/labelConfigs/search",jobs:"/api/v1/jobs/search",jobRecords:"/api/v1/jobRecords/search",jobShowSelected:"/api/v1/jobShowSelected/search",jobDelete:"/api/v1/job/delete",giftCardCreate:"/api/v1/giftcard/create"},cB={...h9e,...p9e};function m9e(t){return aB({url:cB.ragStreamChat,params:t})}function g9e(t){return aB({url:cB.stop,params:t})}function y9e(t){return aB({url:cB.genJobId,params:t})}async function b9e(t){try{const e=xp(),r={memoryId:e.Address,network:e.ChainId},n=await g9e(r);n!=null&&n.success}catch{}}async function w9e({message:t,chatId:e}){try{const r=xp();return await m9e({memoryId:r.Address+"_"+e+"_"+r.ChainId,message:encodeURIComponent(t)})}catch{return""}}async function E9e(){try{const t=xp(),e=await y9e({memoryId:t.Address});return console.log(e),e}catch{}}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const I0=typeof document<"u";function fse(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function v9e(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&fse(t.default)}const ur=Object.assign;function kO(t,e){const r={};for(const n in e){const s=e[n];r[n]=ha(s)?s.map(t):t(s)}return r}const dw=()=>{},ha=Array.isArray;function eW(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const hse=/#/g,_9e=/&/g,A9e=/\//g,C9e=/=/g,S9e=/\?/g,pse=/\+/g,I9e=/%5B/g,T9e=/%5D/g,mse=/%5E/g,P9e=/%60/g,gse=/%7B/g,x9e=/%7C/g,yse=/%7D/g,O9e=/%20/g;function uB(t){return t==null?"":encodeURI(""+t).replace(x9e,"|").replace(I9e,"[").replace(T9e,"]")}function R9e(t){return uB(t).replace(gse,"{").replace(yse,"}").replace(mse,"^")}function ZN(t){return uB(t).replace(pse,"%2B").replace(O9e,"+").replace(hse,"%23").replace(_9e,"%26").replace(P9e,"`").replace(gse,"{").replace(yse,"}").replace(mse,"^")}function N9e(t){return ZN(t).replace(C9e,"%3D")}function B9e(t){return uB(t).replace(hse,"%23").replace(S9e,"%3F")}function k9e(t){return B9e(t).replace(A9e,"%2F")}function T1(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const j9e=/\/$/,D9e=t=>t.replace(j9e,"");function jO(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return c=a>=0&&c>a?-1:c,c>=0&&(n=e.slice(0,c),i=e.slice(c,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=F9e(n??e,r),{fullPath:n+i+o,path:n,query:s,hash:T1(o)}}function M9e(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function tW(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function U9e(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&pg(e.matched[n],r.matched[s])&&bse(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function pg(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function bse(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!L9e(t[r],e[r]))return!1;return!0}function L9e(t,e){return ha(t)?rW(t,e):ha(e)?rW(e,t):t===e}function rW(t,e){return ha(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function F9e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Cl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let YN=(function(t){return t.pop="pop",t.push="push",t})({}),DO=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function H9e(t){if(!t)if(I0){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),D9e(t)}const q9e=/^[^#]+#/;function z9e(t,e){return t.replace(q9e,"#")+e}function $9e(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const A6=()=>({left:window.scrollX,top:window.scrollY});function V9e(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=$9e(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function nW(t,e){return(history.state?history.state.position-e:-1)+t}const JN=new Map;function G9e(t,e){JN.set(t,e)}function W9e(t){const e=JN.get(t);return JN.delete(t),e}function K9e(t){return typeof t=="string"||t&&typeof t=="object"}function wse(t){return typeof t=="string"||typeof t=="symbol"}let Qr=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Ese=Symbol("");Qr.MATCHER_NOT_FOUND+"",Qr.NAVIGATION_GUARD_REDIRECT+"",Qr.NAVIGATION_ABORTED+"",Qr.NAVIGATION_CANCELLED+"",Qr.NAVIGATION_DUPLICATED+"";function mg(t,e){return ur(new Error,{type:t,[Ese]:!0},e)}function Zc(t,e){return t instanceof Error&&Ese in t&&(e==null||!!(t.type&e))}const Z9e=["params","query","hash"];function Y9e(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of Z9e)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function J9e(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(pse," "),i=s.indexOf("="),o=T1(i<0?s:s.slice(0,i)),a=i<0?null:T1(s.slice(i+1));if(o in e){let c=e[o];ha(c)||(c=e[o]=[c]),c.push(a)}else e[o]=a}return e}function sW(t){let e="";for(let r in t){const n=t[r];if(r=N9e(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(ha(n)?n.map(s=>s&&ZN(s)):[n&&ZN(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Q9e(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=ha(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const X9e=Symbol(""),iW=Symbol(""),C6=Symbol(""),lB=Symbol(""),QN=Symbol("");function Pb(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Bl(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const u=f=>{f===!1?c(mg(Qr.NAVIGATION_ABORTED,{from:r,to:e})):f instanceof Error?c(f):K9e(f)?c(mg(Qr.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&n.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},l=i(()=>t.call(n&&n.instances[s],e,r,u));let d=Promise.resolve(l);t.length<3&&(d=d.then(u)),d.catch(f=>c(f))})}function MO(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(fse(c)){const u=(c.__vccOpts||c)[e];u&&i.push(Bl(u,r,n,o,a,s))}else{let u=c();i.push(()=>u.then(l=>{if(!l)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=v9e(l)?l.default:l;o.mods[a]=l,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&Bl(f,r,n,o,a,s)()}))}}return i}function eFe(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>pg(u,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(u=>pg(u,c))||s.push(c))}return[r,n,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let tFe=()=>location.protocol+"//"+location.host;function vse(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),tW(a,"")}return tW(r,t)+n+s}function rFe(t,e,r,n){let s=[],i=[],o=null;const a=({state:f})=>{const h=vse(t,location),p=r.value,m=e.value;let y=0;if(f){if(r.value=h,e.value=f,o&&o===p){o=null;return}y=m?f.position-m.position:0}else n(h);s.forEach(E=>{E(r.value,p,{delta:y,type:YN.pop,direction:y?y>0?DO.forward:DO.back:DO.unknown})})};function c(){o=r.value}function u(f){s.push(f);const h=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(h),h}function l(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(ur({},f.state,{scroll:A6()}),"")}}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",l),document.removeEventListener("visibilitychange",l)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",l),document.addEventListener("visibilitychange",l),{pauseListeners:c,listen:u,destroy:d}}function oW(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?A6():null}}function nFe(t){const{history:e,location:r}=window,n={value:vse(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,u,l){const d=t.indexOf("#"),f=d>-1?(r.host&&document.querySelector("base")?t:t.slice(d))+c:tFe()+t+c;try{e[l?"replaceState":"pushState"](u,"",f),s.value=u}catch(h){console.error(h),r[l?"replace":"assign"](f)}}function o(c,u){i(c,ur({},e.state,oW(s.value.back,c,s.value.forward,!0),u,{position:s.value.position}),!0),n.value=c}function a(c,u){const l=ur({},s.value,e.state,{forward:c,scroll:A6()});i(l.current,l,!0),i(c,ur({},oW(n.value,c,null),{position:l.position+1},u),!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function sFe(t){t=H9e(t);const e=nFe(t),r=rFe(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ur({location:"",base:t,go:n,createHref:z9e.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function iFe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),sFe(t)}let fh=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var wn=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(wn||{});const oFe={type:fh.Static,value:""},aFe=/[a-zA-Z0-9_]/;function cFe(t){if(!t)return[[]];if(t==="/")return[[oFe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${u}": ${h}`)}let r=wn.Static,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,u="",l="";function d(){u&&(r===wn.Static?i.push({type:fh.Static,value:u}):r===wn.Param||r===wn.ParamRegExp||r===wn.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:fh.Param,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==wn.ParamRegExp){n=r,r=wn.EscapeNext;continue}switch(r){case wn.Static:c==="/"?(u&&d(),o()):c===":"?(d(),r=wn.Param):f();break;case wn.EscapeNext:f(),r=n;break;case wn.Param:c==="("?r=wn.ParamRegExp:aFe.test(c)?f():(d(),r=wn.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case wn.ParamRegExp:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:r=wn.ParamRegExpEnd:l+=c;break;case wn.ParamRegExpEnd:d(),r=wn.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return r===wn.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const aW="[^/]+?",uFe={sensitive:!1,strict:!1,start:!0,end:!0};var Rs=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Rs||{});const lFe=/[.+*?^${}()[\]/\\]/g;function dFe(t,e){const r=ur({},uFe,e),n=[];let s=r.start?"^":"";const i=[];for(const u of t){const l=u.length?[]:[Rs.Root];r.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=Rs.Segment+(r.sensitive?Rs.BonusCaseSensitive:0);if(f.type===fh.Static)d||(s+="/"),s+=f.value.replace(lFe,"\\$&"),h+=Rs.Static;else if(f.type===fh.Param){const{value:p,repeatable:m,optional:y,regexp:E}=f;i.push({name:p,repeatable:m,optional:y});const w=E||aW;if(w!==aW){h+=Rs.BonusCustomRegExp;try{`${w}`}catch(g){throw new Error(`Invalid custom RegExp for param "${p}" (${w}): `+g.message)}}let b=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(b=y&&u.length<2?`(?:/${b})`:"/"+b),y&&(b+="?"),s+=b,h+=Rs.Dynamic,y&&(h+=Rs.BonusOptional),m&&(h+=Rs.BonusRepeatable),w===".*"&&(h+=Rs.BonusWildcard)}l.push(h)}n.push(l)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=Rs.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(u){const l=u.match(o),d={};if(!l)return null;for(let f=1;f<l.length;f++){const h=l[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function c(u){let l="",d=!1;for(const f of t){(!d||!l.endsWith("/"))&&(l+="/"),d=!1;for(const h of f)if(h.type===fh.Static)l+=h.value;else if(h.type===fh.Param){const{value:p,repeatable:m,optional:y}=h,E=p in u?u[p]:"";if(ha(E)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const w=ha(E)?E.join("/"):E;if(!w)if(y)f.length<2&&(l.endsWith("/")?l=l.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);l+=w}}return l||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function fFe(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===Rs.Static+Rs.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Rs.Static+Rs.Segment?1:-1:0}function _se(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=fFe(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(cW(n))return 1;if(cW(s))return-1}return s.length-n.length}function cW(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const hFe={strict:!1,end:!0,sensitive:!1};function pFe(t,e,r){const n=dFe(cFe(t.path),r),s=ur(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function mFe(t,e){const r=[],n=new Map;e=eW(hFe,e);function s(d){return n.get(d)}function i(d,f,h){const p=!h,m=lW(d);m.aliasOf=h&&h.record;const y=eW(e,d),E=[m];if("alias"in d){const g=typeof d.alias=="string"?[d.alias]:d.alias;for(const v of g)E.push(lW(ur({},m,{components:h?h.record.components:m.components,path:v,aliasOf:h?h.record:m})))}let w,b;for(const g of E){const{path:v}=g;if(f&&v[0]!=="/"){const A=f.record.path,C=A[A.length-1]==="/"?"":"/";g.path=f.record.path+(v&&C+v)}if(w=pFe(g,f,y),h?h.alias.push(w):(b=b||w,b!==w&&b.alias.push(w),p&&d.name&&!dW(w)&&o(d.name)),Ase(w)&&c(w),m.children){const A=m.children;for(let C=0;C<A.length;C++)i(A[C],w,h&&h.children[C])}h=h||w}return b?()=>{o(b)}:dw}function o(d){if(wse(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function c(d){const f=bFe(d,r);r.splice(f,0,d),d.record.name&&!dW(d)&&n.set(d.record.name,d)}function u(d,f){let h,p={},m,y;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw mg(Qr.MATCHER_NOT_FOUND,{location:d});y=h.record.name,p=ur(uW(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&uW(d.params,h.keys.map(b=>b.name))),m=h.stringify(p)}else if(d.path!=null)m=d.path,h=r.find(b=>b.re.test(m)),h&&(p=h.parse(m),y=h.record.name);else{if(h=f.name?n.get(f.name):r.find(b=>b.re.test(f.path)),!h)throw mg(Qr.MATCHER_NOT_FOUND,{location:d,currentLocation:f});y=h.record.name,p=ur({},f.params,d.params),m=h.stringify(p)}const E=[];let w=h;for(;w;)E.unshift(w.record),w=w.parent;return{name:y,path:m,params:p,matched:E,meta:yFe(E)}}t.forEach(d=>i(d));function l(){r.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:l,getRoutes:a,getRecordMatcher:s}}function uW(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function lW(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:gFe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function gFe(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function dW(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function yFe(t){return t.reduce((e,r)=>ur(e,r.meta),{})}function bFe(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;_se(t,e[i])<0?n=i:r=i+1}const s=wFe(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function wFe(t){let e=t;for(;e=e.parent;)if(Ase(e)&&_se(t,e)===0)return e}function Ase({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function fW(t){const e=jr(C6),r=jr(lB),n=We(()=>{const c=Se(t.to);return e.resolve(c)}),s=We(()=>{const{matched:c}=n.value,{length:u}=c,l=c[u-1],d=r.matched;if(!l||!d.length)return-1;const f=d.findIndex(pg.bind(null,l));if(f>-1)return f;const h=hW(c[u-2]);return u>1&&hW(l)===h&&d[d.length-1].path!==h?d.findIndex(pg.bind(null,c[u-2])):f}),i=We(()=>s.value>-1&&CFe(r.params,n.value.params)),o=We(()=>s.value>-1&&s.value===r.matched.length-1&&bse(r.params,n.value.params));function a(c={}){if(AFe(c)){const u=e[Se(t.replace)?"replace":"push"](Se(t.to)).catch(dw);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:We(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function EFe(t){return t.length===1?t[0]:t}const vFe=Rr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:fW,setup(t,{slots:e}){const r=lp(fW(t)),{options:n}=jr(C6),s=We(()=>({[pW(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[pW(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&EFe(e.default(r));return t.custom?i:y8("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),_Fe=vFe;function AFe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CFe(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!ha(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function hW(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pW=(t,e,r)=>t??e??r,SFe=Rr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=jr(QN),s=We(()=>t.route||n.value),i=jr(iW,0),o=We(()=>{let u=Se(i);const{matched:l}=s.value;let d;for(;(d=l[u])&&!d.components;)u++;return u}),a=We(()=>s.value.matched[o.value]);Gb(iW,We(()=>o.value+1)),Gb(X9e,a),Gb(QN,s);const c=vt();return eo(()=>[c.value,a.value,t.name],([u,l,d],[f,h,p])=>{l&&(l.instances[d]=u,h&&h!==l&&u&&u===f&&(l.leaveGuards.size||(l.leaveGuards=h.leaveGuards),l.updateGuards.size||(l.updateGuards=h.updateGuards))),u&&l&&(!h||!pg(l,h)||!f)&&(l.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=s.value,l=t.name,d=a.value,f=d&&d.components[l];if(!f)return mW(r.default,{Component:f,route:u});const h=d.props[l],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,y=y8(f,ur({},p,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(d.instances[l]=null)},ref:c}));return mW(r.default,{Component:y,route:u})||y}}});function mW(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const IFe=SFe;function TFe(t){const e=mFe(t.routes,t),r=t.parseQuery||J9e,n=t.stringifyQuery||sW,s=t.history,i=Pb(),o=Pb(),a=Pb(),c=F0(Cl);let u=Cl;I0&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=kO.bind(null,K=>""+K),d=kO.bind(null,k9e),f=kO.bind(null,T1);function h(K,re){let Q,X;return wse(K)?(Q=e.getRecordMatcher(K),X=re):X=K,e.addRoute(X,Q)}function p(K){const re=e.getRecordMatcher(K);re&&e.removeRoute(re)}function m(){return e.getRoutes().map(K=>K.record)}function y(K){return!!e.getRecordMatcher(K)}function E(K,re){if(re=ur({},re||c.value),typeof K=="string"){const Z=jO(r,K,re.path),ne=e.resolve({path:Z.path},re),ue=s.createHref(Z.fullPath);return ur(Z,ne,{params:f(ne.params),hash:T1(Z.hash),redirectedFrom:void 0,href:ue})}let Q;if(K.path!=null)Q=ur({},K,{path:jO(r,K.path,re.path).path});else{const Z=ur({},K.params);for(const ne in Z)Z[ne]==null&&delete Z[ne];Q=ur({},K,{params:d(Z)}),re.params=d(re.params)}const X=e.resolve(Q,re),ie=K.hash||"";X.params=l(f(X.params));const Y=M9e(n,ur({},K,{hash:R9e(ie),path:X.path})),V=s.createHref(Y);return ur({fullPath:Y,hash:ie,query:n===sW?Q9e(K.query):K.query||{}},X,{redirectedFrom:void 0,href:V})}function w(K){return typeof K=="string"?jO(r,K,c.value.path):ur({},K)}function b(K,re){if(u!==K)return mg(Qr.NAVIGATION_CANCELLED,{from:re,to:K})}function g(K){return C(K)}function v(K){return g(ur(w(K),{replace:!0}))}function A(K,re){const Q=K.matched[K.matched.length-1];if(Q&&Q.redirect){const{redirect:X}=Q;let ie=typeof X=="function"?X(K,re):X;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=w(ie):{path:ie},ie.params={}),ur({query:K.query,hash:K.hash,params:ie.path!=null?{}:K.params},ie)}}function C(K,re){const Q=u=E(K),X=c.value,ie=K.state,Y=K.force,V=K.replace===!0,Z=A(Q,X);if(Z)return C(ur(w(Z),{state:typeof Z=="object"?ur({},ie,Z.state):ie,force:Y,replace:V}),re||Q);const ne=Q;ne.redirectedFrom=re;let ue;return!Y&&U9e(n,X,Q)&&(ue=mg(Qr.NAVIGATION_DUPLICATED,{to:ne,from:X}),D(X,X,!0,!1)),(ue?Promise.resolve(ue):N(ne,X)).catch(ce=>Zc(ce)?Zc(ce,Qr.NAVIGATION_GUARD_REDIRECT)?ce:P(ce):R(ce,ne,X)).then(ce=>{if(ce){if(Zc(ce,Qr.NAVIGATION_GUARD_REDIRECT))return C(ur({replace:V},w(ce.to),{state:typeof ce.to=="object"?ur({},ie,ce.to.state):ie,force:Y}),re||ne)}else ce=k(ne,X,!0,V,ie);return M(ne,X,ce),ce})}function x(K,re){const Q=b(K,re);return Q?Promise.reject(Q):Promise.resolve()}function T(K){const re=q.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(K):K()}function N(K,re){let Q;const[X,ie,Y]=eFe(K,re);Q=MO(X.reverse(),"beforeRouteLeave",K,re);for(const Z of X)Z.leaveGuards.forEach(ne=>{Q.push(Bl(ne,K,re))});const V=x.bind(null,K,re);return Q.push(V),W(Q).then(()=>{Q=[];for(const Z of i.list())Q.push(Bl(Z,K,re));return Q.push(V),W(Q)}).then(()=>{Q=MO(ie,"beforeRouteUpdate",K,re);for(const Z of ie)Z.updateGuards.forEach(ne=>{Q.push(Bl(ne,K,re))});return Q.push(V),W(Q)}).then(()=>{Q=[];for(const Z of Y)if(Z.beforeEnter)if(ha(Z.beforeEnter))for(const ne of Z.beforeEnter)Q.push(Bl(ne,K,re));else Q.push(Bl(Z.beforeEnter,K,re));return Q.push(V),W(Q)}).then(()=>(K.matched.forEach(Z=>Z.enterCallbacks={}),Q=MO(Y,"beforeRouteEnter",K,re,T),Q.push(V),W(Q))).then(()=>{Q=[];for(const Z of o.list())Q.push(Bl(Z,K,re));return Q.push(V),W(Q)}).catch(Z=>Zc(Z,Qr.NAVIGATION_CANCELLED)?Z:Promise.reject(Z))}function M(K,re,Q){a.list().forEach(X=>T(()=>X(K,re,Q)))}function k(K,re,Q,X,ie){const Y=b(K,re);if(Y)return Y;const V=re===Cl,Z=I0?history.state:{};Q&&(X||V?s.replace(K.fullPath,ur({scroll:V&&Z&&Z.scroll},ie)):s.push(K.fullPath,ie)),c.value=K,D(K,re,Q,V),P()}let B;function U(){B||(B=s.listen((K,re,Q)=>{if(!z.listening)return;const X=E(K),ie=A(X,z.currentRoute.value);if(ie){C(ur(ie,{replace:!0,force:!0}),X).catch(dw);return}u=X;const Y=c.value;I0&&G9e(nW(Y.fullPath,Q.delta),A6()),N(X,Y).catch(V=>Zc(V,Qr.NAVIGATION_ABORTED|Qr.NAVIGATION_CANCELLED)?V:Zc(V,Qr.NAVIGATION_GUARD_REDIRECT)?(C(ur(w(V.to),{force:!0}),X).then(Z=>{Zc(Z,Qr.NAVIGATION_ABORTED|Qr.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===YN.pop&&s.go(-1,!1)}).catch(dw),Promise.reject()):(Q.delta&&s.go(-Q.delta,!1),R(V,X,Y))).then(V=>{V=V||k(X,Y,!1),V&&(Q.delta&&!Zc(V,Qr.NAVIGATION_CANCELLED)?s.go(-Q.delta,!1):Q.type===YN.pop&&Zc(V,Qr.NAVIGATION_ABORTED|Qr.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),M(X,Y,V)}).catch(dw)}))}let I=Pb(),S=Pb(),_;function R(K,re,Q){P(K);const X=S.list();return X.length?X.forEach(ie=>ie(K,re,Q)):console.error(K),Promise.reject(K)}function O(){return _&&c.value!==Cl?Promise.resolve():new Promise((K,re)=>{I.add([K,re])})}function P(K){return _||(_=!K,U(),I.list().forEach(([re,Q])=>K?Q(K):re()),I.reset()),K}function D(K,re,Q,X){const{scrollBehavior:ie}=t;if(!I0||!ie)return Promise.resolve();const Y=!Q&&W9e(nW(K.fullPath,0))||(X||!Q)&&history.state&&history.state.scroll||null;return Jo().then(()=>ie(K,re,Y)).then(V=>V&&V9e(V)).catch(V=>R(V,K,re))}const j=K=>s.go(K);let F;const q=new Set,z={currentRoute:c,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:m,resolve:E,options:t,push:g,replace:v,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:S.add,isReady:O,install(K){K.component("RouterLink",_Fe),K.component("RouterView",IFe),K.config.globalProperties.$router=z,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>Se(c)}),I0&&!F&&c.value===Cl&&(F=!0,g(s.location).catch(X=>{}));const re={};for(const X in Cl)Object.defineProperty(re,X,{get:()=>c.value[X],enumerable:!0});K.provide(C6,z),K.provide(lB,YW(re)),K.provide(QN,c);const Q=K.unmount;q.add(K),K.unmount=function(){q.delete(K),q.size<1&&(u=Cl,B&&B(),B=null,c.value=Cl,F=!1,_=!1),Q()}}};function W(K){return K.reduce((re,Q)=>re.then(()=>T(Q)),Promise.resolve())}return z}function dB(){return jr(C6)}function PFe(t){return jr(lB)}const xFe={class:"wallet-connect"},OFe=Rr({__name:"Index",setup(t){const{IsConnected:e}=S1(async({IsConnected:i,ChainId:o})=>{i&&([56].includes(o)||Lke(qN))}),r=dB();let n=!1;async function s(){if(!n){n=!0;try{b9e(),Mke(),r.push("/")}finally{n=!1}}}return(i,o)=>(ct(),ir("div",xFe,[Se(e)?(ct(),fn(Gke,{key:1,onDisconnect:s})):(ct(),fn(Hke,{key:0}))]))}}),RFe={class:"flex items-center justify-between px-4 h-14 relative z-2 border-b border-gray-100"},NFe={class:"flex items-center"},BFe={class:"flex items-center"},kFe=Rr({__name:"PageHeader",setup(t){const e=dB();return(r,n)=>(ct(),ir("div",RFe,[ot("div",NFe,[ot("div",{class:"flex items-center justify-center",onClick:n[0]||(n[0]=s=>Se(e).push("/"))},[...n[1]||(n[1]=[ot("img",{class:"h-7",src:GK},null,-1)])])]),ot("div",BFe,[Gr(OFe)])]))}}),jFe={class:"flex flex-col w-full h-[calc(var(--vh)*100)]"},DFe={class:"page-body relative z-2 flex-1 flex flex-col overflow-y-auto"},MFe=Rr({__name:"App",setup(t){return(e,r)=>{const n=boe("router-view");return ct(),ir("div",jFe,[Gr(kFe),ot("div",DFe,[Gr(n)])])}}}),UFe="data:image/svg+xml,%3csvg%20width='36'%20height='36'%20viewBox='0%200%2036%2036'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='18'%20cy='18'%20r='18'%20fill='%23191B1F'/%3e%3cpath%20d='M18%2025.3333V10.6667M18%2010.6667L23.5%2016.1667M18%2010.6667L12.5%2016.1667'%20stroke='white'%20stroke-width='2.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",LFe={class:"relative min-h-12 bg-gray-100 rounded-lg flex items-center"},FFe=Rr({__name:"Input",emits:["submit"],setup(t,{emit:e}){const{IsConnected:r}=S1(),n=We(()=>r.value&&s.value.trim().length>0),s=vt(""),i=e,o=async()=>{i("submit",s.value),s.value=""};return(a,c)=>{const u=e9e;return ct(),ir("div",LFe,[Gr(u,{modelValue:Se(s),"onUpdate:modelValue":c[0]||(c[0]=l=>Or(s)?s.value=l:null),autosize:{minRows:1,maxRows:5},resize:"none",type:"textarea",placeholder:"Message...",class:Pr(["custom-textarea",{"is-active":Se(n)}])},null,8,["modelValue","class"]),Gr(qK,{"enter-active-class":"transition-opacity duration-300 ease-out","leave-active-class":"transition-opacity duration-300 ease-in","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Ja(()=>[iI(ot("div",{class:"absolute right-2 bottom-2 w-8 h-8 flex items-center justify-center cursor-pointer",onClick:o},[...c[1]||(c[1]=[ot("img",{src:UFe,alt:""},null,-1)])],512),[[fI,Se(n)]])]),_:1})])}}}),HFe=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},qFe=HFe(FFe,[["__scopeId","data-v-df5cc8f4"]]),zFe="data:image/svg+xml,%3csvg%20width='41'%20height='20'%20viewBox='0%200%2041%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2010C0%204.47715%204.47715%200%2010%200H31C36.5228%200%2041%204.47715%2041%2010C41%2015.5228%2036.5228%2020%2031%2020H0V10Z'%20fill='%231A72F6'%20fill-opacity='0.15'/%3e%3cpath%20d='M8.74414%2014V5.54492H12.2539C13.7949%205.54492%2014.7852%206.37695%2014.7852%207.66016V7.67188C14.7852%208.58008%2014.0996%209.39453%2013.1914%209.51758V9.54688C14.3809%209.65234%2015.1895%2010.4844%2015.1895%2011.5977V11.6094C15.1895%2013.0859%2014.0938%2014%2012.2891%2014H8.74414ZM11.873%206.72266H10.2559V9.11914H11.6152C12.7051%209.11914%2013.291%208.67383%2013.291%207.87695V7.86523C13.291%207.13281%2012.7695%206.72266%2011.873%206.72266ZM11.8555%2010.2148H10.2559V12.8223H11.9434C13.0508%2012.8223%2013.6484%2012.3711%2013.6484%2011.5215V11.5098C13.6484%2010.6602%2013.0391%2010.2148%2011.8555%2010.2148ZM18.8516%2014.123C16.9883%2014.123%2015.8633%2012.8867%2015.8633%2010.9121V10.9062C15.8633%208.94922%2017.0059%207.66016%2018.7812%207.66016C20.5566%207.66016%2021.6582%208.9082%2021.6582%2010.7832V11.252H17.3105C17.334%2012.3418%2017.9316%2012.9863%2018.8809%2012.9863C19.6074%2012.9863%2020.082%2012.5996%2020.2227%2012.1836L20.2344%2012.1426H21.5996L21.582%2012.207C21.3887%2013.1621%2020.4746%2014.123%2018.8516%2014.123ZM18.7988%208.80273C18.0254%208.80273%2017.4453%209.32422%2017.3281%2010.2793H20.2402C20.1348%209.29492%2019.5723%208.80273%2018.7988%208.80273ZM24.9102%2014.123C23.6094%2014.123%2022.9941%2013.5957%2022.9941%2012.3184V8.91406H22.1152V7.78906H22.9941V6.21289H24.4766V7.78906H25.6309V8.91406H24.4766V12.1953C24.4766%2012.8047%2024.7461%2012.998%2025.2793%2012.998C25.4199%2012.998%2025.5312%2012.9805%2025.6309%2012.9746V14.0703C25.4609%2014.0938%2025.2031%2014.123%2024.9102%2014.123ZM28.3848%2014.1055C27.1426%2014.1055%2026.3047%2013.3379%2026.3047%2012.2305V12.2188C26.3047%2011.1172%2027.1602%2010.4551%2028.666%2010.3613L30.2891%2010.2617V9.83398C30.2891%209.20703%2029.8789%208.82617%2029.1406%208.82617C28.4492%208.82617%2028.0273%209.14844%2027.9336%209.60547L27.9219%209.6582H26.5684L26.5742%209.58789C26.6621%208.48633%2027.6172%207.66016%2029.1934%207.66016C30.7461%207.66016%2031.748%208.48047%2031.748%209.72852V14H30.2891V13.0449H30.2539C29.8965%2013.6953%2029.2051%2014.1055%2028.3848%2014.1055ZM27.7578%2012.1719C27.7578%2012.6816%2028.1797%2012.9922%2028.8184%2012.9922C29.6562%2012.9922%2030.2891%2012.4355%2030.2891%2011.6973V11.2285L28.8711%2011.3164C28.1504%2011.3633%2027.7578%2011.6738%2027.7578%2012.166V12.1719Z'%20fill='%231A72F6'/%3e%3c/svg%3e",$Fe={class:"flex flex-col items-center justify-center gap-4 flex-1"},VFe=Rr({__name:"ChatTips",setup(t){var f;const e=vt(document.documentElement.clientHeight),r=vt(document.body.clientHeight),n=vt(document.documentElement.style.getPropertyValue("--vh")),s=vt(((f=window.visualViewport)==null?void 0:f.height)??window.innerHeight),i=vt(window.innerHeight),o=vt(parseFloat(getComputedStyle(document.documentElement).height)||0),a=vt(parseFloat(getComputedStyle(document.body).height)||0),c=()=>{var h;e.value=document.documentElement.clientHeight,r.value=document.body.clientHeight,n.value=document.documentElement.style.getPropertyValue("--vh"),s.value=((h=window.visualViewport)==null?void 0:h.height)??window.innerHeight,i.value=window.innerHeight,o.value=parseFloat(getComputedStyle(document.documentElement).height)||0,a.value=parseFloat(getComputedStyle(document.body).height)||0};let u=null,l=null,d=null;return Od(()=>{c(),window.visualViewport?(l=()=>{c()},d=()=>{c()},window.visualViewport.addEventListener("resize",l),window.visualViewport.addEventListener("scroll",d)):(u=()=>{c()},window.addEventListener("resize",u))}),f8(()=>{window.visualViewport&&l&&window.visualViewport.removeEventListener("resize",l),window.visualViewport&&d&&window.visualViewport.removeEventListener("scroll",d),u&&window.removeEventListener("resize",u)}),(h,p)=>(ct(),ir("header",$Fe,[p[0]||(p[0]=ot("h1",null,"888",-1)),ot("h1",null,"vh:"+ms(Se(n)),1),ot("h1",null,"htmlHeight(clientHeight):"+ms(Se(e)),1),ot("h1",null,"htmlComputedHeight:"+ms(Se(o)),1),ot("h1",null,"bodyHeight(clientHeight):"+ms(Se(r)),1),ot("h1",null,"bodyComputedHeight:"+ms(Se(a)),1),ot("h1",null,"visualViewportHeight:"+ms(Se(s)),1),ot("h1",null,"windowInnerHeight:"+ms(Se(i)),1),ot("h1",null,"calc:"+ms(Se(n)?parseFloat(Se(n))*100:"N/A")+"px",1),p[1]||(p[1]=tae('<div class="flex items-start"><img class="h-10" src="'+GK+'" alt="AEON Logo"><div class="relative"><img class="h-5 w-10 max-w-none absolute left-0 top-0" src="'+zFe+'" alt=""></div></div><p class="text-center break-keep"> Unlock the power of real-world payments for AI </p>',2))]))}}),S6=mne("ChatHistory",()=>{const t=vt("");function e(s){t.value=s}const r=vt([]);function n(s){r.value=s}return{ChatHistoryList:r,setChatHistoryList:n,MessagesStorageKey:t,setMessagesStorageKey:e}},{persist:!0});async function GFe(t){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error("",e),[]}}async function WFe(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(r){throw console.error("",r),r}}function KFe(){return S6().MessagesStorageKey}function fB(){return S6().ChatHistoryList||[]}function ZFe(t){return fB().some(r=>r.chatId===t)}function YFe(){return`messages_${KFe().slice(-8)||"default"}_chatid`}function Cse(t){return`${YFe()}_${t}`}async function JFe(t){const e=Cse(t);return await GFe(e)}async function QFe(t,e){const r=Cse(t);await WFe(r,e)}async function I6(t){return await JFe(t)}async function Oqe(t){return(await I6(t)).filter(r=>!r.imgUrl)}async function XFe(t){const e=fB(),r=await I6(t),n=[...e],s=n.findIndex(o=>o.chatId===t);s!==-1&&(n[s]={...n[s],messageLength:r.length}),S6().setChatHistoryList(n)}const gW=new Map;async function e7e(t,e){const n=(gW.get(t)||Promise.resolve()).then(async()=>{const s=await I6(t);(e.sender==="user"||e.sender==="agent")&&s.push(e),await QFe(t,s)}).catch(console.error);gW.set(t,n),await n}async function yW({messageObj:t,chatId:e}){var r;if(await e7e(e,t),ZFe(e))XFe(e);else{const n=S6(),s=fB(),i=await I6(e);n.setChatHistoryList([...s,{chatId:e,timeStamp:Date.now(),title:((r=t.text)==null?void 0:r.slice(0,50))||"New chat",messageLength:i.length}])}}const bW=.5*1e3,wS=()=>window.visualViewport?window.visualViewport.height:window.innerHeight,t7e=t=>{const{containerRef:e,inputRef:r,inputHeight:n,onHeightUpdate:s}=t;let i=null,o=!1,a=wS(),c=null,u=null,l=null;const d=()=>{r.value&&(n.value=r.value.offsetHeight,e.value&&(e.value.style.paddingBottom=`${n.value}px`),s==null||s())},f=()=>{const p=wS();o=a-p>150,u&&clearTimeout(u),u=setTimeout(()=>{d(),u=null},bW)},h=p=>{if(!o||!r.value)return;const m=p.target;if(!(r.value.contains(m)||m.closest("textarea")!==null||m.closest("input")!==null||m.tagName==="TEXTAREA"||m.tagName==="INPUT")){const E=document.activeElement;E&&(E.tagName==="TEXTAREA"||E.tagName==="INPUT")&&E.blur()}};return r.value&&(d(),a=wS(),i=new ResizeObserver(d),i.observe(r.value),window.visualViewport?(window.visualViewport.addEventListener("resize",f),window.visualViewport.addEventListener("scroll",f)):(window.addEventListener("resize",f),c=()=>{l&&clearTimeout(l),l=setTimeout(()=>{a=wS(),f(),l=null},bW)},window.addEventListener("orientationchange",c))),()=>{u&&(clearTimeout(u),u=null),l&&(clearTimeout(l),l=null),i&&(i.disconnect(),i=null),window.visualViewport?(window.visualViewport.removeEventListener("resize",f),window.visualViewport.removeEventListener("scroll",f)):(window.removeEventListener("resize",f),c&&(window.removeEventListener("orientationchange",c),c=null)),document.removeEventListener("touchstart",h)}},r7e={class:"container mx-auto p-4 lg:max-w-3xl flex flex-col flex-1 items-center justify-center"},n7e={class:"container mx-auto p-4 lg:max-w-3xl"},s7e=Rr({__name:"HomeView",setup(t){const e=PFe(),r=We(()=>e.query.evn),n=dB(),s=vt(null),i=vt(null),o=vt(96);let a=null;Od(()=>{a=t7e({containerRef:s,inputRef:i,inputHeight:o})}),H1(()=>{a&&(a(),a=null)});const c=async u=>{const l=await E9e();await yW({messageObj:{text:u,sender:"user",type:"text",timeStamp:Date.now()},chatId:l}),n.push(`/c/${l}`);const d=await w9e({message:u,evn:r.value,chatId:l});await yW({messageObj:{text:d,sender:"agent",type:"text",timeStamp:Date.now()},chatId:l})};return(u,l)=>(ct(),ir("div",{ref_key:"containerRef",ref:s,class:"flex flex-col flex-1"},[ot("div",r7e,[Gr(VFe)]),ot("div",{ref_key:"inputRef",ref:i,class:"fixed bottom-0 left-10 right-10 z-10 bg-white border-t border-gray-200 pb-[env(safe-area-inset-bottom,0)] lg:border-none"},[ot("div",n7e,[Gr(qFe,{onSubmit:c})])],512)],512))}}),i7e=[{path:"/",name:"home",component:s7e},{path:"/c/:chatId",name:"chat",meta:{requiresAuth:!1},component:()=>vn(()=>import("./ChatView-DpCkjj5G.js"),__vite__mapDeps([55,56]),import.meta.url)},{path:"/sol",name:"sol",component:()=>vn(()=>import("./SolView-60lz6rFY.js"),[],import.meta.url)}];async function o7e(){const e=xp().AccountInfo;if(e&&typeof e=="object"&&"address"in e&&e.address){await new Promise(s=>setTimeout(s,100));const{IsConnected:n}=S1();if(n.value)return!0;try{if(Uke())return!0}catch(s){console.warn("Failed to get AppKit connection state:",s)}return!0}const{IsConnected:r}=S1();return r.value}async function a7e(t,e,r){t.meta.requiresAuth?await o7e()?r():r({name:"home"}):r()}const Sse=TFe({history:iFe(),routes:i7e});Sse.beforeEach(a7e);var UO={exports:{}},wW;function c7e(){if(wW)return UO.exports;wW=1;var t=UO.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=s}catch{r=s}})();function i(m){if(e===setTimeout)return setTimeout(m,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(m,0);try{return e(m,0)}catch{try{return e.call(null,m,0)}catch{return e.call(this,m,0)}}}function o(m){if(r===clearTimeout)return clearTimeout(m);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(m);try{return r(m)}catch{try{return r.call(null,m)}catch{return r.call(this,m)}}}var a=[],c=!1,u,l=-1;function d(){!c||!u||(c=!1,u.length?a=u.concat(a):l=-1,a.length&&f())}function f(){if(!c){var m=i(d);c=!0;for(var y=a.length;y;){for(u=a,a=[];++l<y;)u&&u[l].run();l=-1,y=a.length}u=null,c=!1,o(m)}}t.nextTick=function(m){var y=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)y[E-1]=arguments[E];a.push(new h(m,y)),a.length===1&&!c&&i(f)};function h(m,y){this.fun=m,this.array=y}h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function p(){}return t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(m){return[]},t.binding=function(m){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(m){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},UO.exports}var u7e=c7e();const l7e=gg(u7e);function d7e(t,e){if(t==null)return;let r=t;for(let n=0;n<e.length;n++){if(r===void 0||r[e[n]]===void 0)return;if(r===null||r[e[n]]===null)return null;r=r[e[n]]}return r}function hB(t,e,r){if(r.length===0)return e;const n=r[0];return r.length>1&&(e=hB(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,n)?Number.isInteger(Number(r[1]))?[]:{}:t[n],e,Array.prototype.slice.call(r,1))),Number.isInteger(Number(n))&&Array.isArray(t)?t.slice()[n]:Object.assign({},t,{[n]:e})}function Ise(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const r={};for(const n in t)r[n]=t[n];return delete r[e[0]],r}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const r={};for(const n in t)r[n]=t[n];return r}return hB(t,Ise(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function Tse(t,e){return e.map(r=>r.split(".")).map(r=>[r,d7e(t,r)]).filter(r=>r[1]!==void 0).reduce((r,n)=>hB(r,n[1],n[0]),{})}function Pse(t,e){return e.map(r=>r.split(".")).reduce((r,n)=>Ise(r,n),t)}function EW(t,{storage:e,serializer:r,key:n,debug:s,pick:i,omit:o,beforeHydrate:a,afterHydrate:c},u,l=!0){try{l&&(a==null||a(u));const d=e.getItem(n);if(d){const f=r.deserialize(d),h=i?Tse(f,i):f,p=o?Pse(h,o):h;t.$patch(p)}l&&(c==null||c(u))}catch(d){s&&console.error("[pinia-plugin-persistedstate]",d)}}function vW(t,{storage:e,serializer:r,key:n,debug:s,pick:i,omit:o}){try{const a=i?Tse(t,i):t,c=o?Pse(a,o):a,u=r.serialize(c);e.setItem(n,u)}catch(a){s&&console.error("[pinia-plugin-persistedstate]",a)}}function f7e(t,e){return typeof t=="function"?t(e):typeof t=="string"?t:e}function h7e(t,e,r){const{pinia:n,store:s,options:{persist:i=r}}=t;if(!i)return;// v8 ignore if -- @preserve
if(!(s.$id in n.state.value)){const a=n._s.get(s.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(e);s.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{EW(s,c,t,a)})},s.$persist=()=>{o.forEach(a=>{vW(s.$state,a)})},o.forEach(a=>{EW(s,a,t),s.$subscribe((c,u)=>vW(u,a),{detached:!0})})}function p7e(t={}){return function(e){h7e(e,r=>{const n=f7e(r.key,e.store.$id);return{key:(t.key?t.key:s=>s)(n),debug:r.debug??t.debug??!1,serializer:r.serializer??t.serializer??{serialize:s=>JSON.stringify(s),deserialize:s=>JSON.parse(s)},storage:r.storage??t.storage??window.localStorage,beforeHydrate:r.beforeHydrate??t.beforeHydrate,afterHydrate:r.afterHydrate??t.afterHydrate,pick:r.pick,omit:r.omit}},t.auto??!1)}}var m7e=p7e();const Yc=()=>{let t;window.visualViewport?t=window.visualViewport.height*.01:t=window.innerHeight*.01,document.documentElement.style.setProperty("--vh",`${t}px`)},g7e=()=>(Yc(),window.visualViewport?(window.visualViewport.addEventListener("resize",Yc),window.visualViewport.addEventListener("scroll",Yc)):(window.addEventListener("resize",Yc),window.addEventListener("orientationchange",Yc)),()=>{window.visualViewport?(window.visualViewport.removeEventListener("resize",Yc),window.visualViewport.removeEventListener("scroll",Yc)):(window.removeEventListener("resize",Yc),window.removeEventListener("orientationchange",Yc))}),xse=Ike();xse.use(m7e);typeof window.Buffer>"u"&&(window.Buffer=Vae.Buffer);typeof global>"u"&&(window.global=window);g7e();window.process=l7e;const pB=Lae(MFe);pB.use(xse);pB.use(Sse);pB.mount("#app");export{bde as $,Ee as A,at as B,te as C,js as D,bt as E,rpe as F,ds as G,R8 as H,Ne as I,wxe as J,JZ as K,Aw as L,Bt as M,pce as N,Ce as O,Te as P,iqe as Q,st as R,tc as S,ni as T,Zi as U,Je as V,cn as W,Xe as X,Ot as Y,Qe as Z,HFe as _,ot as a,II as a$,fs as a0,Rr as a1,T0 as a2,nn as a3,Pr as a4,ms as a5,vt as a6,eo as a7,Od as a8,zn as a9,aqe as aA,eY as aB,ht as aC,bd as aD,afe as aE,pZ as aF,qt as aG,H7e as aH,Ad as aI,_d as aJ,wde as aK,Sde as aL,vde as aM,hZ as aN,lfe as aO,G1 as aP,bg as aQ,Nd as aR,Dh as aS,cd as aT,gg as aU,IS as aV,wX as aW,nN as aX,vn as aY,eg as aZ,kS as a_,b7e as aa,fn as ab,Jo as ac,S6 as ad,We as ae,PFe as af,t7e as ag,H1 as ah,Se as ai,qFe as aj,Oqe as ak,w9e as al,yW as am,mn as an,Zt as ao,bce as ap,Cw as aq,En as ar,Pt as as,rw as at,aR as au,Gi as av,a3e as aw,Jh as ax,Qa as ay,ci as az,Gr as b,Jfe as b$,na as b0,jb as b1,v0 as b2,spe as b3,j7e as b4,Hde as b5,D7e as b6,Ed as b7,Zde as b8,Mw as b9,SZ as bA,dfe as bB,W7e as bC,bfe as bD,Zm as bE,qw as bF,OZ as bG,Yh as bH,S8 as bI,VT as bJ,Pfe as bK,xfe as bL,Ofe as bM,Rfe as bN,Nfe as bO,Bfe as bP,kfe as bQ,jfe as bR,BZ as bS,K7e as bT,x7e as bU,T8 as bV,Ufe as bW,q7e as bX,P8 as bY,A8 as bZ,jZ as b_,qde as ba,Yde as bb,KZ as bc,KT as bd,oG as be,yg as bf,xZ as bg,Mh as bh,E0 as bi,she as bj,uhe as bk,lne as bl,qN as bm,yke as bn,hv as bo,FZ as bp,Q7e as bq,J7e as br,mZ as bs,wd as bt,ad as bu,k7e as bv,SI as bw,Rd as bx,R7e as by,PZ as bz,ir as c,Gw as c$,DZ as c0,rhe as c1,nhe as c2,hfe as c3,aHe as c4,cHe as c5,ohe as c6,X7e as c7,GZ as c8,che as c9,gfe as cA,yfe as cB,GT as cC,fZ as cD,dZ as cE,_de as cF,Ade as cG,Dk as cH,n1 as cI,r1 as cJ,t1 as cK,Zw as cL,Xw as cM,Hw as cN,Lw as cO,Vw as cP,Jm as cQ,Fw as cR,Xf as cS,Uw as cT,Kw as cU,to as cV,zw as cW,$w as cX,vi as cY,Yw as cZ,Ym as c_,ffe as ca,ihe as cb,ahe as cc,dhe as cd,eHe as ce,sHe as cf,tHe as cg,nHe as ch,rHe as ci,F7e as cj,CZ as ck,z7e as cl,$7e as cm,iHe as cn,oHe as co,B7e as cp,G7e as cq,V7e as cr,KK as cs,Rb as ct,C8 as cu,Kb as cv,ZZ as cw,Hk as cx,xhe as cy,uv as cz,Ue as d,e1 as d0,Afe as d1,Qw as d2,Jw as d3,Ww as d4,Uh as d5,wfe as d6,Efe as d7,vfe as d8,Rhe as d9,Yfe as da,the as db,ufe as dc,Ede as dd,Pde as de,xde as df,Lfe as dg,Dfe as dh,kZ as di,lhe as dj,Zfe as dk,Ihe as dl,O8 as dm,phe as dn,mhe as dp,WT as dq,ghe as dr,$T as ds,QHe as e,eqe as f,XHe as g,JHe as h,Ft as i,XZ as j,tqe as k,Kn as l,Rn as m,oqe as n,ct as o,Dr as p,cqe as q,boe as r,Zn as s,uqe as t,DS as u,Wxe as v,Ll as w,sqe as x,Po as y,Me as z};
