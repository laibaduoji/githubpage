const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-D6FVL4Ec.js","./index-C6wVOU_O.js","./index-CEKe8R0f.css","./hashTypedData-S5xNN5cq.js"])))=>i.map(i=>d[i]);
import{aC as U,aE as Fe,aF as Xn,aG as M,bx as jt,aR as ie,bw as Be,bu as gt,by as Fo,bi as ce,bt as Lt,bz as Oo,aD as Ze,bA as Is,bB as zo,aO as Rt,aS as he,bg as Qn,bC as Mo,bh as Re,bD as ks,bE as _o,bF as er,bG as jo,aP as Ct,aT as lt,aY as Ns,aQ as Le,bH as Lo,bI as kt,bJ as An,bK as Rr,bL as Cr,bM as Fr,bN as Or,bO as zr,bP as Mr,bQ as _r,bR as jr,bS as Bn,bT as wt,aI as Oe,aJ as Qe,bU as Lr,bV as Uo,bW as Ts,bX as Go,bY as Rs,bZ as Cs,b_ as Do,b$ as qo,c0 as Ho,c1 as Vo,c2 as Zo,c3 as Wo,bj as Se,c4 as Sn,c5 as Fs,c6 as Ko,c7 as Ft,c8 as Ur,c9 as Yo,ca as Gr,cb as Os,cc as In,cd as Jo,ce as kn,bs as dt,aH as zs,cf as Dr,cg as Ms,ch as qr,ci as Xo,bf as an,aN as Qo,aL as ei,cj as _s,ck as ti,cl as js,cm as Ls,bk as Us,b9 as ni,bb as ri,bc as si,b8 as ai,bp as oi,cn as Gs,co as Hr,cp as ii,cq as ci,cr as ui}from"./index-C6wVOU_O.js";import{c as Ie,d as Ds,i as qs,f as Hs,g as tt,A as Vr,j as Ue,t as tr,b as vt,k as xt,l as Vs,m as Zs,I as fi,n as nr,o as Ws,e as le,p as di,q as Ks,D as Ut,r as bt,s as Ot,u as Ys,v as li,w as Zr,x as bi,y as Wr,z as pi,B as hi,C as yi,E as mi,F as gi,G as wi,H as vi,U as xi,h as Js,a as Ei}from"./hashTypedData-S5xNN5cq.js";const Pi="1.1.0";let se=class Nn extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Nn?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Nn&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Pi}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const Xs=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function $i(e){return Xs.test(e)}function Ai(e){return Ie(Xs,e)}const Qs=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Bi(e){return Qs.test(e)}function Si(e){return Ie(Qs,e)}const ea=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ii(e){return ea.test(e)}function ki(e){return Ie(ea,e)}const ta=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function na(e){return ta.test(e)}function Ni(e){return Ie(ta,e)}const ra=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Ti(e){return ra.test(e)}function Ri(e){return Ie(ra,e)}const sa=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ci(e){return sa.test(e)}function Fi(e){return Ie(sa,e)}const Oi=/^receive\(\) external payable$/;function zi(e){return Oi.test(e)}const Mi=new Set(["indexed"]),Tn=new Set(["calldata","memory","storage"]);let _i=class extends se{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},ji=class extends se{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},Li=class extends se{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},Ui=class extends se{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},Gi=class extends se{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},Di=class extends se{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},qi=class extends se{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},nt=class extends se{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},Hi=class extends se{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},Vi=class extends se{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},Zi=class extends se{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},Wi=class extends se{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function Ki(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const o of s[1])a+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:e}const on=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Yi(e,t={}){if(Ii(e))return Ji(e,t);if(Bi(e))return Xi(e,t);if($i(e))return Qi(e,t);if(Ti(e))return e0(e,t);if(Ci(e))return t0(e);if(zi(e))return{type:"receive",stateMutability:"payable"};throw new Hi({signature:e})}function Ji(e,t={}){const n=ki(e);if(!n)throw new nt({signature:e,type:"function"});const r=ae(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(ze(r[c],{modifiers:Tn,structs:t,type:"function"}));const o=[];if(n.returns){const c=ae(n.returns),i=c.length;for(let u=0;u<i;u++)o.push(ze(c[u],{modifiers:Tn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Xi(e,t={}){const n=Si(e);if(!n)throw new nt({signature:e,type:"event"});const r=ae(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ze(r[o],{modifiers:Mi,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Qi(e,t={}){const n=Ai(e);if(!n)throw new nt({signature:e,type:"error"});const r=ae(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ze(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function e0(e,t={}){const n=Ri(e);if(!n)throw new nt({signature:e,type:"constructor"});const r=ae(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ze(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function t0(e){const t=Fi(e);if(!t)throw new nt({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const n0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,r0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,s0=/^u?int$/;function ze(e,t){var d,l;const n=Ki(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(on.has(n))return on.get(n);const r=Hs.test(e),s=Ie(r?r0:n0,e);if(!s)throw new Li({param:e});if(s.name&&o0(s.name))throw new Ui({param:e,name:s.name});const a=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let i,u={};if(r){i="tuple";const p=ae(s.type),h=[],b=p.length;for(let m=0;m<b;m++)h.push(ze(p[m],{structs:c}));u={components:h}}else if(s.type in c)i="tuple",u={components:c[s.type]};else if(s0.test(s.type))i=`${s.type}256`;else if(s.type==="address payable")i="address";else if(i=s.type,(t==null?void 0:t.type)!=="struct"&&!aa(i))throw new ji({type:i});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new Gi({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Tn.has(s.modifier)&&!i0(i,!!s.array))throw new Di({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${i}${s.array??""}`,...a,...o,...u};return on.set(n,f),f}function ae(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const o=e[a],c=e.slice(a+1);switch(o){case",":return r===0?ae(c,[...t,n.trim()]):ae(c,t,`${n}${o}`,r);case"(":return ae(c,t,`${n}${o}`,r+1);case")":return ae(c,t,`${n}${o}`,r-1);default:return ae(c,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Wi({current:n,depth:r});return t.push(n.trim()),t}function aa(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ds.test(e)||qs.test(e)}const a0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function o0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ds.test(e)||qs.test(e)||a0.test(e)}function i0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function c0(e){const t={},n=e.length;for(let o=0;o<n;o++){const c=e[o];if(!na(c))continue;const i=Ni(c);if(!i)throw new nt({signature:c,type:"struct"});const u=i.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const h=u[l].trim();if(!h)continue;const b=ze(h,{type:"struct"});f.push(b)}if(!f.length)throw new Vi({signature:c});t[i.name]=f}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[c,i]=s[o];r[c]=oa(i,t)}return r}const u0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function oa(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const o=e[a];if(Hs.test(o.type))r.push(o);else{const i=Ie(u0,o.type);if(!(i!=null&&i.type))throw new qi({abiParameter:o});const{array:u,type:f}=i;if(f in t){if(n.has(f))throw new Zi({type:f});r.push({...o,type:`tuple${u??""}`,components:oa(t[f]??[],t,new Set([...n,f]))})}else if(aa(f))r.push(o);else throw new _i({type:f})}}return r}function ia(e){const t=c0(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];na(a)||n.push(Yi(a,t))}return n}function z(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}class f0 extends U{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Kr="/docs/contract/encodeEventTopics";function Et(e){var i;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=tt({abi:t,name:n});if(!u)throw new Vr(n,{docsPath:Kr});s=u}if(s.type!=="event")throw new Vr(void 0,{docsPath:Kr});const a=Ue(s),o=tr(a);let c=[];if(r&&"inputs"in s){const u=(i=s.inputs)==null?void 0:i.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(c=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((p,h)=>Yr({param:d,value:f[l][h]})):typeof f[l]<"u"&&f[l]!==null?Yr({param:d,value:f[l]}):null))??[])}return[o,...c]}function Yr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Fe(Xn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new f0(e.type);return vt([e],[t])}function Gt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:c,transport:i})=>{c==="success"&&t===a&&(n[o]=i.request)})),(a=>n[a]||e.request)}async function ca(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:c,toBlock:i}=t,u=Gt(e,{method:"eth_newFilter"}),f=a?Et({abi:r,args:s,eventName:a}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?M(o):o,toBlock:typeof i=="bigint"?M(i):i,topics:f}]});return{abi:r,args:s,eventName:a,id:d,request:u(d),strict:!!c,type:"event"}}function ee(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const d0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ua={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},l0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function b0(e,t={}){typeof t.size<"u"&&jt(e,{size:t.size});const n=ie(e,t);return ce(n,t)}function p0(e,t={}){let n=e;if(typeof t.size<"u"&&(jt(n,{size:t.size}),n=gt(n)),n.length>1||n[0]>1)throw new Fo(n);return!!n[0]}function ve(e,t={}){typeof t.size<"u"&&jt(e,{size:t.size});const n=ie(e,t);return Be(n,t)}function h0(e,t={}){let n=e;return typeof t.size<"u"&&(jt(n,{size:t.size}),n=gt(n,{dir:"right"})),new TextDecoder().decode(n)}function Pt(e,t){const n=typeof t=="string"?Lt(t):t,r=Oo(n);if(Ze(n)===0&&e.length>0)throw new xt;if(Ze(t)&&Ze(t)<32)throw new Vs({data:typeof t=="string"?t:ie(t),params:e,size:Ze(t)});let s=0;const a=[];for(let o=0;o<e.length;++o){const c=e[o];r.setPosition(s);const[i,u]=Ye(r,c,{staticPosition:0});s+=u,a.push(i)}return a}function Ye(e,t,{staticPosition:n}){const r=Zs(t.type);if(r){const[s,a]=r;return m0(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return x0(e,t,{staticPosition:n});if(t.type==="address")return y0(e);if(t.type==="bool")return g0(e);if(t.type.startsWith("bytes"))return w0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return v0(e,t);if(t.type==="string")return E0(e,{staticPosition:n});throw new fi(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Jr=32,Rn=32;function y0(e){const t=e.readBytes(32);return[Is(ie(zo(t,-20))),32]}function m0(e,t,{length:n,staticPosition:r}){if(!n){const o=ve(e.readBytes(Rn)),c=r+o,i=c+Jr;e.setPosition(c);const u=ve(e.readBytes(Jr)),f=pt(t);let d=0;const l=[];for(let p=0;p<u;++p){e.setPosition(i+(f?p*32:d));const[h,b]=Ye(e,t,{staticPosition:i});d+=b,l.push(h)}return e.setPosition(r+32),[l,32]}if(pt(t)){const o=ve(e.readBytes(Rn)),c=r+o,i=[];for(let u=0;u<n;++u){e.setPosition(c+u*32);const[f]=Ye(e,t,{staticPosition:c});i.push(f)}return e.setPosition(r+32),[i,32]}let s=0;const a=[];for(let o=0;o<n;++o){const[c,i]=Ye(e,t,{staticPosition:r+s});s+=i,a.push(c)}return[a,s]}function g0(e){return[p0(e.readBytes(32),{size:32}),32]}function w0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=ve(e.readBytes(32));e.setPosition(n+o);const c=ve(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const i=e.readBytes(c);return e.setPosition(n+32),[ie(i),32]}return[ie(e.readBytes(Number.parseInt(s,10),32)),32]}function v0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?b0(s,{signed:n}):ve(s,{signed:n}),32]}function x0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(pt(t)){const o=ve(e.readBytes(Rn)),c=n+o;for(let i=0;i<t.components.length;++i){const u=t.components[i];e.setPosition(c+a);const[f,d]=Ye(e,u,{staticPosition:c});a+=d,s[r?i:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const c=t.components[o],[i,u]=Ye(e,c,{staticPosition:n});s[r?o:c==null?void 0:c.name]=i,a+=u}return[s,a]}function E0(e,{staticPosition:t}){const n=ve(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ve(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=h0(gt(a));return e.setPosition(t+32),[o,32]}function pt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(pt);const n=Zs(e.type);return!!(n&&pt({...e,type:n[1]}))}function P0(e){const{abi:t,data:n}=e,r=Rt(n,0,4);if(r==="0x")throw new xt;const a=[...t||[],ua,l0].find(o=>o.type==="error"&&r===nr(Ue(o)));if(!a)throw new Ws(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:a,args:"inputs"in a&&a.inputs&&a.inputs.length>0?Pt(a.inputs,Rt(n,4)):void 0,errorName:a.name}}function fa({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?he(t[a]):t[a]}`).join(", ")})`}class $0 extends U{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class A0 extends U{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Xr(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function B0(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Xr(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Xr(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}class da extends U{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:p}){var m;const h=n?ee(n):void 0;let b=Qn({from:h==null?void 0:h.address,to:d,value:typeof l<"u"&&`${ks(l)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${Re(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${Re(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Re(u)} gwei`,nonce:f});p&&(b+=`
${B0(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class la extends U{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:c}){const i=tt({abi:n,args:r,name:o}),u=i?fa({abiItem:i,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=i?Ue(i,{includeName:!0}):void 0,d=Qn({address:s&&Mo(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=c}}class Cn extends U{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,c,i;if(n&&n!=="0x")try{o=P0({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=o;if(d==="Error")i=l[0];else if(d==="Panic"){const[p]=l;i=d0[p]}else{const p=f?Ue(f,{includeName:!0}):void 0,h=f&&l?fa({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;c=[p?`Error: ${p}`:"",h&&h!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(f){a=f}else s&&(i=s);let u;a instanceof Ws&&(u=a.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(i&&i!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,i||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=i,this.signature=u}}class S0 extends U{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class I0 extends U{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Dt extends U{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const k0=3;function et(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const c=e instanceof Dt?e:e instanceof U?e.walk(h=>"data"in h)||e.walk():{},{code:i,data:u,details:f,message:d,shortMessage:l}=c,p=e instanceof xt?new S0({functionName:a}):[k0,_o.code].includes(i)&&(u||f||d||l)||i===er.code&&f==="execution reverted"&&u?new Cn({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:c instanceof jo?f:l??d}):e;return new la(p,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}function N0(e){const t=Fe(`0x${e.substring(4)}`).substring(26);return Is(`0x${t}`)}async function T0({hash:e,signature:t}){const n=Ct(e)?e:lt(e),{secp256k1:r}=await Ns(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Yd);return{secp256k1:o}},void 0,import.meta.url);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,p=Number(l??d),h=Qr(p);return new r.Signature(ce(u),ce(f)).addRecoveryBit(h)}const o=Ct(t)?t:lt(t);if(Ze(o)!==65)throw new Error("invalid signature length");const c=Be(`0x${o.slice(130)}`),i=Qr(c);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Qr(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function ba({hash:e,signature:t}){return N0(await T0({hash:e,signature:t}))}function R0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=Fe(Le(["0x05",Lo([t?M(t):"0x",s,n?M(n):"0x"])]));return r==="bytes"?Lt(a):a}async function pa(e){const{authorization:t,signature:n}=e;return ba({hash:R0(t),signature:n??t})}class C0 extends U{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var h;const p=Qn({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${ks(l)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${Re(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${Re(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Re(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function qt(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof U?e.walk(s=>(s==null?void 0:s.code)===kt.code):e;return r instanceof U?new kt({cause:e,message:r.details}):kt.nodeMessage.test(n)?new kt({cause:e,message:e.details}):An.nodeMessage.test(n)?new An({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Rr.nodeMessage.test(n)?new Rr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Cr.nodeMessage.test(n)?new Cr({cause:e,nonce:t==null?void 0:t.nonce}):Fr.nodeMessage.test(n)?new Fr({cause:e,nonce:t==null?void 0:t.nonce}):Or.nodeMessage.test(n)?new Or({cause:e,nonce:t==null?void 0:t.nonce}):zr.nodeMessage.test(n)?new zr({cause:e}):Mr.nodeMessage.test(n)?new Mr({cause:e,gas:t==null?void 0:t.gas}):_r.nodeMessage.test(n)?new _r({cause:e,gas:t==null?void 0:t.gas}):jr.nodeMessage.test(n)?new jr({cause:e}):Bn.nodeMessage.test(n)?new Bn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new wt({cause:e})}function F0(e,{docsPath:t,...n}){const r=(()=>{const s=qt(e,n);return s instanceof wt?e:s})();return new C0(r,{docsPath:t,...n})}function Ht(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const c of o)c in e&&(n[c]=e[c]),a[c]&&typeof a[c]=="object"&&!Array.isArray(a[c])&&r(a[c])}const s=t(e||{});return r(s),n}const O0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function $t(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=z0(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ie(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=M(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=M(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=M(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=M(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=M(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=M(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=O0[e.type]),typeof e.value<"u"&&(n.value=M(e.value)),n}function z0(e){return e.map(t=>({address:t.address,r:t.r?M(BigInt(t.r)):t.r,s:t.s?M(BigInt(t.s)):t.s,chainId:M(t.chainId),nonce:M(t.nonce),...typeof t.yParity<"u"?{yParity:M(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:M(t.v)}:{}}))}function es(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Lr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Lr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function M0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=M(t)),n!==void 0&&(o.nonce=M(n)),r!==void 0&&(o.state=es(r)),s!==void 0){if(o.state)throw new A0;o.stateDiff=es(s)}return o}function rr(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Oe(n,{strict:!1}))throw new Qe({address:n});if(t[n])throw new $0({address:n});t[n]=M0(r)}return t}function rt(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,a=t?ee(t):void 0;if(a&&!Oe(a.address))throw new Qe({address:a.address});if(s&&!Oe(s))throw new Qe({address:s});if(n&&n>Uo)throw new An({maxFeePerGas:n});if(r&&n&&r>n)throw new Bn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class ha extends U{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class sr extends U{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class _0 extends U{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Re(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ya extends U{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function oe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const a=s??!1,o=n!==void 0?M(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:!!o}),!c)throw new ya({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||Ts)(c,"getBlock")}async function ar(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function j0(e,t){return ma(e,t)}async function ma(e,t){var a,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof c=="function"){const u=n||await z(e,oe,"getBlock")({}),f=await c({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return ce(i)}catch{const[c,i]=await Promise.all([n?Promise.resolve(n):z(e,oe,"getBlock")({}),z(e,ar,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new sr;const u=i-c.baseFeePerGas;return u<0n?0n:u}}async function L0(e,t){return Fn(e,t)}async function Fn(e,t){var l,p;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var h,b;return typeof((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(o<1)throw new ha;const i=10**(((l=o.toString().split(".")[1])==null?void 0:l.length)??0),u=h=>h*BigInt(Math.ceil(o*i))/BigInt(i),f=n||await z(e,oe,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function"){const h=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(h!==null)return h}if(a==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new sr;const h=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await ma(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+h,maxPriorityFeePerGas:h}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await z(e,ar,"getGasPrice")({}))}}async function ga(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?M(r):n]},{dedupe:!!r});return Be(s)}function U0(e,{docsPath:t,...n}){const r=(()=>{const s=qt(e,n);return s instanceof wt?e:s})();return new Go(r,{docsPath:t,...n})}async function or(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Be(t)}async function wa(e,t){var B,N,C,I,T;const{account:n=e.account,accessList:r,authorizationList:s,chain:a=e.chain,blobVersionedHashes:o,blobs:c,data:i,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:h,nonceManager:b,to:m,type:x,value:P,...g}=t,y=await(async()=>{if(!n||!b||typeof h<"u")return h;const k=ee(n),L=a?a.id:await z(e,or,"getChainId")({});return await b.consume({address:k.address,chainId:L,client:e})})();rt(t);const w=(N=(B=a==null?void 0:a.formatters)==null?void 0:B.transactionRequest)==null?void 0:N.format,E=(w||$t)({...Ht(g,{format:w}),account:n?ee(n):void 0,accessList:r,authorizationList:s,blobs:c,blobVersionedHashes:o,data:i,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:y,to:m,type:x,value:P},"fillTransaction");try{const k=await e.request({method:"eth_fillTransaction",params:[E]}),v=(((I=(C=a==null?void 0:a.formatters)==null?void 0:C.transaction)==null?void 0:I.format)||Rs)(k.tx);delete v.blockHash,delete v.blockNumber,delete v.r,delete v.s,delete v.transactionIndex,delete v.v,delete v.yParity,v.data=v.input,v.gas&&(v.gas=t.gas??v.gas),v.gasPrice&&(v.gasPrice=t.gasPrice??v.gasPrice),v.maxFeePerBlobGas&&(v.maxFeePerBlobGas=t.maxFeePerBlobGas??v.maxFeePerBlobGas),v.maxFeePerGas&&(v.maxFeePerGas=t.maxFeePerGas??v.maxFeePerGas),v.maxPriorityFeePerGas&&(v.maxPriorityFeePerGas=t.maxPriorityFeePerGas??v.maxPriorityFeePerGas),v.nonce&&(v.nonce=t.nonce??v.nonce);const S=await(async()=>{var O,_;if(typeof((O=a==null?void 0:a.fees)==null?void 0:O.baseFeeMultiplier)=="function"){const G=await z(e,oe,"getBlock")({});return a.fees.baseFeeMultiplier({block:G,client:e,request:t})}return((_=a==null?void 0:a.fees)==null?void 0:_.baseFeeMultiplier)??1.2})();if(S<1)throw new ha;const $=10**(((T=S.toString().split(".")[1])==null?void 0:T.length)??0),R=O=>O*BigInt(Math.ceil(S*$))/BigInt($);return v.maxFeePerGas&&!t.maxFeePerGas&&(v.maxFeePerGas=R(v.maxFeePerGas)),v.gasPrice&&!t.gasPrice&&(v.gasPrice=R(v.gasPrice)),{raw:k.raw,transaction:{from:E.from,...v}}}catch(k){throw U0(k,{...t,chain:e.chain})}}const G0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ts=new Map,cn=new Cs(128);async function va(e,t){const{account:n=e.account,chain:r,nonceManager:s,parameters:a=G0}=t;let o;async function c(){return o||(r?r.id:typeof t.chainId<"u"?t.chainId:(o=await z(e,or,"getChainId")({}),o))}const i=n&&ee(n);let u=t.nonce;if(a.includes("nonce")&&typeof u>"u"&&i&&s){const g=await c();u=await s.consume({address:i.address,chainId:g,client:e})}const d=cn.get(e.uid)!==!1&&["fees","gas"].some(g=>{var y;return(y=t.parameters)==null?void 0:y.includes(g)})?await z(e,wa,"fillTransaction")({...t,nonce:u}).then(g=>{const{chainId:y,from:w,gas:A,gasPrice:E,nonce:B,maxFeePerBlobGas:N,maxFeePerGas:C,maxPriorityFeePerGas:I,type:T}=g.transaction;return cn.set(e.uid,!0),{...t,...y?{chainId:y}:{},...w?{from:w}:{},...A?{gas:A}:{},...E?{gasPrice:E}:{},...B?{nonce:B}:{},...N?{maxFeePerBlobGas:N}:{},...C?{maxFeePerGas:C}:{},...I?{maxPriorityFeePerGas:I}:{},...T?{type:T}:{}}}).catch(g=>(g.walk(A=>{const E=A;return E.name==="MethodNotFoundRpcError"||E.name==="MethodNotSupportedRpcError"})&&cn.set(e.uid,!1),t)):t,{blobs:l,gas:p,kzg:h,type:b}=d;u??(u=d.nonce);const m={...d,...i?{from:i==null?void 0:i.address}:{},...u?{nonce:u}:{}};let x;async function P(){return x||(x=await z(e,oe,"getBlock")({blockTag:"latest"}),x)}if(a.includes("nonce")&&typeof u>"u"&&i&&!s&&(m.nonce=await z(e,ga,"getTransactionCount")({address:i.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&l&&h){const g=Do({blobs:l,kzg:h});if(a.includes("blobVersionedHashes")){const y=qo({commitments:g,to:"hex"});m.blobVersionedHashes=y}if(a.includes("sidecars")){const y=Ho({blobs:l,commitments:g,kzg:h}),w=Vo({blobs:l,commitments:g,proofs:y,to:"hex"});m.sidecars=w}}if(a.includes("chainId")&&(m.chainId=await c()),(a.includes("fees")||a.includes("type"))&&typeof b>"u")try{m.type=Zo(m)}catch{let g=ts.get(e.uid);if(typeof g>"u"){const y=await P();g=typeof(y==null?void 0:y.baseFeePerGas)=="bigint",ts.set(e.uid,g)}m.type=g?"eip1559":"legacy"}if(a.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const g=await P(),{maxFeePerGas:y,maxPriorityFeePerGas:w}=await Fn(e,{block:g,chain:r,request:m});if(typeof m.maxPriorityFeePerGas>"u"&&m.maxFeePerGas&&m.maxFeePerGas<w)throw new _0({maxPriorityFeePerGas:w});m.maxPriorityFeePerGas=w,m.maxFeePerGas=y}}else{if(typeof m.maxFeePerGas<"u"||typeof m.maxPriorityFeePerGas<"u")throw new sr;if(typeof m.gasPrice>"u"){const g=await P(),{gasPrice:y}=await Fn(e,{block:g,chain:r,request:m,type:"legacy"});m.gasPrice=y}}return a.includes("gas")&&typeof p>"u"&&(m.gas=await z(e,ir,"estimateGas")({...m,account:i,prepare:(i==null?void 0:i.type)==="local"?[]:["blobVersionedHashes"]})),rt(m),delete m.parameters,m}async function ir(e,t){var o,c,i;const{account:n=e.account,prepare:r=!0}=t,s=n?ee(n):void 0,a=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:u,authorizationList:f,blobs:d,blobVersionedHashes:l,blockNumber:p,blockTag:h,data:b,gas:m,gasPrice:x,maxFeePerBlobGas:P,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:w,value:A,stateOverride:E,...B}=r?await va(e,{...t,parameters:a}):t,C=(typeof p=="bigint"?M(p):void 0)||h,I=rr(E),T=await(async()=>{if(B.to)return B.to;if(f&&f.length>0)return await pa({authorization:f[0]}).catch(()=>{throw new U("`to` is required. Could not infer from `authorizationList`")})})();rt(t);const k=(i=(c=(o=e.chain)==null?void 0:o.formatters)==null?void 0:c.transactionRequest)==null?void 0:i.format,v=(k||$t)({...Ht(B,{format:k}),account:s,accessList:u,authorizationList:f,blobs:d,blobVersionedHashes:l,data:b,gas:m,gasPrice:x,maxFeePerBlobGas:P,maxFeePerGas:g,maxPriorityFeePerGas:y,nonce:w,to:T,value:A},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:I?[v,C??e.experimental_blockTag??"latest",I]:C?[v,C]:[v]}))}catch(u){throw F0(u,{...t,account:s,chain:e.chain})}}async function D0(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...c}=t,i=le({abi:n,args:s,functionName:a});try{return await z(e,ir,"estimateGas")({data:`${i}${o?o.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?ee(c.account):void 0;throw et(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:f==null?void 0:f.address})}}function Vt(e,t){if(!Oe(e,{strict:!1}))throw new Qe({address:e});if(!Oe(t,{strict:!1}))throw new Qe({address:t});return e.toLowerCase()===t.toLowerCase()}const ns="/docs/contract/decodeEventLog";function cr(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[o,...c]=s;if(!o)throw new di({docsPath:ns});const i=t.find(b=>b.type==="event"&&o===tr(Ue(b)));if(!(i&&"name"in i)||i.type!=="event")throw new Ks(o,{docsPath:ns});const{name:u,inputs:f}=i,d=f==null?void 0:f.some(b=>!("name"in b&&b.name)),l=d?[]:{},p=f.map((b,m)=>[b,m]).filter(([b])=>"indexed"in b&&b.indexed);for(let b=0;b<p.length;b++){const[m,x]=p[b],P=c[b];if(!P)throw new Ut({abiItem:i,param:m});l[d?x:m.name||x]=q0({param:m,value:P})}const h=f.filter(b=>!("indexed"in b&&b.indexed));if(h.length>0){if(n&&n!=="0x")try{const b=Pt(h,n);if(b)if(d)for(let m=0;m<f.length;m++)l[m]=l[m]??b.shift();else for(let m=0;m<h.length;m++)l[h[m].name]=b[m]}catch(b){if(a)throw b instanceof Vs||b instanceof Wo?new bt({abiItem:i,data:n,params:h,size:Ze(n)}):b}else if(a)throw new bt({abiItem:i,data:"0x",params:h,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function q0({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Pt([e],t)||[])[0]}function ur(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var c;try{const i=t.find(f=>f.type==="event"&&o.topics[0]===tr(f));if(!i)return null;const u=cr({...o,abi:[i],strict:s});return a&&!a.includes(u.eventName)||!H0({args:u.args,inputs:i.inputs,matchArgs:n})?null:{...u,...o}}catch(i){let u,f;if(i instanceof Ks)return null;if(i instanceof bt||i instanceof Ut){if(s)return null;u=i.abiItem.name,f=(c=i.abiItem.inputs)==null?void 0:c.some(d=>!("name"in d&&d.name))}return{...o,args:f?[]:{},eventName:u}}}).filter(Boolean)}function H0(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(a,o,c){try{return a.type==="address"?Vt(o,c):a.type==="string"||a.type==="bytes"?Fe(Xn(o))===c:o===c}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((a,o)=>{if(a==null)return!0;const c=n[o];return c?(Array.isArray(a)?a:[a]).some(u=>s(c,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,o])=>{if(o==null)return!0;const c=n.find(u=>u.name===a);return c?(Array.isArray(o)?o:[o]).some(u=>s(c,u,t[a])):!1}):!1}async function fr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:c,strict:i}={}){const u=i??!1,f=o??(a?[a]:void 0);let d=[];f&&(d=[f.flatMap(b=>Et({abi:[b],eventName:b.name,args:o?void 0:c}))],a&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?M(r):r,toBlock:typeof s=="bigint"?M(s):s}]});const p=l.map(h=>Se(h));return f?ur({abi:f,args:c,logs:p,strict:u}):p}async function xa(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:c,toBlock:i,strict:u}=t,f=o?tt({abi:n,name:o}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return z(e,fr,"getLogs")({address:r,args:s,blockHash:a,event:f,events:d,fromBlock:c,toBlock:i,strict:u})}const un="/docs/contract/decodeFunctionResult";function Ge(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const c=tt({abi:t,args:n,name:r});if(!c)throw new Ot(r,{docsPath:un});a=c}if(a.type!=="function")throw new Ot(void 0,{docsPath:un});if(!a.outputs)throw new Ys(a.name,{docsPath:un});const o=Pt(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const V0="0.1.1";function Z0(){return V0}let j=class On extends Error{constructor(t,n={}){const r=(()=>{var i;if(n.cause instanceof On){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details})(),s=n.cause instanceof On&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Z0()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return Ea(this,t)}};function Ea(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Ea(e.cause,t):t?null:e}function At(e,t){if(We(e)>t)throw new fc({givenSize:We(e),maxSize:t})}const ye={zero:48,nine:57,A:65,F:70,a:97,f:102};function rs(e){if(e>=ye.zero&&e<=ye.nine)return e-ye.zero;if(e>=ye.A&&e<=ye.F)return e-(ye.A-10);if(e>=ye.a&&e<=ye.f)return e-(ye.a-10)}function W0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new dc({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const o=n==="right";s[o?a:r-a-1]=e[o?a:e.length-a-1]}return s}function Pa(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Zt(e,t){if(te(e)>t)throw new mc({givenSize:te(e),maxSize:t})}function K0(e,t){if(typeof t=="number"&&t>0&&t>te(e)-1)throw new Ra({offset:t,position:"start",size:te(e)})}function Y0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&te(e)!==n-t)throw new Ra({offset:n,position:"end",size:te(e)})}function $a(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new gc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const J0="#__bigint";function Aa(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+J0:s,n)}const X0=new TextDecoder,Q0=new TextEncoder;function ec(e){return e instanceof Uint8Array?e:typeof e=="string"?Ba(e):tc(e)}function tc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Ba(e,t={}){const{size:n}=t;let r=e;n&&(Zt(e,n),r=_e(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let c=0,i=0;c<a;c++){const u=rs(s.charCodeAt(i++)),f=rs(s.charCodeAt(i++));if(u===void 0||f===void 0)throw new j(`Invalid byte sequence ("${s[i-2]}${s[i-1]}" in "${s}").`);o[c]=u*16+f}return o}function nc(e,t={}){const{size:n}=t,r=Q0.encode(e);return typeof n=="number"?(At(r,n),rc(r,n)):r}function rc(e,t){return W0(e,{dir:"right",size:t})}function We(e){return e.length}function sc(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function ac(e,t={}){const{size:n}=t;typeof n<"u"&&At(e,n);const r=fe(e,t);return ka(r,t)}function oc(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(At(r,n),r=Sa(r)),r.length>1||r[0]>1)throw new uc(r);return!!r[0]}function xe(e,t={}){const{size:n}=t;typeof n<"u"&&At(e,n);const r=fe(e,t);return Na(r,t)}function ic(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(At(r,n),r=cc(r)),X0.decode(r)}function Sa(e){return Pa(e,{dir:"left"})}function cc(e){return Pa(e,{dir:"right"})}class uc extends j{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let fc=class extends j{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},dc=class extends j{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const lc=new TextEncoder,bc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pc(e,t={}){const{strict:n=!1}=t;if(!e)throw new ss(e);if(typeof e!="string")throw new ss(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new as(e);if(!e.startsWith("0x"))throw new as(e)}function ue(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function hc(e){return e instanceof Uint8Array?fe(e):Array.isArray(e)?fe(new Uint8Array(e)):e}function Ia(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Zt(n,t.size),Me(n,t.size)):n}function fe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=bc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Zt(r,t.size),_e(r,t.size)):r}function K(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const u=typeof e=="bigint"?"n":"";throw new Ta({max:a?`${a}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Me(i,r):i}function dr(e,t={}){return fe(lc.encode(e),t)}function Me(e,t){return $a(e,{dir:"left",size:t})}function _e(e,t){return $a(e,{dir:"right",size:t})}function pe(e,t,n,r={}){const{strict:s}=r;K0(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Y0(a,t,n),a}function te(e){return Math.ceil((e.length-2)/2)}function ka(e,t={}){const{signed:n}=t;t.size&&Zt(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,o=a>>1n;return r<=o?r:r-a-1n}function Na(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:ka(e,t))}function yc(e,t={}){const{strict:n=!1}=t;try{return pc(e,{strict:n}),!0}catch{return!1}}class Ta extends j{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ss extends j{constructor(t){super(`Value \`${typeof t=="object"?Aa(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class as extends j{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class mc extends j{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ra extends j{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class gc extends j{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function wc(e){return{address:e.address,amount:K(e.amount),index:K(e.index),validatorIndex:K(e.validatorIndex)}}function Ca(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:K(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:K(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:K(e.gasLimit)},...typeof e.number=="bigint"&&{number:K(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:K(e.prevRandao)},...typeof e.time=="bigint"&&{time:K(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(wc)}}}const vc="0x82ad56cb",Fa="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",xc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ec="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",lr="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",fn="/docs/contract/encodeDeployData";function br(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new li({docsPath:fn});if(!("inputs"in s))throw new Zr({docsPath:fn});if(!s.inputs||s.inputs.length===0)throw new Zr({docsPath:fn});const a=vt(s.inputs,n);return Le([r,a])}function st({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Sn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Sn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Oa(e,{docsPath:t,...n}){const r=(()=>{const s=qt(e,n);return s instanceof wt?e:s})();return new da(r,{docsPath:t,...n})}async function Wt(e,t){var k,L,v,S;const{account:n=e.account,authorizationList:r,batch:s=!!((k=e.batch)!=null&&k.multicall),blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",accessList:c,blobs:i,blockOverrides:u,code:f,data:d,factory:l,factoryData:p,gas:h,gasPrice:b,maxFeePerBlobGas:m,maxFeePerGas:x,maxPriorityFeePerGas:P,nonce:g,to:y,value:w,stateOverride:A,...E}=t,B=n?ee(n):void 0;if(f&&(l||p))throw new U("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new U("Cannot provide both `code` & `to` as parameters.");const N=f&&d,C=l&&p&&y&&d,I=N||C,T=N?za({code:f,data:d}):C?Ac({data:d,factory:l,factoryData:p,to:y}):d;try{rt(t);const $=(typeof a=="bigint"?M(a):void 0)||o,R=u?Ca(u):void 0,O=rr(A),_=(S=(v=(L=e.chain)==null?void 0:L.formatters)==null?void 0:v.transactionRequest)==null?void 0:S.format,H=(_||$t)({...Ht(E,{format:_}),accessList:c,account:B,authorizationList:r,blobs:i,data:T,gas:h,gasPrice:b,maxFeePerBlobGas:m,maxFeePerGas:x,maxPriorityFeePerGas:P,nonce:g,to:I?void 0:y,value:w},"call");if(s&&Pc({request:H})&&!O&&!R)try{return await $c(e,{...H,blockNumber:a,blockTag:o})}catch(W){if(!(W instanceof Fs)&&!(W instanceof Sn))throw W}const Z=(()=>{const W=[H,$];return O&&R?[...W,O,R]:O?[...W,O]:R?[...W,{},R]:W})(),D=await e.request({method:"eth_call",params:Z});return D==="0x"?{data:void 0}:{data:D}}catch(F){const $=Bc(F),{offchainLookup:R,offchainLookupSignature:O}=await Ns(async()=>{const{offchainLookup:_,offchainLookupSignature:G}=await import("./index-D6FVL4Ec.js").then(H=>H.c);return{offchainLookup:_,offchainLookupSignature:G}},__vite__mapDeps([0,1,2,3]),import.meta.url);if(e.ccipRead!==!1&&($==null?void 0:$.slice(0,10))===O&&y)return{data:await R(e,{data:$,to:y})};throw I&&($==null?void 0:$.slice(0,10))==="0x101bb98d"?new I0({factory:l}):Oa(F,{...t,account:B,chain:e.chain})}}function Pc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(vc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function $c(e,t){var b;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",data:c,to:i}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return st({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Fs})(),d=(typeof a=="bigint"?M(a):void 0)||o,{schedule:l}=Ko({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(m){return m.reduce((P,{data:g})=>P+(g.length-2),0)>n*2},fn:async m=>{const x=m.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),P=le({abi:Ft,args:[x],functionName:"aggregate3"}),g=await e.request({method:"eth_call",params:[{...u===null?{data:za({code:lr,data:P})}:{to:u,data:P}},d]});return Ge({abi:Ft,args:[x],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:p,success:h}]=await l({data:c,to:i});if(!h)throw new Dt({data:p});return p==="0x"?{data:void 0}:{data:p}}function za(e){const{code:t,data:n}=e;return br({abi:ia(["constructor(bytes, bytes)"]),bytecode:Fa,args:[t,n]})}function Ac(e){const{data:t,factory:n,factoryData:r,to:s}=e;return br({abi:ia(["constructor(address, bytes, address, bytes)"]),bytecode:xc,args:[s,t,n,r]})}function Bc(e){var n;if(!(e instanceof U))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function de(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,c=le({abi:n,args:s,functionName:a});try{const{data:i}=await z(e,Wt,"call")({...o,data:c,to:r});return Ge({abi:n,args:s,functionName:a,data:i||"0x"})}catch(i){throw et(i,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function Sc(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...c}=t,i=c.account?ee(c.account):e.account,u=le({abi:n,args:s,functionName:o});try{const{data:f}=await z(e,Wt,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...c,account:i}),d=Ge({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:a,functionName:o,...c,account:i}}}catch(f){throw et(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:i==null?void 0:i.address})}}const dn=new Map,os=new Map;let Ic=0;function Ee(e,t,n){const r=++Ic,s=()=>dn.get(e)||[],a=()=>{const f=s();dn.set(e,f.filter(d=>d.id!==r))},o=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=os.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}a()},c=s();if(dn.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return o;const i={};for(const f in t)i[f]=((...d)=>{var p,h;const l=s();if(l.length!==0)for(const b of l)(h=(p=b.fns)[f])==null||h.call(p,...d)});const u=n(i);return typeof u=="function"&&os.set(e,u),o}function at(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:a}));const i=await(n==null?void 0:n(c))??r;await Ur(i);const u=async()=>{s&&(await e({unpoll:a}),await Ur(r),u())};u()})(),a}const kc=new Map,Nc=new Map;function Tc(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,kc),r=t(e,Nc);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Rc(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Tc(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Cc=e=>`blockNumber.${e}`;async function Bt(e,{cacheTime:t=e.cacheTime}={}){const n=await Rc(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Cc(e.uid),cacheTime:t});return BigInt(n)}async function Kt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Se(a));return!("abi"in t)||!t.abi?s:ur({abi:t.abi,logs:s,strict:n})}async function Yt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Fc(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:c,onError:i,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const m=l??!1,x=he(["watchContractEvent",r,s,a,e.uid,o,d,m,c]);return Ee(x,{onLogs:u,onError:i},P=>{let g;c!==void 0&&(g=c-1n);let y,w=!1;const A=at(async()=>{var E;if(!w){try{y=await z(e,ca,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:m,fromBlock:c})}catch{}w=!0;return}try{let B;if(y)B=await z(e,Kt,"getFilterChanges")({filter:y});else{const N=await z(e,Bt,"getBlockNumber")({});g&&g<N?B=await z(e,xa,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:g+1n,toBlock:N,strict:m}):B=[],g=N}if(B.length===0)return;if(a)P.onLogs(B);else for(const N of B)P.onLogs([N])}catch(B){y&&B instanceof er&&(w=!1),(E=P.onError)==null||E.call(P,B)}},{emitOnBegin:!0,interval:d});return async()=>{y&&await z(e,Yt,"uninstallFilter")({filter:y}),A()}})})():(()=>{const m=l??!1,x=he(["watchContractEvent",r,s,a,e.uid,o,d,m]);let P=!0,g=()=>P=!1;return Ee(x,{onLogs:u,onError:i},y=>((async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const B=e.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return B?B.value:e.transport}return e.transport})(),A=o?Et({abi:n,eventName:o,args:s}):[],{unsubscribe:E}=await w.subscribe({params:["logs",{address:r,topics:A}],onData(B){var C;if(!P)return;const N=B.result;try{const{eventName:I,args:T}=cr({abi:n,data:N.data,topics:N.topics,strict:l}),k=Se(N,{args:T,eventName:I});y.onLogs([k])}catch(I){let T,k;if(I instanceof bt||I instanceof Ut){if(l)return;T=I.abiItem.name,k=(C=I.abiItem.inputs)==null?void 0:C.some(v=>!("name"in v&&v.name))}const L=Se(N,{args:k?[]:{},eventName:T});y.onLogs([L])}},onError(B){var N;(N=y.onError)==null||N.call(y,B)}});g=E,P||g()}catch(w){i==null||i(w)}})(),()=>g()))})()}async function Oc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}class zc extends U{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}const Mc="0x5792579257925792579257925792579257925792579257925792579257925792",_c=M(0,{size:32});async function jc(e,t){async function n(f){if(f.endsWith(Mc.slice(2))){const l=gt(Gr(f,-64,-32)),p=Gr(f,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(p.map(m=>_c.slice(2)!==m?e.request({method:"eth_getTransactionReceipt",params:[`0x${m}`]},{dedupe:!0}):void 0)),b=h.some(m=>m===null)?100:h.every(m=>(m==null?void 0:m.status)==="0x1")?200:h.every(m=>(m==null?void 0:m.status)==="0x0")?500:600;return{atomic:!1,chainId:Be(l),receipts:h.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:a,version:o="2.0.0",...c}=await n(t.id),[i,u]=(()=>{const f=c.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...c,atomic:r,chainId:s?Be(s):void 0,receipts:(a==null?void 0:a.map(f=>({...f,blockNumber:ce(f.blockNumber),gasUsed:ce(f.gasUsed),status:Yo[f.status]})))??[],statusCode:u,status:i,version:o}}async function Nl(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:b})=>b===200||b>=300,retryCount:a=4,retryDelay:o=({count:b})=>~~(1<<b)*200,timeout:c=6e4,throwOnFailure:i=!1}=t,u=he(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Os();let p;const h=Ee(u,{resolve:d,reject:l},b=>{const m=at(async()=>{const x=P=>{clearTimeout(p),m(),P(),h()};try{const P=await In(async()=>{const g=await z(e,jc,"getCallsStatus")({id:n});if(i&&g.status==="failure")throw new zc(g);return g},{retryCount:a,delay:o});if(!s(P))return;x(()=>b.resolve(P))}catch(P){x(()=>b.reject(P))}},{interval:r,emitOnBegin:!0});return m});return p=c?setTimeout(()=>{h(),clearTimeout(p),l(new Lc({id:n}))},c):void 0,await f}class Lc extends U{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function Uc(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:o="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),i=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(i/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?ee(e.account):void 0,{config:p,request:h,value:b}=e.transport({account:l,chain:n,pollingInterval:f}),m={...p,...b},x={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:a,pollingInterval:f,request:h,transport:m,type:o,uid:Jo(),...c?{experimental_blockTag:c}:{}};function P(g){return y=>{const w=y(g);for(const E in x)delete w[E];const A={...g,...w};return Object.assign(A,{extend:P(A)})}}return Object.assign(x,{extend:P(x)})}function pr(e){var n,r,s,a,o,c;if(!(e instanceof U))return!1;const t=e.walk(i=>i instanceof Cn);return t instanceof Cn?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((a=t.data)==null?void 0:a.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((c=t.data)==null?void 0:c.errorName)==="UnsupportedResolverProfile":!1}function Gc(e){const{abi:t,data:n}=e,r=Rt(n,0,4),s=t.find(a=>a.type==="function"&&r===nr(Ue(a)));if(!s)throw new bi(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Pt(s.inputs,Rt(n,4)):void 0}}const ln="/docs/contract/encodeErrorResult";function is(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const i=tt({abi:t,args:r,name:n});if(!i)throw new Wr(n,{docsPath:ln});s=i}if(s.type!=="error")throw new Wr(void 0,{docsPath:ln});const a=Ue(s),o=nr(a);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new pi(s.name,{docsPath:ln});c=vt(s.inputs,r)}return Le([o,c])}const bn="/docs/contract/encodeFunctionResult";function Dc(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=tt({abi:t,name:n});if(!o)throw new Ot(n,{docsPath:bn});s=o}if(s.type!=="function")throw new Ot(void 0,{docsPath:bn});if(!s.outputs)throw new Ys(s.name,{docsPath:bn});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new hi(r)})();return vt(s.outputs,a)}const Jt="x-batch-gateway:true";async function qc(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Gc({abi:kn,data:t}),s=[],a=[];return await Promise.all(r.map(async(o,c)=>{try{a[c]=o.urls.includes(Jt)?await qc({data:o.data,ccipRequest:n}):await n(o),s[c]=!1}catch(i){s[c]=!0,a[c]=Hc(i)}})),Dc({abi:kn,functionName:"query",result:[s,a]})}function Hc(e){return e.name==="HttpRequestError"&&e.status?is({abi:kn,errorName:"HttpError",args:[e.status,e.shortMessage]}):is({abi:[ua],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Ma(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ct(t)?t:null}function zn(e){let t=new Uint8Array(32).fill(0);if(!e)return ie(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Ma(n[r]),a=s?Xn(s):Fe(dt(n[r]),"bytes");t=Fe(zs([t,a]),"bytes")}return ie(t)}function Vc(e){return`[${e.slice(2)}]`}function Zc(e){const t=new Uint8Array(32).fill(0);return e?Ma(e)||Fe(dt(e)):ie(t)}function hr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(dt(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=dt(s[a]);o.byteLength>255&&(o=dt(Vc(Zc(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Wc(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i==null?void 0:i.ensTlds;if(f&&!f.some(l=>a.endsWith(l)))return null;const d=s!=null?[zn(a),BigInt(s)]:[zn(a)];try{const l=le({abi:Dr,functionName:"addr",args:d}),p={address:u,abi:Ms,functionName:"resolveWithGateways",args:[lt(hr(a)),l,o??[Jt]],blockNumber:n,blockTag:r},b=await z(e,de,"readContract")(p);if(b[0]==="0x")return null;const m=Ge({abi:Dr,args:d,functionName:"addr",data:b[0]});return m==="0x"||gt(m)==="0x00"?null:m}catch(l){if(c)throw l;if(pr(l))return null;throw l}}class Kc extends U{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class ft extends U{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class yr extends U{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Yc extends U{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Jc=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Xc=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Qc=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,eu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function tu(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function cs(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function _a({uri:e,gatewayUrls:t}){const n=Qc.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=cs(t==null?void 0:t.ipfs,"https://ipfs.io"),s=cs(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(Jc),{protocol:o,subpath:c,target:i,subtarget:u=""}=(a==null?void 0:a.groups)||{},f=o==="ipns:/"||c==="ipns/",d=o==="ipfs:/"||c==="ipfs/"||Xc.test(e);if(e.startsWith("http")&&!f&&!d){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((f||d)&&i)return{uri:`${r}/${f?"ipns":"ipfs"}/${i}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&i)return{uri:`${s}/${i}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(eu,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new yr({uri:e})}function ja(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Kc({data:e});return e.image||e.image_url||e.image_data}async function nu({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await mr({gatewayUrls:e,uri:ja(n)})}catch{throw new yr({uri:t})}}async function mr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=_a({uri:t,gatewayUrls:e});if(r||await tu(n))return n;throw new yr({uri:t})}function ru(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[c,i]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new ft({reason:"Only EIP-155 supported"});if(!o)throw new ft({reason:"Chain ID not found"});if(!i)throw new ft({reason:"Contract address not found"});if(!s)throw new ft({reason:"Token ID not found"});if(!c)throw new ft({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:c.toLowerCase(),contractAddress:i,tokenID:s}}async function su(e,{nft:t}){if(t.namespace==="erc721")return de(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return de(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Yc({namespace:t.namespace})}async function au(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?ou(e,{gatewayUrls:t,record:n}):mr({uri:n,gatewayUrls:t})}async function ou(e,{gatewayUrls:t,record:n}){const r=ru(n),s=await su(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:c}=_a({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=c?atob(a.replace("data:application/json;base64,","")):a,f=JSON.parse(u);return mr({uri:ja(f),gatewayUrls:t})}let i=r.tokenID;return r.namespace==="erc1155"&&(i=i.replace("0x","").padStart(64,"0")),nu({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,i)})}async function La(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i==null?void 0:i.ensTlds;if(f&&!f.some(d=>a.endsWith(d)))return null;try{const d={address:u,abi:Ms,args:[lt(hr(a)),le({abi:qr,functionName:"text",args:[zn(a),s]}),o??[Jt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},p=await z(e,de,"readContract")(d);if(p[0]==="0x")return null;const h=Ge({abi:qr,functionName:"text",data:p[0]});return h===""?null:h}catch(d){if(c)throw d;if(pr(d))return null;throw d}}async function iu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:c}){const i=await z(e,La,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:a,strict:o});if(!i)return null;try{return await au(e,{record:i,gatewayUrls:r})}catch{return null}}async function cu(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:r,chain:i,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Xo,args:[n,a,o??[Jt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=z(e,de,"readContract"),[l]=await d(f);return l||null}catch(f){if(c)throw f;if(pr(f))return null;throw f}}async function uu(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return st({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),c=a==null?void 0:a.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c==null?void 0:c.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[i]=await z(e,de,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[lt(hr(s))],blockNumber:n,blockTag:r});return i}async function Ua(e,t){var m,x,P;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:p,...h}=t,b=n?ee(n):void 0;try{rt(t);const y=(typeof r=="bigint"?M(r):void 0)||s,w=(P=(x=(m=e.chain)==null?void 0:m.formatters)==null?void 0:x.transactionRequest)==null?void 0:P.format,E=(w||$t)({...Ht(h,{format:w}),account:b,blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:p},"createAccessList"),B=await e.request({method:"eth_createAccessList",params:[E,y]});return{accessList:B.accessList,gasUsed:BigInt(B.gasUsed)}}catch(g){throw Oa(g,{...t,account:b,chain:e.chain})}}async function fu(e){const t=Gt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ga(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:c}={}){const i=s??(r?[r]:void 0),u=Gt(e,{method:"eth_newFilter"});let f=[];i&&(f=[i.flatMap(p=>Et({abi:[p],eventName:p.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?M(a):a,toBlock:typeof c=="bigint"?M(c):c,...f.length?{topics:f}:{}}]});return{abi:i,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:u(d),strict:!!o,toBlock:c,type:"event"}}async function Da(e){const t=Gt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function du(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?M(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function lu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function bu(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?M(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Be(a)}async function Mn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?M(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}class pu extends U{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function hu(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,o,c,i,u,f,d]=await z(e,de,"readContract")({abi:yu,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:c,chainId:Number(i),verifyingContract:u,salt:f},extensions:d,fields:a}}catch(a){const o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new pu({address:n}):o}}const yu=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function mu(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function gu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?M(n):void 0,o=await e.request({method:"eth_feeHistory",params:[M(t),a||r,s]},{dedupe:!!a});return mu(o)}async function wu(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Se(a));return t.abi?ur({abi:t.abi,logs:s,strict:n}):s}function Tl(e,t){if(e.length!==t.length)throw new yi({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(qa(s,a))}return Le(n)}function qa(e,t,n=!1){if(e==="address"){const o=t;if(!Oe(o))throw new Qe({address:o});return an(o.toLowerCase(),{size:n?32:null})}if(e==="string")return Qo(t);if(e==="bytes")return t;if(e==="bool")return an(ei(t),{size:n?32:1});const r=e.match(mi);if(r){const[o,c,i="256"]=r,u=Number.parseInt(i,10)/8;return M(t,{size:n?32:u,signed:c==="int"})}const s=e.match(gi);if(s){const[o,c]=s;if(Number.parseInt(c,10)!==(t.length-2)/2)throw new wi({expectedSize:Number.parseInt(c,10),givenSize:(t.length-2)/2});return an(t,{dir:"right",size:n?32:null})}const a=e.match(vi);if(a&&Array.isArray(t)){const[o,c]=a,i=[];for(let u=0;u<t.length;u++)i.push(qa(c,t[u],!0));return i.length===0?"0x":Le(i)}throw new xi(e)}async function vu({address:e,authorization:t,signature:n}){return Vt(_s(e),await pa({authorization:t,signature:n}))}function Rl(e){const{source:t}=e,n=new Map,r=new Cs(8192),s=new Map,a=({address:o,chainId:c})=>`${o}.${c}`;return{async consume({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c}),f=this.get({address:o,chainId:c,client:i});this.increment({address:o,chainId:c});const d=await f;return await t.set({address:o,chainId:c},d),r.set(u,d),d},async increment({address:o,chainId:c}){const i=a({address:o,chainId:c}),u=n.get(i)??0;n.set(i,u+1)},async get({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:o,chainId:c,client:i}),p=r.get(u)??0;return p>0&&l<=p?p+1:(r.delete(u),l)}finally{this.reset({address:o,chainId:c})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:c}){const i=a({address:o,chainId:c});n.delete(i),s.delete(i)}}}const xu="0x6492649264926492649264926492649264926492649264926492649264926492",Eu="1.2.0";class V extends Error{constructor(t,n={}){var o;const r=n.cause instanceof V?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof V&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Eu}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}}function $e(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Ha=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Va=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Za=/^\(.+?\).*?$/,us=/^tuple(?<array>(\[(\d*)\])*)$/;function _n(e){let t=e.type;if(us.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=_n(a),s<n-1&&(t+=", ")}const r=$e(us,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,_n({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ve(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=_n(s),r!==n-1&&(t+=", ")}return t}function jn(e){var t;return e.type==="function"?`function ${e.name}(${Ve(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Ve(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Ve(e.inputs)})`:e.type==="error"?`error ${e.name}(${Ve(e.inputs)})`:e.type==="constructor"?`constructor(${Ve(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Wa=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Pu(e){return Wa.test(e)}function $u(e){return $e(Wa,e)}const Ka=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Au(e){return Ka.test(e)}function Bu(e){return $e(Ka,e)}const Ya=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Su(e){return Ya.test(e)}function Iu(e){return $e(Ya,e)}const Ja=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function gr(e){return Ja.test(e)}function ku(e){return $e(Ja,e)}const Xa=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Nu(e){return Xa.test(e)}function Tu(e){return $e(Xa,e)}const Qa=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Ru(e){return Qa.test(e)}function Cu(e){return $e(Qa,e)}const Fu=/^receive\(\) external payable$/;function Ou(e){return Fu.test(e)}const fs=new Set(["memory","indexed","storage","calldata"]),zu=new Set(["indexed"]),Ln=new Set(["calldata","memory","storage"]);class Mu extends V{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class _u extends V{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class ju extends V{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Lu extends V{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Uu extends V{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Gu extends V{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Du extends V{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class qu extends V{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Hu extends V{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ot extends V{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Vu extends V{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Zu extends V{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Wu extends V{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Ku extends V{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Yu(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const o of s[1])a+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const pn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function ds(e,t={}){if(Su(e))return Ju(e,t);if(Au(e))return Xu(e,t);if(Pu(e))return Qu(e,t);if(Nu(e))return ef(e,t);if(Ru(e))return tf(e);if(Ou(e))return{type:"receive",stateMutability:"payable"};throw new Vu({signature:e})}function Ju(e,t={}){const n=Iu(e);if(!n)throw new ot({signature:e,type:"function"});const r=Q(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(Pe(r[c],{modifiers:Ln,structs:t,type:"function"}));const o=[];if(n.returns){const c=Q(n.returns),i=c.length;for(let u=0;u<i;u++)o.push(Pe(c[u],{modifiers:Ln,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Xu(e,t={}){const n=Bu(e);if(!n)throw new ot({signature:e,type:"event"});const r=Q(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(Pe(r[o],{modifiers:zu,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Qu(e,t={}){const n=$u(e);if(!n)throw new ot({signature:e,type:"error"});const r=Q(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(Pe(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function ef(e,t={}){const n=Tu(e);if(!n)throw new ot({signature:e,type:"constructor"});const r=Q(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(Pe(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function tf(e){const t=Cu(e);if(!t)throw new ot({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const nf=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rf=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,sf=/^u?int$/;function Pe(e,t){var d,l;const n=Yu(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(pn.has(n))return pn.get(n);const r=Za.test(e),s=$e(r?rf:nf,e);if(!s)throw new Uu({param:e});if(s.name&&of(s.name))throw new Gu({param:e,name:s.name});const a=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let i,u={};if(r){i="tuple";const p=Q(s.type),h=[],b=p.length;for(let m=0;m<b;m++)h.push(Pe(p[m],{structs:c}));u={components:h}}else if(s.type in c)i="tuple",u={components:c[s.type]};else if(sf.test(s.type))i=`${s.type}256`;else if(s.type==="address payable")i="address";else if(i=s.type,(t==null?void 0:t.type)!=="struct"&&!eo(i))throw new ju({type:i});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new Du({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Ln.has(s.modifier)&&!cf(i,!!s.array))throw new qu({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${i}${s.array??""}`,...a,...o,...u};return pn.set(n,f),f}function Q(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const o=e[a],c=e.slice(a+1);switch(o){case",":return r===0?Q(c,[...t,n.trim()]):Q(c,t,`${n}${o}`,r);case"(":return Q(c,t,`${n}${o}`,r+1);case")":return Q(c,t,`${n}${o}`,r-1);default:return Q(c,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Ku({current:n,depth:r});return t.push(n.trim()),t}function eo(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ha.test(e)||Va.test(e)}const af=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function of(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ha.test(e)||Va.test(e)||af.test(e)}function cf(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function to(e){const t={},n=e.length;for(let o=0;o<n;o++){const c=e[o];if(!gr(c))continue;const i=ku(c);if(!i)throw new ot({signature:c,type:"struct"});const u=i.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const h=u[l].trim();if(!h)continue;const b=Pe(h,{type:"struct"});f.push(b)}if(!f.length)throw new Zu({signature:c});t[i.name]=f}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[c,i]=s[o];r[c]=no(i,t)}return r}const uf=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function no(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const o=e[a];if(Za.test(o.type))r.push(o);else{const i=$e(uf,o.type);if(!(i!=null&&i.type))throw new Hu({abiParameter:o});const{array:u,type:f}=i;if(f in t){if(n.has(f))throw new Wu({type:f});r.push({...o,type:`tuple${u??""}`,components:no(t[f]??[],t,new Set([...n,f]))})}else if(eo(f))r.push(o);else throw new _u({type:f})}}return r}function ls(e){let t;if(typeof e=="string")t=ds(e);else{const n=to(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!gr(a)){t=ds(a,n);break}}}if(!t)throw new Mu({signature:e});return t}function bs(e){const t=[];if(typeof e=="string"){const n=Q(e),r=n.length;for(let s=0;s<r;s++)t.push(Pe(n[s],{modifiers:fs}))}else{const n=to(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(gr(a))continue;const o=Q(a),c=o.length;for(let i=0;i<c;i++)t.push(Pe(o[i],{modifiers:fs,structs:n}))}}if(t.length===0)throw new Lu({params:e});return t}class ff extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const df={checksum:new ff(8192)},hn=df.checksum;function ro(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=ti(ec(e));return n==="Bytes"?r:fe(r)}const lf=/^0x[a-fA-F0-9]{40}$/;function Xt(e,t={}){const{strict:n=!0}=t;if(!lf.test(e))throw new ps({address:e,cause:new bf});if(n){if(e.toLowerCase()===e)return;if(so(e)!==e)throw new ps({address:e,cause:new pf})}}function so(e){if(hn.has(e))return hn.get(e);Xt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=ro(nc(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return hn.set(e,s),s}function Un(e,t={}){const{strict:n=!0}=t??{};try{return Xt(e,{strict:n}),!0}catch{return!1}}class ps extends j{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class bf extends j{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class pf extends j{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const hf=/^(.*)\[([0-9]*)\]$/,yf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ao=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,hs=2n**256n-1n;function Je(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=xr(t.type);if(a){const[o,c]=a;return gf(e,{...t,type:c},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return Ef(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return mf(e,{checksum:r});if(t.type==="bool")return wf(e);if(t.type.startsWith("bytes"))return vf(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return xf(e,t);if(t.type==="string")return Pf(e,{staticPosition:s});throw new Pr(t.type)}const ys=32,Gn=32;function mf(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(a=>n?so(a):a)(fe(sc(r,-20))),32]}function gf(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const i=xe(e.readBytes(Gn)),u=a+i,f=u+ys;e.setPosition(u);const d=xe(e.readBytes(ys)),l=ht(t);let p=0;const h=[];for(let b=0;b<d;++b){e.setPosition(f+(l?b*32:p));const[m,x]=Je(e,t,{checksumAddress:r,staticPosition:f});p+=x,h.push(m)}return e.setPosition(a+32),[h,32]}if(ht(t)){const i=xe(e.readBytes(Gn)),u=a+i,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Je(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(a+32),[f,32]}let o=0;const c=[];for(let i=0;i<s;++i){const[u,f]=Je(e,t,{checksumAddress:r,staticPosition:a+o});o+=f,c.push(u)}return[c,o]}function wf(e){return[oc(e.readBytes(32),{size:32}),32]}function vf(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=xe(e.readBytes(32));e.setPosition(n+o);const c=xe(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const i=e.readBytes(c);return e.setPosition(n+32),[fe(i),32]}return[fe(e.readBytes(Number.parseInt(s,10),32)),32]}function xf(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?ac(s,{signed:n}):xe(s,{signed:n}),32]}function Ef(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=t.components.length===0||t.components.some(({name:i})=>!i),o=a?[]:{};let c=0;if(ht(t)){const i=xe(e.readBytes(Gn)),u=s+i;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+c);const[l,p]=Je(e,d,{checksumAddress:r,staticPosition:u});c+=p,o[a?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[o,32]}for(let i=0;i<t.components.length;++i){const u=t.components[i],[f,d]=Je(e,u,{checksumAddress:r,staticPosition:s});o[a?i:u==null?void 0:u.name]=f,c+=d}return[o,c]}function Pf(e,{staticPosition:t}){const n=xe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=xe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=ic(Sa(a));return e.setPosition(t+32),[o,32]}function $f({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(wr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function wr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=xr(r.type);if(s){const[a,o]=s;return Bf(n,{checksumAddress:e,length:a,parameter:{...r,type:o}})}if(r.type==="tuple")return Tf(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Af(n,{checksum:e});if(r.type==="bool")return If(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,o="256"]=ao.exec(r.type)??[];return kf(n,{signed:a,size:Number(o)})}if(r.type.startsWith("bytes"))return Sf(n,{type:r.type});if(r.type==="string")return Nf(n);throw new Pr(r.type)}function vr(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?t+=32:t+=te(c)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?(n.push(K(t+s,{size:32})),r.push(c),s+=te(c)):n.push(c)}return ue(...n,...r)}function Af(e,t){const{checksum:n=!1}=t;return Xt(e,{strict:n}),{dynamic:!1,encoded:Me(e.toLowerCase())}}function Bf(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new Lf(e);if(!a&&e.length!==r)throw new jf({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const c=[];for(let i=0;i<e.length;i++){const u=wr({checksumAddress:n,parameter:s,value:e[i]});u.dynamic&&(o=!0),c.push(u)}if(a||o){const i=vr(c);if(a){const u=K(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?ue(u,i):u}}if(o)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ue(...c.map(({encoded:i})=>i))}}function Sf(e,{type:t}){const[,n]=t.split("bytes"),r=te(e);if(!n){let s=e;return r%32!==0&&(s=_e(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ue(Me(K(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new io({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:_e(e)}}function If(e){if(typeof e!="boolean")throw new j(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Me(Ia(e))}}function kf(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Ta({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:K(e,{size:32,signed:t})}}function Nf(e){const t=dr(e),n=Math.ceil(te(t)/32),r=[];for(let s=0;s<n;s++)r.push(_e(pe(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ue(_e(K(te(t),{size:32})),...r)}}function Tf(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let o=0;o<r.components.length;o++){const c=r.components[o],i=Array.isArray(e)?o:c.name,u=wr({checksumAddress:n,parameter:c,value:e[i]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?vr(a):ue(...a.map(({encoded:o})=>o))}}function xr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ht(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(ht);const n=xr(e.type);return!!(n&&ht({...e,type:n[1]}))}const Rf={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Of({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Ff({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ms({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ms({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Cf(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Rf);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class ms extends j{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Ff extends j{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Of extends j{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function zf(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof t=="string"?Ba(t):t,o=Cf(a);if(We(a)===0&&e.length>0)throw new _f;if(We(a)&&We(a)<32)throw new Mf({data:typeof t=="string"?t:fe(t),parameters:e,size:We(a)});let c=0;const i=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(c);const[d,l]=Je(o,f,{checksumAddress:s,staticPosition:0});c+=l,r==="Array"?i.push(d):i[f.name??u]=d}return i}function Er(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new co({expectedLength:e.length,givenLength:t.length});const s=$f({checksumAddress:r,parameters:e,values:t}),a=vr(s);return a.length===0?"0x":a}function Dn(e,t){if(e.length!==t.length)throw new co({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(Dn.encode(s,a))}return ue(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const i=r;return Xt(i),Me(i.toLowerCase(),s?32:0)}if(n==="string")return dr(r);if(n==="bytes")return r;if(n==="bool")return Me(Ia(r),s?32:1);const a=n.match(ao);if(a){const[i,u,f="256"]=a,d=Number.parseInt(f,10)/8;return K(r,{size:s?32:d,signed:u==="int"})}const o=n.match(yf);if(o){const[i,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new io({expectedSize:Number.parseInt(u,10),value:r});return _e(r,s?32:0)}const c=n.match(hf);if(c&&Array.isArray(r)){const[i,u]=c,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":ue(...f)}throw new Pr(n)}e.encode=t})(Dn||(Dn={}));function oo(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?bs(e):e}class Mf extends j{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ve(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class _f extends j{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class jf extends j{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class io extends j{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${te(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class co extends j{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Lf extends j{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Pr extends j{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function uo(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new yn({signature:e});if(typeof e.s>"u")throw new yn({signature:e});if(n&&typeof e.yParity>"u")throw new yn({signature:e});if(e.r<0n||e.r>hs)throw new Zf({value:e.r});if(e.s<0n||e.s>hs)throw new Wf({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Ar({value:e.yParity})}function Uf(e){return fo(fe(e))}function fo(e){if(e.length!==130&&e.length!==132)throw new Vf({signature:e});const t=BigInt(pe(e,0,32)),n=BigInt(pe(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return $r(s)}catch{throw new Ar({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Gf(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Df(e)}function Df(e){const t=typeof e=="string"?fo(e):e instanceof Uint8Array?Uf(e):typeof e.r=="string"?Hf(e):e.v?qf(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return uo(t),t}function qf(e){return{r:e.r,s:e.s,yParity:$r(e.v)}}function Hf(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=$r(n)),typeof r!="number")throw new Ar({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function $r(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Kf({value:e})}class Vf extends j{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${te(hc(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class yn extends j{constructor({signature:t}){super(`Signature \`${Aa(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Zf extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Wf extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Ar extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Kf extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Yf(e,t={}){return typeof e.chainId=="string"?Jf(e):{...e,...t.signature}}function Jf(e){const{address:t,chainId:n,nonce:r}=e,s=Gf(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Xf="0x8010801080108010801080108010801080108010801080108010801080108010",Qf=oo("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function lo(e){if(typeof e=="string"){if(pe(e,-32)!==Xf)throw new nd(e)}else uo(e.authorization)}function ed(e){lo(e);const t=Na(pe(e,-64,-32)),n=pe(e,-t-64,-64),r=pe(e,0,-t-64),[s,a,o]=zf(Qf,n);return{authorization:Yf({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:a}:{}}}function td(e){try{return lo(e),!0}catch{return!1}}let nd=class extends j{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Fl(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=Le([vt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),xu]);return s==="hex"?a:Lt(a)}function rd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function sd(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Be(e.nonce):void 0,storageProof:e.storageProof?rd(e.storageProof):void 0}}async function ad(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?M(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,o||a]});return sd(c)}async function od(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?M(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Br(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a,sender:o,nonce:c}){var l,p,h;const i=r||"latest",u=n!==void 0?M(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,M(a)]},{dedupe:!0}):typeof a=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||i,M(a)]},{dedupe:!!u}):o&&typeof c=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,M(c)]},{dedupe:!0})),!f)throw new js({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:a});return(((h=(p=(l=e.chain)==null?void 0:l.formatters)==null?void 0:p.transaction)==null?void 0:h.format)||Rs)(f,"getTransaction")}async function id(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([z(e,Bt,"getBlockNumber")({}),t?z(e,Br,"getTransaction")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function Tt(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ls({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Us)(n,"getTransactionReceipt")}async function cd(e,t){var P;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:o,blockTag:c,stateOverride:i}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((P=e.batch)==null?void 0:P.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return st({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let h=0,b=0;for(let g=0;g<u.length;g++){const{abi:y,address:w,args:A,functionName:E}=u[g];try{const B=le({abi:y,args:A,functionName:E});b+=(B.length-2)/2,f>0&&b>f&&p[h].length>0&&(h++,b=(B.length-2)/2,p[h]=[]),p[h]=[...p[h],{allowFailure:!0,callData:B,target:w}]}catch(B){const N=et(B,{abi:y,address:w,args:A,docsPath:"/docs/contract/multicall",functionName:E,sender:n});if(!s)throw N;p[h]=[...p[h],{allowFailure:!0,callData:"0x",target:w}]}}const m=await Promise.allSettled(p.map(g=>z(e,de,"readContract")({...l===null?{code:lr}:{address:l},abi:Ft,account:n,args:[g],authorizationList:r,blockNumber:a,blockOverrides:o,blockTag:c,functionName:"aggregate3",stateOverride:i}))),x=[];for(let g=0;g<m.length;g++){const y=m[g];if(y.status==="rejected"){if(!s)throw y.reason;for(let A=0;A<p[g].length;A++)x.push({status:"failure",error:y.reason,result:void 0});continue}const w=y.value;for(let A=0;A<w.length;A++){const{returnData:E,success:B}=w[A],{callData:N}=p[g][A],{abi:C,address:I,functionName:T,args:k}=u[x.length];try{if(N==="0x")throw new xt;if(!B)throw new Dt({data:E});const L=Ge({abi:C,args:k,data:E,functionName:T});x.push(s?{result:L,status:"success"}:L)}catch(L){const v=et(L,{abi:C,address:I,args:k,docsPath:"/docs/contract/multicall",functionName:T});if(!s)throw v;x.push({error:v,result:void 0,status:"failure"})}}}if(x.length!==u.length)throw new U("multicall results mismatch");return x}async function qn(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:c}=t;try{const i=[];for(const l of s){const p=l.blockOverrides?Ca(l.blockOverrides):void 0,h=l.calls.map(m=>{const x=m,P=x.account?ee(x.account):void 0,g=x.abi?le(x):x.data,y={...x,account:P,data:x.dataSuffix?zs([g||"0x",x.dataSuffix]):g,from:x.from??(P==null?void 0:P.address)};return rt(y),$t(y)}),b=l.stateOverrides?rr(l.stateOverrides):void 0;i.push({blockOverrides:p,calls:h,stateOverrides:b})}const f=(typeof n=="bigint"?M(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:i,returnFullTransactions:a,traceTransfers:o,validation:c},f]})).map((l,p)=>({...Ts(l),calls:l.calls.map((h,b)=>{var C,I;const{abi:m,args:x,functionName:P,to:g}=s[p].calls[b],y=((C=h.error)==null?void 0:C.data)??h.returnData,w=BigInt(h.gasUsed),A=(I=h.logs)==null?void 0:I.map(T=>Se(T)),E=h.status==="0x1"?"success":"failure",B=m&&E==="success"&&y!=="0x"?Ge({abi:m,data:y,functionName:P}):null,N=(()=>{var k;if(E==="success")return;let T;if(((k=h.error)==null?void 0:k.data)==="0x"?T=new xt:h.error&&(T=new Dt(h.error)),!!T)return et(T,{abi:m??[],address:g??"0x",args:x,functionName:P??"<unknown>"})})();return{data:y,gasUsed:w,logs:A,status:E,...E==="success"?{result:B}:{error:N}}})}))}catch(i){const u=i,f=qt(u,{});throw f instanceof wt?u:f}}function Hn(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const c=e[o];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){a=!0;break}continue}if(c===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!a)throw new j("Unable to normalize signature.");return s}function Vn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Un(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Vn(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Vn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function bo(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return bo(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Un(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Un(n[r],{strict:!1}):!1)return o}}function po(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?ls(e):e;return{...r,...n?{hash:Ke(r)}:{}}}function Qt(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=yc(t,{strict:!1}),o=e.filter(u=>a?u.type==="function"||u.type==="error"?ho(u)===pe(t,0,4):u.type==="event"?Ke(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new zt({name:t});if(o.length===1)return{...o[0],...s?{hash:Ke(o[0])}:{}};let c;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Ke(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const p="inputs"in u&&u.inputs[l];return p?Vn(d,p):!1})){if(c&&"inputs"in c&&c.inputs){const d=bo(u.inputs,c.inputs,r);if(d)throw new fd({abiItem:u,type:d[0]},{abiItem:c,type:d[1]})}c=u}}const i=(()=>{if(c)return c;const[u,...f]=o;return{...u,overloads:f}})();if(!i)throw new zt({name:t});return{...i,...s?{hash:Ke(i)}:{}}}function ho(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Qt(n,r)}return e[0]})();return pe(Ke(t),0,4)}function ud(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Qt(r,s)}return e[0]})(),n=typeof t=="string"?t:jn(t);return Hn(n)}function Ke(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Qt(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:ro(dr(ud(t)))}class fd extends j{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Hn(jn(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Hn(jn(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class zt extends j{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function dd(...e){var a;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,c]=e;return[bd(o),c]}return e})(),{bytecode:r,args:s}=n;return ue(r,(a=t.inputs)!=null&&a.length&&(s!=null&&s.length)?Er(t.inputs,s):"0x")}function ld(e){return po(e)}function bd(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new zt({name:"constructor"});return t}function pd(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[gs(u,f,{args:d}),d]}const[c,i]=e;return[c,i]})(),{overloads:r}=t,s=r?gs([t,...r],t.name,{args:n}):t,a=hd(s),o=n.length>0?Er(s.inputs,n):void 0;return o?ue(a,o):a}function He(e,t={}){return po(e,t)}function gs(e,t,n){const r=Qt(e,t,n);if(r.type!=="function")throw new zt({name:t,type:"function"});return r}function hd(e){return ho(e)}const yd="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",be="0x0000000000000000000000000000000000000000",md="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function gd(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:c,validation:i}=t,u=t.account?ee(t.account):void 0;if(o&&!u)throw new U("`account` is required when `traceAssetChanges` is true");const f=u?dd(ld("constructor(bytes, bytes)"),{bytecode:Fa,args:[md,pd(He("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(t.calls.map(async $=>{if(!$.data&&!$.abi)return;const{accessList:R}=await Ua(e,{account:u.address,...$,data:$.abi?le($):$.data});return R.map(({address:O,storageKeys:_})=>_.length>0?O:null)})).then($=>$.flat().filter(Boolean)):[],l=await qn(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:a},{calls:d.map(($,R)=>({abi:[He("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]}]:[],{calls:[...s,{}].map($=>({...$,from:u==null?void 0:u.address})),stateOverrides:a},...o?[{calls:[{data:f}]},{calls:d.map(($,R)=>({abi:[He("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,R)=>({to:$,abi:[He("function decimals() returns (uint256)")],functionName:"decimals",from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,R)=>({to:$,abi:[He("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,R)=>({to:$,abi:[He("function symbol() returns (string)")],functionName:"symbol",from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]}]:[]],traceTransfers:c,validation:i}),p=o?l[2]:l[0],[h,b,,m,x,P,g,y]=o?l:[],{calls:w,...A}=p,E=w.slice(0,-1)??[],B=(h==null?void 0:h.calls)??[],N=(b==null?void 0:b.calls)??[],C=[...B,...N].map($=>$.status==="success"?ce($.data):null),I=(m==null?void 0:m.calls)??[],T=(x==null?void 0:x.calls)??[],k=[...I,...T].map($=>$.status==="success"?ce($.data):null),L=((P==null?void 0:P.calls)??[]).map($=>$.status==="success"?$.result:null),v=((y==null?void 0:y.calls)??[]).map($=>$.status==="success"?$.result:null),S=((g==null?void 0:g.calls)??[]).map($=>$.status==="success"?$.result:null),F=[];for(const[$,R]of k.entries()){const O=C[$];if(typeof R!="bigint"||typeof O!="bigint")continue;const _=L[$-1],G=v[$-1],H=S[$-1],Z=$===0?{address:yd,decimals:18,symbol:"ETH"}:{address:d[$-1],decimals:H||_?Number(_??1):void 0,symbol:G??void 0};F.some(D=>D.token.address===Z.address)||F.push({token:Z,value:{pre:O,post:R,diff:R-O}})}return{assetChanges:F,block:A,results:E}}const yo="0x6492649264926492649264926492649264926492649264926492649264926492";function wd(e){if(pe(e,-32)!==yo)throw new Ed(e)}function vd(e){const{data:t,signature:n,to:r}=e;return ue(Er(oo("address, bytes, bytes"),[r,t,n]),yo)}function xd(e){try{return wd(e),!0}catch{return!1}}class Ed extends j{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sr=BigInt(0),Zn=BigInt(1);function St(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ir(e){if(!St(e))throw new Error("Uint8Array expected")}function yt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Nt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function mo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Sr:BigInt("0x"+e)}const go=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Pd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function mt(e){if(Ir(e),go)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Pd[e[n]];return t}const me={_0:48,_9:57,A:65,F:70,a:97,f:102};function ws(e){if(e>=me._0&&e<=me._9)return e-me._0;if(e>=me.A&&e<=me.F)return e-(me.A-10);if(e>=me.a&&e<=me.f)return e-(me.a-10)}function Mt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(go)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const o=ws(e.charCodeAt(a)),c=ws(e.charCodeAt(a+1));if(o===void 0||c===void 0){const i=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+i+'" at index '+a)}r[s]=o*16+c}return r}function Ce(e){return mo(mt(e))}function wo(e){return Ir(e),mo(mt(Uint8Array.from(e).reverse()))}function It(e,t){return Mt(e.toString(16).padStart(t*2,"0"))}function vo(e,t){return It(e,t).reverse()}function re(e,t,n){let r;if(typeof t=="string")try{r=Mt(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(St(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function _t(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ir(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}const mn=e=>typeof e=="bigint"&&Sr<=e;function kr(e,t,n){return mn(e)&&mn(t)&&mn(n)&&t<=e&&e<n}function Xe(e,t,n,r){if(!kr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function $d(e){let t;for(t=0;e>Sr;e>>=Zn,t+=1);return t}const en=e=>(Zn<<BigInt(e))-Zn,gn=e=>new Uint8Array(e),vs=e=>Uint8Array.from(e);function Ad(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gn(e),s=gn(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},c=(...d)=>n(s,r,...d),i=(d=gn(0))=>{s=c(vs([0]),d),r=c(),d.length!==0&&(s=c(vs([1]),d),r=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=c();const p=r.slice();l.push(p),d+=r.length}return _t(...l)};return(d,l)=>{o(),i(d);let p;for(;!(p=l(u()));)i();return o(),p}}const Bd={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||St(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function tn(e,t,n={}){const r=(s,a,o)=>{const c=Bd[a];if(typeof c!="function")throw new Error("invalid validator function");const i=e[s];if(!(o&&i===void 0)&&!c(i,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+i)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function xs(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X=BigInt(0),Y=BigInt(1),Te=BigInt(2),Sd=BigInt(3),xo=BigInt(4),Eo=BigInt(5),Po=BigInt(8);function J(e,t){const n=e%t;return n>=X?n:t+n}function ne(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function Wn(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=J(e,t),r=t,s=X,a=Y;for(;n!==X;){const c=r/n,i=r%n,u=s-a*c;r=n,n=i,s=a,a=u}if(r!==Y)throw new Error("invert: does not exist");return J(s,t)}function $o(e,t){const n=(e.ORDER+Y)/xo,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Id(e,t){const n=(e.ORDER-Eo)/Po,r=e.mul(t,Te),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,Te),s),c=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function kd(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Y,n=0;for(;t%Te===X;)t/=Te,n++;let r=Te;const s=Nr(e);for(;Es(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return $o;let a=s.pow(r,t);const o=(t+Y)/Te;return function(i,u){if(i.is0(u))return u;if(Es(i,u)!==1)throw new Error("Cannot find square root");let f=n,d=i.mul(i.ONE,a),l=i.pow(u,t),p=i.pow(u,o);for(;!i.eql(l,i.ONE);){if(i.is0(l))return i.ZERO;let h=1,b=i.sqr(l);for(;!i.eql(b,i.ONE);)if(h++,b=i.sqr(b),h===f)throw new Error("Cannot find square root");const m=Y<<BigInt(f-h-1),x=i.pow(d,m);f=h,d=i.sqr(x),l=i.mul(l,d),p=i.mul(p,x)}return p}}function Nd(e){return e%xo===Sd?$o:e%Po===Eo?Id:kd(e)}const Td=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rd(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Td.reduce((r,s)=>(r[s]="function",r),t);return tn(e,n)}function Cd(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===Y)return t;let r=e.ONE,s=t;for(;n>X;)n&Y&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Y;return r}function Ao(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,c,i)=>e.is0(c)?o:(r[i]=o,e.mul(o,c)),e.ONE),a=e.inv(s);return t.reduceRight((o,c,i)=>e.is0(c)?o:(r[i]=e.mul(o,r[i]),e.mul(o,c)),a),r}function Es(e,t){const n=(e.ORDER-Y)/Te,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function Bo(e,t){t!==void 0&&ni(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Nr(e,t,n=!1,r={}){if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=Bo(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:en(s),ZERO:X,ONE:Y,create:i=>J(i,e),isValid:i=>{if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return X<=i&&i<e},is0:i=>i===X,isOdd:i=>(i&Y)===Y,neg:i=>J(-i,e),eql:(i,u)=>i===u,sqr:i=>J(i*i,e),add:(i,u)=>J(i+u,e),sub:(i,u)=>J(i-u,e),mul:(i,u)=>J(i*u,e),pow:(i,u)=>Cd(c,i,u),div:(i,u)=>J(i*Wn(u,e),e),sqrN:i=>i*i,addN:(i,u)=>i+u,subN:(i,u)=>i-u,mulN:(i,u)=>i*u,inv:i=>Wn(i,e),sqrt:r.sqrt||(i=>(o||(o=Nd(e)),o(c,i))),toBytes:i=>n?vo(i,a):It(i,a),fromBytes:i=>{if(i.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+i.length);return n?wo(i):Ce(i)},invertBatch:i=>Ao(c,i),cmov:(i,u,f)=>f?u:i});return Object.freeze(c)}function So(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Io(e){const t=So(e);return t+Math.ceil(t/2)}function Fd(e,t,n=!1){const r=e.length,s=So(t),a=Io(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=n?wo(e):Ce(e),c=J(o,t-Y)+Y;return n?vo(c,s):It(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ps=BigInt(0),Kn=BigInt(1);function wn(e,t){const n=t.negate();return e?n:t}function ko(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function vn(e,t){ko(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=en(e),o=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:o}}function $s(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let c=Number(e&s),i=e>>o;c>r&&(c-=a,i+=Kn);const u=t*r,f=u+Math.abs(c)-1,d=c===0,l=c<0,p=t%2!==0;return{nextN:i,offset:f,isZero:d,isNeg:l,isNegF:p,offsetF:u}}function Od(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function zd(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const xn=new WeakMap,No=new WeakMap;function En(e){return No.get(e)||1}function Md(e,t){return{constTimeNegate:wn,hasPrecomputes(n){return En(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>Ps;)r&Kn&&(s=s.add(a)),a=a.double(),r>>=Kn;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=vn(r,t),o=[];let c=n,i=c;for(let u=0;u<s;u++){i=c,o.push(i);for(let f=1;f<a;f++)i=i.add(c),o.push(i);c=i.double()}return o},wNAF(n,r,s){let a=e.ZERO,o=e.BASE;const c=vn(n,t);for(let i=0;i<c.windows;i++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:p,offsetF:h}=$s(s,i,c);s=u,d?o=o.add(wn(p,r[h])):a=a.add(wn(l,r[f]))}return{p:a,f:o}},wNAFUnsafe(n,r,s,a=e.ZERO){const o=vn(n,t);for(let c=0;c<o.windows&&s!==Ps;c++){const{nextN:i,offset:u,isZero:f,isNeg:d}=$s(s,c,o);if(s=i,!f){const l=r[u];a=a.add(d?l.negate():l)}}return a},getPrecomputes(n,r,s){let a=xn.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&xn.set(r,s(a))),a},wNAFCached(n,r,s){const a=En(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const o=En(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,a)},setWindowSize(n,r){ko(r,t),No.set(n,r),xn.delete(n)}}}function _d(e,t,n,r){Od(n,e),zd(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,c=$d(BigInt(s));let i=1;c>12?i=c-3:c>4?i=c-2:c>0&&(i=2);const u=en(i),f=new Array(Number(u)+1).fill(o),d=Math.floor((t.BITS-1)/i)*i;let l=o;for(let p=d;p>=0;p-=i){f.fill(o);for(let b=0;b<a;b++){const m=r[b],x=Number(m>>BigInt(p)&u);f[x]=f[x].add(n[b])}let h=o;for(let b=f.length-1,m=o;b>0;b--)m=m.add(f[b]),h=h.add(m);if(l=l.add(h),p!==0)for(let b=0;b<i;b++)l=l.double()}return l}function To(e){return Rd(e.Fp),tn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Bo(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function As(e){e.lowS!==void 0&&yt("lowS",e.lowS),e.prehash!==void 0&&yt("prehash",e.prehash)}function jd(e){const t=To(e);tn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Ld extends Error{constructor(t=""){super(t)}}const ge={Err:Ld,_tlv:{encode:(e,t)=>{const{Err:n}=ge;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Nt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Nt(s.length/2|128):"";return Nt(e)+a+s+t},decode(e,t){const{Err:n}=ge;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let o=0;if(!a)o=s;else{const i=s&127;if(!i)throw new n("tlv.decode(long): indefinite length not supported");if(i>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+i);if(u.length!==i)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=i,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=ge;if(e<we)throw new t("integer: negative integers are not allowed");let n=Nt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ge;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Ce(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ge,s=re("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:i}=r.decode(2,a),{v:u,l:f}=r.decode(2,i);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ge,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}};function Pn(e,t){return mt(It(e,t))}const we=BigInt(0),q=BigInt(1);BigInt(2);const $n=BigInt(3),Ud=BigInt(4);function Gd(e){const t=jd(e),{Fp:n}=t,r=Nr(t.n,t.nBitLength),s=t.toBytes||((g,y,w)=>{const A=y.toAffine();return _t(Uint8Array.from([4]),n.toBytes(A.x),n.toBytes(A.y))}),a=t.fromBytes||(g=>{const y=g.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),A=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:A}});function o(g){const{a:y,b:w}=t,A=n.sqr(g),E=n.mul(A,g);return n.add(n.add(E,n.mul(g,y)),w)}function c(g,y){const w=n.sqr(y),A=o(g);return n.eql(w,A)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const i=n.mul(n.pow(t.a,$n),Ud),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(i,u)))throw new Error("bad curve params: a or b");function f(g){return kr(g,q,t.n)}function d(g){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:A,n:E}=t;if(y&&typeof g!="bigint"){if(St(g)&&(g=mt(g)),typeof g!="string"||!y.includes(g.length))throw new Error("invalid private key");g=g.padStart(w*2,"0")}let B;try{B=typeof g=="bigint"?g:Ce(re("private key",g,w))}catch{throw new Error("invalid private key, expected hex or "+w+" bytes, got "+typeof g)}return A&&(B=J(B,E)),Xe("private key",B,q,E),B}function l(g){if(!(g instanceof b))throw new Error("ProjectivePoint expected")}const p=xs((g,y)=>{const{px:w,py:A,pz:E}=g;if(n.eql(E,n.ONE))return{x:w,y:A};const B=g.is0();y==null&&(y=B?n.ONE:n.inv(E));const N=n.mul(w,y),C=n.mul(A,y),I=n.mul(E,y);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:N,y:C}}),h=xs(g=>{if(g.is0()){if(t.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=g.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");if(!c(y,w))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(y,w,A){if(y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w)||n.is0(w))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required");this.px=y,this.py=w,this.pz=A,Object.freeze(this)}static fromAffine(y){const{x:w,y:A}=y||{};if(!y||!n.isValid(w)||!n.isValid(A))throw new Error("invalid affine point");if(y instanceof b)throw new Error("projective point not allowed");const E=B=>n.eql(B,n.ZERO);return E(w)&&E(A)?b.ZERO:new b(w,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=Ao(n,y.map(A=>A.pz));return y.map((A,E)=>A.toAffine(w[E])).map(b.fromAffine)}static fromHex(y){const w=b.fromAffine(a(re("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return b.BASE.multiply(d(y))}static msm(y,w){return _d(b,r,y,w)}_setWindowSize(y){P.setWindowSize(this,y)}assertValidity(){h(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:w,py:A,pz:E}=this,{px:B,py:N,pz:C}=y,I=n.eql(n.mul(w,C),n.mul(B,E)),T=n.eql(n.mul(A,C),n.mul(N,E));return I&&T}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=t,A=n.mul(w,$n),{px:E,py:B,pz:N}=this;let C=n.ZERO,I=n.ZERO,T=n.ZERO,k=n.mul(E,E),L=n.mul(B,B),v=n.mul(N,N),S=n.mul(E,B);return S=n.add(S,S),T=n.mul(E,N),T=n.add(T,T),C=n.mul(y,T),I=n.mul(A,v),I=n.add(C,I),C=n.sub(L,I),I=n.add(L,I),I=n.mul(C,I),C=n.mul(S,C),T=n.mul(A,T),v=n.mul(y,v),S=n.sub(k,v),S=n.mul(y,S),S=n.add(S,T),T=n.add(k,k),k=n.add(T,k),k=n.add(k,v),k=n.mul(k,S),I=n.add(I,k),v=n.mul(B,N),v=n.add(v,v),k=n.mul(v,S),C=n.sub(C,k),T=n.mul(v,L),T=n.add(T,T),T=n.add(T,T),new b(C,I,T)}add(y){l(y);const{px:w,py:A,pz:E}=this,{px:B,py:N,pz:C}=y;let I=n.ZERO,T=n.ZERO,k=n.ZERO;const L=t.a,v=n.mul(t.b,$n);let S=n.mul(w,B),F=n.mul(A,N),$=n.mul(E,C),R=n.add(w,A),O=n.add(B,N);R=n.mul(R,O),O=n.add(S,F),R=n.sub(R,O),O=n.add(w,E);let _=n.add(B,C);return O=n.mul(O,_),_=n.add(S,$),O=n.sub(O,_),_=n.add(A,E),I=n.add(N,C),_=n.mul(_,I),I=n.add(F,$),_=n.sub(_,I),k=n.mul(L,O),I=n.mul(v,$),k=n.add(I,k),I=n.sub(F,k),k=n.add(F,k),T=n.mul(I,k),F=n.add(S,S),F=n.add(F,S),$=n.mul(L,$),O=n.mul(v,O),F=n.add(F,$),$=n.sub(S,$),$=n.mul(L,$),O=n.add(O,$),S=n.mul(F,O),T=n.add(T,S),S=n.mul(_,O),I=n.mul(R,I),I=n.sub(I,S),S=n.mul(R,F),k=n.mul(_,k),k=n.add(k,S),new b(I,T,k)}subtract(y){return this.add(y.negate())}is0(){return this.equals(b.ZERO)}wNAF(y){return P.wNAFCached(this,y,b.normalizeZ)}multiplyUnsafe(y){const{endo:w,n:A}=t;Xe("scalar",y,we,A);const E=b.ZERO;if(y===we)return E;if(this.is0()||y===q)return this;if(!w||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,y,b.normalizeZ);let{k1neg:B,k1:N,k2neg:C,k2:I}=w.splitScalar(y),T=E,k=E,L=this;for(;N>we||I>we;)N&q&&(T=T.add(L)),I&q&&(k=k.add(L)),L=L.double(),N>>=q,I>>=q;return B&&(T=T.negate()),C&&(k=k.negate()),k=new b(n.mul(k.px,w.beta),k.py,k.pz),T.add(k)}multiply(y){const{endo:w,n:A}=t;Xe("scalar",y,q,A);let E,B;if(w){const{k1neg:N,k1:C,k2neg:I,k2:T}=w.splitScalar(y);let{p:k,f:L}=this.wNAF(C),{p:v,f:S}=this.wNAF(T);k=P.constTimeNegate(N,k),v=P.constTimeNegate(I,v),v=new b(n.mul(v.px,w.beta),v.py,v.pz),E=k.add(v),B=L.add(S)}else{const{p:N,f:C}=this.wNAF(y);E=N,B=C}return b.normalizeZ([E,B])[0]}multiplyAndAddUnsafe(y,w,A){const E=b.BASE,B=(C,I)=>I===we||I===q||!C.equals(E)?C.multiplyUnsafe(I):C.multiply(I),N=B(this,w).add(B(y,A));return N.is0()?void 0:N}toAffine(y){return p(this,y)}isTorsionFree(){const{h:y,isTorsionFree:w}=t;if(y===q)return!0;if(w)return w(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=t;return y===q?this:w?w(b,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return yt("isCompressed",y),this.assertValidity(),s(b,this,y)}toHex(y=!0){return yt("isCompressed",y),mt(this.toRawBytes(y))}}b.BASE=new b(t.Gx,t.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO);const{endo:m,nBitLength:x}=t,P=Md(b,m?Math.ceil(x/2):x);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:f}}function Dd(e){const t=To(e);return tn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function qd(e){const t=Dd(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,o=n.BYTES+1,c=2*n.BYTES+1;function i(v){return J(v,r)}function u(v){return Wn(v,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:p}=Gd({...t,toBytes(v,S,F){const $=S.toAffine(),R=n.toBytes($.x),O=_t;return yt("isCompressed",F),F?O(Uint8Array.from([S.hasEvenY()?2:3]),R):O(Uint8Array.from([4]),R,n.toBytes($.y))},fromBytes(v){const S=v.length,F=v[0],$=v.subarray(1);if(S===o&&(F===2||F===3)){const R=Ce($);if(!kr(R,q,n.ORDER))throw new Error("Point is not on curve");const O=l(R);let _;try{_=n.sqrt(O)}catch(Z){const D=Z instanceof Error?": "+Z.message:"";throw new Error("Point is not on curve"+D)}const G=(_&q)===q;return(F&1)===1!==G&&(_=n.neg(_)),{x:R,y:_}}else if(S===c&&F===4){const R=n.fromBytes($.subarray(0,n.BYTES)),O=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:R,y:O}}else{const R=o,O=c;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+O+", got "+S)}}});function h(v){const S=r>>q;return v>S}function b(v){return h(v)?i(-v):v}const m=(v,S,F)=>Ce(v.slice(S,F));class x{constructor(S,F,$){Xe("r",S,q,r),Xe("s",F,q,r),this.r=S,this.s=F,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(S){const F=s;return S=re("compactSignature",S,F*2),new x(m(S,0,F),m(S,F,2*F))}static fromDER(S){const{r:F,s:$}=ge.toSig(re("DER",S));return new x(F,$)}assertValidity(){}addRecoveryBit(S){return new x(this.r,this.s,S)}recoverPublicKey(S){const{r:F,s:$,recovery:R}=this,O=E(re("msgHash",S));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const _=R===2||R===3?F+t.n:F;if(_>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(R&1)===0?"02":"03",H=f.fromHex(G+Pn(_,n.BYTES)),Z=u(_),D=i(-O*Z),W=i($*Z),Ae=f.BASE.multiplyAndAddUnsafe(H,D,W);if(!Ae)throw new Error("point at infinify");return Ae.assertValidity(),Ae}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return Mt(this.toDERHex())}toDERHex(){return ge.hexFromSig(this)}toCompactRawBytes(){return Mt(this.toCompactHex())}toCompactHex(){const S=s;return Pn(this.r,S)+Pn(this.s,S)}}const P={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=Io(t.n);return Fd(t.randomBytes(v),t.n)},precompute(v=8,S=f.BASE){return S._setWindowSize(v),S.multiply(BigInt(3)),S}};function g(v,S=!0){return f.fromPrivateKey(v).toRawBytes(S)}function y(v){if(typeof v=="bigint")return!1;if(v instanceof f)return!0;const F=re("key",v).length,$=n.BYTES,R=$+1,O=2*$+1;if(!(t.allowedPrivateKeyLengths||s===R))return F===R||F===O}function w(v,S,F=!0){if(y(v)===!0)throw new Error("first arg must be private key");if(y(S)===!1)throw new Error("second arg must be public key");return f.fromHex(S).multiply(d(v)).toRawBytes(F)}const A=t.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const S=Ce(v),F=v.length*8-a;return F>0?S>>BigInt(F):S},E=t.bits2int_modN||function(v){return i(A(v))},B=en(a);function N(v){return Xe("num < 2^"+a,v,we,B),It(v,s)}function C(v,S,F=I){if(["recovered","canonical"].some(ke=>ke in F))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:R}=t;let{lowS:O,prehash:_,extraEntropy:G}=F;O==null&&(O=!0),v=re("msgHash",v),As(F),_&&(v=re("prehashed msgHash",$(v)));const H=E(v),Z=d(S),D=[N(Z),N(H)];if(G!=null&&G!==!1){const ke=G===!0?R(n.BYTES):G;D.push(re("extraEntropy",ke))}const W=_t(...D),Ae=H;function rn(ke){const De=A(ke);if(!p(De))return;const sn=u(De),it=f.BASE.multiply(De).toAffine(),Ne=i(it.x);if(Ne===we)return;const ct=i(sn*i(Ae+Ne*Z));if(ct===we)return;let ut=(it.x===Ne?0:2)|Number(it.y&q),qe=ct;return O&&h(ct)&&(qe=b(ct),ut^=1),new x(Ne,qe,ut)}return{seed:W,k2sig:rn}}const I={lowS:t.lowS,prehash:!1},T={lowS:t.lowS,prehash:!1};function k(v,S,F=I){const{seed:$,k2sig:R}=C(v,S,F),O=t;return Ad(O.hash.outputLen,O.nByteLength,O.hmac)($,R)}f.BASE._setWindowSize(8);function L(v,S,F,$=T){var ut;const R=v;S=re("msgHash",S),F=re("publicKey",F);const{lowS:O,prehash:_,format:G}=$;if(As($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const H=typeof R=="string"||St(R),Z=!H&&!G&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!H&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,W;try{if(Z&&(D=new x(R.r,R.s)),H){try{G!=="compact"&&(D=x.fromDER(R))}catch(qe){if(!(qe instanceof ge.Err))throw qe}!D&&G!=="der"&&(D=x.fromCompact(R))}W=f.fromHex(F)}catch{return!1}if(!D||O&&D.hasHighS())return!1;_&&(S=t.hash(S));const{r:Ae,s:rn}=D,ke=E(S),De=u(rn),sn=i(ke*De),it=i(Ae*De),Ne=(ut=f.BASE.multiplyAndAddUnsafe(W,sn,it))==null?void 0:ut.toAffine();return Ne?i(Ne.x)===Ae:!1}return{CURVE:t,getPublicKey:g,getSharedSecret:w,sign:k,verify:L,ProjectivePoint:f,Signature:x,utils:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hd(e){return{hash:e,hmac:(t,...n)=>si(e,t,ai(...n)),randomBytes:ri}}function Vd(e,t){const n=r=>qd({...e,...Hd(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ro=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bs=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zd=BigInt(0),Wd=BigInt(1),Yn=BigInt(2),Ss=(e,t)=>(e+t/Yn)/t;function Kd(e){const t=Ro,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),c=BigInt(44),i=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ne(f,n,t)*f%t,l=ne(d,n,t)*f%t,p=ne(l,Yn,t)*u%t,h=ne(p,s,t)*p%t,b=ne(h,a,t)*h%t,m=ne(b,c,t)*b%t,x=ne(m,i,t)*m%t,P=ne(x,c,t)*b%t,g=ne(P,n,t)*f%t,y=ne(g,o,t)*h%t,w=ne(y,r,t)*u%t,A=ne(w,Yn,t);if(!Jn.eql(Jn.sqr(A),e))throw new Error("Cannot find square root");return A}const Jn=Nr(Ro,void 0,void 0,{sqrt:Kd}),Tr=Vd({a:Zd,b:BigInt(7),Fp:Jn,n:Bs,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Bs,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Wd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),c=Ss(a*e,t),i=Ss(-r*e,t);let u=J(e-c*n-i*s,t),f=J(-c*r-i*a,t);const d=u>o,l=f>o;if(d&&(u=t-u),l&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},oi),Yd=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Tr},Symbol.toStringTag,{value:"Module"}));function Jd({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Tr.Signature(ce(e),ce(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:Lt(o)}async function nn(e,t){var c,i,u,f,d,l;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(i=(c=e.chain)==null?void 0:c.contracts)==null?void 0:i.erc6492Verifier)==null?void 0:u.address),multicallAddress:a=t.multicallAddress??((l=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t,o=(()=>{const p=t.signature;return Ct(p)?p:typeof p=="object"&&"r"in p&&"s"in p?Jd(p):ie(p)})();try{return td(o)?await Xd(e,{...t,multicallAddress:a,signature:o}):await Qd(e,{...t,verifierAddress:s,signature:o})}catch(p){try{if(Vt(_s(n),await ba({hash:r,signature:o})))return!0}catch{}if(p instanceof je)return!1;throw p}}async function Xd(e,t){var m;const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:o}=t,{authorization:c,data:i,signature:u,to:f}=ed(t.signature);if(await Mn(e,{address:n,blockNumber:r,blockTag:s})===Le(["0xef0100",c.address]))return await el(e,{address:n,blockNumber:r,blockTag:s,hash:a,signature:u});const l={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:M(c.r,{size:32}),s:M(c.s,{size:32}),yParity:c.yParity};if(!await vu({address:n,authorization:l}))throw new je;const h=await z(e,de,"readContract")({...o?{address:o}:{code:lr},authorizationList:[l],abi:Ft,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:f??n,callData:i}]:[],{allowFailure:!0,target:n,callData:le({abi:Gs,functionName:"isValidSignature",args:[a,u]})}]]}),b=(m=h[h.length-1])==null?void 0:m.returnData;if(b!=null&&b.startsWith("0x1626ba7e"))return!0;throw new je}async function Qd(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,verifierAddress:c,...i}=t,u=await(async()=>!r&&!s||xd(o)?o:vd({data:s,signature:o,to:r}))(),f=c?{to:c,data:le({abi:Hr,functionName:"isValidSig",args:[n,a,u]}),...i}:{data:br({abi:Hr,args:[n,a,u],bytecode:Ec}),...i},{data:d}=await z(e,Wt,"call")(f).catch(l=>{throw l instanceof da?new je:l});if(ii(d??"0x0"))return!0;throw new je}async function el(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:o}=t;if((await z(e,de,"readContract")({address:n,abi:Gs,args:[a,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(i=>{throw i instanceof la?new je:i})).startsWith("0x1626ba7e"))return!0;throw new je}class je extends Error{}async function tl(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){const c=Js(n);return z(e,nn,"verifyHash")({address:t,factory:r,factoryData:s,hash:c,signature:a,...o})}async function nl(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:c,types:i,domain:u,...f}=t,d=Ei({message:o,primaryType:c,types:i,domain:u});return z(e,nn,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:a,...f})}function Co(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const c=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let i;return c?(()=>{const d=he(["watchBlockNumber",e.uid,t,n,o]);return Ee(d,{onBlockNumber:r,onError:s},l=>at(async()=>{var p;try{const h=await z(e,Bt,"getBlockNumber")({cacheTime:0});if(i!==void 0){if(h===i)return;if(h-i>1&&n)for(let b=i+1n;b<h;b++)l.onBlockNumber(b,i),i=b}(i===void 0||h>i)&&(l.onBlockNumber(h,i),i=h)}catch(h){(p=l.onError)==null||p.call(l,h)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=he(["watchBlockNumber",e.uid,t,n]);return Ee(d,{onBlockNumber:r,onError:s},l=>{let p=!0,h=()=>p=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return x?x.value:e.transport}return e.transport})(),{unsubscribe:m}=await b.subscribe({params:["newHeads"],onData(x){var g;if(!p)return;const P=ce((g=x.result)==null?void 0:g.number);l.onBlockNumber(P,i),i=P},onError(x){var P;(P=l.onError)==null||P.call(l,x)}});h=m,p||h()}catch(b){s==null||s(b)}})(),()=>h()})})()}async function rl(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:c=({count:w})=>~~(1<<w)*200,timeout:i=18e4}=t,u=he(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var w;return t.pollingInterval?t.pollingInterval:(w=e.chain)!=null&&w.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,p,h=!1,b,m;const{promise:x,resolve:P,reject:g}=Os(),y=i?setTimeout(()=>{m==null||m(),b==null||b(),g(new ci({hash:s}))},i):void 0;return b=Ee(u,{onReplaced:a,resolve:P,reject:g},async w=>{if(p=await z(e,Tt,"getTransactionReceipt")({hash:s}).catch(()=>{}),p&&r<=1){clearTimeout(y),w.resolve(p),b==null||b();return}m=z(e,Co,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(A){const E=N=>{clearTimeout(y),m==null||m(),N(),b==null||b()};let B=A;if(!h)try{if(p){if(r>1&&(!p.blockNumber||B-p.blockNumber+1n<r))return;E(()=>w.resolve(p));return}if(n&&!d&&(h=!0,await In(async()=>{d=await z(e,Br,"getTransaction")({hash:s}),d.blockNumber&&(B=d.blockNumber)},{delay:c,retryCount:o}),h=!1),p=await z(e,Tt,"getTransactionReceipt")({hash:s}),r>1&&(!p.blockNumber||B-p.blockNumber+1n<r))return;E(()=>w.resolve(p))}catch(N){if(N instanceof js||N instanceof Ls){if(!d){h=!1;return}try{l=d,h=!0;const C=await In(()=>z(e,oe,"getBlock")({blockNumber:B,includeTransactions:!0}),{delay:c,retryCount:o,shouldRetry:({error:k})=>k instanceof ya});h=!1;const I=C.transactions.find(({from:k,nonce:L})=>k===l.from&&L===l.nonce);if(!I||(p=await z(e,Tt,"getTransactionReceipt")({hash:I.hash}),r>1&&(!p.blockNumber||B-p.blockNumber+1n<r)))return;let T="replaced";I.to===l.to&&I.value===l.value&&I.input===l.input?T="repriced":I.from===I.to&&I.value===0n&&(T="cancelled"),E(()=>{var k;(k=w.onReplaced)==null||k.call(w,{reason:T,replacedTransaction:l,transaction:I,transactionReceipt:p}),w.resolve(p)})}catch(C){E(()=>w.reject(C))}}else E(()=>w.reject(N))}}})}),x}function sl(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:c,pollingInterval:i=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let d;return u?(()=>{const h=he(["watchBlocks",e.uid,t,n,r,f,i]);return Ee(h,{onBlock:s,onError:a},b=>at(async()=>{var m;try{const x=await z(e,oe,"getBlock")({blockTag:t,includeTransactions:f});if(x.number!==null&&(d==null?void 0:d.number)!=null){if(x.number===d.number)return;if(x.number-d.number>1&&n)for(let P=(d==null?void 0:d.number)+1n;P<x.number;P++){const g=await z(e,oe,"getBlock")({blockNumber:P,includeTransactions:f});b.onBlock(g,d),d=g}}((d==null?void 0:d.number)==null||t==="pending"&&(x==null?void 0:x.number)==null||x.number!==null&&x.number>d.number)&&(b.onBlock(x,d),d=x)}catch(x){(m=b.onError)==null||m.call(b,x)}},{emitOnBegin:r,interval:i}))})():(()=>{let h=!0,b=!0,m=()=>h=!1;return(async()=>{try{r&&z(e,oe,"getBlock")({blockTag:t,includeTransactions:f}).then(g=>{h&&b&&(s(g,void 0),b=!1)}).catch(a);const x=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:P}=await x.subscribe({params:["newHeads"],async onData(g){var w;if(!h)return;const y=await z(e,oe,"getBlock")({blockNumber:(w=g.result)==null?void 0:w.number,includeTransactions:f}).catch(()=>{});h&&(s(y,d),b=!1,d=y)},onError(g){a==null||a(g)}});m=P,h||m()}catch(x){a==null||a(x)}})(),()=>m()})()}function al(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:c,onLogs:i,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=d??!1;return l?(()=>{const m=he(["watchEvent",t,n,r,e.uid,s,f,o]);return Ee(m,{onLogs:i,onError:c},x=>{let P;o!==void 0&&(P=o-1n);let g,y=!1;const w=at(async()=>{var A;if(!y){try{g=await z(e,Ga,"createEventFilter")({address:t,args:n,event:s,events:a,strict:p,fromBlock:o})}catch{}y=!0;return}try{let E;if(g)E=await z(e,Kt,"getFilterChanges")({filter:g});else{const B=await z(e,Bt,"getBlockNumber")({});P&&P!==B?E=await z(e,fr,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:P+1n,toBlock:B}):E=[],P=B}if(E.length===0)return;if(r)x.onLogs(E);else for(const B of E)x.onLogs([B])}catch(E){g&&E instanceof er&&(y=!1),(A=x.onError)==null||A.call(x,E)}},{emitOnBegin:!0,interval:f});return async()=>{g&&await z(e,Yt,"uninstallFilter")({filter:g}),w()}})})():(()=>{let m=!0,x=()=>m=!1;return(async()=>{try{const P=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),g=a??(s?[s]:void 0);let y=[];g&&(y=[g.flatMap(E=>Et({abi:[E],eventName:E.name,args:n}))],s&&(y=y[0]));const{unsubscribe:w}=await P.subscribe({params:["logs",{address:t,topics:y}],onData(A){var B;if(!m)return;const E=A.result;try{const{eventName:N,args:C}=cr({abi:g??[],data:E.data,topics:E.topics,strict:p}),I=Se(E,{args:C,eventName:N});i([I])}catch(N){let C,I;if(N instanceof bt||N instanceof Ut){if(d)return;C=N.abiItem.name,I=(B=N.abiItem.inputs)==null?void 0:B.some(k=>!("name"in k&&k.name))}const T=Se(E,{args:I?[]:{},eventName:C});i([T])}},onError(A){c==null||c(A)}});x=w,m||x()}catch(P){c==null||c(P)}})(),()=>x()})()}function ol(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=he(["watchPendingTransactions",e.uid,t,a]);return Ee(u,{onTransactions:r,onError:n},f=>{let d;const l=at(async()=>{var p;try{if(!d)try{d=await z(e,Da,"createPendingTransactionFilter")({});return}catch(b){throw l(),b}const h=await z(e,Kt,"getFilterChanges")({filter:d});if(h.length===0)return;if(t)f.onTransactions(h);else for(const b of h)f.onTransactions([b])}catch(h){(p=f.onError)==null||p.call(f,h)}},{emitOnBegin:!0,interval:a});return async()=>{d&&await z(e,Yt,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const p=l.result;r([p])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function il(e){var d,l,p;const{scheme:t,statement:n,...r}=((d=e.match(cl))==null?void 0:d.groups)??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:c,requestId:i,...u}=((l=e.match(ul))==null?void 0:l.groups)??{},f=(p=e.split("Resources:")[1])==null?void 0:p.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...i?{requestId:i}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const cl=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ul=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function fl(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Oe(r.address,{strict:!1})||t&&!Vt(r.address,t))return!1}catch{return!1}return!0}async function dl(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:c,time:i=new Date,...u}=t,f=il(s);if(!f.address||!fl({address:n,domain:r,message:f,nonce:a,scheme:o,time:i}))return!1;const l=Js(s);return nn(e,{address:f.address,hash:l,signature:c,...u})}async function ll(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var c,i,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,M(r)]:[t]},{retryCount:0}),o=(((u=(i=(c=e.chain)==null?void 0:c.formatters)==null?void 0:i.transactionReceipt)==null?void 0:u.format)||Us)(s);if(o.status==="reverted"&&n)throw new ui({receipt:o});return o}function bl(e){return{call:t=>Wt(e,t),createAccessList:t=>Ua(e,t),createBlockFilter:()=>fu(e),createContractEventFilter:t=>ca(e,t),createEventFilter:t=>Ga(e,t),createPendingTransactionFilter:()=>Da(e),estimateContractGas:t=>D0(e,t),estimateGas:t=>ir(e,t),getBalance:t=>du(e,t),getBlobBaseFee:()=>lu(e),getBlock:t=>oe(e,t),getBlockNumber:t=>Bt(e,t),getBlockTransactionCount:t=>bu(e,t),getBytecode:t=>Mn(e,t),getChainId:()=>or(e),getCode:t=>Mn(e,t),getContractEvents:t=>xa(e,t),getEip712Domain:t=>hu(e,t),getEnsAddress:t=>Wc(e,t),getEnsAvatar:t=>iu(e,t),getEnsName:t=>cu(e,t),getEnsResolver:t=>uu(e,t),getEnsText:t=>La(e,t),getFeeHistory:t=>gu(e,t),estimateFeesPerGas:t=>L0(e,t),getFilterChanges:t=>Kt(e,t),getFilterLogs:t=>wu(e,t),getGasPrice:()=>ar(e),getLogs:t=>fr(e,t),getProof:t=>ad(e,t),estimateMaxPriorityFeePerGas:t=>j0(e,t),fillTransaction:t=>wa(e,t),getStorageAt:t=>od(e,t),getTransaction:t=>Br(e,t),getTransactionConfirmations:t=>id(e,t),getTransactionCount:t=>ga(e,t),getTransactionReceipt:t=>Tt(e,t),multicall:t=>cd(e,t),prepareTransactionRequest:t=>va(e,t),readContract:t=>de(e,t),sendRawTransaction:t=>Oc(e,t),sendRawTransactionSync:t=>ll(e,t),simulate:t=>qn(e,t),simulateBlocks:t=>qn(e,t),simulateCalls:t=>gd(e,t),simulateContract:t=>Sc(e,t),verifyHash:t=>nn(e,t),verifyMessage:t=>tl(e,t),verifySiweMessage:t=>dl(e,t),verifyTypedData:t=>nl(e,t),uninstallFilter:t=>Yt(e,t),waitForTransactionReceipt:t=>rl(e,t),watchBlocks:t=>sl(e,t),watchBlockNumber:t=>Co(e,t),watchContractEvent:t=>Fc(e,t),watchEvent:t=>al(e,t),watchPendingTransactions:t=>ol(e,t)}}function Ol(e){const{key:t="public",name:n="Public Client"}=e;return Uc({...e,key:t,name:n,type:"publicClient"}).extend(bl)}function zl(e){const{r:t,s:n}=Tr.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:M(t,{size:32}),s:M(n,{size:32}),v:s,yParity:a}:{r:M(t,{size:32}),s:M(n,{size:32}),yParity:a}}export{yr as $,Wt as A,Zi as B,S0 as C,Di as D,Gi as E,Li as F,Wi as G,nt as H,qi as I,Vi as J,_i as K,bl as L,yd as M,be as N,Fa as O,xc as P,Ec as Q,ya as R,Ui as S,zc as T,Hi as U,da as V,Lc as W,I0 as X,Dt as Y,ft as Z,Yc as _,or as a,C0 as a0,ha as a1,sr as a2,_0 as a3,f0 as a4,$0 as a5,A0 as a6,cr as a7,Ge as a8,br as a9,is as aa,Et as ab,Dc as ac,ur as ad,st as ae,b0 as af,p0 as ag,ve as ah,h0 as ai,Zc as aj,zn as ak,et as al,$t as am,O0 as an,Rc as ao,ba as ap,T0 as aq,Jd as ar,rt as as,ga as b,Rl as c,Mn as d,ia as e,P0 as f,z as g,Cn as h,Vt as i,la as j,L0 as k,rr as l,at as m,Uc as n,Ee as o,ee as p,Ol as q,de as r,Fl as s,Gc as t,zl as u,Tl as v,Nl as w,Pt as x,Jt as y,qc as z};
